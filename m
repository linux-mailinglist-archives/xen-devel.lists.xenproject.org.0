Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 13AF07A9FB
	for <lists+xen-devel@lfdr.de>; Tue, 30 Jul 2019 15:46:34 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hsSQb-0005B9-9W; Tue, 30 Jul 2019 13:44:33 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=3sDM=V3=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1hsSQa-0005Aj-BE
 for xen-devel@lists.xenproject.org; Tue, 30 Jul 2019 13:44:32 +0000
X-Inumbo-ID: 274f9134-b2d0-11e9-9961-0f38817ea0bf
Received: from esa6.hc3370-68.iphmx.com (unknown [216.71.155.175])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 274f9134-b2d0-11e9-9961-0f38817ea0bf;
 Tue, 30 Jul 2019 13:44:29 +0000 (UTC)
Authentication-Results: esa6.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa6.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: m65FSathCzFJlIV2TmlHX4Spm1Y6hO1I61K3c6iUiSd0q15y0CEwbVPBHIJA4/ksLTx4car/fy
 VzimEtzkVLhqDt3rpBbD0De6taXi2LG7whVaDwRdWaXUCSAhOzmG9US4erp/0ERFSgF8RRH/cF
 B1S/ssZ2zYA8TWCBZgqATFvOYMk2fUxkvJ5BJX2qsjNZGtNWPQMqvSpu+zVMfdfhOjKyAkpS+p
 YsHw28Zg2E1FlE0n+WCxgsWsZvuAMNzmZQohT2pPBmXhj+Z/DSDkh8vwznYU03VQH0KRvtXis6
 4LE=
X-SBRS: 2.7
X-MesageID: 3740567
X-Ironport-Server: esa6.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,326,1559534400"; 
   d="scan'208";a="3740567"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Tue, 30 Jul 2019 14:44:16 +0100
Message-ID: <20190730134419.2739-4-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190730134419.2739-1-paul.durrant@citrix.com>
References: <20190730134419.2739-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 3/6] remove late (on-demand) construction of
 IOMMU page tables
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Pircalabu <ppircalabu@bitdefender.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Razvan Cojocaru <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Paul Durrant <paul.durrant@citrix.com>,
 Tamas K Lengyel <tamas@tklengyel.com>, Jan Beulich <jbeulich@suse.com>,
 Alexandru Isaila <aisaila@bitdefender.com>, Volodymyr
 Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Tm93IHRoYXQgdGhlcmUgaXMgYSBwZXItZG9tYWluIElPTU1VIGVuYWJsZSBmbGFnLCB3aGljaCBz
aG91bGQgYmUgZW5hYmxlZCBpZgphbnkgZGV2aWNlIGlzIGdvaW5nIHRvIGJlIHBhc3NlZCB0aHJv
dWdoLCBzdG9wIGRlZmVycmluZyBwYWdlIHRhYmxlCmNvbnN0cnVjdGlvbiB1bnRpbCB0aGUgYXNz
aWdubWVudCBpcyBkb25lLiBBbHNvIGRvbid0IHRlYXIgZG93biB0aGUgdGFibGVzCmFnYWluIHdo
ZW4gdGhlIGxhc3QgZGV2aWNlIGlzIGRlLWFzc2lnbmVkOyBkZWZlciB0aGF0IHRhc2sgdW50aWwg
ZG9tYWluCmRlc3RydWN0aW9uLgoKVGhpcyBhbGxvd3MgdGhlIGhhc19pb21tdV9wdCgpIGhlbHBl
ciBhbmQgaW9tbXVfc3RhdHVzIGVudW1lcmF0aW9uIHRvIGJlCnJlbW92ZWQuIENhbGxzIHRvIGhh
c19pb21tdV9wdCgpIGFyZSBzaW1wbHkgcmVwbGFjZWQgYnkgY2FsbHMgdG8KaXNfaW9tbXVfZW5h
YmxlZCgpLiBSZW1haW5pbmcgb3Blbi1jb2RlIHRlc3RzIG9mIGlvbW11X2hhcF9wdF9zaGFyZSBj
YW4gYWxzbwpiZSByZXBsYWNlZCBieSBjYWxscyB0byBpb21tdV91c2VfaGFwX3B0KCkuClRoZSBh
cmNoX2lvbW11X3BvcHVsYXRlX3BhZ2VfdGFibGUoKSBhbmQgaW9tbXVfY29uc3RydWN0KCkgZnVu
Y3Rpb25zIGJlY29tZQpyZWR1bmRhbnQsIGFzIGRvZXMgdGhlICdzdHJpY3QgbW9kZScgZG9tMCBw
YWdlX2xpc3QgbWFwcGluZyBjb2RlIGluCmlvbW11X2h3ZG9tX2luaXQoKSwgYW5kIGlvbW11X3Rl
YXJkb3duKCkgY2FuIGJlIG1hZGUgc3RhdGljIGlzIGl0cyBvbmx5CnJlbWFpbmluZyBjYWxsZXIs
IGlvbW11X2RvbWFpbl9kZXN0cm95KCksIGlzIHdpdGhpbiB0aGUgc2FtZSBzb3VyY2UKbW9kdWxl
LgoKQWxsIGluIGFsbCwgYWJvdXQgMjIwIGxpbmVzIG9mIGNvZGUgYXJlIHJtZW92ZWQuCgpOT1RF
OiBUaGlzIHBhdGNoIHdpbGwgY2F1c2UgYSBzbWFsbCBhbW91bnQgb2YgZXh0cmEgcmVzb3VyY2Ug
dG8gYmUgdXNlZAogICAgICB0byBhY2NvbW1vZGF0ZSBJT01NVSBwYWdlIHRhYmxlcyB0aGF0IG1h
eSBuZXZlciBiZSB1c2VkLCBzaW5jZSB0aGUKICAgICAgcGVyLWRvbWFpbiBJT01NVSBmbGFnIGVu
YWJsZSBmbGFnIGlzIGN1cnJlbnRseSBzZXQgdG8gdGhlIHZhbHVlCiAgICAgIG9mIHRoZSBnbG9i
YWwgaW9tbXVfZW5hYmxlIGZsYWcuIEEgc3Vic2VxdWVudCBwYXRjaCB3aWxsIGFkZCBhbgogICAg
ICBvcHRpb24gdG8gdGhlIHRvb2xzdGFjayB0byBhbGxvdyBpdCB0byBiZSB0dXJuZWQgb2ZmIGlm
IHRoZXJlIGlzCiAgICAgIG5vIGludGVudGlvbiB0byBhc3NpZ24gcGFzc3Rocm91Z2ggaGFyZHdh
cmUgdG8gdGhlIGRvbWFpbi4KClNpZ25lZC1vZmYtYnk6IFBhdWwgRHVycmFudCA8cGF1bC5kdXJy
YW50QGNpdHJpeC5jb20+Ci0tLQpDYzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBr
ZXJuZWwub3JnPgpDYzogSnVsaWVuIEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KQ2M6IFZv
bG9keW15ciBCYWJjaHVrIDxWb2xvZHlteXJfQmFiY2h1a0BlcGFtLmNvbT4KQ2M6IEFuZHJldyBD
b29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+CkNjOiBHZW9yZ2UgRHVubGFwIDxHZW9y
Z2UuRHVubGFwQGV1LmNpdHJpeC5jb20+CkNjOiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUu
Y2l0cml4LmNvbT4KQ2M6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4KQ2M6IEtvbnJh
ZCBSemVzenV0ZWsgV2lsayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4KQ2M6IFRpbSBEZWVnYW4g
PHRpbUB4ZW4ub3JnPgpDYzogV2VpIExpdSA8d2xAeGVuLm9yZz4KQ2M6ICJSb2dlciBQYXUgTW9u
bsOpIiA8cm9nZXIucGF1QGNpdHJpeC5jb20+CkNjOiBUYW1hcyBLIExlbmd5ZWwgPHRhbWFzQHRr
bGVuZ3llbC5jb20+CkNjOiBHZW9yZ2UgRHVubGFwIDxnZW9yZ2UuZHVubGFwQGV1LmNpdHJpeC5j
b20+CkNjOiBSYXp2YW4gQ29qb2NhcnUgPHJjb2pvY2FydUBiaXRkZWZlbmRlci5jb20+CkNjOiBB
bGV4YW5kcnUgSXNhaWxhIDxhaXNhaWxhQGJpdGRlZmVuZGVyLmNvbT4KQ2M6IFBldHJlIFBpcmNh
bGFidSA8cHBpcmNhbGFidUBiaXRkZWZlbmRlci5jb20+Ci0tLQogeGVuL2FyY2gvYXJtL3AybS5j
ICAgICAgICAgICAgICAgICAgICB8ICAgMiArLQogeGVuL2FyY2gveDg2L2RvbTBfYnVpbGQuYyAg
ICAgICAgICAgICB8ICAgMiArLQogeGVuL2FyY2gveDg2L2h2bS9tdHJyLmMgICAgICAgICAgICAg
ICB8ICAgNSArLQogeGVuL2FyY2gveDg2L21tL21lbV9zaGFyaW5nLmMgICAgICAgICB8ICAgMiAr
LQogeGVuL2FyY2gveDg2L21tL3BhZ2luZy5jICAgICAgICAgICAgICB8ICAgMiArLQogeGVuL2Fy
Y2gveDg2L3g4Nl82NC9tbS5jICAgICAgICAgICAgICB8ICAgMiArLQogeGVuL2NvbW1vbi9tZW1v
cnkuYyAgICAgICAgICAgICAgICAgICB8ICAgNCArLQogeGVuL2NvbW1vbi92bV9ldmVudC5jICAg
ICAgICAgICAgICAgICB8ICAgMiArLQogeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvZGV2aWNlX3Ry
ZWUuYyB8ICAxMSAtLS0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMgICAgICAgfCAx
MzQgKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Bj
aS5jICAgICAgICAgfCAgMTIgLS0tCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUu
YyAgIHwgIDEwICstCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC94ODYvaW9tbXUuYyAgIHwgIDk1
IC0tLS0tLS0tLS0tLS0tLS0tLQogeGVuL2luY2x1ZGUvYXNtLWFybS9pb21tdS5oICAgICAgICAg
ICB8ICAgMiArLQogeGVuL2luY2x1ZGUvYXNtLXg4Ni9pb21tdS5oICAgICAgICAgICB8ICAgMiAr
LQogeGVuL2luY2x1ZGUveGVuL2lvbW11LmggICAgICAgICAgICAgICB8ICAxNiAtLS0KIHhlbi9p
bmNsdWRlL3hlbi9zY2hlZC5oICAgICAgICAgICAgICAgfCAgIDIgLQogMTcgZmlsZXMgY2hhbmdl
ZCwgNDIgaW5zZXJ0aW9ucygrKSwgMjYzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL2FybS9wMm0uYyBiL3hlbi9hcmNoL2FybS9wMm0uYwppbmRleCBjNWNlYTI1Y2FhLi5iMDkx
YzY0ZTFlIDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vcDJtLmMKKysrIGIveGVuL2FyY2gvYXJt
L3AybS5jCkBAIC0xMDU2LDcgKzEwNTYsNyBAQCBzdGF0aWMgaW50IF9fcDJtX3NldF9lbnRyeShz
dHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLAogICAgICAgICAgIW1mbl9lcShscGFlX2dldF9tZm4oKmVu
dHJ5KSwgbHBhZV9nZXRfbWZuKG9yaWdfcHRlKSkgKQogICAgICAgICBwMm1fZnJlZV9lbnRyeShw
Mm0sIG9yaWdfcHRlLCBsZXZlbCk7CiAKLSAgICBpZiAoIGhhc19pb21tdV9wdChwMm0tPmRvbWFp
bikgJiYKKyAgICBpZiAoIGlzX2lvbW11X2VuYWJsZWQocDJtLT5kb21haW4pICYmCiAgICAgICAg
ICAobHBhZV9pc192YWxpZChvcmlnX3B0ZSkgfHwgbHBhZV9pc192YWxpZCgqZW50cnkpKSApCiAg
ICAgewogICAgICAgICB1bnNpZ25lZCBpbnQgZmx1c2hfZmxhZ3MgPSAwOwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L2RvbTBfYnVpbGQuYyBiL3hlbi9hcmNoL3g4Ni9kb20wX2J1aWxkLmMKaW5k
ZXggZDM4MTc4NGVkZC4uN2NmYWIyZGMyNSAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2RvbTBf
YnVpbGQuYworKysgYi94ZW4vYXJjaC94ODYvZG9tMF9idWlsZC5jCkBAIC0zNjUsNyArMzY1LDcg
QEAgdW5zaWduZWQgbG9uZyBfX2luaXQgZG9tMF9jb21wdXRlX25yX3BhZ2VzKAogICAgIH0KIAog
ICAgIG5lZWRfcGFnaW5nID0gaXNfaHZtX2RvbWFpbihkKSAmJgotICAgICAgICAoIWlvbW11X2hh
cF9wdF9zaGFyZSB8fCAhcGFnaW5nX21vZGVfaGFwKGQpKTsKKyAgICAgICAgKCFpb21tdV91c2Vf
aGFwX3B0KGQpIHx8ICFwYWdpbmdfbW9kZV9oYXAoZCkpOwogICAgIGZvciAoIDsgOyBuZWVkX3Bh
Z2luZyA9IGZhbHNlICkKICAgICB7CiAgICAgICAgIG5yX3BhZ2VzID0gZ2V0X21lbXNpemUoJmRv
bTBfc2l6ZSwgYXZhaWwpOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9tdHJyLmMgYi94
ZW4vYXJjaC94ODYvaHZtL210cnIuYwppbmRleCA3Y2NkODViY2VhLi44MjliMDg5ZTc5IDEwMDY0
NAotLS0gYS94ZW4vYXJjaC94ODYvaHZtL210cnIuYworKysgYi94ZW4vYXJjaC94ODYvaHZtL210
cnIuYwpAQCAtNzgzLDcgKzc4Myw4IEBAIEhWTV9SRUdJU1RFUl9TQVZFX1JFU1RPUkUoTVRSUiwg
aHZtX3NhdmVfbXRycl9tc3IsIGh2bV9sb2FkX210cnJfbXNyLCAxLAogCiB2b2lkIG1lbW9yeV90
eXBlX2NoYW5nZWQoc3RydWN0IGRvbWFpbiAqZCkKIHsKLSAgICBpZiAoIChoYXNfaW9tbXVfcHQo
ZCkgfHwgY2FjaGVfZmx1c2hfcGVybWl0dGVkKGQpKSAmJiBkLT52Y3B1ICYmIGQtPnZjcHVbMF0g
KQorICAgIGlmICggKGlzX2lvbW11X2VuYWJsZWQoZCkgfHwgY2FjaGVfZmx1c2hfcGVybWl0dGVk
KGQpKSAmJiBkLT52Y3B1ICYmCisgICAgICAgICBkLT52Y3B1WzBdICkKICAgICB7CiAgICAgICAg
IHAybV9tZW1vcnlfdHlwZV9jaGFuZ2VkKGQpOwogICAgICAgICBmbHVzaF9hbGwoRkxVU0hfQ0FD
SEUpOwpAQCAtODMxLDcgKzgzMiw3IEBAIGludCBlcHRlX2dldF9lbnRyeV9lbXQoc3RydWN0IGRv
bWFpbiAqZCwgdW5zaWduZWQgbG9uZyBnZm4sIG1mbl90IG1mbiwKICAgICAgICAgcmV0dXJuIE1U
UlJfVFlQRV9VTkNBQ0hBQkxFOwogICAgIH0KIAotICAgIGlmICggIWhhc19pb21tdV9wdChkKSAm
JiAhY2FjaGVfZmx1c2hfcGVybWl0dGVkKGQpICkKKyAgICBpZiAoICFpc19pb21tdV9lbmFibGVk
KGQpICYmICFjYWNoZV9mbHVzaF9wZXJtaXR0ZWQoZCkgKQogICAgIHsKICAgICAgICAgKmlwYXQg
PSAxOwogICAgICAgICByZXR1cm4gTVRSUl9UWVBFX1dSQkFDSzsKZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL3g4Ni9tbS9tZW1fc2hhcmluZy5jIGIveGVuL2FyY2gveDg2L21tL21lbV9zaGFyaW5nLmMK
aW5kZXggYTVmZTg5ZTMzOS4uZWZiODgyMTc2OCAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L21t
L21lbV9zaGFyaW5nLmMKKysrIGIveGVuL2FyY2gveDg2L21tL21lbV9zaGFyaW5nLmMKQEAgLTE2
NjQsNyArMTY2NCw3IEBAIGludCBtZW1fc2hhcmluZ19kb21jdGwoc3RydWN0IGRvbWFpbiAqZCwg
c3RydWN0IHhlbl9kb21jdGxfbWVtX3NoYXJpbmdfb3AgKm1lYykKICAgICAgICAgY2FzZSBYRU5f
RE9NQ1RMX01FTV9TSEFSSU5HX0NPTlRST0w6CiAgICAgICAgIHsKICAgICAgICAgICAgIHJjID0g
MDsKLSAgICAgICAgICAgIGlmICggdW5saWtlbHkoaGFzX2lvbW11X3B0KGQpICYmIG1lYy0+dS5l
bmFibGUpICkKKyAgICAgICAgICAgIGlmICggdW5saWtlbHkoaXNfaW9tbXVfZW5hYmxlZChkKSAm
JiBtZWMtPnUuZW5hYmxlKSApCiAgICAgICAgICAgICAgICAgcmMgPSAtRVhERVY7CiAgICAgICAg
ICAgICBlbHNlCiAgICAgICAgICAgICAgICAgZC0+YXJjaC5odm0ubWVtX3NoYXJpbmdfZW5hYmxl
ZCA9IG1lYy0+dS5lbmFibGU7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvbW0vcGFnaW5nLmMg
Yi94ZW4vYXJjaC94ODYvbW0vcGFnaW5nLmMKaW5kZXggNjlhYTIyOGU0Ni4uZDlhNTJjNGRiNCAx
MDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L21tL3BhZ2luZy5jCisrKyBiL3hlbi9hcmNoL3g4Ni9t
bS9wYWdpbmcuYwpAQCAtMjEzLDcgKzIxMyw3IEBAIGludCBwYWdpbmdfbG9nX2RpcnR5X2VuYWJs
ZShzdHJ1Y3QgZG9tYWluICpkLCBib29sX3QgbG9nX2dsb2JhbCkKIHsKICAgICBpbnQgcmV0Owog
Ci0gICAgaWYgKCBoYXNfaW9tbXVfcHQoZCkgJiYgbG9nX2dsb2JhbCApCisgICAgaWYgKCBpc19p
b21tdV9lbmFibGVkKGQpICYmIGxvZ19nbG9iYWwgKQogICAgIHsKICAgICAgICAgLyoKICAgICAg
ICAgICogUmVmdXNlIHRvIHR1cm4gb24gZ2xvYmFsIGxvZy1kaXJ0eSBtb2RlCmRpZmYgLS1naXQg
YS94ZW4vYXJjaC94ODYveDg2XzY0L21tLmMgYi94ZW4vYXJjaC94ODYveDg2XzY0L21tLmMKaW5k
ZXggMTkxOWNhZTE4Yi4uODI3YjNmNWUyNyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3g4Nl82
NC9tbS5jCisrKyBiL3hlbi9hcmNoL3g4Ni94ODZfNjQvbW0uYwpAQCAtMTQzMyw3ICsxNDMzLDcg
QEAgaW50IG1lbW9yeV9hZGQodW5zaWduZWQgbG9uZyBzcGZuLCB1bnNpZ25lZCBsb25nIGVwZm4s
IHVuc2lnbmVkIGludCBweG0pCiAgICAgICogc2hhcmVkIG9yIGJlaW5nIGtlcHQgaW4gc3luYyB0
aGVuIG5ld2x5IGFkZGVkIG1lbW9yeSBuZWVkcyB0byBiZQogICAgICAqIG1hcHBlZCBoZXJlLgog
ICAgICAqLwotICAgIGlmICggaGFzX2lvbW11X3B0KGhhcmR3YXJlX2RvbWFpbikgJiYKKyAgICBp
ZiAoIGlzX2lvbW11X2VuYWJsZWQoaGFyZHdhcmVfZG9tYWluKSAmJgogICAgICAgICAgIWlvbW11
X3VzZV9oYXBfcHQoaGFyZHdhcmVfZG9tYWluKSAmJgogICAgICAgICAgIW5lZWRfaW9tbXVfcHRf
c3luYyhoYXJkd2FyZV9kb21haW4pICkKICAgICB7CmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL21l
bW9yeS5jIGIveGVuL2NvbW1vbi9tZW1vcnkuYwppbmRleCBkOWIzNWE2MDhjLi43MTQ0NWMyZjUz
IDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL21lbW9yeS5jCisrKyBiL3hlbi9jb21tb24vbWVtb3J5
LmMKQEAgLTgyMyw3ICs4MjMsNyBAQCBpbnQgeGVubWVtX2FkZF90b19waHlzbWFwKHN0cnVjdCBk
b21haW4gKmQsIHN0cnVjdCB4ZW5fYWRkX3RvX3BoeXNtYXAgKnhhdHAsCiAgICAgeGF0cC0+Z3Bm
biArPSBzdGFydDsKICAgICB4YXRwLT5zaXplIC09IHN0YXJ0OwogCi0gICAgaWYgKCBoYXNfaW9t
bXVfcHQoZCkgKQorICAgIGlmICggaXNfaW9tbXVfZW5hYmxlZChkKSApCiAgICAgICAgdGhpc19j
cHUoaW9tbXVfZG9udF9mbHVzaF9pb3RsYikgPSAxOwogCiAgICAgd2hpbGUgKCB4YXRwLT5zaXpl
ID4gZG9uZSApCkBAIC04NDQsNyArODQ0LDcgQEAgaW50IHhlbm1lbV9hZGRfdG9fcGh5c21hcChz
dHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2FkZF90b19waHlzbWFwICp4YXRwLAogICAgICAg
ICB9CiAgICAgfQogCi0gICAgaWYgKCBoYXNfaW9tbXVfcHQoZCkgKQorICAgIGlmICggaXNfaW9t
bXVfZW5hYmxlZChkKSApCiAgICAgewogICAgICAgICBpbnQgcmV0OwogCmRpZmYgLS1naXQgYS94
ZW4vY29tbW9uL3ZtX2V2ZW50LmMgYi94ZW4vY29tbW9uL3ZtX2V2ZW50LmMKaW5kZXggMmExYzg3
ZTQ0Yi4uM2IxODE5NWViZiAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi92bV9ldmVudC5jCisrKyBi
L3hlbi9jb21tb24vdm1fZXZlbnQuYwpAQCAtNjMwLDcgKzYzMCw3IEBAIGludCB2bV9ldmVudF9k
b21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9kb21jdGxfdm1fZXZlbnRfb3AgKnZl
YykKIAogICAgICAgICAgICAgLyogTm8gcGFnaW5nIGlmIGlvbW11IGlzIHVzZWQgKi8KICAgICAg
ICAgICAgIHJjID0gLUVNTElOSzsKLSAgICAgICAgICAgIGlmICggdW5saWtlbHkoaGFzX2lvbW11
X3B0KGQpKSApCisgICAgICAgICAgICBpZiAoIHVubGlrZWx5KGlzX2lvbW11X2VuYWJsZWQoZCkp
ICkKICAgICAgICAgICAgICAgICBicmVhazsKIAogICAgICAgICAgICAgcmMgPSAtRVhERVY7CmRp
ZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9kZXZpY2VfdHJlZS5jIGIveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvZGV2aWNlX3RyZWUuYwppbmRleCAxMmYyYzRjM2YyLi5lYTlmZDU0
ZTNiIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9kZXZpY2VfdHJlZS5jCisr
KyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2RldmljZV90cmVlLmMKQEAgLTQwLDE3ICs0MCw2
IEBAIGludCBpb21tdV9hc3NpZ25fZHRfZGV2aWNlKHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCBk
dF9kZXZpY2Vfbm9kZSAqZGV2KQogICAgIGlmICggIWxpc3RfZW1wdHkoJmRldi0+ZG9tYWluX2xp
c3QpICkKICAgICAgICAgZ290byBmYWlsOwogCi0gICAgLyoKLSAgICAgKiBUaGUgaHdkb20gaXMg
Zm9yY2VkIHRvIHVzZSBJT01NVSBmb3IgcHJvdGVjdGluZyBhc3NpZ25lZAotICAgICAqIGRldmlj
ZS4gVGhlcmVmb3JlIHRoZSBJT01NVSBkYXRhIGlzIGFscmVhZHkgc2V0IHVwLgotICAgICAqLwot
ICAgIEFTU0VSVCghaXNfaGFyZHdhcmVfZG9tYWluKGQpIHx8Ci0gICAgICAgICAgIGhkLT5zdGF0
dXMgPT0gSU9NTVVfU1RBVFVTX2luaXRpYWxpemVkKTsKLQotICAgIHJjID0gaW9tbXVfY29uc3Ry
dWN0KGQpOwotICAgIGlmICggcmMgKQotICAgICAgICBnb3RvIGZhaWw7Ci0KICAgICAvKiBUaGUg
ZmxhZyBmaWVsZCBkb2Vzbid0IG1hdHRlciB0byBEVCBkZXZpY2UuICovCiAgICAgcmMgPSBoZC0+
cGxhdGZvcm1fb3BzLT5hc3NpZ25fZGV2aWNlKGQsIDAsIGR0X3RvX2RldihkZXYpLCAwKTsKIApk
aWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL2lvbW11LmMKaW5kZXggZDAyMDBkODJmMC4uMzA5NzZiNDQwNiAxMDA2NDQK
LS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9pb21tdS5jCkBAIC0xNDYsNiArMTQ2LDE3IEBAIHN0YXRpYyBpbnQgX19pbml0
IHBhcnNlX2RvbTBfaW9tbXVfcGFyYW0oY29uc3QgY2hhciAqcykKIH0KIGN1c3RvbV9wYXJhbSgi
ZG9tMC1pb21tdSIsIHBhcnNlX2RvbTBfaW9tbXVfcGFyYW0pOwogCitzdGF0aWMgdm9pZCBfX2h3
ZG9tX2luaXQgY2hlY2tfaHdkb21fcmVxcyhzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIGlmICgg
aW9tbXVfaHdkb21fbm9uZSB8fCAhcGFnaW5nX21vZGVfdHJhbnNsYXRlKGQpICkKKyAgICAgICAg
cmV0dXJuOworCisgICAgYXJjaF9pb21tdV9jaGVja19hdXRvdHJhbnNsYXRlZF9od2RvbShkKTsK
KworICAgIGlvbW11X2h3ZG9tX3Bhc3N0aHJvdWdoID0gZmFsc2U7CisgICAgaW9tbXVfaHdkb21f
c3RyaWN0ID0gdHJ1ZTsKK30KKwogaW50IGlvbW11X2RvbWFpbl9pbml0KHN0cnVjdCBkb21haW4g
KmQpCiB7CiAgICAgc3RydWN0IGRvbWFpbl9pb21tdSAqaGQgPSBkb21faW9tbXUoZCk7CkBAIC0x
NTksMTI5ICsxNzAsNDQgQEAgaW50IGlvbW11X2RvbWFpbl9pbml0KHN0cnVjdCBkb21haW4gKmQp
CiAgICAgICAgIHJldHVybiByZXQ7CiAKICAgICBoZC0+cGxhdGZvcm1fb3BzID0gaW9tbXVfZ2V0
X29wcygpOwotICAgIHJldHVybiBoZC0+cGxhdGZvcm1fb3BzLT5pbml0KGQpOwotfQorICAgIHJl
dCA9IGhkLT5wbGF0Zm9ybV9vcHMtPmluaXQoZCk7CisgICAgaWYgKCByZXQgKQorICAgICAgICBy
ZXR1cm4gcmV0OwogCi1zdGF0aWMgdm9pZCBfX2h3ZG9tX2luaXQgY2hlY2tfaHdkb21fcmVxcyhz
dHJ1Y3QgZG9tYWluICpkKQotewotICAgIGlmICggaW9tbXVfaHdkb21fbm9uZSB8fCAhcGFnaW5n
X21vZGVfdHJhbnNsYXRlKGQpICkKLSAgICAgICAgcmV0dXJuOworICAgIC8qCisgICAgICogTkI6
ICdyZWxheGVkJyBoL3cgZG9tYWlucyBkb24ndCBuZWVkIHRoZSBJT01NVSBtYXBwaW5ncyB0byBi
ZSBrZXB0CisgICAgICogICAgIGluLXN5bmMgd2l0aCB0aGVpciBhc3NpZ25lZCBwYWdlcyBiZWNh
dXNlIGFsbCBob3N0IFJBTSB3aWxsIGJlCisgICAgICogICAgIG1hcHBlZCBkdXJpbmcgaHdkb21f
aW5pdCgpLgorICAgICAqLworICAgIGlmICggaXNfaGFyZHdhcmVfZG9tYWluKGQpICkKKyAgICAg
ICAgY2hlY2tfaHdkb21fcmVxcyhkKTsgLyogbWF5IG1vZGlmeSBpb21tdV9od2RvbV9zdHJpY3Qg
Ki8KIAotICAgIGFyY2hfaW9tbXVfY2hlY2tfYXV0b3RyYW5zbGF0ZWRfaHdkb20oZCk7CisgICAg
aWYgKCAhaXNfaGFyZHdhcmVfZG9tYWluKGQpIHx8IGlvbW11X2h3ZG9tX3N0cmljdCApCisgICAg
ICAgIGhkLT5uZWVkX3N5bmMgPSAhaW9tbXVfdXNlX2hhcF9wdChkKTsKIAotICAgIGlvbW11X2h3
ZG9tX3Bhc3N0aHJvdWdoID0gZmFsc2U7Ci0gICAgaW9tbXVfaHdkb21fc3RyaWN0ID0gdHJ1ZTsK
KyAgICByZXR1cm4gMDsKIH0KIAogdm9pZCBfX2h3ZG9tX2luaXQgaW9tbXVfaHdkb21faW5pdChz
dHJ1Y3QgZG9tYWluICpkKQogewogICAgIHN0cnVjdCBkb21haW5faW9tbXUgKmhkID0gZG9tX2lv
bW11KGQpOwogCi0gICAgY2hlY2tfaHdkb21fcmVxcyhkKTsKLQogICAgIGlmICggIWlzX2lvbW11
X2VuYWJsZWQoZCkgKQogICAgICAgICByZXR1cm47CiAKICAgICByZWdpc3Rlcl9rZXloYW5kbGVy
KCdvJywgJmlvbW11X2R1bXBfcDJtX3RhYmxlLCAiZHVtcCBpb21tdSBwMm0gdGFibGUiLCAwKTsK
IAotICAgIGhkLT5zdGF0dXMgPSBJT01NVV9TVEFUVVNfaW5pdGlhbGl6aW5nOwotICAgIC8qCi0g
ICAgICogTkI6IHJlbGF4ZWQgaHcgZG9tYWlucyBkb24ndCBuZWVkIHN5bmMgYmVjYXVzZSBhbGwg
cmFtIGlzIGFscmVhZHkKLSAgICAgKiBtYXBwZWQgaW4gdGhlIGlvbW11IHBhZ2UgdGFibGVzLgot
ICAgICAqLwotICAgIGhkLT5uZWVkX3N5bmMgPSBpb21tdV9od2RvbV9zdHJpY3QgJiYgIWlvbW11
X3VzZV9oYXBfcHQoZCk7Ci0gICAgaWYgKCBuZWVkX2lvbW11X3B0X3N5bmMoZCkgKQotICAgIHsK
LSAgICAgICAgc3RydWN0IHBhZ2VfaW5mbyAqcGFnZTsKLSAgICAgICAgdW5zaWduZWQgaW50IGkg
PSAwLCBmbHVzaF9mbGFncyA9IDA7Ci0gICAgICAgIGludCByYyA9IDA7Ci0KLSAgICAgICAgcGFn
ZV9saXN0X2Zvcl9lYWNoICggcGFnZSwgJmQtPnBhZ2VfbGlzdCApCi0gICAgICAgIHsKLSAgICAg
ICAgICAgIHVuc2lnbmVkIGxvbmcgbWZuID0gbWZuX3gocGFnZV90b19tZm4ocGFnZSkpOwotICAg
ICAgICAgICAgdW5zaWduZWQgbG9uZyBkZm4gPSBtZm5fdG9fZ21mbihkLCBtZm4pOwotICAgICAg
ICAgICAgdW5zaWduZWQgaW50IG1hcHBpbmcgPSBJT01NVUZfcmVhZGFibGU7Ci0gICAgICAgICAg
ICBpbnQgcmV0OwotCi0gICAgICAgICAgICBpZiAoICgocGFnZS0+dS5pbnVzZS50eXBlX2luZm8g
JiBQR1RfY291bnRfbWFzaykgPT0gMCkgfHwKLSAgICAgICAgICAgICAgICAgKChwYWdlLT51Lmlu
dXNlLnR5cGVfaW5mbyAmIFBHVF90eXBlX21hc2spCi0gICAgICAgICAgICAgICAgICA9PSBQR1Rf
d3JpdGFibGVfcGFnZSkgKQotICAgICAgICAgICAgICAgIG1hcHBpbmcgfD0gSU9NTVVGX3dyaXRh
YmxlOwotCi0gICAgICAgICAgICByZXQgPSBpb21tdV9tYXAoZCwgX2RmbihkZm4pLCBfbWZuKG1m
biksIDAsIG1hcHBpbmcsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmZsdXNoX2ZsYWdz
KTsKLQotICAgICAgICAgICAgaWYgKCAhcmMgKQotICAgICAgICAgICAgICAgIHJjID0gcmV0Owot
Ci0gICAgICAgICAgICBpZiAoICEoaSsrICYgMHhmZmZmZikgKQotICAgICAgICAgICAgICAgIHBy
b2Nlc3NfcGVuZGluZ19zb2Z0aXJxcygpOwotICAgICAgICB9Ci0KLSAgICAgICAgLyogVXNlIHdo
aWxlLWJyZWFrIHRvIGF2b2lkIGNvbXBpbGVyIHdhcm5pbmcgKi8KLSAgICAgICAgd2hpbGUgKCBp
b21tdV9pb3RsYl9mbHVzaF9hbGwoZCwgZmx1c2hfZmxhZ3MpICkKLSAgICAgICAgICAgIGJyZWFr
OwotCi0gICAgICAgIGlmICggcmMgKQotICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5H
ICJkJWQ6IElPTU1VIG1hcHBpbmcgZmFpbGVkOiAlZFxuIiwKLSAgICAgICAgICAgICAgICAgICBk
LT5kb21haW5faWQsIHJjKTsKLSAgICB9Ci0KICAgICBoZC0+cGxhdGZvcm1fb3BzLT5od2RvbV9p
bml0KGQpOwotCi0gICAgaGQtPnN0YXR1cyA9IElPTU1VX1NUQVRVU19pbml0aWFsaXplZDsKIH0K
IAotdm9pZCBpb21tdV90ZWFyZG93bihzdHJ1Y3QgZG9tYWluICpkKQorc3RhdGljIHZvaWQgaW9t
bXVfdGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKIHsKICAgICBzdHJ1Y3QgZG9tYWluX2lvbW11
ICpoZCA9IGRvbV9pb21tdShkKTsKIAotICAgIGhkLT5zdGF0dXMgPSBJT01NVV9TVEFUVVNfZGlz
YWJsZWQ7CiAgICAgaGQtPnBsYXRmb3JtX29wcy0+dGVhcmRvd24oZCk7CiAgICAgdGFza2xldF9z
Y2hlZHVsZSgmaW9tbXVfcHRfY2xlYW51cF90YXNrbGV0KTsKIH0KIAotaW50IGlvbW11X2NvbnN0
cnVjdChzdHJ1Y3QgZG9tYWluICpkKQotewotICAgIHN0cnVjdCBkb21haW5faW9tbXUgKmhkID0g
ZG9tX2lvbW11KGQpOwotCi0gICAgaWYgKCBoZC0+c3RhdHVzID09IElPTU1VX1NUQVRVU19pbml0
aWFsaXplZCApCi0gICAgICAgIHJldHVybiAwOwotCi0gICAgaGQtPnN0YXR1cyA9IElPTU1VX1NU
QVRVU19pbml0aWFsaXppbmc7Ci0KLSAgICBpZiAoICFpb21tdV91c2VfaGFwX3B0KGQpICkKLSAg
ICB7Ci0gICAgICAgIGludCByYzsKLQotICAgICAgICBoZC0+bmVlZF9zeW5jID0gdHJ1ZTsKLQot
ICAgICAgICByYyA9IGFyY2hfaW9tbXVfcG9wdWxhdGVfcGFnZV90YWJsZShkKTsKLSAgICAgICAg
aWYgKCByYyApCi0gICAgICAgIHsKLSAgICAgICAgICAgIGlmICggcmMgIT0gLUVSRVNUQVJUICkK
LSAgICAgICAgICAgIHsKLSAgICAgICAgICAgICAgICBoZC0+bmVlZF9zeW5jID0gZmFsc2U7Ci0g
ICAgICAgICAgICAgICAgaGQtPnN0YXR1cyA9IElPTU1VX1NUQVRVU19kaXNhYmxlZDsKLSAgICAg
ICAgICAgIH0KLQotICAgICAgICAgICAgcmV0dXJuIHJjOwotICAgICAgICB9Ci0gICAgfQotCi0g
ICAgaGQtPnN0YXR1cyA9IElPTU1VX1NUQVRVU19pbml0aWFsaXplZDsKLQotICAgIC8qCi0gICAg
ICogVGhlcmUgbWF5IGJlIGRpcnR5IGNhY2hlIGxpbmVzIHdoZW4gYSBkZXZpY2UgaXMgYXNzaWdu
ZWQKLSAgICAgKiBhbmQgYmVmb3JlIGhhc19pb21tdV9wdChkKSBiZWNvbWluZyB0cnVlLCB0aGlz
IHdpbGwgY2F1c2UKLSAgICAgKiBtZW1vcnlfdHlwZV9jaGFuZ2VkIGxvc2UgZWZmZWN0IGlmIG1l
bW9yeSB0eXBlIGNoYW5nZXMuCi0gICAgICogQ2FsbCBtZW1vcnlfdHlwZV9jaGFuZ2VkIGhlcmUg
dG8gYW1lbmQgdGhpcy4KLSAgICAgKi8KLSAgICBtZW1vcnlfdHlwZV9jaGFuZ2VkKGQpOwotCi0g
ICAgcmV0dXJuIDA7Ci19Ci0KIHZvaWQgaW9tbXVfZG9tYWluX2Rlc3Ryb3koc3RydWN0IGRvbWFp
biAqZCkKIHsKICAgICBpZiAoICFpc19pb21tdV9lbmFibGVkKGQpICkKQEAgLTU3NCwxMSArNTAw
LDggQEAgaW50IGlvbW11X2RvX2RvbWN0bCgKIHZvaWQgaW9tbXVfc2hhcmVfcDJtX3RhYmxlKHN0
cnVjdCBkb21haW4qIGQpCiB7CiAgICAgQVNTRVJUKGhhcF9lbmFibGVkKGQpKTsKLSAgICAvKgot
ICAgICAqIGlvbW11X3VzZV9oYXBfcHQoZCkgY2Fubm90IGJlIHVzZWQgaGVyZSBiZWNhdXNlIGR1
cmluZyBkb21haW4KLSAgICAgKiBjb25zdHJ1Y3Rpb24gaGFzX2lvbW11X3B0KGQpIHdpbGwgYWx3
YXlzIHJldHVybiBmYWxzZSBoZXJlLgotICAgICAqLwotICAgIGlmICggaXNfaW9tbXVfZW5hYmxl
ZChkKSAmJiBpb21tdV9oYXBfcHRfc2hhcmUgKQorCisgICAgaWYgKCBpb21tdV91c2VfaGFwX3B0
KGQpICkKICAgICAgICAgaW9tbXVfZ2V0X29wcygpLT5zaGFyZV9wMm0oZCk7CiB9CiAKQEAgLTYy
NSw4ICs1NDgsNyBAQCBzdGF0aWMgdm9pZCBpb21tdV9kdW1wX3AybV90YWJsZSh1bnNpZ25lZCBj
aGFyIGtleSkKICAgICBvcHMgPSBpb21tdV9nZXRfb3BzKCk7CiAgICAgZm9yX2VhY2hfZG9tYWlu
KGQpCiAgICAgewotICAgICAgICBpZiAoIGlzX2hhcmR3YXJlX2RvbWFpbihkKSB8fAotICAgICAg
ICAgICAgIGRvbV9pb21tdShkKS0+c3RhdHVzIDwgSU9NTVVfU1RBVFVTX2luaXRpYWxpemVkICkK
KyAgICAgICAgaWYgKCAhaXNfaW9tbXVfZW5hYmxlZChkKSApCiAgICAgICAgICAgICBjb250aW51
ZTsKIAogICAgICAgICBpZiAoIGlvbW11X3VzZV9oYXBfcHQoZCkgKQpkaWZmIC0tZ2l0IGEveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9wY2ku
YwppbmRleCA2MWI1YjMzMGNhLi4yNWZmMTBmNGNiIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9wY2kuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9wY2kuYwpAQCAt
MTQzNCwxMyArMTQzNCw2IEBAIHN0YXRpYyBpbnQgYXNzaWduX2RldmljZShzdHJ1Y3QgZG9tYWlu
ICpkLCB1MTYgc2VnLCB1OCBidXMsIHU4IGRldmZuLCB1MzIgZmxhZykKICAgICBpZiAoICFwY2lk
ZXZzX3RyeWxvY2soKSApCiAgICAgICAgIHJldHVybiAtRVJFU1RBUlQ7CiAKLSAgICByYyA9IGlv
bW11X2NvbnN0cnVjdChkKTsKLSAgICBpZiAoIHJjICkKLSAgICB7Ci0gICAgICAgIHBjaWRldnNf
dW5sb2NrKCk7Ci0gICAgICAgIHJldHVybiByYzsKLSAgICB9Ci0KICAgICBwZGV2ID0gcGNpX2dl
dF9wZGV2X2J5X2RvbWFpbihoYXJkd2FyZV9kb21haW4sIHNlZywgYnVzLCBkZXZmbik7CiAgICAg
aWYgKCAhcGRldiApCiAgICAgewpAQCAtMTQ2OSw4ICsxNDYyLDYgQEAgc3RhdGljIGludCBhc3Np
Z25fZGV2aWNlKHN0cnVjdCBkb21haW4gKmQsIHUxNiBzZWcsIHU4IGJ1cywgdTggZGV2Zm4sIHUz
MiBmbGFnKQogICAgIH0KIAogIGRvbmU6Ci0gICAgaWYgKCAhaGFzX2FyY2hfcGRldnMoZCkgJiYg
aGFzX2lvbW11X3B0KGQpICkKLSAgICAgICAgaW9tbXVfdGVhcmRvd24oZCk7CiAgICAgcGNpZGV2
c191bmxvY2soKTsKIAogICAgIHJldHVybiByYzsKQEAgLTE1MTksOSArMTUxMCw2IEBAIGludCBk
ZWFzc2lnbl9kZXZpY2Uoc3RydWN0IGRvbWFpbiAqZCwgdTE2IHNlZywgdTggYnVzLCB1OCBkZXZm
bikKIAogICAgIHBkZXYtPmZhdWx0LmNvdW50ID0gMDsKIAotICAgIGlmICggIWhhc19hcmNoX3Bk
ZXZzKGQpICYmIGhhc19pb21tdV9wdChkKSApCi0gICAgICAgIGlvbW11X3RlYXJkb3duKGQpOwot
CiAgICAgcmV0dXJuIHJldDsKIH0KIApkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91
Z2gvdnRkL2lvbW11LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUuYwppbmRl
eCAwMWYwYmM0Njg5Li40YWM1ZGExOTdhIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC92dGQvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUu
YwpAQCAtMTc1OSwxNSArMTc1OSw3IEBAIHN0YXRpYyB2b2lkIGlvbW11X2RvbWFpbl90ZWFyZG93
bihzdHJ1Y3QgZG9tYWluICpkKQogCiAgICAgQVNTRVJUKGlzX2lvbW11X2VuYWJsZWQoZCkpOwog
Ci0gICAgLyoKLSAgICAgKiBXZSBjYW4ndCB1c2UgaW9tbXVfdXNlX2hhcF9wdCBoZXJlIGJlY2F1
c2UgZWl0aGVyIElPTU1VIHN0YXRlCi0gICAgICogaXMgYWxyZWFkeSBjaGFuZ2VkIHRvIElPTU1V
X1NUQVRVU19kaXNhYmxlZCBhdCB0aGlzIHBvaW50IG9yCi0gICAgICogaGFzIGFsd2F5cyBiZWVu
IElPTU1VX1NUQVRVU19kaXNhYmxlZC4KLSAgICAgKgotICAgICAqIFdlIGFsc28gbmVlZCB0byB0
ZXN0IGlmIEhBUCBpcyBlbmFibGVkIGJlY2F1c2UgUFYgZ3Vlc3RzIGNhbgotICAgICAqIGVudGVy
IHRoaXMgcGF0aCB0b28uCi0gICAgICovCi0gICAgaWYgKCBoYXBfZW5hYmxlZChkKSAmJiBpb21t
dV9oYXBfcHRfc2hhcmUgKQorICAgIGlmICggaW9tbXVfdXNlX2hhcF9wdChkKSApCiAgICAgICAg
IHJldHVybjsKIAogICAgIHNwaW5fbG9jaygmaGQtPmFyY2gubWFwcGluZ19sb2NrKTsKZGlmZiAt
LWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3g4Ni9pb21tdS5jIGIveGVuL2RyaXZlcnMv
cGFzc3Rocm91Z2gveDg2L2lvbW11LmMKaW5kZXggOTg3OTU1OGMxNy4uNDdhM2U1NTIxMyAxMDA2
NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gveDg2L2lvbW11LmMKKysrIGIveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gveDg2L2lvbW11LmMKQEAgLTgxLDEwMSArODEsNiBAQCBpbnQgX19p
bml0IGlvbW11X3NldHVwX2hwZXRfbXNpKHN0cnVjdCBtc2lfZGVzYyAqbXNpKQogICAgIHJldHVy
biBvcHMtPnNldHVwX2hwZXRfbXNpID8gb3BzLT5zZXR1cF9ocGV0X21zaShtc2kpIDogLUVOT0RF
VjsKIH0KIAotaW50IGFyY2hfaW9tbXVfcG9wdWxhdGVfcGFnZV90YWJsZShzdHJ1Y3QgZG9tYWlu
ICpkKQotewotICAgIHN0cnVjdCBwYWdlX2luZm8gKnBhZ2U7Ci0gICAgaW50IHJjID0gMCwgbiA9
IDA7Ci0KLSAgICBzcGluX2xvY2soJmQtPnBhZ2VfYWxsb2NfbG9jayk7Ci0KLSAgICBpZiAoIHVu
bGlrZWx5KGQtPmlzX2R5aW5nKSApCi0gICAgICAgIHJjID0gLUVTUkNIOwotCi0gICAgd2hpbGUg
KCAhcmMgJiYgKHBhZ2UgPSBwYWdlX2xpc3RfcmVtb3ZlX2hlYWQoJmQtPnBhZ2VfbGlzdCkpICkK
LSAgICB7Ci0gICAgICAgIGlmICggaXNfaHZtX2RvbWFpbihkKSB8fAotICAgICAgICAgICAgKHBh
Z2UtPnUuaW51c2UudHlwZV9pbmZvICYgUEdUX3R5cGVfbWFzaykgPT0gUEdUX3dyaXRhYmxlX3Bh
Z2UgKQotICAgICAgICB7Ci0gICAgICAgICAgICB1bnNpZ25lZCBsb25nIG1mbiA9IG1mbl94KHBh
Z2VfdG9fbWZuKHBhZ2UpKTsKLSAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgZ2ZuID0gbWZuX3Rv
X2dtZm4oZCwgbWZuKTsKLSAgICAgICAgICAgIHVuc2lnbmVkIGludCBmbHVzaF9mbGFncyA9IDA7
Ci0KLSAgICAgICAgICAgIGlmICggZ2ZuICE9IGdmbl94KElOVkFMSURfR0ZOKSApCi0gICAgICAg
ICAgICB7Ci0gICAgICAgICAgICAgICAgQVNTRVJUKCEoZ2ZuID4+IERFRkFVTFRfRE9NQUlOX0FE
RFJFU1NfV0lEVEgpKTsKLSAgICAgICAgICAgICAgICBCVUdfT04oU0hBUkVEX00yUChnZm4pKTsK
LSAgICAgICAgICAgICAgICByYyA9IGlvbW11X21hcChkLCBfZGZuKGdmbiksIF9tZm4obWZuKSwg
UEFHRV9PUkRFUl80SywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJT01NVUZfcmVh
ZGFibGUgfCBJT01NVUZfd3JpdGFibGUsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
JmZsdXNoX2ZsYWdzKTsKLQotICAgICAgICAgICAgICAgIC8qCi0gICAgICAgICAgICAgICAgICog
V2UgbWF5IGJlIHdvcmtpbmcgYmVoaW5kIHRoZSBiYWNrIG9mIGEgcnVubmluZyBndWVzdCwgd2hp
Y2gKLSAgICAgICAgICAgICAgICAgKiBtYXkgY2hhbmdlIHRoZSB0eXBlIG9mIGEgcGFnZSBhdCBh
bnkgdGltZS4gIFdlIGNhbid0IHByZXZlbnQKLSAgICAgICAgICAgICAgICAgKiB0aGlzIChmb3Ig
aW5zdGFuY2UsIGJ5IGJ1bXBpbmcgdGhlIHR5cGUgY291bnQgd2hpbGUgbWFwcGluZwotICAgICAg
ICAgICAgICAgICAqIHRoZSBwYWdlKSB3aXRob3V0IGNhdXNpbmcgbGVnaXRpbWF0ZSBndWVzdCB0
eXBlLWNoYW5nZQotICAgICAgICAgICAgICAgICAqIG9wZXJhdGlvbnMgdG8gZmFpbC4gIFNvIGFm
dGVyIGFkZGluZyB0aGUgcGFnZSB0byB0aGUgSU9NTVUsCi0gICAgICAgICAgICAgICAgICogY2hl
Y2sgYWdhaW4gdG8gbWFrZSBzdXJlIHRoaXMgaXMgc3RpbGwgdmFsaWQuICBOQiB0aGF0IHRoZQot
ICAgICAgICAgICAgICAgICAqIHdyaXRhYmxlIGVudHJ5IGluIHRoZSBpb21tdSBpcyBoYXJtbGVz
cyB1bnRpbCBsYXRlciwgd2hlbgotICAgICAgICAgICAgICAgICAqIHRoZSBhY3R1YWwgZGV2aWNl
IGdldHMgYXNzaWduZWQuCi0gICAgICAgICAgICAgICAgICovCi0gICAgICAgICAgICAgICAgaWYg
KCAhcmMgJiYgIWlzX2h2bV9kb21haW4oZCkgJiYKLSAgICAgICAgICAgICAgICAgICAgICgocGFn
ZS0+dS5pbnVzZS50eXBlX2luZm8gJiBQR1RfdHlwZV9tYXNrKSAhPQotICAgICAgICAgICAgICAg
ICAgICAgIFBHVF93cml0YWJsZV9wYWdlKSApCi0gICAgICAgICAgICAgICAgewotICAgICAgICAg
ICAgICAgICAgICByYyA9IGlvbW11X3VubWFwKGQsIF9kZm4oZ2ZuKSwgUEFHRV9PUkRFUl80Sywg
JmZsdXNoX2ZsYWdzKTsKLSAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhlIHR5cGUgY2hhbmdl
ZCB5ZXQgYWdhaW4sIHNpbXBseSBmb3JjZSBhIHJldHJ5LiAqLwotICAgICAgICAgICAgICAgICAg
ICBpZiAoICFyYyAmJiAoKHBhZ2UtPnUuaW51c2UudHlwZV9pbmZvICYgUEdUX3R5cGVfbWFzaykg
PT0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBHVF93cml0YWJsZV9wYWdlKSAp
Ci0gICAgICAgICAgICAgICAgICAgICAgICByYyA9IC1FUkVTVEFSVDsKLSAgICAgICAgICAgICAg
ICB9Ci0gICAgICAgICAgICB9Ci0gICAgICAgICAgICBpZiAoIHJjICkKLSAgICAgICAgICAgIHsK
LSAgICAgICAgICAgICAgICBwYWdlX2xpc3RfYWRkKHBhZ2UsICZkLT5wYWdlX2xpc3QpOwotICAg
ICAgICAgICAgICAgIGJyZWFrOwotICAgICAgICAgICAgfQotICAgICAgICB9Ci0gICAgICAgIHBh
Z2VfbGlzdF9hZGRfdGFpbChwYWdlLCAmZC0+YXJjaC5yZWxtZW1fbGlzdCk7Ci0gICAgICAgIGlm
ICggISgrK24gJiAweGZmKSAmJiAhcGFnZV9saXN0X2VtcHR5KCZkLT5wYWdlX2xpc3QpICYmCi0g
ICAgICAgICAgICAgaHlwZXJjYWxsX3ByZWVtcHRfY2hlY2soKSApCi0gICAgICAgICAgICByYyA9
IC1FUkVTVEFSVDsKLSAgICB9Ci0KLSAgICBpZiAoICFyYyApCi0gICAgewotICAgICAgICAvKgot
ICAgICAgICAgKiBUaGUgZXhwZWN0YXRpb24gaGVyZSBpcyB0aGF0IGdlbmVyYWxseSB0aGVyZSBh
cmUgbWFueSBub3JtYWwgcGFnZXMKLSAgICAgICAgICogb24gcmVsbWVtX2xpc3QgKHRoZSBvbmVz
IHdlIHB1dCB0aGVyZSkgYW5kIG9ubHkgZmV3IGJlaW5nIGluIGFuCi0gICAgICAgICAqIG9mZmxp
bmUvYnJva2VuIHN0YXRlLiBUaGUgbGF0dGVyIG9uZXMgYXJlIGFsd2F5cyBhdCB0aGUgaGVhZCBv
ZiB0aGUKLSAgICAgICAgICogbGlzdC4gSGVuY2Ugd2UgZmlyc3QgbW92ZSB0aGUgd2hvbGUgbGlz
dCwgYW5kIHRoZW4gbW92ZSBiYWNrIHRoZQotICAgICAgICAgKiBmaXJzdCBmZXcgZW50cmllcy4K
LSAgICAgICAgICovCi0gICAgICAgIHBhZ2VfbGlzdF9tb3ZlKCZkLT5wYWdlX2xpc3QsICZkLT5h
cmNoLnJlbG1lbV9saXN0KTsKLSAgICAgICAgd2hpbGUgKCAhcGFnZV9saXN0X2VtcHR5KCZkLT5w
YWdlX2xpc3QpICYmCi0gICAgICAgICAgICAgICAgKHBhZ2UgPSBwYWdlX2xpc3RfZmlyc3QoJmQt
PnBhZ2VfbGlzdCksCi0gICAgICAgICAgICAgICAgIChwYWdlLT5jb3VudF9pbmZvICYgKFBHQ19z
dGF0ZXxQR0NfYnJva2VuKSkpICkKLSAgICAgICAgewotICAgICAgICAgICAgcGFnZV9saXN0X2Rl
bChwYWdlLCAmZC0+cGFnZV9saXN0KTsKLSAgICAgICAgICAgIHBhZ2VfbGlzdF9hZGRfdGFpbChw
YWdlLCAmZC0+YXJjaC5yZWxtZW1fbGlzdCk7Ci0gICAgICAgIH0KLSAgICB9Ci0KLSAgICBzcGlu
X3VubG9jaygmZC0+cGFnZV9hbGxvY19sb2NrKTsKLQotICAgIGlmICggIXJjICkKLSAgICAgICAg
LyoKLSAgICAgICAgICogZmx1c2hfZmxhZ3MgYXJlIG5vdCB0cmFja2VkIGFjcm9zcyBoeXBlcmNh
bGwgcHJlLWVtcHRpb24gc28KLSAgICAgICAgICogYXNzdW1lIGEgZnVsbCBmbHVzaCBpcyBuZWNl
c3NhcnkuCi0gICAgICAgICAqLwotICAgICAgICByYyA9IGlvbW11X2lvdGxiX2ZsdXNoX2FsbCgK
LSAgICAgICAgICAgIGQsIElPTU1VX0ZMVVNIRl9hZGRlZCB8IElPTU1VX0ZMVVNIRl9tb2RpZmll
ZCk7Ci0KLSAgICBpZiAoIHJjICYmIHJjICE9IC1FUkVTVEFSVCApCi0gICAgICAgIGlvbW11X3Rl
YXJkb3duKGQpOwotCi0gICAgcmV0dXJuIHJjOwotfQotCiB2b2lkIF9faHdkb21faW5pdCBhcmNo
X2lvbW11X2NoZWNrX2F1dG90cmFuc2xhdGVkX2h3ZG9tKHN0cnVjdCBkb21haW4gKmQpCiB7CiAg
ICAgaWYgKCAhaXNfaW9tbXVfZW5hYmxlZChkKSApCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9h
c20tYXJtL2lvbW11LmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL2lvbW11LmgKaW5kZXggOTA0Yzlh
ZWMxMS4uZTUwNTA2MzZkNyAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9pb21tdS5o
CisrKyBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vaW9tbXUuaApAQCAtMjEsNyArMjEsNyBAQCBzdHJ1
Y3QgYXJjaF9pb21tdQogfTsKIAogLyogQWx3YXlzIHNoYXJlIFAyTSBUYWJsZSBiZXR3ZWVuIHRo
ZSBDUFUgYW5kIHRoZSBJT01NVSAqLwotI2RlZmluZSBpb21tdV91c2VfaGFwX3B0KGQpIChoYXNf
aW9tbXVfcHQoZCkpCisjZGVmaW5lIGlvbW11X3VzZV9oYXBfcHQoZCkgKGlzX2lvbW11X2VuYWJs
ZWQoZCkpCiAKIGNvbnN0IHN0cnVjdCBpb21tdV9vcHMgKmlvbW11X2dldF9vcHModm9pZCk7CiB2
b2lkIGlvbW11X3NldF9vcHMoY29uc3Qgc3RydWN0IGlvbW11X29wcyAqb3BzKTsKZGlmZiAtLWdp
dCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaW9tbXUuaCBiL3hlbi9pbmNsdWRlL2FzbS14ODYvaW9t
bXUuaAppbmRleCBmYWNmODM1YWRhLi42ZDAyNGQ1YzBlIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVk
ZS9hc20teDg2L2lvbW11LmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9pb21tdS5oCkBAIC04
MSw3ICs4MSw3IEBAIGV4dGVybiBjb25zdCBzdHJ1Y3QgaW9tbXVfaW5pdF9vcHMgKmlvbW11X2lu
aXRfb3BzOwogCiAvKiBBcmUgd2UgdXNpbmcgdGhlIGRvbWFpbiBQMk0gdGFibGUgYXMgaXRzIElP
TU1VIHBhZ2V0YWJsZT8gKi8KICNkZWZpbmUgaW9tbXVfdXNlX2hhcF9wdChkKSBcCi0gICAgKGhh
cF9lbmFibGVkKGQpICYmIGhhc19pb21tdV9wdChkKSAmJiBpb21tdV9oYXBfcHRfc2hhcmUpCisg
ICAgKGhhcF9lbmFibGVkKGQpICYmIGlzX2lvbW11X2VuYWJsZWQoZCkgJiYgaW9tbXVfaGFwX3B0
X3NoYXJlKQogCiB2b2lkIGlvbW11X3VwZGF0ZV9pcmVfZnJvbV9hcGljKHVuc2lnbmVkIGludCBh
cGljLCB1bnNpZ25lZCBpbnQgcmVnLCB1bnNpZ25lZCBpbnQgdmFsdWUpOwogdW5zaWduZWQgaW50
IGlvbW11X3JlYWRfYXBpY19mcm9tX2lyZSh1bnNpZ25lZCBpbnQgYXBpYywgdW5zaWduZWQgaW50
IHJlZyk7CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaCBiL3hlbi9pbmNsdWRl
L3hlbi9pb21tdS5oCmluZGV4IDQ4Zjg3NDgwYTcuLjViOTYxMWExMzQgMTAwNjQ0Ci0tLSBhL3hl
bi9pbmNsdWRlL3hlbi9pb21tdS5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9pb21tdS5oCkBAIC03
NCwxNSArNzQsOSBAQCBpbnQgZGVhc3NpZ25fZGV2aWNlKHN0cnVjdCBkb21haW4gKmQsIHUxNiBz
ZWcsIHU4IGJ1cywgdTggZGV2Zm4pOwogCiB2b2lkIGFyY2hfaW9tbXVfZG9tYWluX2Rlc3Ryb3ko
c3RydWN0IGRvbWFpbiAqZCk7CiBpbnQgYXJjaF9pb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9t
YWluICpkKTsKLWludCBhcmNoX2lvbW11X3BvcHVsYXRlX3BhZ2VfdGFibGUoc3RydWN0IGRvbWFp
biAqZCk7CiB2b2lkIGFyY2hfaW9tbXVfY2hlY2tfYXV0b3RyYW5zbGF0ZWRfaHdkb20oc3RydWN0
IGRvbWFpbiAqZCk7CiB2b2lkIGFyY2hfaW9tbXVfaHdkb21faW5pdChzdHJ1Y3QgZG9tYWluICpk
KTsKIAotaW50IGlvbW11X2NvbnN0cnVjdChzdHJ1Y3QgZG9tYWluICpkKTsKLQotLyogRnVuY3Rp
b24gdXNlZCBpbnRlcm5hbGx5LCB1c2UgaW9tbXVfZG9tYWluX2Rlc3Ryb3kgKi8KLXZvaWQgaW9t
bXVfdGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCk7Ci0KIC8qCiAgKiBUaGUgZm9sbG93aW5nIGZs
YWdzIGFyZSBwYXNzZWQgdG8gbWFwIG9wZXJhdGlvbnMgYW5kIHBhc3NlZCBieSBsb29rdXAKICAq
IG9wZXJhdGlvbnMuCkBAIC0yNDksMTMgKzI0Myw2IEBAIHN0cnVjdCBpb21tdV9vcHMgewogIyBk
ZWZpbmUgaW9tbXVfdmNhbGwgaW9tbXVfY2FsbAogI2VuZGlmCiAKLWVudW0gaW9tbXVfc3RhdHVz
Ci17Ci0gICAgSU9NTVVfU1RBVFVTX2Rpc2FibGVkLAotICAgIElPTU1VX1NUQVRVU19pbml0aWFs
aXppbmcsCi0gICAgSU9NTVVfU1RBVFVTX2luaXRpYWxpemVkCi19OwotCiBzdHJ1Y3QgZG9tYWlu
X2lvbW11IHsKICAgICBzdHJ1Y3QgYXJjaF9pb21tdSBhcmNoOwogCkBAIC0yNzAsOSArMjU3LDYg
QEAgc3RydWN0IGRvbWFpbl9pb21tdSB7CiAgICAgLyogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IHRo
ZSBJT01NVSAqLwogICAgIERFQ0xBUkVfQklUTUFQKGZlYXR1cmVzLCBJT01NVV9GRUFUX2NvdW50
KTsKIAotICAgIC8qIFN0YXR1cyBvZiBndWVzdCBJT01NVSBtYXBwaW5ncyAqLwotICAgIGVudW0g
aW9tbXVfc3RhdHVzIHN0YXR1czsKLQogICAgIC8qCiAgICAgICogRG9lcyB0aGUgZ3Vlc3QgcmVx
aXJlIG1hcHBpbmdzIHRvIGJlIHN5bmNob25pemVkLCB0byBtYWludGFpbgogICAgICAqIHRoZSBk
ZWZhdWx0IGRmbiA9PSBwZm4gbWFwLiAoU2VlIGNvbW1lbnQgb24gZGZuIGF0IHRoZSB0b3Agb2YK
ZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC5oIGIveGVuL2luY2x1ZGUveGVuL3Nj
aGVkLmgKaW5kZXggYmFkOTczNDYyNi4uNTM4YmU3MTIwYiAxMDA2NDQKLS0tIGEveGVuL2luY2x1
ZGUveGVuL3NjaGVkLmgKKysrIGIveGVuL2luY2x1ZGUveGVuL3NjaGVkLmgKQEAgLTk2NCwxMCAr
OTY0LDggQEAgc3RhdGljIGlubGluZSBib29sIGlzX2h3ZG9tX3Bpbm5lZF92Y3B1KGNvbnN0IHN0
cnVjdCB2Y3B1ICp2KQogfQogCiAjaWZkZWYgQ09ORklHX0hBU19QQVNTVEhST1VHSAotI2RlZmlu
ZSBoYXNfaW9tbXVfcHQoZCkgKGRvbV9pb21tdShkKS0+c3RhdHVzICE9IElPTU1VX1NUQVRVU19k
aXNhYmxlZCkKICNkZWZpbmUgbmVlZF9pb21tdV9wdF9zeW5jKGQpIChkb21faW9tbXUoZCktPm5l
ZWRfc3luYykKICNlbHNlCi0jZGVmaW5lIGhhc19pb21tdV9wdChkKSBmYWxzZQogI2RlZmluZSBu
ZWVkX2lvbW11X3B0X3N5bmMoZCkgZmFsc2UKICNlbmRpZgogCi0tIAoyLjIwLjEuMi5nYjIxZWJi
NjcxCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVu
LWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6
Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

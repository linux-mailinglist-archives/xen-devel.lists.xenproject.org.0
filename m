Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E743DAE082
	for <lists+xen-devel@lfdr.de>; Tue, 10 Sep 2019 00:15:06 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i7Rsr-00062g-HN; Mon, 09 Sep 2019 22:11:41 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=fSZh=XE=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1i7Rsq-00062b-Ar
 for xen-devel@lists.xenproject.org; Mon, 09 Sep 2019 22:11:40 +0000
X-Inumbo-ID: c9e34122-d34e-11e9-a337-bc764e2007e4
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id c9e34122-d34e-11e9-a337-bc764e2007e4;
 Mon, 09 Sep 2019 22:11:36 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id B2AB128;
 Mon,  9 Sep 2019 15:11:35 -0700 (PDT)
Received: from [10.37.12.117] (unknown [10.37.12.117])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 153FF3F59C;
 Mon,  9 Sep 2019 15:11:33 -0700 (PDT)
To: Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <20190823184826.14525-1-volodymyr_babchuk@epam.com>
 <20190823184826.14525-2-volodymyr_babchuk@epam.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <45208af4-22b8-2870-f79d-a98960c4700d@arm.com>
Date: Mon, 9 Sep 2019 23:11:32 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190823184826.14525-2-volodymyr_babchuk@epam.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 1/5] xen/arm: optee: impose limit on shared
 buffer size
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "tee-dev@lists.linaro.org" <tee-dev@lists.linaro.org>,
 Stefano Stabellini <sstabellini@kernel.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgVm9sb2R5bXlyLAoKT24gOC8yMy8xOSA3OjQ4IFBNLCBWb2xvZHlteXIgQmFiY2h1ayB3cm90
ZToKPiBXZSB3YW50IHRvIGxpbWl0IG51bWJlciBvZiBjYWxscyB0byBsb29rdXBfYW5kX3Bpbl9n
dWVzdF9yYW1fYWRkcigpCj4gcGVyIG9uZSByZXF1ZXN0LiBUaGVyZSBhcmUgdHdvIHdheXMgdG8g
ZG8gdGhpczogZWl0aGVyIHByZWVtcHQKPiB0cmFuc2xhdGVfbm9uY29udGlnKCkgb3IgdG8gbGlt
aXQgc2l6ZSBvZiBvbmUgc2hhcmVkIGJ1ZmZlciBzaXplLgo+IAo+IEl0IGlzIHF1aXRlIGhhcmQg
dG8gcHJlZW1wdCB0cmFuc2xhdGVfbm9uY29udGlnKCksIGJlY2F1c2UgaXQgaXMgZGVlcAo+IG5l
c3RlZC4gU28gd2UgY2hvc2Ugc2Vjb25kIG9wdGlvbi4gV2Ugd2lsbCBhbGxvdyA1MTIgcGFnZXMg
cGVyIG9uZQo+IHNoYXJlZCBidWZmZXIuIFRoaXMgZG9lcyBub3QgaW50ZXJmZXJlIHdpdGggR1Ag
c3RhbmRhcmQsIGFzIGl0Cj4gcmVxdWlyZXMgdGhhdCBzaXplIGxpbWl0IGZvciBzaGFyZWQgYnVm
ZmVyIHNob3VsZCBiZSBhdCBsZXN0IDUxMmtCLgoKRG8geW91IG1lYW4gImxlYXN0IiBpbnN0ZWFk
IG9mICJsZXN0Ij8gSWYgc28sIHdoeSA1MTIgcGFnZXMgKGkuZSAxTUIpIGlzIApwbGVudHkgZW5v
dWdoIGZvciBtb3N0IG9mIHRoZSB1c2UgY2FzZXM/IFdoYXQgZG9lcyAieHRlc3QiIGNvbnNpc3Qg
b24/Cgo+IEFsc28sIHdpdGggdGhpcyBsaW1pdGF0aW9uIE9QLVRFRSBzdGlsbCBwYXNzZXMgb3du
ICJ4dGVzdCIgdGVzdCBzdWl0ZSwKPiBzbyB0aGlzIGlzIG9rYXkgZm9yIG5vdy4KPiAKPiBTaWdu
ZWQtb2ZmLWJ5OiBWb2xvZHlteXIgQmFiY2h1ayA8dm9sb2R5bXlyX2JhYmNodWtAZXBhbS5jb20+
Cj4gLS0tCj4gICB4ZW4vYXJjaC9hcm0vdGVlL29wdGVlLmMgfCAzMCArKysrKysrKysrKysrKysr
KystLS0tLS0tLS0tLS0KPiAgIDEgZmlsZSBjaGFuZ2VkLCAxOCBpbnNlcnRpb25zKCspLCAxMiBk
ZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL3RlZS9vcHRlZS5jIGIv
eGVuL2FyY2gvYXJtL3RlZS9vcHRlZS5jCj4gaW5kZXggZWM1NDAyZTg5Yi4uZjRmYThhNzc1OCAx
MDA2NDQKPiAtLS0gYS94ZW4vYXJjaC9hcm0vdGVlL29wdGVlLmMKPiArKysgYi94ZW4vYXJjaC9h
cm0vdGVlL29wdGVlLmMKPiBAQCAtNzIsNiArNzIsMTcgQEAKPiAgICAqLwo+ICAgI2RlZmluZSBN
QVhfVE9UQUxfU01IX0JVRl9QRyAgICAxNjM4NAo+ICAgCj4gKy8qCj4gKyAqIEFyYml0cmFyeSB2
YWx1ZSB0aGF0IGxpbWl0cyBtYXhpbXVtIHNoYXJlZCBidWZmZXIgc2l6ZS4gSXQgaXMKPiArICog
bWVyZWx5IGNvaW5jaWRlbmNlIHRoYXQgaXQgZXF1YWxzIHRvIGJvdGggZGVmYXVsdCBPUC1URUUg
U0hNIGJ1ZmZlcgo+ICsgKiBzaXplIGxpbWl0IGFuZCB0byAoMSA8PCBDT05GSUdfRE9NVV9NQVhf
T1JERVIpLiBQbGVhc2Ugbm90ZSB0aGF0Cj4gKyAqIHRoaXMgZGVmaW5lIGxpbWl0cyBudW1iZXIg
b2YgcGFnZXMuIEJ1dCB1c2VyIGJ1ZmZlciBjYW4gYmUgbm90Cj4gKyAqIGFsaWduZWQgdG8gYSBw
YWdlIGJvdW5kYXJ5LiBTbyBpdCBpcyBwb3NzaWJsZSB0aGF0IHVzZXIgd291bGQgbm90Cj4gKyAq
IGJlIGFibGUgdG8gc2hhcmUgZXhhY3RseSBNQVhfU0hNX0JVRkZFUl9QRyAqIFBBR0VfU0laRSBi
eXRlcyB3aXRoCj4gKyAqIE9QLVRFRS4KPiArICovCj4gKyNkZWZpbmUgTUFYX1NITV9CVUZGRVJf
UEcgICAgICAgNTEyCj4gKwo+ICAgI2RlZmluZSBPUFRFRV9LTk9XTl9OU0VDX0NBUFMgT1BURUVf
U01DX05TRUNfQ0FQX1VOSVBST0NFU1NPUgo+ICAgI2RlZmluZSBPUFRFRV9LTk9XTl9TRUNfQ0FQ
UyAoT1BURUVfU01DX1NFQ19DQVBfSEFWRV9SRVNFUlZFRF9TSE0gfCBcCj4gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBPUFRFRV9TTUNfU0VDX0NBUF9VTlJFR0lTVEVSRURfU0hNIHwg
XAo+IEBAIC02OTcsMTUgKzcwOCwxNyBAQCBzdGF0aWMgaW50IHRyYW5zbGF0ZV9ub25jb250aWco
c3RydWN0IG9wdGVlX2RvbWFpbiAqY3R4LAo+ICAgICAgIHNpemUgPSBST1VORFVQKHBhcmFtLT51
LnRtZW0uc2l6ZSArIG9mZnNldCwgT1BURUVfTVNHX05PTkNPTlRJR19QQUdFX1NJWkUpOwo+ICAg
Cj4gICAgICAgcGdfY291bnQgPSBESVZfUk9VTkRfVVAoc2l6ZSwgT1BURUVfTVNHX05PTkNPTlRJ
R19QQUdFX1NJWkUpOwo+ICsgICAgaWYgKCBwZ19jb3VudCA+IE1BWF9TSE1fQlVGRkVSX1BHICkK
PiArICAgICAgICByZXR1cm4gLUVOT01FTTsKPiArCj4gICAgICAgb3JkZXIgPSBnZXRfb3JkZXJf
ZnJvbV9ieXRlcyhnZXRfcGFnZXNfbGlzdF9zaXplKHBnX2NvdW50KSk7Cj4gICAKPiAgICAgICAv
Kgo+IC0gICAgICogSW4gdGhlIHdvcnN0IGNhc2Ugd2Ugd2lsbCB3YW50IHRvIGFsbG9jYXRlIDMz
IHBhZ2VzLCB3aGljaCBpcwo+IC0gICAgICogTUFYX1RPVEFMX1NNSF9CVUZfUEcvNTExIHJvdW5k
ZWQgdXAuIFRoaXMgZ2l2ZXMgb3JkZXIgNiBvciBhdAo+IC0gICAgICogbW9zdCA2NCBwYWdlcyBh
bGxvY2F0ZWQuIFRoaXMgYnVmZmVyIHdpbGwgYmUgZnJlZWQgcmlnaHQgYWZ0ZXIKPiAtICAgICAq
IHRoZSBlbmQgb2YgdGhlIGNhbGwgYW5kIHRoZXJlIGNhbiBiZSBubyBtb3JlIHRoYW4KPiArICAg
ICAqIEluIHRoZSB3b3JzdCBjYXNlIHdlIHdpbGwgd2FudCB0byBhbGxvY2F0ZSAyIHBhZ2VzLCB3
aGljaCBpcwo+ICsgICAgICogTUFYX1NITV9CVUZGRVJfUEcvNTExIHJvdW5kZWQgdXAuIFRoaXMg
YnVmZmVyIHdpbGwgYmUgZnJlZWQKPiArICAgICAqIHJpZ2h0IGFmdGVyIHRoZSBlbmQgb2YgdGhl
IGNhbGwgYW5kIHRoZXJlIGNhbiBiZSBubyBtb3JlIHRoYW4KPiAgICAgICAgKiBtYXhfb3B0ZWVf
dGhyZWFkcyBjYWxscyBzaW11bHRhbmVvdXNseS4gU28gaW4gdGhlIHdvcnN0IGNhc2UKPiAtICAg
ICAqIGd1ZXN0IGNhbiB0cmljayB1cyB0byBhbGxvY2F0ZSA2NCAqIG1heF9vcHRlZV90aHJlYWRz
IHBhZ2VzIGluCj4gKyAgICAgKiBndWVzdCBjYW4gdHJpY2sgdXMgdG8gYWxsb2NhdGUgMiAqIG1h
eF9vcHRlZV90aHJlYWRzIHBhZ2VzIGluCj4gICAgICAgICogdG90YWwuCj4gICAgICAgICovCj4g
ICAgICAgeGVuX3BncyA9IGFsbG9jX2RvbWhlYXBfcGFnZXMoY3VycmVudC0+ZG9tYWluLCBvcmRl
ciwgMCk7Cj4gQEAgLTc0NywxMyArNzYwLDYgQEAgc3RhdGljIGludCB0cmFuc2xhdGVfbm9uY29u
dGlnKHN0cnVjdCBvcHRlZV9kb21haW4gKmN0eCwKPiAgICAgICAgICAgICAgIHhlbl9kYXRhID0g
X19tYXBfZG9tYWluX3BhZ2UoeGVuX3Bncyk7Cj4gICAgICAgICAgIH0KPiAgIAo+IC0gICAgICAg
IC8qCj4gLSAgICAgICAgICogVE9ETzogVGhhdCBmdW5jdGlvbiBjYW4gcGluIHVwIHRvIDY0TUIg
b2YgZ3Vlc3QgbWVtb3J5IGJ5Cj4gLSAgICAgICAgICogY2FsbGluZyBsb29rdXBfYW5kX3Bpbl9n
dWVzdF9yYW1fYWRkcigpIDE2Mzg0IHRpbWVzCj4gLSAgICAgICAgICogKGFzc3VtaW5nIHRoYXQg
UEFHRV9TSVpFIGVxdWFscyB0byA0MDk2KS4KPiAtICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBh
ZGRyZXNzZWQgYmVmb3JlIGRlY2xhcmluZyBPUC1URUUgc2VjdXJpdHkKPiAtICAgICAgICAgKiBz
dXBwb3J0ZWQuCj4gLSAgICAgICAgICovCj4gICAgICAgICAgIEJVSUxEX0JVR19PTihQQUdFX1NJ
WkUgIT0gNDA5Nik7CgpXaXRob3V0IHRoZSBjb21tZW50LCB0aGUgQlVJTERfQlVHX09OKCkgbG9v
a3MgcmFuZG9tLiBTbyBlaXRoZXIgeW91IHdhbnQgCnRvIGhhdmUgYSBkaWZmZXJlbnQgdmVyc2lv
biBvZiB0aGUgY29tbWVudCBvciB5b3Ugd2FudCB0byBtb3ZlIHRoZSAKQlVJTERfQlVHX09OKCkg
dG8gc29tZXdoZXJlIGVsc2UuCgo+ICAgICAgICAgICBwYWdlID0gZ2V0X2RvbWFpbl9yYW1fcGFn
ZShnYWRkcl90b19nZm4oZ3Vlc3RfZGF0YS0+cGFnZXNfbGlzdFtpZHhdKSk7Cj4gICAgICAgICAg
IGlmICggIXBhZ2UgKQo+IAoKQ2hlZXJzLAoKLS0gCkp1bGllbiBHcmFsbAoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlz
dApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

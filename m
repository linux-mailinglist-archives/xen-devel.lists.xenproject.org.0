Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E008671F46
	for <lists+xen-devel@lfdr.de>; Tue, 23 Jul 2019 20:27:47 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hpzTn-0004y0-Fg; Tue, 23 Jul 2019 18:25:39 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=bPW/=VU=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1hpzTl-0004x8-Uf
 for xen-devel@lists.xenproject.org; Tue, 23 Jul 2019 18:25:37 +0000
X-Inumbo-ID: 42e41838-ad77-11e9-9efe-ebe68f44bfcf
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 42e41838-ad77-11e9-9efe-ebe68f44bfcf;
 Tue, 23 Jul 2019 18:25:35 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 137C6ACA8;
 Tue, 23 Jul 2019 18:25:34 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 23 Jul 2019 20:25:29 +0200
Message-Id: <20190723182530.24087-2-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190723182530.24087-1-jgross@suse.com>
References: <20190723182530.24087-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v2 1/2] xen/x86: cleanup unused NMI/MCE code
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

cHZfcmFpc2VfaW50ZXJydXB0KCkgaXMgb25seSBjYWxsZWQgZm9yIE5NSXMgdGhlc2UgZGF5cywg
c28gdGhlIE1DRQpzcGVjaWZpYyBwYXJ0IGNhbiBiZSByZW1vdmVkLiBSZW5hbWUgcHZfcmFpc2Vf
aW50ZXJydXB0KCkgdG8KcHZfcmFpc2Vfbm1pKCkgYW5kIE5NSV9NQ0VfU09GVElSUSB0byBOTUlf
U09GVElSUS4KCkFkZGl0aW9uYWxseSB0aGVyZSBpcyBubyBuZWVkIHRvIHBpbiB0aGUgdmNwdSB0
aGUgTk1JIGlzIGRlbGl2ZXJlZAp0bywgdGhhdCBpcyBhIGxlZnRvdmVyIG9mIChhbHJlYWR5IHJl
bW92ZWQpIE1DRSBoYW5kbGluZy4gU28gcmVtb3ZlCnRoZSBwaW5uaW5nLCB0b28uCgpTaWduZWQt
b2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+Ci0tLQogeGVuL2FyY2gveDg2
L3B2L3RyYXBzLmMgICAgICAgIHwgODggKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCiB4ZW4vYXJjaC94ODYvdHJhcHMuYyAgICAgICAgICAgfCAxMCArLS0tLQogeGVu
L2NvbW1vbi9kb21haW4uYyAgICAgICAgICAgIHwgIDMgLS0KIHhlbi9pbmNsdWRlL2FzbS14ODYv
cHYvdHJhcHMuaCB8ICA4ICsrLS0KIHhlbi9pbmNsdWRlL2FzbS14ODYvc29mdGlycS5oICB8ICAy
ICstCiB4ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaCAgICAgICAgfCAgMiAtCiA2IGZpbGVzIGNoYW5n
ZWQsIDIzIGluc2VydGlvbnMoKyksIDkwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL3g4Ni9wdi90cmFwcy5jIGIveGVuL2FyY2gveDg2L3B2L3RyYXBzLmMKaW5kZXggMTc0MDc4
NGZmMi4uOTQzNmM4MDA0NyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3B2L3RyYXBzLmMKKysr
IGIveGVuL2FyY2gveDg2L3B2L3RyYXBzLmMKQEAgLTEzNiw0NyArMTM2LDIxIEBAIGJvb2wgc2V0
X2d1ZXN0X25taV90cmFwYm91bmNlKHZvaWQpCiAgICAgcmV0dXJuICFudWxsX3RyYXBfYm91bmNl
KGN1cnIsIHRiKTsKIH0KIAotc3RydWN0IHNvZnRpcnFfdHJhcCB7Ci0gICAgc3RydWN0IGRvbWFp
biAqZG9tYWluOyAgIC8qIGRvbWFpbiB0byBpbmplY3QgdHJhcCAqLwotICAgIHN0cnVjdCB2Y3B1
ICp2Y3B1OyAgICAgICAvKiB2Y3B1IHRvIGluamVjdCB0cmFwICovCi0gICAgdW5zaWduZWQgaW50
IHByb2Nlc3NvcjsgIC8qIHBoeXNpY2FsIGNwdSB0byBpbmplY3QgdHJhcCAqLwotfTsKK3N0YXRp
YyBERUZJTkVfUEVSX0NQVShzdHJ1Y3QgdmNwdSAqLCBzb2Z0aXJxX25taV92Y3B1KTsKIAotc3Rh
dGljIERFRklORV9QRVJfQ1BVKHN0cnVjdCBzb2Z0aXJxX3RyYXAsIHNvZnRpcnFfdHJhcCk7Ci0K
LXN0YXRpYyB2b2lkIG5taV9tY2Vfc29mdGlycSh2b2lkKQorc3RhdGljIHZvaWQgbm1pX3NvZnRp
cnEodm9pZCkKIHsKICAgICB1bnNpZ25lZCBpbnQgY3B1ID0gc21wX3Byb2Nlc3Nvcl9pZCgpOwot
ICAgIHN0cnVjdCBzb2Z0aXJxX3RyYXAgKnN0ID0gJnBlcl9jcHUoc29mdGlycV90cmFwLCBjcHUp
OwotCi0gICAgQlVHX09OKHN0LT52Y3B1ID09IE5VTEwpOwotCi0gICAgLyoKLSAgICAgKiBTZXQg
dGhlIHRtcCB2YWx1ZSB1bmNvbmRpdGlvbmFsbHksIHNvIHRoYXQgdGhlIGNoZWNrIGluIHRoZSBp
cmV0Ci0gICAgICogaHlwZXJjYWxsIHdvcmtzLgotICAgICAqLwotICAgIGNwdW1hc2tfY29weShz
dC0+dmNwdS0+Y3B1X2hhcmRfYWZmaW5pdHlfdG1wLAotICAgICAgICAgICAgICAgICBzdC0+dmNw
dS0+Y3B1X2hhcmRfYWZmaW5pdHkpOworICAgIHN0cnVjdCB2Y3B1ICoqdl9wdHIgPSAmcGVyX2Nw
dShzb2Z0aXJxX25taV92Y3B1LCBjcHUpOwogCi0gICAgaWYgKCAoY3B1ICE9IHN0LT5wcm9jZXNz
b3IpIHx8Ci0gICAgICAgICAoc3QtPnByb2Nlc3NvciAhPSBzdC0+dmNwdS0+cHJvY2Vzc29yKSAp
Ci0gICAgewotCi0gICAgICAgIC8qCi0gICAgICAgICAqIFdlIGFyZSBvbiBhIGRpZmZlcmVudCBw
aHlzaWNhbCBjcHUuICBNYWtlIHN1cmUgdG8gd2FrZXVwIHRoZSB2Y3B1IG9uCi0gICAgICAgICAq
IHRoZSBzcGVjaWZpZWQgcHJvY2Vzc29yLgotICAgICAgICAgKi8KLSAgICAgICAgdmNwdV9zZXRf
aGFyZF9hZmZpbml0eShzdC0+dmNwdSwgY3B1bWFza19vZihzdC0+cHJvY2Vzc29yKSk7Ci0KLSAg
ICAgICAgLyogQWZmaW5pdHkgaXMgcmVzdG9yZWQgaW4gdGhlIGlyZXQgaHlwZXJjYWxsLiAqLwot
ICAgIH0KKyAgICBCVUdfT04oKnZfcHRyID09IE5VTEwpOwogCiAgICAgLyoKLSAgICAgKiBPbmx5
IHVzZWQgdG8gZGVmZXIgd2FrZXVwIG9mIGRvbWFpbi92Y3B1IHRvIGEgc2FmZSAobm9uLU5NSS9N
Q0UpCisgICAgICogT25seSB1c2VkIHRvIGRlZmVyIHdha2V1cCBvZiBkb21haW4vdmNwdSB0byBh
IHNhZmUgKG5vbi1OTUkpCiAgICAgICogY29udGV4dC4KICAgICAgKi8KLSAgICB2Y3B1X2tpY2so
c3QtPnZjcHUpOwotICAgIHN0LT52Y3B1ID0gTlVMTDsKKyAgICB2Y3B1X2tpY2soKnZfcHRyKTsK
KyAgICAqdl9wdHIgPSBOVUxMOwogfQogCiB2b2lkIF9faW5pdCBwdl90cmFwX2luaXQodm9pZCkK
QEAgLTE4OSw1MCArMTYzLDIyIEBAIHZvaWQgX19pbml0IHB2X3RyYXBfaW5pdCh2b2lkKQogICAg
IF9zZXRfZ2F0ZShpZHRfdGFibGUgKyBMRUdBQ1lfU1lTQ0FMTF9WRUNUT1IsIFNZU19ERVNDX3Ry
YXBfZ2F0ZSwgMywKICAgICAgICAgICAgICAgJmludDgwX2RpcmVjdF90cmFwKTsKIAotICAgIG9w
ZW5fc29mdGlycShOTUlfTUNFX1NPRlRJUlEsIG5taV9tY2Vfc29mdGlycSk7CisgICAgb3Blbl9z
b2Z0aXJxKE5NSV9TT0ZUSVJRLCBubWlfc29mdGlycSk7CiB9CiAKLWludCBwdl9yYWlzZV9pbnRl
cnJ1cHQoc3RydWN0IHZjcHUgKnYsIHVpbnQ4X3QgdmVjdG9yKQoraW50IHB2X3JhaXNlX25taShz
dHJ1Y3QgdmNwdSAqdikKIHsKLSAgICBzdHJ1Y3Qgc29mdGlycV90cmFwICpzdCA9ICZwZXJfY3B1
KHNvZnRpcnFfdHJhcCwgc21wX3Byb2Nlc3Nvcl9pZCgpKTsKKyAgICBzdHJ1Y3QgdmNwdSAqKnZf
cHRyID0gJnBlcl9jcHUoc29mdGlycV9ubWlfdmNwdSwgc21wX3Byb2Nlc3Nvcl9pZCgpKTsKIAot
ICAgIHN3aXRjaCAoIHZlY3RvciApCisgICAgaWYgKCBjbXB4Y2hncHRyKHZfcHRyLCBOVUxMLCB2
KSApCisgICAgICAgIHJldHVybiAtRUJVU1k7CisgICAgaWYgKCAhdGVzdF9hbmRfc2V0X2Jvb2wo
di0+bm1pX3BlbmRpbmcpICkKICAgICB7Ci0gICAgY2FzZSBUUkFQX25taToKLSAgICAgICAgaWYg
KCBjbXB4Y2hncHRyKCZzdC0+dmNwdSwgTlVMTCwgdikgKQotICAgICAgICAgICAgcmV0dXJuIC1F
QlVTWTsKLSAgICAgICAgaWYgKCAhdGVzdF9hbmRfc2V0X2Jvb2wodi0+bm1pX3BlbmRpbmcpICkK
LSAgICAgICAgewotICAgICAgICAgICAgc3QtPmRvbWFpbiA9IHYtPmRvbWFpbjsKLSAgICAgICAg
ICAgIHN0LT5wcm9jZXNzb3IgPSB2LT5wcm9jZXNzb3I7Ci0KLSAgICAgICAgICAgIC8qIE5vdCBz
YWZlIHRvIHdha2UgdXAgYSB2Y3B1IGhlcmUgKi8KLSAgICAgICAgICAgIHJhaXNlX3NvZnRpcnEo
Tk1JX01DRV9TT0ZUSVJRKTsKLSAgICAgICAgICAgIHJldHVybiAwOwotICAgICAgICB9Ci0gICAg
ICAgIHN0LT52Y3B1ID0gTlVMTDsKLSAgICAgICAgYnJlYWs7Ci0KLSAgICBjYXNlIFRSQVBfbWFj
aGluZV9jaGVjazoKLSAgICAgICAgaWYgKCBjbXB4Y2hncHRyKCZzdC0+dmNwdSwgTlVMTCwgdikg
KQotICAgICAgICAgICAgcmV0dXJuIC1FQlVTWTsKLQotICAgICAgICAvKgotICAgICAgICAgKiBX
ZSBhcmUgY2FsbGVkIGJ5IHRoZSBtYWNoaW5lIGNoZWNrIChleGNlcHRpb24gb3IgcG9sbGluZykg
aGFuZGxlcnMKLSAgICAgICAgICogb24gdGhlIHBoeXNpY2FsIENQVSB0aGF0IHJlcG9ydGVkIGEg
bWFjaGluZSBjaGVjayBlcnJvci4KLSAgICAgICAgICovCi0gICAgICAgIGlmICggIXRlc3RfYW5k
X3NldF9ib29sKHYtPm1jZV9wZW5kaW5nKSApCi0gICAgICAgIHsKLSAgICAgICAgICAgIHN0LT5k
b21haW4gPSB2LT5kb21haW47Ci0gICAgICAgICAgICBzdC0+cHJvY2Vzc29yID0gdi0+cHJvY2Vz
c29yOwotCi0gICAgICAgICAgICAvKiBub3Qgc2FmZSB0byB3YWtlIHVwIGEgdmNwdSBoZXJlICov
Ci0gICAgICAgICAgICByYWlzZV9zb2Z0aXJxKE5NSV9NQ0VfU09GVElSUSk7Ci0gICAgICAgICAg
ICByZXR1cm4gMDsKLSAgICAgICAgfQotICAgICAgICBzdC0+dmNwdSA9IE5VTEw7Ci0gICAgICAg
IGJyZWFrOworICAgICAgICAvKiBOb3Qgc2FmZSB0byB3YWtlIHVwIGEgdmNwdSBoZXJlICovCisg
ICAgICAgIHJhaXNlX3NvZnRpcnEoTk1JX1NPRlRJUlEpOworICAgICAgICByZXR1cm4gMDsKICAg
ICB9CisgICAgKnZfcHRyID0gTlVMTDsKIAogICAgIC8qIERlbGl2ZXJ5IGZhaWxlZCAqLwogICAg
IHJldHVybiAtRUlPOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L3RyYXBzLmMgYi94ZW4vYXJj
aC94ODYvdHJhcHMuYwppbmRleCAyNWI0YjQ3ZTVlLi4wOGQ3ZWRjNTY4IDEwMDY0NAotLS0gYS94
ZW4vYXJjaC94ODYvdHJhcHMuYworKysgYi94ZW4vYXJjaC94ODYvdHJhcHMuYwpAQCAtMTYwMCwx
NCArMTYwMCw2IEBAIHZvaWQgYXN5bmNfZXhjZXB0aW9uX2NsZWFudXAoc3RydWN0IHZjcHUgKmN1
cnIpCiAgICAgaWYgKCAhY3Vyci0+YXN5bmNfZXhjZXB0aW9uX21hc2sgKQogICAgICAgICByZXR1
cm47CiAKLSAgICAvKiBSZXN0b3JlIGFmZmluaXR5LiAgKi8KLSAgICBpZiAoICFjcHVtYXNrX2Vt
cHR5KGN1cnItPmNwdV9oYXJkX2FmZmluaXR5X3RtcCkgJiYKLSAgICAgICAgICFjcHVtYXNrX2Vx
dWFsKGN1cnItPmNwdV9oYXJkX2FmZmluaXR5X3RtcCwgY3Vyci0+Y3B1X2hhcmRfYWZmaW5pdHkp
ICkKLSAgICB7Ci0gICAgICAgIHZjcHVfc2V0X2hhcmRfYWZmaW5pdHkoY3VyciwgY3Vyci0+Y3B1
X2hhcmRfYWZmaW5pdHlfdG1wKTsKLSAgICAgICAgY3B1bWFza19jbGVhcihjdXJyLT5jcHVfaGFy
ZF9hZmZpbml0eV90bXApOwotICAgIH0KLQogICAgIGlmICggIShjdXJyLT5hc3luY19leGNlcHRp
b25fbWFzayAmIChjdXJyLT5hc3luY19leGNlcHRpb25fbWFzayAtIDEpKSApCiAgICAgICAgIHRy
YXAgPSBfX3NjYW5iaXQoY3Vyci0+YXN5bmNfZXhjZXB0aW9uX21hc2ssIFZDUFVfVFJBUF9OT05F
KTsKICAgICBlbHNlCkBAIC0xNjM0LDcgKzE2MjYsNyBAQCBzdGF0aWMgdm9pZCBubWlfaHdkb21f
cmVwb3J0KHVuc2lnbmVkIGludCByZWFzb25faWR4KQogCiAgICAgc2V0X2JpdChyZWFzb25faWR4
LCBubWlfcmVhc29uKGQpKTsKIAotICAgIHB2X3JhaXNlX2ludGVycnVwdChkLT52Y3B1WzBdLCBU
UkFQX25taSk7CisgICAgcHZfcmFpc2Vfbm1pKGQtPnZjcHVbMF0pOwogfQogCiBzdGF0aWMgdm9p
ZCBwY2lfc2Vycl9lcnJvcihjb25zdCBzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncykKZGlmZiAt
LWdpdCBhL3hlbi9jb21tb24vZG9tYWluLmMgYi94ZW4vY29tbW9uL2RvbWFpbi5jCmluZGV4IDU1
YWE3NTliNzUuLmJjNTZhNTE4MTUgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vZG9tYWluLmMKKysr
IGIveGVuL2NvbW1vbi9kb21haW4uYwpAQCAtMTMzLDcgKzEzMyw2IEBAIHN0YXRpYyB2b2lkIHZj
cHVfaW5mb19yZXNldChzdHJ1Y3QgdmNwdSAqdikKIHN0YXRpYyB2b2lkIHZjcHVfZGVzdHJveShz
dHJ1Y3QgdmNwdSAqdikKIHsKICAgICBmcmVlX2NwdW1hc2tfdmFyKHYtPmNwdV9oYXJkX2FmZmlu
aXR5KTsKLSAgICBmcmVlX2NwdW1hc2tfdmFyKHYtPmNwdV9oYXJkX2FmZmluaXR5X3RtcCk7CiAg
ICAgZnJlZV9jcHVtYXNrX3Zhcih2LT5jcHVfaGFyZF9hZmZpbml0eV9zYXZlZCk7CiAgICAgZnJl
ZV9jcHVtYXNrX3Zhcih2LT5jcHVfc29mdF9hZmZpbml0eSk7CiAKQEAgLTE2MSw3ICsxNjAsNiBA
QCBzdHJ1Y3QgdmNwdSAqdmNwdV9jcmVhdGUoCiAgICAgZ3JhbnRfdGFibGVfaW5pdF92Y3B1KHYp
OwogCiAgICAgaWYgKCAhemFsbG9jX2NwdW1hc2tfdmFyKCZ2LT5jcHVfaGFyZF9hZmZpbml0eSkg
fHwKLSAgICAgICAgICF6YWxsb2NfY3B1bWFza192YXIoJnYtPmNwdV9oYXJkX2FmZmluaXR5X3Rt
cCkgfHwKICAgICAgICAgICF6YWxsb2NfY3B1bWFza192YXIoJnYtPmNwdV9oYXJkX2FmZmluaXR5
X3NhdmVkKSB8fAogICAgICAgICAgIXphbGxvY19jcHVtYXNrX3Zhcigmdi0+Y3B1X3NvZnRfYWZm
aW5pdHkpICkKICAgICAgICAgZ290byBmYWlsOwpAQCAtMTI2OSw3ICsxMjY3LDYgQEAgaW50IHZj
cHVfcmVzZXQoc3RydWN0IHZjcHUgKnYpCiAgICAgdi0+YXN5bmNfZXhjZXB0aW9uX21hc2sgPSAw
OwogICAgIG1lbXNldCh2LT5hc3luY19leGNlcHRpb25fc3RhdGUsIDAsIHNpemVvZih2LT5hc3lu
Y19leGNlcHRpb25fc3RhdGUpKTsKICNlbmRpZgotICAgIGNwdW1hc2tfY2xlYXIodi0+Y3B1X2hh
cmRfYWZmaW5pdHlfdG1wKTsKICAgICBjbGVhcl9iaXQoX1ZQRl9ibG9ja2VkLCAmdi0+cGF1c2Vf
ZmxhZ3MpOwogICAgIGNsZWFyX2JpdChfVlBGX2luX3Jlc2V0LCAmdi0+cGF1c2VfZmxhZ3MpOwog
CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20teDg2L3B2L3RyYXBzLmggYi94ZW4vaW5jbHVk
ZS9hc20teDg2L3B2L3RyYXBzLmgKaW5kZXggZmNjNzVmNWU5YS4uNDdkNmNmNWZjNCAxMDA2NDQK
LS0tIGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9wdi90cmFwcy5oCisrKyBiL3hlbi9pbmNsdWRlL2Fz
bS14ODYvcHYvdHJhcHMuaApAQCAtMjcsOCArMjcsOCBAQAogCiB2b2lkIHB2X3RyYXBfaW5pdCh2
b2lkKTsKIAotLyogRGVsaXZlciBpbnRlcnJ1cHQgdG8gUFYgZ3Vlc3QuIFJldHVybiAwIG9uIHN1
Y2Nlc3MuICovCi1pbnQgcHZfcmFpc2VfaW50ZXJydXB0KHN0cnVjdCB2Y3B1ICp2LCB1aW50OF90
IHZlY3Rvcik7CisvKiBEZWxpdmVyIE5NSSB0byBQViBndWVzdC4gUmV0dXJuIDAgb24gc3VjY2Vz
cy4gKi8KK2ludCBwdl9yYWlzZV9ubWkoc3RydWN0IHZjcHUgKnYpOwogCiBpbnQgcHZfZW11bGF0
ZV9wcml2aWxlZ2VkX29wKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKTsKIHZvaWQgcHZfZW11
bGF0ZV9nYXRlX29wKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKTsKQEAgLTQ2LDggKzQ2LDgg
QEAgc3RhdGljIGlubGluZSBib29sIHB2X3RyYXBfY2FsbGJhY2tfcmVnaXN0ZXJlZChjb25zdCBz
dHJ1Y3QgdmNwdSAqdiwKIAogc3RhdGljIGlubGluZSB2b2lkIHB2X3RyYXBfaW5pdCh2b2lkKSB7
fQogCi0vKiBEZWxpdmVyIGludGVycnVwdCB0byBQViBndWVzdC4gUmV0dXJuIDAgb24gc3VjY2Vz
cy4gKi8KLXN0YXRpYyBpbmxpbmUgaW50IHB2X3JhaXNlX2ludGVycnVwdChzdHJ1Y3QgdmNwdSAq
diwgdWludDhfdCB2ZWN0b3IpIHsgcmV0dXJuIC1FT1BOT1RTVVBQOyB9CisvKiBEZWxpdmVyIE5N
SSB0byBQViBndWVzdC4gUmV0dXJuIDAgb24gc3VjY2Vzcy4gKi8KK3N0YXRpYyBpbmxpbmUgaW50
IHB2X3JhaXNlX25taShzdHJ1Y3QgdmNwdSAqdikgeyByZXR1cm4gLUVPUE5PVFNVUFA7IH0KIAog
c3RhdGljIGlubGluZSBpbnQgcHZfZW11bGF0ZV9wcml2aWxlZ2VkX29wKHN0cnVjdCBjcHVfdXNl
cl9yZWdzICpyZWdzKSB7IHJldHVybiAwOyB9CiBzdGF0aWMgaW5saW5lIHZvaWQgcHZfZW11bGF0
ZV9nYXRlX29wKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKSB7fQpkaWZmIC0tZ2l0IGEveGVu
L2luY2x1ZGUvYXNtLXg4Ni9zb2Z0aXJxLmggYi94ZW4vaW5jbHVkZS9hc20teDg2L3NvZnRpcnEu
aAppbmRleCA1YzFhN2RiNTY2Li4wYjdhNzdmMTFmIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9h
c20teDg2L3NvZnRpcnEuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L3NvZnRpcnEuaApAQCAt
MSw3ICsxLDcgQEAKICNpZm5kZWYgX19BU01fU09GVElSUV9IX18KICNkZWZpbmUgX19BU01fU09G
VElSUV9IX18KIAotI2RlZmluZSBOTUlfTUNFX1NPRlRJUlEgICAgICAgIChOUl9DT01NT05fU09G
VElSUVMgKyAwKQorI2RlZmluZSBOTUlfU09GVElSUSAgICAgICAgICAgIChOUl9DT01NT05fU09G
VElSUVMgKyAwKQogI2RlZmluZSBUSU1FX0NBTElCUkFURV9TT0ZUSVJRIChOUl9DT01NT05fU09G
VElSUVMgKyAxKQogI2RlZmluZSBWQ1BVX0tJQ0tfU09GVElSUSAgICAgIChOUl9DT01NT05fU09G
VElSUVMgKyAyKQogCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaCBiL3hlbi9p
bmNsdWRlL3hlbi9zY2hlZC5oCmluZGV4IGI0MGM4ZmQxMzguLmMxOTdlOTNkNzMgMTAwNjQ0Ci0t
LSBhL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC5o
CkBAIC0yNDUsOCArMjQ1LDYgQEAgc3RydWN0IHZjcHUKIAogICAgIC8qIEJpdG1hc2sgb2YgQ1BV
cyBvbiB3aGljaCB0aGlzIFZDUFUgbWF5IHJ1bi4gKi8KICAgICBjcHVtYXNrX3Zhcl90ICAgIGNw
dV9oYXJkX2FmZmluaXR5OwotICAgIC8qIFVzZWQgdG8gY2hhbmdlIGFmZmluaXR5IHRlbXBvcmFy
aWx5LiAqLwotICAgIGNwdW1hc2tfdmFyX3QgICAgY3B1X2hhcmRfYWZmaW5pdHlfdG1wOwogICAg
IC8qIFVzZWQgdG8gcmVzdG9yZSBhZmZpbml0eSBhY3Jvc3MgUzMuICovCiAgICAgY3B1bWFza192
YXJfdCAgICBjcHVfaGFyZF9hZmZpbml0eV9zYXZlZDsKIAotLSAKMi4xNi40CgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

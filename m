Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 367523176A
	for <lists+xen-devel@lfdr.de>; Sat,  1 Jun 2019 01:06:11 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hWqWF-0000fu-7Z; Fri, 31 May 2019 23:01:03 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=u5H8=T7=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hWqWE-0000fp-AL
 for xen-devel@lists.xenproject.org; Fri, 31 May 2019 23:01:02 +0000
X-Inumbo-ID: f4caad0e-83f7-11e9-8980-bc764e045a96
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id f4caad0e-83f7-11e9-8980-bc764e045a96;
 Fri, 31 May 2019 23:01:00 +0000 (UTC)
Received: from sstabellini-ThinkPad-T480s.xilinx.com
 (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 0953B26FD4;
 Fri, 31 May 2019 23:00:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1559343659;
 bh=ux1rlcx1ZzlpWW4DxZtrV8RJCSi6w5Whb9yaji2y/p8=;
 h=From:To:Cc:Subject:Date:From;
 b=JDwcUs72QQ0oZNc4BGzmBXBcKRGrTC8ZqsVOGux3TYGfg/qUX6y8SrCeEbyilvr1R
 FBzArYsEyJRpdjpfEtzbSVKdW5FdHLZP0H6uwWS/1wiMuGrfZfNod10g6QnCg86tm2
 Dti6VgquQLeNXUjay9WleiZAEYxLV2vP3IPzO9f8=
From: Stefano Stabellini <sstabellini@kernel.org>
To: xen-devel@lists.xenproject.org
Date: Fri, 31 May 2019 16:00:56 -0700
Message-Id: <20190531230056.14506-1-sstabellini@kernel.org>
X-Mailer: git-send-email 2.17.1
Subject: [Xen-devel] [PATCH] xen: debug_registers_trap, perf_counters_trap,
 and "static_partitioning"
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <stefanos@xilinx.com>, sstabellini@kernel.org,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>,
 Dario Faggioli <dfaggioli@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SW50cm9kdWNlIHR3byBnbG9iYWwgcGFyYW1ldGVycyB0byBkaXNhYmxlIGRlYnVnIHJlZ2lzdGVy
cyB0cmFwcGluZyBhbmQKcGVyZiBjb3VudGVycyB0cmFwcGluZy4gVGhleSBhcmUgb25seSBzYWZl
IHRvIHVzZSBpbiBzdGF0aWMgcGFydGl0aW9uZwpzY2VuYXJpb3Mgd2hlcmUgc2NoZWQ9bnVsbCBp
cyB1c2VkIC0tIHZjcHUgY2Fubm90IGJlIG1pZ3JhdGVkIGZyb20gb25lCnBjcHUgdG8gdGhlIG5l
eHQuCgpJbnRyb2R1Y2UgYSBuZXcgc2ltcGxlIHVtYnJlbGxhIGNvbW1hbmQgbGluZSBvcHRpb24K
InN0YXRpY19wYXJ0aXRpb25pbmciIHRoYXQgZW5hYmxlcyB2d2ZpPW5hdGl2ZSwgc2NoZWQ9bnVs
bCwgYW5kIGFsc28Kc2V0cyBkZWJ1Z19yZWdpc3RlcnNfdHJhcCBhbmQgcGVyZl9jb3VudGVyc190
cmFwIHRvIGZhbHNlLgoKU2lnbmVkLW9mZi1ieTogU3RlZmFubyBTdGFiZWxsaW5pIDxzdGVmYW5v
c0B4aWxpbnguY29tPgpDQzogSnVsaWVuIEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KQ0M6
IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+CkNDOiBHZW9yZ2UgRHVu
bGFwIDxHZW9yZ2UuRHVubGFwQGV1LmNpdHJpeC5jb20+CkNDOiBJYW4gSmFja3NvbiA8aWFuLmph
Y2tzb25AZXUuY2l0cml4LmNvbT4KQ0M6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4K
Q0M6IEtvbnJhZCBSemVzenV0ZWsgV2lsayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4KQ0M6IFRp
bSBEZWVnYW4gPHRpbUB4ZW4ub3JnPgpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4KQ0M6IEdlb3Jn
ZSBEdW5sYXAgPGdlb3JnZS5kdW5sYXBAZXUuY2l0cml4LmNvbT4KQ0M6IERhcmlvIEZhZ2dpb2xp
IDxkZmFnZ2lvbGlAc3VzZS5jb20+Ci0tLQpUaGlzIGlzIG5vdCBpZGVhbC4gVGhlIGJlc3QgY291
cnNlIG9mIGFjdGlvbiB3b3VsZCBiZSB0byBpbXBsZW1lbnQKcHJvcGVyIGNvbnRleHQgc3dpdGNo
aW5nIG9mIGFsbCB0aGUgbmVjZXNzYXJ5IGRlYnVnIGFuZCBwZXJmIGNvdW50ZXJzCnJlZ2lzdGVy
cy4gVGhpcyBpcyBhbiBpbXBlcmZlY3Qgc2hvcnRjdXQsIHdoaWNoIGNvdWxkIHJlYXNvbmFibHkg
YmUgbGVmdApvdXQgb2YgdGhlIHVwc3RyZWFtIHRyZWUgYnV0IEkgc2hhcmVkIGl0IHdpdGggb3Ro
ZXJzIGZvciB0aGVpcgpjb252ZW5pZW5jZS4KLS0tCiB4ZW4vYXJjaC9hcm0vdHJhcHMuYyAgICB8
IDI2ICsrKysrKysrKysrKysrKysrKysrKysrKystCiB4ZW4vY29tbW9uL3NjaGVkdWxlLmMgICB8
ICAyICstCiB4ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaCB8ICAxICsKIDMgZmlsZXMgY2hhbmdlZCwg
MjcgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS94ZW4vYXJjaC9h
cm0vdHJhcHMuYyBiL3hlbi9hcmNoL2FybS90cmFwcy5jCmluZGV4IDVjMThlOTE4YjAuLmQ2ZWFm
ZmRlMjMgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS90cmFwcy5jCisrKyBiL3hlbi9hcmNoL2Fy
bS90cmFwcy5jCkBAIC0xMTgsNiArMTE4LDI4IEBAIHN0YXRpYyBpbnQgX19pbml0IHBhcnNlX3Z3
ZmkoY29uc3QgY2hhciAqcykKIH0KIGN1c3RvbV9wYXJhbSgidndmaSIsIHBhcnNlX3Z3ZmkpOwog
CitzdGF0aWMgYm9vbCBkZWJ1Z19yZWdpc3RlcnNfdHJhcCA9IHRydWU7CitzdGF0aWMgYm9vbCBw
ZXJmX2NvdW50ZXJzX3RyYXAgPSB0cnVlOworCitzdGF0aWMgaW50IF9faW5pdCBvcHRfc3RhdGlj
X3BhcnRpdGlvbmluZyhjb25zdCBjaGFyICpzKQoreworICAgIGlmICggc3RyY21wKHMsICJ0cnVl
IikgJiYgCisgICAgICAgICBzdHJjbXAocywgIlRydWUiKSAmJgorICAgICAgICAgc3RyY21wKHMs
ICIxIikgKQorICAgICAgICByZXR1cm4gMDsKKworICAgIHZ3ZmkgPSBOQVRJVkU7CisgICAgZGVi
dWdfcmVnaXN0ZXJzX3RyYXAgPSBmYWxzZTsKKyAgICBwZXJmX2NvdW50ZXJzX3RyYXAgPSBmYWxz
ZTsKKyAgICBtZW1jcHkob3B0X3NjaGVkLCAibnVsbCIsIDUpOworCisgICAgLyogRGlzYWJsZSBU
cmFwIERlYnVnIGFuZCBQZXJmb3JtYW5jZSBNb25pdG9yIG5vdyBmb3IgQ1BVMCAqLworICAgIFdS
SVRFX1NZU1JFRyhIRENSX1REUkEsIE1EQ1JfRUwyKTsKKworICAgIHJldHVybiAwOworfQorY3Vz
dG9tX3BhcmFtKCJzdGF0aWNfcGFydGl0aW9uaW5nIiwgb3B0X3N0YXRpY19wYXJ0aXRpb25pbmcp
OworCiByZWdpc3Rlcl90IGdldF9kZWZhdWx0X2hjcl9mbGFncyh2b2lkKQogewogICAgIHJldHVy
biAgKEhDUl9QVFd8SENSX0JTVV9JTk5FUnxIQ1JfQU1PfEhDUl9JTU98SENSX0ZNT3xIQ1JfVk18
CkBAIC0xNjUsNyArMTg3LDkgQEAgdm9pZCBpbml0X3RyYXBzKHZvaWQpCiAgICAgV1JJVEVfU1lT
UkVHKCh2YWRkcl90KWh5cF90cmFwc192ZWN0b3IsIFZCQVJfRUwyKTsKIAogICAgIC8qIFRyYXAg
RGVidWcgYW5kIFBlcmZvcm1hbmNlIE1vbml0b3IgYWNjZXNzZXMgKi8KLSAgICBXUklURV9TWVNS
RUcoSERDUl9URFJBfEhEQ1JfVERPU0F8SERDUl9UREF8SERDUl9UUE18SERDUl9UUE1DUiwKKyAg
ICBXUklURV9TWVNSRUcoSERDUl9URFJBIHwKKyAgICAgICAgICAgICAgICAgKGRlYnVnX3JlZ2lz
dGVyc190cmFwID8gSERDUl9URE9TQXxIRENSX1REQSA6IDApIHwKKyAgICAgICAgICAgICAgICAg
KHBlcmZfY291bnRlcnNfdHJhcCA/IEhEQ1JfVFBNfEhEQ1JfVFBNQ1IgOiAwKSwKICAgICAgICAg
ICAgICAgICAgTURDUl9FTDIpOwogCiAgICAgLyogVHJhcCBDUDE1IGMxNSB1c2VkIGZvciBpbXBs
ZW1lbnRhdGlvbiBkZWZpbmVkIHJlZ2lzdGVycyAqLwpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9z
Y2hlZHVsZS5jIGIveGVuL2NvbW1vbi9zY2hlZHVsZS5jCmluZGV4IDA0OWY5M2Y3YWEuLjUxZWIz
ZDc3MGIgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vc2NoZWR1bGUuYworKysgYi94ZW4vY29tbW9u
L3NjaGVkdWxlLmMKQEAgLTM5LDcgKzM5LDcgQEAKICNpbmNsdWRlIDx4ZW4vZXJyLmg+CiAKIC8q
IG9wdF9zY2hlZDogc2NoZWR1bGVyIC0gZGVmYXVsdCB0byBjb25maWd1cmVkIHZhbHVlICovCi1z
dGF0aWMgY2hhciBfX2luaXRkYXRhIG9wdF9zY2hlZFsxMF0gPSBDT05GSUdfU0NIRURfREVGQVVM
VDsKK2NoYXIgX19pbml0ZGF0YSBvcHRfc2NoZWRbMTBdID0gQ09ORklHX1NDSEVEX0RFRkFVTFQ7
CiBzdHJpbmdfcGFyYW0oInNjaGVkIiwgb3B0X3NjaGVkKTsKIAogLyogaWYgc2NoZWRfc210X3Bv
d2VyX3NhdmluZ3MgaXMgc2V0LApkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLmgg
Yi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaAppbmRleCBiNzNjY2JkZjNhLi5jNDBhMWI1ZGJjIDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4v
c2NoZWQuaApAQCAtOTA2LDYgKzkwNiw3IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBpc192Y3B1X29u
bGluZShjb25zdCBzdHJ1Y3QgdmNwdSAqdikKIH0KIAogZXh0ZXJuIGJvb2wgc2NoZWRfc210X3Bv
d2VyX3NhdmluZ3M7CitleHRlcm4gY2hhciBvcHRfc2NoZWRbMTBdOwogCiBleHRlcm4gZW51bSBj
cHVmcmVxX2NvbnRyb2xsZXIgewogICAgIEZSRVFDVExfbm9uZSwgRlJFUUNUTF9kb20wX2tlcm5l
bCwgRlJFUUNUTF94ZW4KLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3Rz
LnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0
aW5mby94ZW4tZGV2ZWw=

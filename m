Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DFDAD169DB1
	for <lists+xen-devel@lfdr.de>; Mon, 24 Feb 2020 06:26:04 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j66Bh-0000cT-Dd; Mon, 24 Feb 2020 05:21:49 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=i9ST=4L=redhat.com=mcroce@srs-us1.protection.inumbo.net>)
 id 1j5uZR-0007Zr-8W
 for xen-devel@lists.xenproject.org; Sun, 23 Feb 2020 16:57:33 +0000
X-Inumbo-ID: 94e113cc-565d-11ea-ade5-bc764e2007e4
Received: from us-smtp-delivery-1.mimecast.com (unknown [205.139.110.120])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id 94e113cc-565d-11ea-ade5-bc764e2007e4;
 Sun, 23 Feb 2020 16:57:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1582477051;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding;
 bh=iBig+2BhL5tztti4MdusiQj79QTjCKP9TpXeSFQP280=;
 b=TmQEfZtDA8wPhvOAWo1CeCYsQcgZRvEZQLqtW1TXmexoegPscQTCtKm/UswKkWSNHoBYMX
 Gdj1S2YBKp1tRpbwGiqo5e+bNKzqH0CUBD2L+PQjx5UpzpLXxiJoCKAjXKt1RROsR8Hqaw
 C856ievHqYmnZqTI+tae9kgqEu2aPLs=
Received: from mail-wr1-f70.google.com (mail-wr1-f70.google.com
 [209.85.221.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-332-T262L91HNj6wNXZsm0mANg-1; Sun, 23 Feb 2020 11:57:28 -0500
X-MC-Unique: T262L91HNj6wNXZsm0mANg-1
Received: by mail-wr1-f70.google.com with SMTP id v17so4191455wrm.17
 for <xen-devel@lists.xenproject.org>; Sun, 23 Feb 2020 08:57:28 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=dXCdUOifL1y7ImhKHM+pt2dYrIIgz91G/sg1cRDWUbQ=;
 b=KUo89hpAoJvR2frzWrzN4Vhfoe0hHdu+9Cg1Mi6Hh2wqnmhFNZ1jAYyPnggOXE48ac
 SDd28KzABzjn2BTf2HbL9z3TJL8G215FpM8OzuLnWBEBXhnIKzpWW+/hRFbKmNLOI6cI
 QYB/Xy3thCGg4Lsw16oUUXqvjUUu67ubhk5b9Aq1dJxuhT0WqJcIF75E6tkOBhF+4V+E
 NUlnhBEvyZvgVGRPxo68M7OgkmpoRjFY8egqAKRj8w2AMUxyM2MBkT91qKR6hkkRjq9Q
 p8rvroXVWcZK73a+5ekYaWgrXxB+Ldg3Xq9P0qMlDE0LRdlJkWGNYrpPmDSvdAtZuHOQ
 2F3Q==
X-Gm-Message-State: APjAAAXbLHe7WHkkphSfqFft9wf+w6wAUXafLI9B+75VNFqHcbIKqbyD
 epHXkjW8rqV+A7pf58HAubtk8mjFjJVWCOnXgN2TqDE6+qeIxrTDiGcb/v8KtwsUD+GQ5Sg99um
 YDk7CYmm5iyEVUHuvB3Ysr92A+Hw=
X-Received: by 2002:adf:f1d0:: with SMTP id z16mr59912062wro.209.1582477047451; 
 Sun, 23 Feb 2020 08:57:27 -0800 (PST)
X-Google-Smtp-Source: APXvYqzFS3zBFiCGocQiagTjPvaYTxt1nbybeymUVf9l9vfZLsjf4vyDXj0+jj+RaLCK+CJNKHdgWA==
X-Received: by 2002:adf:f1d0:: with SMTP id z16mr59912042wro.209.1582477047115; 
 Sun, 23 Feb 2020 08:57:27 -0800 (PST)
Received: from raver.teknoraver.net (net-47-53-225-50.cust.vodafonedsl.it.
 [47.53.225.50])
 by smtp.gmail.com with ESMTPSA id 133sm15212193wme.32.2020.02.23.08.57.26
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sun, 23 Feb 2020 08:57:26 -0800 (PST)
From: Matteo Croce <mcroce@redhat.com>
To: linux-block@vger.kernel.org, linux-kernel@vger.kernel.org,
 linux-nvdimm@lists.01.org, linux-bcache@vger.kernel.org,
 linux-raid@vger.kernel.org, linux-mmc@vger.kernel.org,
 xen-devel@lists.xenproject.org, linux-scsi@vger.kernel.org,
 linux-nfs@vger.kernel.org
Date: Sun, 23 Feb 2020 17:57:24 +0100
Message-Id: <20200223165724.23816-1-mcroce@redhat.com>
X-Mailer: git-send-email 2.24.1
MIME-Version: 1.0
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
X-Mailman-Approved-At: Mon, 24 Feb 2020 05:21:47 +0000
Subject: [Xen-devel] [PATCH] block: refactor duplicated macros
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Jens Axboe <axboe@kernel.dk>, "James E.J. Bottomley" <jejb@linux.ibm.com>,
 Ulf Hansson <ulf.hansson@linaro.org>,
 Anna Schumaker <anna.schumaker@netapp.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIG1hY3JvcyBQQUdFX1NFQ1RPUlMsIFBBR0VfU0VDVE9SU19TSElGVCBhbmQgU0VDVE9SX01B
U0sgYXJlIGRlZmluZWQKc2V2ZXJhbCB0aW1lcyBpbiBkaWZmZXJlbnQgZmxhdm91cnMgYWNyb3Nz
IHRoZSB3aG9sZSB0cmVlLgpEZWZpbmUgdGhlbSBqdXN0IG9uY2UgaW4gYSBjb21tb24gaGVhZGVy
LgoKU2lnbmVkLW9mZi1ieTogTWF0dGVvIENyb2NlIDxtY3JvY2VAcmVkaGF0LmNvbT4KLS0tCiBi
bG9jay9ibGstbGliLmMgICAgICAgICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL2Jsb2NrL2Jy
ZC5jICAgICAgICAgICAgICB8ICAzIC0tLQogZHJpdmVycy9ibG9jay9udWxsX2Jsa19tYWluLmMg
ICAgfCAgNCAtLS0tCiBkcml2ZXJzL2Jsb2NrL3pyYW0venJhbV9kcnYuYyAgICB8ICA4ICsrKyst
LS0tCiBkcml2ZXJzL2Jsb2NrL3pyYW0venJhbV9kcnYuaCAgICB8ICAyIC0tCiBkcml2ZXJzL2Rh
eC9zdXBlci5jICAgICAgICAgICAgICB8ICAyICstCiBkcml2ZXJzL21kL2JjYWNoZS91dGlsLmgg
ICAgICAgICB8ICAyIC0tCiBkcml2ZXJzL21kL2RtLWJ1ZmlvLmMgICAgICAgICAgICB8ICA2ICsr
Ky0tLQogZHJpdmVycy9tZC9kbS1pbnRlZ3JpdHkuYyAgICAgICAgfCAxMCArKysrKy0tLS0tCiBk
cml2ZXJzL21kL21kLmMgICAgICAgICAgICAgICAgICB8ICA0ICsrLS0KIGRyaXZlcnMvbWQvcmFp
ZDEuYyAgICAgICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvbW1jL2NvcmUvaG9zdC5jICAgICAg
ICAgIHwgIDMgKystCiBkcml2ZXJzL3Njc2kveGVuLXNjc2lmcm9udC5jICAgICB8ICA0ICsrLS0K
IGZzL2lvbWFwL2J1ZmZlcmVkLWlvLmMgICAgICAgICAgIHwgIDIgKy0KIGZzL25mcy9ibG9ja2xh
eW91dC9ibG9ja2xheW91dC5oIHwgIDIgLS0KIGluY2x1ZGUvbGludXgvYmxrZGV2LmggICAgICAg
ICAgIHwgIDQgKysrKwogaW5jbHVkZS9saW51eC9kZXZpY2UtbWFwcGVyLmggICAgfCAgMSAtCiAx
NyBmaWxlcyBjaGFuZ2VkLCAyNiBpbnNlcnRpb25zKCspLCAzNSBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS9ibG9jay9ibGstbGliLmMgYi9ibG9jay9ibGstbGliLmMKaW5kZXggNWYyYzQyOWQ0
Mzc4Li5mNWU3MDVkMzA3ZTAgMTAwNjQ0Ci0tLSBhL2Jsb2NrL2Jsay1saWIuYworKysgYi9ibG9j
ay9ibGstbGliLmMKQEAgLTI2MCw3ICsyNjAsNyBAQCBzdGF0aWMgaW50IF9fYmxrZGV2X2lzc3Vl
X3dyaXRlX3plcm9lcyhzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LAogICovCiBzdGF0aWMgdW5z
aWduZWQgaW50IF9fYmxrZGV2X3NlY3RvcnNfdG9fYmlvX3BhZ2VzKHNlY3Rvcl90IG5yX3NlY3Rz
KQogewotCXNlY3Rvcl90IHBhZ2VzID0gRElWX1JPVU5EX1VQX1NFQ1RPUl9UKG5yX3NlY3RzLCBQ
QUdFX1NJWkUgLyA1MTIpOworCXNlY3Rvcl90IHBhZ2VzID0gRElWX1JPVU5EX1VQX1NFQ1RPUl9U
KG5yX3NlY3RzLCBQQUdFX1NFQ1RPUlMpOwogCiAJcmV0dXJuIG1pbihwYWdlcywgKHNlY3Rvcl90
KUJJT19NQVhfUEFHRVMpOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay9icmQuYyBiL2Ry
aXZlcnMvYmxvY2svYnJkLmMKaW5kZXggMjIwYzVlMThhYmEwLi4zM2UyY2JlMTE0MDAgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvYmxvY2svYnJkLmMKKysrIGIvZHJpdmVycy9ibG9jay9icmQuYwpAQCAt
MjUsOSArMjUsNiBAQAogCiAjaW5jbHVkZSA8bGludXgvdWFjY2Vzcy5oPgogCi0jZGVmaW5lIFBB
R0VfU0VDVE9SU19TSElGVAkoUEFHRV9TSElGVCAtIFNFQ1RPUl9TSElGVCkKLSNkZWZpbmUgUEFH
RV9TRUNUT1JTCQkoMSA8PCBQQUdFX1NFQ1RPUlNfU0hJRlQpCi0KIC8qCiAgKiBFYWNoIGJsb2Nr
IHJhbWRpc2sgZGV2aWNlIGhhcyBhIHJhZGl4X3RyZWUgYnJkX3BhZ2VzIG9mIHBhZ2VzIHRoYXQg
c3RvcmVzCiAgKiB0aGUgcGFnZXMgY29udGFpbmluZyB0aGUgYmxvY2sgZGV2aWNlJ3MgY29udGVu
dHMuIEEgYnJkIHBhZ2UncyAtPmluZGV4IGlzCmRpZmYgLS1naXQgYS9kcml2ZXJzL2Jsb2NrL251
bGxfYmxrX21haW4uYyBiL2RyaXZlcnMvYmxvY2svbnVsbF9ibGtfbWFpbi5jCmluZGV4IDE2NTEw
Nzk1ZTM3Ny4uYzQyYWY2Y2YwYjk3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Jsb2NrL251bGxfYmxr
X21haW4uYworKysgYi9kcml2ZXJzL2Jsb2NrL251bGxfYmxrX21haW4uYwpAQCAtMTEsMTAgKzEx
LDYgQEAKICNpbmNsdWRlIDxsaW51eC9pbml0Lmg+CiAjaW5jbHVkZSAibnVsbF9ibGsuaCIKIAot
I2RlZmluZSBQQUdFX1NFQ1RPUlNfU0hJRlQJKFBBR0VfU0hJRlQgLSBTRUNUT1JfU0hJRlQpCi0j
ZGVmaW5lIFBBR0VfU0VDVE9SUwkJKDEgPDwgUEFHRV9TRUNUT1JTX1NISUZUKQotI2RlZmluZSBT
RUNUT1JfTUFTSwkJKFBBR0VfU0VDVE9SUyAtIDEpCi0KICNkZWZpbmUgRlJFRV9CQVRDSAkJMTYK
IAogI2RlZmluZSBUSUNLU19QRVJfU0VDCQk1MFVMTApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9j
ay96cmFtL3pyYW1fZHJ2LmMgYi9kcml2ZXJzL2Jsb2NrL3pyYW0venJhbV9kcnYuYwppbmRleCAx
YmRiNTc5Mzg0MmIuLjZlZTU5ZGE0YTZlMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ibG9jay96cmFt
L3pyYW1fZHJ2LmMKKysrIGIvZHJpdmVycy9ibG9jay96cmFtL3pyYW1fZHJ2LmMKQEAgLTE1NDgs
OSArMTU0OCw5IEBAIHN0YXRpYyB2b2lkIF9fenJhbV9tYWtlX3JlcXVlc3Qoc3RydWN0IHpyYW0g
KnpyYW0sIHN0cnVjdCBiaW8gKmJpbykKIAlzdHJ1Y3QgYmlvX3ZlYyBidmVjOwogCXN0cnVjdCBi
dmVjX2l0ZXIgaXRlcjsKIAotCWluZGV4ID0gYmlvLT5iaV9pdGVyLmJpX3NlY3RvciA+PiBTRUNU
T1JTX1BFUl9QQUdFX1NISUZUOworCWluZGV4ID0gYmlvLT5iaV9pdGVyLmJpX3NlY3RvciA+PiBQ
QUdFX1NFQ1RPUlNfU0hJRlQ7CiAJb2Zmc2V0ID0gKGJpby0+YmlfaXRlci5iaV9zZWN0b3IgJgot
CQkgIChTRUNUT1JTX1BFUl9QQUdFIC0gMSkpIDw8IFNFQ1RPUl9TSElGVDsKKwkJICBTRUNUT1Jf
TUFTSykgPDwgU0VDVE9SX1NISUZUOwogCiAJc3dpdGNoIChiaW9fb3AoYmlvKSkgewogCWNhc2Ug
UkVRX09QX0RJU0NBUkQ6CkBAIC0xNjQzLDggKzE2NDMsOCBAQCBzdGF0aWMgaW50IHpyYW1fcndf
cGFnZShzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCiAJCWdvdG8g
b3V0OwogCX0KIAotCWluZGV4ID0gc2VjdG9yID4+IFNFQ1RPUlNfUEVSX1BBR0VfU0hJRlQ7Ci0J
b2Zmc2V0ID0gKHNlY3RvciAmIChTRUNUT1JTX1BFUl9QQUdFIC0gMSkpIDw8IFNFQ1RPUl9TSElG
VDsKKwlpbmRleCA9IHNlY3RvciA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CisJb2Zmc2V0ID0gKHNl
Y3RvciAmIFNFQ1RPUl9NQVNLKSA8PCBTRUNUT1JfU0hJRlQ7CiAKIAlidi5idl9wYWdlID0gcGFn
ZTsKIAlidi5idl9sZW4gPSBQQUdFX1NJWkU7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2Jsb2NrL3py
YW0venJhbV9kcnYuaCBiL2RyaXZlcnMvYmxvY2svenJhbS96cmFtX2Rydi5oCmluZGV4IGYyZmQ0
NmRhYTc2MC4uMTIzMDkxNzVkNTVlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Jsb2NrL3pyYW0venJh
bV9kcnYuaAorKysgYi9kcml2ZXJzL2Jsb2NrL3pyYW0venJhbV9kcnYuaApAQCAtMjEsOCArMjEs
NiBAQAogCiAjaW5jbHVkZSAiemNvbXAuaCIKIAotI2RlZmluZSBTRUNUT1JTX1BFUl9QQUdFX1NI
SUZUCShQQUdFX1NISUZUIC0gU0VDVE9SX1NISUZUKQotI2RlZmluZSBTRUNUT1JTX1BFUl9QQUdF
CSgxIDw8IFNFQ1RPUlNfUEVSX1BBR0VfU0hJRlQpCiAjZGVmaW5lIFpSQU1fTE9HSUNBTF9CTE9D
S19TSElGVCAxMgogI2RlZmluZSBaUkFNX0xPR0lDQUxfQkxPQ0tfU0laRQkoMSA8PCBaUkFNX0xP
R0lDQUxfQkxPQ0tfU0hJRlQpCiAjZGVmaW5lIFpSQU1fU0VDVE9SX1BFUl9MT0dJQ0FMX0JMT0NL
CVwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZGF4L3N1cGVyLmMgYi9kcml2ZXJzL2RheC9zdXBlci5j
CmluZGV4IDBhYTRiNmJjNTEwMS4uN2Y3NjcyZjcyMDg1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2Rh
eC9zdXBlci5jCisrKyBiL2RyaXZlcnMvZGF4L3N1cGVyLmMKQEAgLTkyLDcgKzkyLDcgQEAgYm9v
bCBfX2dlbmVyaWNfZnNkYXhfc3VwcG9ydGVkKHN0cnVjdCBkYXhfZGV2aWNlICpkYXhfZGV2LAog
CQlyZXR1cm4gZmFsc2U7CiAJfQogCi0JbGFzdF9wYWdlID0gUEZOX0RPV04oKHN0YXJ0ICsgc2Vj
dG9ycyAtIDEpICogNTEyKSAqIFBBR0VfU0laRSAvIDUxMjsKKwlsYXN0X3BhZ2UgPSBQRk5fRE9X
Tigoc3RhcnQgKyBzZWN0b3JzIC0gMSkgKiA1MTIpICogUEFHRV9TRUNUT1JTOwogCWVyciA9IGJk
ZXZfZGF4X3Bnb2ZmKGJkZXYsIGxhc3RfcGFnZSwgUEFHRV9TSVpFLCAmcGdvZmZfZW5kKTsKIAlp
ZiAoZXJyKSB7CiAJCXByX2RlYnVnKCIlczogZXJyb3I6IHVuYWxpZ25lZCBwYXJ0aXRpb24gZm9y
IGRheFxuIiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWQvYmNhY2hlL3V0aWwuaCBiL2RyaXZlcnMv
bWQvYmNhY2hlL3V0aWwuaAppbmRleCBjMDI5Zjc0NDMxOTAuLjU1MTk2ZTBmMzdjMyAxMDA2NDQK
LS0tIGEvZHJpdmVycy9tZC9iY2FjaGUvdXRpbC5oCisrKyBiL2RyaXZlcnMvbWQvYmNhY2hlL3V0
aWwuaApAQCAtMTUsOCArMTUsNiBAQAogCiAjaW5jbHVkZSAiY2xvc3VyZS5oIgogCi0jZGVmaW5l
IFBBR0VfU0VDVE9SUwkJKFBBR0VfU0laRSAvIDUxMikKLQogc3RydWN0IGNsb3N1cmU7CiAKICNp
ZmRlZiBDT05GSUdfQkNBQ0hFX0RFQlVHCmRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLWJ1Zmlv
LmMgYi9kcml2ZXJzL21kL2RtLWJ1ZmlvLmMKaW5kZXggMmQ1MTljMjIzNTYyLi5mNDQ5NmNlMGQ1
OTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWQvZG0tYnVmaW8uYworKysgYi9kcml2ZXJzL21kL2Rt
LWJ1ZmlvLmMKQEAgLTM4NCw3ICszODQsNyBAQCBzdGF0aWMgdm9pZCAqYWxsb2NfYnVmZmVyX2Rh
dGEoc3RydWN0IGRtX2J1ZmlvX2NsaWVudCAqYywgZ2ZwX3QgZ2ZwX21hc2ssCiAJICAgIGdmcF9t
YXNrICYgX19HRlBfTk9SRVRSWSkgewogCQkqZGF0YV9tb2RlID0gREFUQV9NT0RFX0dFVF9GUkVF
X1BBR0VTOwogCQlyZXR1cm4gKHZvaWQgKilfX2dldF9mcmVlX3BhZ2VzKGdmcF9tYXNrLAotCQkJ
CQkJYy0+c2VjdG9yc19wZXJfYmxvY2tfYml0cyAtIChQQUdFX1NISUZUIC0gU0VDVE9SX1NISUZU
KSk7CisJCQkJCQljLT5zZWN0b3JzX3Blcl9ibG9ja19iaXRzIC0gUEFHRV9TRUNUT1JTX1NISUZU
KTsKIAl9CiAKIAkqZGF0YV9tb2RlID0gREFUQV9NT0RFX1ZNQUxMT0M7CkBAIC00MjIsNyArNDIy
LDcgQEAgc3RhdGljIHZvaWQgZnJlZV9idWZmZXJfZGF0YShzdHJ1Y3QgZG1fYnVmaW9fY2xpZW50
ICpjLAogCiAJY2FzZSBEQVRBX01PREVfR0VUX0ZSRUVfUEFHRVM6CiAJCWZyZWVfcGFnZXMoKHVu
c2lnbmVkIGxvbmcpZGF0YSwKLQkJCSAgIGMtPnNlY3RvcnNfcGVyX2Jsb2NrX2JpdHMgLSAoUEFH
RV9TSElGVCAtIFNFQ1RPUl9TSElGVCkpOworCQkJICAgYy0+c2VjdG9yc19wZXJfYmxvY2tfYml0
cyAtIFBBR0VfU0VDVE9SU19TSElGVCk7CiAJCWJyZWFrOwogCiAJY2FzZSBEQVRBX01PREVfVk1B
TExPQzoKQEAgLTU5Nyw3ICs1OTcsNyBAQCBzdGF0aWMgdm9pZCB1c2VfYmlvKHN0cnVjdCBkbV9i
dWZmZXIgKmIsIGludCBydywgc2VjdG9yX3Qgc2VjdG9yLAogCXVuc2lnbmVkIHZlY19zaXplLCBs
ZW47CiAKIAl2ZWNfc2l6ZSA9IGItPmMtPmJsb2NrX3NpemUgPj4gUEFHRV9TSElGVDsKLQlpZiAo
dW5saWtlbHkoYi0+Yy0+c2VjdG9yc19wZXJfYmxvY2tfYml0cyA8IFBBR0VfU0hJRlQgLSBTRUNU
T1JfU0hJRlQpKQorCWlmICh1bmxpa2VseShiLT5jLT5zZWN0b3JzX3Blcl9ibG9ja19iaXRzIDwg
UEFHRV9TRUNUT1JTX1NISUZUKSkKIAkJdmVjX3NpemUgKz0gMjsKIAogCWJpbyA9IGJpb19rbWFs
bG9jKEdGUF9OT1dBSVQgfCBfX0dGUF9OT1JFVFJZIHwgX19HRlBfTk9XQVJOLCB2ZWNfc2l6ZSk7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL21kL2RtLWludGVncml0eS5jIGIvZHJpdmVycy9tZC9kbS1p
bnRlZ3JpdHkuYwppbmRleCBiMjI1YjNlNDQ1ZmEuLjRlNjBjZGE0NjVjYyAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9tZC9kbS1pbnRlZ3JpdHkuYworKysgYi9kcml2ZXJzL21kL2RtLWludGVncml0eS5j
CkBAIC02NTIsNyArNjUyLDcgQEAgc3RhdGljIHZvaWQgcGFnZV9saXN0X2xvY2F0aW9uKHN0cnVj
dCBkbV9pbnRlZ3JpdHlfYyAqaWMsIHVuc2lnbmVkIHNlY3Rpb24sIHVuc2kKIAogCXNlY3RvciA9
IHNlY3Rpb24gKiBpYy0+am91cm5hbF9zZWN0aW9uX3NlY3RvcnMgKyBvZmZzZXQ7CiAKLQkqcGxf
aW5kZXggPSBzZWN0b3IgPj4gKFBBR0VfU0hJRlQgLSBTRUNUT1JfU0hJRlQpOworCSpwbF9pbmRl
eCA9IHNlY3RvciA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CiAJKnBsX29mZnNldCA9IChzZWN0b3Ig
PDwgU0VDVE9SX1NISUZUKSAmIChQQUdFX1NJWkUgLSAxKTsKIH0KIApAQCAtOTUxLDcgKzk1MSw3
IEBAIHN0YXRpYyB2b2lkIHJ3X2pvdXJuYWxfc2VjdG9ycyhzdHJ1Y3QgZG1faW50ZWdyaXR5X2Mg
KmljLCBpbnQgb3AsIGludCBvcF9mbGFncywKIAkJcmV0dXJuOwogCX0KIAotCXBsX2luZGV4ID0g
c2VjdG9yID4+IChQQUdFX1NISUZUIC0gU0VDVE9SX1NISUZUKTsKKwlwbF9pbmRleCA9IHNlY3Rv
ciA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CiAJcGxfb2Zmc2V0ID0gKHNlY3RvciA8PCBTRUNUT1Jf
U0hJRlQpICYgKFBBR0VfU0laRSAtIDEpOwogCiAJaW9fcmVxLmJpX29wID0gb3A7CkBAIC0xMDcy
LDcgKzEwNzIsNyBAQCBzdGF0aWMgdm9pZCBjb3B5X2Zyb21fam91cm5hbChzdHJ1Y3QgZG1faW50
ZWdyaXR5X2MgKmljLCB1bnNpZ25lZCBzZWN0aW9uLCB1bnNpZwogCiAJc2VjdG9yID0gc2VjdGlv
biAqIGljLT5qb3VybmFsX3NlY3Rpb25fc2VjdG9ycyArIEpPVVJOQUxfQkxPQ0tfU0VDVE9SUyAr
IG9mZnNldDsKIAotCXBsX2luZGV4ID0gc2VjdG9yID4+IChQQUdFX1NISUZUIC0gU0VDVE9SX1NI
SUZUKTsKKwlwbF9pbmRleCA9IHNlY3RvciA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CiAJcGxfb2Zm
c2V0ID0gKHNlY3RvciA8PCBTRUNUT1JfU0hJRlQpICYgKFBBR0VfU0laRSAtIDEpOwogCiAJaW9f
cmVxLmJpX29wID0gUkVRX09QX1dSSVRFOwpAQCAtMzM0Myw3ICszMzQzLDcgQEAgc3RhdGljIGlu
dCBjcmVhdGVfam91cm5hbChzdHJ1Y3QgZG1faW50ZWdyaXR5X2MgKmljLCBjaGFyICoqZXJyb3Ip
CiAJaWMtPmNvbW1pdF9pZHNbM10gPSBjcHVfdG9fbGU2NCgweDQ0NDQ0NDQ0NDQ0NDQ0NDRVTEwp
OwogCiAJam91cm5hbF9wYWdlcyA9IHJvdW5kdXAoKF9fdTY0KWljLT5qb3VybmFsX3NlY3Rpb25z
ICogaWMtPmpvdXJuYWxfc2VjdGlvbl9zZWN0b3JzLAotCQkJCVBBR0VfU0laRSA+PiBTRUNUT1Jf
U0hJRlQpID4+IChQQUdFX1NISUZUIC0gU0VDVE9SX1NISUZUKTsKKwkJCQlQQUdFX1NJWkUgPj4g
U0VDVE9SX1NISUZUKSA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CiAJam91cm5hbF9kZXNjX3NpemUg
PSBqb3VybmFsX3BhZ2VzICogc2l6ZW9mKHN0cnVjdCBwYWdlX2xpc3QpOwogCWlmIChqb3VybmFs
X3BhZ2VzID49IHRvdGFscmFtX3BhZ2VzKCkgLSB0b3RhbGhpZ2hfcGFnZXMoKSB8fCBqb3VybmFs
X2Rlc2Nfc2l6ZSA+IFVMT05HX01BWCkgewogCQkqZXJyb3IgPSAiSm91cm5hbCBkb2Vzbid0IGZp
dCBpbnRvIG1lbW9yeSI7CkBAIC00MDc1LDcgKzQwNzUsNyBAQCBzdGF0aWMgaW50IGRtX2ludGVn
cml0eV9jdHIoc3RydWN0IGRtX3RhcmdldCAqdGksIHVuc2lnbmVkIGFyZ2MsIGNoYXIgKiphcmd2
KQogCQkJc3Bpbl9sb2NrX2luaXQoJmJicy0+YmlvX3F1ZXVlX2xvY2spOwogCiAJCQlzZWN0b3Ig
PSBpICogKEJJVE1BUF9CTE9DS19TSVpFID4+IFNFQ1RPUl9TSElGVCk7Ci0JCQlwbF9pbmRleCA9
IHNlY3RvciA+PiAoUEFHRV9TSElGVCAtIFNFQ1RPUl9TSElGVCk7CisJCQlwbF9pbmRleCA9IHNl
Y3RvciA+PiBQQUdFX1NFQ1RPUlNfU0hJRlQ7CiAJCQlwbF9vZmZzZXQgPSAoc2VjdG9yIDw8IFNF
Q1RPUl9TSElGVCkgJiAoUEFHRV9TSVpFIC0gMSk7CiAKIAkJCWJicy0+Yml0bWFwID0gbG93bWVt
X3BhZ2VfYWRkcmVzcyhpYy0+am91cm5hbFtwbF9pbmRleF0ucGFnZSkgKyBwbF9vZmZzZXQ7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL21kL21kLmMgYi9kcml2ZXJzL21kL21kLmMKaW5kZXggNDY5ZjU1
MTg2M2JlLi5iMjhmOTM5MDYwOGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWQvbWQuYworKysgYi9k
cml2ZXJzL21kL21kLmMKQEAgLTE3MzQsNyArMTczNCw3IEBAIHN0YXRpYyBpbnQgc3VwZXJfMV9s
b2FkKHN0cnVjdCBtZF9yZGV2ICpyZGV2LCBzdHJ1Y3QgbWRfcmRldiAqcmVmZGV2LCBpbnQgbWlu
b3JfCiAJCV9fbGU2NCAqYmJwOwogCQlpbnQgaTsKIAkJaW50IHNlY3RvcnMgPSBsZTE2X3RvX2Nw
dShzYi0+YmJsb2dfc2l6ZSk7Ci0JCWlmIChzZWN0b3JzID4gKFBBR0VfU0laRSAvIDUxMikpCisJ
CWlmIChzZWN0b3JzID4gUEFHRV9TRUNUT1JTKQogCQkJcmV0dXJuIC1FSU5WQUw7CiAJCW9mZnNl
dCA9IGxlMzJfdG9fY3B1KHNiLT5iYmxvZ19vZmZzZXQpOwogCQlpZiAob2Zmc2V0ID09IDApCkBA
IC04NzMzLDcgKzg3MzMsNyBAQCB2b2lkIG1kX2RvX3N5bmMoc3RydWN0IG1kX3RocmVhZCAqdGhy
ZWFkKQogCS8qCiAJICogVHVuZSByZWNvbnN0cnVjdGlvbjoKIAkgKi8KLQl3aW5kb3cgPSAzMiAq
IChQQUdFX1NJWkUgLyA1MTIpOworCXdpbmRvdyA9IDMyICogUEFHRV9TRUNUT1JTOwogCXByX2Rl
YnVnKCJtZDogdXNpbmcgJWRrIHdpbmRvdywgb3ZlciBhIHRvdGFsIG9mICVsbHVrLlxuIiwKIAkJ
IHdpbmRvdy8yLCAodW5zaWduZWQgbG9uZyBsb25nKW1heF9zZWN0b3JzLzIpOwogCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL21kL3JhaWQxLmMgYi9kcml2ZXJzL21kL3JhaWQxLmMKaW5kZXggY2Q4MTBl
MTk1MDg2Li4zN2EwYjU3MTkwM2EgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvbWQvcmFpZDEuYworKysg
Yi9kcml2ZXJzL21kL3JhaWQxLmMKQEAgLTIxMjksNyArMjEyOSw3IEBAIHN0YXRpYyB2b2lkIHBy
b2Nlc3NfY2hlY2tzKHN0cnVjdCByMWJpbyAqcjFfYmlvKQogCWludCB2Y250OwogCiAJLyogRml4
IHZhcmlhYmxlIHBhcnRzIG9mIGFsbCBiaW9zICovCi0JdmNudCA9IChyMV9iaW8tPnNlY3RvcnMg
KyBQQUdFX1NJWkUgLyA1MTIgLSAxKSA+PiAoUEFHRV9TSElGVCAtIDkpOworCXZjbnQgPSAocjFf
YmlvLT5zZWN0b3JzICsgUEFHRV9TRUNUT1JTIC0gMSkgPj4gKFBBR0VfU0hJRlQgLSA5KTsKIAlm
b3IgKGkgPSAwOyBpIDwgY29uZi0+cmFpZF9kaXNrcyAqIDI7IGkrKykgewogCQlibGtfc3RhdHVz
X3Qgc3RhdHVzOwogCQlzdHJ1Y3QgYmlvICpiID0gcjFfYmlvLT5iaW9zW2ldOwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9tbWMvY29yZS9ob3N0LmMgYi9kcml2ZXJzL21tYy9jb3JlL2hvc3QuYwppbmRl
eCBjODc2ODcyNmQ5MjUuLjRhMjNmYjlkNTY0MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9tbWMvY29y
ZS9ob3N0LmMKKysrIGIvZHJpdmVycy9tbWMvY29yZS9ob3N0LmMKQEAgLTE4LDYgKzE4LDcgQEAK
ICNpbmNsdWRlIDxsaW51eC9leHBvcnQuaD4KICNpbmNsdWRlIDxsaW51eC9sZWRzLmg+CiAjaW5j
bHVkZSA8bGludXgvc2xhYi5oPgorI2luY2x1ZGUgPGxpbnV4L2Jsa2Rldi5oPgogCiAjaW5jbHVk
ZSA8bGludXgvbW1jL2hvc3QuaD4KICNpbmNsdWRlIDxsaW51eC9tbWMvY2FyZC5oPgpAQCAtNDI3
LDcgKzQyOCw3IEBAIHN0cnVjdCBtbWNfaG9zdCAqbW1jX2FsbG9jX2hvc3QoaW50IGV4dHJhLCBz
dHJ1Y3QgZGV2aWNlICpkZXYpCiAKIAlob3N0LT5tYXhfcmVxX3NpemUgPSBQQUdFX1NJWkU7CiAJ
aG9zdC0+bWF4X2Jsa19zaXplID0gNTEyOwotCWhvc3QtPm1heF9ibGtfY291bnQgPSBQQUdFX1NJ
WkUgLyA1MTI7CisJaG9zdC0+bWF4X2Jsa19jb3VudCA9IFBBR0VfU0VDVE9SUzsKIAogCWhvc3Qt
PmZpeGVkX2Rydl90eXBlID0gLUVJTlZBTDsKIAlob3N0LT5pb3MucG93ZXJfZGVsYXlfbXMgPSAx
MDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvc2NzaS94ZW4tc2NzaWZyb250LmMgYi9kcml2ZXJzL3Nj
c2kveGVuLXNjc2lmcm9udC5jCmluZGV4IGYwMDY4ZTk2YTE3Ny4uZTZiMjllNTRkMDdhIDEwMDY0
NAotLS0gYS9kcml2ZXJzL3Njc2kveGVuLXNjc2lmcm9udC5jCisrKyBiL2RyaXZlcnMvc2NzaS94
ZW4tc2NzaWZyb250LmMKQEAgLTg1Miw3ICs4NTIsNyBAQCBzdGF0aWMgaW50IHNjc2lmcm9udF9w
cm9iZShzdHJ1Y3QgeGVuYnVzX2RldmljZSAqZGV2LAogCWhvc3QtPm1heF9pZCAgICAgID0gVlND
U0lJRl9NQVhfVEFSR0VUOwogCWhvc3QtPm1heF9jaGFubmVsID0gMDsKIAlob3N0LT5tYXhfbHVu
ICAgICA9IFZTQ1NJSUZfTUFYX0xVTjsKLQlob3N0LT5tYXhfc2VjdG9ycyA9IChob3N0LT5zZ190
YWJsZXNpemUgLSAxKSAqIFBBR0VfU0laRSAvIDUxMjsKKwlob3N0LT5tYXhfc2VjdG9ycyA9ICho
b3N0LT5zZ190YWJsZXNpemUgLSAxKSAqIFBBR0VfU0VDVE9SUzsKIAlob3N0LT5tYXhfY21kX2xl
biA9IFZTQ1NJSUZfTUFYX0NPTU1BTkRfU0laRTsKIAogCWVyciA9IHNjc2lfYWRkX2hvc3QoaG9z
dCwgJmRldi0+ZGV2KTsKQEAgLTEwNzMsNyArMTA3Myw3IEBAIHN0YXRpYyB2b2lkIHNjc2lmcm9u
dF9yZWFkX2JhY2tlbmRfcGFyYW1zKHN0cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYsCiAJCQkgaG9z
dC0+c2dfdGFibGVzaXplLCBucl9zZWdzKTsKIAogCWhvc3QtPnNnX3RhYmxlc2l6ZSA9IG5yX3Nl
Z3M7Ci0JaG9zdC0+bWF4X3NlY3RvcnMgPSAobnJfc2VncyAtIDEpICogUEFHRV9TSVpFIC8gNTEy
OworCWhvc3QtPm1heF9zZWN0b3JzID0gKG5yX3NlZ3MgLSAxKSAqIFBBR0VfU0VDVE9SUzsKIH0K
IAogc3RhdGljIHZvaWQgc2NzaWZyb250X2JhY2tlbmRfY2hhbmdlZChzdHJ1Y3QgeGVuYnVzX2Rl
dmljZSAqZGV2LApkaWZmIC0tZ2l0IGEvZnMvaW9tYXAvYnVmZmVyZWQtaW8uYyBiL2ZzL2lvbWFw
L2J1ZmZlcmVkLWlvLmMKaW5kZXggN2M4NGM0YzAyN2M0Li42MDUwNWZjMTU2YzUgMTAwNjQ0Ci0t
LSBhL2ZzL2lvbWFwL2J1ZmZlcmVkLWlvLmMKKysrIGIvZnMvaW9tYXAvYnVmZmVyZWQtaW8uYwpA
QCAtMjksNyArMjksNyBAQCBzdHJ1Y3QgaW9tYXBfcGFnZSB7CiAJYXRvbWljX3QJCXJlYWRfY291
bnQ7CiAJYXRvbWljX3QJCXdyaXRlX2NvdW50OwogCXNwaW5sb2NrX3QJCXVwdG9kYXRlX2xvY2s7
Ci0JREVDTEFSRV9CSVRNQVAodXB0b2RhdGUsIFBBR0VfU0laRSAvIDUxMik7CisJREVDTEFSRV9C
SVRNQVAodXB0b2RhdGUsIFBBR0VfU0VDVE9SUyk7CiB9OwogCiBzdGF0aWMgaW5saW5lIHN0cnVj
dCBpb21hcF9wYWdlICp0b19pb21hcF9wYWdlKHN0cnVjdCBwYWdlICpwYWdlKQpkaWZmIC0tZ2l0
IGEvZnMvbmZzL2Jsb2NrbGF5b3V0L2Jsb2NrbGF5b3V0LmggYi9mcy9uZnMvYmxvY2tsYXlvdXQv
YmxvY2tsYXlvdXQuaAppbmRleCA3MTZiYzc1ZTllZDIuLjIyNDA3NzUxZTBmZCAxMDA2NDQKLS0t
IGEvZnMvbmZzL2Jsb2NrbGF5b3V0L2Jsb2NrbGF5b3V0LmgKKysrIGIvZnMvbmZzL2Jsb2NrbGF5
b3V0L2Jsb2NrbGF5b3V0LmgKQEAgLTQwLDggKzQwLDYgQEAKICNpbmNsdWRlICIuLi9wbmZzLmgi
CiAjaW5jbHVkZSAiLi4vbmV0bnMuaCIKIAotI2RlZmluZSBQQUdFX0NBQ0hFX1NFQ1RPUlMgKFBB
R0VfU0laRSA+PiBTRUNUT1JfU0hJRlQpCi0jZGVmaW5lIFBBR0VfQ0FDSEVfU0VDVE9SX1NISUZU
IChQQUdFX1NISUZUIC0gU0VDVE9SX1NISUZUKQogI2RlZmluZSBTRUNUT1JfU0laRSAoMSA8PCBT
RUNUT1JfU0hJRlQpCiAKIHN0cnVjdCBwbmZzX2Jsb2NrX2RldjsKZGlmZiAtLWdpdCBhL2luY2x1
ZGUvbGludXgvYmxrZGV2LmggYi9pbmNsdWRlL2xpbnV4L2Jsa2Rldi5oCmluZGV4IDA1M2VhNGI1
MTk4OC4uYjNjOWJlNjkwNmEwIDEwMDY0NAotLS0gYS9pbmNsdWRlL2xpbnV4L2Jsa2Rldi5oCisr
KyBiL2luY2x1ZGUvbGludXgvYmxrZGV2LmgKQEAgLTkxMCw2ICs5MTAsMTAgQEAgc3RhdGljIGlu
bGluZSBzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqYmRldl9nZXRfcXVldWUoc3RydWN0IGJsb2NrX2Rl
dmljZSAqYmRldikKICNkZWZpbmUgU0VDVE9SX1NJWkUgKDEgPDwgU0VDVE9SX1NISUZUKQogI2Vu
ZGlmCiAKKyNkZWZpbmUgUEFHRV9TRUNUT1JTX1NISUZUCShQQUdFX1NISUZUIC0gU0VDVE9SX1NI
SUZUKQorI2RlZmluZSBQQUdFX1NFQ1RPUlMJCSgxIDw8IFBBR0VfU0VDVE9SU19TSElGVCkKKyNk
ZWZpbmUgU0VDVE9SX01BU0sJCShQQUdFX1NFQ1RPUlMgLSAxKQorCiAvKgogICogYmxrX3JxX3Bv
cygpCQkJOiB0aGUgY3VycmVudCBzZWN0b3IKICAqIGJsa19ycV9ieXRlcygpCQk6IGJ5dGVzIGxl
ZnQgaW4gdGhlIGVudGlyZSByZXF1ZXN0CmRpZmYgLS1naXQgYS9pbmNsdWRlL2xpbnV4L2Rldmlj
ZS1tYXBwZXIuaCBiL2luY2x1ZGUvbGludXgvZGV2aWNlLW1hcHBlci5oCmluZGV4IDQ3NTY2OGM2
OWRiYy4uYzk4YTUzM2Y4ZmZhIDEwMDY0NAotLS0gYS9pbmNsdWRlL2xpbnV4L2RldmljZS1tYXBw
ZXIuaAorKysgYi9pbmNsdWRlL2xpbnV4L2RldmljZS1tYXBwZXIuaApAQCAtMTQxLDcgKzE0MSw2
IEBAIHR5cGVkZWYgbG9uZyAoKmRtX2RheF9kaXJlY3RfYWNjZXNzX2ZuKSAoc3RydWN0IGRtX3Rh
cmdldCAqdGksIHBnb2ZmX3QgcGdvZmYsCiAJCWxvbmcgbnJfcGFnZXMsIHZvaWQgKiprYWRkciwg
cGZuX3QgKnBmbik7CiB0eXBlZGVmIHNpemVfdCAoKmRtX2RheF9jb3B5X2l0ZXJfZm4pKHN0cnVj
dCBkbV90YXJnZXQgKnRpLCBwZ29mZl90IHBnb2ZmLAogCQl2b2lkICphZGRyLCBzaXplX3QgYnl0
ZXMsIHN0cnVjdCBpb3ZfaXRlciAqaSk7Ci0jZGVmaW5lIFBBR0VfU0VDVE9SUyAoUEFHRV9TSVpF
IC8gNTEyKQogCiB2b2lkIGRtX2Vycm9yKGNvbnN0IGNoYXIgKm1lc3NhZ2UpOwogCi0tIAoyLjI0
LjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 81C27B8039
	for <lists+xen-devel@lfdr.de>; Thu, 19 Sep 2019 19:43:40 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iB0QN-0004GD-K5; Thu, 19 Sep 2019 17:40:59 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=vwgP=XO=citrix.com=anthony.perard@srs-us1.protection.inumbo.net>)
 id 1iB0QM-0004Fh-50
 for xen-devel@lists.xenproject.org; Thu, 19 Sep 2019 17:40:58 +0000
X-Inumbo-ID: 99d8d47a-db04-11e9-b299-bc764e2007e4
Received: from esa2.hc3370-68.iphmx.com (unknown [216.71.145.153])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 99d8d47a-db04-11e9-b299-bc764e2007e4;
 Thu, 19 Sep 2019 17:40:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568914842;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=/CS6ArKSdsCQwo1n1gxG9GakHmfYdgCTqatB6kPZ31w=;
 b=IugjBX2KCcnMKuyko3aHXJhfD/w3Gpbfq9UCFTRC/XlawxVHizWsk1o2
 Pzegeg9c62RmSTjUSYIk6ErrJMK4b56OLlaWU6hjcfRL5tVmjPJDRE9YR
 k+VFwTx/EnuXCvogiIEvnKQVij20C6PFe17rH5R0Ztz6N5c9LHc6V5bIL c=;
Authentication-Results: esa2.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=anthony.perard@citrix.com;
 spf=Pass smtp.mailfrom=anthony.perard@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 anthony.perard@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa2.hc3370-68.iphmx.com: domain of
 anthony.perard@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: Y/r7nsTXplF6IaLvOBP4OIG6M9AF/0mCJi4E1ZnY2qmXmT40W8R1OzG8p83iE+RUX5qmrC/HtO
 QM55wbCEv3UV/9covw7Q9eDPOF5tRsDnjCWidQtiG+rzRtW7ntcN3Wsnt9QDi6g3lJ4W6Z5UzB
 pa3K8kmCx4JDf9b1AL4MZiF3fWoKoDAILfzUrz5qYYPYmdxEoz+SzEAlWMjwdrajePHiyCxJjK
 x0VhVvjwhjc8MLoyQFrqnYg5+G0C1+GyKPz8tF6Z5oBBsX1iSQzWE1PJbrvuorLPLnNEKHj4tC
 EYo=
X-SBRS: 2.7
X-MesageID: 5801752
X-Ironport-Server: esa2.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,524,1559534400"; 
   d="scan'208";a="5801752"
From: Anthony PERARD <anthony.perard@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 19 Sep 2019 18:16:45 +0100
Message-ID: <20190919171656.899649-26-anthony.perard@citrix.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190919171656.899649-1-anthony.perard@citrix.com>
References: <20190919171656.899649-1-anthony.perard@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 25/35] libxl_pci: Coding style of do_pci_add
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Anthony PERARD <anthony.perard@citrix.com>, Ian
 Jackson <ian.jackson@eu.citrix.com>, Wei Liu <wl@xen.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

ZG9fcGNpX2FkZCBpcyBnb2luZyB0byBiZSBhc3luY2hyb25vdXMsIHNvIHdlIHN0YXJ0IGJ5IGhh
dmluZyBhIHNpbmdsZQpwYXRoIG91dCBvZiB0aGUgZnVuY3Rpb24uIEFsbCBgcmV0dXJuYHMgaW5z
dGVhZCBzZXQgcmMgYW5kIGdvdG8gb3V0LgoKV2hpbGUgaGVyZSwgc29tZSB1c2Ugb2YgYHJjJyB3
YXMgdXNlZCB0byBzdG9yZSB0aGUgcmV0dXJuIHZhbHVlIG9mCmxpYnhjIGNhbGxzLCBjaGFuZ2Ug
dGhlbSB0byBzdG9yZSBpbnRvIGByJy4gQWxzbywgYWRkIHRoZSB2YWx1ZSBvZiBgcicKaW4gdGhl
IGVycm9yIG1lc3NhZ2Ugb2YgdGhvc2UgY2FsbHMuCgpUaGVyZSB3ZXJlIGFuIGBvdXQnIGxhYmVs
IHRoYXQgd2FzIHVzZSBpdCBzZWVtcyB0byBza2lwIHNldHRpbmcgdXAgdGhlCklSUSwgdGhlIGxh
YmVsIGhhcyBiZWVuIHJlbmFtZWQgdG8gYG91dF9ub19pcnEnLgoKTm8gZnVuY3Rpb25hbCBjaGFu
Z2VzLgoKU2lnbmVkLW9mZi1ieTogQW50aG9ueSBQRVJBUkQgPGFudGhvbnkucGVyYXJkQGNpdHJp
eC5jb20+CkFja2VkLWJ5OiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUuY2l0cml4LmNvbT4K
LS0tCiB0b29scy9saWJ4bC9saWJ4bF9wY2kuYyB8IDc5ICsrKysrKysrKysrKysrKysrKysrKysr
Ky0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgNDYgaW5zZXJ0aW9ucygrKSwgMzMg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfcGNpLmMgYi90b29s
cy9saWJ4bC9saWJ4bF9wY2kuYwppbmRleCA0YjFhZWQxODk1Y2MuLmI5Y2E2OWY1ZjBiMyAxMDA2
NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfcGNpLmMKKysrIGIvdG9vbHMvbGlieGwvbGlieGxf
cGNpLmMKQEAgLTk5NSwxNSArOTk1LDE5IEBAIHN0YXRpYyBpbnQgZG9fcGNpX2FkZChsaWJ4bF9f
Z2MgKmdjLCB1aW50MzJfdCBkb21pZCwKICAgICB1aW50MzJfdCBmbGFnID0gWEVOX0RPTUNUTF9E
RVZfUkRNX1JFTEFYRUQ7CiAgICAgdWludDMyX3QgZG9tYWluaWQgPSBkb21pZDsKICAgICBib29s
IGlzc3R1YmRvbSA9IGxpYnhsX2lzX3N0dWJkb20oY3R4LCBkb21pZCwgJmRvbWFpbmlkKTsKKyAg
ICBpbnQgcjsKIAotICAgIGlmICh0eXBlID09IExJQlhMX0RPTUFJTl9UWVBFX0lOVkFMSUQpCi0g
ICAgICAgIHJldHVybiBFUlJPUl9GQUlMOworICAgIGlmICh0eXBlID09IExJQlhMX0RPTUFJTl9U
WVBFX0lOVkFMSUQpIHsKKyAgICAgICAgcmMgPSBFUlJPUl9GQUlMOworICAgICAgICBnb3RvIG91
dDsKKyAgICB9CiAKICAgICBpZiAodHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9IVk0pIHsKICAg
ICAgICAgaHZtID0gMTsKICAgICAgICAgaWYgKGxpYnhsX193YWl0X2Zvcl9kZXZpY2VfbW9kZWxf
ZGVwcmVjYXRlZChnYywgZG9taWQsICJydW5uaW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgTlVMTCwgTlVMTCwgTlVMTCkgPCAwKSB7Ci0gICAgICAgICAgICBy
ZXR1cm4gRVJST1JfRkFJTDsKKyAgICAgICAgICAgIHJjID0gRVJST1JfRkFJTDsKKyAgICAgICAg
ICAgIGdvdG8gb3V0OwogICAgICAgICB9CiAgICAgICAgIHN3aXRjaCAobGlieGxfX2RldmljZV9t
b2RlbF92ZXJzaW9uX3J1bm5pbmcoZ2MsIGRvbWlkKSkgewogICAgICAgICAgICAgY2FzZSBMSUJY
TF9ERVZJQ0VfTU9ERUxfVkVSU0lPTl9RRU1VX1hFTl9UUkFESVRJT05BTDoKQEAgLTEwMTMsMTAg
KzEwMTcsMTAgQEAgc3RhdGljIGludCBkb19wY2lfYWRkKGxpYnhsX19nYyAqZ2MsIHVpbnQzMl90
IGRvbWlkLAogICAgICAgICAgICAgICAgIHJjID0gbGlieGxfX3FtcF9wY2lfYWRkKGdjLCBkb21p
ZCwgcGNpZGV2KTsKICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgIGRlZmF1bHQ6
Ci0gICAgICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0lOVkFMOworICAgICAgICAgICAgICAgIHJj
ID0gRVJST1JfSU5WQUw7CiAgICAgICAgIH0KICAgICAgICAgaWYgKCByYyApCi0gICAgICAgICAg
ICByZXR1cm4gRVJST1JfRkFJTDsKKyAgICAgICAgICAgIGdvdG8gb3V0OwogICAgIH0KIAogICAg
IHN5c2ZzX3BhdGggPSBHQ1NQUklOVEYoU1lTRlNfUENJX0RFViIvIlBDSV9CREYiL3Jlc291cmNl
IiwgcGNpZGV2LT5kb21haW4sCkBAIC0xMDI3LDcgKzEwMzEsOCBAQCBzdGF0aWMgaW50IGRvX3Bj
aV9hZGQobGlieGxfX2djICpnYywgdWludDMyX3QgZG9taWQsCiAKICAgICBpZiAoZiA9PSBOVUxM
KSB7CiAgICAgICAgIExPR0VEKEVSUk9SLCBkb21haW5pZCwgIkNvdWxkbid0IG9wZW4gJXMiLCBz
eXNmc19wYXRoKTsKLSAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUw7CisgICAgICAgIHJjID0gRVJS
T1JfRkFJTDsKKyAgICAgICAgZ290byBvdXQ7CiAgICAgfQogICAgIGZvciAoaSA9IDA7IGkgPCBQ
Uk9DX1BDSV9OVU1fUkVTT1VSQ0VTOyBpKyspIHsKICAgICAgICAgaWYgKGZzY2FuZihmLCAiMHgl
bGx4IDB4JWxseCAweCVsbHhcbiIsICZzdGFydCwgJmVuZCwgJmZsYWdzKSAhPSAzKQpAQCAtMTAz
NSwyNSArMTA0MCwyNSBAQCBzdGF0aWMgaW50IGRvX3BjaV9hZGQobGlieGxfX2djICpnYywgdWlu
dDMyX3QgZG9taWQsCiAgICAgICAgIHNpemUgPSBlbmQgLSBzdGFydCArIDE7CiAgICAgICAgIGlm
IChzdGFydCkgewogICAgICAgICAgICAgaWYgKGZsYWdzICYgUENJX0JBUl9JTykgewotICAgICAg
ICAgICAgICAgIHJjID0geGNfZG9tYWluX2lvcG9ydF9wZXJtaXNzaW9uKGN0eC0+eGNoLCBkb21p
ZCwgc3RhcnQsIHNpemUsIDEpOwotICAgICAgICAgICAgICAgIGlmIChyYyA8IDApIHsKKyAgICAg
ICAgICAgICAgICByID0geGNfZG9tYWluX2lvcG9ydF9wZXJtaXNzaW9uKGN0eC0+eGNoLCBkb21p
ZCwgc3RhcnQsIHNpemUsIDEpOworICAgICAgICAgICAgICAgIGlmIChyIDwgMCkgewogICAgICAg
ICAgICAgICAgICAgICBMT0dFRChFUlJPUiwgZG9tYWluaWQsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICJFcnJvcjogeGNfZG9tYWluX2lvcG9ydF9wZXJtaXNzaW9uIGVycm9yIDB4JWxseC8w
eCVsbHgiLAotICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCwKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgc2l6ZSk7CisgICAgICAgICAgICAgICAgICAgICAgICAgICJ4Y19kb21haW5f
aW9wb3J0X3Blcm1pc3Npb24gMHglbGx4LzB4JWxseCAoZXJyb3IgJWQpIiwKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RhcnQsIHNpemUsIHIpOwogICAgICAgICAgICAgICAgICAgICBmY2xv
c2UoZik7Ci0gICAgICAgICAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMOworICAgICAgICAg
ICAgICAgICAgICByYyA9IEVSUk9SX0ZBSUw7CisgICAgICAgICAgICAgICAgICAgIGdvdG8gb3V0
OwogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0gZWxzZSB7Ci0gICAgICAgICAgICAg
ICAgcmMgPSB4Y19kb21haW5faW9tZW1fcGVybWlzc2lvbihjdHgtPnhjaCwgZG9taWQsIHN0YXJ0
Pj5YQ19QQUdFX1NISUZULAorICAgICAgICAgICAgICAgIHIgPSB4Y19kb21haW5faW9tZW1fcGVy
bWlzc2lvbihjdHgtPnhjaCwgZG9taWQsIHN0YXJ0Pj5YQ19QQUdFX1NISUZULAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNpemUrKFhDX1BBR0VfU0la
RS0xKSk+PlhDX1BBR0VfU0hJRlQsIDEpOwotICAgICAgICAgICAgICAgIGlmIChyYyA8IDApIHsK
KyAgICAgICAgICAgICAgICBpZiAociA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgTE9HRUQo
RVJST1IsIGRvbWFpbmlkLAotICAgICAgICAgICAgICAgICAgICAgICAgICAiRXJyb3I6IHhjX2Rv
bWFpbl9pb21lbV9wZXJtaXNzaW9uIGVycm9yIDB4JWxseC8weCVsbHgiLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICBzdGFydCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSk7Cisg
ICAgICAgICAgICAgICAgICAgICAgICAgICJ4Y19kb21haW5faW9tZW1fcGVybWlzc2lvbiAweCVs
bHgvMHglbGx4IChlcnJvciAlZCkiLAorICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCwg
c2l6ZSwgcik7CiAgICAgICAgICAgICAgICAgICAgIGZjbG9zZShmKTsKLSAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIEVSUk9SX0ZBSUw7CisgICAgICAgICAgICAgICAgICAgIHJjID0gRVJST1Jf
RkFJTDsKKyAgICAgICAgICAgICAgICAgICAgZ290byBvdXQ7CiAgICAgICAgICAgICAgICAgfQog
ICAgICAgICAgICAgfQogICAgICAgICB9CkBAIC0xMDY0LDIwICsxMDY5LDI0IEBAIHN0YXRpYyBp
bnQgZG9fcGNpX2FkZChsaWJ4bF9fZ2MgKmdjLCB1aW50MzJfdCBkb21pZCwKICAgICBmID0gZm9w
ZW4oc3lzZnNfcGF0aCwgInIiKTsKICAgICBpZiAoZiA9PSBOVUxMKSB7CiAgICAgICAgIExPR0VE
KEVSUk9SLCBkb21haW5pZCwgIkNvdWxkbid0IG9wZW4gJXMiLCBzeXNmc19wYXRoKTsKLSAgICAg
ICAgZ290byBvdXQ7CisgICAgICAgIGdvdG8gb3V0X25vX2lycTsKICAgICB9CiAgICAgaWYgKChm
c2NhbmYoZiwgIiV1IiwgJmlycSkgPT0gMSkgJiYgaXJxKSB7Ci0gICAgICAgIHJjID0geGNfcGh5
c2Rldl9tYXBfcGlycShjdHgtPnhjaCwgZG9taWQsIGlycSwgJmlycSk7Ci0gICAgICAgIGlmIChy
YyA8IDApIHsKLSAgICAgICAgICAgIExPR0VEKEVSUk9SLCBkb21haW5pZCwgIkVycm9yOiB4Y19w
aHlzZGV2X21hcF9waXJxIGlycT0lZCIsIGlycSk7CisgICAgICAgIHIgPSB4Y19waHlzZGV2X21h
cF9waXJxKGN0eC0+eGNoLCBkb21pZCwgaXJxLCAmaXJxKTsKKyAgICAgICAgaWYgKHIgPCAwKSB7
CisgICAgICAgICAgICBMT0dFRChFUlJPUiwgZG9tYWluaWQsICJ4Y19waHlzZGV2X21hcF9waXJx
IGlycT0lZCAoZXJyb3I9JWQpIiwKKyAgICAgICAgICAgICAgICAgIGlycSwgcik7CiAgICAgICAg
ICAgICBmY2xvc2UoZik7Ci0gICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTDsKKyAgICAgICAg
ICAgIHJjID0gRVJST1JfRkFJTDsKKyAgICAgICAgICAgIGdvdG8gb3V0OwogICAgICAgICB9Ci0g
ICAgICAgIHJjID0geGNfZG9tYWluX2lycV9wZXJtaXNzaW9uKGN0eC0+eGNoLCBkb21pZCwgaXJx
LCAxKTsKLSAgICAgICAgaWYgKHJjIDwgMCkgewotICAgICAgICAgICAgTE9HRUQoRVJST1IsIGRv
bWFpbmlkLCAiRXJyb3I6IHhjX2RvbWFpbl9pcnFfcGVybWlzc2lvbiBpcnE9JWQiLCBpcnEpOwor
ICAgICAgICByID0geGNfZG9tYWluX2lycV9wZXJtaXNzaW9uKGN0eC0+eGNoLCBkb21pZCwgaXJx
LCAxKTsKKyAgICAgICAgaWYgKHIgPCAwKSB7CisgICAgICAgICAgICBMT0dFRChFUlJPUiwgZG9t
YWluaWQsCisgICAgICAgICAgICAgICAgICAieGNfZG9tYWluX2lycV9wZXJtaXNzaW9uIGlycT0l
ZCAoZXJyb3I9JWQpIiwgaXJxLCByKTsKICAgICAgICAgICAgIGZjbG9zZShmKTsKLSAgICAgICAg
ICAgIHJldHVybiBFUlJPUl9GQUlMOworICAgICAgICAgICAgcmMgPSBFUlJPUl9GQUlMOworICAg
ICAgICAgICAgZ290byBvdXQ7CiAgICAgICAgIH0KICAgICB9CiAgICAgZmNsb3NlKGYpOwpAQCAt
MTA4NywyMiArMTA5NiwyNSBAQCBzdGF0aWMgaW50IGRvX3BjaV9hZGQobGlieGxfX2djICpnYywg
dWludDMyX3QgZG9taWQsCiAgICAgICAgIGlmICggc3lzZnNfd3JpdGVfYmRmKGdjLCBTWVNGU19Q
Q0lCQUNLX0RSSVZFUiIvcGVybWlzc2l2ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHBjaWRldikgPCAwICkgewogICAgICAgICAgICAgTE9HRChFUlJPUiwgZG9tYWluaWQsICJTZXR0
aW5nIHBlcm1pc3NpdmUgZm9yIGRldmljZSIpOwotICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZB
SUw7CisgICAgICAgICAgICByYyA9IEVSUk9SX0ZBSUw7CisgICAgICAgICAgICBnb3RvIG91dDsK
ICAgICAgICAgfQogICAgIH0KIAotb3V0Ogorb3V0X25vX2lycToKICAgICBpZiAoIWlzc3R1YmRv
bSkgewogICAgICAgICBpZiAocGNpZGV2LT5yZG1fcG9saWN5ID09IExJQlhMX1JETV9SRVNFUlZF
X1BPTElDWV9TVFJJQ1QpIHsKICAgICAgICAgICAgIGZsYWcgJj0gflhFTl9ET01DVExfREVWX1JE
TV9SRUxBWEVEOwogICAgICAgICB9IGVsc2UgaWYgKHBjaWRldi0+cmRtX3BvbGljeSAhPSBMSUJY
TF9SRE1fUkVTRVJWRV9QT0xJQ1lfUkVMQVhFRCkgewogICAgICAgICAgICAgTE9HRUQoRVJST1Is
IGRvbWFpbmlkLCAidW5rbm93biByZG0gY2hlY2sgZmxhZy4iKTsKLSAgICAgICAgICAgIHJldHVy
biBFUlJPUl9GQUlMOworICAgICAgICAgICAgcmMgPSBFUlJPUl9GQUlMOworICAgICAgICAgICAg
Z290byBvdXQ7CiAgICAgICAgIH0KLSAgICAgICAgcmMgPSB4Y19hc3NpZ25fZGV2aWNlKGN0eC0+
eGNoLCBkb21pZCwgcGNpZGV2X2VuY29kZV9iZGYocGNpZGV2KSwgZmxhZyk7Ci0gICAgICAgIGlm
IChyYyA8IDAgJiYgKGh2bSB8fCBlcnJubyAhPSBFTk9TWVMpKSB7CisgICAgICAgIHIgPSB4Y19h
c3NpZ25fZGV2aWNlKGN0eC0+eGNoLCBkb21pZCwgcGNpZGV2X2VuY29kZV9iZGYocGNpZGV2KSwg
ZmxhZyk7CisgICAgICAgIGlmIChyIDwgMCAmJiAoaHZtIHx8IGVycm5vICE9IEVOT1NZUykpIHsK
ICAgICAgICAgICAgIExPR0VEKEVSUk9SLCBkb21haW5pZCwgInhjX2Fzc2lnbl9kZXZpY2UgZmFp
bGVkIik7Ci0gICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTDsKKyAgICAgICAgICAgIHJjID0g
RVJST1JfRkFJTDsKKyAgICAgICAgICAgIGdvdG8gb3V0OwogICAgICAgICB9CiAgICAgfQogCkBA
IC0xMTEwLDYgKzExMjIsNyBAQCBzdGF0aWMgaW50IGRvX3BjaV9hZGQobGlieGxfX2djICpnYywg
dWludDMyX3QgZG9taWQsCiAgICAgICAgIHJjID0gbGlieGxfX2RldmljZV9wY2lfYWRkX3hlbnN0
b3JlKGdjLCBkb21pZCwgcGNpZGV2LCBzdGFydGluZyk7CiAgICAgZWxzZQogICAgICAgICByYyA9
IDA7CitvdXQ6CiAgICAgcmV0dXJuIHJjOwogfQogCi0tIApBbnRob255IFBFUkFSRAoKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

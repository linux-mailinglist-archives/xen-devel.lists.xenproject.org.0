Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2CEDF125DFB
	for <lists+xen-devel@lfdr.de>; Thu, 19 Dec 2019 10:46:41 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ihsKs-0003ay-Lj; Thu, 19 Dec 2019 09:43:10 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=datr=2J=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1ihsKr-0003am-83
 for xen-devel@lists.xenproject.org; Thu, 19 Dec 2019 09:43:09 +0000
X-Inumbo-ID: f12c5090-2243-11ea-a1e1-bc764e2007e4
Received: from EUR01-DB5-obe.outbound.protection.outlook.com (unknown
 [40.107.15.123]) by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id f12c5090-2243-11ea-a1e1-bc764e2007e4;
 Thu, 19 Dec 2019 09:42:59 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=HTYQU7SdD9YgUBtZJO7izA8cn42GCet5SQMFrq59NEBSs4aw1/8PgKAJE9ViYTS/kUIB0BFYA4fLMEkm6rz7LGdG+cbWIq55SKIdNl94X3YJN+mHO8KIOf5R2Lhurbht5iaOcubCDTja4O7QxjwdFPOVaGDIarehQmcOIPOO70e3Z6xLX0Iyrfddb63nse3CmxmGqbzJ5WxT2dfOotee9ndLHpQ2yKNQ1C2HnhxKQN2q48J6PnaVQ9xuI5Bk+LN4HilR0nL7wFcjUIxTBGqEi3U18fmBylwDEQvvgQJfYAL7TPCcJgfyFOuIn3nMEzf5uqHyO8OhmFFRpC/ejxIr3A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=suSGhzAxEa8Ev1ASpdnerpbOhCX9R1O9OVpEXKrr0XU=;
 b=hIoAAw/gJuq+YhQTsDYzWEspY8Q4PReIEaCuAx0rshhjOwnHc3aqoZDBW4fHVHaaC4TlonFgkrXqScACcdWFnFcgX0nQck6L9tad8t5KVG0dpESvGfQ/AmPA28eYeASDR72Bjm86KJgX2a/8BShInTf+52KoUmxhISeJlpuXo+j41NS3WmN/bEMf4aCsMk6HoHcr2dl8D9RM6Ta36s7C9gd3As3szZ8BvbTZ2zeKaUOVNRYpacm/PTDWAz6fn6kvuYJT03jDFh7MYAKgJDvxJI9XvmxooX/hJ0SKt8PscE4CjsoKKbVJbXpK5x1I4YJ3qaUsALm2a6sbqTaYJiLidg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=suSGhzAxEa8Ev1ASpdnerpbOhCX9R1O9OVpEXKrr0XU=;
 b=dAxc1sqvpllrklWPA2GK+k19NZor7N5L8a159fxcBuJNnrY7ElIzh3lePZ6og+JMIBjI2hZBeXrtvk/7hPz3iP2+yMgjyCsev0ZHD6o5b6JWdkankZkiJ5kB6Z6y50oJM0Q1CrW7zXZteWNivOWgxE+ZlGj96wlPbtTXN7nWnwc=
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com (10.255.30.78) by
 AM0PR02MB4258.eurprd02.prod.outlook.com (20.177.111.16) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2538.18; Thu, 19 Dec 2019 09:42:57 +0000
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d]) by AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d%4]) with mapi id 15.20.2559.015; Thu, 19 Dec 2019
 09:42:57 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH V5 2/4] x86/altp2m: Add hypercall to set a range of sve
 bits
Thread-Index: AQHVtlCxbQhT4D0WG0G2IaQmCNE5Vw==
Date: Thu, 19 Dec 2019 09:42:57 +0000
Message-ID: <20191219094236.22002-2-aisaila@bitdefender.com>
References: <20191219094236.22002-1-aisaila@bitdefender.com>
In-Reply-To: <20191219094236.22002-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM0PR05CA0074.eurprd05.prod.outlook.com
 (2603:10a6:208:136::14) To AM0PR02MB5553.eurprd02.prod.outlook.com
 (2603:10a6:208:160::14)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: bdd853a8-920e-46d7-9328-08d78467d456
x-ms-traffictypediagnostic: AM0PR02MB4258:|AM0PR02MB4258:|AM0PR02MB4258:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <AM0PR02MB42588F0C21CB5E819B6CD285AB520@AM0PR02MB4258.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:605;
x-forefront-prvs: 0256C18696
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(136003)(396003)(376002)(346002)(39860400002)(366004)(189003)(199004)(66556008)(26005)(5660300002)(478600001)(7416002)(6512007)(2906002)(6506007)(81166006)(66946007)(52116002)(186003)(6916009)(66476007)(64756008)(6486002)(81156014)(71200400001)(8936002)(66446008)(36756003)(54906003)(316002)(8676002)(1076003)(4326008)(107886003)(2616005)(86362001);
 DIR:OUT; SFP:1102; SCL:1; SRVR:AM0PR02MB4258;
 H:AM0PR02MB5553.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: N41TVYtBUbHYbDnO9hZxZOGu1YqZ86ECCm1mT8OV1yFSkZH4u0XLnZy4GrwRZj5ndAV9GX2JqV0MBN2CPQpYs3qmX77nGgXDE44z30M4a5tbuqDiz4UC3+oCHVRkNBMJvsZ6FcpwtxJ4+7ggVf+3IWzAcc8YdpnQFR0Lfrc0MEpHKPxJ+HWi/OfpcuALuH/drv/OoaZS3wNjRtkmoTIRXG8FXd9T2I5pFByVKsPSvWUAEqaclaJUbtTDeSuXXkvIWCbaIOH45Ybgl0KskcVVGa7lCJ2z0PagSSywQ/2TJHg7jEE2GDNC9f+6OI68xHs/+Xav5JZFcWdbl0XD1FP47str1N58EoeyYnOxNkdWpCswR4mbiIbgdAQ+yyhuycYLVKJCI1gSpAojKKZOGCtgYhzB7ERHrpgfSanF5fTCWgFC6EoX3HRXHIqXvzNEALpQ
Content-ID: <D4117B7723778148A3E9CB65885345A1@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: bdd853a8-920e-46d7-9328-08d78467d456
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Dec 2019 09:42:57.7394 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: WSLz7GmW29htbOFCedpnhqnac6hwoKi7ZBrdOuAEHL35+6o22Fw1Wt6tgSmUlTe47OR3fZjCyP+0KpcZbkNYeJKfAPG9dXjfmrrX+RN9rzI=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR02MB4258
Subject: [Xen-devel] [PATCH V5 2/4] x86/altp2m: Add hypercall to set a range
 of sve bits
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Ovidiu PIRCALABU <ppircalabu@bitdefender.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Razvan COJOCARU <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tamas K Lengyel <tamas@tklengyel.com>,
 Jan Beulich <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnkgZGVmYXVsdCB0aGUgc3ZlIGJpdHMgYXJlIG5vdCBzZXQuDQpUaGlzIHBhdGNoIGFkZHMgYSBu
ZXcgaHlwZXJjYWxsLCB4Y19hbHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGkoKSwNCnRvIHNldCBh
IHJhbmdlIG9mIHN2ZSBiaXRzLg0KVGhlIGNvcmUgZnVuY3Rpb24sIHAybV9zZXRfc3VwcHJlc3Nf
dmVfbXVsdGkoKSwgZG9lcyBub3QgYnJha2UgaW4gY2FzZQ0Kb2YgYSBlcnJvciBhbmQgaXQgaXMg
ZG9pbmcgYSBiZXN0IGVmZm9ydCBmb3Igc2V0dGluZyB0aGUgYml0cyBpbiB0aGUNCmdpdmVuIHJh
bmdlLiBBIGNoZWNrIGZvciBjb250aW51YXRpb24gaXMgbWFkZSBpbiBvcmRlciB0byBoYXZlDQpw
cmVlbXB0aW9uIG9uIGJpZyByYW5nZXMuDQpUaGUgZ2ZuIG9mIHRoZSBmaXJzdCBlcnJvciBpcyBz
dG9yZWQgaW4NCnhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlX211bHRpLmZpcnN0X2Vycm9yIGFu
ZCB0aGUgZXJyb3IgY29kZSBpcw0Kc3RvcmVkIGluIHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3Zl
X211bHRpLmZpcnN0X2Vycm9yX2NvZGUuDQpJZiBubyBlcnJvciBvY2N1cnJlZCB0aGUgdmFsdWVz
IHdpbGwgYmUgMC4NCg0KU2lnbmVkLW9mZi1ieTogQWxleGFuZHJ1IElzYWlsYSA8YWlzYWlsYUBi
aXRkZWZlbmRlci5jb20+DQotLS0NCkNDOiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUuY2l0
cml4LmNvbT4NCkNDOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPg0KQ0M6IEFuZHJldyBDb29wZXIgPGFu
ZHJldy5jb29wZXIzQGNpdHJpeC5jb20+DQpDQzogR2VvcmdlIER1bmxhcCA8R2VvcmdlLkR1bmxh
cEBldS5jaXRyaXguY29tPg0KQ0M6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4NCkND
OiBKdWxpZW4gR3JhbGwgPGp1bGllbkB4ZW4ub3JnPg0KQ0M6IEtvbnJhZCBSemVzenV0ZWsgV2ls
ayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4NCkNDOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFi
ZWxsaW5pQGtlcm5lbC5vcmc+DQpDQzogIlJvZ2VyIFBhdSBNb25uw6kiIDxyb2dlci5wYXVAY2l0
cml4LmNvbT4NCkNDOiBHZW9yZ2UgRHVubGFwIDxnZW9yZ2UuZHVubGFwQGV1LmNpdHJpeC5jb20+
DQpDQzogUmF6dmFuIENvam9jYXJ1IDxyY29qb2NhcnVAYml0ZGVmZW5kZXIuY29tPg0KQ0M6IFRh
bWFzIEsgTGVuZ3llbCA8dGFtYXNAdGtsZW5neWVsLmNvbT4NCkNDOiBQZXRyZSBQaXJjYWxhYnUg
PHBwaXJjYWxhYnVAYml0ZGVmZW5kZXIuY29tPg0KLS0tDQpDaGFuZ2VzIHNpbmNlIFY0Og0KCS0g
UmVtb3ZlIC0+Zmlyc3RfZXJyb3IgYW5kIGZpcnN0X2Vycm9yX2NvZGUgZnJvbQ0KSFZNT1BfYWx0
cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aSBjaGVjaw0KCS0gQ2hlY2sgLT5maXJzdF9lcnJvcl9j
b2RlIHNvIHRoYXQgZmlyc3RfZXJyb3Igb24gZ2ZuIDAgY2FuIGJlDQpzYXZlZA0KCS0gQ2hhZ2Ug
dHlwZSBvZiBmaXJzdF9lcnJvcl9jb2RlIHRvIGludDMyX3QNCgktIENsaXAgLT5sYXN0X2dmbiBi
ZWZvcmUgc2FuaXR5IGNoZWNrLg0KLS0tDQogdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgg
ICB8ICA0ICsrKw0KIHRvb2xzL2xpYnhjL3hjX2FsdHAybS5jICAgICAgICAgfCAzMyArKysrKysr
KysrKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9odm0vaHZtLmMgICAgICAgICAgfCAyMCArKysrKysr
KysrKw0KIHhlbi9hcmNoL3g4Ni9tbS9wMm0uYyAgICAgICAgICAgfCA2NCArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysNCiB4ZW4vaW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9vcC5oIHwg
MTMgKysrKysrKw0KIHhlbi9pbmNsdWRlL3hlbi9tZW1fYWNjZXNzLmggICAgfCAgMyArKw0KIDYg
ZmlsZXMgY2hhbmdlZCwgMTM3IGluc2VydGlvbnMoKykNCg0KZGlmZiAtLWdpdCBhL3Rvb2xzL2xp
YnhjL2luY2x1ZGUveGVuY3RybC5oIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgNCmlu
ZGV4IGY0NDMxNjg3YjMuLjIxYTMzM2YyYzQgMTAwNjQ0DQotLS0gYS90b29scy9saWJ4Yy9pbmNs
dWRlL3hlbmN0cmwuaA0KKysrIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgNCkBAIC0x
OTIzLDYgKzE5MjMsMTAgQEAgaW50IHhjX2FsdHAybV9zd2l0Y2hfdG9fdmlldyh4Y19pbnRlcmZh
Y2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB1aW50MTZfdCB2aWV3X2lkKTsNCiBpbnQgeGNfYWx0cDJtX3NldF9zdXBwcmVzc192ZSh4Y19p
bnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdWludDE2X3Qgdmlld19pZCwgeGVuX3Bmbl90IGdmbiwgYm9vbCBzdmUpOw0KK2lu
dCB4Y19hbHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGkoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVp
bnQzMl90IGRvbWlkLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2
X3Qgdmlld19pZCwgeGVuX3Bmbl90IGZpcnN0X2dmbiwNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHhlbl9wZm5fdCBsYXN0X2dmbiwgYm9vbCBzdmUsDQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB4ZW5fcGZuX3QgKmVycm9yX2dmbiwgaW50MzJfdCAqZXJy
b3JfY29kZSk7DQogaW50IHhjX2FsdHAybV9nZXRfc3VwcHJlc3NfdmUoeGNfaW50ZXJmYWNlICpo
YW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQxNl90IHZpZXdfaWQsIHhlbl9wZm5fdCBnZm4sIGJvb2wgKnN2ZSk7DQogaW50IHhjX2FsdHAy
bV9zZXRfbWVtX2FjY2Vzcyh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQpk
aWZmIC0tZ2l0IGEvdG9vbHMvbGlieGMveGNfYWx0cDJtLmMgYi90b29scy9saWJ4Yy94Y19hbHRw
Mm0uYw0KaW5kZXggMDlkYWQwMzU1ZS4uNGJhOTMwNjY2YSAxMDA2NDQNCi0tLSBhL3Rvb2xzL2xp
YnhjL3hjX2FsdHAybS5jDQorKysgYi90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KQEAgLTIzNCw2
ICsyMzQsMzkgQEAgaW50IHhjX2FsdHAybV9zZXRfc3VwcHJlc3NfdmUoeGNfaW50ZXJmYWNlICpo
YW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICByZXR1cm4gcmM7DQogfQ0KIA0KK2ludCB4Y19h
bHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGkoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90
IGRvbWlkLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3Qgdmll
d19pZCwgeGVuX3Bmbl90IGZpcnN0X2dmbiwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHhlbl9wZm5fdCBsYXN0X2dmbiwgYm9vbCBzdmUsDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB4ZW5fcGZuX3QgKmVycm9yX2dmbiwgaW50MzJfdCAqZXJyb3JfY29k
ZSkNCit7DQorICAgIGludCByYzsNCisgICAgREVDTEFSRV9IWVBFUkNBTExfQlVGRkVSKHhlbl9o
dm1fYWx0cDJtX29wX3QsIGFyZyk7DQorDQorICAgIGFyZyA9IHhjX2h5cGVyY2FsbF9idWZmZXJf
YWxsb2MoaGFuZGxlLCBhcmcsIHNpemVvZigqYXJnKSk7DQorICAgIGlmICggYXJnID09IE5VTEwg
KQ0KKyAgICAgICAgcmV0dXJuIC0xOw0KKw0KKyAgICBhcmctPnZlcnNpb24gPSBIVk1PUF9BTFRQ
Mk1fSU5URVJGQUNFX1ZFUlNJT047DQorICAgIGFyZy0+Y21kID0gSFZNT1BfYWx0cDJtX3NldF9z
dXBwcmVzc192ZV9tdWx0aTsNCisgICAgYXJnLT5kb21haW4gPSBkb21pZDsNCisgICAgYXJnLT51
LnN1cHByZXNzX3ZlX211bHRpLnZpZXcgPSB2aWV3X2lkOw0KKyAgICBhcmctPnUuc3VwcHJlc3Nf
dmVfbXVsdGkuZmlyc3RfZ2ZuID0gZmlyc3RfZ2ZuOw0KKyAgICBhcmctPnUuc3VwcHJlc3NfdmVf
bXVsdGkubGFzdF9nZm4gPSBsYXN0X2dmbjsNCisgICAgYXJnLT51LnN1cHByZXNzX3ZlX211bHRp
LnN1cHByZXNzX3ZlID0gc3ZlOw0KKw0KKyAgICByYyA9IHhlbmNhbGwyKGhhbmRsZS0+eGNhbGws
IF9fSFlQRVJWSVNPUl9odm1fb3AsIEhWTU9QX2FsdHAybSwNCisgICAgICAgICAgICAgICAgICBI
WVBFUkNBTExfQlVGRkVSX0FTX0FSRyhhcmcpKTsNCisNCisgICAgaWYgKCBhcmctPnUuc3VwcHJl
c3NfdmVfbXVsdGkuZmlyc3RfZXJyb3IgKQ0KKyAgICB7DQorICAgICAgICAqZXJyb3JfZ2ZuID0g
YXJnLT51LnN1cHByZXNzX3ZlX211bHRpLmZpcnN0X2Vycm9yOw0KKyAgICAgICAgKmVycm9yX2Nv
ZGUgPSBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkuZmlyc3RfZXJyb3JfY29kZTsNCisgICAgfQ0K
Kw0KKyAgICB4Y19oeXBlcmNhbGxfYnVmZmVyX2ZyZWUoaGFuZGxlLCBhcmcpOw0KKyAgICByZXR1
cm4gcmM7DQorfQ0KKw0KIGludCB4Y19hbHRwMm1fc2V0X21lbV9hY2Nlc3MoeGNfaW50ZXJmYWNl
ICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dWludDE2X3Qgdmlld19pZCwgeGVuX3Bmbl90IGdmbiwNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHhlbm1lbV9hY2Nlc3NfdCBhY2Nlc3MpDQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2
L2h2bS9odm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMNCmluZGV4IDQ3NTczZjcxYjguLjk4
ZDFkOTc4OGIgMTAwNjQ0DQotLS0gYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jDQorKysgYi94ZW4v
YXJjaC94ODYvaHZtL2h2bS5jDQpAQCAtNDU1Myw2ICs0NTUzLDcgQEAgc3RhdGljIGludCBkb19h
bHRwMm1fb3AoDQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX2Rlc3Ryb3lfcDJtOg0KICAgICBjYXNl
IEhWTU9QX2FsdHAybV9zd2l0Y2hfcDJtOg0KICAgICBjYXNlIEhWTU9QX2FsdHAybV9zZXRfc3Vw
cHJlc3NfdmU6DQorICAgIGNhc2UgSFZNT1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aToN
CiAgICAgY2FzZSBIVk1PUF9hbHRwMm1fZ2V0X3N1cHByZXNzX3ZlOg0KICAgICBjYXNlIEhWTU9Q
X2FsdHAybV9zZXRfbWVtX2FjY2VzczoNCiAgICAgY2FzZSBIVk1PUF9hbHRwMm1fc2V0X21lbV9h
Y2Nlc3NfbXVsdGk6DQpAQCAtNDcxMSw2ICs0NzEyLDI1IEBAIHN0YXRpYyBpbnQgZG9fYWx0cDJt
X29wKA0KICAgICAgICAgfQ0KICAgICAgICAgYnJlYWs7DQogDQorICAgIGNhc2UgSFZNT1BfYWx0
cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aToNCisgICAgew0KKyAgICAgICAgdWludDY0X3QgbWF4
X3BoeXNfYWRkciA9ICgxVUwgPDwgZC0+YXJjaC5jcHVpZC0+ZXh0ZC5tYXhwaHlzYWRkcikgLSAx
Ow0KKw0KKyAgICAgICAgYS51LnN1cHByZXNzX3ZlX211bHRpLmxhc3RfZ2ZuID0gbWluKGEudS5z
dXBwcmVzc192ZV9tdWx0aS5sYXN0X2dmbiwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBtYXhfcGh5c19hZGRyKTsNCisNCisgICAgICAgIGlmICggYS51LnN1
cHByZXNzX3ZlX211bHRpLnBhZDEgfHwNCisgICAgICAgICAgICAgYS51LnN1cHByZXNzX3ZlX211
bHRpLmZpcnN0X2dmbiA+IGEudS5zdXBwcmVzc192ZV9tdWx0aS5sYXN0X2dmbiApDQorICAgICAg
ICAgICAgcmMgPSAtRUlOVkFMOw0KKyAgICAgICAgZWxzZQ0KKyAgICAgICAgew0KKyAgICAgICAg
ICAgIHJjID0gcDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aShkLCAmYS51LnN1cHByZXNzX3ZlX211
bHRpKTsNCisgICAgICAgICAgICBpZiAoICghcmMgfHwgcmMgPT0gLUVSRVNUQVJUKSAmJiBfX2Nv
cHlfdG9fZ3Vlc3QoYXJnLCAmYSwgMSkgKQ0KKyAgICAgICAgICAgICAgICByYyA9IC1FRkFVTFQ7
DQorICAgICAgICB9DQorICAgICAgICBicmVhazsNCisgICAgfQ0KKw0KICAgICBjYXNlIEhWTU9Q
X2FsdHAybV9nZXRfc3VwcHJlc3NfdmU6DQogICAgICAgICBpZiAoIGEudS5zdXBwcmVzc192ZS5w
YWQxIHx8IGEudS5zdXBwcmVzc192ZS5wYWQyICkNCiAgICAgICAgICAgICByYyA9IC1FSU5WQUw7
DQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L21tL3AybS5jIGIveGVuL2FyY2gveDg2L21tL3Ay
bS5jDQppbmRleCAxNjAzOWM3YTU3Li5kOTI2MTNlYmU0IDEwMDY0NA0KLS0tIGEveGVuL2FyY2gv
eDg2L21tL3AybS5jDQorKysgYi94ZW4vYXJjaC94ODYvbW0vcDJtLmMNCkBAIC0zMDY1LDYgKzMw
NjUsNzAgQEAgb3V0Og0KICAgICByZXR1cm4gcmM7DQogfQ0KIA0KKy8qDQorICogU2V0L2NsZWFy
IHRoZSAjVkUgc3VwcHJlc3MgYml0IGZvciBtdWx0aXBsZSBwYWdlcy4gIE9ubHkgYXZhaWxhYmxl
IG9uIFZNWC4NCisgKi8NCitpbnQgcDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aShzdHJ1Y3QgZG9t
YWluICpkLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCB4ZW5faHZtX2Fs
dHAybV9zdXBwcmVzc192ZV9tdWx0aSAqc3ZlKQ0KK3sNCisgICAgc3RydWN0IHAybV9kb21haW4g
Kmhvc3RfcDJtID0gcDJtX2dldF9ob3N0cDJtKGQpOw0KKyAgICBzdHJ1Y3QgcDJtX2RvbWFpbiAq
YXAybSA9IE5VTEw7DQorICAgIHN0cnVjdCBwMm1fZG9tYWluICpwMm0gPSBob3N0X3AybTsNCisg
ICAgdWludDY0X3Qgc3RhcnQgPSBzdmUtPmZpcnN0X2dmbjsNCisgICAgaW50IHJjID0gMDsNCisN
CisgICAgaWYgKCBzdmUtPnZpZXcgPiAwICkNCisgICAgew0KKyAgICAgICAgaWYgKCBzdmUtPnZp
ZXcgPj0gTUFYX0FMVFAyTSB8fA0KKyAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2Fy
cmF5X2luZGV4X25vc3BlYyhzdmUtPnZpZXcsIE1BWF9BTFRQMk0pXSA9PQ0KKyAgICAgICAgICAg
ICBtZm5feChJTlZBTElEX01GTikgKQ0KKyAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KKw0K
KyAgICAgICAgcDJtID0gYXAybSA9IGQtPmFyY2guYWx0cDJtX3AybVthcnJheV9pbmRleF9ub3Nw
ZWMoc3ZlLT52aWV3LA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgTUFYX0FMVFAyTSldOw0KKyAgICB9DQorDQorICAgIHAybV9sb2Nr
KGhvc3RfcDJtKTsNCisNCisgICAgaWYgKCBhcDJtICkNCisgICAgICAgIHAybV9sb2NrKGFwMm0p
Ow0KKw0KKyAgICB3aGlsZSAoIHN2ZS0+bGFzdF9nZm4gPj0gc3RhcnQgKQ0KKyAgICB7DQorICAg
ICAgICBwMm1fYWNjZXNzX3QgYTsNCisgICAgICAgIHAybV90eXBlX3QgdDsNCisgICAgICAgIG1m
bl90IG1mbjsNCisgICAgICAgIGludCBlcnIgPSAwOw0KKw0KKyAgICAgICAgaWYgKCBhbHRwMm1f
Z2V0X2VmZmVjdGl2ZV9lbnRyeShwMm0sIF9nZm4oc3RhcnQpLCAmbWZuLCAmdCwgJmEsIEFQMk1H
RVRfcXVlcnkpICkNCisgICAgICAgICAgICBhID0gcDJtLT5kZWZhdWx0X2FjY2VzczsNCisNCisg
ICAgICAgIGlmICggKGVyciA9IHAybS0+c2V0X2VudHJ5KHAybSwgX2dmbihzdGFydCksIG1mbiwg
UEFHRV9PUkRFUl80SywgdCwgYSwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN2ZS0+c3VwcHJlc3NfdmUpKSAmJg0KKyAgICAgICAgICAgICAhc3ZlLT5maXJzdF9lcnJvcl9j
b2RlICkNCisgICAgICAgIHsNCisgICAgICAgICAgICBzdmUtPmZpcnN0X2Vycm9yID0gc3RhcnQ7
IC8qIFNhdmUgdGhlIGdmbiBvZiB0aGUgZmlyc3QgZXJyb3IgKi8NCisgICAgICAgICAgICBzdmUt
PmZpcnN0X2Vycm9yX2NvZGUgPSBlcnI7IC8qIFNhdmUgdGhlIGZpcnN0IGVycm9yIGNvZGUgKi8N
CisgICAgICAgIH0NCisNCisgICAgICAgIC8qIENoZWNrIGZvciBjb250aW51YXRpb24gaWYgaXQn
cyBub3QgdGhlIGxhc3QgaXRlcmF0aW9uLiAqLw0KKyAgICAgICAgaWYgKCBzdmUtPmxhc3RfZ2Zu
ID49ICsrc3RhcnQgJiYgaHlwZXJjYWxsX3ByZWVtcHRfY2hlY2soKSApDQorICAgICAgICB7DQor
ICAgICAgICAgICAgcmMgPSAtRVJFU1RBUlQ7DQorICAgICAgICAgICAgYnJlYWs7DQorICAgICAg
ICB9DQorICAgIH0NCisNCisgICAgc3ZlLT5maXJzdF9nZm4gPSBzdGFydDsNCisNCisgICAgaWYg
KCBhcDJtICkNCisgICAgICAgIHAybV91bmxvY2soYXAybSk7DQorDQorICAgIHAybV91bmxvY2so
aG9zdF9wMm0pOw0KKw0KKyAgICByZXR1cm4gcmM7DQorfQ0KKw0KIGludCBwMm1fZ2V0X3N1cHBy
ZXNzX3ZlKHN0cnVjdCBkb21haW4gKmQsIGdmbl90IGdmbiwgYm9vbCAqc3VwcHJlc3NfdmUsDQog
ICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGFsdHAybV9pZHgpDQogew0KZGlm
ZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9odm0vaHZtX29wLmggYi94ZW4vaW5jbHVkZS9w
dWJsaWMvaHZtL2h2bV9vcC5oDQppbmRleCAzNTNmODAzNGQ5Li41NDQ2ZDYzNGQ4IDEwMDY0NA0K
LS0tIGEveGVuL2luY2x1ZGUvcHVibGljL2h2bS9odm1fb3AuaA0KKysrIGIveGVuL2luY2x1ZGUv
cHVibGljL2h2bS9odm1fb3AuaA0KQEAgLTQ2LDYgKzQ2LDE2IEBAIHN0cnVjdCB4ZW5faHZtX2Fs
dHAybV9zdXBwcmVzc192ZSB7DQogICAgIHVpbnQ2NF90IGdmbjsNCiB9Ow0KIA0KK3N0cnVjdCB4
ZW5faHZtX2FsdHAybV9zdXBwcmVzc192ZV9tdWx0aSB7DQorICAgIHVpbnQxNl90IHZpZXc7DQor
ICAgIHVpbnQ4X3Qgc3VwcHJlc3NfdmU7IC8qIEJvb2xlYW4gdHlwZS4gKi8NCisgICAgdWludDhf
dCBwYWQxOw0KKyAgICBpbnQzMl90IGZpcnN0X2Vycm9yX2NvZGU7IC8qIE11c3QgYmUgc2V0IHRv
IDAgLiAqLw0KKyAgICB1aW50NjRfdCBmaXJzdF9nZm47IC8qIFZhbHVlIHdpbGwgYmUgdXBkYXRl
ZCAqLw0KKyAgICB1aW50NjRfdCBsYXN0X2dmbjsNCisgICAgdWludDY0X3QgZmlyc3RfZXJyb3I7
IC8qIEdmbiBvZiB0aGUgZmlyc3QgZXJyb3IuIE11c3QgYmUgc2V0IHRvIDAuICovDQorfTsNCisN
CiAjaWYgX19YRU5fSU5URVJGQUNFX1ZFUlNJT05fXyA8IDB4MDAwNDA5MDANCiANCiAvKiBTZXQg
dGhlIGxvZ2ljYWwgbGV2ZWwgb2Ygb25lIG9mIGEgZG9tYWluJ3MgUENJIElOVHggd2lyZXMuICov
DQpAQCAtMzM5LDYgKzM0OSw4IEBAIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9vcCB7DQogI2RlZmlu
ZSBIVk1PUF9hbHRwMm1fdmNwdV9kaXNhYmxlX25vdGlmeSAgMTMNCiAvKiBHZXQgdGhlIGFjdGl2
ZSB2Y3B1IHAybSBpbmRleCAqLw0KICNkZWZpbmUgSFZNT1BfYWx0cDJtX2dldF9wMm1faWR4ICAg
ICAgICAgIDE0DQorLyogU2V0IHRoZSAiU3VwcmVzcyAjVkUiIGJpdCBmb3IgYSByYW5nZSBvZiBw
YWdlcyAqLw0KKyNkZWZpbmUgSFZNT1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aSAxNQ0K
ICAgICBkb21pZF90IGRvbWFpbjsNCiAgICAgdWludDE2X3QgcGFkMTsNCiAgICAgdWludDMyX3Qg
cGFkMjsNCkBAIC0zNTMsNiArMzY1LDcgQEAgc3RydWN0IHhlbl9odm1fYWx0cDJtX29wIHsNCiAg
ICAgICAgIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9jaGFuZ2VfZ2ZuICAgICAgICAgICBjaGFuZ2Vf
Z2ZuOw0KICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3NldF9tZW1fYWNjZXNzX211bHRp
IHNldF9tZW1fYWNjZXNzX211bHRpOw0KICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1
cHByZXNzX3ZlICAgICAgICAgIHN1cHByZXNzX3ZlOw0KKyAgICAgICAgc3RydWN0IHhlbl9odm1f
YWx0cDJtX3N1cHByZXNzX3ZlX211bHRpICAgIHN1cHByZXNzX3ZlX211bHRpOw0KICAgICAgICAg
c3RydWN0IHhlbl9odm1fYWx0cDJtX3ZjcHVfZGlzYWJsZV9ub3RpZnkgIGRpc2FibGVfbm90aWZ5
Ow0KICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX2dldF92Y3B1X3AybV9pZHggICAgIGdl
dF92Y3B1X3AybV9pZHg7DQogICAgICAgICB1aW50OF90IHBhZFs2NF07DQpkaWZmIC0tZ2l0IGEv
eGVuL2luY2x1ZGUveGVuL21lbV9hY2Nlc3MuaCBiL3hlbi9pbmNsdWRlL3hlbi9tZW1fYWNjZXNz
LmgNCmluZGV4IGU0ZDI0NTAyZTAuLjAwZTU5NGEwYWQgMTAwNjQ0DQotLS0gYS94ZW4vaW5jbHVk
ZS94ZW4vbWVtX2FjY2Vzcy5oDQorKysgYi94ZW4vaW5jbHVkZS94ZW4vbWVtX2FjY2Vzcy5oDQpA
QCAtNzUsNiArNzUsOSBAQCBsb25nIHAybV9zZXRfbWVtX2FjY2Vzc19tdWx0aShzdHJ1Y3QgZG9t
YWluICpkLA0KIGludCBwMm1fc2V0X3N1cHByZXNzX3ZlKHN0cnVjdCBkb21haW4gKmQsIGdmbl90
IGdmbiwgYm9vbCBzdXBwcmVzc192ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25l
ZCBpbnQgYWx0cDJtX2lkeCk7DQogDQoraW50IHAybV9zZXRfc3VwcHJlc3NfdmVfbXVsdGkoc3Ry
dWN0IGRvbWFpbiAqZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgeGVu
X2h2bV9hbHRwMm1fc3VwcHJlc3NfdmVfbXVsdGkgKnN1cHByZXNzX3ZlKTsNCisNCiBpbnQgcDJt
X2dldF9zdXBwcmVzc192ZShzdHJ1Y3QgZG9tYWluICpkLCBnZm5fdCBnZm4sIGJvb2wgKnN1cHBy
ZXNzX3ZlLA0KICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBhbHRwMm1faWR4
KTsNCiANCi0tIA0KMi4xNy4xDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnBy
b2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94
ZW4tZGV2ZWw=

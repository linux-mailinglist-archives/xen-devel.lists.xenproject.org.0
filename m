Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BA592122FE1
	for <lists+xen-devel@lfdr.de>; Tue, 17 Dec 2019 16:15:34 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ihEWi-0008CN-LS; Tue, 17 Dec 2019 15:12:44 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=P3aS=2H=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1ihEWg-0008Bv-JB
 for xen-devel@lists.xenproject.org; Tue, 17 Dec 2019 15:12:42 +0000
X-Inumbo-ID: a69eafd8-20df-11ea-b6f1-bc764e2007e4
Received: from EUR03-VE1-obe.outbound.protection.outlook.com (unknown
 [40.107.5.102]) by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id a69eafd8-20df-11ea-b6f1-bc764e2007e4;
 Tue, 17 Dec 2019 15:12:33 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=npc6E7hfAb/6d4ckjxiKauCZtCyMWNNv+ADaAvs4bOyN5OSSA9JGcPZLc6pwb4tFRNiX9sYLnPK/6GoU+mokU8EF6sIQbd3tZNmaY7WSYlXO+Oh/Y+YHq2x1NutsE6oxturlVsxUMKZImTEmJdgrT86flhMkmDc84WPNfnX4ZcWxgfzI0fBlr5N1FxmgAe3u26XUlw4LcrHAZHmJkAo2Jlj5i47HlDgRUGEvHXDJhKLzzWOqzEr4i56cCbNl6c74PivWvouXlfEsdk3QGlpvILkLOUEQi4FA8pZximYFVPdHhs5Yo5Hr+mumZSuAM1ugmcgALcYyz4Uw/bEIhkCDPQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5Ye3jrTk8Fzpo5sg2oh2es9+FqCrKKcjqncyVkCrfYE=;
 b=oPGnIe72ay85MMjdsb35kk5kkfLxYd7/n8JfZsJ1vkIOwUFJSQD2YTa0f85+ALzB5e7i9C2S4MszoJ5FiYYoR0ZwVGJ8MicSCrUV7NYJENeaCxO8NdaTgCZ1Q9O8Ige6osZGaPcqPxnMRDB9c22JgOPA9haMuNbSllbHPYHYYOUIYMkhySX8AlP87uhI1NeBWk05BfOs7ZB6B4ME43cI4yKk1RxKug0/AcUMBAqI+Xe2gacOzRC/2FgihT7633t9rpkei1M4uBDHrDzEegM/mjJ/rucSxWAVniruVfnFOhdJbqUVAWaJzWX88i9/Sto8jwD3ci4erU0NGS8zx2efeQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5Ye3jrTk8Fzpo5sg2oh2es9+FqCrKKcjqncyVkCrfYE=;
 b=Ufr1rbV+mbxHqU800UfZnFQ1/QODneD+BvcHvmstdNET2QjoVLSF+JhonwWuukBy65pBszu09uzFCY9LREywVBg3in5wY1laV9pA7s4HpK/+jpCVqkSdr3GOL/ZNanP7WHGK5gQfh8XG3zk2XVfD9rLHImfzqitq1vKQzOFJx40=
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com (10.255.30.78) by
 AM0PR02MB4386.eurprd02.prod.outlook.com (20.178.17.212) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2538.20; Tue, 17 Dec 2019 15:12:31 +0000
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d]) by AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d%4]) with mapi id 15.20.2538.019; Tue, 17 Dec 2019
 15:12:31 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH V4 2/4] x86/altp2m: Add hypercall to set a range of sve
 bits
Thread-Index: AQHVtOxnMZNvtoiQIE62yqEH5VgLvA==
Date: Tue, 17 Dec 2019 15:12:31 +0000
Message-ID: <20191217151144.9781-2-aisaila@bitdefender.com>
References: <20191217151144.9781-1-aisaila@bitdefender.com>
In-Reply-To: <20191217151144.9781-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM0PR01CA0067.eurprd01.prod.exchangelabs.com
 (2603:10a6:208:e6::44) To AM0PR02MB5553.eurprd02.prod.outlook.com
 (2603:10a6:208:160::14)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: e424ed4a-de6c-4ee7-485b-08d7830389b2
x-ms-traffictypediagnostic: AM0PR02MB4386:|AM0PR02MB4386:|AM0PR02MB4386:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <AM0PR02MB4386F75A2AB30B7A146F1250AB500@AM0PR02MB4386.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:83;
x-forefront-prvs: 02543CD7CD
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(366004)(136003)(396003)(39860400002)(346002)(376002)(189003)(199004)(7416002)(6512007)(52116002)(64756008)(86362001)(186003)(8936002)(6486002)(4326008)(2906002)(54906003)(107886003)(66476007)(71200400001)(66556008)(66946007)(36756003)(26005)(81156014)(81166006)(5660300002)(8676002)(6506007)(478600001)(66446008)(1076003)(2616005)(316002)(6916009);
 DIR:OUT; SFP:1102; SCL:1; SRVR:AM0PR02MB4386;
 H:AM0PR02MB5553.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: EnEhYEFyc8I/6RKCBwYxsBw+g/HO2QKmmNcAj2HBYDK3qI3kvTQ90Tv82bM0wZmMGRfQIZLmu/9j5EyfSX6d3Z899Un1OvT9+oRfT54HXFdKGIJMTr1vVQDTfymOFkE9iYCKJeEyzeGwISLx1HYcT5fJ4aUEF1fPR2JxowwGMA7ldfxZuSvaig5OrNT1mX/9VH3a6EY2vtzmACqIWWM1/xLOUrnkxR5QrTwR6CI3RdQ6SYLayVxzEn03Wx33lK7dL5YHoJn1RlSwiCaGdMvu0F90PB3hFznXA0N+IYTR14/UixelN8h670dwHrC6lRy/8fCfjveAYPyH0Xay1KOcsFdywUlAb1PrN8eJ6RIFCxX81wg33z28xcL49R6iS/gtricRC3ia0ByyugqxeWoyMVFA++XyGPSST7S8RYnJIL4+Jo1f8gCz6KGfiU3gMAvY
Content-ID: <F8C450FB4DD57740BD59FDA42D132892@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e424ed4a-de6c-4ee7-485b-08d7830389b2
X-MS-Exchange-CrossTenant-originalarrivaltime: 17 Dec 2019 15:12:31.6266 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: WVqs/bu4Sceq/q/29XVEceoO1vbqpcJVfvXroP9HqNFNSqabScfs201Q3vJbdafY7pnE/eUMRZsiwoUpiCmwpmknkEH4+AgfExhYhCvmkXw=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR02MB4386
Subject: [Xen-devel] [PATCH V4 2/4] x86/altp2m: Add hypercall to set a range
 of sve bits
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Ovidiu PIRCALABU <ppircalabu@bitdefender.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Razvan COJOCARU <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tamas K Lengyel <tamas@tklengyel.com>,
 Jan Beulich <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnkgZGVmYXVsdCB0aGUgc3ZlIGJpdHMgYXJlIG5vdCBzZXQuDQpUaGlzIHBhdGNoIGFkZHMgYSBu
ZXcgaHlwZXJjYWxsLCB4Y19hbHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGkoKSwNCnRvIHNldCBh
IHJhbmdlIG9mIHN2ZSBiaXRzLg0KVGhlIGNvcmUgZnVuY3Rpb24sIHAybV9zZXRfc3VwcHJlc3Nf
dmVfbXVsdGkoKSwgZG9lcyBub3QgYnJha2UgaW4gY2FzZQ0Kb2YgYSBlcnJvciBhbmQgaXQgaXMg
ZG9pbmcgYSBiZXN0IGVmZm9ydCBmb3Igc2V0dGluZyB0aGUgYml0cyBpbiB0aGUNCmdpdmVuIHJh
bmdlLiBBIGNoZWNrIGZvciBjb250aW51YXRpb24gaXMgbWFkZSBpbiBvcmRlciB0byBoYXZlDQpw
cmVlbXB0aW9uIG9uIGJpZyByYW5nZXMuDQpUaGUgZ2ZuIG9mIHRoZSBmaXJzdCBlcnJvciBpcyBz
dG9yZWQgaW4NCnhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlX211bHRpLmZpcnN0X2Vycm9yIGFu
ZCB0aGUgZXJyb3IgY29kZSBpcw0Kc3RvcmVkIGluIHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3Zl
X211bHRpLmZpcnN0X2Vycm9yX2NvZGUuDQpJZiBubyBlcnJvciBvY2N1cnJlZCB0aGUgdmFsdWVz
IHdpbGwgYmUgMC4NCg0KU2lnbmVkLW9mZi1ieTogQWxleGFuZHJ1IElzYWlsYSA8YWlzYWlsYUBi
aXRkZWZlbmRlci5jb20+DQotLS0NCkNDOiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUuY2l0
cml4LmNvbT4NCkNDOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPg0KQ0M6IEFuZHJldyBDb29wZXIgPGFu
ZHJldy5jb29wZXIzQGNpdHJpeC5jb20+DQpDQzogR2VvcmdlIER1bmxhcCA8R2VvcmdlLkR1bmxh
cEBldS5jaXRyaXguY29tPg0KQ0M6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4NCkND
OiBKdWxpZW4gR3JhbGwgPGp1bGllbkB4ZW4ub3JnPg0KQ0M6IEtvbnJhZCBSemVzenV0ZWsgV2ls
ayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4NCkNDOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFi
ZWxsaW5pQGtlcm5lbC5vcmc+DQpDQzogIlJvZ2VyIFBhdSBNb25uw6kiIDxyb2dlci5wYXVAY2l0
cml4LmNvbT4NCkNDOiBHZW9yZ2UgRHVubGFwIDxnZW9yZ2UuZHVubGFwQGV1LmNpdHJpeC5jb20+
DQpDQzogUmF6dmFuIENvam9jYXJ1IDxyY29qb2NhcnVAYml0ZGVmZW5kZXIuY29tPg0KQ0M6IFRh
bWFzIEsgTGVuZ3llbCA8dGFtYXNAdGtsZW5neWVsLmNvbT4NCkNDOiBQZXRyZSBQaXJjYWxhYnUg
PHBwaXJjYWxhYnVAYml0ZGVmZW5kZXIuY29tPg0KLS0tDQpDaGFuZ2VzIHNpbmNlIFYzOg0KCS0g
VXBkYXRlIGNvbW1pdCBtZXNzYWdlDQoJLSBDaGVjayByYyBhbmQgX19jb3B5X3RvX2d1ZXN0KCkg
aW4gdGhlIHNhbWUgaWYNCgktIEZpeCBzdHlsZSBpc3N1ZQ0KCS0gRml4IGNvbW1lbnQgdHlwbw0K
CS0gSW5pdCBwMm0gd2l0aCBob3N0X3AybQ0KCS0gVXNlIGFycmF5X2luZGV4X25vc3BlYygpIGlu
IGFsdHAybV9wMm1bXSBhbmQgYWx0cDJtX2VwdHBbXQ0KCS0gRHJvcCBvcGFxdWUNCgktIFVzZSBw
YWQyIHRvIHJldHVybiBmaXJzdCBlcnJvciBjb2RlDQoJLSBVcGRhdGUgZmlyc3RfZ2ZuDQoJLSBT
dG9wIHRoZSByYW5nZSBsb29wIGF0IGNwdWlkLT5leHRkLm1heHBoeXNhZGRyLg0KLS0tDQogdG9v
bHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmggICB8ICA0ICsrKw0KIHRvb2xzL2xpYnhjL3hjX2Fs
dHAybS5jICAgICAgICAgfCAzMyArKysrKysrKysrKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9odm0v
aHZtLmMgICAgICAgICAgfCAxNSArKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9tbS9wMm0uYyAgICAg
ICAgICAgfCA2NCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysNCiB4ZW4vaW5jbHVk
ZS9wdWJsaWMvaHZtL2h2bV9vcC5oIHwgMTMgKysrKysrKw0KIHhlbi9pbmNsdWRlL3hlbi9tZW1f
YWNjZXNzLmggICAgfCAgMyArKw0KIDYgZmlsZXMgY2hhbmdlZCwgMTMyIGluc2VydGlvbnMoKykN
Cg0KZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oIGIvdG9vbHMvbGli
eGMvaW5jbHVkZS94ZW5jdHJsLmgNCmluZGV4IGY0NDMxNjg3YjMuLjJhY2U4ZWE4MGUgMTAwNjQ0
DQotLS0gYS90b29scy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaA0KKysrIGIvdG9vbHMvbGlieGMv
aW5jbHVkZS94ZW5jdHJsLmgNCkBAIC0xOTIzLDYgKzE5MjMsMTAgQEAgaW50IHhjX2FsdHAybV9z
d2l0Y2hfdG9fdmlldyh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2aWV3X2lkKTsNCiBpbnQgeGNfYWx0
cDJtX3NldF9zdXBwcmVzc192ZSh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQs
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3Qgdmlld19pZCwgeGVuX3Bm
bl90IGdmbiwgYm9vbCBzdmUpOw0KK2ludCB4Y19hbHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGko
eGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdWludDE2X3Qgdmlld19pZCwgeGVuX3Bmbl90IGZpcnN0X2dmbiwN
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhlbl9wZm5fdCBsYXN0X2dmbiwg
Ym9vbCBzdmUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZW5fcGZuX3Qg
KmVycm9yX2dmbiwgdWludDMyX3QgKmVycm9yX2NvZGUpOw0KIGludCB4Y19hbHRwMm1fZ2V0X3N1
cHByZXNzX3ZlKHhjX2ludGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21pZCwNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2aWV3X2lkLCB4ZW5fcGZuX3QgZ2ZuLCBi
b29sICpzdmUpOw0KIGludCB4Y19hbHRwMm1fc2V0X21lbV9hY2Nlc3MoeGNfaW50ZXJmYWNlICpo
YW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhjL3hjX2FsdHAy
bS5jIGIvdG9vbHMvbGlieGMveGNfYWx0cDJtLmMNCmluZGV4IDA5ZGFkMDM1NWUuLjlmN2U4MzE1
YjMgMTAwNjQ0DQotLS0gYS90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KKysrIGIvdG9vbHMvbGli
eGMveGNfYWx0cDJtLmMNCkBAIC0yMzQsNiArMjM0LDM5IEBAIGludCB4Y19hbHRwMm1fc2V0X3N1
cHByZXNzX3ZlKHhjX2ludGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21pZCwNCiAgICAgcmV0
dXJuIHJjOw0KIH0NCiANCitpbnQgeGNfYWx0cDJtX3NldF9zdXByZXNzX3ZlX211bHRpKHhjX2lu
dGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21pZCwNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHVpbnQxNl90IHZpZXdfaWQsIHhlbl9wZm5fdCBmaXJzdF9nZm4sDQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZW5fcGZuX3QgbGFzdF9nZm4sIGJvb2wg
c3ZlLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVuX3Bmbl90ICplcnJv
cl9nZm4sIHVpbnQzMl90ICplcnJvcl9jb2RlKQ0KK3sNCisgICAgaW50IHJjOw0KKyAgICBERUNM
QVJFX0hZUEVSQ0FMTF9CVUZGRVIoeGVuX2h2bV9hbHRwMm1fb3BfdCwgYXJnKTsNCisNCisgICAg
YXJnID0geGNfaHlwZXJjYWxsX2J1ZmZlcl9hbGxvYyhoYW5kbGUsIGFyZywgc2l6ZW9mKCphcmcp
KTsNCisgICAgaWYgKCBhcmcgPT0gTlVMTCApDQorICAgICAgICByZXR1cm4gLTE7DQorDQorICAg
IGFyZy0+dmVyc2lvbiA9IEhWTU9QX0FMVFAyTV9JTlRFUkZBQ0VfVkVSU0lPTjsNCisgICAgYXJn
LT5jbWQgPSBIVk1PUF9hbHRwMm1fc2V0X3N1cHByZXNzX3ZlX211bHRpOw0KKyAgICBhcmctPmRv
bWFpbiA9IGRvbWlkOw0KKyAgICBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkudmlldyA9IHZpZXdf
aWQ7DQorICAgIGFyZy0+dS5zdXBwcmVzc192ZV9tdWx0aS5maXJzdF9nZm4gPSBmaXJzdF9nZm47
DQorICAgIGFyZy0+dS5zdXBwcmVzc192ZV9tdWx0aS5sYXN0X2dmbiA9IGxhc3RfZ2ZuOw0KKyAg
ICBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkuc3VwcHJlc3NfdmUgPSBzdmU7DQorDQorICAgIHJj
ID0geGVuY2FsbDIoaGFuZGxlLT54Y2FsbCwgX19IWVBFUlZJU09SX2h2bV9vcCwgSFZNT1BfYWx0
cDJtLA0KKyAgICAgICAgICAgICAgICAgIEhZUEVSQ0FMTF9CVUZGRVJfQVNfQVJHKGFyZykpOw0K
Kw0KKyAgICBpZiAoIGFyZy0+dS5zdXBwcmVzc192ZV9tdWx0aS5maXJzdF9lcnJvciApDQorICAg
IHsNCisgICAgICAgICplcnJvcl9nZm4gPSBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkuZmlyc3Rf
ZXJyb3I7DQorICAgICAgICAqZXJyb3JfY29kZSA9IGFyZy0+dS5zdXBwcmVzc192ZV9tdWx0aS5m
aXJzdF9lcnJvcl9jb2RlOw0KKyAgICB9DQorDQorICAgIHhjX2h5cGVyY2FsbF9idWZmZXJfZnJl
ZShoYW5kbGUsIGFyZyk7DQorICAgIHJldHVybiByYzsNCit9DQorDQogaW50IHhjX2FsdHAybV9z
ZXRfbWVtX2FjY2Vzcyh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2aWV3X2lkLCB4ZW5fcGZuX3QgZ2Zu
LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVubWVtX2FjY2Vzc190IGFjY2VzcykN
CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jIGIveGVuL2FyY2gveDg2L2h2bS9o
dm0uYw0KaW5kZXggNDc1NzNmNzFiOC4uYTEyOTA0OWQ2YiAxMDA2NDQNCi0tLSBhL3hlbi9hcmNo
L3g4Ni9odm0vaHZtLmMNCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMNCkBAIC00NTUzLDYg
KzQ1NTMsNyBAQCBzdGF0aWMgaW50IGRvX2FsdHAybV9vcCgNCiAgICAgY2FzZSBIVk1PUF9hbHRw
Mm1fZGVzdHJveV9wMm06DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX3N3aXRjaF9wMm06DQogICAg
IGNhc2UgSFZNT1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZToNCisgICAgY2FzZSBIVk1PUF9hbHRw
Mm1fc2V0X3N1cHByZXNzX3ZlX211bHRpOg0KICAgICBjYXNlIEhWTU9QX2FsdHAybV9nZXRfc3Vw
cHJlc3NfdmU6DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX3NldF9tZW1fYWNjZXNzOg0KICAgICBj
YXNlIEhWTU9QX2FsdHAybV9zZXRfbWVtX2FjY2Vzc19tdWx0aToNCkBAIC00NzExLDYgKzQ3MTIs
MjAgQEAgc3RhdGljIGludCBkb19hbHRwMm1fb3AoDQogICAgICAgICB9DQogICAgICAgICBicmVh
azsNCiANCisgICAgY2FzZSBIVk1PUF9hbHRwMm1fc2V0X3N1cHByZXNzX3ZlX211bHRpOg0KKyAg
ICAgICAgaWYgKCBhLnUuc3VwcHJlc3NfdmVfbXVsdGkucGFkMSB8fA0KKyAgICAgICAgICAgICBh
LnUuc3VwcHJlc3NfdmVfbXVsdGkuZmlyc3RfZXJyb3JfY29kZSB8fA0KKyAgICAgICAgICAgICBh
LnUuc3VwcHJlc3NfdmVfbXVsdGkuZmlyc3RfZXJyb3IgfHwNCisgICAgICAgICAgICAgYS51LnN1
cHByZXNzX3ZlX211bHRpLmZpcnN0X2dmbiA+IGEudS5zdXBwcmVzc192ZV9tdWx0aS5sYXN0X2dm
biApDQorICAgICAgICAgICAgcmMgPSAtRUlOVkFMOw0KKyAgICAgICAgZWxzZQ0KKyAgICAgICAg
ew0KKyAgICAgICAgICAgIHJjID0gcDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aShkLCAmYS51LnN1
cHByZXNzX3ZlX211bHRpKTsNCisgICAgICAgICAgICBpZiAoICghcmMgfHwgcmMgPT0gLUVSRVNU
QVJUKSAmJiBfX2NvcHlfdG9fZ3Vlc3QoYXJnLCAmYSwgMSkgKQ0KKyAgICAgICAgICAgICAgICBy
YyA9IC1FRkFVTFQ7DQorICAgICAgICB9DQorICAgICAgICBicmVhazsNCisNCiAgICAgY2FzZSBI
Vk1PUF9hbHRwMm1fZ2V0X3N1cHByZXNzX3ZlOg0KICAgICAgICAgaWYgKCBhLnUuc3VwcHJlc3Nf
dmUucGFkMSB8fCBhLnUuc3VwcHJlc3NfdmUucGFkMiApDQogICAgICAgICAgICAgcmMgPSAtRUlO
VkFMOw0KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS9wMm0uYyBiL3hlbi9hcmNoL3g4Ni9t
bS9wMm0uYw0KaW5kZXggN2U3ZjRmMWE3Yy4uMjUzY2FiMzQ1OCAxMDA2NDQNCi0tLSBhL3hlbi9h
cmNoL3g4Ni9tbS9wMm0uYw0KKysrIGIveGVuL2FyY2gveDg2L21tL3AybS5jDQpAQCAtMzA2NCw2
ICszMDY0LDcwIEBAIG91dDoNCiAgICAgcmV0dXJuIHJjOw0KIH0NCiANCisvKg0KKyAqIFNldC9j
bGVhciB0aGUgI1ZFIHN1cHByZXNzIGJpdCBmb3IgbXVsdGlwbGUgcGFnZXMuICBPbmx5IGF2YWls
YWJsZSBvbiBWTVguDQorICovDQoraW50IHAybV9zZXRfc3VwcHJlc3NfdmVfbXVsdGkoc3RydWN0
IGRvbWFpbiAqZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgeGVuX2h2
bV9hbHRwMm1fc3VwcHJlc3NfdmVfbXVsdGkgKnN2ZSkNCit7DQorICAgIHN0cnVjdCBwMm1fZG9t
YWluICpob3N0X3AybSA9IHAybV9nZXRfaG9zdHAybShkKTsNCisgICAgc3RydWN0IHAybV9kb21h
aW4gKmFwMm0gPSBOVUxMOw0KKyAgICBzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtID0gaG9zdF9wMm07
DQorICAgIHVpbnQ2NF90IHN0YXJ0ID0gc3ZlLT5maXJzdF9nZm47DQorICAgIGludCByYyA9IDA7
DQorICAgIHVpbnQ2NF90IG1heF9waHlzX2FkZHIgPSAoMVVMIDw8IGQtPmFyY2guY3B1aWQtPmV4
dGQubWF4cGh5c2FkZHIpIC0gMTsNCisNCisgICAgaWYgKCBzdmUtPnZpZXcgPiAwICkNCisgICAg
ew0KKyAgICAgICAgaWYgKCBzdmUtPnZpZXcgPj0gTUFYX0FMVFAyTSB8fA0KKyAgICAgICAgICAg
ICBkLT5hcmNoLmFsdHAybV9lcHRwW2FycmF5X2luZGV4X25vc3BlYyhzdmUtPnZpZXcsIE1BWF9F
UFRQKV0gPT0NCisgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pICkNCisgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsNCisNCisgICAgICAgIHAybSA9IGFwMm0gPSBkLT5hcmNoLmFsdHAy
bV9wMm1bYXJyYXlfaW5kZXhfbm9zcGVjKHN2ZS0+dmlldywNCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9BTFRQMk0pXTsNCisg
ICAgfQ0KKw0KKyAgICBwMm1fbG9jayhob3N0X3AybSk7DQorDQorICAgIGlmICggYXAybSApDQor
ICAgICAgICBwMm1fbG9jayhhcDJtKTsNCisNCisgICAgd2hpbGUgKCBzdmUtPmxhc3RfZ2ZuID49
IHN0YXJ0ICYmIHN0YXJ0IDwgbWF4X3BoeXNfYWRkciApDQorICAgIHsNCisgICAgICAgIHAybV9h
Y2Nlc3NfdCBhOw0KKyAgICAgICAgcDJtX3R5cGVfdCB0Ow0KKyAgICAgICAgbWZuX3QgbWZuOw0K
KyAgICAgICAgaW50IGVyciA9IDA7DQorDQorICAgICAgICBpZiAoIGFsdHAybV9nZXRfZWZmZWN0
aXZlX2VudHJ5KHAybSwgX2dmbihzdGFydCksICZtZm4sICZ0LCAmYSwgQVAyTUdFVF9xdWVyeSkg
KQ0KKyAgICAgICAgICAgIGEgPSBwMm0tPmRlZmF1bHRfYWNjZXNzOw0KKw0KKyAgICAgICAgaWYg
KCAoZXJyID0gcDJtLT5zZXRfZW50cnkocDJtLCBfZ2ZuKHN0YXJ0KSwgbWZuLCBQQUdFX09SREVS
XzRLLCB0LCBhLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZlLT5zdXBw
cmVzc192ZSkpICYmICFzdmUtPmZpcnN0X2Vycm9yICkNCisgICAgICAgIHsNCisgICAgICAgICAg
ICBzdmUtPmZpcnN0X2Vycm9yID0gc3RhcnQ7IC8qIFNhdmUgdGhlIGdmbiBvZiB0aGUgZmlyc3Qg
ZXJyb3IgKi8NCisgICAgICAgICAgICBzdmUtPmZpcnN0X2Vycm9yX2NvZGUgPSBlcnI7IC8qIFNh
dmUgdGhlIGZpcnN0IGVycm9yIGNvZGUgKi8NCisgICAgICAgIH0NCisNCisgICAgICAgIC8qIENo
ZWNrIGZvciBjb250aW51YXRpb24gaWYgaXQncyBub3QgdGhlIGxhc3QgaXRlcmF0aW9uLiAqLw0K
KyAgICAgICAgaWYgKCBzdmUtPmxhc3RfZ2ZuID49ICsrc3RhcnQgJiYgaHlwZXJjYWxsX3ByZWVt
cHRfY2hlY2soKSApDQorICAgICAgICB7DQorICAgICAgICAgICAgcmMgPSAtRVJFU1RBUlQ7DQor
ICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICB9DQorICAgIH0NCisNCisgICAgc3ZlLT5maXJz
dF9nZm4gPSBzdGFydDsNCisNCisgICAgaWYgKCBhcDJtICkNCisgICAgICAgIHAybV91bmxvY2so
YXAybSk7DQorDQorICAgIHAybV91bmxvY2soaG9zdF9wMm0pOw0KKw0KKyAgICByZXR1cm4gcmM7
DQorfQ0KKw0KIGludCBwMm1fZ2V0X3N1cHByZXNzX3ZlKHN0cnVjdCBkb21haW4gKmQsIGdmbl90
IGdmbiwgYm9vbCAqc3VwcHJlc3NfdmUsDQogICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgaW50IGFsdHAybV9pZHgpDQogew0KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9o
dm0vaHZtX29wLmggYi94ZW4vaW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9vcC5oDQppbmRleCAzNTNm
ODAzNGQ5Li40OTk2NWQyNTZjIDEwMDY0NA0KLS0tIGEveGVuL2luY2x1ZGUvcHVibGljL2h2bS9o
dm1fb3AuaA0KKysrIGIveGVuL2luY2x1ZGUvcHVibGljL2h2bS9odm1fb3AuaA0KQEAgLTQ2LDYg
KzQ2LDE2IEBAIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9zdXBwcmVzc192ZSB7DQogICAgIHVpbnQ2
NF90IGdmbjsNCiB9Ow0KIA0KK3N0cnVjdCB4ZW5faHZtX2FsdHAybV9zdXBwcmVzc192ZV9tdWx0
aSB7DQorICAgIHVpbnQxNl90IHZpZXc7DQorICAgIHVpbnQ4X3Qgc3VwcHJlc3NfdmU7IC8qIEJv
b2xlYW4gdHlwZS4gKi8NCisgICAgdWludDhfdCBwYWQxOw0KKyAgICB1aW50MzJfdCBmaXJzdF9l
cnJvcl9jb2RlOyAvKiBNdXN0IGJlIHNldCB0byAwIC4gKi8NCisgICAgdWludDY0X3QgZmlyc3Rf
Z2ZuOyAvKiBWYWx1ZSB3aWxsIGJlIHVwZGF0ZWQgKi8NCisgICAgdWludDY0X3QgbGFzdF9nZm47
DQorICAgIHVpbnQ2NF90IGZpcnN0X2Vycm9yOyAvKiBHZm4gb2YgdGhlIGZpcnN0IGVycm9yLiBN
dXN0IGJlIHNldCB0byAwLiAqLw0KK307DQorDQogI2lmIF9fWEVOX0lOVEVSRkFDRV9WRVJTSU9O
X18gPCAweDAwMDQwOTAwDQogDQogLyogU2V0IHRoZSBsb2dpY2FsIGxldmVsIG9mIG9uZSBvZiBh
IGRvbWFpbidzIFBDSSBJTlR4IHdpcmVzLiAqLw0KQEAgLTMzOSw2ICszNDksOCBAQCBzdHJ1Y3Qg
eGVuX2h2bV9hbHRwMm1fb3Agew0KICNkZWZpbmUgSFZNT1BfYWx0cDJtX3ZjcHVfZGlzYWJsZV9u
b3RpZnkgIDEzDQogLyogR2V0IHRoZSBhY3RpdmUgdmNwdSBwMm0gaW5kZXggKi8NCiAjZGVmaW5l
IEhWTU9QX2FsdHAybV9nZXRfcDJtX2lkeCAgICAgICAgICAxNA0KKy8qIFNldCB0aGUgIlN1cHJl
c3MgI1ZFIiBiaXQgZm9yIGEgcmFuZ2Ugb2YgcGFnZXMgKi8NCisjZGVmaW5lIEhWTU9QX2FsdHAy
bV9zZXRfc3VwcHJlc3NfdmVfbXVsdGkgMTUNCiAgICAgZG9taWRfdCBkb21haW47DQogICAgIHVp
bnQxNl90IHBhZDE7DQogICAgIHVpbnQzMl90IHBhZDI7DQpAQCAtMzUzLDYgKzM2NSw3IEBAIHN0
cnVjdCB4ZW5faHZtX2FsdHAybV9vcCB7DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1f
Y2hhbmdlX2dmbiAgICAgICAgICAgY2hhbmdlX2dmbjsNCiAgICAgICAgIHN0cnVjdCB4ZW5faHZt
X2FsdHAybV9zZXRfbWVtX2FjY2Vzc19tdWx0aSBzZXRfbWVtX2FjY2Vzc19tdWx0aTsNCiAgICAg
ICAgIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9zdXBwcmVzc192ZSAgICAgICAgICBzdXBwcmVzc192
ZTsNCisgICAgICAgIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9zdXBwcmVzc192ZV9tdWx0aSAgICBz
dXBwcmVzc192ZV9tdWx0aTsNCiAgICAgICAgIHN0cnVjdCB4ZW5faHZtX2FsdHAybV92Y3B1X2Rp
c2FibGVfbm90aWZ5ICBkaXNhYmxlX25vdGlmeTsNCiAgICAgICAgIHN0cnVjdCB4ZW5faHZtX2Fs
dHAybV9nZXRfdmNwdV9wMm1faWR4ICAgICBnZXRfdmNwdV9wMm1faWR4Ow0KICAgICAgICAgdWlu
dDhfdCBwYWRbNjRdOw0KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9tZW1fYWNjZXNzLmgg
Yi94ZW4vaW5jbHVkZS94ZW4vbWVtX2FjY2Vzcy5oDQppbmRleCBlNGQyNDUwMmUwLi4wMGU1OTRh
MGFkIDEwMDY0NA0KLS0tIGEveGVuL2luY2x1ZGUveGVuL21lbV9hY2Nlc3MuaA0KKysrIGIveGVu
L2luY2x1ZGUveGVuL21lbV9hY2Nlc3MuaA0KQEAgLTc1LDYgKzc1LDkgQEAgbG9uZyBwMm1fc2V0
X21lbV9hY2Nlc3NfbXVsdGkoc3RydWN0IGRvbWFpbiAqZCwNCiBpbnQgcDJtX3NldF9zdXBwcmVz
c192ZShzdHJ1Y3QgZG9tYWluICpkLCBnZm5fdCBnZm4sIGJvb2wgc3VwcHJlc3NfdmUsDQogICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGFsdHAybV9pZHgpOw0KIA0KK2ludCBw
Mm1fc2V0X3N1cHByZXNzX3ZlX211bHRpKHN0cnVjdCBkb21haW4gKmQsDQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlX211bHRp
ICpzdXBwcmVzc192ZSk7DQorDQogaW50IHAybV9nZXRfc3VwcHJlc3NfdmUoc3RydWN0IGRvbWFp
biAqZCwgZ2ZuX3QgZ2ZuLCBib29sICpzdXBwcmVzc192ZSwNCiAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgYWx0cDJtX2lkeCk7DQogDQotLSANCjIuMTcuMQ0KDQpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGlu
ZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnBy
b2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

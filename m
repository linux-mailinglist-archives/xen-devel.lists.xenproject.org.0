Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id D3DCF4C47A
	for <lists+xen-devel@lfdr.de>; Thu, 20 Jun 2019 02:33:54 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hdkzD-0000Ew-4d; Thu, 20 Jun 2019 00:31:31 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7lb=UT=gmail.com=christopher.w.clark@srs-us1.protection.inumbo.net>)
 id 1hdkzB-0000Dk-1i
 for xen-devel@lists.xenproject.org; Thu, 20 Jun 2019 00:31:29 +0000
X-Inumbo-ID: bdc2d041-92f2-11e9-8980-bc764e045a96
Received: from mail-io1-xd41.google.com (unknown [2607:f8b0:4864:20::d41])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id bdc2d041-92f2-11e9-8980-bc764e045a96;
 Thu, 20 Jun 2019 00:31:27 +0000 (UTC)
Received: by mail-io1-xd41.google.com with SMTP id j6so430842ioa.5
 for <xen-devel@lists.xenproject.org>; Wed, 19 Jun 2019 17:31:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=fiPymJBpqSFVjWizv6VMNdFvETPztYM6w/lb+Pe6n6k=;
 b=Dzk9J86rpv5oga6pUzNVUzIzV+O40GfSx4Ru7fd/aJncXBetfqLAKgz6hNEJJKvgTg
 bxVoJDl22L5ofABLmzYtstFuueHkP3FxFhnsI12gUHOJR5A4iKSSeqemOxBqebNua4OV
 /FghdXExvZJ4/sBbf7ESroXeTpkELXxm6kgJP/FfmrJipsvZoAOXRaXTOKJ5Kcc3TcQ9
 bSQzWrw+uwrWyJK9IdGqLglBxUfYLVwYeVilcMeBpDdypTDE5XA1UZ/pASGK/N36/nGt
 oekBzXYRWYSorNUQG4dnFMjGdQpTIgk1zfE5fMHttycXI8sLUw9CWX8e2w8JGCYjsx0S
 gAqw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=fiPymJBpqSFVjWizv6VMNdFvETPztYM6w/lb+Pe6n6k=;
 b=tToNRdjDKxRycsRYRzSXuQo5nskKv6BiK+ZUwDZa3nlwhmYeE7FBZ0z0hjaC1xLHbH
 OBkn74Q34OSGIMEpG6WffwLAmLJqQw6ryXddcyuP1ejZKmSVLouRw4pj8F4haqNVMuD5
 2xwoCHbQLLPB3gfiFzSS84GSP2hhfEOuA9Nbdx+nOz5Q3TdrX0AP5CurezyM+Pq+AInB
 deKsxHznB6FJgVrnGLCmisiHgR97ITRLxQOWJ3E4RTUwDxQlqxQo5smYDTlsCBjx2w+t
 CzxRikE1LfzdW3g34NUSMnzfcE1PmkAlt1nzsEwsrMKw8G+tDLtvke8iiPAnNyYlaexK
 AMXA==
X-Gm-Message-State: APjAAAWVWCLcTLnfOgOoXhJL3eZiRfs6brKaO1bN7Ji1EMNEcJqJ1BCn
 1E/xYk0/LXpucdb9AldS7X+AwZOTgg8=
X-Google-Smtp-Source: APXvYqysln0sal/3G7K7k8lyB2Cal5oDdFg8nOjpOWZnCEi1wIkET7Ka11WdAtmdNwyi2cnGzbL4RQ==
X-Received: by 2002:a05:6638:63a:: with SMTP id
 h26mr12641877jar.92.1560990686853; 
 Wed, 19 Jun 2019 17:31:26 -0700 (PDT)
Received: from desktop.ice.pyrology.org
 (static-50-53-74-115.bvtn.or.frontiernet.net. [50.53.74.115])
 by smtp.gmail.com with ESMTPSA id e188sm22579016ioa.3.2019.06.19.17.31.24
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 19 Jun 2019 17:31:25 -0700 (PDT)
From: Christopher Clark <christopher.w.clark@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 19 Jun 2019 17:30:50 -0700
Message-Id: <20190620003053.21993-7-christopher.w.clark@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190620003053.21993-1-christopher.w.clark@gmail.com>
References: <20190620003053.21993-1-christopher.w.clark@gmail.com>
Subject: [Xen-devel] [RFC 6/9] x86/nested, xsm: add nested_hvm_op hypercall
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Rich Persaud <persaur@gmail.com>,
 Tim Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Jan Beulich <jbeulich@suse.com>, Daniel De Graaf <dgdegra@tycho.nsa.gov>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

UHJvdmlkZXMgcHJveHlpbmcgdG8gdGhlIGhvc3QgaHlwZXJ2aXNvciBmb3IgSFZNT1BfZ2V0X3Bh
cmFtIGFuZApIVk1PUF9zZXRfcGFyYW0gb3BzLgoKU2lnbmVkLW9mZi1ieTogQ2hyaXN0b3BoZXIg
Q2xhcmsgPGNocmlzdG9waGVyLmNsYXJrQHN0YXJsYWIuaW8+Ci0tLQogdG9vbHMvZmxhc2svcG9s
aWN5L21vZHVsZXMvZG9tMC50ZSAgfCAgMSArCiB4ZW4vYXJjaC94ODYvZ3Vlc3QvaHlwZXJjYWxs
X3BhZ2UuUyB8ICAxICsKIHhlbi9hcmNoL3g4Ni9ndWVzdC94ZW4tbmVzdGVkLmMgICAgIHwgNDIg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIHhlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYyAg
ICAgICAgICAgIHwgIDEgKwogeGVuL2FyY2gveDg2L3B2L2h5cGVyY2FsbC5jICAgICAgICAgfCAg
MSArCiB4ZW4vaW5jbHVkZS9wdWJsaWMveGVuLmggICAgICAgICAgICB8ICAxICsKIHhlbi9pbmNs
dWRlL3hlbi9oeXBlcmNhbGwuaCAgICAgICAgIHwgIDQgKysrCiB4ZW4vaW5jbHVkZS94c20vZHVt
bXkuaCAgICAgICAgICAgICB8ICA3ICsrKysrCiB4ZW4vaW5jbHVkZS94c20veHNtLmggICAgICAg
ICAgICAgICB8ICA3ICsrKysrCiB4ZW4veHNtL2R1bW15LmMgICAgICAgICAgICAgICAgICAgICB8
ICAxICsKIHhlbi94c20vZmxhc2svaG9va3MuYyAgICAgICAgICAgICAgIHwgMjIgKysrKysrKysr
KysrKysrCiAxMSBmaWxlcyBjaGFuZ2VkLCA4OCBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEv
dG9vbHMvZmxhc2svcG9saWN5L21vZHVsZXMvZG9tMC50ZSBiL3Rvb2xzL2ZsYXNrL3BvbGljeS9t
b2R1bGVzL2RvbTAudGUKaW5kZXggMWY1NjRmZjgzYi4uN2QwZjI5ZjA4MiAxMDA2NDQKLS0tIGEv
dG9vbHMvZmxhc2svcG9saWN5L21vZHVsZXMvZG9tMC50ZQorKysgYi90b29scy9mbGFzay9wb2xp
Y3kvbW9kdWxlcy9kb20wLnRlCkBAIC00Niw2ICs0Niw3IEBAIGFsbG93IGRvbTBfdCBkb20wX3Q6
cmVzb3VyY2UgeyBhZGQgcmVtb3ZlIH07CiAjIEFsbG93IGRvbTAgdG8gY29tbXVuaWNhdGUgd2l0
aCBhIG5lc3RlZCBYZW4gaHlwZXJ2aXNvcgogYWxsb3cgZG9tMF90IG5lc3RlZHhlbl90OnZlcnNp
b24geyB4ZW5fdmVyc2lvbiB4ZW5fZ2V0X2ZlYXR1cmVzIH07CiBhbGxvdyBkb20wX3QgbmVzdGVk
eGVuX3Q6bW11IHBoeXNtYXA7CithbGxvdyBkb20wX3QgbmVzdGVkeGVuX3Q6aHZtIHsgc2V0cGFy
YW0gZ2V0cGFyYW0gfTsKIAogIyBUaGVzZSBwZXJtaXNzaW9ucyBhbGxvdyB1c2luZyB0aGUgRkxB
U0sgc2VjdXJpdHkgc2VydmVyIHRvIGNvbXB1dGUgYWNjZXNzCiAjIGNoZWNrcyBsb2NhbGx5LCB3
aGljaCBjb3VsZCBiZSB1c2VkIGJ5IGEgZG9tYWluIG9yIHNlcnZpY2UgKHN1Y2ggYXMgeGVuc3Rv
cmUpCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZ3Vlc3QvaHlwZXJjYWxsX3BhZ2UuUyBiL3hl
bi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TCmluZGV4IDFhOGRkMGVhNGYuLmFkYmI4
MmY0ZWMgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TCisr
KyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TCkBAIC02Miw2ICs2Miw3IEBA
IERFQ0xBUkVfSFlQRVJDQUxMKGFyZ29fb3ApCiBERUNMQVJFX0hZUEVSQ0FMTCh4ZW5wbXVfb3Ap
CiBERUNMQVJFX0hZUEVSQ0FMTChuZXN0ZWRfeGVuX3ZlcnNpb24pCiBERUNMQVJFX0hZUEVSQ0FM
TChuZXN0ZWRfbWVtb3J5X29wKQorREVDTEFSRV9IWVBFUkNBTEwobmVzdGVkX2h2bV9vcCkKIAog
REVDTEFSRV9IWVBFUkNBTEwoYXJjaF8wKQogREVDTEFSRV9IWVBFUkNBTEwoYXJjaF8xKQpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYyBiL3hlbi9hcmNoL3g4Ni9n
dWVzdC94ZW4tbmVzdGVkLmMKaW5kZXggYTc2OTgzY2MyZC4uODJiZDY4ODVlNiAxMDA2NDQKLS0t
IGEveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYworKysgYi94ZW4vYXJjaC94ODYvZ3Vl
c3QveGVuLW5lc3RlZC5jCkBAIC0yMiw2ICsyMiw3IEBACiAjaW5jbHVkZSA8eGVuL2xpYi5oPgog
I2luY2x1ZGUgPHhlbi9zY2hlZC5oPgogCisjaW5jbHVkZSA8cHVibGljL2h2bS9odm1fb3AuaD4K
ICNpbmNsdWRlIDxwdWJsaWMvbWVtb3J5Lmg+CiAjaW5jbHVkZSA8cHVibGljL3ZlcnNpb24uaD4K
ICNpbmNsdWRlIDxwdWJsaWMveGVuLmg+CkBAIC0xNjAsMyArMTYxLDQ0IEBAIGludCBjb21wYXRf
bmVzdGVkX21lbW9yeV9vcChpbnQgY21kLCBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHZvaWQpIGFy
ZykKICAgICByZXR1cm4gbmVzdGVkX2FkZF90b19waHlzbWFwKCpuYXQpOwogfQogI2VuZGlmCisK
K2xvbmcgZG9fbmVzdGVkX2h2bV9vcChpbnQgY21kLCBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHZv
aWQpIGFyZykKK3sKKyAgICBzdHJ1Y3QgeGVuX2h2bV9wYXJhbSBhOworICAgIGxvbmcgcmV0Owor
CisgICAgaWYgKCAheGVuX25lc3RlZCApCisgICAgICAgIHJldHVybiAtRU5PU1lTOworCisgICAg
cmV0ID0geHNtX25lc3RlZF9odm1fb3AoWFNNX1BSSVYsIGN1cnJlbnQtPmRvbWFpbiwgY21kKTsK
KyAgICBpZiAoIHJldCApCisgICAgICAgIHJldHVybiByZXQ7CisKKyAgICBzd2l0Y2ggKCBjbWQg
KQorICAgIHsKKyAgICBjYXNlIEhWTU9QX3NldF9wYXJhbToKKyAgICB7CisgICAgICAgIGlmICgg
Y29weV9mcm9tX2d1ZXN0KCZhLCBhcmcsIDEpICkKKyAgICAgICAgICAgIHJldHVybiAtRUZBVUxU
OworCisgICAgICAgIHJldHVybiB4ZW5faHlwZXJjYWxsX2h2bV9vcChjbWQsICZhKTsKKyAgICB9
CisKKyAgICBjYXNlIEhWTU9QX2dldF9wYXJhbToKKyAgICB7CisgICAgICAgIGlmICggY29weV9m
cm9tX2d1ZXN0KCZhLCBhcmcsIDEpICkKKyAgICAgICAgICAgIHJldHVybiAtRUZBVUxUOworCisg
ICAgICAgIHJldCA9IHhlbl9oeXBlcmNhbGxfaHZtX29wKGNtZCwgJmEpOworCisgICAgICAgIGlm
ICggIXJldCAmJiBfX2NvcHlfdG9fZ3Vlc3QoYXJnLCAmYSwgMSkgKQorICAgICAgICAgICAgcmV0
dXJuIC1FRkFVTFQ7CisKKyAgICAgICAgcmV0dXJuIHJldDsKKyAgICB9CisKKyAgICBkZWZhdWx0
OgorICAgICAgICBncHJpbnRrKFhFTkxPR19FUlIsICJOZXN0ZWQgaHZtIG9wICVkIG5vdCBpbXBs
ZW1lbnRlZC5cbiIsIGNtZCk7CisgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKKyAgICB9Cit9
CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHlwZXJjYWxsLmMgYi94ZW4vYXJjaC94ODYvaHlw
ZXJjYWxsLmMKaW5kZXggMmFhOGRjNWFjNi4uMjY4Y2M5NDUwYSAxMDA2NDQKLS0tIGEveGVuL2Fy
Y2gveDg2L2h5cGVyY2FsbC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYwpAQCAtNzYs
NiArNzYsNyBAQCBjb25zdCBoeXBlcmNhbGxfYXJnc190IGh5cGVyY2FsbF9hcmdzX3RhYmxlW05S
X2h5cGVyY2FsbHNdID0KICNpZmRlZiBDT05GSUdfWEVOX05FU1RFRAogICAgIEFSR1MobmVzdGVk
X3hlbl92ZXJzaW9uLCAyKSwKICAgICBDT01QKG5lc3RlZF9tZW1vcnlfb3AsIDIsIDIpLAorICAg
IEFSR1MobmVzdGVkX2h2bV9vcCwgMiksCiAjZW5kaWYKICAgICBBUkdTKG1jYSwgMSksCiAgICAg
QVJHUyhhcmNoXzEsIDEpLApkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L3B2L2h5cGVyY2FsbC5j
IGIveGVuL2FyY2gveDg2L3B2L2h5cGVyY2FsbC5jCmluZGV4IDk2MTk4ZDMzMTMuLmU4OGVjY2Uy
MjIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9wdi9oeXBlcmNhbGwuYworKysgYi94ZW4vYXJj
aC94ODYvcHYvaHlwZXJjYWxsLmMKQEAgLTg3LDYgKzg3LDcgQEAgY29uc3QgaHlwZXJjYWxsX3Rh
YmxlX3QgcHZfaHlwZXJjYWxsX3RhYmxlW10gPSB7CiAjaWZkZWYgQ09ORklHX1hFTl9ORVNURUQK
ICAgICBIWVBFUkNBTEwobmVzdGVkX3hlbl92ZXJzaW9uKSwKICAgICBDT01QQVRfQ0FMTChuZXN0
ZWRfbWVtb3J5X29wKSwKKyAgICBIWVBFUkNBTEwobmVzdGVkX2h2bV9vcCksCiAjZW5kaWYKICAg
ICBIWVBFUkNBTEwobWNhKSwKICAgICBIWVBFUkNBTEwoYXJjaF8xKSwKZGlmZiAtLWdpdCBhL3hl
bi9pbmNsdWRlL3B1YmxpYy94ZW4uaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy94ZW4uaAppbmRleCBl
MDgxZjUyZmM0Li4xNzMxNDA5ZWI4IDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMveGVu
LmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGljL3hlbi5oCkBAIC0xMjMsNiArMTIzLDcgQEAgREVG
SU5FX1hFTl9HVUVTVF9IQU5ETEUoeGVuX3Vsb25nX3QpOwogI2RlZmluZSBfX0hZUEVSVklTT1Jf
ZG1fb3AgICAgICAgICAgICAgICAgNDEKICNkZWZpbmUgX19IWVBFUlZJU09SX25lc3RlZF94ZW5f
dmVyc2lvbiAgIDQyCiAjZGVmaW5lIF9fSFlQRVJWSVNPUl9uZXN0ZWRfbWVtb3J5X29wICAgICA0
MworI2RlZmluZSBfX0hZUEVSVklTT1JfbmVzdGVkX2h2bV9vcCAgICAgICAgNDQKIAogLyogQXJj
aGl0ZWN0dXJlLXNwZWNpZmljIGh5cGVyY2FsbCBkZWZpbml0aW9ucy4gKi8KICNkZWZpbmUgX19I
WVBFUlZJU09SX2FyY2hfMCAgICAgICAgICAgICAgIDQ4CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVk
ZS94ZW4vaHlwZXJjYWxsLmggYi94ZW4vaW5jbHVkZS94ZW4vaHlwZXJjYWxsLmgKaW5kZXggZDM3
M2JkMTc2My4uYjA5MDcwNTM5ZSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveGVuL2h5cGVyY2Fs
bC5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9oeXBlcmNhbGwuaApAQCAtMTU4LDYgKzE1OCwxMCBA
QCBleHRlcm4gbG9uZyBkb19uZXN0ZWRfeGVuX3ZlcnNpb24oCiBleHRlcm4gbG9uZyBkb19uZXN0
ZWRfbWVtb3J5X29wKAogICAgIGludCBjbWQsCiAgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh2
b2lkKSBhcmcpOworCitleHRlcm4gbG9uZyBkb19uZXN0ZWRfaHZtX29wKAorICAgIGludCBjbWQs
CisgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh2b2lkKSBhcmcpOwogI2VuZGlmCiAKICNpZmRl
ZiBDT05GSUdfQ09NUEFUCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS94c20vZHVtbXkuaCBiL3hl
bi9pbmNsdWRlL3hzbS9kdW1teS5oCmluZGV4IDE3Mzc1ZjZiOWYuLjIzOGI0MjVjNDkgMTAwNjQ0
Ci0tLSBhL3hlbi9pbmNsdWRlL3hzbS9kdW1teS5oCisrKyBiL3hlbi9pbmNsdWRlL3hzbS9kdW1t
eS5oCkBAIC03NTQsNiArNzU0LDEzIEBAIHN0YXRpYyBYU01fSU5MSU5FIGludCB4c21fbmVzdGVk
X2FkZF90b19waHlzbWFwKFhTTV9ERUZBVUxUX0FSRwogICAgIFhTTV9BU1NFUlRfQUNUSU9OKFhT
TV9QUklWKTsKICAgICByZXR1cm4geHNtX2RlZmF1bHRfYWN0aW9uKGFjdGlvbiwgZCwgTlVMTCk7
CiB9CisKK3N0YXRpYyBYU01fSU5MSU5FIGludCB4c21fbmVzdGVkX2h2bV9vcChYU01fREVGQVVM
VF9BUkcgY29uc3Qgc3RydWN0IGRvbWFpbiAqZCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgY21kKQoreworICAgIFhTTV9BU1NFUlRfQUNUSU9O
KFhTTV9QUklWKTsKKyAgICByZXR1cm4geHNtX2RlZmF1bHRfYWN0aW9uKGFjdGlvbiwgZCwgTlVM
TCk7Cit9CiAjZW5kaWYKIAogI2luY2x1ZGUgPHB1YmxpYy92ZXJzaW9uLmg+CmRpZmYgLS1naXQg
YS94ZW4vaW5jbHVkZS94c20veHNtLmggYi94ZW4vaW5jbHVkZS94c20veHNtLmgKaW5kZXggOTIw
ZDJkOTA4OC4uY2MwMmJmMThjNyAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveHNtL3hzbS5oCisr
KyBiL3hlbi9pbmNsdWRlL3hzbS94c20uaApAQCAtMTkwLDYgKzE5MCw3IEBAIHN0cnVjdCB4c21f
b3BlcmF0aW9ucyB7CiAjaWZkZWYgQ09ORklHX1hFTl9ORVNURUQKICAgICBpbnQgKCpuZXN0ZWRf
eGVuX3ZlcnNpb24pIChjb25zdCBzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBpbnQgY21kKTsK
ICAgICBpbnQgKCpuZXN0ZWRfYWRkX3RvX3BoeXNtYXApIChjb25zdCBzdHJ1Y3QgZG9tYWluICpk
KTsKKyAgICBpbnQgKCpuZXN0ZWRfaHZtX29wKSAoY29uc3Qgc3RydWN0IGRvbWFpbiAqZCwgdW5z
aWduZWQgaW50IGNtZCk7CiAjZW5kaWYKIH07CiAKQEAgLTc0MSw2ICs3NDIsMTIgQEAgc3RhdGlj
IGlubGluZSBpbnQgeHNtX25lc3RlZF9hZGRfdG9fcGh5c21hcCh4c21fZGVmYXVsdF90IGRlZiwK
ICAgICByZXR1cm4geHNtX29wcy0+bmVzdGVkX2FkZF90b19waHlzbWFwKGQpOwogfQogCitzdGF0
aWMgaW5saW5lIGludCB4c21fbmVzdGVkX2h2bV9vcCh4c21fZGVmYXVsdF90IGRlZiwgY29uc3Qg
c3RydWN0IGRvbWFpbiAqZCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVu
c2lnbmVkIGludCBjbWQpCit7CisgICAgcmV0dXJuIHhzbV9vcHMtPm5lc3RlZF9odm1fb3AoZCwg
Y21kKTsKK30KKwogI2VuZGlmIC8qIENPTkZJR19YRU5fTkVTVEVEICovCiAKICNlbmRpZiAvKiBY
U01fTk9fV1JBUFBFUlMgKi8KZGlmZiAtLWdpdCBhL3hlbi94c20vZHVtbXkuYyBiL3hlbi94c20v
ZHVtbXkuYwppbmRleCA1Y2UyOWJjZmU1Li45MDlkNDFhODFiIDEwMDY0NAotLS0gYS94ZW4veHNt
L2R1bW15LmMKKysrIGIveGVuL3hzbS9kdW1teS5jCkBAIC0xNjAsNSArMTYwLDYgQEAgdm9pZCBf
X2luaXQgeHNtX2ZpeHVwX29wcyAoc3RydWN0IHhzbV9vcGVyYXRpb25zICpvcHMpCiAjaWZkZWYg
Q09ORklHX1hFTl9ORVNURUQKICAgICBzZXRfdG9fZHVtbXlfaWZfbnVsbChvcHMsIG5lc3RlZF94
ZW5fdmVyc2lvbik7CiAgICAgc2V0X3RvX2R1bW15X2lmX251bGwob3BzLCBuZXN0ZWRfYWRkX3Rv
X3BoeXNtYXApOworICAgIHNldF90b19kdW1teV9pZl9udWxsKG9wcywgbmVzdGVkX2h2bV9vcCk7
CiAjZW5kaWYKIH0KZGlmZiAtLWdpdCBhL3hlbi94c20vZmxhc2svaG9va3MuYyBiL3hlbi94c20v
Zmxhc2svaG9va3MuYwppbmRleCAxN2E4MWI4NWY5Li5mOGQyNDdlMjhmIDEwMDY0NAotLS0gYS94
ZW4veHNtL2ZsYXNrL2hvb2tzLmMKKysrIGIveGVuL3hzbS9mbGFzay9ob29rcy5jCkBAIC0xNzY4
LDYgKzE3NjgsMjcgQEAgc3RhdGljIGludCBmbGFza19uZXN0ZWRfeGVuX3ZlcnNpb24oY29uc3Qg
c3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgaW50IG9wKQogICAgIHJldHVybiBkb21haW5faGFz
X3hlbl92ZXJzaW9uKGQsIFNFQ0lOSVRTSURfTkVTVEVEWEVOLCBvcCk7CiB9CiAKK3N0YXRpYyBp
bnQgZmxhc2tfbmVzdGVkX2h2bV9vcChjb25zdCBzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBp
bnQgb3ApCit7CisgICAgdTMyIHBlcm07CisKKyAgICBzd2l0Y2ggKCBvcCApCisgICAgeworICAg
IGNhc2UgSFZNT1Bfc2V0X3BhcmFtOgorICAgICAgICBwZXJtID0gSFZNX19TRVRQQVJBTTsKKyAg
ICAgICAgYnJlYWs7CisKKyAgICBjYXNlIEhWTU9QX2dldF9wYXJhbToKKyAgICAgICAgcGVybSA9
IEhWTV9fR0VUUEFSQU07CisgICAgICAgIGJyZWFrOworCisgICAgZGVmYXVsdDoKKyAgICAgICAg
cGVybSA9IEhWTV9fSFZNQ1RMOworICAgIH0KKworICAgIHJldHVybiBkb21haW5faGFzX25lc3Rl
ZF9wZXJtKGQsIFNFQ0NMQVNTX0hWTSwgcGVybSk7Cit9CisKICNlbmRpZgogCiBsb25nIGRvX2Zs
YXNrX29wKFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeHNtX29wX3QpIHVfZmxhc2tfb3ApOwpAQCAt
MTkxMiw2ICsxOTMzLDcgQEAgc3RhdGljIHN0cnVjdCB4c21fb3BlcmF0aW9ucyBmbGFza19vcHMg
PSB7CiAjaWZkZWYgQ09ORklHX1hFTl9ORVNURUQKICAgICAubmVzdGVkX3hlbl92ZXJzaW9uID0g
Zmxhc2tfbmVzdGVkX3hlbl92ZXJzaW9uLAogICAgIC5uZXN0ZWRfYWRkX3RvX3BoeXNtYXAgPSBm
bGFza19uZXN0ZWRfYWRkX3RvX3BoeXNtYXAsCisgICAgLm5lc3RlZF9odm1fb3AgPSBmbGFza19u
ZXN0ZWRfaHZtX29wLAogI2VuZGlmCiB9OwogCi0tIAoyLjE3LjEKCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhl
bi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3Jn
L21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

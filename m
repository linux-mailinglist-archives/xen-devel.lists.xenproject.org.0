Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3BD3FD8F63
	for <lists+xen-devel@lfdr.de>; Wed, 16 Oct 2019 13:26:44 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iKhPq-0005df-AA; Wed, 16 Oct 2019 11:24:30 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=RNZJ=YJ=gmail.com=pdurrant@srs-us1.protection.inumbo.net>)
 id 1iKhPo-0005dZ-Kv
 for xen-devel@lists.xenproject.org; Wed, 16 Oct 2019 11:24:28 +0000
X-Inumbo-ID: 834ba558-f007-11e9-bbab-bc764e2007e4
Received: from mail-pf1-x444.google.com (unknown [2607:f8b0:4864:20::444])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 834ba558-f007-11e9-bbab-bc764e2007e4;
 Wed, 16 Oct 2019 11:24:27 +0000 (UTC)
Received: by mail-pf1-x444.google.com with SMTP id b128so14552832pfa.1
 for <xen-devel@lists.xenproject.org>; Wed, 16 Oct 2019 04:24:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=LOhxSmhltHVmCHIgrxp16EKj8XAolAsY7/5MxXVPJeg=;
 b=qv0RwlQfuyAV06Rt87qK/UWtE06kLYJBl1B7flH3oYBYMZ3WBvvlBjWzQIAO17RosM
 pWkGzHPPdw+nL4xc2/rX4dsVOjYbVG3eZ2AiWCwNH/M7Eyka4Fa12UVP9hZsbCSHZjKe
 4aoy2dhnK4C5KifXK6Qvf/gd5EszL0madtYJd3fsd1wHPpgLEbgsXkMcr0a8l6a312Yc
 FJPEYir3JsQ3j/xOB3WAySj5fuJowgpL8vNDsSiIDoKRZZNwBDm+k2mdAVG2uk8CgCt1
 4arQqvc4oo5+56fvSgC+2XsAndZRThn3zBTxGN6W7zxoQDzdvXkpJz43BTbw4h4/HgPa
 HnRQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=LOhxSmhltHVmCHIgrxp16EKj8XAolAsY7/5MxXVPJeg=;
 b=LVb7F2ij9wPDUyOts46zi7BSYlj34+3qh6sNLDu7ttSbQxyOQMI6/vnEBqZZ/ZyB4i
 A2YOv6LRlIj4n6+l0iM+GL9jT7zW3VyFpLpLC8IQUzSZKY8aABTkpm8/X3JNlscjvbB0
 3RZA+biLbfNmo+2VAmXSg6p4s6XbwTm1zlrANQ058zFFuNtgvbkha4t+VzQG2VLLlc3t
 Hhb+PtPcTeI71qnmNHJBxVaiNbJaspyjAqd/vOBoQq8IaFA/2tQqkuDCdfHN++iFXj1a
 qQJPKfOX936BtUNTtX2ZGIPut4LuVIiYMejAhEdvp8jJc4LatLqbmoSDwQFi+yioj2dz
 jpYA==
X-Gm-Message-State: APjAAAV5A41mZz+u4098Kx3BgKCmA9VajBTnZBX9w1dIXcb8Q0/o6ZMv
 9Ji4dcfOBlGflPVW/xU6EfxJi1livsWaUmfR5jE=
X-Google-Smtp-Source: APXvYqx/K3HVs2y8kHeKYg41IQD9q1KLMW4BxhnkYePE6OPi6UiZwMnm8IQr0qxQpi9GF6ZNT6tQ0S1OQNNMywxKpWQ=
X-Received: by 2002:a17:90a:e001:: with SMTP id
 u1mr4460927pjy.102.1571225066213; 
 Wed, 16 Oct 2019 04:24:26 -0700 (PDT)
MIME-Version: 1.0
References: <20191015162705.28087-1-philmd@redhat.com>
 <20191015162705.28087-28-philmd@redhat.com>
In-Reply-To: <20191015162705.28087-28-philmd@redhat.com>
From: Paul Durrant <pdurrant@gmail.com>
Date: Wed, 16 Oct 2019 12:24:15 +0100
Message-ID: <CACCGGhDsJ==Z_rVRNJ28N_p3Ar=dtbPZcgMaXiw=cLEvAiYSKQ@mail.gmail.com>
To: =?UTF-8?Q?Philippe_Mathieu=2DDaud=C3=A9?= <philmd@redhat.com>
Subject: Re: [Xen-devel] [PATCH 27/32] hw/pci-host/piix: Define and use the
 PIIX IRQ Route Control Registers
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Laurent Vivier <lvivier@redhat.com>, Thomas Huth <thuth@redhat.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Eduardo Habkost <ehabkost@redhat.com>, kvm@vger.kernel.org,
 Paul Durrant <paul@xen.org>, "Michael S. Tsirkin" <mst@redhat.com>,
 qemu-devel@nongnu.org, Marcel Apfelbaum <marcel.apfelbaum@gmail.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 =?UTF-8?Q?Herv=C3=A9_Poussineau?= <hpoussin@reactos.org>,
 Aleksandar Markovic <amarkovic@wavecomp.com>,
 xen-devel <xen-devel@lists.xenproject.org>,
 Anthony Perard <anthony.perard@citrix.com>,
 Igor Mammedov <imammedo@redhat.com>,
 Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>,
 Aurelien Jarno <aurelien@aurel32.net>, Richard Henderson <rth@twiddle.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVHVlLCAxNSBPY3QgMjAxOSBhdCAxNzozNCwgUGhpbGlwcGUgTWF0aGlldS1EYXVkw6kgPHBo
aWxtZEByZWRoYXQuY29tPiB3cm90ZToKPgo+IFRoZSBJUlEgUm91dGUgQ29udHJvbCByZWdpc3Rl
cnMgZGVmaW5pdGlvbnMgYmVsb25nIHRvIHRoZSBQSUlYCj4gY2hpcHNldC4gV2Ugd2VyZSBvbmx5
IGRlZmluaW5nIHRoZSAnQScgcmVnaXN0ZXIuIERlZmluZSB0aGUgb3RoZXIKPiBCLCBDIGFuZCBE
IHJlZ2lzdGVycywgYW5kIHVzZSB0aGVtLgo+Cj4gU2lnbmVkLW9mZi1ieTogUGhpbGlwcGUgTWF0
aGlldS1EYXVkw6kgPHBoaWxtZEByZWRoYXQuY29tPgoKWGVuIGNoYW5nZS4uLgoKQWNrZWQtYnk6
IFBhdWwgRHVycmFudCA8cGF1bEB4ZW4ub3JnPgoKPiAtLS0KPiAgaHcvaTM4Ni94ZW4veGVuLWh2
bS5jICAgICAgICAgfCA1ICsrKy0tCj4gIGh3L21pcHMvZ3Q2NHh4eF9wY2kuYyAgICAgICAgIHwg
NCArKy0tCj4gIGh3L3BjaS1ob3N0L3BpaXguYyAgICAgICAgICAgIHwgOSArKysrLS0tLS0KPiAg
aW5jbHVkZS9ody9zb3V0aGJyaWRnZS9waWl4LmggfCA2ICsrKysrKwo+ICA0IGZpbGVzIGNoYW5n
ZWQsIDE1IGluc2VydGlvbnMoKyksIDkgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvaHcv
aTM4Ni94ZW4veGVuLWh2bS5jIGIvaHcvaTM4Ni94ZW4veGVuLWh2bS5jCj4gaW5kZXggNmI1ZTVi
YjdmNS4uNGNlMmZiOWM4OSAxMDA2NDQKPiAtLS0gYS9ody9pMzg2L3hlbi94ZW4taHZtLmMKPiAr
KysgYi9ody9pMzg2L3hlbi94ZW4taHZtLmMKPiBAQCAtMTQsNiArMTQsNyBAQAo+ICAjaW5jbHVk
ZSAiaHcvcGNpL3BjaS5oIgo+ICAjaW5jbHVkZSAiaHcvcGNpL3BjaV9ob3N0LmgiCj4gICNpbmNs
dWRlICJody9pMzg2L3BjLmgiCj4gKyNpbmNsdWRlICJody9zb3V0aGJyaWRnZS9waWl4LmgiCj4g
ICNpbmNsdWRlICJody9pcnEuaCIKPiAgI2luY2x1ZGUgImh3L2h3LmgiCj4gICNpbmNsdWRlICJo
dy9pMzg2L2FwaWMtbXNpZGVmLmgiCj4gQEAgLTE1Niw4ICsxNTcsOCBAQCB2b2lkIHhlbl9waWl4
X3BjaV93cml0ZV9jb25maWdfY2xpZW50KHVpbnQzMl90IGFkZHJlc3MsIHVpbnQzMl90IHZhbCwg
aW50IGxlbikKPiAgICAgICAgICAgICAgdiA9IDA7Cj4gICAgICAgICAgfQo+ICAgICAgICAgIHYg
Jj0gMHhmOwo+IC0gICAgICAgIGlmICgoKGFkZHJlc3MgKyBpKSA+PSAweDYwKSAmJiAoKGFkZHJl
c3MgKyBpKSA8PSAweDYzKSkgewo+IC0gICAgICAgICAgICB4ZW5fc2V0X3BjaV9saW5rX3JvdXRl
KHhlbl9kb21pZCwgYWRkcmVzcyArIGkgLSAweDYwLCB2KTsKPiArICAgICAgICBpZiAoKChhZGRy
ZXNzICsgaSkgPj0gUElJWF9QSVJRQ0EpICYmICgoYWRkcmVzcyArIGkpIDw9IFBJSVhfUElSUUNE
KSkgewo+ICsgICAgICAgICAgICB4ZW5fc2V0X3BjaV9saW5rX3JvdXRlKHhlbl9kb21pZCwgYWRk
cmVzcyArIGkgLSBQSUlYX1BJUlFDQSwgdik7Cj4gICAgICAgICAgfQo+ICAgICAgfQo+ICB9Cj4g
ZGlmZiAtLWdpdCBhL2h3L21pcHMvZ3Q2NHh4eF9wY2kuYyBiL2h3L21pcHMvZ3Q2NHh4eF9wY2ku
Ywo+IGluZGV4IGMyNzczOThjMGQuLjVjYWI5YzFlZTEgMTAwNjQ0Cj4gLS0tIGEvaHcvbWlwcy9n
dDY0eHh4X3BjaS5jCj4gKysrIGIvaHcvbWlwcy9ndDY0eHh4X3BjaS5jCj4gQEAgLTEwMTMsMTIg
KzEwMTMsMTIgQEAgc3RhdGljIHZvaWQgZ3Q2NDEyMF9wY2lfc2V0X2lycSh2b2lkICpvcGFxdWUs
IGludCBpcnFfbnVtLCBpbnQgbGV2ZWwpCj4KPiAgICAgIC8qIG5vdyB3ZSBjaGFuZ2UgdGhlIHBp
YyBpcnEgbGV2ZWwgYWNjb3JkaW5nIHRvIHRoZSBwaWl4IGlycSBtYXBwaW5ncyAqLwo+ICAgICAg
LyogWFhYOiBvcHRpbWl6ZSAqLwo+IC0gICAgcGljX2lycSA9IHBpaXg0X2Rldi0+Y29uZmlnWzB4
NjAgKyBpcnFfbnVtXTsKPiArICAgIHBpY19pcnEgPSBwaWl4NF9kZXYtPmNvbmZpZ1tQSUlYX1BJ
UlFDQSArIGlycV9udW1dOwo+ICAgICAgaWYgKHBpY19pcnEgPCAxNikgewo+ICAgICAgICAgIC8q
IFRoZSBwaWMgbGV2ZWwgaXMgdGhlIGxvZ2ljYWwgT1Igb2YgYWxsIHRoZSBQQ0kgaXJxcyBtYXBw
ZWQgdG8gaXQuICovCj4gICAgICAgICAgcGljX2xldmVsID0gMDsKPiAgICAgICAgICBmb3IgKGkg
PSAwOyBpIDwgNDsgaSsrKSB7Cj4gLSAgICAgICAgICAgIGlmIChwaWNfaXJxID09IHBpaXg0X2Rl
di0+Y29uZmlnWzB4NjAgKyBpXSkgewo+ICsgICAgICAgICAgICBpZiAocGljX2lycSA9PSBwaWl4
NF9kZXYtPmNvbmZpZ1tQSUlYX1BJUlFDQSArIGldKSB7Cj4gICAgICAgICAgICAgICAgICBwaWNf
bGV2ZWwgfD0gcGNpX2lycV9sZXZlbHNbaV07Cj4gICAgICAgICAgICAgIH0KPiAgICAgICAgICB9
Cj4gZGlmZiAtLWdpdCBhL2h3L3BjaS1ob3N0L3BpaXguYyBiL2h3L3BjaS1ob3N0L3BpaXguYwo+
IGluZGV4IDM3NzA1NzVjMWEuLmE0NTBmYzcyNmUgMTAwNjQ0Cj4gLS0tIGEvaHcvcGNpLWhvc3Qv
cGlpeC5jCj4gKysrIGIvaHcvcGNpLWhvc3QvcGlpeC5jCj4gQEAgLTYxLDcgKzYxLDYgQEAgdHlw
ZWRlZiBzdHJ1Y3QgSTQ0MEZYU3RhdGUgewo+ICAjZGVmaW5lIFBJSVhfTlVNX1BJQ19JUlFTICAg
ICAgIDE2ICAgICAgLyogaTgyNTkgKiAyICovCj4gICNkZWZpbmUgUElJWF9OVU1fUElSUVMgICAg
ICAgICAgNFVMTCAgICAvKiBQSVJRW0EtRF0gKi8KPiAgI2RlZmluZSBYRU5fUElJWF9OVU1fUElS
UVMgICAgICAxMjhVTEwKPiAtI2RlZmluZSBQSUlYX1BJUlFDICAgICAgICAgICAgICAweDYwCj4K
PiAgdHlwZWRlZiBzdHJ1Y3QgUElJWDNTdGF0ZSB7Cj4gICAgICBQQ0lEZXZpY2UgZGV2Owo+IEBA
IC00NjgsNyArNDY3LDcgQEAgc3RhdGljIHZvaWQgcGlpeDNfc2V0X2lycV9sZXZlbF9pbnRlcm5h
bChQSUlYM1N0YXRlICpwaWl4MywgaW50IHBpcnEsIGludCBsZXZlbCkKPiAgICAgIGludCBwaWNf
aXJxOwo+ICAgICAgdWludDY0X3QgbWFzazsKPgo+IC0gICAgcGljX2lycSA9IHBpaXgzLT5kZXYu
Y29uZmlnW1BJSVhfUElSUUMgKyBwaXJxXTsKPiArICAgIHBpY19pcnEgPSBwaWl4My0+ZGV2LmNv
bmZpZ1tQSUlYX1BJUlFDQSArIHBpcnFdOwo+ICAgICAgaWYgKHBpY19pcnEgPj0gUElJWF9OVU1f
UElDX0lSUVMpIHsKPiAgICAgICAgICByZXR1cm47Cj4gICAgICB9Cj4gQEAgLTQ4Miw3ICs0ODEs
NyBAQCBzdGF0aWMgdm9pZCBwaWl4M19zZXRfaXJxX2xldmVsKFBJSVgzU3RhdGUgKnBpaXgzLCBp
bnQgcGlycSwgaW50IGxldmVsKQo+ICB7Cj4gICAgICBpbnQgcGljX2lycTsKPgo+IC0gICAgcGlj
X2lycSA9IHBpaXgzLT5kZXYuY29uZmlnW1BJSVhfUElSUUMgKyBwaXJxXTsKPiArICAgIHBpY19p
cnEgPSBwaWl4My0+ZGV2LmNvbmZpZ1tQSUlYX1BJUlFDQSArIHBpcnFdOwo+ICAgICAgaWYgKHBp
Y19pcnEgPj0gUElJWF9OVU1fUElDX0lSUVMpIHsKPiAgICAgICAgICByZXR1cm47Cj4gICAgICB9
Cj4gQEAgLTUwMSw3ICs1MDAsNyBAQCBzdGF0aWMgdm9pZCBwaWl4M19zZXRfaXJxKHZvaWQgKm9w
YXF1ZSwgaW50IHBpcnEsIGludCBsZXZlbCkKPiAgc3RhdGljIFBDSUlOVHhSb3V0ZSBwaWl4M19y
b3V0ZV9pbnR4X3Bpbl90b19pcnEodm9pZCAqb3BhcXVlLCBpbnQgcGluKQo+ICB7Cj4gICAgICBQ
SUlYM1N0YXRlICpwaWl4MyA9IG9wYXF1ZTsKPiAtICAgIGludCBpcnEgPSBwaWl4My0+ZGV2LmNv
bmZpZ1tQSUlYX1BJUlFDICsgcGluXTsKPiArICAgIGludCBpcnEgPSBwaWl4My0+ZGV2LmNvbmZp
Z1tQSUlYX1BJUlFDQSArIHBpbl07Cj4gICAgICBQQ0lJTlR4Um91dGUgcm91dGU7Cj4KPiAgICAg
IGlmIChpcnEgPCBQSUlYX05VTV9QSUNfSVJRUykgewo+IEBAIC01MzAsNyArNTI5LDcgQEAgc3Rh
dGljIHZvaWQgcGlpeDNfd3JpdGVfY29uZmlnKFBDSURldmljZSAqZGV2LAo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgYWRkcmVzcywgdWludDMyX3QgdmFsLCBpbnQg
bGVuKQo+ICB7Cj4gICAgICBwY2lfZGVmYXVsdF93cml0ZV9jb25maWcoZGV2LCBhZGRyZXNzLCB2
YWwsIGxlbik7Cj4gLSAgICBpZiAocmFuZ2VzX292ZXJsYXAoYWRkcmVzcywgbGVuLCBQSUlYX1BJ
UlFDLCA0KSkgewo+ICsgICAgaWYgKHJhbmdlc19vdmVybGFwKGFkZHJlc3MsIGxlbiwgUElJWF9Q
SVJRQ0EsIDQpKSB7Cj4gICAgICAgICAgUElJWDNTdGF0ZSAqcGlpeDMgPSBQSUlYM19QQ0lfREVW
SUNFKGRldik7Cj4gICAgICAgICAgaW50IHBpY19pcnE7Cj4KPiBkaWZmIC0tZ2l0IGEvaW5jbHVk
ZS9ody9zb3V0aGJyaWRnZS9waWl4LmggYi9pbmNsdWRlL2h3L3NvdXRoYnJpZGdlL3BpaXguaAo+
IGluZGV4IDc5ZWJlMDA4OWIuLjljOTJjMzdhNGQgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9ody9z
b3V0aGJyaWRnZS9waWl4LmgKPiArKysgYi9pbmNsdWRlL2h3L3NvdXRoYnJpZGdlL3BpaXguaAo+
IEBAIC0xOCw2ICsxOCwxMiBAQCBJMkNCdXMgKnBpaXg0X3BtX2luaXQoUENJQnVzICpidXMsIGlu
dCBkZXZmbiwgdWludDMyX3Qgc21iX2lvX2Jhc2UsCj4gICAgICAgICAgICAgICAgICAgICAgICBx
ZW11X2lycSBzY2lfaXJxLCBxZW11X2lycSBzbWlfaXJxLAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgaW50IHNtbV9lbmFibGVkLCBEZXZpY2VTdGF0ZSAqKnBpaXg0X3BtKTsKPgo+ICsvKiBQSVJR
UkNbQTpEXTogUElSUXggUm91dGUgQ29udHJvbCBSZWdpc3RlcnMgKi8KPiArI2RlZmluZSBQSUlY
X1BJUlFDQSAweDYwCj4gKyNkZWZpbmUgUElJWF9QSVJRQ0IgMHg2MQo+ICsjZGVmaW5lIFBJSVhf
UElSUUNDIDB4NjIKPiArI2RlZmluZSBQSUlYX1BJUlFDRCAweDYzCj4gKwo+ICAvKgo+ICAgKiBS
ZXNldCBDb250cm9sIFJlZ2lzdGVyOiBQQ0ktYWNjZXNzaWJsZSBJU0EtQ29tcGF0aWJsZSBSZWdp
c3RlciBhdCBhZGRyZXNzCj4gICAqIDB4Y2Y5LCBwcm92aWRlZCBieSB0aGUgUENJL0lTQSBicmlk
Z2UgKFBJSVgzIFBDSSBmdW5jdGlvbiAwLCA4MDg2OjcwMDApLgo+IC0tCj4gMi4yMS4wCj4KCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBt
YWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMu
eGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0B0642DACE0
	for <lists+xen-devel@lfdr.de>; Tue, 15 Dec 2020 13:19:15 +0100 (CET)
Received: from list by lists.xenproject.org with outflank-mailman.53132.92724 (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1kp9I0-00043J-7J; Tue, 15 Dec 2020 12:18:48 +0000
X-Outflank-Mailman: Message body and most headers restored to incoming version
Received: by outflank-mailman (output) from mailman id 53132.92724; Tue, 15 Dec 2020 12:18:48 +0000
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1kp9I0-00042u-2r; Tue, 15 Dec 2020 12:18:48 +0000
Received: by outflank-mailman (input) for mailman id 53132;
 Tue, 15 Dec 2020 12:18:47 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.92) (envelope-from
 <SRS0=tdgx=FT=xenbits.xen.org=gdunlap@srs-us1.protection.inumbo.net>)
 id 1kp9Hy-00042T-UH
 for xen-devel@lists.xen.org; Tue, 15 Dec 2020 12:18:47 +0000
Received: from mail.xenproject.org (unknown [104.130.215.37])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 9ecaa08d-0a08-459f-ae6c-fcfde9caadb9;
 Tue, 15 Dec 2020 12:18:36 +0000 (UTC)
Received: from xenbits.xenproject.org ([104.239.192.120])
 by mail.xenproject.org with esmtp (Exim 4.92)
 (envelope-from <gdunlap@xenbits.xen.org>)
 id 1kp9Hc-0005ev-Mw; Tue, 15 Dec 2020 12:18:24 +0000
Received: from gdunlap by xenbits.xenproject.org with local (Exim 4.92)
 (envelope-from <gdunlap@xenbits.xen.org>)
 id 1kp9Hc-0005BK-Ic; Tue, 15 Dec 2020 12:18:24 +0000
X-BeenThere: xen-devel@lists.xenproject.org
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Errors-To: xen-devel-bounces@lists.xenproject.org
Precedence: list
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>
X-Inumbo-ID: 9ecaa08d-0a08-459f-ae6c-fcfde9caadb9
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=xen.org;
	s=20200302mail; h=Date:Message-Id:Subject:CC:From:To:MIME-Version:
	Content-Transfer-Encoding:Content-Type;
	bh=Xw/J//QrLWVyECrsYjYS67TF+HT7Gfo/HQDHpSw+N+U=; b=TupUUcOlieFwLtzzdP0J6btXbe
	ibtgxOicSxbax95AEMB5TgP13nGPGOmyNKsEFQdWHgx5+CHNm07KgHScNyQ1NQI7v7XZ6o17GeSHD
	IysNqrviuIDb/z31R0ocBKgqSiMJ76Ffb/LYBou0tan1xXoV8neSwYeorkZan1xYmxyA=;
Content-Type: multipart/mixed; boundary="=separator"; charset="utf-8"
Content-Transfer-Encoding: binary
MIME-Version: 1.0
X-Mailer: MIME-tools 5.509 (Entity 5.509)
To: xen-announce@lists.xen.org, xen-devel@lists.xen.org,
 xen-users@lists.xen.org, oss-security@lists.openwall.com
From: Xen.org security team <security@xen.org>
CC: Xen.org security team <security-team-members@xen.org>
Subject: Xen Security Advisory 115 v4 (CVE-2020-29480) - xenstore watch
 notifications lacking permission checks
Message-Id: <E1kp9Hc-0005BK-Ic@xenbits.xenproject.org>
Date: Tue, 15 Dec 2020 12:18:24 +0000

--=separator
Content-Type: text/plain; charset="utf-8"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

            Xen Security Advisory CVE-2020-29480 / XSA-115
                               version 4

         xenstore watch notifications lacking permission checks

UPDATES IN VERSION 4
====================

Public release.

ISSUE DESCRIPTION
=================

Neither xenstore implementation does any permissions checks when
reporting a xenstore watch event.

A guest administrator can watch the root xenstored node, which will
cause notifications for every created, modified and deleted key.

A guest administrator can also use the special watches, which will
cause a notification every time a domain is created and destroyed.

Data may include:
 - number, type and domids of other VMs
 - existence and domids of driver domains
 - numbers of virtual interfaces, block devices, vcpus
 - existence of virtual framebuffers and their backend style (eg,
   existence of VNC service)
 - Xen VM UUIDs for other domains
 - timing information about domain creation and device setup
 - some hints at the backend provisioning of VMs and their devices

The watch events do not contain values stored in xenstore, only key
names.

IMPACT
======

A guest administrator can observe non-sensitive domain and device
lifecycle events relating to other guests.  This information allows
some insight into overall system configuration (including number of
general nature of other guests), and configuration of other guests
(including number and general nature of other guests' devices).  This
information might be commercially interesting or might make other
attacks easier.

There is not believed to be exposure of sensitive data.  Specifically,
there is no exposure of: VNC passwords; port numbers; pathnames in host
and guest filesystems; cryptopgraphic keys; or within-guest data.

VULNERABLE SYSTEMS
==================

All Xen systems are vulnerable.

Both Xenstore implementations (C and Ocaml) are vulnerable.

MITIGATION
==========

There is no mitigation available.

CREDITS
=======

This issue was discovered by Andrew Reimers and Alex Sharp from
OrionVM.

RESOLUTION
==========

Applying the appropriate attached patches resolves this issue.

Note that patches for released versions are generally prepared to
apply to the stable branches, and may not apply cleanly to the most
recent release tarball.  Downstreams are encouraged to update to the
tip of the stable branch before applying these patches.

Note that the Ocaml patches depend on XSA-353.

xsa115-c/*.patch           xen-unstable        [C xenstored]
xsa115-4.14-c/*.patch      Xen 4.14            [C xenstored]
xsa115-4.13-c/*.patch      Xen 4.13 - 4.10     [C xenstored]

xsa115-o/*.patch           xen-unstable - 4.12 [Ocaml xenstored, needs 353]
xsa115-4.11-o/*.patch      Xen 4.11            [Ocaml xenstored, needs 353]
xsa115-4.10-o/*.patch      Xen 4.10            [Ocaml xenstored, needs 353]

$ sha256sum xsa115* xsa115*/*
b2cc3bfbfb48b60e8623b276d823599bc6a33065a340fbc79804bad7ffee48be  xsa115.meta
ced68edb7da44f3e7233120c34a343ee392a4bf094a61775d54d3ea7dc920837  xsa115-4.10-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch
21d0e3aff4c696875b9db02d6ba3fc683ba05b768d4716e1a197f4c5475ed324  xsa115-4.10-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch
28249e3f48c255bbc1e87f6e4b70f5b832b50fa8028f44924c6308a9492a1cf2  xsa115-4.10-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch
219f111181cc8ddcdbca73823688b33f86a2e4bddeb06dcc7dc84c63fc9e9053  xsa115-4.10-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch
0cb14326baedd44650ce59a3da5ab6daa4a7f18f1e1440b6eda5d1a5d414233b  xsa115-4.10-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch
b84be5a85c1dadbf77fa1ea1157a293408052d9628fc9cb1f343cd3a1dcd687c  xsa115-4.10-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch
ced68edb7da44f3e7233120c34a343ee392a4bf094a61775d54d3ea7dc920837  xsa115-4.11-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch
21d0e3aff4c696875b9db02d6ba3fc683ba05b768d4716e1a197f4c5475ed324  xsa115-4.11-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch
28249e3f48c255bbc1e87f6e4b70f5b832b50fa8028f44924c6308a9492a1cf2  xsa115-4.11-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch
046d6d9044c41481071760c54e0ad2f66db70ea720c8d39056cedfd51fda56b8  xsa115-4.11-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch
a0042d3524f83ac2514d4040cc049108c3db1fe398f26d86b309dda1c1444472  xsa115-4.11-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch
b84be5a85c1dadbf77fa1ea1157a293408052d9628fc9cb1f343cd3a1dcd687c  xsa115-4.11-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch
383b1f8ae592f5330832962e98c02cf18b566ed090f9e96338536619ab1bd889  xsa115-4.13-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch
0c96d9c27bc0031f2e72170c453aca5677d8f7469b15468dc797aef4bd1d67d6  xsa115-4.13-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch
11ec359a426abaa71b7eda4a5bf319d73b14b3cbfeac483206c134b0e3ad5391  xsa115-4.13-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch
5fd6461cc96fd787a81a625b9b7e230a5c9092201a54976de088703305e86dd6  xsa115-4.13-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch
55bfaa3674fb355a2ed5830e0a7197ede0a5b9168f93889d7fa08044b312ab52  xsa115-4.13-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch
0013ad062ee5f2dd79f500e2c829a9534677282ed4a2d596cf16e6b362fd29af  xsa115-4.13-c/0006-tools-xenstore-rework-node-removal.patch
e5ed745da88dd195b03f788f255d0d752eb9e801c39c6905707c0b5fa60e8ddf  xsa115-4.13-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch
83e6b4312be4b7fe651f680e5428d47e71a0fd7fdbff5d39433f48b0f4484ad4  xsa115-4.13-c/0008-tools-xenstore-introduce-node_perms-structure.patch
8fa565f136b1fab33f6a06eebad5da9bed571dcac030dcd0b85078817b5adc75  xsa115-4.13-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch
4038e76a3a8748b748811e06b91d87d01c3d3d3ae5fead4b123065cfe35eb81a  xsa115-4.13-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch
797772d456b194a7cdad1eedbcf61499d2c5c2a71a6ba9a11e4789ac7eda602f  xsa115-4.14-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch
2f37019e0d0ca3e425da0ab272a9afae749de963bf89c6a65696b0f134257011  xsa115-4.14-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch
7a7b63884dfbea232a14b7ff49f14d1bf89edd638bf738643676504aab6ef5f2  xsa115-4.14-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch
52f2c03e318720b7ccf55c9cb11f5d33a46feb922dfed656c7c6db1e5f813d91  xsa115-4.14-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch
1db253543e2387abed872c6d94ac8915ce55f38e95d59f24cd0d19d173b8eadb  xsa115-4.14-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch
4bd75552186793cbc8bc1567b5952990e41651c1ccbdc2c55b14bbe62b707ac0  xsa115-4.14-c/0006-tools-xenstore-rework-node-removal.patch
22d0a1bc7b413ff9689b06ee7833baf970f54c678da47db3a941801c79339464  xsa115-4.14-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch
8d4a53c74d0ce42f8134b073acadf0550552da5a827840517cbae55628e5b4a9  xsa115-4.14-c/0008-tools-xenstore-introduce-node_perms-structure.patch
10a066d28b14ae667d11a9fc3c9113569fa16df4e6039380b13907886551a970  xsa115-4.14-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch
9731273b7b096326e28caad8d75b2f87e391131fe40f0952dbb8f974e6b3b298  xsa115-4.14-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch
db1b0b44aad333cc8331a3b34199b052fad3897db5386d1f1b9e02247ff72106  xsa115-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch
d052bff6d7971500bbed047f914b45fa95cc29b914a024f1d3da9bb151239432  xsa115-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch
cb016c3669b0d650d33dbfd6246545a79e75f605bbfe42f8851702a4848f71db  xsa115-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch
289beb0917e2554d3c3b6be90e2dd9215ac1aefd3e4fb0ed86e690abbd73b669  xsa115-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch
8a61a189987e88dbf4c7bdf4b247f1117c82cfe6ac308302753146b11802a670  xsa115-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch
6af64fa35e823fff2f47b11421409f2f21f8ecf853583ac70054907ad3ce83c7  xsa115-c/0006-tools-xenstore-rework-node-removal.patch
4fb7af8330e85f267235a05cce0758473326ddb5d39d47450a5492060209f0c0  xsa115-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch
ff1af7e9d36dc8d3c423a3736e82c2e4ab2a595f3fc6622c57096c7a3a1dce59  xsa115-c/0008-tools-xenstore-introduce-node_perms-structure.patch
8895fbef5ab0b8bdf303becd809c848acd85249a53e0e414d1a9c4d917402ec3  xsa115-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch
a611598bc76874d69449c23aa43d8b6f1331595e64eb5746731f4ee64301441c  xsa115-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch
46c317b0975fe975162dc4b4bd61f82bf9a6b102e7edcd3cd0dccaad84165ed6  xsa115-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch
5d0f8c8901196715ed60593bf239caf39b168814ea01ed18c2e3789fb7879790  xsa115-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch
002cb251a1dcde811dd5998a53a37afe67653361320316eaff9df2d9c5369f8d  xsa115-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch
f640ff6f2e86bc0c4074629a80d17328d7494da3f2fdc2c8d99d0018c36c28dc  xsa115-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch
fcc0d36ab9e27a2ab3dd2de8b54495676a454298ca1203d3d424cd4498e03321  xsa115-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch
62aeb42ae0a5a93de246aed259b4fe5850a33eb001f03b8d183a70c9c5617618  xsa115-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch
$

DEPLOYMENT DURING EMBARGO
=========================

Deployment of the patches and/or mitigations described above (or
others which are substantially similar) is permitted during the
embargo, even on public-facing systems with untrusted guest users and
administrators.

But: Distribution of updated software is prohibited (except to other
members of the predisclosure list).

Predisclosure list members who wish to deploy significantly different
patches and/or mitigations, please contact the Xen Project Security
Team.


(Note: this during-embargo deployment notice is retained in
post-embargo publicly released Xen Project advisories, even though it
is then no longer applicable.  This is to enable the community to have
oversight of the Xen Project Security Team's decisionmaking.)

For more information about permissible uses of embargoed information,
consult the Xen Project community's agreed Security Policy:
  http://www.xenproject.org/security-policy.html
-----BEGIN PGP SIGNATURE-----

iQFABAEBCAAqFiEEI+MiLBRfRHX6gGCng/4UyVfoK9kFAl/YqMsMHHBncEB4ZW4u
b3JnAAoJEIP+FMlX6CvZRJUIAJ66U75O7Pf5tmu9s4vLrrG/n7rCo6qp+TZ1hcio
PNd2xYJaiVfr39m2JByoUyIgBbb3C7R03pXgM15Vbvk0/v6b3QySxzSBbqdIOn3H
yQtOJlNY4OnQh7n0Svs0HV1aCbd/81wIKZ5aCxn/X3ZBjBHOIQGMAdSZ/lkh8g0p
7CTkTZB//gbuR8QZV2KYqFYsKlwhhGCueOFYlnqIs/HWmAL2wnsacF/K7xffVw0S
Fu8pATp1jWXGYc3S1J9o+C77vF4Ai8x2OLw5TCSG8grmPAuojbmB5UuT+ez4VB5q
3KbpqkJSoyuOvWOPHxydb9Z/ExbpZUMgO0c1FmZ2opXRBoA=
=OtzN
-----END PGP SIGNATURE-----

--=separator
Content-Type: application/octet-stream; name="xsa115.meta"
Content-Disposition: attachment; filename="xsa115.meta"
Content-Transfer-Encoding: base64

ewogICJYU0EiOiAxMTUsCiAgIlN1cHBvcnRlZFZlcnNpb25zIjogWwogICAg
Im1hc3RlciIsCiAgICAiNC4xNCIsCiAgICAiNC4xMyIsCiAgICAiNC4xMiIs
CiAgICAiNC4xMSIsCiAgICAiNC4xMCIKICBdLAogICJUcmVlcyI6IFsKICAg
ICJ4ZW4iCiAgXSwKICAiUmVjaXBlcyI6IHsKICAgICI0LjEwIjogewogICAg
ICAiUmVjaXBlcyI6IHsKICAgICAgICAieGVuIjogewogICAgICAgICAgIlN0
YWJsZVJlZiI6ICIxZDcyZDk5MTVlZGZmMGRkNDFmNjAxYmJiMGIxZjgzYzAy
ZmYxNjg5IiwKICAgICAgICAgICJQcmVyZXFzIjogWwogICAgICAgICAgICAz
NTMKICAgICAgICAgIF0sCiAgICAgICAgICAiUGF0Y2hlcyI6IFsKICAgICAg
ICAgICAgInhzYTExNS00LjEzLWMvKi5wYXRjaCIsCiAgICAgICAgICAgICJ4
c2ExMTUtNC4xMC1vLyoucGF0Y2giCiAgICAgICAgICBdCiAgICAgICAgfQog
ICAgICB9CiAgICB9LAogICAgIjQuMTEiOiB7CiAgICAgICJSZWNpcGVzIjog
ewogICAgICAgICJ4ZW4iOiB7CiAgICAgICAgICAiU3RhYmxlUmVmIjogIjQx
YTgyMmMzOTI2MzUwZjI2OTE3ZDc0N2M4ZGZlZDFjNDRhMmNmNDIiLAogICAg
ICAgICAgIlByZXJlcXMiOiBbCiAgICAgICAgICAgIDM1MwogICAgICAgICAg
XSwKICAgICAgICAgICJQYXRjaGVzIjogWwogICAgICAgICAgICAieHNhMTE1
LTQuMTMtYy8qLnBhdGNoIiwKICAgICAgICAgICAgInhzYTExNS00LjExLW8v
Ki5wYXRjaCIKICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0KICAgIH0s
CiAgICAiNC4xMiI6IHsKICAgICAgIlJlY2lwZXMiOiB7CiAgICAgICAgInhl
biI6IHsKICAgICAgICAgICJTdGFibGVSZWYiOiAiODE0NWQzOGI0ODAwOTI1
NWEzMmFiODdhMDJlNDgxY2QwOWM4MTFmOSIsCiAgICAgICAgICAiUHJlcmVx
cyI6IFsKICAgICAgICAgICAgMzUzCiAgICAgICAgICBdLAogICAgICAgICAg
IlBhdGNoZXMiOiBbCiAgICAgICAgICAgICJ4c2ExMTUtNC4xMy1jLyoucGF0
Y2giLAogICAgICAgICAgICAieHNhMTE1LW8vKi5wYXRjaCIKICAgICAgICAg
IF0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAiNC4xMyI6IHsKICAg
ICAgIlJlY2lwZXMiOiB7CiAgICAgICAgInhlbiI6IHsKICAgICAgICAgICJT
dGFibGVSZWYiOiAiYjUzMDIyNzNlMmM1MTk0MDE3MjQwMDQ4NjY0NDYzNmYy
ZjRmYzY0YSIsCiAgICAgICAgICAiUHJlcmVxcyI6IFsKICAgICAgICAgICAg
MzUzCiAgICAgICAgICBdLAogICAgICAgICAgIlBhdGNoZXMiOiBbCiAgICAg
ICAgICAgICJ4c2ExMTUtNC4xMy1jLyoucGF0Y2giLAogICAgICAgICAgICAi
eHNhMTE1LW8vKi5wYXRjaCIKICAgICAgICAgIF0KICAgICAgICB9CiAgICAg
IH0KICAgIH0sCiAgICAiNC4xNCI6IHsKICAgICAgIlJlY2lwZXMiOiB7CiAg
ICAgICAgInhlbiI6IHsKICAgICAgICAgICJTdGFibGVSZWYiOiAiMWQxZDFm
NTM5MTk3NjQ1NmE3OWRhYWMwZGNmZTcxNTdkYTFlNTRmNyIsCiAgICAgICAg
ICAiUHJlcmVxcyI6IFsKICAgICAgICAgICAgMzUzCiAgICAgICAgICBdLAog
ICAgICAgICAgIlBhdGNoZXMiOiBbCiAgICAgICAgICAgICJ4c2ExMTUtNC4x
NC1jLyoucGF0Y2giLAogICAgICAgICAgICAieHNhMTE1LW8vKi5wYXRjaCIK
ICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAibWFz
dGVyIjogewogICAgICAiUmVjaXBlcyI6IHsKICAgICAgICAieGVuIjogewog
ICAgICAgICAgIlN0YWJsZVJlZiI6ICIzYWU0NjlhZjhlNjgwZGYzMWVlY2Qw
YTJhYzZhODNiNThhZDdjZTUzIiwKICAgICAgICAgICJQcmVyZXFzIjogWwog
ICAgICAgICAgICAzNTMKICAgICAgICAgIF0sCiAgICAgICAgICAiUGF0Y2hl
cyI6IFsKICAgICAgICAgICAgInhzYTExNS1jLyoucGF0Y2giLAogICAgICAg
ICAgICAieHNhMTE1LW8vKi5wYXRjaCIKICAgICAgICAgIF0KICAgICAgICB9
CiAgICAgIH0KICAgIH0KICB9Cn0=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBbdW5dd2F0Y2gK
TUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBj
aGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDhiaXQK
Ckluc3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9uIGlkIGZvciBY
U19XQVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBpdCBpcyBkb2N1
bWVudGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0IGlzIHRlc3Rl
ZApmb3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3JlIHRoZSB0cmFu
c2FjdGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FUQ0guCgpUaGlz
IGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTD
tnLDtmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJp
c3RpYW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJl
dmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRy
aXguY29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9w
cm9jZXNzLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwK
aW5kZXggNzRjNjlmODY5Yy4uMGEwZTQzZDFmMCAxMDA2NDQKLS0tIGEvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKQEAgLTQ5MiwxMiArNDkyLDE5IEBA
IGxldCByZXRhaW5fb3BfaW5faGlzdG9yeSB0eSA9CiAJfCBYZW5idXMuWGIu
T3AuUmVzZXRfd2F0Y2hlcwogCXwgWGVuYnVzLlhiLk9wLkludmFsaWQgICAg
ICAgICAgIC0+IGZhbHNlCiAKK2xldCBtYXliZV9pZ25vcmVfdHJhbnNhY3Rp
b24gPSBmdW5jdGlvbgorCXwgWGVuYnVzLlhiLk9wLldhdGNoIHwgWGVuYnVz
LlhiLk9wLlVud2F0Y2ggLT4gZnVuIHRpZCAtPgorCQlpZiB0aWQgPD4gVHJh
bnNhY3Rpb24ubm9uZSB0aGVuCisJCQlkZWJ1ZyAiSWdub3JpbmcgdHJhbnNh
Y3Rpb24gSUQgJWQgZm9yIHdhdGNoL3Vud2F0Y2giIHRpZDsKKwkJVHJhbnNh
Y3Rpb24ubm9uZQorCXwgXyAtPiBmdW4geCAtPiB4CisKICgqKgogICogTm90
aHJvdyBndWFyYW50ZWUuCiAgKikKIGxldCBwcm9jZXNzX3BhY2tldCB+c3Rv
cmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAlsZXQgdHkgPSByZXEuUGFj
a2V0LnR5IGluCi0JbGV0IHRpZCA9IHJlcS5QYWNrZXQudGlkIGluCisJbGV0
IHRpZCA9IG1heWJlX2lnbm9yZV90cmFuc2FjdGlvbiB0eSByZXEuUGFja2V0
LnRpZCBpbgogCWxldCByaWQgPSByZXEuUGFja2V0LnJpZCBpbgogCXRyeQog
CQlsZXQgZmN0ID0gZnVuY3Rpb25fb2ZfdHlwZSB0eSBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogY2hlY2sgcHJpdmlsZWdlIGZvciBYU19JU19ET01BSU5fSU5U
Uk9EVUNFRApNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVGhlIFhlbnN0b3JlIGNvbW1hbmQgWFNfSVNfRE9NQUlOX0lO
VFJPRFVDRUQgc2hvdWxkIGJlIHBvc3NpYmxlIGZvciBwcml2aWxlZ2VkCmRv
bWFpbnMgb25seSAodGhlIG9ubHkgdXNlciBpbiB0aGUgdHJlZSBpcyB0aGUg
eGVucGFnaW5nIGRhZW1vbikuCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4K
ClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNp
dHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3Rp
YW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29v
cGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBh
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggMGEwZTQzZDFmMC4uZjM3
NGFiZTk5OCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3By
b2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3Mu
bWwKQEAgLTE2Niw3ICsxNjYsOSBAQCBsZXQgZG9fc2V0cGVybXMgY29uIHQg
ZG9tYWlucyBjb25zIGRhdGEgPQogbGV0IGRvX2Vycm9yIGNvbiB0IGRvbWFp
bnMgY29ucyBkYXRhID0KIAlyYWlzZSBEZWZpbmUuVW5rbm93bl9vcGVyYXRp
b24KIAotbGV0IGRvX2lzaW50cm9kdWNlZCBjb24gdCBkb21haW5zIGNvbnMg
ZGF0YSA9CitsZXQgZG9faXNpbnRyb2R1Y2VkIGNvbiBfdCBkb21haW5zIF9j
b25zIGRhdGEgPQorCWlmIG5vdCAoQ29ubmVjdGlvbi5pc19kb20wIGNvbikK
Kwl0aGVuIHJhaXNlIERlZmluZS5QZXJtaXNzaW9uX2RlbmllZDsKIAlsZXQg
ZG9taWQgPQogCQltYXRjaCAoc3BsaXQgTm9uZSAnXDAwMCcgZGF0YSkgd2l0
aAogCQl8IGRvbWlkIDo6IF8gLT4gaW50X29mX3N0cmluZyBkb21pZAo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogdW5pZnkgd2F0Y2ggZmlyaW5nCk1JTUUtVmVyc2lvbjogMS4w
CkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250
ZW50LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGlzIHdpbGwgbWFrZSBp
dCBlYXNpZXIgaW5zZXJ0IGFkZGl0aW9uYWwgY2hlY2tzIGluIGEgZm9sbG93
LXVwIHBhdGNoLgpBbGwgd2F0Y2hlcyBhcmUgbm93IGZpcmVkIGZyb20gYSBz
aW5nbGUgZnVuY3Rpb24uCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNp
Z25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNpdHJp
eC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3RpYW4u
bGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVy
IDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBhL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0aW9uLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKaW5kZXggYmU5YzYyZjI3Zi4u
ZDc0MzJjNjU5NyAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nv
bm5lY3Rpb24ubWwKQEAgLTIxMCw4ICsyMTAsNyBAQCBsZXQgZmlyZV93YXRj
aCB3YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWxl
dCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxsIFsgbmV3X3BhdGg7IHdhdGNo
LnRva2VuOyAiIiBdIGluCi0Jc2VuZF9yZXBseSB3YXRjaC5jb24gVHJhbnNh
Y3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5XYXRjaGV2ZW50IGRhdGEKKwlm
aXJlX3NpbmdsZV93YXRjaCB7IHdhdGNoIHdpdGggcGF0aCA9IG5ld19wYXRo
IH0KIAogKCogU2VhcmNoIGZvciBhIHZhbGlkIHVudXNlZCB0cmFuc2FjdGlv
biBpZC4gKikKIGxldCByZWMgdmFsaWRfdHJhbnNhY3Rpb25faWQgY29uIHBy
b3Bvc2VkX2lkID0K

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaW50cm9kdWNlIHBlcm1pc3Npb25zIGZvciBzcGVjaWFsIHdh
dGNoZXMKTUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3Bs
YWluOyBjaGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6
IDhiaXQKClRoZSBzcGVjaWFsIHdhdGNoZXMgIkBpbnRyb2R1Y2VEb21haW4i
IGFuZCAiQHJlbGVhc2VEb21haW4iIHNob3VsZCBiZQphbGxvd2VkIGZvciBw
cml2aWxlZ2VkIGNhbGxlcnMgb25seSwgYXMgdGhleSBhbGxvdyB0byBnYWlu
IGluZm9ybWF0aW9uCmFib3V0IHByZXNlbmNlIG9mIG90aGVyIGd1ZXN0cyBv
biB0aGUgaG9zdC4gU28gc2VuZCB3YXRjaCBldmVudHMgZm9yCnRob3NlIHdh
dGNoZXMgdmlhIHByaXZpbGVnZWQgY29ubmVjdGlvbnMgb25seS4KClN0YXJ0
IHRvIGFkZHJlc3MgdGhpcyBieSB0cmVhdGluZyB0aGUgc3BlY2lhbCB3YXRj
aGVzIGFzIHJlZ3VsYXIgbm9kZXMKaW4gdGhlIHRyZWUsIHdoaWNoIGdpdmVz
IHRoZW0gbm9ybWFsIHNlbWFudGljcyBmb3IgcGVybWlzc2lvbnMuICBBIGxh
dGVyCmNoYW5nZSB3aWxsIHJlc3RyaWN0IHRoZSBoYW5kbGluZywgc28gdGhh
dCB0aGV5IGNhbid0IGJlIGxpc3RlZCwgZXRjLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBFZHdpbiBUw7Zyw7ZrIDxlZHZp
bi50b3Jva0BjaXRyaXguY29tPgpBY2tlZC1ieTogQ2hyaXN0aWFuIExpbmRp
ZyA8Y2hyaXN0aWFuLmxpbmRpZ0BjaXRyaXguY29tPgpSZXZpZXdlZC1ieTog
QW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcHJvY2Vzcy5tbCBi
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sCmluZGV4IGYzNzRh
YmU5OTguLmMzYzhlYTJmNGIgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9wcm9jZXNzLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0b3Jl
ZC9wcm9jZXNzLm1sCkBAIC00MTQsNyArNDE0LDcgQEAgbGV0IGRvX2ludHJv
ZHVjZSBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJCWVsc2UgdHJ5CiAJ
CQlsZXQgbmRvbSA9IERvbWFpbnMuY3JlYXRlIGRvbWFpbnMgZG9taWQgbWZu
IHBvcnQgaW4KIAkJCUNvbm5lY3Rpb25zLmFkZF9kb21haW4gY29ucyBuZG9t
OwotCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyAiQGlu
dHJvZHVjZURvbWFpbiI7CisJCQlDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0
Y2hlcyBjb25zIFN0b3JlLlBhdGguaW50cm9kdWNlX2RvbWFpbjsKIAkJCW5k
b20KIAkJd2l0aCBfIC0+IHJhaXNlIEludmFsaWRfQ21kX0FyZ3MKIAlpbgpA
QCAtNDMzLDcgKzQzMyw3IEBAIGxldCBkb19yZWxlYXNlIGNvbiB0IGRvbWFp
bnMgY29ucyBkYXRhID0KIAlEb21haW5zLmRlbCBkb21haW5zIGRvbWlkOwog
CUNvbm5lY3Rpb25zLmRlbF9kb21haW4gY29ucyBkb21pZDsKIAlpZiBmaXJl
X3NwZWNfd2F0Y2hlcyAKLQl0aGVuIENvbm5lY3Rpb25zLmZpcmVfc3BlY193
YXRjaGVzIGNvbnMgIkByZWxlYXNlRG9tYWluIgorCXRoZW4gQ29ubmVjdGlv
bnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9yZS5QYXRoLnJlbGVhc2Vf
ZG9tYWluCiAJZWxzZSByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAKIGxldCBk
b19yZXN1bWUgY29uIHQgZG9tYWlucyBjb25zIGRhdGEgPQpkaWZmIC0tZ2l0
IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3N0b3JlLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3N0b3JlLm1sCmluZGV4IDYzNzVhMWM4ODkuLjk4ZDM2
OGQ1MmYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9zdG9y
ZS5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvc3RvcmUubWwKQEAg
LTIxNCw2ICsyMTQsMTEgQEAgbGV0IHJlYyBsb29rdXAgbm9kZSBwYXRoIGZj
dCA9CiAKIGxldCBhcHBseSBybm9kZSBwYXRoIGZjdCA9CiAJbG9va3VwIHJu
b2RlIHBhdGggZmN0CisKK2xldCBpbnRyb2R1Y2VfZG9tYWluID0gIkBpbnRy
b2R1Y2VEb21haW4iCitsZXQgcmVsZWFzZV9kb21haW4gPSAiQHJlbGVhc2VE
b21haW4iCitsZXQgc3BlY2lhbHMgPSBMaXN0Lm1hcCBvZl9zdHJpbmcgWyBp
bnRyb2R1Y2VfZG9tYWluOyByZWxlYXNlX2RvbWFpbiBdCisKIGVuZAogCiAo
KiBUaGUgU3RvcmUudCB0eXBlICopCmRpZmYgLS1naXQgYS90b29scy9vY2Ft
bC94ZW5zdG9yZWQvdXRpbHMubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQv
dXRpbHMubWwKaW5kZXggZTg5YzFhZmYwNC4uZjNkOTVlODg5NyAxMDA2NDQK
LS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3V0aWxzLm1sCisrKyBiL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC91dGlscy5tbApAQCAtODksMTkgKzg5LDE3
IEBAIGxldCByZWFkX2ZpbGVfc2luZ2xlX2ludGVnZXIgZmlsZW5hbWUgPQog
CVVuaXguY2xvc2UgZmQ7CiAJaW50X29mX3N0cmluZyAoU3RyaW5nLnN1YiBi
dWYgMCBzeikKIAotbGV0IHBhdGhfY29tcGxldGUgcGF0aCBjb25uZWN0aW9u
X3BhdGggPQotCWlmIFN0cmluZy5nZXQgcGF0aCAwIDw+ICcvJyB0aGVuCi0J
CWNvbm5lY3Rpb25fcGF0aCBeIHBhdGgKLQllbHNlCi0JCXBhdGgKLQorKCog
QHBhdGggbWF5IGJlIGd1ZXN0IGRhdGEgYW5kIG5lZWRzIGl0cyBsZW5ndGgg
dmFsaWRhdGluZy4gIEBjb25uZWN0aW9uX3BhdGgKKyAqIGlzIGdlbmVyYXRl
ZCBsb2NhbGx5IGluIHhlbnN0b3JlZCBhbmQgYWx3YXlzIG9mIHRoZSBmb3Jt
ICIvbG9jYWwvZG9tYWluLyROLyIgKikKIGxldCBwYXRoX3ZhbGlkYXRlIHBh
dGggY29ubmVjdGlvbl9wYXRoID0KLQlpZiBTdHJpbmcubGVuZ3RoIHBhdGgg
PSAwIHx8IFN0cmluZy5sZW5ndGggcGF0aCA+IDEwMjQgdGhlbgotCQlyYWlz
ZSBEZWZpbmUuSW52YWxpZF9wYXRoCi0JZWxzZQotCQlsZXQgY3BhdGggPSBw
YXRoX2NvbXBsZXRlIHBhdGggY29ubmVjdGlvbl9wYXRoIGluCi0JCWlmIFN0
cmluZy5nZXQgY3BhdGggMCA8PiAnLycgdGhlbgotCQkJcmFpc2UgRGVmaW5l
LkludmFsaWRfcGF0aAotCQllbHNlCi0JCQljcGF0aAorCWxldCBsZW4gPSBT
dHJpbmcubGVuZ3RoIHBhdGggaW4KKworCWlmIGxlbiA9IDAgfHwgbGVuID4g
MTAyNCB0aGVuIHJhaXNlIERlZmluZS5JbnZhbGlkX3BhdGg7CisKKwlsZXQg
YWJzX3BhdGggPQorCQltYXRjaCBTdHJpbmcuZ2V0IHBhdGggMCB3aXRoCisJ
CXwgJy8nIHwgJ0AnIC0+IHBhdGgKKwkJfCBfICAgLT4gY29ubmVjdGlvbl9w
YXRoIF4gcGF0aAorCWluCiAKKwlhYnNfcGF0aApkaWZmIC0tZ2l0IGEvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbCBiL3Rvb2xzL29jYW1s
L3hlbnN0b3JlZC94ZW5zdG9yZWQubWwKaW5kZXggNDlmYzE4YmYxOS4uMzJj
M2IxYzBmMSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hl
bnN0b3JlZC5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3Rv
cmVkLm1sCkBAIC0yODcsNiArMjg3LDggQEAgbGV0IF8gPQogCWxldCBxdWl0
ID0gcmVmIGZhbHNlIGluCiAKIAlMb2dnaW5nLmluaXRfeGVuc3RvcmVkX2xv
ZygpOworCUxpc3QuaXRlciAoZnVuIHBhdGggLT4KKwkJU3RvcmUud3JpdGUg
c3RvcmUgUGVybXMuQ29ubmVjdGlvbi5mdWxsX3JpZ2h0cyBwYXRoICIiKSBT
dG9yZS5QYXRoLnNwZWNpYWxzOwogCiAJbGV0IGZpbGVuYW1lID0gUGF0aHMu
eGVuX3J1bl9zdG9yZWQgXiAiL2RiIiBpbgogCWlmIGNmLnJlc3RhcnQgJiYg
U3lzLmZpbGVfZXhpc3RzIGZpbGVuYW1lIHRoZW4gKApAQCAtMzM5LDcgKzM0
MSw3IEBAIGxldCBfID0KIAkJCQkJbGV0IChub3RpZnksIGRlYWRkb20pID0g
RG9tYWlucy5jbGVhbnVwIGRvbWFpbnMgaW4KIAkJCQkJTGlzdC5pdGVyIChD
b25uZWN0aW9ucy5kZWxfZG9tYWluIGNvbnMpIGRlYWRkb207CiAJCQkJCWlm
IGRlYWRkb20gPD4gW10gfHwgbm90aWZ5IHRoZW4KLQkJCQkJCUNvbm5lY3Rp
b25zLmZpcmVfc3BlY193YXRjaGVzIGNvbnMgIkByZWxlYXNlRG9tYWluIgor
CQkJCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9y
ZS5QYXRoLnJlbGVhc2VfZG9tYWluCiAJCQkJKQogCQkJCWVsc2UKIAkJCQkJ
bGV0IGMgPSBDb25uZWN0aW9ucy5maW5kX2RvbWFpbl9ieV9wb3J0IGNvbnMg
cG9ydCBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2RlcyB3aXRob3V0
IGFjY2VzcwpNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVG9kYXkgd2F0Y2ggZXZlbnRzIGFyZSBzZW50IHJlZ2FyZGxl
c3Mgb2YgdGhlIGFjY2VzcyByaWdodHMgb2YgdGhlCm5vZGUgdGhlIGV2ZW50
IGlzIHNlbnQgZm9yLiBUaGlzIGVuYWJsZXMgYW55IGd1ZXN0IHRvIGUuZy4g
c2V0dXAgYQp3YXRjaCBmb3IgIi8iIGluIG9yZGVyIHRvIGhhdmUgYSBkZXRh
aWxlZCByZWNvcmQgb2YgYWxsIFhlbnN0b3JlCm1vZGlmaWNhdGlvbnMuCgpN
b2RpZnkgdGhhdCBieSBzZW5kaW5nIG9ubHkgd2F0Y2ggZXZlbnRzIGZvciBu
b2RlcyB0aGF0IHRoZSB3YXRjaGVyCmhhcyBhIGNoYW5jZSB0byBzZWUgb3Ro
ZXJ3aXNlIChlaXRoZXIgdmlhIGRpcmVjdCByZWFkcyBvciBieSBxdWVyeWlu
Zwp0aGUgY2hpbGRyZW4gb2YgYSBub2RlKS4gVGhpcyBpbmNsdWRlcyBjYXNl
cyB3aGVyZSB0aGUgdmlzaWJpbGl0eSBvZgphIG5vZGUgZm9yIGEgd2F0Y2hl
ciBpcyBjaGFuZ2luZyAocGVybWlzc2lvbnMgYmVpbmcgcmVtb3ZlZCkuCgpQ
ZXJtaXNzaW9ucyBmb3Igbm9kZXMgYXJlIGxvb2tlZCB1cCBlaXRoZXIgaW4g
dGhlIG9sZCAocHJlCnRyYW5zYWN0aW9uL2NvbW1hbmQpIG9yIGN1cnJlbnQg
dHJlZXMgKHBvc3QgdHJhbnNhY3Rpb24pLiAgSWYKcGVybWlzc2lvbnMgYXJl
IGNoYW5nZWQgbXVsdGlwbGUgdGltZXMgaW4gYSB0cmFuc2FjdGlvbiBvbmx5
IHRoZSBmaW5hbAp2ZXJzaW9uIGlzIGNoZWNrZWQsIGJlY2F1c2UgY29uc2lk
ZXJpbmcgYSB0cmFuc2FjdGlvbiBhdG9taWMgdGhlCmluZGl2aWR1YWwgcGVy
bWlzc2lvbiBjaGFuZ2VzIHdvdWxkIG5vdCBiZSBub3RpY2FibGUgdG8gYW4g
b3V0c2lkZQpvYnNlcnZlci4KClR3byB0cmVlcyBhcmUgb25seSBuZWVkZWQg
Zm9yIHNldF9wZXJtczogaGVyZSB3ZSBjYW4gZWl0aGVyIG5vdGljZSB0aGUK
bm9kZSBkaXNhcHBlYXJpbmcgKGlmIHdlIGxvb3NlIHBlcm1pc3Npb24pLCBh
cHBlYXJpbmcKKGlmIHdlIGdhaW4gcGVybWlzc2lvbiksIG9yIGNoYW5naW5n
IChpZiB3ZSBwcmVzZXJ2ZSBwZXJtaXNzaW9uKS4KClJNIG5lZWRzIHRvIG9u
bHkgbG9vayBhdCB0aGUgb2xkIHRyZWU6IGluIHRoZSBuZXcgdHJlZSB0aGUg
bm9kZSB3b3VsZCBiZQpnb25lLCBvciBjb3VsZCBoYXZlIGRpZmZlcmVudCBw
ZXJtaXNzaW9ucyBpZiBpdCB3YXMgcmVjcmVhdGVkICh0aGUKcmVjcmVhdGlv
biB3b3VsZCBnZXQgaXRzIG93biB3YXRjaCBmaXJlZCkuCgpJbnNpZGUgYSB0
cmVlIHdlIGxvb2t1cCB0aGUgd2F0Y2ggcGF0aCdzIHBhcmVudCwgYW5kIHRo
ZW4gdGhlIHdhdGNoIHBhdGgKY2hpbGQgaXRzZWxmLiAgVGhpcyBnZXRzIHVz
IDQgc2V0cyBvZiBwZXJtaXNzaW9ucyBpbiB3b3JzdCBjYXNlLCBhbmQgaWYK
ZWl0aGVyIG9mIHRoZXNlIGFsbG93cyBhIHdhdGNoLCB0aGVuIHdlIHBlcm1p
dCBpdCB0byBmaXJlLiAgVGhlCnBlcm1pc3Npb24gbG9va3VwcyBhcmUgZG9u
ZSB3aXRob3V0IGxvZ2dpbmcgdGhlIGZhaWx1cmVzLCBvdGhlcndpc2Ugd2Un
ZApnZXQgY29uZnVzaW5nIGVycm9ycyBhYm91dCBwZXJtaXNzaW9uIGRlbmll
ZCBmb3Igc29tZSBwYXRocywgYnV0IGEgd2F0Y2gKc3RpbGwgZmlyaW5nLiBU
aGUgYWN0dWFsIHJlc3VsdCBpcyBsb2dnZWQgaW4geGVuc3RvcmVkLWFjY2Vz
cyBsb2c6CgogICd3IGV2ZW50IC4uLicgYXMgdXN1YWwgaWYgd2F0Y2ggd2Fz
IGZpcmVkCiAgJ3cgbm90ZmlyZWQuLi4nIGlmIHRoZSB3YXRjaCB3YXMgbm90
IGZpcmVkLCB0b2dldGhlciB3aXRoIHBhdGggYW5kCiAgcGVybWlzc2lvbiBz
ZXQgdG8gaGVscCBpbiB0cm91Ymxlc2hvb3RpbmcKCkFkZGluZyBhIHdhdGNo
IGJ5cGFzc2VzIHBlcm1pc3Npb24gY2hlY2tzIGFuZCBhbHdheXMgZmlyZXMg
dGhlIHdhdGNoCm9uY2UgaW1tZWRpYXRlbHkuIFRoaXMgaXMgY29uc2lzdGVu
dCB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLCBhbmQgbm8KaW5mb3JtYXRpb24g
aXMgZ2FpbmVkICh0aGUgd2F0Y2ggaXMgZmlyZWQgYm90aCBpZiB0aGUgcGF0
aCBleGlzdHMgb3IKZG9lc24ndCwgYW5kIGJvdGggaWYgeW91IGhhdmUgb3Ig
ZG9uJ3QgaGF2ZSBhY2Nlc3MsIGkuZS4gaXQgcmVmbGVjdHMgdGhlCnBhdGgg
YSBkb21haW4gZ2F2ZSBpdCBiYWNrIHRvIHRoYXQgZG9tYWluKS4KClRoZXJl
IGFyZSBzb21lIHNlbWFudGljIGNoYW5nZXMgaGVyZToKCiAgKiBXcml0ZSty
bSBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBvZiB0aGUgc2FtZSBwYXRoIGlz
IHVub2JzZXJ2YWJsZQogICAgbm93IHZpYSB3YXRjaGVzOiBib3RoIGJlZm9y
ZSBhbmQgYWZ0ZXIgYSB0cmFuc2FjdGlvbiB0aGUgcGF0aAogICAgZG9lc24n
dCBleGlzdCwgdGh1cyBib3RoIHRyZWUgbG9va3VwcyBjb21lIHVwIHdpdGgg
dGhlIGVtcHR5CiAgICBwZXJtaXNzaW9uIHNldCwgYW5kIG5vb25lLCBub3Qg
ZXZlbiBEb20wIGNhbiBzZWUgdGhpcy4gVGhpcyBpcwogICAgY29uc2lzdGVu
dCB3aXRoIHRyYW5zYWN0aW9uIGF0b21pY2l0eSB0aG91Z2guCiAgKiBTaW1p
bGFyIHRvIGFib3ZlIGlmIHdlIHRlbXBvcmFyaWx5IGdyYW50IGFuZCB0aGVu
IHJldm9rZSBwZXJtaXNzaW9uCiAgICBvbiBhIHBhdGggYW55IHdhdGNoZXMg
ZmlyZWQgaW5iZXR3ZWVuIGFyZSBpZ25vcmVkIGFzIHdlbGwKICAqIFRoZXJl
IGlzIGEgbmV3IGxvZyBldmVudCAodyBub3RmaXJlZCkgd2hpY2ggc2hvd3Mg
dGhlIHBlcm1pc3Npb24gc2V0CiAgICBvZiB0aGUgcGF0aCwgYW5kIHRoZSBw
YXRoLgogICogV2F0Y2hlcyBvbiBwYXRocyB0aGF0IGEgZG9tYWluIGRvZXNu
J3QgaGF2ZSBhY2Nlc3MgdG8gYXJlIG5vdyBub3QKICAgIHNlZW4sIHdoaWNo
IGlzIHRoZSBwdXJwb3NlIG9mIHRoZSBzZWN1cml0eSBmaXguCgpUaGlzIGlz
IHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLD
tmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3Rp
YW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmll
d2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXgu
Y29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25u
ZWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24u
bWwKaW5kZXggZDc0MzJjNjU5Ny4uMTM4OWQ5NzFjMiAxMDA2NDQKLS0tIGEv
dG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKQEAgLTE5NiwxMSAr
MTk2LDM2IEBAIGxldCBsaXN0X3dhdGNoZXMgY29uID0KIAkJY29uLndhdGNo
ZXMgW10gaW4KIAlMaXN0LmNvbmNhdCBsbAogCi1sZXQgZmlyZV9zaW5nbGVf
d2F0Y2ggd2F0Y2ggPQorbGV0IGRiZyBmbXQgPSBMb2dnaW5nLmRlYnVnICJj
b25uZWN0aW9uIiBmbXQKK2xldCBpbmZvIGZtdCA9IExvZ2dpbmcuaW5mbyAi
Y29ubmVjdGlvbiIgZm10CisKK2xldCBsb29rdXBfd2F0Y2hfcGVybSBwYXRo
ID0gZnVuY3Rpb24KK3wgTm9uZSAtPiBbXQorfCBTb21lIHJvb3QgLT4KKwl0
cnkgU3RvcmUuUGF0aC5hcHBseSByb290IHBhdGggQEAgZnVuIHBhcmVudCBu
YW1lIC0+CisJCVN0b3JlLk5vZGUuZ2V0X3Blcm1zIHBhcmVudCA6OgorCQl0
cnkgW1N0b3JlLk5vZGUuZ2V0X3Blcm1zIChTdG9yZS5Ob2RlLmZpbmQgcGFy
ZW50IG5hbWUpXQorCQl3aXRoIE5vdF9mb3VuZCAtPiBbXQorCXdpdGggRGVm
aW5lLkludmFsaWRfcGF0aCB8IE5vdF9mb3VuZCAtPiBbXQorCitsZXQgbG9v
a3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBwYXRoID0KKwlsb29rdXBf
d2F0Y2hfcGVybSBwYXRoIG9sZHJvb3QgQCBsb29rdXBfd2F0Y2hfcGVybSBw
YXRoIChTb21lIHJvb3QpCisKK2xldCBmaXJlX3NpbmdsZV93YXRjaF91bmNo
ZWNrZWQgd2F0Y2ggPQogCWxldCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxs
IFt3YXRjaC5wYXRoOyB3YXRjaC50b2tlbjsgIiJdIGluCiAJc2VuZF9yZXBs
eSB3YXRjaC5jb24gVHJhbnNhY3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5X
YXRjaGV2ZW50IGRhdGEKIAotbGV0IGZpcmVfd2F0Y2ggd2F0Y2ggcGF0aCA9
CitsZXQgZmlyZV9zaW5nbGVfd2F0Y2ggKG9sZHJvb3QsIHJvb3QpIHdhdGNo
ID0KKwlsZXQgYWJzcGF0aCA9IGdldF93YXRjaF9wYXRoIHdhdGNoLmNvbiB3
YXRjaC5wYXRoIHw+IFN0b3JlLlBhdGgub2Zfc3RyaW5nIGluCisJbGV0IHBl
cm1zID0gbG9va3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBhYnNwYXRo
IGluCisJaWYgTGlzdC5leGlzdHMgKFBlcm1zLmhhcyB3YXRjaC5jb24ucGVy
bSBSRUFEKSBwZXJtcyB0aGVuCisJCWZpcmVfc2luZ2xlX3dhdGNoX3VuY2hl
Y2tlZCB3YXRjaAorCWVsc2UKKwkJbGV0IHBlcm1zID0gcGVybXMgfD4gTGlz
dC5tYXAgKFBlcm1zLk5vZGUudG9fc3RyaW5nIH5zZXA6IiAiKSB8PiBTdHJp
bmcuY29uY2F0ICIsICIgaW4KKwkJbGV0IGNvbiA9IGdldF9kb21zdHIgd2F0
Y2guY29uIGluCisJCUxvZ2dpbmcud2F0Y2hfbm90X2ZpcmVkIH5jb24gcGVy
bXMgKFN0b3JlLlBhdGgudG9fc3RyaW5nIGFic3BhdGgpCisKK2xldCBmaXJl
X3dhdGNoIHJvb3RzIHdhdGNoIHBhdGggPQogCWxldCBuZXdfcGF0aCA9CiAJ
CWlmIHdhdGNoLmlzX3JlbGF0aXZlICYmIHBhdGguWzBdID0gJy8nCiAJCXRo
ZW4gYmVnaW4KQEAgLTIxMCw3ICsyMzUsNyBAQCBsZXQgZmlyZV93YXRjaCB3
YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWZpcmVf
c2luZ2xlX3dhdGNoIHsgd2F0Y2ggd2l0aCBwYXRoID0gbmV3X3BhdGggfQor
CWZpcmVfc2luZ2xlX3dhdGNoIHJvb3RzIHsgd2F0Y2ggd2l0aCBwYXRoID0g
bmV3X3BhdGggfQogCiAoKiBTZWFyY2ggZm9yIGEgdmFsaWQgdW51c2VkIHRy
YW5zYWN0aW9uIGlkLiAqKQogbGV0IHJlYyB2YWxpZF90cmFuc2FjdGlvbl9p
ZCBjb24gcHJvcG9zZWRfaWQgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwv
eGVuc3RvcmVkL2Nvbm5lY3Rpb25zLm1sIGIvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL2Nvbm5lY3Rpb25zLm1sCmluZGV4IGFlNzY5MjgxOWQuLjAyMGI4NzVk
Y2QgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0
aW9ucy5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlv
bnMubWwKQEAgLTEzNSwyNSArMTM1LDI2IEBAIGxldCBkZWxfd2F0Y2ggY29u
cyBjb24gcGF0aCB0b2tlbiA9CiAgCXdhdGNoCiAKICgqIHBhdGggaXMgYWJz
b2x1dGUgKikKLWxldCBmaXJlX3dhdGNoZXMgY29ucyBwYXRoIHJlY3Vyc2Ug
PQorbGV0IGZpcmVfd2F0Y2hlcyA/b2xkcm9vdCByb290IGNvbnMgcGF0aCBy
ZWN1cnNlID0KIAlsZXQga2V5ID0ga2V5X29mX3BhdGggcGF0aCBpbgogCWxl
dCBwYXRoID0gU3RvcmUuUGF0aC50b19zdHJpbmcgcGF0aCBpbgorCWxldCBy
b290cyA9IG9sZHJvb3QsIHJvb3QgaW4KIAlsZXQgZmlyZV93YXRjaCBfID0g
ZnVuY3Rpb24KIAkJfCBOb25lICAgICAgICAgLT4gKCkKLQkJfCBTb21lIHdh
dGNoZXMgLT4gTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZpcmVf
d2F0Y2ggdyBwYXRoKSB3YXRjaGVzCisJCXwgU29tZSB3YXRjaGVzIC0+IExp
c3QuaXRlciAoZnVuIHcgLT4gQ29ubmVjdGlvbi5maXJlX3dhdGNoIHJvb3Rz
IHcgcGF0aCkgd2F0Y2hlcwogCWluCiAJbGV0IGZpcmVfcmVjIHggPSBmdW5j
dGlvbgogCQl8IE5vbmUgICAgICAgICAtPiAoKQogCQl8IFNvbWUgd2F0Y2hl
cyAtPiAKLQkJCSAgTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZp
cmVfc2luZ2xlX3dhdGNoIHcpIHdhdGNoZXMKKwkJCUxpc3QuaXRlciAoQ29u
bmVjdGlvbi5maXJlX3NpbmdsZV93YXRjaCByb290cykgd2F0Y2hlcwogCWlu
CiAJVHJpZS5pdGVyX3BhdGggZmlyZV93YXRjaCBjb25zLndhdGNoZXMga2V5
OwogCWlmIHJlY3Vyc2UgdGhlbgogCQlUcmllLml0ZXIgZmlyZV9yZWMgKFRy
aWUuc3ViIGNvbnMud2F0Y2hlcyBrZXkpCiAKLWxldCBmaXJlX3NwZWNfd2F0
Y2hlcyBjb25zIHNwZWNwYXRoID0KK2xldCBmaXJlX3NwZWNfd2F0Y2hlcyBy
b290IGNvbnMgc3BlY3BhdGggPQogCWl0ZXIgY29ucyAoZnVuIGNvbiAtPgot
CQlMaXN0Lml0ZXIgKGZ1biB3IC0+IENvbm5lY3Rpb24uZmlyZV9zaW5nbGVf
d2F0Y2ggdykgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNwZWNwYXRo
KSkKKwkJTGlzdC5pdGVyIChDb25uZWN0aW9uLmZpcmVfc2luZ2xlX3dhdGNo
IChOb25lLCByb290KSkgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNw
ZWNwYXRoKSkKIAogbGV0IHNldF90YXJnZXQgY29ucyBkb21haW4gdGFyZ2V0
X2RvbWFpbiA9CiAJbGV0IGNvbiA9IGZpbmRfZG9tYWluIGNvbnMgZG9tYWlu
IGluCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvbG9nZ2lu
Zy5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCmluZGV4
IDBjMGQwM2QwYzQuLmZhYjc2ODI5Y2YgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9sb2dnaW5nLm1sCkBAIC0xNjEsNiArMTYxLDggQEAgbGV0IHhl
bnN0b3JlZF9sb2dfbmJfbGluZXMgPSByZWYgMTMyMTUKIGxldCB4ZW5zdG9y
ZWRfbG9nX25iX2NoYXJzID0gcmVmICgtMSkKIGxldCB4ZW5zdG9yZWRfbG9n
Z2VyID0gcmVmIChOb25lOiBsb2dnZXIgb3B0aW9uKQogCitsZXQgZGVidWdf
ZW5hYmxlZCAoKSA9ICF4ZW5zdG9yZWRfbG9nX2xldmVsID0gRGVidWcKKwog
bGV0IHNldF94ZW5zdG9yZWRfbG9nX2Rlc3RpbmF0aW9uIHMgPQogCXhlbnN0
b3JlZF9sb2dfZGVzdGluYXRpb24gOj0gbG9nX2Rlc3RpbmF0aW9uX29mX3N0
cmluZyBzCiAKQEAgLTIwNCw2ICsyMDYsNyBAQCB0eXBlIGFjY2Vzc190eXBl
ID0KIAl8IENvbW1pdAogCXwgTmV3Y29ubgogCXwgRW5kY29ubgorCXwgV2F0
Y2hfbm90X2ZpcmVkCiAJfCBYYk9wIG9mIFhlbmJ1cy5YYi5PcC5vcGVyYXRp
b24KIAogbGV0IHN0cmluZ19vZl90aWQgfmNvbiB0aWQgPQpAQCAtMjE3LDYg
KzIyMCw3IEBAIGxldCBzdHJpbmdfb2ZfYWNjZXNzX3R5cGUgPSBmdW5jdGlv
bgogCXwgQ29tbWl0ICAgICAgICAgICAgICAgICAgLT4gImNvbW1pdCAgICIK
IAl8IE5ld2Nvbm4gICAgICAgICAgICAgICAgIC0+ICJuZXdjb25uICAiCiAJ
fCBFbmRjb25uICAgICAgICAgICAgICAgICAtPiAiZW5kY29ubiAgIgorCXwg
V2F0Y2hfbm90X2ZpcmVkICAgICAgICAgLT4gIncgbm90ZmlyZWQiCiAKIAl8
IFhiT3Agb3AgLT4gbWF0Y2ggb3Agd2l0aAogCXwgWGVuYnVzLlhiLk9wLkRl
YnVnICAgICAgICAgICAgIC0+ICJkZWJ1ZyAgICAiCkBAIC0zMzMsMyArMzM3
LDcgQEAgbGV0IHhiX2Fuc3dlciB+dGlkIH5jb24gfnR5IGRhdGEgPQogCQl8
IF8gLT4gZmFsc2UsIERlYnVnCiAJaW4KIAlpZiBwcmludCB0aGVuIGFjY2Vz
c19sb2dnaW5nIH50aWQgfmNvbiB+ZGF0YSAoWGJPcCB0eSkgfmxldmVsCisK
K2xldCB3YXRjaF9ub3RfZmlyZWQgfmNvbiBwZXJtcyBwYXRoID0KKwlsZXQg
ZGF0YSA9IFByaW50Zi5zcHJpbnRmICJFUEVSTSBwZXJtcz1bJXNdIHBhdGg9
JXMiIHBlcm1zIHBhdGggaW4KKwlhY2Nlc3NfbG9nZ2luZyB+dGlkOjAgfmNv
biB+ZGF0YSBXYXRjaF9ub3RfZmlyZWQgfmxldmVsOkluZm8KZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wZXJtcy5tbCBiL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9wZXJtcy5tbAppbmRleCAzZWExOTNlYTE0Li4yM2I4
MGFiYTNkIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Blcm1zLm1sCkBA
IC03OSw5ICs3OSw5IEBAIGxldCBvZl9zdHJpbmcgcyA9CiBsZXQgc3RyaW5n
X29mX3Blcm0gcGVybSA9CiAJUHJpbnRmLnNwcmludGYgIiVjJXUiIChjaGFy
X29mX3Blcm10eSAoc25kIHBlcm0pKSAoZnN0IHBlcm0pCiAKLWxldCB0b19z
dHJpbmcgcGVybXZlYyA9CitsZXQgdG9fc3RyaW5nID8oc2VwPSJcMDAwIikg
cGVybXZlYyA9CiAJbGV0IGwgPSAoKHBlcm12ZWMub3duZXIsIHBlcm12ZWMu
b3RoZXIpIDo6IHBlcm12ZWMuYWNsKSBpbgotCVN0cmluZy5jb25jYXQgIlww
MDAiIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQorCVN0cmluZy5jb25j
YXQgc2VwIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQogCiBlbmQKIApA
QCAtMTMyLDggKzEzMiw4IEBAIGxldCBjaGVja19vd25lciAoY29ubmVjdGlv
bjpDb25uZWN0aW9uLnQpIChub2RlOk5vZGUudCkgPQogCXRoZW4gQ29ubmVj
dGlvbi5pc19vd25lciBjb25uZWN0aW9uIChOb2RlLmdldF9vd25lciBub2Rl
KQogCWVsc2UgdHJ1ZQogCi0oKiBjaGVjayBpZiB0aGUgY3VycmVudCBjb25u
ZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1cnJlbnQg
bm9kZSAqKQotbGV0IGNoZWNrIChjb25uZWN0aW9uOkNvbm5lY3Rpb24udCkg
cmVxdWVzdCAobm9kZTpOb2RlLnQpID0KKygqIGNoZWNrIGlmIHRoZSBjdXJy
ZW50IGNvbm5lY3Rpb24gbGFja3MgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRo
ZSBjdXJyZW50IG5vZGUgKikKK2xldCBsYWNrcyAoY29ubmVjdGlvbjpDb25u
ZWN0aW9uLnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJbGV0IGNoZWNr
X2FjbCBkb21haW5pZCA9CiAJCWxldCBwZXJtID0KIAkJCWlmIExpc3QubWVt
X2Fzc29jIGRvbWFpbmlkIChOb2RlLmdldF9hY2wgbm9kZSkKQEAgLTE1NCwx
MSArMTU0LDE5IEBAIGxldCBjaGVjayAoY29ubmVjdGlvbjpDb25uZWN0aW9u
LnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJCQlpbmZvICJQZXJtaXNz
aW9uIGRlbmllZDogRG9tYWluICVkIGhhcyB3cml0ZSBvbmx5IGFjY2VzcyIg
ZG9tYWluaWQ7CiAJCQlmYWxzZQogCWluCi0JaWYgIWFjdGl2YXRlCisJIWFj
dGl2YXRlCiAJJiYgbm90IChDb25uZWN0aW9uLmlzX2RvbTAgY29ubmVjdGlv
bikKIAkmJiBub3QgKGNoZWNrX293bmVyIGNvbm5lY3Rpb24gbm9kZSkKIAkm
JiBub3QgKExpc3QuZXhpc3RzIGNoZWNrX2FjbCAoQ29ubmVjdGlvbi5nZXRf
b3duZXJzIGNvbm5lY3Rpb24pKQorCisoKiBjaGVjayBpZiB0aGUgY3VycmVu
dCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1
cnJlbnQgbm9kZS4KKyogIFJhaXNlcyBhbiBleGNlcHRpb24gaWYgaXQgZG9l
c24ndC4gKikKK2xldCBjaGVjayBjb25uZWN0aW9uIHJlcXVlc3Qgbm9kZSA9
CisJaWYgbGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUKIAl0aGVuIHJh
aXNlIERlZmluZS5QZXJtaXNzaW9uX2RlbmllZAogCisoKiBjaGVjayBpZiB0
aGUgY3VycmVudCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0g
b24gdGhlIGN1cnJlbnQgbm9kZSAqKQorbGV0IGhhcyBjb25uZWN0aW9uIHJl
cXVlc3Qgbm9kZSA9IG5vdCAobGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5v
ZGUpCisKIGxldCBlcXVpdiBwZXJtMSBwZXJtMiA9CiAJKE5vZGUudG9fc3Ry
aW5nIHBlcm0xKSA9IChOb2RlLnRvX3N0cmluZyBwZXJtMikKZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMv
b2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggYzNjOGVhMmY0Yi4u
M2NkMDA5N2RiOSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nl
c3MubWwKQEAgLTU2LDE1ICs1NiwxNyBAQCBsZXQgc3BsaXRfb25lX3BhdGgg
ZGF0YSBjb24gPQogCXwgcGF0aCA6OiAiIiA6OiBbXSAtPiBTdG9yZS5QYXRo
LmNyZWF0ZSBwYXRoIChDb25uZWN0aW9uLmdldF9wYXRoIGNvbikKIAl8IF8g
ICAgICAgICAgICAgICAgLT4gcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCi1s
ZXQgcHJvY2Vzc193YXRjaCBvcHMgY29ucyA9CitsZXQgcHJvY2Vzc193YXRj
aCB0IGNvbnMgPQorCWxldCBvbGRyb290ID0gdC5UcmFuc2FjdGlvbi5vbGRy
b290IGluCisJbGV0IG5ld3Jvb3QgPSBTdG9yZS5nZXRfcm9vdCB0LnN0b3Jl
IGluCisJbGV0IG9wcyA9IFRyYW5zYWN0aW9uLmdldF9wYXRocyB0IHw+IExp
c3QucmV2IGluCiAJbGV0IGRvX29wX3dhdGNoIG9wIGNvbnMgPQotCQlsZXQg
cmVjdXJzZSA9IG1hdGNoIChmc3Qgb3ApIHdpdGgKLQkJfCBYZW5idXMuWGIu
T3AuV3JpdGUgICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuTWtkaXIg
ICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuUm0gICAgICAgLT4gdHJ1
ZQotCQl8IFhlbmJ1cy5YYi5PcC5TZXRwZXJtcyAtPiBmYWxzZQorCQlsZXQg
cmVjdXJzZSwgb2xkcm9vdCwgcm9vdCA9IG1hdGNoIChmc3Qgb3ApIHdpdGgK
KwkJfCBYZW5idXMuWGIuT3AuV3JpdGV8WGVuYnVzLlhiLk9wLk1rZGlyIC0+
IGZhbHNlLCBOb25lLCBuZXdyb290CisJCXwgWGVuYnVzLlhiLk9wLlJtICAg
ICAgIC0+IHRydWUsIE5vbmUsIG9sZHJvb3QKKwkJfCBYZW5idXMuWGIuT3Au
U2V0cGVybXMgLT4gZmFsc2UsIFNvbWUgb2xkcm9vdCwgbmV3cm9vdAogCQl8
IF8gICAgICAgICAgICAgIC0+IHJhaXNlIChGYWlsdXJlICJodWggPyIpIGlu
Ci0JCUNvbm5lY3Rpb25zLmZpcmVfd2F0Y2hlcyBjb25zIChzbmQgb3ApIHJl
Y3Vyc2UgaW4KKwkJQ29ubmVjdGlvbnMuZmlyZV93YXRjaGVzID9vbGRyb290
IHJvb3QgY29ucyAoc25kIG9wKSByZWN1cnNlIGluCiAJTGlzdC5pdGVyIChm
dW4gb3AgLT4gZG9fb3Bfd2F0Y2ggb3AgY29ucykgb3BzCiAKIGxldCBjcmVh
dGVfaW1wbGljaXRfcGF0aCB0IHBlcm0gcGF0aCA9CkBAIC0yMDUsNyArMjA3
LDcgQEAgbGV0IHJlcGx5X2FjayBmY3QgY29uIHQgZG9tcyBjb25zIGRhdGEg
PQogCWZjdCBjb24gdCBkb21zIGNvbnMgZGF0YTsKIAlQYWNrZXQuQWNrIChm
dW4gKCkgLT4KIAkJaWYgVHJhbnNhY3Rpb24uZ2V0X2lkIHQgPSBUcmFuc2Fj
dGlvbi5ub25lIHRoZW4KLQkJCXByb2Nlc3Nfd2F0Y2ggKFRyYW5zYWN0aW9u
LmdldF9wYXRocyB0KSBjb25zCisJCQlwcm9jZXNzX3dhdGNoIHQgY29ucwog
CSkKIAogbGV0IHJlcGx5X2RhdGEgZmN0IGNvbiB0IGRvbXMgY29ucyBkYXRh
ID0KQEAgLTM1MywxNCArMzU1LDE3IEBAIGxldCB0cmFuc2FjdGlvbl9yZXBs
YXkgYyB0IGRvbXMgY29ucyA9CiAJCQlDb25uZWN0aW9uLmVuZF90cmFuc2Fj
dGlvbiBjIHRpZCBOb25lCiAJCSkKIAotbGV0IGRvX3dhdGNoIGNvbiB0IGRv
bWFpbnMgY29ucyBkYXRhID0KK2xldCBkb193YXRjaCBjb24gdCBfZG9tYWlu
cyBjb25zIGRhdGEgPQogCWxldCAobm9kZSwgdG9rZW4pID0gCiAJCW1hdGNo
IChzcGxpdCBOb25lICdcMDAwJyBkYXRhKSB3aXRoCiAJCXwgW25vZGU7IHRv
a2VuOyAiIl0gICAtPiBub2RlLCB0b2tlbgogCQl8IF8gICAgICAgICAgICAg
ICAgICAgLT4gcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCQlpbgogCWxldCB3
YXRjaCA9IENvbm5lY3Rpb25zLmFkZF93YXRjaCBjb25zIGNvbiBub2RlIHRv
a2VuIGluCi0JUGFja2V0LkFjayAoZnVuICgpIC0+IENvbm5lY3Rpb24uZmly
ZV9zaW5nbGVfd2F0Y2ggd2F0Y2gpCisJUGFja2V0LkFjayAoZnVuICgpIC0+
CisJCSgqIHhlbnN0b3JlLnR4dCBzYXlzIHRoaXMgd2F0Y2ggaXMgZmlyZWQg
aW1tZWRpYXRlbHksCisJCSAgIGltcGx5aW5nIGV2ZW4gaWYgcGF0aCBkb2Vz
bid0IGV4aXN0IG9yIGlzIHVucmVhZGFibGUgKikKKwkJQ29ubmVjdGlvbi5m
aXJlX3NpbmdsZV93YXRjaF91bmNoZWNrZWQgd2F0Y2gpCiAKIGxldCBkb191
bndhdGNoIGNvbiB0IGRvbWFpbnMgY29ucyBkYXRhID0KIAlsZXQgKG5vZGUs
IHRva2VuKSA9CkBAIC0zOTEsNyArMzk2LDcgQEAgbGV0IGRvX3RyYW5zYWN0
aW9uX2VuZCBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJaWYgbm90IHN1
Y2Nlc3MgdGhlbgogCQlyYWlzZSBUcmFuc2FjdGlvbl9hZ2FpbjsKIAlpZiBj
b21taXQgdGhlbiBiZWdpbgotCQlwcm9jZXNzX3dhdGNoIChMaXN0LnJldiAo
VHJhbnNhY3Rpb24uZ2V0X3BhdGhzIHQpKSBjb25zOworCQlwcm9jZXNzX3dh
dGNoIHQgY29uczsKIAkJbWF0Y2ggdC5UcmFuc2FjdGlvbi50eSB3aXRoCiAJ
CXwgVHJhbnNhY3Rpb24uTm8gLT4KIAkJCSgpICgqIG5vIG5lZWQgdG8gcmVj
b3JkIGFueXRoaW5nICopCkBAIC00MTQsNyArNDE5LDcgQEAgbGV0IGRvX2lu
dHJvZHVjZSBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJCWVsc2UgdHJ5
CiAJCQlsZXQgbmRvbSA9IERvbWFpbnMuY3JlYXRlIGRvbWFpbnMgZG9taWQg
bWZuIHBvcnQgaW4KIAkJCUNvbm5lY3Rpb25zLmFkZF9kb21haW4gY29ucyBu
ZG9tOwotCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBT
dG9yZS5QYXRoLmludHJvZHVjZV9kb21haW47CisJCQlDb25uZWN0aW9ucy5m
aXJlX3NwZWNfd2F0Y2hlcyAoVHJhbnNhY3Rpb24uZ2V0X3Jvb3QgdCkgY29u
cyBTdG9yZS5QYXRoLmludHJvZHVjZV9kb21haW47CiAJCQluZG9tCiAJCXdp
dGggXyAtPiByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAJaW4KQEAgLTQzMyw3
ICs0MzgsNyBAQCBsZXQgZG9fcmVsZWFzZSBjb24gdCBkb21haW5zIGNvbnMg
ZGF0YSA9CiAJRG9tYWlucy5kZWwgZG9tYWlucyBkb21pZDsKIAlDb25uZWN0
aW9ucy5kZWxfZG9tYWluIGNvbnMgZG9taWQ7CiAJaWYgZmlyZV9zcGVjX3dh
dGNoZXMgCi0JdGhlbiBDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0Y2hlcyBj
b25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KKwl0aGVuIENvbm5lY3Rp
b25zLmZpcmVfc3BlY193YXRjaGVzIChUcmFuc2FjdGlvbi5nZXRfcm9vdCB0
KSBjb25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KIAllbHNlIHJhaXNl
IEludmFsaWRfQ21kX0FyZ3MKIAogbGV0IGRvX3Jlc3VtZSBjb24gdCBkb21h
aW5zIGNvbnMgZGF0YSA9CkBAIC01MDEsNiArNTA2LDggQEAgbGV0IG1heWJl
X2lnbm9yZV90cmFuc2FjdGlvbiA9IGZ1bmN0aW9uCiAJCVRyYW5zYWN0aW9u
Lm5vbmUKIAl8IF8gLT4gZnVuIHggLT4geAogCisKK2xldCAoKSA9IFByaW50
ZXhjLnJlY29yZF9iYWNrdHJhY2UgdHJ1ZQogKCoqCiAgKiBOb3Rocm93IGd1
YXJhbnRlZS4KICAqKQpAQCAtNTQyLDcgKzU0OSw4IEBAIGxldCBwcm9jZXNz
X3BhY2tldCB+c3RvcmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAkJKCog
UHV0IHRoZSByZXNwb25zZSBvbiB0aGUgd2lyZSAqKQogCQlzZW5kX3Jlc3Bv
bnNlIHR5IGNvbiB0IHJpZCByZXNwb25zZQogCXdpdGggZXhuIC0+Ci0JCWVy
cm9yICJwcm9jZXNzIHBhY2tldDogJXMiIChQcmludGV4Yy50b19zdHJpbmcg
ZXhuKTsKKwkJbGV0IGJ0ID0gUHJpbnRleGMuZ2V0X2JhY2t0cmFjZSAoKSBp
bgorCQllcnJvciAicHJvY2VzcyBwYWNrZXQ6ICVzLiAlcyIgKFByaW50ZXhj
LnRvX3N0cmluZyBleG4pIGJ0OwogCQlDb25uZWN0aW9uLnNlbmRfZXJyb3Ig
Y29uIHRpZCByaWQgIkVJTyIKIAogbGV0IGRvX2lucHV0IHN0b3JlIGNvbnMg
ZG9tcyBjb24gPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L3RyYW5zYWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3RyYW5z
YWN0aW9uLm1sCmluZGV4IDIzZTdjY2ZmMWIuLjllOWUyOGRiOWIgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC90cmFuc2FjdGlvbi5tbAor
KysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvdHJhbnNhY3Rpb24ubWwKQEAg
LTgyLDYgKzgyLDcgQEAgdHlwZSB0ID0gewogCXN0YXJ0X2NvdW50OiBpbnQ2
NDsKIAlzdG9yZTogU3RvcmUudDsgKCogVGhpcyBpcyB0aGUgc3RvcmUgdGhh
dCB3ZSBjaGFuZ2UgaW4gd3JpdGUgb3BlcmF0aW9ucy4gKikKIAlxdW90YTog
UXVvdGEudDsKKwlvbGRyb290OiBTdG9yZS5Ob2RlLnQ7CiAJbXV0YWJsZSBw
YXRoczogKFhlbmJ1cy5YYi5PcC5vcGVyYXRpb24gKiBTdG9yZS5QYXRoLnQp
IGxpc3Q7CiAJbXV0YWJsZSBvcGVyYXRpb25zOiAoUGFja2V0LnJlcXVlc3Qg
KiBQYWNrZXQucmVzcG9uc2UpIGxpc3Q7CiAJbXV0YWJsZSByZWFkX2xvd3Bh
dGg6IFN0b3JlLlBhdGgudCBvcHRpb247CkBAIC0xMjMsNiArMTI0LDcgQEAg
bGV0IG1ha2UgPyhpbnRlcm5hbD1mYWxzZSkgaWQgc3RvcmUgPQogCQlzdGFy
dF9jb3VudCA9ICFjb3VudGVyOwogCQlzdG9yZSA9IGlmIGlkID0gbm9uZSB0
aGVuIHN0b3JlIGVsc2UgU3RvcmUuY29weSBzdG9yZTsKIAkJcXVvdGEgPSBR
dW90YS5jb3B5IHN0b3JlLlN0b3JlLnF1b3RhOworCQlvbGRyb290ID0gU3Rv
cmUuZ2V0X3Jvb3Qgc3RvcmU7CiAJCXBhdGhzID0gW107CiAJCW9wZXJhdGlv
bnMgPSBbXTsKIAkJcmVhZF9sb3dwYXRoID0gTm9uZTsKQEAgLTEzNyw2ICsx
MzksOCBAQCBsZXQgbWFrZSA/KGludGVybmFsPWZhbHNlKSBpZCBzdG9yZSA9
CiBsZXQgZ2V0X3N0b3JlIHQgPSB0LnN0b3JlCiBsZXQgZ2V0X3BhdGhzIHQg
PSB0LnBhdGhzCiAKK2xldCBnZXRfcm9vdCB0ID0gU3RvcmUuZ2V0X3Jvb3Qg
dC5zdG9yZQorCiBsZXQgaXNfcmVhZF9vbmx5IHQgPSB0LnBhdGhzID0gW10K
IGxldCBhZGRfd29wIHQgdHkgcGF0aCA9IHQucGF0aHMgPC0gKHR5LCBwYXRo
KSA6OiB0LnBhdGhzCiBsZXQgYWRkX29wZXJhdGlvbiB+cGVybSB0IHJlcXVl
c3QgcmVzcG9uc2UgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL3hlbnN0b3JlZC5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC94ZW5z
dG9yZWQubWwKaW5kZXggMzJjM2IxYzBmMS4uZTlmNDcxODQ2ZiAxMDA2NDQK
LS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAorKysg
Yi90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCkBAIC0zNDEs
NyArMzQxLDkgQEAgbGV0IF8gPQogCQkJCQlsZXQgKG5vdGlmeSwgZGVhZGRv
bSkgPSBEb21haW5zLmNsZWFudXAgZG9tYWlucyBpbgogCQkJCQlMaXN0Lml0
ZXIgKENvbm5lY3Rpb25zLmRlbF9kb21haW4gY29ucykgZGVhZGRvbTsKIAkJ
CQkJaWYgZGVhZGRvbSA8PiBbXSB8fCBub3RpZnkgdGhlbgotCQkJCQkJQ29u
bmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9yZS5QYXRoLnJl
bGVhc2VfZG9tYWluCisJCQkJCQlDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0
Y2hlcworCQkJCQkJCShTdG9yZS5nZXRfcm9vdCBzdG9yZSkKKwkJCQkJCQlj
b25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KIAkJCQkpCiAJCQkJZWxz
ZQogCQkJCQlsZXQgYyA9IENvbm5lY3Rpb25zLmZpbmRfZG9tYWluX2J5X3Bv
cnQgY29ucyBwb3J0IGluCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.10-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Disposition: attachment;
 filename="xsa115-4.10-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYWRkIHhlbnN0b3JlZC5jb25mIGZsYWcgdG8gdHVybiBvZmYg
d2F0Y2gKIHBlcm1pc3Npb24gY2hlY2tzCk1JTUUtVmVyc2lvbjogMS4wCkNv
bnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250ZW50
LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGVyZSBhcmUgZmxhZ3MgdG8g
dHVybiBvZmYgcXVvdGFzIGFuZCB0aGUgcGVybWlzc2lvbiBzeXN0ZW0sIHNv
IGFkZCBvbmUKdGhhdCB0dXJucyBvZmYgdGhlIG5ld2x5IGludHJvZHVjZWQg
d2F0Y2ggcGVybWlzc2lvbiBjaGVja3MgYXMgd2VsbC4KClRoaXMgaXMgcGFy
dCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogRWR3aW4gVMO2csO2ayA8
ZWR2aW4udG9yb2tAY2l0cml4LmNvbT4KQWNrZWQtYnk6IENocmlzdGlhbiBM
aW5kaWcgPGNocmlzdGlhbi5saW5kaWdAY2l0cml4LmNvbT4KUmV2aWV3ZWQt
Ynk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+
CgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rp
b24ubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApp
bmRleCAxMzg5ZDk3MWMyLi42OThmNzIxMzQ1IDEwMDY0NAotLS0gYS90b29s
cy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbAorKysgYi90b29scy9v
Y2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApAQCAtMjE4LDcgKzIxOCw3
IEBAIGxldCBmaXJlX3NpbmdsZV93YXRjaF91bmNoZWNrZWQgd2F0Y2ggPQog
bGV0IGZpcmVfc2luZ2xlX3dhdGNoIChvbGRyb290LCByb290KSB3YXRjaCA9
CiAJbGV0IGFic3BhdGggPSBnZXRfd2F0Y2hfcGF0aCB3YXRjaC5jb24gd2F0
Y2gucGF0aCB8PiBTdG9yZS5QYXRoLm9mX3N0cmluZyBpbgogCWxldCBwZXJt
cyA9IGxvb2t1cF93YXRjaF9wZXJtcyBvbGRyb290IHJvb3QgYWJzcGF0aCBp
bgotCWlmIExpc3QuZXhpc3RzIChQZXJtcy5oYXMgd2F0Y2guY29uLnBlcm0g
UkVBRCkgcGVybXMgdGhlbgorCWlmIFBlcm1zLmNhbl9maXJlX3dhdGNoIHdh
dGNoLmNvbi5wZXJtIHBlcm1zIHRoZW4KIAkJZmlyZV9zaW5nbGVfd2F0Y2hf
dW5jaGVja2VkIHdhdGNoCiAJZWxzZQogCQlsZXQgcGVybXMgPSBwZXJtcyB8
PiBMaXN0Lm1hcCAoUGVybXMuTm9kZS50b19zdHJpbmcgfnNlcDoiICIpIHw+
IFN0cmluZy5jb25jYXQgIiwgIiBpbgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL294ZW5zdG9yZWQuY29uZi5pbiBiL3Rvb2xzL29jYW1s
L3hlbnN0b3JlZC9veGVuc3RvcmVkLmNvbmYuaW4KaW5kZXggNjU3OWI4NDQ0
OC4uZDVkNGYwMGRlOCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL294ZW5zdG9yZWQuY29uZi5pbgorKysgYi90b29scy9vY2FtbC94ZW5z
dG9yZWQvb3hlbnN0b3JlZC5jb25mLmluCkBAIC00NCw2ICs0NCwxNiBAQCBj
b25mbGljdC1yYXRlLWxpbWl0LWlzLWFnZ3JlZ2F0ZSA9IHRydWUKICMgQWN0
aXZhdGUgbm9kZSBwZXJtaXNzaW9uIHN5c3RlbQogcGVybXMtYWN0aXZhdGUg
PSB0cnVlCiAKKyMgQWN0aXZhdGUgdGhlIHdhdGNoIHBlcm1pc3Npb24gc3lz
dGVtCisjIFdoZW4gdGhpcyBpcyBlbmFibGVkIHVucHJpdmlsZWdlZCBndWVz
dHMgY2FuIG9ubHkgZ2V0IHdhdGNoIGV2ZW50cworIyBmb3IgeGVuc3RvcmUg
ZW50cmllcyB0aGF0IHRoZXkgd291bGQndmUgYmVlbiBhYmxlIHRvIHJlYWQu
CisjCisjIFdoZW4gdGhpcyBpcyBkaXNhYmxlZCB1bnByaXZpbGVnZWQgZ3Vl
c3RzIG1heSBnZXQgd2F0Y2ggZXZlbnRzCisjIGZvciB4ZW5zdG9yZSBlbnRy
aWVzIHRoYXQgdGhleSBjYW5ub3QgcmVhZC4gVGhlIHdhdGNoIGV2ZW50IGNv
bnRhaW5zCisjIG9ubHkgdGhlIGVudHJ5IG5hbWUsIG5vdCB0aGUgdmFsdWUu
CisjIFRoaXMgcmVzdG9yZXMgYmVoYXZpb3VyIHByaW9yIHRvIFhTQS0xMTUu
CitwZXJtcy13YXRjaC1hY3RpdmF0ZSA9IHRydWUKKwogIyBBY3RpdmF0ZSBx
dW90YQogcXVvdGEtYWN0aXZhdGUgPSB0cnVlCiBxdW90YS1tYXhlbnRpdHkg
PSAxMDAwCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVybXMubWwKaW5kZXgg
MjNiODBhYmEzZC4uZWU3ZmVlNmJkYSAxMDA2NDQKLS0tIGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Blcm1zLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0
b3JlZC9wZXJtcy5tbApAQCAtMjAsNiArMjAsNyBAQCBsZXQgaW5mbyBmbXQg
PSBMb2dnaW5nLmluZm8gInBlcm1zIiBmbXQKIG9wZW4gU3RkZXh0CiAKIGxl
dCBhY3RpdmF0ZSA9IHJlZiB0cnVlCitsZXQgd2F0Y2hfYWN0aXZhdGUgPSBy
ZWYgdHJ1ZQogCiB0eXBlIHBlcm10eSA9IFJFQUQgfCBXUklURSB8IFJEV1Ig
fCBOT05FCiAKQEAgLTE2OCw1ICsxNjksOSBAQCBsZXQgY2hlY2sgY29ubmVj
dGlvbiByZXF1ZXN0IG5vZGUgPQogKCogY2hlY2sgaWYgdGhlIGN1cnJlbnQg
Y29ubmVjdGlvbiBoYXMgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRoZSBjdXJy
ZW50IG5vZGUgKikKIGxldCBoYXMgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUg
PSBub3QgKGxhY2tzIGNvbm5lY3Rpb24gcmVxdWVzdCBub2RlKQogCitsZXQg
Y2FuX2ZpcmVfd2F0Y2ggY29ubmVjdGlvbiBwZXJtcyA9CisJbm90ICF3YXRj
aF9hY3RpdmF0ZQorCXx8IExpc3QuZXhpc3RzIChoYXMgY29ubmVjdGlvbiBS
RUFEKSBwZXJtcworCiBsZXQgZXF1aXYgcGVybTEgcGVybTIgPQogCShOb2Rl
LnRvX3N0cmluZyBwZXJtMSkgPSAoTm9kZS50b19zdHJpbmcgcGVybTIpCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1s
IGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAppbmRleCBl
OWY0NzE4NDZmLi4zMGZjODc0MzI3IDEwMDY0NAotLS0gYS90b29scy9vY2Ft
bC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC94ZW5zdG9yZWQubWwKQEAgLTk1LDYgKzk1LDcgQEAgbGV0IHBh
cnNlX2NvbmZpZyBmaWxlbmFtZSA9CiAJCSgiY29uZmxpY3QtbWF4LWhpc3Rv
cnktc2Vjb25kcyIsIENvbmZpZy5TZXRfZmxvYXQgRGVmaW5lLmNvbmZsaWN0
X21heF9oaXN0b3J5X3NlY29uZHMpOwogCQkoImNvbmZsaWN0LXJhdGUtbGlt
aXQtaXMtYWdncmVnYXRlIiwgQ29uZmlnLlNldF9ib29sIERlZmluZS5jb25m
bGljdF9yYXRlX2xpbWl0X2lzX2FnZ3JlZ2F0ZSk7CiAJCSgicGVybXMtYWN0
aXZhdGUiLCBDb25maWcuU2V0X2Jvb2wgUGVybXMuYWN0aXZhdGUpOworCQko
InBlcm1zLXdhdGNoLWFjdGl2YXRlIiwgQ29uZmlnLlNldF9ib29sIFBlcm1z
LndhdGNoX2FjdGl2YXRlKTsKIAkJKCJxdW90YS1hY3RpdmF0ZSIsIENvbmZp
Zy5TZXRfYm9vbCBRdW90YS5hY3RpdmF0ZSk7CiAJCSgicXVvdGEtbWF4d2F0
Y2giLCBDb25maWcuU2V0X2ludCBEZWZpbmUubWF4d2F0Y2gpOwogCQkoInF1
b3RhLXRyYW5zYWN0aW9uIiwgQ29uZmlnLlNldF9pbnQgRGVmaW5lLm1heHRy
YW5zYWN0aW9uKTsK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBbdW5dd2F0Y2gK
TUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBj
aGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDhiaXQK
Ckluc3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9uIGlkIGZvciBY
U19XQVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBpdCBpcyBkb2N1
bWVudGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0IGlzIHRlc3Rl
ZApmb3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3JlIHRoZSB0cmFu
c2FjdGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FUQ0guCgpUaGlz
IGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTD
tnLDtmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJp
c3RpYW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJl
dmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRy
aXguY29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9w
cm9jZXNzLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwK
aW5kZXggNzRjNjlmODY5Yy4uMGEwZTQzZDFmMCAxMDA2NDQKLS0tIGEvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKQEAgLTQ5MiwxMiArNDkyLDE5IEBA
IGxldCByZXRhaW5fb3BfaW5faGlzdG9yeSB0eSA9CiAJfCBYZW5idXMuWGIu
T3AuUmVzZXRfd2F0Y2hlcwogCXwgWGVuYnVzLlhiLk9wLkludmFsaWQgICAg
ICAgICAgIC0+IGZhbHNlCiAKK2xldCBtYXliZV9pZ25vcmVfdHJhbnNhY3Rp
b24gPSBmdW5jdGlvbgorCXwgWGVuYnVzLlhiLk9wLldhdGNoIHwgWGVuYnVz
LlhiLk9wLlVud2F0Y2ggLT4gZnVuIHRpZCAtPgorCQlpZiB0aWQgPD4gVHJh
bnNhY3Rpb24ubm9uZSB0aGVuCisJCQlkZWJ1ZyAiSWdub3JpbmcgdHJhbnNh
Y3Rpb24gSUQgJWQgZm9yIHdhdGNoL3Vud2F0Y2giIHRpZDsKKwkJVHJhbnNh
Y3Rpb24ubm9uZQorCXwgXyAtPiBmdW4geCAtPiB4CisKICgqKgogICogTm90
aHJvdyBndWFyYW50ZWUuCiAgKikKIGxldCBwcm9jZXNzX3BhY2tldCB+c3Rv
cmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAlsZXQgdHkgPSByZXEuUGFj
a2V0LnR5IGluCi0JbGV0IHRpZCA9IHJlcS5QYWNrZXQudGlkIGluCisJbGV0
IHRpZCA9IG1heWJlX2lnbm9yZV90cmFuc2FjdGlvbiB0eSByZXEuUGFja2V0
LnRpZCBpbgogCWxldCByaWQgPSByZXEuUGFja2V0LnJpZCBpbgogCXRyeQog
CQlsZXQgZmN0ID0gZnVuY3Rpb25fb2ZfdHlwZSB0eSBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogY2hlY2sgcHJpdmlsZWdlIGZvciBYU19JU19ET01BSU5fSU5U
Uk9EVUNFRApNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVGhlIFhlbnN0b3JlIGNvbW1hbmQgWFNfSVNfRE9NQUlOX0lO
VFJPRFVDRUQgc2hvdWxkIGJlIHBvc3NpYmxlIGZvciBwcml2aWxlZ2VkCmRv
bWFpbnMgb25seSAodGhlIG9ubHkgdXNlciBpbiB0aGUgdHJlZSBpcyB0aGUg
eGVucGFnaW5nIGRhZW1vbikuCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4K
ClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNp
dHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3Rp
YW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29v
cGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBh
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggMGEwZTQzZDFmMC4uZjM3
NGFiZTk5OCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3By
b2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3Mu
bWwKQEAgLTE2Niw3ICsxNjYsOSBAQCBsZXQgZG9fc2V0cGVybXMgY29uIHQg
ZG9tYWlucyBjb25zIGRhdGEgPQogbGV0IGRvX2Vycm9yIGNvbiB0IGRvbWFp
bnMgY29ucyBkYXRhID0KIAlyYWlzZSBEZWZpbmUuVW5rbm93bl9vcGVyYXRp
b24KIAotbGV0IGRvX2lzaW50cm9kdWNlZCBjb24gdCBkb21haW5zIGNvbnMg
ZGF0YSA9CitsZXQgZG9faXNpbnRyb2R1Y2VkIGNvbiBfdCBkb21haW5zIF9j
b25zIGRhdGEgPQorCWlmIG5vdCAoQ29ubmVjdGlvbi5pc19kb20wIGNvbikK
Kwl0aGVuIHJhaXNlIERlZmluZS5QZXJtaXNzaW9uX2RlbmllZDsKIAlsZXQg
ZG9taWQgPQogCQltYXRjaCAoc3BsaXQgTm9uZSAnXDAwMCcgZGF0YSkgd2l0
aAogCQl8IGRvbWlkIDo6IF8gLT4gaW50X29mX3N0cmluZyBkb21pZAo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogdW5pZnkgd2F0Y2ggZmlyaW5nCk1JTUUtVmVyc2lvbjogMS4w
CkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250
ZW50LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGlzIHdpbGwgbWFrZSBp
dCBlYXNpZXIgaW5zZXJ0IGFkZGl0aW9uYWwgY2hlY2tzIGluIGEgZm9sbG93
LXVwIHBhdGNoLgpBbGwgd2F0Y2hlcyBhcmUgbm93IGZpcmVkIGZyb20gYSBz
aW5nbGUgZnVuY3Rpb24uCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNp
Z25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNpdHJp
eC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3RpYW4u
bGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVy
IDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBhL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0aW9uLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKaW5kZXggYmU5YzYyZjI3Zi4u
ZDc0MzJjNjU5NyAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nv
bm5lY3Rpb24ubWwKQEAgLTIxMCw4ICsyMTAsNyBAQCBsZXQgZmlyZV93YXRj
aCB3YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWxl
dCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxsIFsgbmV3X3BhdGg7IHdhdGNo
LnRva2VuOyAiIiBdIGluCi0Jc2VuZF9yZXBseSB3YXRjaC5jb24gVHJhbnNh
Y3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5XYXRjaGV2ZW50IGRhdGEKKwlm
aXJlX3NpbmdsZV93YXRjaCB7IHdhdGNoIHdpdGggcGF0aCA9IG5ld19wYXRo
IH0KIAogKCogU2VhcmNoIGZvciBhIHZhbGlkIHVudXNlZCB0cmFuc2FjdGlv
biBpZC4gKikKIGxldCByZWMgdmFsaWRfdHJhbnNhY3Rpb25faWQgY29uIHBy
b3Bvc2VkX2lkID0K

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaW50cm9kdWNlIHBlcm1pc3Npb25zIGZvciBzcGVjaWFsIHdh
dGNoZXMKTUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3Bs
YWluOyBjaGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6
IDhiaXQKClRoZSBzcGVjaWFsIHdhdGNoZXMgIkBpbnRyb2R1Y2VEb21haW4i
IGFuZCAiQHJlbGVhc2VEb21haW4iIHNob3VsZCBiZQphbGxvd2VkIGZvciBw
cml2aWxlZ2VkIGNhbGxlcnMgb25seSwgYXMgdGhleSBhbGxvdyB0byBnYWlu
IGluZm9ybWF0aW9uCmFib3V0IHByZXNlbmNlIG9mIG90aGVyIGd1ZXN0cyBv
biB0aGUgaG9zdC4gU28gc2VuZCB3YXRjaCBldmVudHMgZm9yCnRob3NlIHdh
dGNoZXMgdmlhIHByaXZpbGVnZWQgY29ubmVjdGlvbnMgb25seS4KClN0YXJ0
IHRvIGFkZHJlc3MgdGhpcyBieSB0cmVhdGluZyB0aGUgc3BlY2lhbCB3YXRj
aGVzIGFzIHJlZ3VsYXIgbm9kZXMKaW4gdGhlIHRyZWUsIHdoaWNoIGdpdmVz
IHRoZW0gbm9ybWFsIHNlbWFudGljcyBmb3IgcGVybWlzc2lvbnMuICBBIGxh
dGVyCmNoYW5nZSB3aWxsIHJlc3RyaWN0IHRoZSBoYW5kbGluZywgc28gdGhh
dCB0aGV5IGNhbid0IGJlIGxpc3RlZCwgZXRjLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBFZHdpbiBUw7Zyw7ZrIDxlZHZp
bi50b3Jva0BjaXRyaXguY29tPgpBY2tlZC1ieTogQ2hyaXN0aWFuIExpbmRp
ZyA8Y2hyaXN0aWFuLmxpbmRpZ0BjaXRyaXguY29tPgpSZXZpZXdlZC1ieTog
QW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcHJvY2Vzcy5tbCBi
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sCmluZGV4IGYzNzRh
YmU5OTguLmMzYzhlYTJmNGIgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9wcm9jZXNzLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0b3Jl
ZC9wcm9jZXNzLm1sCkBAIC00MTQsNyArNDE0LDcgQEAgbGV0IGRvX2ludHJv
ZHVjZSBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJCWVsc2UgdHJ5CiAJ
CQlsZXQgbmRvbSA9IERvbWFpbnMuY3JlYXRlIGRvbWFpbnMgZG9taWQgbWZu
IHBvcnQgaW4KIAkJCUNvbm5lY3Rpb25zLmFkZF9kb21haW4gY29ucyBuZG9t
OwotCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyAiQGlu
dHJvZHVjZURvbWFpbiI7CisJCQlDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0
Y2hlcyBjb25zIFN0b3JlLlBhdGguaW50cm9kdWNlX2RvbWFpbjsKIAkJCW5k
b20KIAkJd2l0aCBfIC0+IHJhaXNlIEludmFsaWRfQ21kX0FyZ3MKIAlpbgpA
QCAtNDMzLDcgKzQzMyw3IEBAIGxldCBkb19yZWxlYXNlIGNvbiB0IGRvbWFp
bnMgY29ucyBkYXRhID0KIAlEb21haW5zLmRlbCBkb21haW5zIGRvbWlkOwog
CUNvbm5lY3Rpb25zLmRlbF9kb21haW4gY29ucyBkb21pZDsKIAlpZiBmaXJl
X3NwZWNfd2F0Y2hlcyAKLQl0aGVuIENvbm5lY3Rpb25zLmZpcmVfc3BlY193
YXRjaGVzIGNvbnMgIkByZWxlYXNlRG9tYWluIgorCXRoZW4gQ29ubmVjdGlv
bnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9yZS5QYXRoLnJlbGVhc2Vf
ZG9tYWluCiAJZWxzZSByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAKIGxldCBk
b19yZXN1bWUgY29uIHQgZG9tYWlucyBjb25zIGRhdGEgPQpkaWZmIC0tZ2l0
IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3N0b3JlLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3N0b3JlLm1sCmluZGV4IDYzNzVhMWM4ODkuLjk4ZDM2
OGQ1MmYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9zdG9y
ZS5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvc3RvcmUubWwKQEAg
LTIxNCw2ICsyMTQsMTEgQEAgbGV0IHJlYyBsb29rdXAgbm9kZSBwYXRoIGZj
dCA9CiAKIGxldCBhcHBseSBybm9kZSBwYXRoIGZjdCA9CiAJbG9va3VwIHJu
b2RlIHBhdGggZmN0CisKK2xldCBpbnRyb2R1Y2VfZG9tYWluID0gIkBpbnRy
b2R1Y2VEb21haW4iCitsZXQgcmVsZWFzZV9kb21haW4gPSAiQHJlbGVhc2VE
b21haW4iCitsZXQgc3BlY2lhbHMgPSBMaXN0Lm1hcCBvZl9zdHJpbmcgWyBp
bnRyb2R1Y2VfZG9tYWluOyByZWxlYXNlX2RvbWFpbiBdCisKIGVuZAogCiAo
KiBUaGUgU3RvcmUudCB0eXBlICopCmRpZmYgLS1naXQgYS90b29scy9vY2Ft
bC94ZW5zdG9yZWQvdXRpbHMubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQv
dXRpbHMubWwKaW5kZXggYjI1MmRiNzk5Yi4uZThjOWZlNGU5NCAxMDA2NDQK
LS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3V0aWxzLm1sCisrKyBiL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC91dGlscy5tbApAQCAtODgsMTkgKzg4LDE3
IEBAIGxldCByZWFkX2ZpbGVfc2luZ2xlX2ludGVnZXIgZmlsZW5hbWUgPQog
CVVuaXguY2xvc2UgZmQ7CiAJaW50X29mX3N0cmluZyAoQnl0ZXMuc3ViX3N0
cmluZyBidWYgMCBzeikKIAotbGV0IHBhdGhfY29tcGxldGUgcGF0aCBjb25u
ZWN0aW9uX3BhdGggPQotCWlmIFN0cmluZy5nZXQgcGF0aCAwIDw+ICcvJyB0
aGVuCi0JCWNvbm5lY3Rpb25fcGF0aCBeIHBhdGgKLQllbHNlCi0JCXBhdGgK
LQorKCogQHBhdGggbWF5IGJlIGd1ZXN0IGRhdGEgYW5kIG5lZWRzIGl0cyBs
ZW5ndGggdmFsaWRhdGluZy4gIEBjb25uZWN0aW9uX3BhdGgKKyAqIGlzIGdl
bmVyYXRlZCBsb2NhbGx5IGluIHhlbnN0b3JlZCBhbmQgYWx3YXlzIG9mIHRo
ZSBmb3JtICIvbG9jYWwvZG9tYWluLyROLyIgKikKIGxldCBwYXRoX3ZhbGlk
YXRlIHBhdGggY29ubmVjdGlvbl9wYXRoID0KLQlpZiBTdHJpbmcubGVuZ3Ro
IHBhdGggPSAwIHx8IFN0cmluZy5sZW5ndGggcGF0aCA+IDEwMjQgdGhlbgot
CQlyYWlzZSBEZWZpbmUuSW52YWxpZF9wYXRoCi0JZWxzZQotCQlsZXQgY3Bh
dGggPSBwYXRoX2NvbXBsZXRlIHBhdGggY29ubmVjdGlvbl9wYXRoIGluCi0J
CWlmIFN0cmluZy5nZXQgY3BhdGggMCA8PiAnLycgdGhlbgotCQkJcmFpc2Ug
RGVmaW5lLkludmFsaWRfcGF0aAotCQllbHNlCi0JCQljcGF0aAorCWxldCBs
ZW4gPSBTdHJpbmcubGVuZ3RoIHBhdGggaW4KKworCWlmIGxlbiA9IDAgfHwg
bGVuID4gMTAyNCB0aGVuIHJhaXNlIERlZmluZS5JbnZhbGlkX3BhdGg7CisK
KwlsZXQgYWJzX3BhdGggPQorCQltYXRjaCBTdHJpbmcuZ2V0IHBhdGggMCB3
aXRoCisJCXwgJy8nIHwgJ0AnIC0+IHBhdGgKKwkJfCBfICAgLT4gY29ubmVj
dGlvbl9wYXRoIF4gcGF0aAorCWluCiAKKwlhYnNfcGF0aApkaWZmIC0tZ2l0
IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbCBiL3Rvb2xz
L29jYW1sL3hlbnN0b3JlZC94ZW5zdG9yZWQubWwKaW5kZXggNDlmYzE4YmYx
OS4uMzJjM2IxYzBmMSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL3hlbnN0b3JlZC5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQv
eGVuc3RvcmVkLm1sCkBAIC0yODcsNiArMjg3LDggQEAgbGV0IF8gPQogCWxl
dCBxdWl0ID0gcmVmIGZhbHNlIGluCiAKIAlMb2dnaW5nLmluaXRfeGVuc3Rv
cmVkX2xvZygpOworCUxpc3QuaXRlciAoZnVuIHBhdGggLT4KKwkJU3RvcmUu
d3JpdGUgc3RvcmUgUGVybXMuQ29ubmVjdGlvbi5mdWxsX3JpZ2h0cyBwYXRo
ICIiKSBTdG9yZS5QYXRoLnNwZWNpYWxzOwogCiAJbGV0IGZpbGVuYW1lID0g
UGF0aHMueGVuX3J1bl9zdG9yZWQgXiAiL2RiIiBpbgogCWlmIGNmLnJlc3Rh
cnQgJiYgU3lzLmZpbGVfZXhpc3RzIGZpbGVuYW1lIHRoZW4gKApAQCAtMzM5
LDcgKzM0MSw3IEBAIGxldCBfID0KIAkJCQkJbGV0IChub3RpZnksIGRlYWRk
b20pID0gRG9tYWlucy5jbGVhbnVwIGRvbWFpbnMgaW4KIAkJCQkJTGlzdC5p
dGVyIChDb25uZWN0aW9ucy5kZWxfZG9tYWluIGNvbnMpIGRlYWRkb207CiAJ
CQkJCWlmIGRlYWRkb20gPD4gW10gfHwgbm90aWZ5IHRoZW4KLQkJCQkJCUNv
bm5lY3Rpb25zLmZpcmVfc3BlY193YXRjaGVzIGNvbnMgIkByZWxlYXNlRG9t
YWluIgorCQkJCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29u
cyBTdG9yZS5QYXRoLnJlbGVhc2VfZG9tYWluCiAJCQkJKQogCQkJCWVsc2UK
IAkJCQkJbGV0IGMgPSBDb25uZWN0aW9ucy5maW5kX2RvbWFpbl9ieV9wb3J0
IGNvbnMgcG9ydCBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2RlcyB3aXRob3V0
IGFjY2VzcwpNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVG9kYXkgd2F0Y2ggZXZlbnRzIGFyZSBzZW50IHJlZ2FyZGxl
c3Mgb2YgdGhlIGFjY2VzcyByaWdodHMgb2YgdGhlCm5vZGUgdGhlIGV2ZW50
IGlzIHNlbnQgZm9yLiBUaGlzIGVuYWJsZXMgYW55IGd1ZXN0IHRvIGUuZy4g
c2V0dXAgYQp3YXRjaCBmb3IgIi8iIGluIG9yZGVyIHRvIGhhdmUgYSBkZXRh
aWxlZCByZWNvcmQgb2YgYWxsIFhlbnN0b3JlCm1vZGlmaWNhdGlvbnMuCgpN
b2RpZnkgdGhhdCBieSBzZW5kaW5nIG9ubHkgd2F0Y2ggZXZlbnRzIGZvciBu
b2RlcyB0aGF0IHRoZSB3YXRjaGVyCmhhcyBhIGNoYW5jZSB0byBzZWUgb3Ro
ZXJ3aXNlIChlaXRoZXIgdmlhIGRpcmVjdCByZWFkcyBvciBieSBxdWVyeWlu
Zwp0aGUgY2hpbGRyZW4gb2YgYSBub2RlKS4gVGhpcyBpbmNsdWRlcyBjYXNl
cyB3aGVyZSB0aGUgdmlzaWJpbGl0eSBvZgphIG5vZGUgZm9yIGEgd2F0Y2hl
ciBpcyBjaGFuZ2luZyAocGVybWlzc2lvbnMgYmVpbmcgcmVtb3ZlZCkuCgpQ
ZXJtaXNzaW9ucyBmb3Igbm9kZXMgYXJlIGxvb2tlZCB1cCBlaXRoZXIgaW4g
dGhlIG9sZCAocHJlCnRyYW5zYWN0aW9uL2NvbW1hbmQpIG9yIGN1cnJlbnQg
dHJlZXMgKHBvc3QgdHJhbnNhY3Rpb24pLiAgSWYKcGVybWlzc2lvbnMgYXJl
IGNoYW5nZWQgbXVsdGlwbGUgdGltZXMgaW4gYSB0cmFuc2FjdGlvbiBvbmx5
IHRoZSBmaW5hbAp2ZXJzaW9uIGlzIGNoZWNrZWQsIGJlY2F1c2UgY29uc2lk
ZXJpbmcgYSB0cmFuc2FjdGlvbiBhdG9taWMgdGhlCmluZGl2aWR1YWwgcGVy
bWlzc2lvbiBjaGFuZ2VzIHdvdWxkIG5vdCBiZSBub3RpY2FibGUgdG8gYW4g
b3V0c2lkZQpvYnNlcnZlci4KClR3byB0cmVlcyBhcmUgb25seSBuZWVkZWQg
Zm9yIHNldF9wZXJtczogaGVyZSB3ZSBjYW4gZWl0aGVyIG5vdGljZSB0aGUK
bm9kZSBkaXNhcHBlYXJpbmcgKGlmIHdlIGxvb3NlIHBlcm1pc3Npb24pLCBh
cHBlYXJpbmcKKGlmIHdlIGdhaW4gcGVybWlzc2lvbiksIG9yIGNoYW5naW5n
IChpZiB3ZSBwcmVzZXJ2ZSBwZXJtaXNzaW9uKS4KClJNIG5lZWRzIHRvIG9u
bHkgbG9vayBhdCB0aGUgb2xkIHRyZWU6IGluIHRoZSBuZXcgdHJlZSB0aGUg
bm9kZSB3b3VsZCBiZQpnb25lLCBvciBjb3VsZCBoYXZlIGRpZmZlcmVudCBw
ZXJtaXNzaW9ucyBpZiBpdCB3YXMgcmVjcmVhdGVkICh0aGUKcmVjcmVhdGlv
biB3b3VsZCBnZXQgaXRzIG93biB3YXRjaCBmaXJlZCkuCgpJbnNpZGUgYSB0
cmVlIHdlIGxvb2t1cCB0aGUgd2F0Y2ggcGF0aCdzIHBhcmVudCwgYW5kIHRo
ZW4gdGhlIHdhdGNoIHBhdGgKY2hpbGQgaXRzZWxmLiAgVGhpcyBnZXRzIHVz
IDQgc2V0cyBvZiBwZXJtaXNzaW9ucyBpbiB3b3JzdCBjYXNlLCBhbmQgaWYK
ZWl0aGVyIG9mIHRoZXNlIGFsbG93cyBhIHdhdGNoLCB0aGVuIHdlIHBlcm1p
dCBpdCB0byBmaXJlLiAgVGhlCnBlcm1pc3Npb24gbG9va3VwcyBhcmUgZG9u
ZSB3aXRob3V0IGxvZ2dpbmcgdGhlIGZhaWx1cmVzLCBvdGhlcndpc2Ugd2Un
ZApnZXQgY29uZnVzaW5nIGVycm9ycyBhYm91dCBwZXJtaXNzaW9uIGRlbmll
ZCBmb3Igc29tZSBwYXRocywgYnV0IGEgd2F0Y2gKc3RpbGwgZmlyaW5nLiBU
aGUgYWN0dWFsIHJlc3VsdCBpcyBsb2dnZWQgaW4geGVuc3RvcmVkLWFjY2Vz
cyBsb2c6CgogICd3IGV2ZW50IC4uLicgYXMgdXN1YWwgaWYgd2F0Y2ggd2Fz
IGZpcmVkCiAgJ3cgbm90ZmlyZWQuLi4nIGlmIHRoZSB3YXRjaCB3YXMgbm90
IGZpcmVkLCB0b2dldGhlciB3aXRoIHBhdGggYW5kCiAgcGVybWlzc2lvbiBz
ZXQgdG8gaGVscCBpbiB0cm91Ymxlc2hvb3RpbmcKCkFkZGluZyBhIHdhdGNo
IGJ5cGFzc2VzIHBlcm1pc3Npb24gY2hlY2tzIGFuZCBhbHdheXMgZmlyZXMg
dGhlIHdhdGNoCm9uY2UgaW1tZWRpYXRlbHkuIFRoaXMgaXMgY29uc2lzdGVu
dCB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLCBhbmQgbm8KaW5mb3JtYXRpb24g
aXMgZ2FpbmVkICh0aGUgd2F0Y2ggaXMgZmlyZWQgYm90aCBpZiB0aGUgcGF0
aCBleGlzdHMgb3IKZG9lc24ndCwgYW5kIGJvdGggaWYgeW91IGhhdmUgb3Ig
ZG9uJ3QgaGF2ZSBhY2Nlc3MsIGkuZS4gaXQgcmVmbGVjdHMgdGhlCnBhdGgg
YSBkb21haW4gZ2F2ZSBpdCBiYWNrIHRvIHRoYXQgZG9tYWluKS4KClRoZXJl
IGFyZSBzb21lIHNlbWFudGljIGNoYW5nZXMgaGVyZToKCiAgKiBXcml0ZSty
bSBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBvZiB0aGUgc2FtZSBwYXRoIGlz
IHVub2JzZXJ2YWJsZQogICAgbm93IHZpYSB3YXRjaGVzOiBib3RoIGJlZm9y
ZSBhbmQgYWZ0ZXIgYSB0cmFuc2FjdGlvbiB0aGUgcGF0aAogICAgZG9lc24n
dCBleGlzdCwgdGh1cyBib3RoIHRyZWUgbG9va3VwcyBjb21lIHVwIHdpdGgg
dGhlIGVtcHR5CiAgICBwZXJtaXNzaW9uIHNldCwgYW5kIG5vb25lLCBub3Qg
ZXZlbiBEb20wIGNhbiBzZWUgdGhpcy4gVGhpcyBpcwogICAgY29uc2lzdGVu
dCB3aXRoIHRyYW5zYWN0aW9uIGF0b21pY2l0eSB0aG91Z2guCiAgKiBTaW1p
bGFyIHRvIGFib3ZlIGlmIHdlIHRlbXBvcmFyaWx5IGdyYW50IGFuZCB0aGVu
IHJldm9rZSBwZXJtaXNzaW9uCiAgICBvbiBhIHBhdGggYW55IHdhdGNoZXMg
ZmlyZWQgaW5iZXR3ZWVuIGFyZSBpZ25vcmVkIGFzIHdlbGwKICAqIFRoZXJl
IGlzIGEgbmV3IGxvZyBldmVudCAodyBub3RmaXJlZCkgd2hpY2ggc2hvd3Mg
dGhlIHBlcm1pc3Npb24gc2V0CiAgICBvZiB0aGUgcGF0aCwgYW5kIHRoZSBw
YXRoLgogICogV2F0Y2hlcyBvbiBwYXRocyB0aGF0IGEgZG9tYWluIGRvZXNu
J3QgaGF2ZSBhY2Nlc3MgdG8gYXJlIG5vdyBub3QKICAgIHNlZW4sIHdoaWNo
IGlzIHRoZSBwdXJwb3NlIG9mIHRoZSBzZWN1cml0eSBmaXguCgpUaGlzIGlz
IHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLD
tmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3Rp
YW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmll
d2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXgu
Y29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25u
ZWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24u
bWwKaW5kZXggZDc0MzJjNjU5Ny4uMTM4OWQ5NzFjMiAxMDA2NDQKLS0tIGEv
dG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKQEAgLTE5NiwxMSAr
MTk2LDM2IEBAIGxldCBsaXN0X3dhdGNoZXMgY29uID0KIAkJY29uLndhdGNo
ZXMgW10gaW4KIAlMaXN0LmNvbmNhdCBsbAogCi1sZXQgZmlyZV9zaW5nbGVf
d2F0Y2ggd2F0Y2ggPQorbGV0IGRiZyBmbXQgPSBMb2dnaW5nLmRlYnVnICJj
b25uZWN0aW9uIiBmbXQKK2xldCBpbmZvIGZtdCA9IExvZ2dpbmcuaW5mbyAi
Y29ubmVjdGlvbiIgZm10CisKK2xldCBsb29rdXBfd2F0Y2hfcGVybSBwYXRo
ID0gZnVuY3Rpb24KK3wgTm9uZSAtPiBbXQorfCBTb21lIHJvb3QgLT4KKwl0
cnkgU3RvcmUuUGF0aC5hcHBseSByb290IHBhdGggQEAgZnVuIHBhcmVudCBu
YW1lIC0+CisJCVN0b3JlLk5vZGUuZ2V0X3Blcm1zIHBhcmVudCA6OgorCQl0
cnkgW1N0b3JlLk5vZGUuZ2V0X3Blcm1zIChTdG9yZS5Ob2RlLmZpbmQgcGFy
ZW50IG5hbWUpXQorCQl3aXRoIE5vdF9mb3VuZCAtPiBbXQorCXdpdGggRGVm
aW5lLkludmFsaWRfcGF0aCB8IE5vdF9mb3VuZCAtPiBbXQorCitsZXQgbG9v
a3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBwYXRoID0KKwlsb29rdXBf
d2F0Y2hfcGVybSBwYXRoIG9sZHJvb3QgQCBsb29rdXBfd2F0Y2hfcGVybSBw
YXRoIChTb21lIHJvb3QpCisKK2xldCBmaXJlX3NpbmdsZV93YXRjaF91bmNo
ZWNrZWQgd2F0Y2ggPQogCWxldCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxs
IFt3YXRjaC5wYXRoOyB3YXRjaC50b2tlbjsgIiJdIGluCiAJc2VuZF9yZXBs
eSB3YXRjaC5jb24gVHJhbnNhY3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5X
YXRjaGV2ZW50IGRhdGEKIAotbGV0IGZpcmVfd2F0Y2ggd2F0Y2ggcGF0aCA9
CitsZXQgZmlyZV9zaW5nbGVfd2F0Y2ggKG9sZHJvb3QsIHJvb3QpIHdhdGNo
ID0KKwlsZXQgYWJzcGF0aCA9IGdldF93YXRjaF9wYXRoIHdhdGNoLmNvbiB3
YXRjaC5wYXRoIHw+IFN0b3JlLlBhdGgub2Zfc3RyaW5nIGluCisJbGV0IHBl
cm1zID0gbG9va3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBhYnNwYXRo
IGluCisJaWYgTGlzdC5leGlzdHMgKFBlcm1zLmhhcyB3YXRjaC5jb24ucGVy
bSBSRUFEKSBwZXJtcyB0aGVuCisJCWZpcmVfc2luZ2xlX3dhdGNoX3VuY2hl
Y2tlZCB3YXRjaAorCWVsc2UKKwkJbGV0IHBlcm1zID0gcGVybXMgfD4gTGlz
dC5tYXAgKFBlcm1zLk5vZGUudG9fc3RyaW5nIH5zZXA6IiAiKSB8PiBTdHJp
bmcuY29uY2F0ICIsICIgaW4KKwkJbGV0IGNvbiA9IGdldF9kb21zdHIgd2F0
Y2guY29uIGluCisJCUxvZ2dpbmcud2F0Y2hfbm90X2ZpcmVkIH5jb24gcGVy
bXMgKFN0b3JlLlBhdGgudG9fc3RyaW5nIGFic3BhdGgpCisKK2xldCBmaXJl
X3dhdGNoIHJvb3RzIHdhdGNoIHBhdGggPQogCWxldCBuZXdfcGF0aCA9CiAJ
CWlmIHdhdGNoLmlzX3JlbGF0aXZlICYmIHBhdGguWzBdID0gJy8nCiAJCXRo
ZW4gYmVnaW4KQEAgLTIxMCw3ICsyMzUsNyBAQCBsZXQgZmlyZV93YXRjaCB3
YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWZpcmVf
c2luZ2xlX3dhdGNoIHsgd2F0Y2ggd2l0aCBwYXRoID0gbmV3X3BhdGggfQor
CWZpcmVfc2luZ2xlX3dhdGNoIHJvb3RzIHsgd2F0Y2ggd2l0aCBwYXRoID0g
bmV3X3BhdGggfQogCiAoKiBTZWFyY2ggZm9yIGEgdmFsaWQgdW51c2VkIHRy
YW5zYWN0aW9uIGlkLiAqKQogbGV0IHJlYyB2YWxpZF90cmFuc2FjdGlvbl9p
ZCBjb24gcHJvcG9zZWRfaWQgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwv
eGVuc3RvcmVkL2Nvbm5lY3Rpb25zLm1sIGIvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL2Nvbm5lY3Rpb25zLm1sCmluZGV4IGFlNzY5MjgxOWQuLjAyMGI4NzVk
Y2QgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0
aW9ucy5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlv
bnMubWwKQEAgLTEzNSwyNSArMTM1LDI2IEBAIGxldCBkZWxfd2F0Y2ggY29u
cyBjb24gcGF0aCB0b2tlbiA9CiAgCXdhdGNoCiAKICgqIHBhdGggaXMgYWJz
b2x1dGUgKikKLWxldCBmaXJlX3dhdGNoZXMgY29ucyBwYXRoIHJlY3Vyc2Ug
PQorbGV0IGZpcmVfd2F0Y2hlcyA/b2xkcm9vdCByb290IGNvbnMgcGF0aCBy
ZWN1cnNlID0KIAlsZXQga2V5ID0ga2V5X29mX3BhdGggcGF0aCBpbgogCWxl
dCBwYXRoID0gU3RvcmUuUGF0aC50b19zdHJpbmcgcGF0aCBpbgorCWxldCBy
b290cyA9IG9sZHJvb3QsIHJvb3QgaW4KIAlsZXQgZmlyZV93YXRjaCBfID0g
ZnVuY3Rpb24KIAkJfCBOb25lICAgICAgICAgLT4gKCkKLQkJfCBTb21lIHdh
dGNoZXMgLT4gTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZpcmVf
d2F0Y2ggdyBwYXRoKSB3YXRjaGVzCisJCXwgU29tZSB3YXRjaGVzIC0+IExp
c3QuaXRlciAoZnVuIHcgLT4gQ29ubmVjdGlvbi5maXJlX3dhdGNoIHJvb3Rz
IHcgcGF0aCkgd2F0Y2hlcwogCWluCiAJbGV0IGZpcmVfcmVjIHggPSBmdW5j
dGlvbgogCQl8IE5vbmUgICAgICAgICAtPiAoKQogCQl8IFNvbWUgd2F0Y2hl
cyAtPiAKLQkJCSAgTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZp
cmVfc2luZ2xlX3dhdGNoIHcpIHdhdGNoZXMKKwkJCUxpc3QuaXRlciAoQ29u
bmVjdGlvbi5maXJlX3NpbmdsZV93YXRjaCByb290cykgd2F0Y2hlcwogCWlu
CiAJVHJpZS5pdGVyX3BhdGggZmlyZV93YXRjaCBjb25zLndhdGNoZXMga2V5
OwogCWlmIHJlY3Vyc2UgdGhlbgogCQlUcmllLml0ZXIgZmlyZV9yZWMgKFRy
aWUuc3ViIGNvbnMud2F0Y2hlcyBrZXkpCiAKLWxldCBmaXJlX3NwZWNfd2F0
Y2hlcyBjb25zIHNwZWNwYXRoID0KK2xldCBmaXJlX3NwZWNfd2F0Y2hlcyBy
b290IGNvbnMgc3BlY3BhdGggPQogCWl0ZXIgY29ucyAoZnVuIGNvbiAtPgot
CQlMaXN0Lml0ZXIgKGZ1biB3IC0+IENvbm5lY3Rpb24uZmlyZV9zaW5nbGVf
d2F0Y2ggdykgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNwZWNwYXRo
KSkKKwkJTGlzdC5pdGVyIChDb25uZWN0aW9uLmZpcmVfc2luZ2xlX3dhdGNo
IChOb25lLCByb290KSkgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNw
ZWNwYXRoKSkKIAogbGV0IHNldF90YXJnZXQgY29ucyBkb21haW4gdGFyZ2V0
X2RvbWFpbiA9CiAJbGV0IGNvbiA9IGZpbmRfZG9tYWluIGNvbnMgZG9tYWlu
IGluCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvbG9nZ2lu
Zy5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCmluZGV4
IGVhNjAzMzE5NWQuLjk5YzdiYzVlMTMgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9sb2dnaW5nLm1sCkBAIC0xNjEsNiArMTYxLDggQEAgbGV0IHhl
bnN0b3JlZF9sb2dfbmJfbGluZXMgPSByZWYgMTMyMTUKIGxldCB4ZW5zdG9y
ZWRfbG9nX25iX2NoYXJzID0gcmVmICgtMSkKIGxldCB4ZW5zdG9yZWRfbG9n
Z2VyID0gcmVmIChOb25lOiBsb2dnZXIgb3B0aW9uKQogCitsZXQgZGVidWdf
ZW5hYmxlZCAoKSA9ICF4ZW5zdG9yZWRfbG9nX2xldmVsID0gRGVidWcKKwog
bGV0IHNldF94ZW5zdG9yZWRfbG9nX2Rlc3RpbmF0aW9uIHMgPQogCXhlbnN0
b3JlZF9sb2dfZGVzdGluYXRpb24gOj0gbG9nX2Rlc3RpbmF0aW9uX29mX3N0
cmluZyBzCiAKQEAgLTIwNCw2ICsyMDYsNyBAQCB0eXBlIGFjY2Vzc190eXBl
ID0KIAl8IENvbW1pdAogCXwgTmV3Y29ubgogCXwgRW5kY29ubgorCXwgV2F0
Y2hfbm90X2ZpcmVkCiAJfCBYYk9wIG9mIFhlbmJ1cy5YYi5PcC5vcGVyYXRp
b24KIAogbGV0IHN0cmluZ19vZl90aWQgfmNvbiB0aWQgPQpAQCAtMjE3LDYg
KzIyMCw3IEBAIGxldCBzdHJpbmdfb2ZfYWNjZXNzX3R5cGUgPSBmdW5jdGlv
bgogCXwgQ29tbWl0ICAgICAgICAgICAgICAgICAgLT4gImNvbW1pdCAgICIK
IAl8IE5ld2Nvbm4gICAgICAgICAgICAgICAgIC0+ICJuZXdjb25uICAiCiAJ
fCBFbmRjb25uICAgICAgICAgICAgICAgICAtPiAiZW5kY29ubiAgIgorCXwg
V2F0Y2hfbm90X2ZpcmVkICAgICAgICAgLT4gIncgbm90ZmlyZWQiCiAKIAl8
IFhiT3Agb3AgLT4gbWF0Y2ggb3Agd2l0aAogCXwgWGVuYnVzLlhiLk9wLkRl
YnVnICAgICAgICAgICAgIC0+ICJkZWJ1ZyAgICAiCkBAIC0zMzEsMyArMzM1
LDcgQEAgbGV0IHhiX2Fuc3dlciB+dGlkIH5jb24gfnR5IGRhdGEgPQogCQl8
IF8gLT4gZmFsc2UsIERlYnVnCiAJaW4KIAlpZiBwcmludCB0aGVuIGFjY2Vz
c19sb2dnaW5nIH50aWQgfmNvbiB+ZGF0YSAoWGJPcCB0eSkgfmxldmVsCisK
K2xldCB3YXRjaF9ub3RfZmlyZWQgfmNvbiBwZXJtcyBwYXRoID0KKwlsZXQg
ZGF0YSA9IFByaW50Zi5zcHJpbnRmICJFUEVSTSBwZXJtcz1bJXNdIHBhdGg9
JXMiIHBlcm1zIHBhdGggaW4KKwlhY2Nlc3NfbG9nZ2luZyB+dGlkOjAgfmNv
biB+ZGF0YSBXYXRjaF9ub3RfZmlyZWQgfmxldmVsOkluZm8KZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wZXJtcy5tbCBiL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9wZXJtcy5tbAppbmRleCAzZWExOTNlYTE0Li4yM2I4
MGFiYTNkIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Blcm1zLm1sCkBA
IC03OSw5ICs3OSw5IEBAIGxldCBvZl9zdHJpbmcgcyA9CiBsZXQgc3RyaW5n
X29mX3Blcm0gcGVybSA9CiAJUHJpbnRmLnNwcmludGYgIiVjJXUiIChjaGFy
X29mX3Blcm10eSAoc25kIHBlcm0pKSAoZnN0IHBlcm0pCiAKLWxldCB0b19z
dHJpbmcgcGVybXZlYyA9CitsZXQgdG9fc3RyaW5nID8oc2VwPSJcMDAwIikg
cGVybXZlYyA9CiAJbGV0IGwgPSAoKHBlcm12ZWMub3duZXIsIHBlcm12ZWMu
b3RoZXIpIDo6IHBlcm12ZWMuYWNsKSBpbgotCVN0cmluZy5jb25jYXQgIlww
MDAiIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQorCVN0cmluZy5jb25j
YXQgc2VwIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQogCiBlbmQKIApA
QCAtMTMyLDggKzEzMiw4IEBAIGxldCBjaGVja19vd25lciAoY29ubmVjdGlv
bjpDb25uZWN0aW9uLnQpIChub2RlOk5vZGUudCkgPQogCXRoZW4gQ29ubmVj
dGlvbi5pc19vd25lciBjb25uZWN0aW9uIChOb2RlLmdldF9vd25lciBub2Rl
KQogCWVsc2UgdHJ1ZQogCi0oKiBjaGVjayBpZiB0aGUgY3VycmVudCBjb25u
ZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1cnJlbnQg
bm9kZSAqKQotbGV0IGNoZWNrIChjb25uZWN0aW9uOkNvbm5lY3Rpb24udCkg
cmVxdWVzdCAobm9kZTpOb2RlLnQpID0KKygqIGNoZWNrIGlmIHRoZSBjdXJy
ZW50IGNvbm5lY3Rpb24gbGFja3MgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRo
ZSBjdXJyZW50IG5vZGUgKikKK2xldCBsYWNrcyAoY29ubmVjdGlvbjpDb25u
ZWN0aW9uLnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJbGV0IGNoZWNr
X2FjbCBkb21haW5pZCA9CiAJCWxldCBwZXJtID0KIAkJCWlmIExpc3QubWVt
X2Fzc29jIGRvbWFpbmlkIChOb2RlLmdldF9hY2wgbm9kZSkKQEAgLTE1NCwx
MSArMTU0LDE5IEBAIGxldCBjaGVjayAoY29ubmVjdGlvbjpDb25uZWN0aW9u
LnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJCQlpbmZvICJQZXJtaXNz
aW9uIGRlbmllZDogRG9tYWluICVkIGhhcyB3cml0ZSBvbmx5IGFjY2VzcyIg
ZG9tYWluaWQ7CiAJCQlmYWxzZQogCWluCi0JaWYgIWFjdGl2YXRlCisJIWFj
dGl2YXRlCiAJJiYgbm90IChDb25uZWN0aW9uLmlzX2RvbTAgY29ubmVjdGlv
bikKIAkmJiBub3QgKGNoZWNrX293bmVyIGNvbm5lY3Rpb24gbm9kZSkKIAkm
JiBub3QgKExpc3QuZXhpc3RzIGNoZWNrX2FjbCAoQ29ubmVjdGlvbi5nZXRf
b3duZXJzIGNvbm5lY3Rpb24pKQorCisoKiBjaGVjayBpZiB0aGUgY3VycmVu
dCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1
cnJlbnQgbm9kZS4KKyogIFJhaXNlcyBhbiBleGNlcHRpb24gaWYgaXQgZG9l
c24ndC4gKikKK2xldCBjaGVjayBjb25uZWN0aW9uIHJlcXVlc3Qgbm9kZSA9
CisJaWYgbGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUKIAl0aGVuIHJh
aXNlIERlZmluZS5QZXJtaXNzaW9uX2RlbmllZAogCisoKiBjaGVjayBpZiB0
aGUgY3VycmVudCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0g
b24gdGhlIGN1cnJlbnQgbm9kZSAqKQorbGV0IGhhcyBjb25uZWN0aW9uIHJl
cXVlc3Qgbm9kZSA9IG5vdCAobGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5v
ZGUpCisKIGxldCBlcXVpdiBwZXJtMSBwZXJtMiA9CiAJKE5vZGUudG9fc3Ry
aW5nIHBlcm0xKSA9IChOb2RlLnRvX3N0cmluZyBwZXJtMikKZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMv
b2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggYzNjOGVhMmY0Yi4u
M2NkMDA5N2RiOSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nl
c3MubWwKQEAgLTU2LDE1ICs1NiwxNyBAQCBsZXQgc3BsaXRfb25lX3BhdGgg
ZGF0YSBjb24gPQogCXwgcGF0aCA6OiAiIiA6OiBbXSAtPiBTdG9yZS5QYXRo
LmNyZWF0ZSBwYXRoIChDb25uZWN0aW9uLmdldF9wYXRoIGNvbikKIAl8IF8g
ICAgICAgICAgICAgICAgLT4gcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCi1s
ZXQgcHJvY2Vzc193YXRjaCBvcHMgY29ucyA9CitsZXQgcHJvY2Vzc193YXRj
aCB0IGNvbnMgPQorCWxldCBvbGRyb290ID0gdC5UcmFuc2FjdGlvbi5vbGRy
b290IGluCisJbGV0IG5ld3Jvb3QgPSBTdG9yZS5nZXRfcm9vdCB0LnN0b3Jl
IGluCisJbGV0IG9wcyA9IFRyYW5zYWN0aW9uLmdldF9wYXRocyB0IHw+IExp
c3QucmV2IGluCiAJbGV0IGRvX29wX3dhdGNoIG9wIGNvbnMgPQotCQlsZXQg
cmVjdXJzZSA9IG1hdGNoIChmc3Qgb3ApIHdpdGgKLQkJfCBYZW5idXMuWGIu
T3AuV3JpdGUgICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuTWtkaXIg
ICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuUm0gICAgICAgLT4gdHJ1
ZQotCQl8IFhlbmJ1cy5YYi5PcC5TZXRwZXJtcyAtPiBmYWxzZQorCQlsZXQg
cmVjdXJzZSwgb2xkcm9vdCwgcm9vdCA9IG1hdGNoIChmc3Qgb3ApIHdpdGgK
KwkJfCBYZW5idXMuWGIuT3AuV3JpdGV8WGVuYnVzLlhiLk9wLk1rZGlyIC0+
IGZhbHNlLCBOb25lLCBuZXdyb290CisJCXwgWGVuYnVzLlhiLk9wLlJtICAg
ICAgIC0+IHRydWUsIE5vbmUsIG9sZHJvb3QKKwkJfCBYZW5idXMuWGIuT3Au
U2V0cGVybXMgLT4gZmFsc2UsIFNvbWUgb2xkcm9vdCwgbmV3cm9vdAogCQl8
IF8gICAgICAgICAgICAgIC0+IHJhaXNlIChGYWlsdXJlICJodWggPyIpIGlu
Ci0JCUNvbm5lY3Rpb25zLmZpcmVfd2F0Y2hlcyBjb25zIChzbmQgb3ApIHJl
Y3Vyc2UgaW4KKwkJQ29ubmVjdGlvbnMuZmlyZV93YXRjaGVzID9vbGRyb290
IHJvb3QgY29ucyAoc25kIG9wKSByZWN1cnNlIGluCiAJTGlzdC5pdGVyIChm
dW4gb3AgLT4gZG9fb3Bfd2F0Y2ggb3AgY29ucykgb3BzCiAKIGxldCBjcmVh
dGVfaW1wbGljaXRfcGF0aCB0IHBlcm0gcGF0aCA9CkBAIC0yMDUsNyArMjA3
LDcgQEAgbGV0IHJlcGx5X2FjayBmY3QgY29uIHQgZG9tcyBjb25zIGRhdGEg
PQogCWZjdCBjb24gdCBkb21zIGNvbnMgZGF0YTsKIAlQYWNrZXQuQWNrIChm
dW4gKCkgLT4KIAkJaWYgVHJhbnNhY3Rpb24uZ2V0X2lkIHQgPSBUcmFuc2Fj
dGlvbi5ub25lIHRoZW4KLQkJCXByb2Nlc3Nfd2F0Y2ggKFRyYW5zYWN0aW9u
LmdldF9wYXRocyB0KSBjb25zCisJCQlwcm9jZXNzX3dhdGNoIHQgY29ucwog
CSkKIAogbGV0IHJlcGx5X2RhdGEgZmN0IGNvbiB0IGRvbXMgY29ucyBkYXRh
ID0KQEAgLTM1MywxNCArMzU1LDE3IEBAIGxldCB0cmFuc2FjdGlvbl9yZXBs
YXkgYyB0IGRvbXMgY29ucyA9CiAJCQlDb25uZWN0aW9uLmVuZF90cmFuc2Fj
dGlvbiBjIHRpZCBOb25lCiAJCSkKIAotbGV0IGRvX3dhdGNoIGNvbiB0IGRv
bWFpbnMgY29ucyBkYXRhID0KK2xldCBkb193YXRjaCBjb24gdCBfZG9tYWlu
cyBjb25zIGRhdGEgPQogCWxldCAobm9kZSwgdG9rZW4pID0gCiAJCW1hdGNo
IChzcGxpdCBOb25lICdcMDAwJyBkYXRhKSB3aXRoCiAJCXwgW25vZGU7IHRv
a2VuOyAiIl0gICAtPiBub2RlLCB0b2tlbgogCQl8IF8gICAgICAgICAgICAg
ICAgICAgLT4gcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCQlpbgogCWxldCB3
YXRjaCA9IENvbm5lY3Rpb25zLmFkZF93YXRjaCBjb25zIGNvbiBub2RlIHRv
a2VuIGluCi0JUGFja2V0LkFjayAoZnVuICgpIC0+IENvbm5lY3Rpb24uZmly
ZV9zaW5nbGVfd2F0Y2ggd2F0Y2gpCisJUGFja2V0LkFjayAoZnVuICgpIC0+
CisJCSgqIHhlbnN0b3JlLnR4dCBzYXlzIHRoaXMgd2F0Y2ggaXMgZmlyZWQg
aW1tZWRpYXRlbHksCisJCSAgIGltcGx5aW5nIGV2ZW4gaWYgcGF0aCBkb2Vz
bid0IGV4aXN0IG9yIGlzIHVucmVhZGFibGUgKikKKwkJQ29ubmVjdGlvbi5m
aXJlX3NpbmdsZV93YXRjaF91bmNoZWNrZWQgd2F0Y2gpCiAKIGxldCBkb191
bndhdGNoIGNvbiB0IGRvbWFpbnMgY29ucyBkYXRhID0KIAlsZXQgKG5vZGUs
IHRva2VuKSA9CkBAIC0zOTEsNyArMzk2LDcgQEAgbGV0IGRvX3RyYW5zYWN0
aW9uX2VuZCBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJaWYgbm90IHN1
Y2Nlc3MgdGhlbgogCQlyYWlzZSBUcmFuc2FjdGlvbl9hZ2FpbjsKIAlpZiBj
b21taXQgdGhlbiBiZWdpbgotCQlwcm9jZXNzX3dhdGNoIChMaXN0LnJldiAo
VHJhbnNhY3Rpb24uZ2V0X3BhdGhzIHQpKSBjb25zOworCQlwcm9jZXNzX3dh
dGNoIHQgY29uczsKIAkJbWF0Y2ggdC5UcmFuc2FjdGlvbi50eSB3aXRoCiAJ
CXwgVHJhbnNhY3Rpb24uTm8gLT4KIAkJCSgpICgqIG5vIG5lZWQgdG8gcmVj
b3JkIGFueXRoaW5nICopCkBAIC00MTQsNyArNDE5LDcgQEAgbGV0IGRvX2lu
dHJvZHVjZSBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJCWVsc2UgdHJ5
CiAJCQlsZXQgbmRvbSA9IERvbWFpbnMuY3JlYXRlIGRvbWFpbnMgZG9taWQg
bWZuIHBvcnQgaW4KIAkJCUNvbm5lY3Rpb25zLmFkZF9kb21haW4gY29ucyBu
ZG9tOwotCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBT
dG9yZS5QYXRoLmludHJvZHVjZV9kb21haW47CisJCQlDb25uZWN0aW9ucy5m
aXJlX3NwZWNfd2F0Y2hlcyAoVHJhbnNhY3Rpb24uZ2V0X3Jvb3QgdCkgY29u
cyBTdG9yZS5QYXRoLmludHJvZHVjZV9kb21haW47CiAJCQluZG9tCiAJCXdp
dGggXyAtPiByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAJaW4KQEAgLTQzMyw3
ICs0MzgsNyBAQCBsZXQgZG9fcmVsZWFzZSBjb24gdCBkb21haW5zIGNvbnMg
ZGF0YSA9CiAJRG9tYWlucy5kZWwgZG9tYWlucyBkb21pZDsKIAlDb25uZWN0
aW9ucy5kZWxfZG9tYWluIGNvbnMgZG9taWQ7CiAJaWYgZmlyZV9zcGVjX3dh
dGNoZXMgCi0JdGhlbiBDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0Y2hlcyBj
b25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KKwl0aGVuIENvbm5lY3Rp
b25zLmZpcmVfc3BlY193YXRjaGVzIChUcmFuc2FjdGlvbi5nZXRfcm9vdCB0
KSBjb25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KIAllbHNlIHJhaXNl
IEludmFsaWRfQ21kX0FyZ3MKIAogbGV0IGRvX3Jlc3VtZSBjb24gdCBkb21h
aW5zIGNvbnMgZGF0YSA9CkBAIC01MDEsNiArNTA2LDggQEAgbGV0IG1heWJl
X2lnbm9yZV90cmFuc2FjdGlvbiA9IGZ1bmN0aW9uCiAJCVRyYW5zYWN0aW9u
Lm5vbmUKIAl8IF8gLT4gZnVuIHggLT4geAogCisKK2xldCAoKSA9IFByaW50
ZXhjLnJlY29yZF9iYWNrdHJhY2UgdHJ1ZQogKCoqCiAgKiBOb3Rocm93IGd1
YXJhbnRlZS4KICAqKQpAQCAtNTQyLDcgKzU0OSw4IEBAIGxldCBwcm9jZXNz
X3BhY2tldCB+c3RvcmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAkJKCog
UHV0IHRoZSByZXNwb25zZSBvbiB0aGUgd2lyZSAqKQogCQlzZW5kX3Jlc3Bv
bnNlIHR5IGNvbiB0IHJpZCByZXNwb25zZQogCXdpdGggZXhuIC0+Ci0JCWVy
cm9yICJwcm9jZXNzIHBhY2tldDogJXMiIChQcmludGV4Yy50b19zdHJpbmcg
ZXhuKTsKKwkJbGV0IGJ0ID0gUHJpbnRleGMuZ2V0X2JhY2t0cmFjZSAoKSBp
bgorCQllcnJvciAicHJvY2VzcyBwYWNrZXQ6ICVzLiAlcyIgKFByaW50ZXhj
LnRvX3N0cmluZyBleG4pIGJ0OwogCQlDb25uZWN0aW9uLnNlbmRfZXJyb3Ig
Y29uIHRpZCByaWQgIkVJTyIKIAogbGV0IGRvX2lucHV0IHN0b3JlIGNvbnMg
ZG9tcyBjb24gPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L3RyYW5zYWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3RyYW5z
YWN0aW9uLm1sCmluZGV4IDIzZTdjY2ZmMWIuLjllOWUyOGRiOWIgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC90cmFuc2FjdGlvbi5tbAor
KysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvdHJhbnNhY3Rpb24ubWwKQEAg
LTgyLDYgKzgyLDcgQEAgdHlwZSB0ID0gewogCXN0YXJ0X2NvdW50OiBpbnQ2
NDsKIAlzdG9yZTogU3RvcmUudDsgKCogVGhpcyBpcyB0aGUgc3RvcmUgdGhh
dCB3ZSBjaGFuZ2UgaW4gd3JpdGUgb3BlcmF0aW9ucy4gKikKIAlxdW90YTog
UXVvdGEudDsKKwlvbGRyb290OiBTdG9yZS5Ob2RlLnQ7CiAJbXV0YWJsZSBw
YXRoczogKFhlbmJ1cy5YYi5PcC5vcGVyYXRpb24gKiBTdG9yZS5QYXRoLnQp
IGxpc3Q7CiAJbXV0YWJsZSBvcGVyYXRpb25zOiAoUGFja2V0LnJlcXVlc3Qg
KiBQYWNrZXQucmVzcG9uc2UpIGxpc3Q7CiAJbXV0YWJsZSByZWFkX2xvd3Bh
dGg6IFN0b3JlLlBhdGgudCBvcHRpb247CkBAIC0xMjMsNiArMTI0LDcgQEAg
bGV0IG1ha2UgPyhpbnRlcm5hbD1mYWxzZSkgaWQgc3RvcmUgPQogCQlzdGFy
dF9jb3VudCA9ICFjb3VudGVyOwogCQlzdG9yZSA9IGlmIGlkID0gbm9uZSB0
aGVuIHN0b3JlIGVsc2UgU3RvcmUuY29weSBzdG9yZTsKIAkJcXVvdGEgPSBR
dW90YS5jb3B5IHN0b3JlLlN0b3JlLnF1b3RhOworCQlvbGRyb290ID0gU3Rv
cmUuZ2V0X3Jvb3Qgc3RvcmU7CiAJCXBhdGhzID0gW107CiAJCW9wZXJhdGlv
bnMgPSBbXTsKIAkJcmVhZF9sb3dwYXRoID0gTm9uZTsKQEAgLTEzNyw2ICsx
MzksOCBAQCBsZXQgbWFrZSA/KGludGVybmFsPWZhbHNlKSBpZCBzdG9yZSA9
CiBsZXQgZ2V0X3N0b3JlIHQgPSB0LnN0b3JlCiBsZXQgZ2V0X3BhdGhzIHQg
PSB0LnBhdGhzCiAKK2xldCBnZXRfcm9vdCB0ID0gU3RvcmUuZ2V0X3Jvb3Qg
dC5zdG9yZQorCiBsZXQgaXNfcmVhZF9vbmx5IHQgPSB0LnBhdGhzID0gW10K
IGxldCBhZGRfd29wIHQgdHkgcGF0aCA9IHQucGF0aHMgPC0gKHR5LCBwYXRo
KSA6OiB0LnBhdGhzCiBsZXQgYWRkX29wZXJhdGlvbiB+cGVybSB0IHJlcXVl
c3QgcmVzcG9uc2UgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL3hlbnN0b3JlZC5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC94ZW5z
dG9yZWQubWwKaW5kZXggMzJjM2IxYzBmMS4uZTlmNDcxODQ2ZiAxMDA2NDQK
LS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAorKysg
Yi90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCkBAIC0zNDEs
NyArMzQxLDkgQEAgbGV0IF8gPQogCQkJCQlsZXQgKG5vdGlmeSwgZGVhZGRv
bSkgPSBEb21haW5zLmNsZWFudXAgZG9tYWlucyBpbgogCQkJCQlMaXN0Lml0
ZXIgKENvbm5lY3Rpb25zLmRlbF9kb21haW4gY29ucykgZGVhZGRvbTsKIAkJ
CQkJaWYgZGVhZGRvbSA8PiBbXSB8fCBub3RpZnkgdGhlbgotCQkJCQkJQ29u
bmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9yZS5QYXRoLnJl
bGVhc2VfZG9tYWluCisJCQkJCQlDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0
Y2hlcworCQkJCQkJCShTdG9yZS5nZXRfcm9vdCBzdG9yZSkKKwkJCQkJCQlj
b25zIFN0b3JlLlBhdGgucmVsZWFzZV9kb21haW4KIAkJCQkpCiAJCQkJZWxz
ZQogCQkJCQlsZXQgYyA9IENvbm5lY3Rpb25zLmZpbmRfZG9tYWluX2J5X3Bv
cnQgY29ucyBwb3J0IGluCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.11-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Disposition: attachment;
 filename="xsa115-4.11-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYWRkIHhlbnN0b3JlZC5jb25mIGZsYWcgdG8gdHVybiBvZmYg
d2F0Y2gKIHBlcm1pc3Npb24gY2hlY2tzCk1JTUUtVmVyc2lvbjogMS4wCkNv
bnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250ZW50
LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGVyZSBhcmUgZmxhZ3MgdG8g
dHVybiBvZmYgcXVvdGFzIGFuZCB0aGUgcGVybWlzc2lvbiBzeXN0ZW0sIHNv
IGFkZCBvbmUKdGhhdCB0dXJucyBvZmYgdGhlIG5ld2x5IGludHJvZHVjZWQg
d2F0Y2ggcGVybWlzc2lvbiBjaGVja3MgYXMgd2VsbC4KClRoaXMgaXMgcGFy
dCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogRWR3aW4gVMO2csO2ayA8
ZWR2aW4udG9yb2tAY2l0cml4LmNvbT4KQWNrZWQtYnk6IENocmlzdGlhbiBM
aW5kaWcgPGNocmlzdGlhbi5saW5kaWdAY2l0cml4LmNvbT4KUmV2aWV3ZWQt
Ynk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+
CgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rp
b24ubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApp
bmRleCAxMzg5ZDk3MWMyLi42OThmNzIxMzQ1IDEwMDY0NAotLS0gYS90b29s
cy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbAorKysgYi90b29scy9v
Y2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApAQCAtMjE4LDcgKzIxOCw3
IEBAIGxldCBmaXJlX3NpbmdsZV93YXRjaF91bmNoZWNrZWQgd2F0Y2ggPQog
bGV0IGZpcmVfc2luZ2xlX3dhdGNoIChvbGRyb290LCByb290KSB3YXRjaCA9
CiAJbGV0IGFic3BhdGggPSBnZXRfd2F0Y2hfcGF0aCB3YXRjaC5jb24gd2F0
Y2gucGF0aCB8PiBTdG9yZS5QYXRoLm9mX3N0cmluZyBpbgogCWxldCBwZXJt
cyA9IGxvb2t1cF93YXRjaF9wZXJtcyBvbGRyb290IHJvb3QgYWJzcGF0aCBp
bgotCWlmIExpc3QuZXhpc3RzIChQZXJtcy5oYXMgd2F0Y2guY29uLnBlcm0g
UkVBRCkgcGVybXMgdGhlbgorCWlmIFBlcm1zLmNhbl9maXJlX3dhdGNoIHdh
dGNoLmNvbi5wZXJtIHBlcm1zIHRoZW4KIAkJZmlyZV9zaW5nbGVfd2F0Y2hf
dW5jaGVja2VkIHdhdGNoCiAJZWxzZQogCQlsZXQgcGVybXMgPSBwZXJtcyB8
PiBMaXN0Lm1hcCAoUGVybXMuTm9kZS50b19zdHJpbmcgfnNlcDoiICIpIHw+
IFN0cmluZy5jb25jYXQgIiwgIiBpbgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL294ZW5zdG9yZWQuY29uZi5pbiBiL3Rvb2xzL29jYW1s
L3hlbnN0b3JlZC9veGVuc3RvcmVkLmNvbmYuaW4KaW5kZXggNjU3OWI4NDQ0
OC4uZDVkNGYwMGRlOCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL294ZW5zdG9yZWQuY29uZi5pbgorKysgYi90b29scy9vY2FtbC94ZW5z
dG9yZWQvb3hlbnN0b3JlZC5jb25mLmluCkBAIC00NCw2ICs0NCwxNiBAQCBj
b25mbGljdC1yYXRlLWxpbWl0LWlzLWFnZ3JlZ2F0ZSA9IHRydWUKICMgQWN0
aXZhdGUgbm9kZSBwZXJtaXNzaW9uIHN5c3RlbQogcGVybXMtYWN0aXZhdGUg
PSB0cnVlCiAKKyMgQWN0aXZhdGUgdGhlIHdhdGNoIHBlcm1pc3Npb24gc3lz
dGVtCisjIFdoZW4gdGhpcyBpcyBlbmFibGVkIHVucHJpdmlsZWdlZCBndWVz
dHMgY2FuIG9ubHkgZ2V0IHdhdGNoIGV2ZW50cworIyBmb3IgeGVuc3RvcmUg
ZW50cmllcyB0aGF0IHRoZXkgd291bGQndmUgYmVlbiBhYmxlIHRvIHJlYWQu
CisjCisjIFdoZW4gdGhpcyBpcyBkaXNhYmxlZCB1bnByaXZpbGVnZWQgZ3Vl
c3RzIG1heSBnZXQgd2F0Y2ggZXZlbnRzCisjIGZvciB4ZW5zdG9yZSBlbnRy
aWVzIHRoYXQgdGhleSBjYW5ub3QgcmVhZC4gVGhlIHdhdGNoIGV2ZW50IGNv
bnRhaW5zCisjIG9ubHkgdGhlIGVudHJ5IG5hbWUsIG5vdCB0aGUgdmFsdWUu
CisjIFRoaXMgcmVzdG9yZXMgYmVoYXZpb3VyIHByaW9yIHRvIFhTQS0xMTUu
CitwZXJtcy13YXRjaC1hY3RpdmF0ZSA9IHRydWUKKwogIyBBY3RpdmF0ZSBx
dW90YQogcXVvdGEtYWN0aXZhdGUgPSB0cnVlCiBxdW90YS1tYXhlbnRpdHkg
PSAxMDAwCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVybXMubWwKaW5kZXgg
MjNiODBhYmEzZC4uZWU3ZmVlNmJkYSAxMDA2NDQKLS0tIGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Blcm1zLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0
b3JlZC9wZXJtcy5tbApAQCAtMjAsNiArMjAsNyBAQCBsZXQgaW5mbyBmbXQg
PSBMb2dnaW5nLmluZm8gInBlcm1zIiBmbXQKIG9wZW4gU3RkZXh0CiAKIGxl
dCBhY3RpdmF0ZSA9IHJlZiB0cnVlCitsZXQgd2F0Y2hfYWN0aXZhdGUgPSBy
ZWYgdHJ1ZQogCiB0eXBlIHBlcm10eSA9IFJFQUQgfCBXUklURSB8IFJEV1Ig
fCBOT05FCiAKQEAgLTE2OCw1ICsxNjksOSBAQCBsZXQgY2hlY2sgY29ubmVj
dGlvbiByZXF1ZXN0IG5vZGUgPQogKCogY2hlY2sgaWYgdGhlIGN1cnJlbnQg
Y29ubmVjdGlvbiBoYXMgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRoZSBjdXJy
ZW50IG5vZGUgKikKIGxldCBoYXMgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUg
PSBub3QgKGxhY2tzIGNvbm5lY3Rpb24gcmVxdWVzdCBub2RlKQogCitsZXQg
Y2FuX2ZpcmVfd2F0Y2ggY29ubmVjdGlvbiBwZXJtcyA9CisJbm90ICF3YXRj
aF9hY3RpdmF0ZQorCXx8IExpc3QuZXhpc3RzIChoYXMgY29ubmVjdGlvbiBS
RUFEKSBwZXJtcworCiBsZXQgZXF1aXYgcGVybTEgcGVybTIgPQogCShOb2Rl
LnRvX3N0cmluZyBwZXJtMSkgPSAoTm9kZS50b19zdHJpbmcgcGVybTIpCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1s
IGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAppbmRleCBl
OWY0NzE4NDZmLi4zMGZjODc0MzI3IDEwMDY0NAotLS0gYS90b29scy9vY2Ft
bC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC94ZW5zdG9yZWQubWwKQEAgLTk1LDYgKzk1LDcgQEAgbGV0IHBh
cnNlX2NvbmZpZyBmaWxlbmFtZSA9CiAJCSgiY29uZmxpY3QtbWF4LWhpc3Rv
cnktc2Vjb25kcyIsIENvbmZpZy5TZXRfZmxvYXQgRGVmaW5lLmNvbmZsaWN0
X21heF9oaXN0b3J5X3NlY29uZHMpOwogCQkoImNvbmZsaWN0LXJhdGUtbGlt
aXQtaXMtYWdncmVnYXRlIiwgQ29uZmlnLlNldF9ib29sIERlZmluZS5jb25m
bGljdF9yYXRlX2xpbWl0X2lzX2FnZ3JlZ2F0ZSk7CiAJCSgicGVybXMtYWN0
aXZhdGUiLCBDb25maWcuU2V0X2Jvb2wgUGVybXMuYWN0aXZhdGUpOworCQko
InBlcm1zLXdhdGNoLWFjdGl2YXRlIiwgQ29uZmlnLlNldF9ib29sIFBlcm1z
LndhdGNoX2FjdGl2YXRlKTsKIAkJKCJxdW90YS1hY3RpdmF0ZSIsIENvbmZp
Zy5TZXRfYm9vbCBRdW90YS5hY3RpdmF0ZSk7CiAJCSgicXVvdGEtbWF4d2F0
Y2giLCBDb25maWcuU2V0X2ludCBEZWZpbmUubWF4d2F0Y2gpOwogCQkoInF1
b3RhLXRyYW5zYWN0aW9uIiwgQ29uZmlnLlNldF9pbnQgRGVmaW5lLm1heHRy
YW5zYWN0aW9uKTsK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Transfer-Encoding: base64

RnJvbSBlOTJmM2RmZWFhZTIxYTMzNWU2NjZjOTI0Nzk1NDQyNGUzNGU1YzU2
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzcgKzAyMDAKU3ViamVjdDogW1BBVENIIDAxLzEwXSB0b29scy94ZW5z
dG9yZTogYWxsb3cgcmVtb3ZpbmcgY2hpbGQgb2YgYSBub2RlCiBleGNlZWRp
bmcgcXVvdGEKCkFuIHVucHJpdmlsZWdlZCB1c2VyIG9mIFhlbnN0b3JlIGlz
IG5vdCBhbGxvd2VkIHRvIHdyaXRlIG5vZGVzIHdpdGggYQpzaXplIGV4Y2Vl
ZGluZyBhIGdsb2JhbCBxdW90YSwgd2hpbGUgcHJpdmlsZWdlZCB1c2VycyBs
aWtlIGRvbTAgYXJlCmFsbG93ZWQgdG8gd3JpdGUgc3VjaCBub2Rlcy4gVGhl
IHNpemUgb2YgYSBub2RlIGlzIHRoZSBuZWVkZWQgc3BhY2UKdG8gc3RvcmUg
YWxsIG5vZGUgc3BlY2lmaWMgZGF0YSwgdGhpcyBpbmNsdWRlcyB0aGUgbmFt
ZXMgb2YgYWxsCmNoaWxkcmVuIG9mIHRoZSBub2RlLgoKV2hlbiBkZWxldGlu
ZyBhIG5vZGUgaXRzIHBhcmVudCBoYXMgdG8gYmUgbW9kaWZpZWQgYnkgcmVt
b3ZpbmcgdGhlCm5hbWUgb2YgdGhlIHRvIGJlIGRlbGV0ZWQgY2hpbGQgZnJv
bSBpdC4KClRoaXMgcmVzdWx0cyBpbiB0aGUgc3RyYW5nZSBzaXR1YXRpb24g
dGhhdCBhbiB1bnByaXZpbGVnZWQgb3duZXIgb2YgYQpub2RlIG1pZ2h0IG5v
dCBzdWNjZWVkIGluIGRlbGV0aW5nIHRoYXQgbm9kZSBpbiBjYXNlIGl0cyBw
YXJlbnQgaXMKZXhjZWVkaW5nIHRoZSBxdW90YSBvZiB0aGF0IHVucHJpdmls
ZWdlZCB1c2VyIChpdCBtaWdodCBoYXZlIGJlZW4Kd3JpdHRlbiBieSBkb20w
KSwgYXMgdGhlIHVzZXIgaXMgbm90IGFsbG93ZWQgdG8gd3JpdGUgdGhlIHVw
ZGF0ZWQKcGFyZW50IG5vZGUuCgpGaXggdGhhdCBieSBub3QgY2hlY2tpbmcg
dGhlIHF1b3RhIHdoZW4gd3JpdGluZyBhIG5vZGUgZm9yIHRoZQpwdXJwb3Nl
IG9mIHJlbW92aW5nIGEgY2hpbGQncyBuYW1lIG9ubHkuCgpUaGUgc2FtZSBh
cHBsaWVzIHRvIHRyYW5zYWN0aW9uIGhhbmRsaW5nOiBhIG5vZGUgYmVpbmcg
cmVhZCBkdXJpbmcgYQp0cmFuc2FjdGlvbiBpcyB3cml0dGVuIHRvIHRoZSB0
cmFuc2FjdGlvbiBzcGVjaWZpYyBhcmVhIGFuZCBpdCBzaG91bGQKbm90IGJl
IHRlc3RlZCBmb3IgZXhjZWVkaW5nIHRoZSBxdW90YSwgYXMgaXQgbWlnaHQg
bm90IGJlIG93bmVkIGJ5CnRoZSByZWFkZXIgYW5kIHByZXN1bWFibHkgdGhl
IG9yaWdpbmFsIHdyaXRlIHdvdWxkIGhhdmUgZmFpbGVkIGlmIHRoZQpub2Rl
IGlzIG93bmVkIGJ5IHRoZSByZWFkZXIuCgpUaGlzIGlzIHBhcnQgb2YgWFNB
LTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0Bz
dXNlLmNvbT4KUmV2aWV3ZWQtYnk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFt
YXpvbi5jb20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVu
Lm9yZz4KLS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jICAg
ICAgICB8IDIwICsrKysrKysrKysrLS0tLS0tLS0tCiB0b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfY29yZS5oICAgICAgICB8ICAzICsrLQogdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMgfCAgMiArLQogMyBmaWxl
cyBjaGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5j
IGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA5N2Nl
YWJmOTY0MmQuLmI0M2UxMDE4YmFiZCAxMDA2NDQKLS0tIGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5jCkBAIC00MTcsNyArNDE3LDggQEAgc3RhdGljIHN0
cnVjdCBub2RlICpyZWFkX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IGNvbnN0IHZvaWQgKmN0eCwKIAlyZXR1cm4gbm9kZTsKIH0KIAotaW50IHdy
aXRlX25vZGVfcmF3KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBUREJfREFU
QSAqa2V5LCBzdHJ1Y3Qgbm9kZSAqbm9kZSkKK2ludCB3cml0ZV9ub2RlX3Jh
dyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgVERCX0RBVEEgKmtleSwgc3Ry
dWN0IG5vZGUgKm5vZGUsCisJCSAgIGJvb2wgbm9fcXVvdGFfY2hlY2spCiB7
CiAJVERCX0RBVEEgZGF0YTsKIAl2b2lkICpwOwpAQCAtNDI3LDcgKzQyOCw3
IEBAIGludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUpCiAJCSsgbm9k
ZS0+bnVtX3Blcm1zKnNpemVvZihub2RlLT5wZXJtc1swXSkKIAkJKyBub2Rl
LT5kYXRhbGVuICsgbm9kZS0+Y2hpbGRsZW47CiAKLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSAmJgorCWlmICghbm9fcXVvdGFfY2hlY2sg
JiYgZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25uKSAmJgogCSAgICBkYXRh
LmRzaXplID49IHF1b3RhX21heF9lbnRyeV9zaXplKSB7CiAJCWVycm5vID0g
RU5PU1BDOwogCQlyZXR1cm4gZXJybm87CkBAIC00NTUsMTQgKzQ1NiwxNSBA
QCBpbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpub2RlKQogCXJldHVybiAw
OwogfQogCi1zdGF0aWMgaW50IHdyaXRlX25vZGUoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQorc3RhdGljIGludCB3cml0
ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAq
bm9kZSwKKwkJICAgICAgYm9vbCBub19xdW90YV9jaGVjaykKIHsKIAlUREJf
REFUQSBrZXk7CiAKIAlpZiAoYWNjZXNzX25vZGUoY29ubiwgbm9kZSwgTk9E
RV9BQ0NFU1NfV1JJVEUsICZrZXkpKQogCQlyZXR1cm4gZXJybm87CiAKLQly
ZXR1cm4gd3JpdGVfbm9kZV9yYXcoY29ubiwgJmtleSwgbm9kZSk7CisJcmV0
dXJuIHdyaXRlX25vZGVfcmF3KGNvbm4sICZrZXksIG5vZGUsIG5vX3F1b3Rh
X2NoZWNrKTsKIH0KIAogc3RhdGljIGVudW0geHNfcGVybV90eXBlIHBlcm1f
Zm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCkBAIC05OTksNyAr
MTAwMSw3IEBAIHN0YXRpYyBzdHJ1Y3Qgbm9kZSAqY3JlYXRlX25vZGUoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKIAkvKiBX
ZSB3cml0ZSBvdXQgdGhlIG5vZGVzIGRvd24sIHNldHRpbmcgZGVzdHJ1Y3Rv
ciBpbiBjYXNlCiAJICogc29tZXRoaW5nIGdvZXMgd3JvbmcuICovCiAJZm9y
IChpID0gbm9kZTsgaTsgaSA9IGktPnBhcmVudCkgewotCQlpZiAod3JpdGVf
bm9kZShjb25uLCBpKSkgeworCQlpZiAod3JpdGVfbm9kZShjb25uLCBpLCBm
YWxzZSkpIHsKIAkJCWRvbWFpbl9lbnRyeV9kZWMoY29ubiwgaSk7CiAJCQly
ZXR1cm4gTlVMTDsKIAkJfQpAQCAtMTAzOSw3ICsxMDQxLDcgQEAgc3RhdGlj
IGludCBkb193cml0ZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0
IGJ1ZmZlcmVkX2RhdGEgKmluKQogCX0gZWxzZSB7CiAJCW5vZGUtPmRhdGEg
PSBpbi0+YnVmZmVyICsgb2Zmc2V0OwogCQlub2RlLT5kYXRhbGVuID0gZGF0
YWxlbjsKLQkJaWYgKHdyaXRlX25vZGUoY29ubiwgbm9kZSkpCisJCWlmICh3
cml0ZV9ub2RlKGNvbm4sIG5vZGUsIGZhbHNlKSkKIAkJCXJldHVybiBlcnJu
bzsKIAl9CiAKQEAgLTExMTUsNyArMTExNyw3IEBAIHN0YXRpYyBpbnQgcmVt
b3ZlX2NoaWxkX2VudHJ5KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1
Y3Qgbm9kZSAqbm9kZSwKIAlzaXplX3QgY2hpbGRsZW4gPSBzdHJsZW4obm9k
ZS0+Y2hpbGRyZW4gKyBvZmZzZXQpOwogCW1lbWRlbChub2RlLT5jaGlsZHJl
biwgb2Zmc2V0LCBjaGlsZGxlbiArIDEsIG5vZGUtPmNoaWxkbGVuKTsKIAlu
b2RlLT5jaGlsZGxlbiAtPSBjaGlsZGxlbiArIDE7Ci0JcmV0dXJuIHdyaXRl
X25vZGUoY29ubiwgbm9kZSk7CisJcmV0dXJuIHdyaXRlX25vZGUoY29ubiwg
bm9kZSwgdHJ1ZSk7CiB9CiAKIApAQCAtMTI1NCw3ICsxMjU2LDcgQEAgc3Rh
dGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlub2RlLT5udW1fcGVybXMg
PSBudW07CiAJZG9tYWluX2VudHJ5X2luYyhjb25uLCBub2RlKTsKIAotCWlm
ICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUpKQorCWlmICh3cml0ZV9ub2RlKGNv
bm4sIG5vZGUsIGZhbHNlKSkKIAkJcmV0dXJuIGVycm5vOwogCiAJZmlyZV93
YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBmYWxzZSk7CkBAIC0xNTE0LDcgKzE1
MTYsNyBAQCBzdGF0aWMgdm9pZCBtYW51YWxfbm9kZShjb25zdCBjaGFyICpu
YW1lLCBjb25zdCBjaGFyICpjaGlsZCkKIAlpZiAoY2hpbGQpCiAJCW5vZGUt
PmNoaWxkbGVuID0gc3RybGVuKGNoaWxkKSArIDE7CiAKLQlpZiAod3JpdGVf
bm9kZShOVUxMLCBub2RlKSkKKwlpZiAod3JpdGVfbm9kZShOVUxMLCBub2Rl
LCBmYWxzZSkpCiAJCWJhcmZfcGVycm9yKCJDb3VsZCBub3QgY3JlYXRlIGlu
aXRpYWwgbm9kZSAlcyIsIG5hbWUpOwogCXRhbGxvY19mcmVlKG5vZGUpOwog
fQpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUu
aCBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKaW5kZXggNTZh
Mjc5Y2ZiYjQ3Li4zY2IxYzIzNWExMDEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKKysrIGIvdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX2NvcmUuaApAQCAtMTQ5LDcgKzE0OSw4IEBAIHZvaWQgc2Vu
ZF9hY2soc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGVudW0geHNkX3NvY2tt
c2dfdHlwZSB0eXBlKTsKIGNoYXIgKmNhbm9uaWNhbGl6ZShzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpu
b2RlKTsKIAogLyogV3JpdGUgYSBub2RlIHRvIHRoZSB0ZGIgZGF0YSBiYXNl
LiAqLwotaW50IHdyaXRlX25vZGVfcmF3KHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBUREJfREFUQSAqa2V5LCBzdHJ1Y3Qgbm9kZSAqbm9kZSk7CitpbnQg
d3JpdGVfbm9kZV9yYXcoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIFREQl9E
QVRBICprZXksIHN0cnVjdCBub2RlICpub2RlLAorCQkgICBib29sIG5vX3F1
b3RhX2NoZWNrKTsKIAogLyogR2V0IHRoaXMgbm9kZSwgY2hlY2tpbmcgd2Ug
aGF2ZSBwZXJtaXNzaW9ucy4gKi8KIHN0cnVjdCBub2RlICpnZXRfbm9kZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKZGlmZiAtLWdpdCBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF90cmFuc2FjdGlvbi5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMKaW5kZXggMjgyNGY3YjM1OWI4
Li5lODc4OTc1NzM0NjkgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF90cmFuc2FjdGlvbi5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF90cmFuc2FjdGlvbi5jCkBAIC0yNzYsNyArMjc2LDcgQEAgaW50
IGFjY2Vzc19ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qg
bm9kZSAqbm9kZSwKIAkJCWktPmNoZWNrX2dlbiA9IHRydWU7CiAJCQlpZiAo
bm9kZS0+Z2VuZXJhdGlvbiAhPSBOT19HRU5FUkFUSU9OKSB7CiAJCQkJc2V0
X3RkYl9rZXkodHJhbnNfbmFtZSwgJmxvY2FsX2tleSk7Ci0JCQkJcmV0ID0g
d3JpdGVfbm9kZV9yYXcoY29ubiwgJmxvY2FsX2tleSwgbm9kZSk7CisJCQkJ
cmV0ID0gd3JpdGVfbm9kZV9yYXcoY29ubiwgJmxvY2FsX2tleSwgbm9kZSwg
dHJ1ZSk7CiAJCQkJaWYgKHJldCkKIAkJCQkJZ290byBlcnI7CiAJCQkJaS0+
dGFfbm9kZSA9IHRydWU7Ci0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Transfer-Encoding: base64

RnJvbSBlODA3NmY3M2RlNjVjNDgxNmY2OWQ2ZWJmNzU4MzljNzA2MTQ1ZmNk
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzggKzAyMDAKU3ViamVjdDogW1BBVENIIDAyLzEwXSB0b29scy94ZW5z
dG9yZTogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBbdW5dd2F0Y2gKCklu
c3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9uIGlkIGZvciBYU19X
QVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBpdCBpcyBkb2N1bWVu
dGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0IGlzIHRlc3RlZApm
b3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3JlIHRoZSB0cmFuc2Fj
dGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FUQ0guCgpUaGlzIGlz
IHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jv
c3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6IEp1bGllbiBHcmFs
bCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJh
bnQgPHBhdWxAeGVuLm9yZz4KLS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfY29yZS5jIHwgMjYgKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0KIDEg
ZmlsZSBjaGFuZ2VkLCAxNiBpbnNlcnRpb25zKCspLCAxMCBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCBi
NDNlMTAxOGJhYmQuLmJiMmY5ZmQ0ZTc2ZSAxMDA2NDQKLS0tIGEvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfY29yZS5jCkBAIC0xMjY4LDEzICsxMjY4LDE3IEBAIHN0
YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiBzdGF0aWMgc3RydWN0IHsK
IAljb25zdCBjaGFyICpzdHI7CiAJaW50ICgqZnVuYykoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbik7CisJdW5z
aWduZWQgaW50IGZsYWdzOworI2RlZmluZSBYU19GTEFHX05PVElECQkoMVUg
PDwgMCkJLyogSWdub3JlIHRyYW5zYWN0aW9uIGlkLiAqLwogfSBjb25zdCB3
aXJlX2Z1bmNzW1hTX1RZUEVfQ09VTlRdID0gewogCVtYU19DT05UUk9MXSAg
ICAgICAgICAgPSB7ICJDT05UUk9MIiwgICAgICAgICAgIGRvX2NvbnRyb2wg
fSwKIAlbWFNfRElSRUNUT1JZXSAgICAgICAgID0geyAiRElSRUNUT1JZIiwg
ICAgICAgICBzZW5kX2RpcmVjdG9yeSB9LAogCVtYU19SRUFEXSAgICAgICAg
ICAgICAgPSB7ICJSRUFEIiwgICAgICAgICAgICAgIGRvX3JlYWQgfSwKIAlb
WFNfR0VUX1BFUk1TXSAgICAgICAgID0geyAiR0VUX1BFUk1TIiwgICAgICAg
ICBkb19nZXRfcGVybXMgfSwKLQlbWFNfV0FUQ0hdICAgICAgICAgICAgID0g
eyAiV0FUQ0giLCAgICAgICAgICAgICBkb193YXRjaCB9LAotCVtYU19VTldB
VENIXSAgICAgICAgICAgPSB7ICJVTldBVENIIiwgICAgICAgICAgIGRvX3Vu
d2F0Y2ggfSwKKwlbWFNfV0FUQ0hdICAgICAgICAgICAgID0KKwkgICAgeyAi
V0FUQ0giLCAgICAgICAgIGRvX3dhdGNoLCAgICAgICAgWFNfRkxBR19OT1RJ
RCB9LAorCVtYU19VTldBVENIXSAgICAgICAgICAgPQorCSAgICB7ICJVTldB
VENIIiwgICAgICAgZG9fdW53YXRjaCwgICAgICBYU19GTEFHX05PVElEIH0s
CiAJW1hTX1RSQU5TQUNUSU9OX1NUQVJUXSA9IHsgIlRSQU5TQUNUSU9OX1NU
QVJUIiwgZG9fdHJhbnNhY3Rpb25fc3RhcnQgfSwKIAlbWFNfVFJBTlNBQ1RJ
T05fRU5EXSAgID0geyAiVFJBTlNBQ1RJT05fRU5EIiwgICBkb190cmFuc2Fj
dGlvbl9lbmQgfSwKIAlbWFNfSU5UUk9EVUNFXSAgICAgICAgID0geyAiSU5U
Uk9EVUNFIiwgICAgICAgICBkb19pbnRyb2R1Y2UgfSwKQEAgLTEyOTYsNyAr
MTMwMCw3IEBAIHN0YXRpYyBzdHJ1Y3QgewogCiBzdGF0aWMgY29uc3QgY2hh
ciAqc29ja21zZ19zdHJpbmcoZW51bSB4c2Rfc29ja21zZ190eXBlIHR5cGUp
CiB7Ci0JaWYgKCh1bnNpZ25lZCl0eXBlIDwgWFNfVFlQRV9DT1VOVCAmJiB3
aXJlX2Z1bmNzW3R5cGVdLnN0cikKKwlpZiAoKHVuc2lnbmVkIGludCl0eXBl
IDwgQVJSQVlfU0laRSh3aXJlX2Z1bmNzKSAmJiB3aXJlX2Z1bmNzW3R5cGVd
LnN0cikKIAkJcmV0dXJuIHdpcmVfZnVuY3NbdHlwZV0uc3RyOwogCiAJcmV0
dXJuICIqKlVOS05PV04qKiI7CkBAIC0xMzExLDcgKzEzMTUsMTQgQEAgc3Rh
dGljIHZvaWQgcHJvY2Vzc19tZXNzYWdlKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJZW51bSB4c2Rfc29j
a21zZ190eXBlIHR5cGUgPSBpbi0+aGRyLm1zZy50eXBlOwogCWludCByZXQ7
CiAKLQl0cmFucyA9IHRyYW5zYWN0aW9uX2xvb2t1cChjb25uLCBpbi0+aGRy
Lm1zZy50eF9pZCk7CisJaWYgKCh1bnNpZ25lZCBpbnQpdHlwZSA+PSBYU19U
WVBFX0NPVU5UIHx8ICF3aXJlX2Z1bmNzW3R5cGVdLmZ1bmMpIHsKKwkJZXBy
aW50ZigiQ2xpZW50IHVua25vd24gb3BlcmF0aW9uICVpIiwgdHlwZSk7CisJ
CXNlbmRfZXJyb3IoY29ubiwgRU5PU1lTKTsKKwkJcmV0dXJuOworCX0KKwor
CXRyYW5zID0gKHdpcmVfZnVuY3NbdHlwZV0uZmxhZ3MgJiBYU19GTEFHX05P
VElEKQorCQk/IE5VTEwgOiB0cmFuc2FjdGlvbl9sb29rdXAoY29ubiwgaW4t
Pmhkci5tc2cudHhfaWQpOwogCWlmIChJU19FUlIodHJhbnMpKSB7CiAJCXNl
bmRfZXJyb3IoY29ubiwgLVBUUl9FUlIodHJhbnMpKTsKIAkJcmV0dXJuOwpA
QCAtMTMyMCwxMiArMTMzMSw3IEBAIHN0YXRpYyB2b2lkIHByb2Nlc3NfbWVz
c2FnZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVk
X2RhdGEgKmluKQogCWFzc2VydChjb25uLT50cmFuc2FjdGlvbiA9PSBOVUxM
KTsKIAljb25uLT50cmFuc2FjdGlvbiA9IHRyYW5zOwogCi0JaWYgKCh1bnNp
Z25lZCl0eXBlIDwgWFNfVFlQRV9DT1VOVCAmJiB3aXJlX2Z1bmNzW3R5cGVd
LmZ1bmMpCi0JCXJldCA9IHdpcmVfZnVuY3NbdHlwZV0uZnVuYyhjb25uLCBp
bik7Ci0JZWxzZSB7Ci0JCWVwcmludGYoIkNsaWVudCB1bmtub3duIG9wZXJh
dGlvbiAlaSIsIHR5cGUpOwotCQlyZXQgPSBFTk9TWVM7Ci0JfQorCXJldCA9
IHdpcmVfZnVuY3NbdHlwZV0uZnVuYyhjb25uLCBpbik7CiAJaWYgKHJldCkK
IAkJc2VuZF9lcnJvcihjb25uLCByZXQpOwogCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Transfer-Encoding: base64

RnJvbSBiOGM2ZGJiNjdlYmI0NDkxMjYwMjM0NDZhN2QyMDllZWRmOTY2NTM3
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzkgKzAyMDAKU3ViamVjdDogW1BBVENIIDAzLzEwXSB0b29scy94ZW5z
dG9yZTogZml4IG5vZGUgYWNjb3VudGluZyBhZnRlciBmYWlsZWQgbm9kZQog
Y3JlYXRpb24KCldoZW4gYSBub2RlIGNyZWF0aW9uIGZhaWxzIHRoZSBudW1i
ZXIgb2Ygbm9kZXMgb2YgdGhlIGRvbWFpbiBzaG91bGQgYmUKdGhlIHNhbWUg
YXMgYmVmb3JlIHRoZSBmYWlsZWQgbm9kZSBjcmVhdGlvbi4gSW4gY2FzZSBv
ZiBmYWlsdXJlIHdoZW4KdHJ5aW5nIHRvIGNyZWF0ZSBhIG5vZGUgcmVxdWly
aW5nIHRvIGNyZWF0ZSBvbmUgb3IgbW9yZSBpbnRlcm1lZGlhdGUKbm9kZXMg
YXMgd2VsbCAoZS5nLiB3aGVuIC9hL2IvYy9kIGlzIHRvIGJlIGNyZWF0ZWQs
IGJ1dCAvYS9iIGlzbid0CmV4aXN0aW5nIHlldCkgaXQgbWlnaHQgaGFwcGVu
IHRoYXQgdGhlIG51bWJlciBvZiBub2RlcyBvZiB0aGUgY3JlYXRpbmcKZG9t
YWluIGlzIG5vdCByZXNldCB0byB0aGUgdmFsdWUgaXQgaGFkIGJlZm9yZS4K
ClNvIG1vdmUgdGhlIHF1b3RhIGFjY291bnRpbmcgb3V0IG9mIGNvbnN0cnVj
dF9ub2RlKCkgYW5kIGludG8gdGhlIG5vZGUKd3JpdGUgbG9vcCBpbiBjcmVh
dGVfbm9kZSgpIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gdW5kbyB0aGUgYWNj
b3VudGluZwppbiBjYXNlIG9mIGFuIGVycm9yIGluIHRoZSBpbnRlcm1lZGlh
dGUgbm9kZSBkZXN0cnVjdG9yLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUu
CgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5j
b20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4K
QWNrZWQtYnk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+Ci0t
LQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYyB8IDM3ICsrKysr
KysrKysrKysrKysrKysrKystLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQs
IDI1IGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4IGJiMmY5ZmQ0ZTc2ZS4u
ZGI5YjljYTc5NTdkIDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9j
b3JlLmMKQEAgLTkyNSwxMSArOTI1LDYgQEAgc3RhdGljIHN0cnVjdCBub2Rl
ICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29u
c3Qgdm9pZCAqY3R4LAogCWlmICghcGFyZW50KQogCQlyZXR1cm4gTlVMTDsK
IAotCWlmIChkb21haW5fZW50cnkoY29ubikgPj0gcXVvdGFfbmJfZW50cnlf
cGVyX2RvbWFpbikgewotCQllcnJubyA9IEVOT1NQQzsKLQkJcmV0dXJuIE5V
TEw7Ci0JfQotCiAJLyogQWRkIGNoaWxkIHRvIHBhcmVudC4gKi8KIAliYXNl
ID0gYmFzZW5hbWUobmFtZSk7CiAJYmFzZWxlbiA9IHN0cmxlbihiYXNlKSAr
IDE7CkBAIC05NjIsNyArOTU3LDYgQEAgc3RhdGljIHN0cnVjdCBub2RlICpj
b25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qg
dm9pZCAqY3R4LAogCW5vZGUtPmNoaWxkcmVuID0gbm9kZS0+ZGF0YSA9IE5V
TEw7CiAJbm9kZS0+Y2hpbGRsZW4gPSBub2RlLT5kYXRhbGVuID0gMDsKIAlu
b2RlLT5wYXJlbnQgPSBwYXJlbnQ7Ci0JZG9tYWluX2VudHJ5X2luYyhjb25u
LCBub2RlKTsKIAlyZXR1cm4gbm9kZTsKIAogbm9tZW06CkBAIC05ODIsNiAr
OTc2LDkgQEAgc3RhdGljIGludCBkZXN0cm95X25vZGUodm9pZCAqX25vZGUp
CiAJa2V5LmRzaXplID0gc3RybGVuKG5vZGUtPm5hbWUpOwogCiAJdGRiX2Rl
bGV0ZSh0ZGJfY3R4LCBrZXkpOworCisJZG9tYWluX2VudHJ5X2RlYyh0YWxs
b2NfcGFyZW50KG5vZGUpLCBub2RlKTsKKwogCXJldHVybiAwOwogfQogCkBA
IC05OTgsMTggKzk5NSwzNCBAQCBzdGF0aWMgc3RydWN0IG5vZGUgKmNyZWF0
ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpj
dHgsCiAJbm9kZS0+ZGF0YSA9IGRhdGE7CiAJbm9kZS0+ZGF0YWxlbiA9IGRh
dGFsZW47CiAKLQkvKiBXZSB3cml0ZSBvdXQgdGhlIG5vZGVzIGRvd24sIHNl
dHRpbmcgZGVzdHJ1Y3RvciBpbiBjYXNlCi0JICogc29tZXRoaW5nIGdvZXMg
d3JvbmcuICovCisJLyoKKwkgKiBXZSB3cml0ZSBvdXQgdGhlIG5vZGVzIGJv
dHRvbSB1cC4KKwkgKiBBbGwgbmV3IGNyZWF0ZWQgbm9kZXMgd2lsbCBoYXZl
IGktPnBhcmVudCBzZXQsIHdoaWxlIHRoZSBmaW5hbAorCSAqIG5vZGUgd2ls
bCBiZSBhbHJlYWR5IGV4aXN0aW5nIGFuZCB3b24ndCBoYXZlIGktPnBhcmVu
dCBzZXQuCisJICogTmV3IG5vZGVzIGFyZSBzdWJqZWN0IHRvIHF1b3RhIGhh
bmRsaW5nLgorCSAqIEluaXRpYWxseSBzZXQgYSBkZXN0cnVjdG9yIGZvciBh
bGwgbmV3IG5vZGVzIHJlbW92aW5nIHRoZW0gZnJvbQorCSAqIFREQiBhZ2Fp
biBhbmQgdW5kb2luZyBxdW90YSBhY2NvdW50aW5nIGZvciB0aGUgY2FzZSBv
ZiBhbiBlcnJvcgorCSAqIGR1cmluZyB0aGUgd3JpdGUgbG9vcC4KKwkgKi8K
IAlmb3IgKGkgPSBub2RlOyBpOyBpID0gaS0+cGFyZW50KSB7Ci0JCWlmICh3
cml0ZV9ub2RlKGNvbm4sIGksIGZhbHNlKSkgewotCQkJZG9tYWluX2VudHJ5
X2RlYyhjb25uLCBpKTsKKwkJLyogaS0+cGFyZW50IGlzIHNldCBmb3IgZWFj
aCBuZXcgbm9kZSwgc28gY2hlY2sgcXVvdGEuICovCisJCWlmIChpLT5wYXJl
bnQgJiYKKwkJICAgIGRvbWFpbl9lbnRyeShjb25uKSA+PSBxdW90YV9uYl9l
bnRyeV9wZXJfZG9tYWluKSB7CisJCQllcnJubyA9IEVOT1NQQzsKIAkJCXJl
dHVybiBOVUxMOwogCQl9Ci0JCXRhbGxvY19zZXRfZGVzdHJ1Y3RvcihpLCBk
ZXN0cm95X25vZGUpOworCQlpZiAod3JpdGVfbm9kZShjb25uLCBpLCBmYWxz
ZSkpCisJCQlyZXR1cm4gTlVMTDsKKworCQkvKiBBY2NvdW50IGZvciBuZXcg
bm9kZSwgc2V0IGRlc3RydWN0b3IgZm9yIGVycm9yIGNhc2UuICovCisJCWlm
IChpLT5wYXJlbnQpIHsKKwkJCWRvbWFpbl9lbnRyeV9pbmMoY29ubiwgaSk7
CisJCQl0YWxsb2Nfc2V0X2Rlc3RydWN0b3IoaSwgZGVzdHJveV9ub2RlKTsK
KwkJfQogCX0KIAogCS8qIE9LLCBub3cgcmVtb3ZlIGRlc3RydWN0b3JzIHNv
IHRoZXkgc3RheSBhcm91bmQgKi8KLQlmb3IgKGkgPSBub2RlOyBpOyBpID0g
aS0+cGFyZW50KQorCWZvciAoaSA9IG5vZGU7IGktPnBhcmVudDsgaSA9IGkt
PnBhcmVudCkKIAkJdGFsbG9jX3NldF9kZXN0cnVjdG9yKGksIE5VTEwpOwog
CXJldHVybiBub2RlOwogfQotLSAKMi4xNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Transfer-Encoding: base64

RnJvbSAzMThhYTc1YmQwYzA1NDIzZTcxN2FkMGI2NGFkYjIwNDI4MjAyNWRi
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDAgKzAyMDAKU3ViamVjdDogW1BBVENIIDA0LzEwXSB0b29scy94ZW5z
dG9yZTogc2ltcGxpZnkgYW5kIHJlbmFtZSBjaGVja19ldmVudF9ub2RlKCkK
ClRoZXJlIGlzIG5vIHBhdGggd2hpY2ggYWxsb3dzIHRvIGNhbGwgY2hlY2tf
ZXZlbnRfbm9kZSgpIHdpdGhvdXQgYQpldmVudCBuYW1lLiBTbyBkb24ndCBs
ZXQgdGhlIHJlc3VsdCBkZXBlbmQgb24gdGhlIG5hbWUgYmVpbmcgTlVMTCBh
bmQKYWRkIGFuIGFzc2VydCgpIGNvdmVyaW5nIHRoYXQgY2FzZS4KClJlbmFt
ZSB0aGUgZnVuY3Rpb24gdG8gY2hlY2tfc3BlY2lhbF9ldmVudCgpIHRvIGJl
dHRlciBtYXRjaCB0aGUKc2VtYW50aWNzLgoKVGhpcyBpcyBwYXJ0IG9mIFhT
QS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NA
c3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBh
bWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVsQHhl
bi5vcmc+Ci0tLQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMg
fCAxMiArKysrKy0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA1IGluc2VydGlv
bnMoKyksIDcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgYi90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfd2F0Y2guYwppbmRleCA3ZGVkY2E2MGRmZDYuLmYyZjFiZWQ0N2Nj
NiAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNo
LmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKQEAg
LTQ3LDEzICs0NywxMSBAQCBzdHJ1Y3Qgd2F0Y2gKIAljaGFyICpub2RlOwog
fTsKIAotc3RhdGljIGJvb2wgY2hlY2tfZXZlbnRfbm9kZShjb25zdCBjaGFy
ICpub2RlKQorc3RhdGljIGJvb2wgY2hlY2tfc3BlY2lhbF9ldmVudChjb25z
dCBjaGFyICpuYW1lKQogewotCWlmICghbm9kZSB8fCAhc3Ryc3RhcnRzKG5v
ZGUsICJAIikpIHsKLQkJZXJybm8gPSBFSU5WQUw7Ci0JCXJldHVybiBmYWxz
ZTsKLQl9Ci0JcmV0dXJuIHRydWU7CisJYXNzZXJ0KG5hbWUpOworCisJcmV0
dXJuIHN0cnN0YXJ0cyhuYW1lLCAiQCIpOwogfQogCiAvKiBJcyBjaGlsZCBh
IHN1Ym5vZGUgb2YgcGFyZW50LCBvciBlcXVhbD8gKi8KQEAgLTg3LDcgKzg1
LDcgQEAgc3RhdGljIHZvaWQgYWRkX2V2ZW50KHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLAogCXVuc2lnbmVkIGludCBsZW47CiAJY2hhciAqZGF0YTsKIAot
CWlmICghY2hlY2tfZXZlbnRfbm9kZShuYW1lKSkgeworCWlmICghY2hlY2tf
c3BlY2lhbF9ldmVudChuYW1lKSkgewogCQkvKiBDYW4gdGhpcyBjb25uIGxv
YWQgbm9kZSwgb3Igc2VlIHRoYXQgaXQgZG9lc24ndCBleGlzdD8gKi8KIAkJ
c3RydWN0IG5vZGUgKm5vZGUgPSBnZXRfbm9kZShjb25uLCBjdHgsIG5hbWUs
IFhTX1BFUk1fUkVBRCk7CiAJCS8qCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Transfer-Encoding: base64

RnJvbSBjNjI1ZmFlNDRhZWRjMjQ2Nzc2YjUyZWIxMTczY2Y4NDdhM2Q0ZDgw
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDEgKzAyMDAKU3ViamVjdDogW1BBVENIIDA1LzEwXSB0b29scy94ZW5z
dG9yZTogY2hlY2sgcHJpdmlsZWdlIGZvcgogWFNfSVNfRE9NQUlOX0lOVFJP
RFVDRUQKClRoZSBYZW5zdG9yZSBjb21tYW5kIFhTX0lTX0RPTUFJTl9JTlRS
T0RVQ0VEIHNob3VsZCBiZSBwb3NzaWJsZSBmb3IKcHJpdmlsZWdlZCBkb21h
aW5zIG9ubHkgKHRoZSBvbmx5IHVzZXIgaW4gdGhlIHRyZWUgaXMgdGhlIHhl
bnBhZ2luZwpkYWVtb24pLgoKSW5zdGVhZCBvZiBoYXZpbmcgdGhlIHByaXZp
bGVnZSB0ZXN0IGZvciBlYWNoIGNvbW1hbmQgaW50cm9kdWNlIGEKcGVyLWNv
bW1hbmQgZmxhZyBmb3IgdGhhdCBwdXJwb3NlLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jv
c3NAc3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFs
bEBhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVs
QHhlbi5vcmc+Ci0tLQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUu
YyAgIHwgMjQgKysrKysrKysrKysrKysrKysrLS0tLS0tCiB0b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfZG9tYWluLmMgfCAgNyArKy0tLS0tCiAyIGZpbGVz
IGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDExIGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4IGRiOWI5
Y2E3OTU3ZC4uNmFmZDU4NDMxMTExIDEwMDY0NAotLS0gYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9jb3JlLmMKQEAgLTEyODMsOCArMTI4MywxMCBAQCBzdGF0aWMg
c3RydWN0IHsKIAlpbnQgKCpmdW5jKShzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAl1bnNpZ25lZCBpbnQg
ZmxhZ3M7CiAjZGVmaW5lIFhTX0ZMQUdfTk9USUQJCSgxVSA8PCAwKQkvKiBJ
Z25vcmUgdHJhbnNhY3Rpb24gaWQuICovCisjZGVmaW5lIFhTX0ZMQUdfUFJJ
VgkJKDFVIDw8IDEpCS8qIFByaXZpbGVnZWQgZG9tYWluIG9ubHkuICovCiB9
IGNvbnN0IHdpcmVfZnVuY3NbWFNfVFlQRV9DT1VOVF0gPSB7Ci0JW1hTX0NP
TlRST0xdICAgICAgICAgICA9IHsgIkNPTlRST0wiLCAgICAgICAgICAgZG9f
Y29udHJvbCB9LAorCVtYU19DT05UUk9MXSAgICAgICAgICAgPQorCSAgICB7
ICJDT05UUk9MIiwgICAgICAgZG9fY29udHJvbCwgICAgICBYU19GTEFHX1BS
SVYgfSwKIAlbWFNfRElSRUNUT1JZXSAgICAgICAgID0geyAiRElSRUNUT1JZ
IiwgICAgICAgICBzZW5kX2RpcmVjdG9yeSB9LAogCVtYU19SRUFEXSAgICAg
ICAgICAgICAgPSB7ICJSRUFEIiwgICAgICAgICAgICAgIGRvX3JlYWQgfSwK
IAlbWFNfR0VUX1BFUk1TXSAgICAgICAgID0geyAiR0VUX1BFUk1TIiwgICAg
ICAgICBkb19nZXRfcGVybXMgfSwKQEAgLTEyOTQsOCArMTI5NiwxMCBAQCBz
dGF0aWMgc3RydWN0IHsKIAkgICAgeyAiVU5XQVRDSCIsICAgICAgIGRvX3Vu
d2F0Y2gsICAgICAgWFNfRkxBR19OT1RJRCB9LAogCVtYU19UUkFOU0FDVElP
Tl9TVEFSVF0gPSB7ICJUUkFOU0FDVElPTl9TVEFSVCIsIGRvX3RyYW5zYWN0
aW9uX3N0YXJ0IH0sCiAJW1hTX1RSQU5TQUNUSU9OX0VORF0gICA9IHsgIlRS
QU5TQUNUSU9OX0VORCIsICAgZG9fdHJhbnNhY3Rpb25fZW5kIH0sCi0JW1hT
X0lOVFJPRFVDRV0gICAgICAgICA9IHsgIklOVFJPRFVDRSIsICAgICAgICAg
ZG9faW50cm9kdWNlIH0sCi0JW1hTX1JFTEVBU0VdICAgICAgICAgICA9IHsg
IlJFTEVBU0UiLCAgICAgICAgICAgZG9fcmVsZWFzZSB9LAorCVtYU19JTlRS
T0RVQ0VdICAgICAgICAgPQorCSAgICB7ICJJTlRST0RVQ0UiLCAgICAgZG9f
aW50cm9kdWNlLCAgICBYU19GTEFHX1BSSVYgfSwKKwlbWFNfUkVMRUFTRV0g
ICAgICAgICAgID0KKwkgICAgeyAiUkVMRUFTRSIsICAgICAgIGRvX3JlbGVh
c2UsICAgICAgWFNfRkxBR19QUklWIH0sCiAJW1hTX0dFVF9ET01BSU5fUEFU
SF0gICA9IHsgIkdFVF9ET01BSU5fUEFUSCIsICAgZG9fZ2V0X2RvbWFpbl9w
YXRoIH0sCiAJW1hTX1dSSVRFXSAgICAgICAgICAgICA9IHsgIldSSVRFIiwg
ICAgICAgICAgICAgZG9fd3JpdGUgfSwKIAlbWFNfTUtESVJdICAgICAgICAg
ICAgID0geyAiTUtESVIiLCAgICAgICAgICAgICBkb19ta2RpciB9LApAQCAt
MTMwNCw5ICsxMzA4LDExIEBAIHN0YXRpYyBzdHJ1Y3QgewogCVtYU19XQVRD
SF9FVkVOVF0gICAgICAgPSB7ICJXQVRDSF9FVkVOVCIsICAgICAgIE5VTEwg
fSwKIAlbWFNfRVJST1JdICAgICAgICAgICAgID0geyAiRVJST1IiLCAgICAg
ICAgICAgICBOVUxMIH0sCiAJW1hTX0lTX0RPTUFJTl9JTlRST0RVQ0VEXSA9
Ci0JCQl7ICJJU19ET01BSU5fSU5UUk9EVUNFRCIsIGRvX2lzX2RvbWFpbl9p
bnRyb2R1Y2VkIH0sCi0JW1hTX1JFU1VNRV0gICAgICAgICAgICA9IHsgIlJF
U1VNRSIsICAgICAgICAgICAgZG9fcmVzdW1lIH0sCi0JW1hTX1NFVF9UQVJH
RVRdICAgICAgICA9IHsgIlNFVF9UQVJHRVQiLCAgICAgICAgZG9fc2V0X3Rh
cmdldCB9LAorCSAgICB7ICJJU19ET01BSU5fSU5UUk9EVUNFRCIsIGRvX2lz
X2RvbWFpbl9pbnRyb2R1Y2VkLCBYU19GTEFHX1BSSVYgfSwKKwlbWFNfUkVT
VU1FXSAgICAgICAgICAgID0KKwkgICAgeyAiUkVTVU1FIiwgICAgICAgIGRv
X3Jlc3VtZSwgICAgICAgWFNfRkxBR19QUklWIH0sCisJW1hTX1NFVF9UQVJH
RVRdICAgICAgICA9CisJICAgIHsgIlNFVF9UQVJHRVQiLCAgICBkb19zZXRf
dGFyZ2V0LCAgIFhTX0ZMQUdfUFJJViB9LAogCVtYU19SRVNFVF9XQVRDSEVT
XSAgICAgPSB7ICJSRVNFVF9XQVRDSEVTIiwgICAgIGRvX3Jlc2V0X3dhdGNo
ZXMgfSwKIAlbWFNfRElSRUNUT1JZX1BBUlRdICAgID0geyAiRElSRUNUT1JZ
X1BBUlQiLCAgICBzZW5kX2RpcmVjdG9yeV9wYXJ0IH0sCiB9OwpAQCAtMTMz
NCw2ICsxMzQwLDEyIEBAIHN0YXRpYyB2b2lkIHByb2Nlc3NfbWVzc2FnZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEg
KmluKQogCQlyZXR1cm47CiAJfQogCisJaWYgKCh3aXJlX2Z1bmNzW3R5cGVd
LmZsYWdzICYgWFNfRkxBR19QUklWKSAmJgorCSAgICBkb21haW5faXNfdW5w
cml2aWxlZ2VkKGNvbm4pKSB7CisJCXNlbmRfZXJyb3IoY29ubiwgRUFDQ0VT
KTsKKwkJcmV0dXJuOworCX0KKwogCXRyYW5zID0gKHdpcmVfZnVuY3NbdHlw
ZV0uZmxhZ3MgJiBYU19GTEFHX05PVElEKQogCQk/IE5VTEwgOiB0cmFuc2Fj
dGlvbl9sb29rdXAoY29ubiwgaW4tPmhkci5tc2cudHhfaWQpOwogCWlmIChJ
U19FUlIodHJhbnMpKSB7CmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfZG9tYWluLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
ZG9tYWluLmMKaW5kZXggMWVhZTcwM2VmNjgwLi4wZTI5MjZlMmEzZDAgMTAw
NjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYwor
KysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKQEAgLTM3
Nyw3ICszNzcsNyBAQCBpbnQgZG9faW50cm9kdWNlKHN0cnVjdCBjb25uZWN0
aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJaWYgKGdl
dF9zdHJpbmdzKGluLCB2ZWMsIEFSUkFZX1NJWkUodmVjKSkgPCBBUlJBWV9T
SVpFKHZlYykpCiAJCXJldHVybiBFSU5WQUw7CiAKLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSB8fCAhY29ubi0+Y2FuX3dyaXRlKQorCWlm
ICghY29ubi0+Y2FuX3dyaXRlKQogCQlyZXR1cm4gRUFDQ0VTOwogCiAJZG9t
aWQgPSBhdG9pKHZlY1swXSk7CkBAIC00NDUsNyArNDQ1LDcgQEAgaW50IGRv
X3NldF90YXJnZXQoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBi
dWZmZXJlZF9kYXRhICppbikKIAlpZiAoZ2V0X3N0cmluZ3MoaW4sIHZlYywg
QVJSQVlfU0laRSh2ZWMpKSA8IEFSUkFZX1NJWkUodmVjKSkKIAkJcmV0dXJu
IEVJTlZBTDsKIAotCWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4p
IHx8ICFjb25uLT5jYW5fd3JpdGUpCisJaWYgKCFjb25uLT5jYW5fd3JpdGUp
CiAJCXJldHVybiBFQUNDRVM7CiAKIAlkb21pZCA9IGF0b2kodmVjWzBdKTsK
QEAgLTQ4MCw5ICs0ODAsNiBAQCBzdGF0aWMgc3RydWN0IGRvbWFpbiAqb25l
YXJnX2RvbWFpbihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIAlpZiAoIWRv
bWlkKQogCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKIAotCWlmIChkb21h
aW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKQotCQlyZXR1cm4gRVJSX1BUUigt
RUFDQ0VTKTsKLQogCXJldHVybiBmaW5kX2Nvbm5lY3RlZF9kb21haW4oZG9t
aWQpOwogfQogCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Transfer-Encoding: base64

RnJvbSA0NjFjODgwNjAwMTc1YzA2ZTIzYTYzZTYyZDlmMWNjYWI3NTVkNzA4
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDIgKzAyMDAKU3ViamVjdDogW1BBVENIIDA2LzEwXSB0b29scy94ZW5z
dG9yZTogcmV3b3JrIG5vZGUgcmVtb3ZhbAoKVG9kYXkgYSBYZW5zdG9yZSBu
b2RlIGlzIGJlaW5nIHJlbW92ZWQgYnkgZGVsZXRpbmcgaXQgZnJvbSB0aGUg
cGFyZW50CmZpcnN0IGFuZCB0aGVuIGRlbGV0aW5nIGl0c2VsZiBhbmQgYWxs
IGl0cyBjaGlsZHJlbi4gVGhpcyByZXN1bHRzIGluCnN0YWxlIGVudHJpZXMg
cmVtYWluaW5nIGluIHRoZSBkYXRhIGJhc2UgaW4gY2FzZSBlLmcuIGEgbWVt
b3J5CmFsbG9jYXRpb24gaXMgZmFpbGluZyBkdXJpbmcgcHJvY2Vzc2luZy4g
VGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlCnJhdGhlciBzdHJhbmdlIGJlaGF2
aW9yIHRvIGJlIGFibGUgdG8gcmVhZCBhIG5vZGUgKGFzIGl0cyBzdGlsbCBp
biB0aGUKZGF0YSBiYXNlKSB3aGlsZSBub3QgYmVpbmcgdmlzaWJsZSBpbiB0
aGUgdHJlZSB2aWV3IG9mIFhlbnN0b3JlLgoKRml4IHRoYXQgYnkgZGVsZXRp
bmcgdGhlIG5vZGVzIGZyb20gdGhlIGxlYWYgc2lkZSBpbnN0ZWFkIG9mIHN0
YXJ0aW5nCmF0IHRoZSByb290LgoKQXMgZmlyZV93YXRjaGVzKCkgaXMgbm93
IGNhbGxlZCBmcm9tIF9ybSgpIHRoZSBjdHggcGFyYW1ldGVyIG5lZWRzIGEK
Y29uc3QgYXR0cmlidXRlLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpT
aWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+
ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBhbWF6b24uY29t
PgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVsQHhlbi5vcmc+Ci0t
LQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYyAgfCA5OSArKysr
KysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLQogdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX3dhdGNoLmMgfCAgNCArLQogdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX3dhdGNoLmggfCAgMiArLQogMyBmaWxlcyBjaGFuZ2VkLCA1NCBp
bnNlcnRpb25zKCspLCA1MSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA2YWZkNTg0MzExMTEuLjFjYjcy
OWEyY2Q1ZiAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVk
X2NvcmUuYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5j
CkBAIC0xMDg3LDc0ICsxMDg3LDc2IEBAIHN0YXRpYyBpbnQgZG9fbWtkaXIo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRh
ICppbikKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHZvaWQgZGVsZXRlX25v
ZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2Rl
KQotewotCXVuc2lnbmVkIGludCBpOwotCWNoYXIgKm5hbWU7Ci0KLQkvKiBE
ZWxldGUgc2VsZiwgdGhlbiBkZWxldGUgY2hpbGRyZW4uICBJZiB3ZSBjcmFz
aCwgdGhlbiB0aGUgd29yc3QKLQkgICB0aGF0IGNhbiBoYXBwZW4gaXMgdGhl
IGNoaWxkcmVuIHdpbGwgY29udGludWUgdG8gdGFrZSB1cCBzcGFjZSwgYnV0
Ci0JICAgd2lsbCBvdGhlcndpc2UgYmUgdW5yZWFjaGFibGUuICovCi0JZGVs
ZXRlX25vZGVfc2luZ2xlKGNvbm4sIG5vZGUpOwotCi0JLyogRGVsZXRlIGNo
aWxkcmVuLCB0b28uICovCi0JZm9yIChpID0gMDsgaSA8IG5vZGUtPmNoaWxk
bGVuOyBpICs9IHN0cmxlbihub2RlLT5jaGlsZHJlbitpKSArIDEpIHsKLQkJ
c3RydWN0IG5vZGUgKmNoaWxkOwotCi0JCW5hbWUgPSB0YWxsb2NfYXNwcmlu
dGYobm9kZSwgIiVzLyVzIiwgbm9kZS0+bmFtZSwKLQkJCQkgICAgICAgbm9k
ZS0+Y2hpbGRyZW4gKyBpKTsKLQkJY2hpbGQgPSBuYW1lID8gcmVhZF9ub2Rl
KGNvbm4sIG5vZGUsIG5hbWUpIDogTlVMTDsKLQkJaWYgKGNoaWxkKSB7Ci0J
CQlkZWxldGVfbm9kZShjb25uLCBjaGlsZCk7Ci0JCX0KLQkJZWxzZSB7Ci0J
CQl0cmFjZSgiZGVsZXRlX25vZGU6IEVycm9yIGRlbGV0aW5nIGNoaWxkICcl
cy8lcychXG4iLAotCQkJICAgICAgbm9kZS0+bmFtZSwgbm9kZS0+Y2hpbGRy
ZW4gKyBpKTsKLQkJCS8qIFNraXAgaXQsIHdlJ3ZlIGFscmVhZHkgZGVsZXRl
ZCB0aGUgcGFyZW50LiAqLwotCQl9Ci0JCXRhbGxvY19mcmVlKG5hbWUpOwot
CX0KLX0KLQotCiAvKiBEZWxldGUgbWVtb3J5IHVzaW5nIG1lbW1vdmUuICov
CiBzdGF0aWMgdm9pZCBtZW1kZWwodm9pZCAqbWVtLCB1bnNpZ25lZCBvZmYs
IHVuc2lnbmVkIGxlbiwgdW5zaWduZWQgdG90YWwpCiB7CiAJbWVtbW92ZSht
ZW0gKyBvZmYsIG1lbSArIG9mZiArIGxlbiwgdG90YWwgLSBvZmYgLSBsZW4p
OwogfQogCi0KLXN0YXRpYyBpbnQgcmVtb3ZlX2NoaWxkX2VudHJ5KHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKLQkJCSAg
ICAgIHNpemVfdCBvZmZzZXQpCitzdGF0aWMgdm9pZCByZW1vdmVfY2hpbGRf
ZW50cnkoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpu
b2RlLAorCQkJICAgICAgIHNpemVfdCBvZmZzZXQpCiB7CiAJc2l6ZV90IGNo
aWxkbGVuID0gc3RybGVuKG5vZGUtPmNoaWxkcmVuICsgb2Zmc2V0KTsKKwog
CW1lbWRlbChub2RlLT5jaGlsZHJlbiwgb2Zmc2V0LCBjaGlsZGxlbiArIDEs
IG5vZGUtPmNoaWxkbGVuKTsKIAlub2RlLT5jaGlsZGxlbiAtPSBjaGlsZGxl
biArIDE7Ci0JcmV0dXJuIHdyaXRlX25vZGUoY29ubiwgbm9kZSwgdHJ1ZSk7
CisJaWYgKHdyaXRlX25vZGUoY29ubiwgbm9kZSwgdHJ1ZSkpCisJCWNvcnJ1
cHQoY29ubiwgIkNhbid0IHVwZGF0ZSBwYXJlbnQgbm9kZSAnJXMnIiwgbm9k
ZS0+bmFtZSk7CiB9CiAKLQotc3RhdGljIGludCBkZWxldGVfY2hpbGQoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sCi0JCQlzdHJ1Y3Qgbm9kZSAqbm9kZSwg
Y29uc3QgY2hhciAqY2hpbGRuYW1lKQorc3RhdGljIHZvaWQgZGVsZXRlX2No
aWxkKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAorCQkJIHN0cnVjdCBub2Rl
ICpub2RlLCBjb25zdCBjaGFyICpjaGlsZG5hbWUpCiB7CiAJdW5zaWduZWQg
aW50IGk7CiAKIAlmb3IgKGkgPSAwOyBpIDwgbm9kZS0+Y2hpbGRsZW47IGkg
Kz0gc3RybGVuKG5vZGUtPmNoaWxkcmVuK2kpICsgMSkgewogCQlpZiAoc3Ry
ZXEobm9kZS0+Y2hpbGRyZW4raSwgY2hpbGRuYW1lKSkgewotCQkJcmV0dXJu
IHJlbW92ZV9jaGlsZF9lbnRyeShjb25uLCBub2RlLCBpKTsKKwkJCXJlbW92
ZV9jaGlsZF9lbnRyeShjb25uLCBub2RlLCBpKTsKKwkJCXJldHVybjsKIAkJ
fQogCX0KIAljb3JydXB0KGNvbm4sICJDYW4ndCBmaW5kIGNoaWxkICclcycg
aW4gJXMiLCBjaGlsZG5hbWUsIG5vZGUtPm5hbWUpOwotCXJldHVybiBFTk9F
TlQ7CiB9CiAKK3N0YXRpYyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpwYXJlbnQsCisJCSAgICAgICBz
dHJ1Y3Qgbm9kZSAqbm9kZSkKK3sKKwljaGFyICpuYW1lOworCisJLyogRGVs
ZXRlIGNoaWxkcmVuLiAqLworCXdoaWxlIChub2RlLT5jaGlsZGxlbikgewor
CQlzdHJ1Y3Qgbm9kZSAqY2hpbGQ7CisKKwkJbmFtZSA9IHRhbGxvY19hc3By
aW50Zihub2RlLCAiJXMvJXMiLCBub2RlLT5uYW1lLAorCQkJCSAgICAgICBu
b2RlLT5jaGlsZHJlbik7CisJCWNoaWxkID0gbmFtZSA/IHJlYWRfbm9kZShj
b25uLCBub2RlLCBuYW1lKSA6IE5VTEw7CisJCWlmIChjaGlsZCkgeworCQkJ
aWYgKGRlbGV0ZV9ub2RlKGNvbm4sIG5vZGUsIGNoaWxkKSkKKwkJCQlyZXR1
cm4gZXJybm87CisJCX0gZWxzZSB7CisJCQl0cmFjZSgiZGVsZXRlX25vZGU6
IEVycm9yIGRlbGV0aW5nIGNoaWxkICclcy8lcychXG4iLAorCQkJICAgICAg
bm9kZS0+bmFtZSwgbm9kZS0+Y2hpbGRyZW4pOworCQkJLyogUXVpdCBkZWxl
dGluZy4gKi8KKwkJCWVycm5vID0gRU5PTUVNOworCQkJcmV0dXJuIGVycm5v
OworCQl9CisJCXRhbGxvY19mcmVlKG5hbWUpOworCX0KKworCWRlbGV0ZV9u
b2RlX3NpbmdsZShjb25uLCBub2RlKTsKKwlkZWxldGVfY2hpbGQoY29ubiwg
cGFyZW50LCBiYXNlbmFtZShub2RlLT5uYW1lKSk7CisJdGFsbG9jX2ZyZWUo
bm9kZSk7CisKKwlyZXR1cm4gMDsKK30KIAogc3RhdGljIGludCBfcm0oc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgc3RydWN0
IG5vZGUgKm5vZGUsCiAJICAgICAgIGNvbnN0IGNoYXIgKm5hbWUpCiB7Ci0J
LyogRGVsZXRlIGZyb20gcGFyZW50IGZpcnN0LCB0aGVuIGlmIHdlIGNyYXNo
LCB0aGUgd29yc3QgdGhhdCBjYW4KLQkgICBoYXBwZW4gaXMgdGhlIGNoaWxk
IHdpbGwgY29udGludWUgdG8gdGFrZSB1cCBzcGFjZSwgYnV0IHdpbGwKLQkg
ICBvdGhlcndpc2UgYmUgdW5yZWFjaGFibGUuICovCisJLyoKKwkgKiBEZWxl
dGluZyBub2RlIGJ5IG5vZGUsIHNvIHRoZSByZXN1bHQgaXMgYWx3YXlzIGNv
bnNpc3RlbnQgZXZlbiBpbgorCSAqIGNhc2Ugb2YgYSBmYWlsdXJlLgorCSAq
LwogCXN0cnVjdCBub2RlICpwYXJlbnQ7CiAJY2hhciAqcGFyZW50bmFtZSA9
IGdldF9wYXJlbnQoY3R4LCBuYW1lKTsKIApAQCAtMTE2NSwxMSArMTE2Nywx
MyBAQCBzdGF0aWMgaW50IF9ybShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
Y29uc3Qgdm9pZCAqY3R4LCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKIAlpZiAoIXBh
cmVudCkKIAkJcmV0dXJuIChlcnJubyA9PSBFTk9NRU0pID8gRU5PTUVNIDog
RUlOVkFMOwogCi0JaWYgKGRlbGV0ZV9jaGlsZChjb25uLCBwYXJlbnQsIGJh
c2VuYW1lKG5hbWUpKSkKLQkJcmV0dXJuIEVJTlZBTDsKLQotCWRlbGV0ZV9u
b2RlKGNvbm4sIG5vZGUpOwotCXJldHVybiAwOworCS8qCisJICogRmlyZSB0
aGUgd2F0Y2hlcyBub3csIHdoZW4gd2UgY2FuIHN0aWxsIHNlZSB0aGUgbm9k
ZSBwZXJtaXNzaW9ucy4KKwkgKiBUaGlzIGZpbmUgYXMgd2UgYXJlIHNpbmds
ZSB0aHJlYWRlZCBhbmQgdGhlIG5leHQgcG9zc2libGUgcmVhZCB3aWxsCisJ
ICogYmUgaGFuZGxlZCBvbmx5IGFmdGVyIHRoZSBub2RlIGhhcyBiZWVuIHJl
YWxseSByZW1vdmVkLgorCSAqLworCWZpcmVfd2F0Y2hlcyhjb25uLCBjdHgs
IG5hbWUsIHRydWUpOworCXJldHVybiBkZWxldGVfbm9kZShjb25uLCBwYXJl
bnQsIG5vZGUpOwogfQogCiAKQEAgLTEyMDcsNyArMTIxMSw2IEBAIHN0YXRp
YyBpbnQgZG9fcm0oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBi
dWZmZXJlZF9kYXRhICppbikKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0Owog
Ci0JZmlyZV93YXRjaGVzKGNvbm4sIGluLCBuYW1lLCB0cnVlKTsKIAlzZW5k
X2Fjayhjb25uLCBYU19STSk7CiAKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBh
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5jIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKaW5kZXggZjJmMWJlZDQ3Y2M2Li5m
MGJiZmU3YTZkYzYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0
b3JlZF93YXRjaC5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93
YXRjaC5jCkBAIC03Nyw3ICs3Nyw3IEBAIHN0YXRpYyBib29sIGlzX2NoaWxk
KGNvbnN0IGNoYXIgKmNoaWxkLCBjb25zdCBjaGFyICpwYXJlbnQpCiAgKiBU
ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRpb25zIGFyZSBkb25lIHdpdGggY3R4
LgogICovCiBzdGF0aWMgdm9pZCBhZGRfZXZlbnQoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sCi0JCSAgICAgIHZvaWQgKmN0eCwKKwkJICAgICAgY29uc3Qg
dm9pZCAqY3R4LAogCQkgICAgICBzdHJ1Y3Qgd2F0Y2ggKndhdGNoLAogCQkg
ICAgICBjb25zdCBjaGFyICpuYW1lKQogewpAQCAtMTIxLDcgKzEyMSw3IEBA
IHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwKICAqIENoZWNrIHdoZXRoZXIgYW55IHdhdGNoIGV2ZW50cyBhcmUgdG8g
YmUgc2VudC4KICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJl
IGRvbmUgd2l0aCBjdHguCiAgKi8KLXZvaWQgZmlyZV93YXRjaGVzKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5h
bWUsCit2b2lkIGZpcmVfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpuYW1lLAogCQkgIGJv
b2wgcmVjdXJzZSkKIHsKIAlzdHJ1Y3QgY29ubmVjdGlvbiAqaTsKZGlmZiAt
LWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oIGIvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmgKaW5kZXggYzcyZWE2YTY4
NTQyLi41NGQ0ZWE3ZTBkNDEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF93YXRjaC5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0
b3JlZF93YXRjaC5oCkBAIC0yNSw3ICsyNSw3IEBAIGludCBkb193YXRjaChz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEg
KmluKTsKIGludCBkb191bndhdGNoKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pOwogCiAvKiBGaXJlIGFsbCB3
YXRjaGVzOiByZWN1cnNlIG1lYW5zIGFsbCB0aGUgY2hpbGRyZW4gYXJlIGFm
ZmVjdGVkIChpZS4gcm0pLiAqLwotdm9pZCBmaXJlX3dhdGNoZXMoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIHZvaWQgKnRtcCwgY29uc3QgY2hhciAqbmFt
ZSwKK3ZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCB2b2lkICp0bXAsIGNvbnN0IGNoYXIgKm5hbWUsCiAJCSAgYm9v
bCByZWN1cnNlKTsKIAogdm9pZCBjb25uX2RlbGV0ZV9hbGxfd2F0Y2hlcyhz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7Ci0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Transfer-Encoding: base64

RnJvbSA2Y2EyZTE0YjQzYWVjYzc5ZWZmYzFhMGNkNTI4YTRhY2VlZjQ0ZDQy
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDMgKzAyMDAKU3ViamVjdDogW1BBVENIIDA3LzEwXSB0b29scy94ZW5z
dG9yZTogZmlyZSB3YXRjaGVzIG9ubHkgd2hlbiByZW1vdmluZyBhCiBzcGVj
aWZpYyBub2RlCgpJbnN0ZWFkIG9mIGZpcmluZyBhbGwgd2F0Y2hlcyBmb3Ig
cmVtb3ZpbmcgYSBzdWJ0cmVlIGluIG9uZSBnbywgZG8gc28Kb25seSB3aGVu
IHRoZSByZWxhdGVkIG5vZGUgaXMgYmVpbmcgcmVtb3ZlZC4KClRoZSB3YXRj
aGVzIGZvciB0aGUgdG9wLW1vc3Qgbm9kZSBiZWluZyByZW1vdmVkIGluY2x1
ZGUgYWxsIHdhdGNoZXMKaW5jbHVkaW5nIHRoYXQgbm9kZSwgd2hpbGUgd2F0
Y2hlcyBmb3Igbm9kZXMgYmVsb3cgdGhhdCBhcmUgb25seSBmaXJlZAppZiB0
aGV5IGFyZSBtYXRjaGluZyBleGFjdGx5LiBUaGlzIGF2b2lkcyBmaXJpbmcg
YW55IHdhdGNoIG1vcmUgdGhhbgpvbmNlIHdoZW4gcmVtb3ZpbmcgYSBzdWJ0
cmVlLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5
OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+ClJldmlld2VkLWJ5
OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBhbWF6b24uY29tPgpSZXZpZXdlZC1i
eTogUGF1bCBEdXJyYW50IDxwYXVsQHhlbi5vcmc+Ci0tLQogdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2NvcmUuYyAgfCAxMSArKysrKystLS0tLQogdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgfCAxMyArKysrKysrKy0t
LS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaCB8ICA0ICsr
LS0KIDMgZmlsZXMgY2hhbmdlZCwgMTYgaW5zZXJ0aW9ucygrKSwgMTIgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2NvcmUuYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMK
aW5kZXggMWNiNzI5YTJjZDVmLi5kN2MwMjU2MTZlYWQgMTAwNjQ0Ci0tLSBh
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKKysrIGIvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpAQCAtMTExOCw4ICsxMTE4LDgg
QEAgc3RhdGljIHZvaWQgZGVsZXRlX2NoaWxkKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLAogCWNvcnJ1cHQoY29ubiwgIkNhbid0IGZpbmQgY2hpbGQgJyVz
JyBpbiAlcyIsIGNoaWxkbmFtZSwgbm9kZS0+bmFtZSk7CiB9CiAKLXN0YXRp
YyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0
cnVjdCBub2RlICpwYXJlbnQsCi0JCSAgICAgICBzdHJ1Y3Qgbm9kZSAqbm9k
ZSkKK3N0YXRpYyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKKwkJICAgICAgIHN0cnVjdCBub2Rl
ICpwYXJlbnQsIHN0cnVjdCBub2RlICpub2RlKQogewogCWNoYXIgKm5hbWU7
CiAKQEAgLTExMzEsNyArMTEzMSw3IEBAIHN0YXRpYyBpbnQgZGVsZXRlX25v
ZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpwYXJl
bnQsCiAJCQkJICAgICAgIG5vZGUtPmNoaWxkcmVuKTsKIAkJY2hpbGQgPSBu
YW1lID8gcmVhZF9ub2RlKGNvbm4sIG5vZGUsIG5hbWUpIDogTlVMTDsKIAkJ
aWYgKGNoaWxkKSB7Ci0JCQlpZiAoZGVsZXRlX25vZGUoY29ubiwgbm9kZSwg
Y2hpbGQpKQorCQkJaWYgKGRlbGV0ZV9ub2RlKGNvbm4sIGN0eCwgbm9kZSwg
Y2hpbGQpKQogCQkJCXJldHVybiBlcnJubzsKIAkJfSBlbHNlIHsKIAkJCXRy
YWNlKCJkZWxldGVfbm9kZTogRXJyb3IgZGVsZXRpbmcgY2hpbGQgJyVzLyVz
JyFcbiIsCkBAIC0xMTQzLDYgKzExNDMsNyBAQCBzdGF0aWMgaW50IGRlbGV0
ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAq
cGFyZW50LAogCQl0YWxsb2NfZnJlZShuYW1lKTsKIAl9CiAKKwlmaXJlX3dh
dGNoZXMoY29ubiwgY3R4LCBub2RlLT5uYW1lLCB0cnVlKTsKIAlkZWxldGVf
bm9kZV9zaW5nbGUoY29ubiwgbm9kZSk7CiAJZGVsZXRlX2NoaWxkKGNvbm4s
IHBhcmVudCwgYmFzZW5hbWUobm9kZS0+bmFtZSkpOwogCXRhbGxvY19mcmVl
KG5vZGUpOwpAQCAtMTE3Miw4ICsxMTczLDggQEAgc3RhdGljIGludCBfcm0o
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgc3Ry
dWN0IG5vZGUgKm5vZGUsCiAJICogVGhpcyBmaW5lIGFzIHdlIGFyZSBzaW5n
bGUgdGhyZWFkZWQgYW5kIHRoZSBuZXh0IHBvc3NpYmxlIHJlYWQgd2lsbAog
CSAqIGJlIGhhbmRsZWQgb25seSBhZnRlciB0aGUgbm9kZSBoYXMgYmVlbiBy
ZWFsbHkgcmVtb3ZlZC4KIAkgKi8KLQlmaXJlX3dhdGNoZXMoY29ubiwgY3R4
LCBuYW1lLCB0cnVlKTsKLQlyZXR1cm4gZGVsZXRlX25vZGUoY29ubiwgcGFy
ZW50LCBub2RlKTsKKwlmaXJlX3dhdGNoZXMoY29ubiwgY3R4LCBuYW1lLCBm
YWxzZSk7CisJcmV0dXJuIGRlbGV0ZV9ub2RlKGNvbm4sIGN0eCwgcGFyZW50
LCBub2RlKTsKIH0KIAogCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfd2F0Y2guYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93
YXRjaC5jCmluZGV4IGYwYmJmZTdhNmRjNi4uMzgzNjY3NTQ1OWZhIDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYworKysg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYwpAQCAtMTIyLDcg
KzEyMiw3IEBAIHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubiwKICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMg
YXJlIGRvbmUgd2l0aCBjdHguCiAgKi8KIHZvaWQgZmlyZV93YXRjaGVzKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0
IGNoYXIgKm5hbWUsCi0JCSAgYm9vbCByZWN1cnNlKQorCQkgIGJvb2wgZXhh
Y3QpCiB7CiAJc3RydWN0IGNvbm5lY3Rpb24gKmk7CiAJc3RydWN0IHdhdGNo
ICp3YXRjaDsKQEAgLTEzNCwxMCArMTM0LDEzIEBAIHZvaWQgZmlyZV93YXRj
aGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgs
IGNvbnN0IGNoYXIgKm5hbWUsCiAJLyogQ3JlYXRlIGFuIGV2ZW50IGZvciBl
YWNoIHdhdGNoLiAqLwogCWxpc3RfZm9yX2VhY2hfZW50cnkoaSwgJmNvbm5l
Y3Rpb25zLCBsaXN0KSB7CiAJCWxpc3RfZm9yX2VhY2hfZW50cnkod2F0Y2gs
ICZpLT53YXRjaGVzLCBsaXN0KSB7Ci0JCQlpZiAoaXNfY2hpbGQobmFtZSwg
d2F0Y2gtPm5vZGUpKQotCQkJCWFkZF9ldmVudChpLCBjdHgsIHdhdGNoLCBu
YW1lKTsKLQkJCWVsc2UgaWYgKHJlY3Vyc2UgJiYgaXNfY2hpbGQod2F0Y2gt
Pm5vZGUsIG5hbWUpKQotCQkJCWFkZF9ldmVudChpLCBjdHgsIHdhdGNoLCB3
YXRjaC0+bm9kZSk7CisJCQlpZiAoZXhhY3QpIHsKKwkJCQlpZiAoc3RyZXEo
bmFtZSwgd2F0Y2gtPm5vZGUpKQorCQkJCQlhZGRfZXZlbnQoaSwgY3R4LCB3
YXRjaCwgbmFtZSk7CisJCQl9IGVsc2UgeworCQkJCWlmIChpc19jaGlsZChu
YW1lLCB3YXRjaC0+bm9kZSkpCisJCQkJCWFkZF9ldmVudChpLCBjdHgsIHdh
dGNoLCBuYW1lKTsKKwkJCX0KIAkJfQogCX0KIH0KZGlmZiAtLWdpdCBhL3Rv
b2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3dhdGNoLmgKaW5kZXggNTRkNGVhN2UwZDQxLi4xYjNj
ODBkM2RkYTEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF93YXRjaC5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRj
aC5oCkBAIC0yNCw5ICsyNCw5IEBACiBpbnQgZG9fd2F0Y2goc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbik7CiBp
bnQgZG9fdW53YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0
IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAotLyogRmlyZSBhbGwgd2F0Y2hlczog
cmVjdXJzZSBtZWFucyBhbGwgdGhlIGNoaWxkcmVuIGFyZSBhZmZlY3RlZCAo
aWUuIHJtKS4gKi8KKy8qIEZpcmUgYWxsIHdhdGNoZXM6ICFleGFjdCBtZWFu
cyBhbGwgdGhlIGNoaWxkcmVuIGFyZSBhZmZlY3RlZCAoaWUuIHJtKS4gKi8K
IHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBj
b25zdCB2b2lkICp0bXAsIGNvbnN0IGNoYXIgKm5hbWUsCi0JCSAgYm9vbCBy
ZWN1cnNlKTsKKwkJICBib29sIGV4YWN0KTsKIAogdm9pZCBjb25uX2RlbGV0
ZV9hbGxfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7CiAKLS0g
CjIuMTcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Transfer-Encoding: base64

RnJvbSAyZDRmNDEwODk5YmY1OWUxMTJjMTA3ZjM3MWMzZDE2NGY4YTU5MmY4
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDQgKzAyMDAKU3ViamVjdDogW1BBVENIIDA4LzEwXSB0b29scy94ZW5z
dG9yZTogaW50cm9kdWNlIG5vZGVfcGVybXMgc3RydWN0dXJlCgpUaGVyZSBh
cmUgc2V2ZXJhbCBwbGFjZXMgaW4geGVuc3RvcmVkIHVzaW5nIGEgcGVybWlz
c2lvbiBhcnJheSBhbmQgdGhlCnNpemUgb2YgdGhhdCBhcnJheS4gSW50cm9k
dWNlIGEgbmV3IHN0cnVjdCBub2RlX3Blcm1zIGNvbnRhaW5pbmcgYm90aC4K
ClRoaXMgaXMgcGFydCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogSnVl
cmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpBY2tlZC1ieTogSnVsaWVu
IEdyYWxsIDxqZ3JhbGxAYW1hem9uLmNvbT4KUmV2aWV3ZWQtYnk6IFBhdWwg
RHVycmFudCA8cGF1bEB4ZW4ub3JnPgotLS0KIHRvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9jb3JlLmMgICB8IDc5ICsrKysrKysrKysrKysrKy0tLS0tLS0t
LS0tLS0tLS0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmggICB8
ICA4ICsrKy0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYyB8
IDEyICsrLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDUwIGluc2VydGlvbnMoKyks
IDQ5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5jCmluZGV4IGQ3YzAyNTYxNmVhZC4uZmU5OTQzMTEzYjlmIDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBi
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTQwMSwxNCAr
NDAxLDE0IEBAIHN0YXRpYyBzdHJ1Y3Qgbm9kZSAqcmVhZF9ub2RlKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAJLyogRGF0
YWxlbiwgY2hpbGRsZW4sIG51bWJlciBvZiBwZXJtaXNzaW9ucyAqLwogCWhk
ciA9ICh2b2lkICopZGF0YS5kcHRyOwogCW5vZGUtPmdlbmVyYXRpb24gPSBo
ZHItPmdlbmVyYXRpb247Ci0Jbm9kZS0+bnVtX3Blcm1zID0gaGRyLT5udW1f
cGVybXM7CisJbm9kZS0+cGVybXMubnVtID0gaGRyLT5udW1fcGVybXM7CiAJ
bm9kZS0+ZGF0YWxlbiA9IGhkci0+ZGF0YWxlbjsKIAlub2RlLT5jaGlsZGxl
biA9IGhkci0+Y2hpbGRsZW47CiAKIAkvKiBQZXJtaXNzaW9ucyBhcmUgc3Ry
dWN0IHhzX3Blcm1pc3Npb25zLiAqLwotCW5vZGUtPnBlcm1zID0gaGRyLT5w
ZXJtczsKKwlub2RlLT5wZXJtcy5wID0gaGRyLT5wZXJtczsKIAkvKiBEYXRh
IGlzIGJpbmFyeSBibG9iICh1c3VhbGx5IGFzY2lpLCBubyBudWwpLiAqLwot
CW5vZGUtPmRhdGEgPSBub2RlLT5wZXJtcyArIG5vZGUtPm51bV9wZXJtczsK
Kwlub2RlLT5kYXRhID0gbm9kZS0+cGVybXMucCArIG5vZGUtPnBlcm1zLm51
bTsKIAkvKiBDaGlsZHJlbiBpcyBzdHJpbmdzLCBudWwgc2VwYXJhdGVkLiAq
LwogCW5vZGUtPmNoaWxkcmVuID0gbm9kZS0+ZGF0YSArIG5vZGUtPmRhdGFs
ZW47CiAKQEAgLTQyNSw3ICs0MjUsNyBAQCBpbnQgd3JpdGVfbm9kZV9yYXco
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVj
dCBub2RlICpub2RlLAogCXN0cnVjdCB4c190ZGJfcmVjb3JkX2hkciAqaGRy
OwogCiAJZGF0YS5kc2l6ZSA9IHNpemVvZigqaGRyKQotCQkrIG5vZGUtPm51
bV9wZXJtcypzaXplb2Yobm9kZS0+cGVybXNbMF0pCisJCSsgbm9kZS0+cGVy
bXMubnVtICogc2l6ZW9mKG5vZGUtPnBlcm1zLnBbMF0pCiAJCSsgbm9kZS0+
ZGF0YWxlbiArIG5vZGUtPmNoaWxkbGVuOwogCiAJaWYgKCFub19xdW90YV9j
aGVjayAmJiBkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pICYmCkBAIC00
MzcsMTIgKzQzNywxMyBAQCBpbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpu
b2RlLAogCWRhdGEuZHB0ciA9IHRhbGxvY19zaXplKG5vZGUsIGRhdGEuZHNp
emUpOwogCWhkciA9ICh2b2lkICopZGF0YS5kcHRyOwogCWhkci0+Z2VuZXJh
dGlvbiA9IG5vZGUtPmdlbmVyYXRpb247Ci0JaGRyLT5udW1fcGVybXMgPSBu
b2RlLT5udW1fcGVybXM7CisJaGRyLT5udW1fcGVybXMgPSBub2RlLT5wZXJt
cy5udW07CiAJaGRyLT5kYXRhbGVuID0gbm9kZS0+ZGF0YWxlbjsKIAloZHIt
PmNoaWxkbGVuID0gbm9kZS0+Y2hpbGRsZW47CiAKLQltZW1jcHkoaGRyLT5w
ZXJtcywgbm9kZS0+cGVybXMsIG5vZGUtPm51bV9wZXJtcypzaXplb2Yobm9k
ZS0+cGVybXNbMF0pKTsKLQlwID0gaGRyLT5wZXJtcyArIG5vZGUtPm51bV9w
ZXJtczsKKwltZW1jcHkoaGRyLT5wZXJtcywgbm9kZS0+cGVybXMucCwKKwkg
ICAgICAgbm9kZS0+cGVybXMubnVtICogc2l6ZW9mKCpub2RlLT5wZXJtcy5w
KSk7CisJcCA9IGhkci0+cGVybXMgKyBub2RlLT5wZXJtcy5udW07CiAJbWVt
Y3B5KHAsIG5vZGUtPmRhdGEsIG5vZGUtPmRhdGFsZW4pOwogCXAgKz0gbm9k
ZS0+ZGF0YWxlbjsKIAltZW1jcHkocCwgbm9kZS0+Y2hpbGRyZW4sIG5vZGUt
PmNoaWxkbGVuKTsKQEAgLTQ2OCw4ICs0NjksNyBAQCBzdGF0aWMgaW50IHdy
aXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2Rl
ICpub2RlLAogfQogCiBzdGF0aWMgZW51bSB4c19wZXJtX3R5cGUgcGVybV9m
b3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKLQkJCQkgICAgICAg
c3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJtcywKLQkJCQkgICAgICAgdW5z
aWduZWQgaW50IG51bSkKKwkJCQkgICAgICAgY29uc3Qgc3RydWN0IG5vZGVf
cGVybXMgKnBlcm1zKQogewogCXVuc2lnbmVkIGludCBpOwogCWVudW0geHNf
cGVybV90eXBlIG1hc2sgPSBYU19QRVJNX1JFQUR8WFNfUEVSTV9XUklURXxY
U19QRVJNX09XTkVSOwpAQCAtNDc4LDE2ICs0NzgsMTYgQEAgc3RhdGljIGVu
dW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sCiAJCW1hc2sgJj0gflhTX1BFUk1fV1JJVEU7CiAKIAkvKiBP
d25lcnMgYW5kIHRvb2xzIGdldCBpdCBhbGwuLi4gKi8KLQlpZiAoIWRvbWFp
bl9pc191bnByaXZpbGVnZWQoY29ubikgfHwgcGVybXNbMF0uaWQgPT0gY29u
bi0+aWQKLSAgICAgICAgICAgICAgICB8fCAoY29ubi0+dGFyZ2V0ICYmIHBl
cm1zWzBdLmlkID09IGNvbm4tPnRhcmdldC0+aWQpKQorCWlmICghZG9tYWlu
X2lzX3VucHJpdmlsZWdlZChjb25uKSB8fCBwZXJtcy0+cFswXS5pZCA9PSBj
b25uLT5pZAorICAgICAgICAgICAgICAgIHx8IChjb25uLT50YXJnZXQgJiYg
cGVybXMtPnBbMF0uaWQgPT0gY29ubi0+dGFyZ2V0LT5pZCkpCiAJCXJldHVy
biAoWFNfUEVSTV9SRUFEfFhTX1BFUk1fV1JJVEV8WFNfUEVSTV9PV05FUikg
JiBtYXNrOwogCi0JZm9yIChpID0gMTsgaSA8IG51bTsgaSsrKQotCQlpZiAo
cGVybXNbaV0uaWQgPT0gY29ubi0+aWQKLSAgICAgICAgICAgICAgICAgICAg
ICAgIHx8IChjb25uLT50YXJnZXQgJiYgcGVybXNbaV0uaWQgPT0gY29ubi0+
dGFyZ2V0LT5pZCkpCi0JCQlyZXR1cm4gcGVybXNbaV0ucGVybXMgJiBtYXNr
OworCWZvciAoaSA9IDE7IGkgPCBwZXJtcy0+bnVtOyBpKyspCisJCWlmIChw
ZXJtcy0+cFtpXS5pZCA9PSBjb25uLT5pZAorICAgICAgICAgICAgICAgICAg
ICAgICAgfHwgKGNvbm4tPnRhcmdldCAmJiBwZXJtcy0+cFtpXS5pZCA9PSBj
b25uLT50YXJnZXQtPmlkKSkKKwkJCXJldHVybiBwZXJtcy0+cFtpXS5wZXJt
cyAmIG1hc2s7CiAKLQlyZXR1cm4gcGVybXNbMF0ucGVybXMgJiBtYXNrOwor
CXJldHVybiBwZXJtcy0+cFswXS5wZXJtcyAmIG1hc2s7CiB9CiAKIC8qCkBA
IC01MzQsNyArNTM0LDcgQEAgc3RhdGljIGludCBhc2tfcGFyZW50cyhzdHJ1
Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAogCQlyZXR1
cm4gMDsKIAl9CiAKLQkqcGVybSA9IHBlcm1fZm9yX2Nvbm4oY29ubiwgbm9k
ZS0+cGVybXMsIG5vZGUtPm51bV9wZXJtcyk7CisJKnBlcm0gPSBwZXJtX2Zv
cl9jb25uKGNvbm4sICZub2RlLT5wZXJtcyk7CiAJcmV0dXJuIDA7CiB9CiAK
QEAgLTU4MCw4ICs1ODAsNyBAQCBzdHJ1Y3Qgbm9kZSAqZ2V0X25vZGUoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sCiAJbm9kZSA9IHJlYWRfbm9kZShjb25u
LCBjdHgsIG5hbWUpOwogCS8qIElmIHdlIGRvbid0IGhhdmUgcGVybWlzc2lv
biwgd2UgZG9uJ3QgaGF2ZSBub2RlLiAqLwogCWlmIChub2RlKSB7Ci0JCWlm
ICgocGVybV9mb3JfY29ubihjb25uLCBub2RlLT5wZXJtcywgbm9kZS0+bnVt
X3Blcm1zKSAmIHBlcm0pCi0JCSAgICAhPSBwZXJtKSB7CisJCWlmICgocGVy
bV9mb3JfY29ubihjb25uLCAmbm9kZS0+cGVybXMpICYgcGVybSkgIT0gcGVy
bSkgewogCQkJZXJybm8gPSBFQUNDRVM7CiAJCQlub2RlID0gTlVMTDsKIAkJ
fQpAQCAtNzU3LDE2ICs3NTYsMTUgQEAgY29uc3QgY2hhciAqb25lYXJnKHN0
cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlyZXR1cm4gaW4tPmJ1ZmZlcjsK
IH0KIAotc3RhdGljIGNoYXIgKnBlcm1zX3RvX3N0cmluZ3MoY29uc3Qgdm9p
ZCAqY3R4LAotCQkJICAgICAgc3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJt
cywgdW5zaWduZWQgaW50IG51bSwKK3N0YXRpYyBjaGFyICpwZXJtc190b19z
dHJpbmdzKGNvbnN0IHZvaWQgKmN0eCwgY29uc3Qgc3RydWN0IG5vZGVfcGVy
bXMgKnBlcm1zLAogCQkJICAgICAgdW5zaWduZWQgaW50ICpsZW4pCiB7CiAJ
dW5zaWduZWQgaW50IGk7CiAJY2hhciAqc3RyaW5ncyA9IE5VTEw7CiAJY2hh
ciBidWZmZXJbTUFYX1NUUkxFTih1bnNpZ25lZCBpbnQpICsgMV07CiAKLQlm
b3IgKCpsZW4gPSAwLCBpID0gMDsgaSA8IG51bTsgaSsrKSB7Ci0JCWlmICgh
eHNfcGVybV90b19zdHJpbmcoJnBlcm1zW2ldLCBidWZmZXIsIHNpemVvZihi
dWZmZXIpKSkKKwlmb3IgKCpsZW4gPSAwLCBpID0gMDsgaSA8IHBlcm1zLT5u
dW07IGkrKykgeworCQlpZiAoIXhzX3Blcm1fdG9fc3RyaW5nKCZwZXJtcy0+
cFtpXSwgYnVmZmVyLCBzaXplb2YoYnVmZmVyKSkpCiAJCQlyZXR1cm4gTlVM
TDsKIAogCQlzdHJpbmdzID0gdGFsbG9jX3JlYWxsb2MoY3R4LCBzdHJpbmdz
LCBjaGFyLApAQCAtOTQ1LDEzICs5NDMsMTMgQEAgc3RhdGljIHN0cnVjdCBu
b2RlICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
Y29uc3Qgdm9pZCAqY3R4LAogCQlnb3RvIG5vbWVtOwogCiAJLyogSW5oZXJp
dCBwZXJtaXNzaW9ucywgZXhjZXB0IHVucHJpdmlsZWdlZCBkb21haW5zIG93
biB3aGF0IHRoZXkgY3JlYXRlICovCi0Jbm9kZS0+bnVtX3Blcm1zID0gcGFy
ZW50LT5udW1fcGVybXM7Ci0Jbm9kZS0+cGVybXMgPSB0YWxsb2NfbWVtZHVw
KG5vZGUsIHBhcmVudC0+cGVybXMsCi0JCQkJICAgIG5vZGUtPm51bV9wZXJt
cyAqIHNpemVvZihub2RlLT5wZXJtc1swXSkpOwotCWlmICghbm9kZS0+cGVy
bXMpCisJbm9kZS0+cGVybXMubnVtID0gcGFyZW50LT5wZXJtcy5udW07CisJ
bm9kZS0+cGVybXMucCA9IHRhbGxvY19tZW1kdXAobm9kZSwgcGFyZW50LT5w
ZXJtcy5wLAorCQkJCSAgICAgIG5vZGUtPnBlcm1zLm51bSAqIHNpemVvZigq
bm9kZS0+cGVybXMucCkpOworCWlmICghbm9kZS0+cGVybXMucCkKIAkJZ290
byBub21lbTsKIAlpZiAoZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25uKSkK
LQkJbm9kZS0+cGVybXNbMF0uaWQgPSBjb25uLT5pZDsKKwkJbm9kZS0+cGVy
bXMucFswXS5pZCA9IGNvbm4tPmlkOwogCiAJLyogTm8gY2hpbGRyZW4sIG5v
IGRhdGEgKi8KIAlub2RlLT5jaGlsZHJlbiA9IG5vZGUtPmRhdGEgPSBOVUxM
OwpAQCAtMTIyOCw3ICsxMjI2LDcgQEAgc3RhdGljIGludCBkb19nZXRfcGVy
bXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9k
YXRhICppbikKIAlpZiAoIW5vZGUpCiAJCXJldHVybiBlcnJubzsKIAotCXN0
cmluZ3MgPSBwZXJtc190b19zdHJpbmdzKG5vZGUsIG5vZGUtPnBlcm1zLCBu
b2RlLT5udW1fcGVybXMsICZsZW4pOworCXN0cmluZ3MgPSBwZXJtc190b19z
dHJpbmdzKG5vZGUsICZub2RlLT5wZXJtcywgJmxlbik7CiAJaWYgKCFzdHJp
bmdzKQogCQlyZXR1cm4gZXJybm87CiAKQEAgLTEyMzksMTMgKzEyMzcsMTIg
QEAgc3RhdGljIGludCBkb19nZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAogc3RhdGljIGlu
dCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVj
dCBidWZmZXJlZF9kYXRhICppbikKIHsKLQl1bnNpZ25lZCBpbnQgbnVtOwot
CXN0cnVjdCB4c19wZXJtaXNzaW9ucyAqcGVybXM7CisJc3RydWN0IG5vZGVf
cGVybXMgcGVybXM7CiAJY2hhciAqbmFtZSwgKnBlcm1zdHI7CiAJc3RydWN0
IG5vZGUgKm5vZGU7CiAKLQludW0gPSB4c19jb3VudF9zdHJpbmdzKGluLT5i
dWZmZXIsIGluLT51c2VkKTsKLQlpZiAobnVtIDwgMikKKwlwZXJtcy5udW0g
PSB4c19jb3VudF9zdHJpbmdzKGluLT5idWZmZXIsIGluLT51c2VkKTsKKwlp
ZiAocGVybXMubnVtIDwgMikKIAkJcmV0dXJuIEVJTlZBTDsKIAogCS8qIEZp
cnN0IGFyZyBpcyBub2RlIG5hbWUuICovCkBAIC0xMjU2LDIxICsxMjUzLDIx
IEBAIHN0YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJCXJldHVybiBl
cnJubzsKIAogCXBlcm1zdHIgPSBpbi0+YnVmZmVyICsgc3RybGVuKGluLT5i
dWZmZXIpICsgMTsKLQludW0tLTsKKwlwZXJtcy5udW0tLTsKIAotCXBlcm1z
ID0gdGFsbG9jX2FycmF5KG5vZGUsIHN0cnVjdCB4c19wZXJtaXNzaW9ucywg
bnVtKTsKLQlpZiAoIXBlcm1zKQorCXBlcm1zLnAgPSB0YWxsb2NfYXJyYXko
bm9kZSwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy5udW0pOworCWlm
ICghcGVybXMucCkKIAkJcmV0dXJuIEVOT01FTTsKLQlpZiAoIXhzX3N0cmlu
Z3NfdG9fcGVybXMocGVybXMsIG51bSwgcGVybXN0cikpCisJaWYgKCF4c19z
dHJpbmdzX3RvX3Blcm1zKHBlcm1zLnAsIHBlcm1zLm51bSwgcGVybXN0cikp
CiAJCXJldHVybiBlcnJubzsKIAogCS8qIFVucHJpdmlsZWdlZCBkb21haW5z
IG1heSBub3QgY2hhbmdlIHRoZSBvd25lci4gKi8KLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSAmJiBwZXJtc1swXS5pZCAhPSBub2RlLT5w
ZXJtc1swXS5pZCkKKwlpZiAoZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25u
KSAmJgorCSAgICBwZXJtcy5wWzBdLmlkICE9IG5vZGUtPnBlcm1zLnBbMF0u
aWQpCiAJCXJldHVybiBFUEVSTTsKIAogCWRvbWFpbl9lbnRyeV9kZWMoY29u
biwgbm9kZSk7CiAJbm9kZS0+cGVybXMgPSBwZXJtczsKLQlub2RlLT5udW1f
cGVybXMgPSBudW07CiAJZG9tYWluX2VudHJ5X2luYyhjb25uLCBub2RlKTsK
IAogCWlmICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUsIGZhbHNlKSkKQEAgLTE1
NDUsOCArMTU0Miw4IEBAIHN0YXRpYyB2b2lkIG1hbnVhbF9ub2RlKGNvbnN0
IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKmNoaWxkKQogCQliYXJmX3BlcnJv
cigiQ291bGQgbm90IGFsbG9jYXRlIGluaXRpYWwgbm9kZSAlcyIsIG5hbWUp
OwogCiAJbm9kZS0+bmFtZSA9IG5hbWU7Ci0Jbm9kZS0+cGVybXMgPSAmcGVy
bXM7Ci0Jbm9kZS0+bnVtX3Blcm1zID0gMTsKKwlub2RlLT5wZXJtcy5wID0g
JnBlcm1zOworCW5vZGUtPnBlcm1zLm51bSA9IDE7CiAJbm9kZS0+Y2hpbGRy
ZW4gPSAoY2hhciAqKWNoaWxkOwogCWlmIChjaGlsZCkKIAkJbm9kZS0+Y2hp
bGRsZW4gPSBzdHJsZW4oY2hpbGQpICsgMTsKZGlmZiAtLWdpdCBhL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmggYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5oCmluZGV4IDNjYjFjMjM1YTEwMS4uMTkzZDkzMTQy
NjM2IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKQEAg
LTEwOSw2ICsxMDksMTEgQEAgc3RydWN0IGNvbm5lY3Rpb24KIH07CiBleHRl
cm4gc3RydWN0IGxpc3RfaGVhZCBjb25uZWN0aW9uczsKIAorc3RydWN0IG5v
ZGVfcGVybXMgeworCXVuc2lnbmVkIGludCBudW07CisJc3RydWN0IHhzX3Bl
cm1pc3Npb25zICpwOworfTsKKwogc3RydWN0IG5vZGUgewogCWNvbnN0IGNo
YXIgKm5hbWU7CiAKQEAgLTEyMCw4ICsxMjUsNyBAQCBzdHJ1Y3Qgbm9kZSB7
CiAjZGVmaW5lIE5PX0dFTkVSQVRJT04gfigodWludDY0X3QpMCkKIAogCS8q
IFBlcm1pc3Npb25zLiAqLwotCXVuc2lnbmVkIGludCBudW1fcGVybXM7Ci0J
c3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJtczsKKwlzdHJ1Y3Qgbm9kZV9w
ZXJtcyBwZXJtczsKIAogCS8qIENvbnRlbnRzLiAqLwogCXVuc2lnbmVkIGlu
dCBkYXRhbGVuOwpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2RvbWFpbi5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFp
bi5jCmluZGV4IDBlMjkyNmUyYTNkMC4uZGM1MWNkZmE5YWE3IDEwMDY0NAot
LS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKKysrIGIv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jCkBAIC02NTcsMTIg
KzY1NywxMiBAQCB2b2lkIGRvbWFpbl9lbnRyeV9pbmMoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQogCWlmICghY29ubikK
IAkJcmV0dXJuOwogCi0JaWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBlcm1z
WzBdLmlkICE9IGNvbm4tPmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAgJiYg
bm9kZS0+cGVybXMucFswXS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAoY29u
bi0+dHJhbnNhY3Rpb24pIHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2luYyhj
b25uLT50cmFuc2FjdGlvbiwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7CisJ
CQkJbm9kZS0+cGVybXMucFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlkID0g
ZmluZF9kb21haW5fYnlfZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOworCQkJ
ZCA9IGZpbmRfZG9tYWluX2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0uaWQp
OwogCQkJaWYgKGQpCiAJCQkJZC0+bmJlbnRyeSsrOwogCQl9CkBAIC02ODMs
MTIgKzY4MywxMiBAQCB2b2lkIGRvbWFpbl9lbnRyeV9kZWMoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQogCWlmICghY29u
bikKIAkJcmV0dXJuOwogCi0JaWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBl
cm1zWzBdLmlkICE9IGNvbm4tPmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAg
JiYgbm9kZS0+cGVybXMucFswXS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAo
Y29ubi0+dHJhbnNhY3Rpb24pIHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2Rl
Yyhjb25uLT50cmFuc2FjdGlvbiwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7
CisJCQkJbm9kZS0+cGVybXMucFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlk
ID0gZmluZF9kb21haW5fYnlfZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOwor
CQkJZCA9IGZpbmRfZG9tYWluX2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0u
aWQpOwogCQkJaWYgKGQgJiYgZC0+bmJlbnRyeSkKIAkJCQlkLT5uYmVudHJ5
LS07CiAJCX0KLS0gCjIuMTcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Transfer-Encoding: base64

RnJvbSBjZGRmNzQwMzFiM2M4YTEwOGU4ZmQ3ZGIwYmY1NmU5YzI4MDlkM2Uy
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDUgKzAyMDAKU3ViamVjdDogW1BBVENIIDA5LzEwXSB0b29scy94ZW5z
dG9yZTogYWxsb3cgc3BlY2lhbCB3YXRjaGVzIGZvciBwcml2aWxlZ2VkCiBj
YWxsZXJzIG9ubHkKClRoZSBzcGVjaWFsIHdhdGNoZXMgIkBpbnRyb2R1Y2VE
b21haW4iIGFuZCAiQHJlbGVhc2VEb21haW4iIHNob3VsZCBiZQphbGxvd2Vk
IGZvciBwcml2aWxlZ2VkIGNhbGxlcnMgb25seSwgYXMgdGhleSBhbGxvdyB0
byBnYWluIGluZm9ybWF0aW9uCmFib3V0IHByZXNlbmNlIG9mIG90aGVyIGd1
ZXN0cyBvbiB0aGUgaG9zdC4gU28gc2VuZCB3YXRjaCBldmVudHMgZm9yCnRo
b3NlIHdhdGNoZXMgdmlhIHByaXZpbGVnZWQgY29ubmVjdGlvbnMgb25seS4K
CkluIG9yZGVyIHRvIGFsbG93IGZvciBkaXNhZ2dyZWdhdGVkIHNldHVwcyB3
aGVyZSBlLmcuIGRyaXZlciBkb21haW5zCm5lZWQgdG8gbWFrZSB1c2Ugb2Yg
dGhvc2Ugc3BlY2lhbCB3YXRjaGVzIGFkZCBzdXBwb3J0IGZvciBjYWxsaW5n
CiJzZXQgcGVybWlzc2lvbnMiIGZvciB0aG9zZSBzcGVjaWFsIG5vZGVzLCB0
b28uCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6
IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6
IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5
OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4KLS0tCiBkb2NzL21pc2Mv
eGVuc3RvcmUudHh0ICAgICAgICAgICAgfCAgNSArKysKIHRvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF9jb3JlLmMgICB8IDI3ICsrKysrKysrLS0tLS0tCiB0
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oICAgfCAgMiArKwogdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jIHwgNjAgKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKwogdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2RvbWFpbi5oIHwgIDUgKysrCiB0b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfd2F0Y2guYyAgfCAgNCArKysKIDYgZmlsZXMgY2hhbmdlZCwgOTMgaW5z
ZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL3hlbnN0b3JlLnR4dCBiL2RvY3MvbWlzYy94ZW5zdG9yZS50eHQK
aW5kZXggNmY4NTY5ZDU3NjBmLi4zMjk2OWViM2ZlY2QgMTAwNjQ0Ci0tLSBh
L2RvY3MvbWlzYy94ZW5zdG9yZS50eHQKKysrIGIvZG9jcy9taXNjL3hlbnN0
b3JlLnR4dApAQCAtMTcwLDYgKzE3MCw5IEBAIFNFVF9QRVJNUwkJPHBhdGg+
fDxwZXJtLWFzLXN0cmluZz58Kz8KIAkJbjxkb21pZD4Jbm8gYWNjZXNzCiAJ
U2VlIGh0dHA6Ly93aWtpLnhlbi5vcmcvd2lraS9YZW5CdXMgc2VjdGlvbgog
CWBQZXJtaXNzaW9ucycgZm9yIGRldGFpbHMgb2YgdGhlIHBlcm1pc3Npb25z
IHN5c3RlbS4KKwlJdCBpcyBwb3NzaWJsZSB0byBzZXQgcGVybWlzc2lvbnMg
Zm9yIHRoZSBzcGVjaWFsIHdhdGNoIHBhdGhzCisJIkBpbnRyb2R1Y2VEb21h
aW4iIGFuZCAiQHJlbGVhc2VEb21haW4iIHRvIGVuYWJsZSByZWNlaXZpbmcg
dGhvc2UKKwl3YXRjaGVzIGluIHVucHJpdmlsZWdlZCBkb21haW5zLgogCiAt
LS0tLS0tLS0tIFdhdGNoZXMgLS0tLS0tLS0tLQogCkBAIC0xOTQsNiArMTk3
LDggQEAgV0FUQ0gJCQk8d3BhdGg+fDx0b2tlbj58PwogCSAgICBAcmVsZWFz
ZURvbWFpbiAJb2NjdXJzIG9uIGFueSBkb21haW4gY3Jhc2ggb3IKIAkJCQlz
aHV0ZG93biwgYW5kIGFsc28gb24gUkVMRUFTRQogCQkJCWFuZCBkb21haW4g
ZGVzdHJ1Y3Rpb24KKwk8d3NwZWNpYWw+IGV2ZW50cyBhcmUgc2VudCB0byBw
cml2aWxlZ2VkIGNhbGxlcnMgb3IgZXhwbGljaXRseQorCXZpYSBTRVRfUEVS
TVMgZW5hYmxlZCBkb21haW5zIG9ubHkuCiAKIAlXaGVuIGEgd2F0Y2ggaXMg
Zmlyc3Qgc2V0IHVwIGl0IGlzIHRyaWdnZXJlZCBvbmNlIHN0cmFpZ2h0CiAJ
YXdheSwgd2l0aCA8cGF0aD4gZXF1YWwgdG8gPHdwYXRoPi4gIFdhdGNoZXMg
bWF5IGJlIHRyaWdnZXJlZApkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX2NvcmUuYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9j
b3JlLmMKaW5kZXggZmU5OTQzMTEzYjlmLi43MjBiZWMyNjlkZDMgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKKysrIGIv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpAQCAtNDY4LDggKzQ2
OCw4IEBAIHN0YXRpYyBpbnQgd3JpdGVfbm9kZShzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwgc3RydWN0IG5vZGUgKm5vZGUsCiAJcmV0dXJuIHdyaXRlX25v
ZGVfcmF3KGNvbm4sICZrZXksIG5vZGUsIG5vX3F1b3RhX2NoZWNrKTsKIH0K
IAotc3RhdGljIGVudW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sCi0JCQkJICAgICAgIGNvbnN0IHN0cnVj
dCBub2RlX3Blcm1zICpwZXJtcykKK2VudW0geHNfcGVybV90eXBlIHBlcm1f
Zm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCisJCQkJY29uc3Qg
c3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKQogewogCXVuc2lnbmVkIGludCBp
OwogCWVudW0geHNfcGVybV90eXBlIG1hc2sgPSBYU19QRVJNX1JFQUR8WFNf
UEVSTV9XUklURXxYU19QRVJNX09XTkVSOwpAQCAtMTI0NSwyMiArMTI0NSwy
OSBAQCBzdGF0aWMgaW50IGRvX3NldF9wZXJtcyhzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCWlmIChwZXJt
cy5udW0gPCAyKQogCQlyZXR1cm4gRUlOVkFMOwogCi0JLyogRmlyc3QgYXJn
IGlzIG5vZGUgbmFtZS4gKi8KLQkvKiBXZSBtdXN0IG93biBub2RlIHRvIGRv
IHRoaXMgKHRvb2xzIGNhbiBkbyB0aGlzIHRvbykuICovCi0Jbm9kZSA9IGdl
dF9ub2RlX2Nhbm9uaWNhbGl6ZWQoY29ubiwgaW4sIGluLT5idWZmZXIsICZu
YW1lLAotCQkJCSAgICAgIFhTX1BFUk1fV1JJVEUgfCBYU19QRVJNX09XTkVS
KTsKLQlpZiAoIW5vZGUpCi0JCXJldHVybiBlcnJubzsKLQogCXBlcm1zdHIg
PSBpbi0+YnVmZmVyICsgc3RybGVuKGluLT5idWZmZXIpICsgMTsKIAlwZXJt
cy5udW0tLTsKIAotCXBlcm1zLnAgPSB0YWxsb2NfYXJyYXkobm9kZSwgc3Ry
dWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy5udW0pOworCXBlcm1zLnAgPSB0
YWxsb2NfYXJyYXkoaW4sIHN0cnVjdCB4c19wZXJtaXNzaW9ucywgcGVybXMu
bnVtKTsKIAlpZiAoIXBlcm1zLnApCiAJCXJldHVybiBFTk9NRU07CiAJaWYg
KCF4c19zdHJpbmdzX3RvX3Blcm1zKHBlcm1zLnAsIHBlcm1zLm51bSwgcGVy
bXN0cikpCiAJCXJldHVybiBlcnJubzsKIAorCS8qIEZpcnN0IGFyZyBpcyBu
b2RlIG5hbWUuICovCisJaWYgKHN0cnN0YXJ0cyhpbi0+YnVmZmVyLCAiQCIp
KSB7CisJCWlmIChzZXRfcGVybXNfc3BlY2lhbChjb25uLCBpbi0+YnVmZmVy
LCAmcGVybXMpKQorCQkJcmV0dXJuIGVycm5vOworCQlzZW5kX2Fjayhjb25u
LCBYU19TRVRfUEVSTVMpOworCQlyZXR1cm4gMDsKKwl9CisKKwkvKiBXZSBt
dXN0IG93biBub2RlIHRvIGRvIHRoaXMgKHRvb2xzIGNhbiBkbyB0aGlzIHRv
bykuICovCisJbm9kZSA9IGdldF9ub2RlX2Nhbm9uaWNhbGl6ZWQoY29ubiwg
aW4sIGluLT5idWZmZXIsICZuYW1lLAorCQkJCSAgICAgIFhTX1BFUk1fV1JJ
VEUgfCBYU19QRVJNX09XTkVSKTsKKwlpZiAoIW5vZGUpCisJCXJldHVybiBl
cnJubzsKKwogCS8qIFVucHJpdmlsZWdlZCBkb21haW5zIG1heSBub3QgY2hh
bmdlIHRoZSBvd25lci4gKi8KIAlpZiAoZG9tYWluX2lzX3VucHJpdmlsZWdl
ZChjb25uKSAmJgogCSAgICBwZXJtcy5wWzBdLmlkICE9IG5vZGUtPnBlcm1z
LnBbMF0uaWQpCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfY29yZS5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaApp
bmRleCAxOTNkOTMxNDI2MzYuLmYzZGE2YmJjOTQzZCAxMDA2NDQKLS0tIGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaAorKysgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCkBAIC0xNjUsNiArMTY1LDggQEAg
c3RydWN0IG5vZGUgKmdldF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LAogc3RydWN0IGNvbm5lY3Rpb24gKm5ld19jb25uZWN0aW9uKGNvbm53cml0
ZWZuX3QgKndyaXRlLCBjb25ucmVhZGZuX3QgKnJlYWQpOwogdm9pZCBjaGVj
a19zdG9yZSh2b2lkKTsKIHZvaWQgY29ycnVwdChzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwgY29uc3QgY2hhciAqZm10LCAuLi4pOworZW51bSB4c19wZXJt
X3R5cGUgcGVybV9mb3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwK
KwkJCQljb25zdCBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMpOwogCiAvKiBJ
cyB0aGlzIGEgdmFsaWQgbm9kZSBuYW1lPyAqLwogYm9vbCBpc192YWxpZF9u
b2RlbmFtZShjb25zdCBjaGFyICpub2RlKTsKZGlmZiAtLWdpdCBhL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYyBiL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9kb21haW4uYwppbmRleCBkYzUxY2RmYTlhYTcuLjdhZmFi
ZTBhZTA4NCAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVk
X2RvbWFpbi5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21h
aW4uYwpAQCAtNDEsNiArNDEsOSBAQCBzdGF0aWMgZXZ0Y2huX3BvcnRfdCB2
aXJxX3BvcnQ7CiAKIHhlbmV2dGNobl9oYW5kbGUgKnhjZV9oYW5kbGUgPSBO
VUxMOwogCitzdGF0aWMgc3RydWN0IG5vZGVfcGVybXMgZG9tX3JlbGVhc2Vf
cGVybXM7CitzdGF0aWMgc3RydWN0IG5vZGVfcGVybXMgZG9tX2ludHJvZHVj
ZV9wZXJtczsKKwogc3RydWN0IGRvbWFpbgogewogCXN0cnVjdCBsaXN0X2hl
YWQgbGlzdDsKQEAgLTU4OSw2ICs1OTIsNTkgQEAgdm9pZCByZXN0b3JlX2V4
aXN0aW5nX2Nvbm5lY3Rpb25zKHZvaWQpCiB7CiB9CiAKK3N0YXRpYyBpbnQg
c2V0X2RvbV9wZXJtc19kZWZhdWx0KHN0cnVjdCBub2RlX3Blcm1zICpwZXJt
cykKK3sKKwlwZXJtcy0+bnVtID0gMTsKKwlwZXJtcy0+cCA9IHRhbGxvY19h
cnJheShOVUxMLCBzdHJ1Y3QgeHNfcGVybWlzc2lvbnMsIHBlcm1zLT5udW0p
OworCWlmICghcGVybXMtPnApCisJCXJldHVybiAtMTsKKwlwZXJtcy0+cC0+
aWQgPSAwOworCXBlcm1zLT5wLT5wZXJtcyA9IFhTX1BFUk1fTk9ORTsKKwor
CXJldHVybiAwOworfQorCitzdGF0aWMgc3RydWN0IG5vZGVfcGVybXMgKmdl
dF9wZXJtc19zcGVjaWFsKGNvbnN0IGNoYXIgKm5hbWUpCit7CisJaWYgKCFz
dHJjbXAobmFtZSwgIkByZWxlYXNlRG9tYWluIikpCisJCXJldHVybiAmZG9t
X3JlbGVhc2VfcGVybXM7CisJaWYgKCFzdHJjbXAobmFtZSwgIkBpbnRyb2R1
Y2VEb21haW4iKSkKKwkJcmV0dXJuICZkb21faW50cm9kdWNlX3Blcm1zOwor
CXJldHVybiBOVUxMOworfQorCitpbnQgc2V0X3Blcm1zX3NwZWNpYWwoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IGNoYXIgKm5hbWUsCisJCSAg
ICAgIHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcykKK3sKKwlzdHJ1Y3Qgbm9k
ZV9wZXJtcyAqcDsKKworCXAgPSBnZXRfcGVybXNfc3BlY2lhbChuYW1lKTsK
KwlpZiAoIXApCisJCXJldHVybiBFSU5WQUw7CisKKwlpZiAoKHBlcm1fZm9y
X2Nvbm4oY29ubiwgcCkgJiAoWFNfUEVSTV9XUklURSB8IFhTX1BFUk1fT1dO
RVIpKSAhPQorCSAgICAoWFNfUEVSTV9XUklURSB8IFhTX1BFUk1fT1dORVIp
KQorCQlyZXR1cm4gRUFDQ0VTOworCisJcC0+bnVtID0gcGVybXMtPm51bTsK
Kwl0YWxsb2NfZnJlZShwLT5wKTsKKwlwLT5wID0gcGVybXMtPnA7CisJdGFs
bG9jX3N0ZWFsKE5VTEwsIHBlcm1zLT5wKTsKKworCXJldHVybiAwOworfQor
Citib29sIGNoZWNrX3Blcm1zX3NwZWNpYWwoY29uc3QgY2hhciAqbmFtZSwg
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4pCit7CisJc3RydWN0IG5vZGVfcGVy
bXMgKnA7CisKKwlwID0gZ2V0X3Blcm1zX3NwZWNpYWwobmFtZSk7CisJaWYg
KCFwKQorCQlyZXR1cm4gZmFsc2U7CisKKwlyZXR1cm4gcGVybV9mb3JfY29u
bihjb25uLCBwKSAmIFhTX1BFUk1fUkVBRDsKK30KKwogc3RhdGljIGludCBk
b20wX2luaXQodm9pZCkgCiB7IAogCWV2dGNobl9wb3J0X3QgcG9ydDsKQEAg
LTYxMCw2ICs2NjYsMTAgQEAgc3RhdGljIGludCBkb20wX2luaXQodm9pZCkK
IAogCXhlbmV2dGNobl9ub3RpZnkoeGNlX2hhbmRsZSwgZG9tMC0+cG9ydCk7
CiAKKwlpZiAoc2V0X2RvbV9wZXJtc19kZWZhdWx0KCZkb21fcmVsZWFzZV9w
ZXJtcykgfHwKKwkgICAgc2V0X2RvbV9wZXJtc19kZWZhdWx0KCZkb21faW50
cm9kdWNlX3Blcm1zKSkKKwkJcmV0dXJuIC0xOworCiAJcmV0dXJuIDA7IAog
fQogCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9t
YWluLmggYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmgKaW5k
ZXggNTZhZTAxNTk3NDc1Li4yNTkxODM5NjJhOWMgMTAwNjQ0Ci0tLSBhL3Rv
b2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uaAorKysgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmgKQEAgLTY1LDYgKzY1LDExIEBA
IHZvaWQgZG9tYWluX3dhdGNoX2luYyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
bik7CiB2b2lkIGRvbWFpbl93YXRjaF9kZWMoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4pOwogaW50IGRvbWFpbl93YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubik7CiAKKy8qIFNwZWNpYWwgbm9kZSBwZXJtaXNzaW9uIGhhbmRsaW5n
LiAqLworaW50IHNldF9wZXJtc19zcGVjaWFsKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBjb25zdCBjaGFyICpuYW1lLAorCQkgICAgICBzdHJ1Y3Qgbm9k
ZV9wZXJtcyAqcGVybXMpOworYm9vbCBjaGVja19wZXJtc19zcGVjaWFsKGNv
bnN0IGNoYXIgKm5hbWUsIHN0cnVjdCBjb25uZWN0aW9uICpjb25uKTsKKwog
LyogV3JpdGUgcmF0ZSBsaW1pdGluZyAqLwogCiAjZGVmaW5lIFdSTF9GQUNU
T1IgICAxMDAwIC8qIGZvciBmaXhlZC1wb2ludCBhcml0aG1ldGljICovCmRp
ZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYyBi
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5jCmluZGV4IDM4MzY2
NzU0NTlmYS4uZjRlMjg5MzYyZWI2IDEwMDY0NAotLS0gYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfd2F0Y2guYworKysgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfd2F0Y2guYwpAQCAtMTMzLDYgKzEzMywxMCBAQCB2b2lkIGZp
cmVfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9p
ZCAqY3R4LCBjb25zdCBjaGFyICpuYW1lLAogCiAJLyogQ3JlYXRlIGFuIGV2
ZW50IGZvciBlYWNoIHdhdGNoLiAqLwogCWxpc3RfZm9yX2VhY2hfZW50cnko
aSwgJmNvbm5lY3Rpb25zLCBsaXN0KSB7CisJCS8qIGludHJvZHVjZS9yZWxl
YXNlIGRvbWFpbiB3YXRjaGVzICovCisJCWlmIChjaGVja19zcGVjaWFsX2V2
ZW50KG5hbWUpICYmICFjaGVja19wZXJtc19zcGVjaWFsKG5hbWUsIGkpKQor
CQkJY29udGludWU7CisKIAkJbGlzdF9mb3JfZWFjaF9lbnRyeSh3YXRjaCwg
JmktPndhdGNoZXMsIGxpc3QpIHsKIAkJCWlmIChleGFjdCkgewogCQkJCWlm
IChzdHJlcShuYW1lLCB3YXRjaC0+bm9kZSkpCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.13-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Disposition: attachment;
 filename="xsa115-4.13-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Transfer-Encoding: base64

RnJvbSBlNTdiNzY4N2I0M2IwMzNmZTQ1ZTc1NWUyODVlZmJlNjdiYzcxOTIx
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDYgKzAyMDAKU3ViamVjdDogW1BBVENIIDEwLzEwXSB0b29scy94ZW5z
dG9yZTogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2RlcyB3aXRob3V0CiBh
Y2Nlc3MKClRvZGF5IHdhdGNoIGV2ZW50cyBhcmUgc2VudCByZWdhcmRsZXNz
IG9mIHRoZSBhY2Nlc3MgcmlnaHRzIG9mIHRoZQpub2RlIHRoZSBldmVudCBp
cyBzZW50IGZvci4gVGhpcyBlbmFibGVzIGFueSBndWVzdCB0byBlLmcuIHNl
dHVwIGEKd2F0Y2ggZm9yICIvIiBpbiBvcmRlciB0byBoYXZlIGEgZGV0YWls
ZWQgcmVjb3JkIG9mIGFsbCBYZW5zdG9yZQptb2RpZmljYXRpb25zLgoKTW9k
aWZ5IHRoYXQgYnkgc2VuZGluZyBvbmx5IHdhdGNoIGV2ZW50cyBmb3Igbm9k
ZXMgdGhhdCB0aGUgd2F0Y2hlcgpoYXMgYSBjaGFuY2UgdG8gc2VlIG90aGVy
d2lzZSAoZWl0aGVyIHZpYSBkaXJlY3QgcmVhZHMgb3IgYnkgcXVlcnlpbmcK
dGhlIGNoaWxkcmVuIG9mIGEgbm9kZSkuIFRoaXMgaW5jbHVkZXMgY2FzZXMg
d2hlcmUgdGhlIHZpc2liaWxpdHkgb2YKYSBub2RlIGZvciBhIHdhdGNoZXIg
aXMgY2hhbmdpbmcgKHBlcm1pc3Npb25zIGJlaW5nIHJlbW92ZWQpLgoKVGhp
cyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2Vu
IEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+CltqdWxpZW5nOiBIYW5kbGUgcmVi
YXNlIGNvbmZsaWN0XQpSZXZpZXdlZC1ieTogSnVsaWVuIEdyYWxsIDxqZ3Jh
bGxAYW1hem9uLmNvbT4KUmV2aWV3ZWQtYnk6IFBhdWwgRHVycmFudCA8cGF1
bEB4ZW4ub3JnPgotLS0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3Jl
LmMgICAgICAgIHwgMjggKysrKystLS0tLQogdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX2NvcmUuaCAgICAgICAgfCAxNSArKysrLS0KIHRvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF9kb21haW4uYyAgICAgIHwgIDYgKy0tCiB0b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYyB8IDIxICsrKysrKyst
CiB0b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYyAgICAgICB8IDc1
ICsrKysrKysrKysrKysrKysrKystLS0tLS0tCiB0b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfd2F0Y2guaCAgICAgICB8ICAyICstCiA2IGZpbGVzIGNoYW5n
ZWQsIDEwNCBpbnNlcnRpb25zKCspLCA0MyBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA3MjBiZWMyNjlk
ZDMuLjFjMjg0NTQ1NDU2MCAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfY29yZS5jCkBAIC0zNTgsOCArMzU4LDggQEAgc3RhdGljIHZvaWQgaW5p
dGlhbGl6ZV9mZHMoaW50IHNvY2ssIGludCAqcF9zb2NrX3BvbGxmZF9pZHgs
CiAgKiBJZiBpdCBmYWlscywgcmV0dXJucyBOVUxMIGFuZCBzZXRzIGVycm5v
LgogICogVGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0aW9ucyB3aWxsIGJlIGRv
bmUgd2l0aCBjdHguCiAgKi8KLXN0YXRpYyBzdHJ1Y3Qgbm9kZSAqcmVhZF9u
b2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgs
Ci0JCQkgICAgICBjb25zdCBjaGFyICpuYW1lKQorc3RydWN0IG5vZGUgKnJl
YWRfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAq
Y3R4LAorCQkgICAgICAgY29uc3QgY2hhciAqbmFtZSkKIHsKIAlUREJfREFU
QSBrZXksIGRhdGE7CiAJc3RydWN0IHhzX3RkYl9yZWNvcmRfaGRyICpoZHI7
CkBAIC00OTQsNyArNDk0LDcgQEAgZW51bSB4c19wZXJtX3R5cGUgcGVybV9m
b3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKICAqIEdldCBuYW1l
IG9mIG5vZGUgcGFyZW50LgogICogVGVtcG9yYXJ5IG1lbW9yeSBhbGxvY2F0
aW9ucyBhcmUgZG9uZSB3aXRoIGN0eC4KICAqLwotc3RhdGljIGNoYXIgKmdl
dF9wYXJlbnQoY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpub2RlKQor
Y2hhciAqZ2V0X3BhcmVudChjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIg
Km5vZGUpCiB7CiAJY2hhciAqcGFyZW50OwogCWNoYXIgKnNsYXNoID0gc3Ry
cmNocihub2RlICsgMSwgJy8nKTsKQEAgLTU2NiwxMCArNTY2LDEwIEBAIHN0
YXRpYyBpbnQgZXJybm9fZnJvbV9wYXJlbnRzKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAgKiBJZiBpdCBmYWlscywgcmV0
dXJucyBOVUxMIGFuZCBzZXRzIGVycm5vLgogICogVGVtcG9yYXJ5IG1lbW9y
eSBhbGxvY2F0aW9ucyBhcmUgZG9uZSB3aXRoIGN0eC4KICAqLwotc3RydWN0
IG5vZGUgKmdldF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAotCQkg
ICAgICBjb25zdCB2b2lkICpjdHgsCi0JCSAgICAgIGNvbnN0IGNoYXIgKm5h
bWUsCi0JCSAgICAgIGVudW0geHNfcGVybV90eXBlIHBlcm0pCitzdGF0aWMg
c3RydWN0IG5vZGUgKmdldF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LAorCQkJICAgICBjb25zdCB2b2lkICpjdHgsCisJCQkgICAgIGNvbnN0IGNo
YXIgKm5hbWUsCisJCQkgICAgIGVudW0geHNfcGVybV90eXBlIHBlcm0pCiB7
CiAJc3RydWN0IG5vZGUgKm5vZGU7CiAKQEAgLTEwNTYsNyArMTA1Niw3IEBA
IHN0YXRpYyBpbnQgZG9fd3JpdGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAkJCXJldHVybiBlcnJubzsK
IAl9CiAKLQlmaXJlX3dhdGNoZXMoY29ubiwgaW4sIG5hbWUsIGZhbHNlKTsK
KwlmaXJlX3dhdGNoZXMoY29ubiwgaW4sIG5hbWUsIG5vZGUsIGZhbHNlLCBO
VUxMKTsKIAlzZW5kX2Fjayhjb25uLCBYU19XUklURSk7CiAKIAlyZXR1cm4g
MDsKQEAgLTEwNzgsNyArMTA3OCw3IEBAIHN0YXRpYyBpbnQgZG9fbWtkaXIo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRh
ICppbikKIAkJbm9kZSA9IGNyZWF0ZV9ub2RlKGNvbm4sIGluLCBuYW1lLCBO
VUxMLCAwKTsKIAkJaWYgKCFub2RlKQogCQkJcmV0dXJuIGVycm5vOwotCQlm
aXJlX3dhdGNoZXMoY29ubiwgaW4sIG5hbWUsIGZhbHNlKTsKKwkJZmlyZV93
YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBub2RlLCBmYWxzZSwgTlVMTCk7CiAJ
fQogCXNlbmRfYWNrKGNvbm4sIFhTX01LRElSKTsKIApAQCAtMTE0MSw3ICsx
MTQxLDcgQEAgc3RhdGljIGludCBkZWxldGVfbm9kZShzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAogCQl0YWxsb2NfZnJlZShu
YW1lKTsKIAl9CiAKLQlmaXJlX3dhdGNoZXMoY29ubiwgY3R4LCBub2RlLT5u
YW1lLCB0cnVlKTsKKwlmaXJlX3dhdGNoZXMoY29ubiwgY3R4LCBub2RlLT5u
YW1lLCBub2RlLCB0cnVlLCBOVUxMKTsKIAlkZWxldGVfbm9kZV9zaW5nbGUo
Y29ubiwgbm9kZSk7CiAJZGVsZXRlX2NoaWxkKGNvbm4sIHBhcmVudCwgYmFz
ZW5hbWUobm9kZS0+bmFtZSkpOwogCXRhbGxvY19mcmVlKG5vZGUpOwpAQCAt
MTE2NSwxMyArMTE2NSwxNCBAQCBzdGF0aWMgaW50IF9ybShzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LCBzdHJ1Y3Qgbm9kZSAq
bm9kZSwKIAlwYXJlbnQgPSByZWFkX25vZGUoY29ubiwgY3R4LCBwYXJlbnRu
YW1lKTsKIAlpZiAoIXBhcmVudCkKIAkJcmV0dXJuIChlcnJubyA9PSBFTk9N
RU0pID8gRU5PTUVNIDogRUlOVkFMOworCW5vZGUtPnBhcmVudCA9IHBhcmVu
dDsKIAogCS8qCiAJICogRmlyZSB0aGUgd2F0Y2hlcyBub3csIHdoZW4gd2Ug
Y2FuIHN0aWxsIHNlZSB0aGUgbm9kZSBwZXJtaXNzaW9ucy4KIAkgKiBUaGlz
IGZpbmUgYXMgd2UgYXJlIHNpbmdsZSB0aHJlYWRlZCBhbmQgdGhlIG5leHQg
cG9zc2libGUgcmVhZCB3aWxsCiAJICogYmUgaGFuZGxlZCBvbmx5IGFmdGVy
IHRoZSBub2RlIGhhcyBiZWVuIHJlYWxseSByZW1vdmVkLgogCSAqLwotCWZp
cmVfd2F0Y2hlcyhjb25uLCBjdHgsIG5hbWUsIGZhbHNlKTsKKwlmaXJlX3dh
dGNoZXMoY29ubiwgY3R4LCBuYW1lLCBub2RlLCBmYWxzZSwgTlVMTCk7CiAJ
cmV0dXJuIGRlbGV0ZV9ub2RlKGNvbm4sIGN0eCwgcGFyZW50LCBub2RlKTsK
IH0KIApAQCAtMTIzNyw3ICsxMjM4LDcgQEAgc3RhdGljIGludCBkb19nZXRf
cGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJl
ZF9kYXRhICppbikKIAogc3RhdGljIGludCBkb19zZXRfcGVybXMoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikK
IHsKLQlzdHJ1Y3Qgbm9kZV9wZXJtcyBwZXJtczsKKwlzdHJ1Y3Qgbm9kZV9w
ZXJtcyBwZXJtcywgb2xkX3Blcm1zOwogCWNoYXIgKm5hbWUsICpwZXJtc3Ry
OwogCXN0cnVjdCBub2RlICpub2RlOwogCkBAIC0xMjczLDYgKzEyNzQsNyBA
QCBzdGF0aWMgaW50IGRvX3NldF9wZXJtcyhzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCSAgICBwZXJtcy5w
WzBdLmlkICE9IG5vZGUtPnBlcm1zLnBbMF0uaWQpCiAJCXJldHVybiBFUEVS
TTsKIAorCW9sZF9wZXJtcyA9IG5vZGUtPnBlcm1zOwogCWRvbWFpbl9lbnRy
eV9kZWMoY29ubiwgbm9kZSk7CiAJbm9kZS0+cGVybXMgPSBwZXJtczsKIAlk
b21haW5fZW50cnlfaW5jKGNvbm4sIG5vZGUpOwpAQCAtMTI4MCw3ICsxMjgy
LDcgQEAgc3RhdGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlpZiAod3Jp
dGVfbm9kZShjb25uLCBub2RlLCBmYWxzZSkpCiAJCXJldHVybiBlcnJubzsK
IAotCWZpcmVfd2F0Y2hlcyhjb25uLCBpbiwgbmFtZSwgZmFsc2UpOworCWZp
cmVfd2F0Y2hlcyhjb25uLCBpbiwgbmFtZSwgbm9kZSwgZmFsc2UsICZvbGRf
cGVybXMpOwogCXNlbmRfYWNrKGNvbm4sIFhTX1NFVF9QRVJNUyk7CiAKIAly
ZXR1cm4gMDsKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF9jb3JlLmggYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCmlu
ZGV4IGYzZGE2YmJjOTQzZC4uZTA1MGIyN2NiZGRlIDEwMDY0NAotLS0gYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCisrKyBiL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKQEAgLTE1MiwxNSArMTUyLDE3IEBA
IHZvaWQgc2VuZF9hY2soc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGVudW0g
eHNkX3NvY2ttc2dfdHlwZSB0eXBlKTsKIC8qIENhbm9uaWNhbGl6ZSB0aGlz
IHBhdGggaWYgcG9zc2libGUuICovCiBjaGFyICpjYW5vbmljYWxpemUoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgY29uc3Qg
Y2hhciAqbm9kZSk7CiAKKy8qIEdldCBhY2Nlc3MgcGVybWlzc2lvbnMuICov
CitlbnVtIHhzX3Blcm1fdHlwZSBwZXJtX2Zvcl9jb25uKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLAorCQkJCWNvbnN0IHN0cnVjdCBub2RlX3Blcm1zICpw
ZXJtcyk7CisKIC8qIFdyaXRlIGEgbm9kZSB0byB0aGUgdGRiIGRhdGEgYmFz
ZS4gKi8KIGludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUsCiAJCSAg
IGJvb2wgbm9fcXVvdGFfY2hlY2spOwogCi0vKiBHZXQgdGhpcyBub2RlLCBj
aGVja2luZyB3ZSBoYXZlIHBlcm1pc3Npb25zLiAqLwotc3RydWN0IG5vZGUg
KmdldF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAotCQkgICAgICBj
b25zdCB2b2lkICpjdHgsCi0JCSAgICAgIGNvbnN0IGNoYXIgKm5hbWUsCi0J
CSAgICAgIGVudW0geHNfcGVybV90eXBlIHBlcm0pOworLyogR2V0IGEgbm9k
ZSBmcm9tIHRoZSB0ZGIgZGF0YSBiYXNlLiAqLworc3RydWN0IG5vZGUgKnJl
YWRfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAq
Y3R4LAorCQkgICAgICAgY29uc3QgY2hhciAqbmFtZSk7CiAKIHN0cnVjdCBj
b25uZWN0aW9uICpuZXdfY29ubmVjdGlvbihjb25ud3JpdGVmbl90ICp3cml0
ZSwgY29ubnJlYWRmbl90ICpyZWFkKTsKIHZvaWQgY2hlY2tfc3RvcmUodm9p
ZCk7CkBAIC0xNzEsNiArMTczLDkgQEAgZW51bSB4c19wZXJtX3R5cGUgcGVy
bV9mb3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIC8qIElzIHRo
aXMgYSB2YWxpZCBub2RlIG5hbWU/ICovCiBib29sIGlzX3ZhbGlkX25vZGVu
YW1lKGNvbnN0IGNoYXIgKm5vZGUpOwogCisvKiBHZXQgbmFtZSBvZiBwYXJl
bnQgbm9kZS4gKi8KK2NoYXIgKmdldF9wYXJlbnQoY29uc3Qgdm9pZCAqY3R4
LCBjb25zdCBjaGFyICpub2RlKTsKKwogLyogVHJhY2luZyBpbmZyYXN0cnVj
dHVyZS4gKi8KIHZvaWQgdHJhY2VfY3JlYXRlKGNvbnN0IHZvaWQgKmRhdGEs
IGNvbnN0IGNoYXIgKnR5cGUpOwogdm9pZCB0cmFjZV9kZXN0cm95KGNvbnN0
IHZvaWQgKmRhdGEsIGNvbnN0IGNoYXIgKnR5cGUpOwpkaWZmIC0tZ2l0IGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jCmluZGV4IDdhZmFiZTBhZTA4NC4u
NzExYTExYjE4YWQ2IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfZG9tYWluLmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVk
X2RvbWFpbi5jCkBAIC0yMDYsNyArMjA2LDcgQEAgc3RhdGljIGludCBkZXN0
cm95X2RvbWFpbih2b2lkICpfZG9tYWluKQogCQkJdW5tYXBfaW50ZXJmYWNl
KGRvbWFpbi0+aW50ZXJmYWNlKTsKIAl9CiAKLQlmaXJlX3dhdGNoZXMoTlVM
TCwgZG9tYWluLCAiQHJlbGVhc2VEb21haW4iLCBmYWxzZSk7CisJZmlyZV93
YXRjaGVzKE5VTEwsIGRvbWFpbiwgIkByZWxlYXNlRG9tYWluIiwgTlVMTCwg
ZmFsc2UsIE5VTEwpOwogCiAJd3JsX2RvbWFpbl9kZXN0cm95KGRvbWFpbik7
CiAKQEAgLTI0NCw3ICsyNDQsNyBAQCBzdGF0aWMgdm9pZCBkb21haW5fY2xl
YW51cCh2b2lkKQogCX0KIAogCWlmIChub3RpZnkpCi0JCWZpcmVfd2F0Y2hl
cyhOVUxMLCBOVUxMLCAiQHJlbGVhc2VEb21haW4iLCBmYWxzZSk7CisJCWZp
cmVfd2F0Y2hlcyhOVUxMLCBOVUxMLCAiQHJlbGVhc2VEb21haW4iLCBOVUxM
LCBmYWxzZSwgTlVMTCk7CiB9CiAKIC8qIFdlIHNjYW4gYWxsIGRvbWFpbnMg
cmF0aGVyIHRoYW4gdXNlIHRoZSBpbmZvcm1hdGlvbiBnaXZlbiBoZXJlLiAq
LwpAQCAtNDEwLDcgKzQxMCw3IEBAIGludCBkb19pbnRyb2R1Y2Uoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikK
IAkJLyogTm93IGRvbWFpbiBiZWxvbmdzIHRvIGl0cyBjb25uZWN0aW9uLiAq
LwogCQl0YWxsb2Nfc3RlYWwoZG9tYWluLT5jb25uLCBkb21haW4pOwogCi0J
CWZpcmVfd2F0Y2hlcyhOVUxMLCBpbiwgIkBpbnRyb2R1Y2VEb21haW4iLCBm
YWxzZSk7CisJCWZpcmVfd2F0Y2hlcyhOVUxMLCBpbiwgIkBpbnRyb2R1Y2VE
b21haW4iLCBOVUxMLCBmYWxzZSwgTlVMTCk7CiAJfSBlbHNlIGlmICgoZG9t
YWluLT5tZm4gPT0gbWZuKSAmJiAoZG9tYWluLT5jb25uICE9IGNvbm4pKSB7
CiAJCS8qIFVzZSBYU19JTlRST0RVQ0UgZm9yIHJlY3JlYXRpbmcgdGhlIHhl
bmJ1cyBldmVudC1jaGFubmVsLiAqLwogCQlpZiAoZG9tYWluLT5wb3J0KQpk
aWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0
aW9uLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24u
YwppbmRleCBlODc4OTc1NzM0NjkuLmE3ZDhjNWQ0NzVlYyAxMDA2NDQKLS0t
IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMKKysr
IGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMKQEAg
LTExNCw2ICsxMTQsOSBAQCBzdHJ1Y3QgYWNjZXNzZWRfbm9kZQogCS8qIEdl
bmVyYXRpb24gY291bnQgKG9yIE5PX0dFTkVSQVRJT04pIGZvciBjb25mbGlj
dCBjaGVja2luZy4gKi8KIAl1aW50NjRfdCBnZW5lcmF0aW9uOwogCisJLyog
T3JpZ2luYWwgbm9kZSBwZXJtaXNzaW9ucy4gKi8KKwlzdHJ1Y3Qgbm9kZV9w
ZXJtcyBwZXJtczsKKwogCS8qIEdlbmVyYXRpb24gY291bnQgY2hlY2tpbmcg
cmVxdWlyZWQ/ICovCiAJYm9vbCBjaGVja19nZW47CiAKQEAgLTI2MCw2ICsy
NjMsMTUgQEAgaW50IGFjY2Vzc19ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKIAkJaS0+bm9kZSA9IHRhbGxvY19z
dHJkdXAoaSwgbm9kZS0+bmFtZSk7CiAJCWlmICghaS0+bm9kZSkKIAkJCWdv
dG8gbm9tZW07CisJCWlmIChub2RlLT5nZW5lcmF0aW9uICE9IE5PX0dFTkVS
QVRJT04gJiYgbm9kZS0+cGVybXMubnVtKSB7CisJCQlpLT5wZXJtcy5wID0g
dGFsbG9jX2FycmF5KGksIHN0cnVjdCB4c19wZXJtaXNzaW9ucywKKwkJCQkJ
CSAgbm9kZS0+cGVybXMubnVtKTsKKwkJCWlmICghaS0+cGVybXMucCkKKwkJ
CQlnb3RvIG5vbWVtOworCQkJaS0+cGVybXMubnVtID0gbm9kZS0+cGVybXMu
bnVtOworCQkJbWVtY3B5KGktPnBlcm1zLnAsIG5vZGUtPnBlcm1zLnAsCisJ
CQkgICAgICAgaS0+cGVybXMubnVtICogc2l6ZW9mKCppLT5wZXJtcy5wKSk7
CisJCX0KIAogCQlpbnRyb2R1Y2UgPSB0cnVlOwogCQlpLT50YV9ub2RlID0g
ZmFsc2U7CkBAIC0zNjgsOSArMzgwLDE0IEBAIHN0YXRpYyBpbnQgZmluYWxp
emVfdHJhbnNhY3Rpb24oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCiAJCQkJ
dGFsbG9jX2ZyZWUoZGF0YS5kcHRyKTsKIAkJCQlpZiAocmV0KQogCQkJCQln
b3RvIGVycjsKLQkJCX0gZWxzZSBpZiAodGRiX2RlbGV0ZSh0ZGJfY3R4LCBr
ZXkpKQorCQkJCWZpcmVfd2F0Y2hlcyhjb25uLCB0cmFucywgaS0+bm9kZSwg
TlVMTCwgZmFsc2UsCisJCQkJCSAgICAgaS0+cGVybXMucCA/ICZpLT5wZXJt
cyA6IE5VTEwpOworCQkJfSBlbHNlIHsKKwkJCQlmaXJlX3dhdGNoZXMoY29u
biwgdHJhbnMsIGktPm5vZGUsIE5VTEwsIGZhbHNlLAorCQkJCQkgICAgIGkt
PnBlcm1zLnAgPyAmaS0+cGVybXMgOiBOVUxMKTsKKwkJCQlpZiAodGRiX2Rl
bGV0ZSh0ZGJfY3R4LCBrZXkpKQogCQkJCQlnb3RvIGVycjsKLQkJCWZpcmVf
d2F0Y2hlcyhjb25uLCB0cmFucywgaS0+bm9kZSwgZmFsc2UpOworCQkJfQog
CQl9CiAKIAkJaWYgKGktPnRhX25vZGUgJiYgdGRiX2RlbGV0ZSh0ZGJfY3R4
LCB0YV9rZXkpKQpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3dhdGNoLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2gu
YwppbmRleCBmNGUyODkzNjJlYjYuLjcxYzEwOGVhOTlmMSAxMDA2NDQKLS0t
IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKKysrIGIvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKQEAgLTg1LDIyICs4NSw2
IEBAIHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwKIAl1bnNpZ25lZCBpbnQgbGVuOwogCWNoYXIgKmRhdGE7CiAKLQlp
ZiAoIWNoZWNrX3NwZWNpYWxfZXZlbnQobmFtZSkpIHsKLQkJLyogQ2FuIHRo
aXMgY29ubiBsb2FkIG5vZGUsIG9yIHNlZSB0aGF0IGl0IGRvZXNuJ3QgZXhp
c3Q/ICovCi0JCXN0cnVjdCBub2RlICpub2RlID0gZ2V0X25vZGUoY29ubiwg
Y3R4LCBuYW1lLCBYU19QRVJNX1JFQUQpOwotCQkvKgotCQkgKiBYWFggV2Ug
YWxsb3cgRUFDQ0VTIGhlcmUgYmVjYXVzZSBvdGhlcndpc2UgYSBub24tZG9t
MAotCQkgKiBiYWNrZW5kIGRyaXZlciBjYW5ub3Qgd2F0Y2ggZm9yIGRpc2Fw
cGVhcmFuY2Ugb2YgYSBmcm9udGVuZAotCQkgKiB4ZW5zdG9yZSBkaXJlY3Rv
cnkuIFdoZW4gdGhlIGRpcmVjdG9yeSBkaXNhcHBlYXJzLCB3ZQotCQkgKiBy
ZXZlcnQgdG8gcGVybWlzc2lvbnMgb2YgdGhlIHBhcmVudCBkaXJlY3Rvcnkg
Zm9yIHRoYXQgcGF0aCwKLQkJICogd2hpY2ggd2lsbCB0eXBpY2FsbHkgZGlz
YWxsb3cgYWNjZXNzIGZvciB0aGUgYmFja2VuZC4KLQkJICogQnV0IHRoaXMg
YnJlYWtzIGRldmljZS1jaGFubmVsIHRlYXJkb3duIQotCQkgKiBSZWFsbHkg
d2Ugc2hvdWxkIGZpeCB0aGlzIGJldHRlci4uLgotCQkgKi8KLQkJaWYgKCFu
b2RlICYmIGVycm5vICE9IEVOT0VOVCAmJiBlcnJubyAhPSBFQUNDRVMpCi0J
CQlyZXR1cm47Ci0JfQotCiAJaWYgKHdhdGNoLT5yZWxhdGl2ZV9wYXRoKSB7
CiAJCW5hbWUgKz0gc3RybGVuKHdhdGNoLT5yZWxhdGl2ZV9wYXRoKTsKIAkJ
aWYgKCpuYW1lID09ICcvJykgLyogQ291bGQgYmUgIiIgKi8KQEAgLTExNywx
MiArMTAxLDYwIEBAIHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwKIAl0YWxsb2NfZnJlZShkYXRhKTsKIH0KIAorLyoK
KyAqIENoZWNrIHBlcm1pc3Npb25zIG9mIGEgc3BlY2lmaWMgd2F0Y2ggdG8g
ZmlyZToKKyAqIEVpdGhlciB0aGUgbm9kZSBpdHNlbGYgb3IgaXRzIHBhcmVu
dCBoYXZlIHRvIGJlIHJlYWRhYmxlIGJ5IHRoZSBjb25uZWN0aW9uCisgKiB0
aGUgd2F0Y2ggaGFzIGJlZW4gc2V0dXAgZm9yLiBJbiBjYXNlIGEgd2F0Y2gg
ZXZlbnQgaXMgY3JlYXRlZCBkdWUgdG8KKyAqIGNoYW5nZWQgcGVybWlzc2lv
bnMgd2UgbmVlZCB0byB0YWtlIHRoZSBvbGQgcGVybWlzc2lvbnMgaW50byBh
Y2NvdW50LCB0b28uCisgKi8KK3N0YXRpYyBib29sIHdhdGNoX3Blcm1pdHRl
ZChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAor
CQkJICAgIGNvbnN0IGNoYXIgKm5hbWUsIHN0cnVjdCBub2RlICpub2RlLAor
CQkJICAgIHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcykKK3sKKwllbnVtIHhz
X3Blcm1fdHlwZSBwZXJtOworCXN0cnVjdCBub2RlICpwYXJlbnQ7CisJY2hh
ciAqcGFyZW50X25hbWU7CisKKwlpZiAocGVybXMpIHsKKwkJcGVybSA9IHBl
cm1fZm9yX2Nvbm4oY29ubiwgcGVybXMpOworCQlpZiAocGVybSAmIFhTX1BF
Uk1fUkVBRCkKKwkJCXJldHVybiB0cnVlOworCX0KKworCWlmICghbm9kZSkg
eworCQlub2RlID0gcmVhZF9ub2RlKGNvbm4sIGN0eCwgbmFtZSk7CisJCWlm
ICghbm9kZSkKKwkJCXJldHVybiBmYWxzZTsKKwl9CisKKwlwZXJtID0gcGVy
bV9mb3JfY29ubihjb25uLCAmbm9kZS0+cGVybXMpOworCWlmIChwZXJtICYg
WFNfUEVSTV9SRUFEKQorCQlyZXR1cm4gdHJ1ZTsKKworCXBhcmVudCA9IG5v
ZGUtPnBhcmVudDsKKwlpZiAoIXBhcmVudCkgeworCQlwYXJlbnRfbmFtZSA9
IGdldF9wYXJlbnQoY3R4LCBub2RlLT5uYW1lKTsKKwkJaWYgKCFwYXJlbnRf
bmFtZSkKKwkJCXJldHVybiBmYWxzZTsKKwkJcGFyZW50ID0gcmVhZF9ub2Rl
KGNvbm4sIGN0eCwgcGFyZW50X25hbWUpOworCQlpZiAoIXBhcmVudCkKKwkJ
CXJldHVybiBmYWxzZTsKKwl9CisKKwlwZXJtID0gcGVybV9mb3JfY29ubihj
b25uLCAmcGFyZW50LT5wZXJtcyk7CisKKwlyZXR1cm4gcGVybSAmIFhTX1BF
Uk1fUkVBRDsKK30KKwogLyoKICAqIENoZWNrIHdoZXRoZXIgYW55IHdhdGNo
IGV2ZW50cyBhcmUgdG8gYmUgc2VudC4KICAqIFRlbXBvcmFyeSBtZW1vcnkg
YWxsb2NhdGlvbnMgYXJlIGRvbmUgd2l0aCBjdHguCisgKiBXZSBuZWVkIHRv
IHRha2UgdGhlIChwb3RlbnRpYWwpIG9sZCBwZXJtaXNzaW9ucyBvZiB0aGUg
bm9kZSBpbnRvIGFjY291bnQKKyAqIGFzIGEgd2F0Y2hlciBsb3NpbmcgcGVy
bWlzc2lvbnMgdG8gYWNjZXNzIGEgbm9kZSBzaG91bGQgcmVjZWl2ZSB0aGUK
KyAqIHdhdGNoIGV2ZW50LCB0b28uCiAgKi8KIHZvaWQgZmlyZV93YXRjaGVz
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNv
bnN0IGNoYXIgKm5hbWUsCi0JCSAgYm9vbCBleGFjdCkKKwkJICBzdHJ1Y3Qg
bm9kZSAqbm9kZSwgYm9vbCBleGFjdCwgc3RydWN0IG5vZGVfcGVybXMgKnBl
cm1zKQogewogCXN0cnVjdCBjb25uZWN0aW9uICppOwogCXN0cnVjdCB3YXRj
aCAqd2F0Y2g7CkBAIC0xMzQsOCArMTY2LDEzIEBAIHZvaWQgZmlyZV93YXRj
aGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgs
IGNvbnN0IGNoYXIgKm5hbWUsCiAJLyogQ3JlYXRlIGFuIGV2ZW50IGZvciBl
YWNoIHdhdGNoLiAqLwogCWxpc3RfZm9yX2VhY2hfZW50cnkoaSwgJmNvbm5l
Y3Rpb25zLCBsaXN0KSB7CiAJCS8qIGludHJvZHVjZS9yZWxlYXNlIGRvbWFp
biB3YXRjaGVzICovCi0JCWlmIChjaGVja19zcGVjaWFsX2V2ZW50KG5hbWUp
ICYmICFjaGVja19wZXJtc19zcGVjaWFsKG5hbWUsIGkpKQotCQkJY29udGlu
dWU7CisJCWlmIChjaGVja19zcGVjaWFsX2V2ZW50KG5hbWUpKSB7CisJCQlp
ZiAoIWNoZWNrX3Blcm1zX3NwZWNpYWwobmFtZSwgaSkpCisJCQkJY29udGlu
dWU7CisJCX0gZWxzZSB7CisJCQlpZiAoIXdhdGNoX3Blcm1pdHRlZChpLCBj
dHgsIG5hbWUsIG5vZGUsIHBlcm1zKSkKKwkJCQljb250aW51ZTsKKwkJfQog
CiAJCWxpc3RfZm9yX2VhY2hfZW50cnkod2F0Y2gsICZpLT53YXRjaGVzLCBs
aXN0KSB7CiAJCQlpZiAoZXhhY3QpIHsKZGlmZiAtLWdpdCBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oIGIvdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX3dhdGNoLmgKaW5kZXggMWIzYzgwZDNkZGExLi4wMzA5NDM3NGYz
NzkgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRj
aC5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oCkBA
IC0yNiw3ICsyNiw3IEBAIGludCBkb191bndhdGNoKHN0cnVjdCBjb25uZWN0
aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pOwogCiAvKiBG
aXJlIGFsbCB3YXRjaGVzOiAhZXhhY3QgbWVhbnMgYWxsIHRoZSBjaGlsZHJl
biBhcmUgYWZmZWN0ZWQgKGllLiBybSkuICovCiB2b2lkIGZpcmVfd2F0Y2hl
cyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqdG1wLCBj
b25zdCBjaGFyICpuYW1lLAotCQkgIGJvb2wgZXhhY3QpOworCQkgIHN0cnVj
dCBub2RlICpub2RlLCBib29sIGV4YWN0LCBzdHJ1Y3Qgbm9kZV9wZXJtcyAq
cGVybXMpOwogCiB2b2lkIGNvbm5fZGVsZXRlX2FsbF93YXRjaGVzKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uKTsKIAotLSAKMi4xNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Transfer-Encoding: base64

RnJvbSA3MTYyMzQ5MmY3YjFiNmQ2M2VkNzZlMmJmOTcwYzExM2I4OGZmYTBi
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzcgKzAyMDAKU3ViamVjdDogW1BBVENIIDAxLzEwXSB0b29scy94ZW5z
dG9yZTogYWxsb3cgcmVtb3ZpbmcgY2hpbGQgb2YgYSBub2RlCiBleGNlZWRp
bmcgcXVvdGEKCkFuIHVucHJpdmlsZWdlZCB1c2VyIG9mIFhlbnN0b3JlIGlz
IG5vdCBhbGxvd2VkIHRvIHdyaXRlIG5vZGVzIHdpdGggYQpzaXplIGV4Y2Vl
ZGluZyBhIGdsb2JhbCBxdW90YSwgd2hpbGUgcHJpdmlsZWdlZCB1c2VycyBs
aWtlIGRvbTAgYXJlCmFsbG93ZWQgdG8gd3JpdGUgc3VjaCBub2Rlcy4gVGhl
IHNpemUgb2YgYSBub2RlIGlzIHRoZSBuZWVkZWQgc3BhY2UKdG8gc3RvcmUg
YWxsIG5vZGUgc3BlY2lmaWMgZGF0YSwgdGhpcyBpbmNsdWRlcyB0aGUgbmFt
ZXMgb2YgYWxsCmNoaWxkcmVuIG9mIHRoZSBub2RlLgoKV2hlbiBkZWxldGlu
ZyBhIG5vZGUgaXRzIHBhcmVudCBoYXMgdG8gYmUgbW9kaWZpZWQgYnkgcmVt
b3ZpbmcgdGhlCm5hbWUgb2YgdGhlIHRvIGJlIGRlbGV0ZWQgY2hpbGQgZnJv
bSBpdC4KClRoaXMgcmVzdWx0cyBpbiB0aGUgc3RyYW5nZSBzaXR1YXRpb24g
dGhhdCBhbiB1bnByaXZpbGVnZWQgb3duZXIgb2YgYQpub2RlIG1pZ2h0IG5v
dCBzdWNjZWVkIGluIGRlbGV0aW5nIHRoYXQgbm9kZSBpbiBjYXNlIGl0cyBw
YXJlbnQgaXMKZXhjZWVkaW5nIHRoZSBxdW90YSBvZiB0aGF0IHVucHJpdmls
ZWdlZCB1c2VyIChpdCBtaWdodCBoYXZlIGJlZW4Kd3JpdHRlbiBieSBkb20w
KSwgYXMgdGhlIHVzZXIgaXMgbm90IGFsbG93ZWQgdG8gd3JpdGUgdGhlIHVw
ZGF0ZWQKcGFyZW50IG5vZGUuCgpGaXggdGhhdCBieSBub3QgY2hlY2tpbmcg
dGhlIHF1b3RhIHdoZW4gd3JpdGluZyBhIG5vZGUgZm9yIHRoZQpwdXJwb3Nl
IG9mIHJlbW92aW5nIGEgY2hpbGQncyBuYW1lIG9ubHkuCgpUaGUgc2FtZSBh
cHBsaWVzIHRvIHRyYW5zYWN0aW9uIGhhbmRsaW5nOiBhIG5vZGUgYmVpbmcg
cmVhZCBkdXJpbmcgYQp0cmFuc2FjdGlvbiBpcyB3cml0dGVuIHRvIHRoZSB0
cmFuc2FjdGlvbiBzcGVjaWZpYyBhcmVhIGFuZCBpdCBzaG91bGQKbm90IGJl
IHRlc3RlZCBmb3IgZXhjZWVkaW5nIHRoZSBxdW90YSwgYXMgaXQgbWlnaHQg
bm90IGJlIG93bmVkIGJ5CnRoZSByZWFkZXIgYW5kIHByZXN1bWFibHkgdGhl
IG9yaWdpbmFsIHdyaXRlIHdvdWxkIGhhdmUgZmFpbGVkIGlmIHRoZQpub2Rl
IGlzIG93bmVkIGJ5IHRoZSByZWFkZXIuCgpUaGlzIGlzIHBhcnQgb2YgWFNB
LTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0Bz
dXNlLmNvbT4KUmV2aWV3ZWQtYnk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFt
YXpvbi5jb20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVu
Lm9yZz4KLS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jICAg
ICAgICB8IDIwICsrKysrKysrKysrLS0tLS0tLS0tCiB0b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfY29yZS5oICAgICAgICB8ICAzICsrLQogdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMgfCAgMiArLQogMyBmaWxl
cyBjaGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5j
IGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA3YmQ5
NTlmMjhiMzkuLjYyYTE3YTY4NmVkYyAxMDA2NDQKLS0tIGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5jCkBAIC00MTksNyArNDE5LDggQEAgc3RhdGljIHN0
cnVjdCBub2RlICpyZWFkX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IGNvbnN0IHZvaWQgKmN0eCwKIAlyZXR1cm4gbm9kZTsKIH0KIAotaW50IHdy
aXRlX25vZGVfcmF3KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBUREJfREFU
QSAqa2V5LCBzdHJ1Y3Qgbm9kZSAqbm9kZSkKK2ludCB3cml0ZV9ub2RlX3Jh
dyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgVERCX0RBVEEgKmtleSwgc3Ry
dWN0IG5vZGUgKm5vZGUsCisJCSAgIGJvb2wgbm9fcXVvdGFfY2hlY2spCiB7
CiAJVERCX0RBVEEgZGF0YTsKIAl2b2lkICpwOwpAQCAtNDI5LDcgKzQzMCw3
IEBAIGludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUpCiAJCSsgbm9k
ZS0+bnVtX3Blcm1zKnNpemVvZihub2RlLT5wZXJtc1swXSkKIAkJKyBub2Rl
LT5kYXRhbGVuICsgbm9kZS0+Y2hpbGRsZW47CiAKLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSAmJgorCWlmICghbm9fcXVvdGFfY2hlY2sg
JiYgZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25uKSAmJgogCSAgICBkYXRh
LmRzaXplID49IHF1b3RhX21heF9lbnRyeV9zaXplKSB7CiAJCWVycm5vID0g
RU5PU1BDOwogCQlyZXR1cm4gZXJybm87CkBAIC00NTcsMTQgKzQ1OCwxNSBA
QCBpbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpub2RlKQogCXJldHVybiAw
OwogfQogCi1zdGF0aWMgaW50IHdyaXRlX25vZGUoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQorc3RhdGljIGludCB3cml0
ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAq
bm9kZSwKKwkJICAgICAgYm9vbCBub19xdW90YV9jaGVjaykKIHsKIAlUREJf
REFUQSBrZXk7CiAKIAlpZiAoYWNjZXNzX25vZGUoY29ubiwgbm9kZSwgTk9E
RV9BQ0NFU1NfV1JJVEUsICZrZXkpKQogCQlyZXR1cm4gZXJybm87CiAKLQly
ZXR1cm4gd3JpdGVfbm9kZV9yYXcoY29ubiwgJmtleSwgbm9kZSk7CisJcmV0
dXJuIHdyaXRlX25vZGVfcmF3KGNvbm4sICZrZXksIG5vZGUsIG5vX3F1b3Rh
X2NoZWNrKTsKIH0KIAogc3RhdGljIGVudW0geHNfcGVybV90eXBlIHBlcm1f
Zm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCkBAIC0xMDAxLDcg
KzEwMDMsNyBAQCBzdGF0aWMgc3RydWN0IG5vZGUgKmNyZWF0ZV9ub2RlKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAJLyog
V2Ugd3JpdGUgb3V0IHRoZSBub2RlcyBkb3duLCBzZXR0aW5nIGRlc3RydWN0
b3IgaW4gY2FzZQogCSAqIHNvbWV0aGluZyBnb2VzIHdyb25nLiAqLwogCWZv
ciAoaSA9IG5vZGU7IGk7IGkgPSBpLT5wYXJlbnQpIHsKLQkJaWYgKHdyaXRl
X25vZGUoY29ubiwgaSkpIHsKKwkJaWYgKHdyaXRlX25vZGUoY29ubiwgaSwg
ZmFsc2UpKSB7CiAJCQlkb21haW5fZW50cnlfZGVjKGNvbm4sIGkpOwogCQkJ
cmV0dXJuIE5VTEw7CiAJCX0KQEAgLTEwNDEsNyArMTA0Myw3IEBAIHN0YXRp
YyBpbnQgZG9fd3JpdGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVj
dCBidWZmZXJlZF9kYXRhICppbikKIAl9IGVsc2UgewogCQlub2RlLT5kYXRh
ID0gaW4tPmJ1ZmZlciArIG9mZnNldDsKIAkJbm9kZS0+ZGF0YWxlbiA9IGRh
dGFsZW47Ci0JCWlmICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUpKQorCQlpZiAo
d3JpdGVfbm9kZShjb25uLCBub2RlLCBmYWxzZSkpCiAJCQlyZXR1cm4gZXJy
bm87CiAJfQogCkBAIC0xMTE3LDcgKzExMTksNyBAQCBzdGF0aWMgaW50IHJl
bW92ZV9jaGlsZF9lbnRyeShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3Ry
dWN0IG5vZGUgKm5vZGUsCiAJc2l6ZV90IGNoaWxkbGVuID0gc3RybGVuKG5v
ZGUtPmNoaWxkcmVuICsgb2Zmc2V0KTsKIAltZW1kZWwobm9kZS0+Y2hpbGRy
ZW4sIG9mZnNldCwgY2hpbGRsZW4gKyAxLCBub2RlLT5jaGlsZGxlbik7CiAJ
bm9kZS0+Y2hpbGRsZW4gLT0gY2hpbGRsZW4gKyAxOwotCXJldHVybiB3cml0
ZV9ub2RlKGNvbm4sIG5vZGUpOworCXJldHVybiB3cml0ZV9ub2RlKGNvbm4s
IG5vZGUsIHRydWUpOwogfQogCiAKQEAgLTEyNTYsNyArMTI1OCw3IEBAIHN0
YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJbm9kZS0+bnVtX3Blcm1z
ID0gbnVtOwogCWRvbWFpbl9lbnRyeV9pbmMoY29ubiwgbm9kZSk7CiAKLQlp
ZiAod3JpdGVfbm9kZShjb25uLCBub2RlKSkKKwlpZiAod3JpdGVfbm9kZShj
b25uLCBub2RlLCBmYWxzZSkpCiAJCXJldHVybiBlcnJubzsKIAogCWZpcmVf
d2F0Y2hlcyhjb25uLCBpbiwgbmFtZSwgZmFsc2UpOwpAQCAtMTUxNiw3ICsx
NTE4LDcgQEAgc3RhdGljIHZvaWQgbWFudWFsX25vZGUoY29uc3QgY2hhciAq
bmFtZSwgY29uc3QgY2hhciAqY2hpbGQpCiAJaWYgKGNoaWxkKQogCQlub2Rl
LT5jaGlsZGxlbiA9IHN0cmxlbihjaGlsZCkgKyAxOwogCi0JaWYgKHdyaXRl
X25vZGUoTlVMTCwgbm9kZSkpCisJaWYgKHdyaXRlX25vZGUoTlVMTCwgbm9k
ZSwgZmFsc2UpKQogCQliYXJmX3BlcnJvcigiQ291bGQgbm90IGNyZWF0ZSBp
bml0aWFsIG5vZGUgJXMiLCBuYW1lKTsKIAl0YWxsb2NfZnJlZShub2RlKTsK
IH0KZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3Jl
LmggYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCmluZGV4IGM0
YzMyYmM4OGYwYy4uMjlkNjM4ZmJjNWEwIDEwMDY0NAotLS0gYS90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCisrKyBiL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9jb3JlLmgKQEAgLTE0OSw3ICsxNDksOCBAQCB2b2lkIHNl
bmRfYWNrKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBlbnVtIHhzZF9zb2Nr
bXNnX3R5cGUgdHlwZSk7CiBjaGFyICpjYW5vbmljYWxpemUoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgY29uc3QgY2hhciAq
bm9kZSk7CiAKIC8qIFdyaXRlIGEgbm9kZSB0byB0aGUgdGRiIGRhdGEgYmFz
ZS4gKi8KLWludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUpOworaW50
IHdyaXRlX25vZGVfcmF3KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBUREJf
REFUQSAqa2V5LCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKKwkJICAgYm9vbCBub19x
dW90YV9jaGVjayk7CiAKIC8qIEdldCB0aGlzIG5vZGUsIGNoZWNraW5nIHdl
IGhhdmUgcGVybWlzc2lvbnMuICovCiBzdHJ1Y3Qgbm9kZSAqZ2V0X25vZGUo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCmRpZmYgLS1naXQgYS90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYyBiL3Rvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF90cmFuc2FjdGlvbi5jCmluZGV4IDI4MjRmN2IzNTli
OC4uZTg3ODk3NTczNDY5IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYworKysgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYwpAQCAtMjc2LDcgKzI3Niw3IEBAIGlu
dCBhY2Nlc3Nfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0
IG5vZGUgKm5vZGUsCiAJCQlpLT5jaGVja19nZW4gPSB0cnVlOwogCQkJaWYg
KG5vZGUtPmdlbmVyYXRpb24gIT0gTk9fR0VORVJBVElPTikgewogCQkJCXNl
dF90ZGJfa2V5KHRyYW5zX25hbWUsICZsb2NhbF9rZXkpOwotCQkJCXJldCA9
IHdyaXRlX25vZGVfcmF3KGNvbm4sICZsb2NhbF9rZXksIG5vZGUpOworCQkJ
CXJldCA9IHdyaXRlX25vZGVfcmF3KGNvbm4sICZsb2NhbF9rZXksIG5vZGUs
IHRydWUpOwogCQkJCWlmIChyZXQpCiAJCQkJCWdvdG8gZXJyOwogCQkJCWkt
PnRhX25vZGUgPSB0cnVlOwotLSAKMi4xNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Transfer-Encoding: base64

RnJvbSAwNzJjNzI5Y2ZlOTBiNGIwOWNhY2IxMmQ5MTJiYTA4OGRiODI3NGZl
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzggKzAyMDAKU3ViamVjdDogW1BBVENIIDAyLzEwXSB0b29scy94ZW5z
dG9yZTogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBbdW5dd2F0Y2gKCklu
c3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9uIGlkIGZvciBYU19X
QVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBpdCBpcyBkb2N1bWVu
dGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0IGlzIHRlc3RlZApm
b3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3JlIHRoZSB0cmFuc2Fj
dGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FUQ0guCgpUaGlzIGlz
IHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jv
c3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6IEp1bGllbiBHcmFs
bCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJh
bnQgPHBhdWxAeGVuLm9yZz4KLS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfY29yZS5jIHwgMjYgKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0KIDEg
ZmlsZSBjaGFuZ2VkLCAxNiBpbnNlcnRpb25zKCspLCAxMCBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA2
MmExN2E2ODZlZGMuLjJmOTg5NTI0YjQ5NyAxMDA2NDQKLS0tIGEvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfY29yZS5jCkBAIC0xMjcwLDEzICsxMjcwLDE3IEBAIHN0
YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiBzdGF0aWMgc3RydWN0IHsK
IAljb25zdCBjaGFyICpzdHI7CiAJaW50ICgqZnVuYykoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbik7CisJdW5z
aWduZWQgaW50IGZsYWdzOworI2RlZmluZSBYU19GTEFHX05PVElECQkoMVUg
PDwgMCkJLyogSWdub3JlIHRyYW5zYWN0aW9uIGlkLiAqLwogfSBjb25zdCB3
aXJlX2Z1bmNzW1hTX1RZUEVfQ09VTlRdID0gewogCVtYU19DT05UUk9MXSAg
ICAgICAgICAgPSB7ICJDT05UUk9MIiwgICAgICAgICAgIGRvX2NvbnRyb2wg
fSwKIAlbWFNfRElSRUNUT1JZXSAgICAgICAgID0geyAiRElSRUNUT1JZIiwg
ICAgICAgICBzZW5kX2RpcmVjdG9yeSB9LAogCVtYU19SRUFEXSAgICAgICAg
ICAgICAgPSB7ICJSRUFEIiwgICAgICAgICAgICAgIGRvX3JlYWQgfSwKIAlb
WFNfR0VUX1BFUk1TXSAgICAgICAgID0geyAiR0VUX1BFUk1TIiwgICAgICAg
ICBkb19nZXRfcGVybXMgfSwKLQlbWFNfV0FUQ0hdICAgICAgICAgICAgID0g
eyAiV0FUQ0giLCAgICAgICAgICAgICBkb193YXRjaCB9LAotCVtYU19VTldB
VENIXSAgICAgICAgICAgPSB7ICJVTldBVENIIiwgICAgICAgICAgIGRvX3Vu
d2F0Y2ggfSwKKwlbWFNfV0FUQ0hdICAgICAgICAgICAgID0KKwkgICAgeyAi
V0FUQ0giLCAgICAgICAgIGRvX3dhdGNoLCAgICAgICAgWFNfRkxBR19OT1RJ
RCB9LAorCVtYU19VTldBVENIXSAgICAgICAgICAgPQorCSAgICB7ICJVTldB
VENIIiwgICAgICAgZG9fdW53YXRjaCwgICAgICBYU19GTEFHX05PVElEIH0s
CiAJW1hTX1RSQU5TQUNUSU9OX1NUQVJUXSA9IHsgIlRSQU5TQUNUSU9OX1NU
QVJUIiwgZG9fdHJhbnNhY3Rpb25fc3RhcnQgfSwKIAlbWFNfVFJBTlNBQ1RJ
T05fRU5EXSAgID0geyAiVFJBTlNBQ1RJT05fRU5EIiwgICBkb190cmFuc2Fj
dGlvbl9lbmQgfSwKIAlbWFNfSU5UUk9EVUNFXSAgICAgICAgID0geyAiSU5U
Uk9EVUNFIiwgICAgICAgICBkb19pbnRyb2R1Y2UgfSwKQEAgLTEyOTgsNyAr
MTMwMiw3IEBAIHN0YXRpYyBzdHJ1Y3QgewogCiBzdGF0aWMgY29uc3QgY2hh
ciAqc29ja21zZ19zdHJpbmcoZW51bSB4c2Rfc29ja21zZ190eXBlIHR5cGUp
CiB7Ci0JaWYgKCh1bnNpZ25lZCl0eXBlIDwgWFNfVFlQRV9DT1VOVCAmJiB3
aXJlX2Z1bmNzW3R5cGVdLnN0cikKKwlpZiAoKHVuc2lnbmVkIGludCl0eXBl
IDwgQVJSQVlfU0laRSh3aXJlX2Z1bmNzKSAmJiB3aXJlX2Z1bmNzW3R5cGVd
LnN0cikKIAkJcmV0dXJuIHdpcmVfZnVuY3NbdHlwZV0uc3RyOwogCiAJcmV0
dXJuICIqKlVOS05PV04qKiI7CkBAIC0xMzEzLDcgKzEzMTcsMTQgQEAgc3Rh
dGljIHZvaWQgcHJvY2Vzc19tZXNzYWdlKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJZW51bSB4c2Rfc29j
a21zZ190eXBlIHR5cGUgPSBpbi0+aGRyLm1zZy50eXBlOwogCWludCByZXQ7
CiAKLQl0cmFucyA9IHRyYW5zYWN0aW9uX2xvb2t1cChjb25uLCBpbi0+aGRy
Lm1zZy50eF9pZCk7CisJaWYgKCh1bnNpZ25lZCBpbnQpdHlwZSA+PSBYU19U
WVBFX0NPVU5UIHx8ICF3aXJlX2Z1bmNzW3R5cGVdLmZ1bmMpIHsKKwkJZXBy
aW50ZigiQ2xpZW50IHVua25vd24gb3BlcmF0aW9uICVpIiwgdHlwZSk7CisJ
CXNlbmRfZXJyb3IoY29ubiwgRU5PU1lTKTsKKwkJcmV0dXJuOworCX0KKwor
CXRyYW5zID0gKHdpcmVfZnVuY3NbdHlwZV0uZmxhZ3MgJiBYU19GTEFHX05P
VElEKQorCQk/IE5VTEwgOiB0cmFuc2FjdGlvbl9sb29rdXAoY29ubiwgaW4t
Pmhkci5tc2cudHhfaWQpOwogCWlmIChJU19FUlIodHJhbnMpKSB7CiAJCXNl
bmRfZXJyb3IoY29ubiwgLVBUUl9FUlIodHJhbnMpKTsKIAkJcmV0dXJuOwpA
QCAtMTMyMiwxMiArMTMzMyw3IEBAIHN0YXRpYyB2b2lkIHByb2Nlc3NfbWVz
c2FnZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVk
X2RhdGEgKmluKQogCWFzc2VydChjb25uLT50cmFuc2FjdGlvbiA9PSBOVUxM
KTsKIAljb25uLT50cmFuc2FjdGlvbiA9IHRyYW5zOwogCi0JaWYgKCh1bnNp
Z25lZCl0eXBlIDwgWFNfVFlQRV9DT1VOVCAmJiB3aXJlX2Z1bmNzW3R5cGVd
LmZ1bmMpCi0JCXJldCA9IHdpcmVfZnVuY3NbdHlwZV0uZnVuYyhjb25uLCBp
bik7Ci0JZWxzZSB7Ci0JCWVwcmludGYoIkNsaWVudCB1bmtub3duIG9wZXJh
dGlvbiAlaSIsIHR5cGUpOwotCQlyZXQgPSBFTk9TWVM7Ci0JfQorCXJldCA9
IHdpcmVfZnVuY3NbdHlwZV0uZnVuYyhjb25uLCBpbik7CiAJaWYgKHJldCkK
IAkJc2VuZF9lcnJvcihjb25uLCByZXQpOwogCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Transfer-Encoding: base64

RnJvbSBhMTMzNjI3NDUzODk4NzU5Y2E3M2RkNWMxYzE4NWMzODMwZmVkNzU0
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6MzkgKzAyMDAKU3ViamVjdDogW1BBVENIIDAzLzEwXSB0b29scy94ZW5z
dG9yZTogZml4IG5vZGUgYWNjb3VudGluZyBhZnRlciBmYWlsZWQgbm9kZQog
Y3JlYXRpb24KCldoZW4gYSBub2RlIGNyZWF0aW9uIGZhaWxzIHRoZSBudW1i
ZXIgb2Ygbm9kZXMgb2YgdGhlIGRvbWFpbiBzaG91bGQgYmUKdGhlIHNhbWUg
YXMgYmVmb3JlIHRoZSBmYWlsZWQgbm9kZSBjcmVhdGlvbi4gSW4gY2FzZSBv
ZiBmYWlsdXJlIHdoZW4KdHJ5aW5nIHRvIGNyZWF0ZSBhIG5vZGUgcmVxdWly
aW5nIHRvIGNyZWF0ZSBvbmUgb3IgbW9yZSBpbnRlcm1lZGlhdGUKbm9kZXMg
YXMgd2VsbCAoZS5nLiB3aGVuIC9hL2IvYy9kIGlzIHRvIGJlIGNyZWF0ZWQs
IGJ1dCAvYS9iIGlzbid0CmV4aXN0aW5nIHlldCkgaXQgbWlnaHQgaGFwcGVu
IHRoYXQgdGhlIG51bWJlciBvZiBub2RlcyBvZiB0aGUgY3JlYXRpbmcKZG9t
YWluIGlzIG5vdCByZXNldCB0byB0aGUgdmFsdWUgaXQgaGFkIGJlZm9yZS4K
ClNvIG1vdmUgdGhlIHF1b3RhIGFjY291bnRpbmcgb3V0IG9mIGNvbnN0cnVj
dF9ub2RlKCkgYW5kIGludG8gdGhlIG5vZGUKd3JpdGUgbG9vcCBpbiBjcmVh
dGVfbm9kZSgpIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gdW5kbyB0aGUgYWNj
b3VudGluZwppbiBjYXNlIG9mIGFuIGVycm9yIGluIHRoZSBpbnRlcm1lZGlh
dGUgbm9kZSBkZXN0cnVjdG9yLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUu
CgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5j
b20+ClJldmlld2VkLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4K
QWNrZWQtYnk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+Ci0t
LQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYyB8IDM3ICsrKysr
KysrKysrKysrKysrKysrKystLS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQs
IDI1IGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4IDJmOTg5NTI0YjQ5Ny4u
Yzk3MTUxOWU1NDJhIDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9j
b3JlLmMKQEAgLTkyNywxMSArOTI3LDYgQEAgc3RhdGljIHN0cnVjdCBub2Rl
ICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29u
c3Qgdm9pZCAqY3R4LAogCWlmICghcGFyZW50KQogCQlyZXR1cm4gTlVMTDsK
IAotCWlmIChkb21haW5fZW50cnkoY29ubikgPj0gcXVvdGFfbmJfZW50cnlf
cGVyX2RvbWFpbikgewotCQllcnJubyA9IEVOT1NQQzsKLQkJcmV0dXJuIE5V
TEw7Ci0JfQotCiAJLyogQWRkIGNoaWxkIHRvIHBhcmVudC4gKi8KIAliYXNl
ID0gYmFzZW5hbWUobmFtZSk7CiAJYmFzZWxlbiA9IHN0cmxlbihiYXNlKSAr
IDE7CkBAIC05NjQsNyArOTU5LDYgQEAgc3RhdGljIHN0cnVjdCBub2RlICpj
b25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qg
dm9pZCAqY3R4LAogCW5vZGUtPmNoaWxkcmVuID0gbm9kZS0+ZGF0YSA9IE5V
TEw7CiAJbm9kZS0+Y2hpbGRsZW4gPSBub2RlLT5kYXRhbGVuID0gMDsKIAlu
b2RlLT5wYXJlbnQgPSBwYXJlbnQ7Ci0JZG9tYWluX2VudHJ5X2luYyhjb25u
LCBub2RlKTsKIAlyZXR1cm4gbm9kZTsKIAogbm9tZW06CkBAIC05ODQsNiAr
OTc4LDkgQEAgc3RhdGljIGludCBkZXN0cm95X25vZGUodm9pZCAqX25vZGUp
CiAJa2V5LmRzaXplID0gc3RybGVuKG5vZGUtPm5hbWUpOwogCiAJdGRiX2Rl
bGV0ZSh0ZGJfY3R4LCBrZXkpOworCisJZG9tYWluX2VudHJ5X2RlYyh0YWxs
b2NfcGFyZW50KG5vZGUpLCBub2RlKTsKKwogCXJldHVybiAwOwogfQogCkBA
IC0xMDAwLDE4ICs5OTcsMzQgQEAgc3RhdGljIHN0cnVjdCBub2RlICpjcmVh
dGVfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAq
Y3R4LAogCW5vZGUtPmRhdGEgPSBkYXRhOwogCW5vZGUtPmRhdGFsZW4gPSBk
YXRhbGVuOwogCi0JLyogV2Ugd3JpdGUgb3V0IHRoZSBub2RlcyBkb3duLCBz
ZXR0aW5nIGRlc3RydWN0b3IgaW4gY2FzZQotCSAqIHNvbWV0aGluZyBnb2Vz
IHdyb25nLiAqLworCS8qCisJICogV2Ugd3JpdGUgb3V0IHRoZSBub2RlcyBi
b3R0b20gdXAuCisJICogQWxsIG5ldyBjcmVhdGVkIG5vZGVzIHdpbGwgaGF2
ZSBpLT5wYXJlbnQgc2V0LCB3aGlsZSB0aGUgZmluYWwKKwkgKiBub2RlIHdp
bGwgYmUgYWxyZWFkeSBleGlzdGluZyBhbmQgd29uJ3QgaGF2ZSBpLT5wYXJl
bnQgc2V0LgorCSAqIE5ldyBub2RlcyBhcmUgc3ViamVjdCB0byBxdW90YSBo
YW5kbGluZy4KKwkgKiBJbml0aWFsbHkgc2V0IGEgZGVzdHJ1Y3RvciBmb3Ig
YWxsIG5ldyBub2RlcyByZW1vdmluZyB0aGVtIGZyb20KKwkgKiBUREIgYWdh
aW4gYW5kIHVuZG9pbmcgcXVvdGEgYWNjb3VudGluZyBmb3IgdGhlIGNhc2Ug
b2YgYW4gZXJyb3IKKwkgKiBkdXJpbmcgdGhlIHdyaXRlIGxvb3AuCisJICov
CiAJZm9yIChpID0gbm9kZTsgaTsgaSA9IGktPnBhcmVudCkgewotCQlpZiAo
d3JpdGVfbm9kZShjb25uLCBpLCBmYWxzZSkpIHsKLQkJCWRvbWFpbl9lbnRy
eV9kZWMoY29ubiwgaSk7CisJCS8qIGktPnBhcmVudCBpcyBzZXQgZm9yIGVh
Y2ggbmV3IG5vZGUsIHNvIGNoZWNrIHF1b3RhLiAqLworCQlpZiAoaS0+cGFy
ZW50ICYmCisJCSAgICBkb21haW5fZW50cnkoY29ubikgPj0gcXVvdGFfbmJf
ZW50cnlfcGVyX2RvbWFpbikgeworCQkJZXJybm8gPSBFTk9TUEM7CiAJCQly
ZXR1cm4gTlVMTDsKIAkJfQotCQl0YWxsb2Nfc2V0X2Rlc3RydWN0b3IoaSwg
ZGVzdHJveV9ub2RlKTsKKwkJaWYgKHdyaXRlX25vZGUoY29ubiwgaSwgZmFs
c2UpKQorCQkJcmV0dXJuIE5VTEw7CisKKwkJLyogQWNjb3VudCBmb3IgbmV3
IG5vZGUsIHNldCBkZXN0cnVjdG9yIGZvciBlcnJvciBjYXNlLiAqLworCQlp
ZiAoaS0+cGFyZW50KSB7CisJCQlkb21haW5fZW50cnlfaW5jKGNvbm4sIGkp
OworCQkJdGFsbG9jX3NldF9kZXN0cnVjdG9yKGksIGRlc3Ryb3lfbm9kZSk7
CisJCX0KIAl9CiAKIAkvKiBPSywgbm93IHJlbW92ZSBkZXN0cnVjdG9ycyBz
byB0aGV5IHN0YXkgYXJvdW5kICovCi0JZm9yIChpID0gbm9kZTsgaTsgaSA9
IGktPnBhcmVudCkKKwlmb3IgKGkgPSBub2RlOyBpLT5wYXJlbnQ7IGkgPSBp
LT5wYXJlbnQpCiAJCXRhbGxvY19zZXRfZGVzdHJ1Y3RvcihpLCBOVUxMKTsK
IAlyZXR1cm4gbm9kZTsKIH0KLS0gCjIuMTcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Transfer-Encoding: base64

RnJvbSBkYzZjZjM4MWJkZWNhNDAxM2I2YmZlMjVjMjdlNTdmMDEwZTdjYTg0
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDAgKzAyMDAKU3ViamVjdDogW1BBVENIIDA0LzEwXSB0b29scy94ZW5z
dG9yZTogc2ltcGxpZnkgYW5kIHJlbmFtZSBjaGVja19ldmVudF9ub2RlKCkK
ClRoZXJlIGlzIG5vIHBhdGggd2hpY2ggYWxsb3dzIHRvIGNhbGwgY2hlY2tf
ZXZlbnRfbm9kZSgpIHdpdGhvdXQgYQpldmVudCBuYW1lLiBTbyBkb24ndCBs
ZXQgdGhlIHJlc3VsdCBkZXBlbmQgb24gdGhlIG5hbWUgYmVpbmcgTlVMTCBh
bmQKYWRkIGFuIGFzc2VydCgpIGNvdmVyaW5nIHRoYXQgY2FzZS4KClJlbmFt
ZSB0aGUgZnVuY3Rpb24gdG8gY2hlY2tfc3BlY2lhbF9ldmVudCgpIHRvIGJl
dHRlciBtYXRjaCB0aGUKc2VtYW50aWNzLgoKVGhpcyBpcyBwYXJ0IG9mIFhT
QS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NA
c3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBh
bWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVsQHhl
bi5vcmc+Ci0tLQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMg
fCAxMiArKysrKy0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCA1IGluc2VydGlv
bnMoKyksIDcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgYi90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfd2F0Y2guYwppbmRleCA3ZGVkY2E2MGRmZDYuLmYyZjFiZWQ0N2Nj
NiAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNo
LmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKQEAg
LTQ3LDEzICs0NywxMSBAQCBzdHJ1Y3Qgd2F0Y2gKIAljaGFyICpub2RlOwog
fTsKIAotc3RhdGljIGJvb2wgY2hlY2tfZXZlbnRfbm9kZShjb25zdCBjaGFy
ICpub2RlKQorc3RhdGljIGJvb2wgY2hlY2tfc3BlY2lhbF9ldmVudChjb25z
dCBjaGFyICpuYW1lKQogewotCWlmICghbm9kZSB8fCAhc3Ryc3RhcnRzKG5v
ZGUsICJAIikpIHsKLQkJZXJybm8gPSBFSU5WQUw7Ci0JCXJldHVybiBmYWxz
ZTsKLQl9Ci0JcmV0dXJuIHRydWU7CisJYXNzZXJ0KG5hbWUpOworCisJcmV0
dXJuIHN0cnN0YXJ0cyhuYW1lLCAiQCIpOwogfQogCiAvKiBJcyBjaGlsZCBh
IHN1Ym5vZGUgb2YgcGFyZW50LCBvciBlcXVhbD8gKi8KQEAgLTg3LDcgKzg1
LDcgQEAgc3RhdGljIHZvaWQgYWRkX2V2ZW50KHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLAogCXVuc2lnbmVkIGludCBsZW47CiAJY2hhciAqZGF0YTsKIAot
CWlmICghY2hlY2tfZXZlbnRfbm9kZShuYW1lKSkgeworCWlmICghY2hlY2tf
c3BlY2lhbF9ldmVudChuYW1lKSkgewogCQkvKiBDYW4gdGhpcyBjb25uIGxv
YWQgbm9kZSwgb3Igc2VlIHRoYXQgaXQgZG9lc24ndCBleGlzdD8gKi8KIAkJ
c3RydWN0IG5vZGUgKm5vZGUgPSBnZXRfbm9kZShjb25uLCBjdHgsIG5hbWUs
IFhTX1BFUk1fUkVBRCk7CiAJCS8qCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Transfer-Encoding: base64

RnJvbSBjZDQ1NmRkN2UzYzRiYmUyMjlhMDMwN2E0NjljMmZjM2I4ZTdiNTkw
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDEgKzAyMDAKU3ViamVjdDogW1BBVENIIDA1LzEwXSB0b29scy94ZW5z
dG9yZTogY2hlY2sgcHJpdmlsZWdlIGZvcgogWFNfSVNfRE9NQUlOX0lOVFJP
RFVDRUQKClRoZSBYZW5zdG9yZSBjb21tYW5kIFhTX0lTX0RPTUFJTl9JTlRS
T0RVQ0VEIHNob3VsZCBiZSBwb3NzaWJsZSBmb3IKcHJpdmlsZWdlZCBkb21h
aW5zIG9ubHkgKHRoZSBvbmx5IHVzZXIgaW4gdGhlIHRyZWUgaXMgdGhlIHhl
bnBhZ2luZwpkYWVtb24pLgoKSW5zdGVhZCBvZiBoYXZpbmcgdGhlIHByaXZp
bGVnZSB0ZXN0IGZvciBlYWNoIGNvbW1hbmQgaW50cm9kdWNlIGEKcGVyLWNv
bW1hbmQgZmxhZyBmb3IgdGhhdCBwdXJwb3NlLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jv
c3NAc3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFs
bEBhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVs
QHhlbi5vcmc+Ci0tLQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUu
YyAgIHwgMjQgKysrKysrKysrKysrKysrKysrLS0tLS0tCiB0b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfZG9tYWluLmMgfCAgNyArKy0tLS0tCiAyIGZpbGVz
IGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyksIDExIGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4IGM5NzE1
MTllNTQyYS4uZjM4MTk2YWUyODI1IDEwMDY0NAotLS0gYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9jb3JlLmMKQEAgLTEyODUsOCArMTI4NSwxMCBAQCBzdGF0aWMg
c3RydWN0IHsKIAlpbnQgKCpmdW5jKShzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAl1bnNpZ25lZCBpbnQg
ZmxhZ3M7CiAjZGVmaW5lIFhTX0ZMQUdfTk9USUQJCSgxVSA8PCAwKQkvKiBJ
Z25vcmUgdHJhbnNhY3Rpb24gaWQuICovCisjZGVmaW5lIFhTX0ZMQUdfUFJJ
VgkJKDFVIDw8IDEpCS8qIFByaXZpbGVnZWQgZG9tYWluIG9ubHkuICovCiB9
IGNvbnN0IHdpcmVfZnVuY3NbWFNfVFlQRV9DT1VOVF0gPSB7Ci0JW1hTX0NP
TlRST0xdICAgICAgICAgICA9IHsgIkNPTlRST0wiLCAgICAgICAgICAgZG9f
Y29udHJvbCB9LAorCVtYU19DT05UUk9MXSAgICAgICAgICAgPQorCSAgICB7
ICJDT05UUk9MIiwgICAgICAgZG9fY29udHJvbCwgICAgICBYU19GTEFHX1BS
SVYgfSwKIAlbWFNfRElSRUNUT1JZXSAgICAgICAgID0geyAiRElSRUNUT1JZ
IiwgICAgICAgICBzZW5kX2RpcmVjdG9yeSB9LAogCVtYU19SRUFEXSAgICAg
ICAgICAgICAgPSB7ICJSRUFEIiwgICAgICAgICAgICAgIGRvX3JlYWQgfSwK
IAlbWFNfR0VUX1BFUk1TXSAgICAgICAgID0geyAiR0VUX1BFUk1TIiwgICAg
ICAgICBkb19nZXRfcGVybXMgfSwKQEAgLTEyOTYsOCArMTI5OCwxMCBAQCBz
dGF0aWMgc3RydWN0IHsKIAkgICAgeyAiVU5XQVRDSCIsICAgICAgIGRvX3Vu
d2F0Y2gsICAgICAgWFNfRkxBR19OT1RJRCB9LAogCVtYU19UUkFOU0FDVElP
Tl9TVEFSVF0gPSB7ICJUUkFOU0FDVElPTl9TVEFSVCIsIGRvX3RyYW5zYWN0
aW9uX3N0YXJ0IH0sCiAJW1hTX1RSQU5TQUNUSU9OX0VORF0gICA9IHsgIlRS
QU5TQUNUSU9OX0VORCIsICAgZG9fdHJhbnNhY3Rpb25fZW5kIH0sCi0JW1hT
X0lOVFJPRFVDRV0gICAgICAgICA9IHsgIklOVFJPRFVDRSIsICAgICAgICAg
ZG9faW50cm9kdWNlIH0sCi0JW1hTX1JFTEVBU0VdICAgICAgICAgICA9IHsg
IlJFTEVBU0UiLCAgICAgICAgICAgZG9fcmVsZWFzZSB9LAorCVtYU19JTlRS
T0RVQ0VdICAgICAgICAgPQorCSAgICB7ICJJTlRST0RVQ0UiLCAgICAgZG9f
aW50cm9kdWNlLCAgICBYU19GTEFHX1BSSVYgfSwKKwlbWFNfUkVMRUFTRV0g
ICAgICAgICAgID0KKwkgICAgeyAiUkVMRUFTRSIsICAgICAgIGRvX3JlbGVh
c2UsICAgICAgWFNfRkxBR19QUklWIH0sCiAJW1hTX0dFVF9ET01BSU5fUEFU
SF0gICA9IHsgIkdFVF9ET01BSU5fUEFUSCIsICAgZG9fZ2V0X2RvbWFpbl9w
YXRoIH0sCiAJW1hTX1dSSVRFXSAgICAgICAgICAgICA9IHsgIldSSVRFIiwg
ICAgICAgICAgICAgZG9fd3JpdGUgfSwKIAlbWFNfTUtESVJdICAgICAgICAg
ICAgID0geyAiTUtESVIiLCAgICAgICAgICAgICBkb19ta2RpciB9LApAQCAt
MTMwNiw5ICsxMzEwLDExIEBAIHN0YXRpYyBzdHJ1Y3QgewogCVtYU19XQVRD
SF9FVkVOVF0gICAgICAgPSB7ICJXQVRDSF9FVkVOVCIsICAgICAgIE5VTEwg
fSwKIAlbWFNfRVJST1JdICAgICAgICAgICAgID0geyAiRVJST1IiLCAgICAg
ICAgICAgICBOVUxMIH0sCiAJW1hTX0lTX0RPTUFJTl9JTlRST0RVQ0VEXSA9
Ci0JCQl7ICJJU19ET01BSU5fSU5UUk9EVUNFRCIsIGRvX2lzX2RvbWFpbl9p
bnRyb2R1Y2VkIH0sCi0JW1hTX1JFU1VNRV0gICAgICAgICAgICA9IHsgIlJF
U1VNRSIsICAgICAgICAgICAgZG9fcmVzdW1lIH0sCi0JW1hTX1NFVF9UQVJH
RVRdICAgICAgICA9IHsgIlNFVF9UQVJHRVQiLCAgICAgICAgZG9fc2V0X3Rh
cmdldCB9LAorCSAgICB7ICJJU19ET01BSU5fSU5UUk9EVUNFRCIsIGRvX2lz
X2RvbWFpbl9pbnRyb2R1Y2VkLCBYU19GTEFHX1BSSVYgfSwKKwlbWFNfUkVT
VU1FXSAgICAgICAgICAgID0KKwkgICAgeyAiUkVTVU1FIiwgICAgICAgIGRv
X3Jlc3VtZSwgICAgICAgWFNfRkxBR19QUklWIH0sCisJW1hTX1NFVF9UQVJH
RVRdICAgICAgICA9CisJICAgIHsgIlNFVF9UQVJHRVQiLCAgICBkb19zZXRf
dGFyZ2V0LCAgIFhTX0ZMQUdfUFJJViB9LAogCVtYU19SRVNFVF9XQVRDSEVT
XSAgICAgPSB7ICJSRVNFVF9XQVRDSEVTIiwgICAgIGRvX3Jlc2V0X3dhdGNo
ZXMgfSwKIAlbWFNfRElSRUNUT1JZX1BBUlRdICAgID0geyAiRElSRUNUT1JZ
X1BBUlQiLCAgICBzZW5kX2RpcmVjdG9yeV9wYXJ0IH0sCiB9OwpAQCAtMTMz
Niw2ICsxMzQyLDEyIEBAIHN0YXRpYyB2b2lkIHByb2Nlc3NfbWVzc2FnZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEg
KmluKQogCQlyZXR1cm47CiAJfQogCisJaWYgKCh3aXJlX2Z1bmNzW3R5cGVd
LmZsYWdzICYgWFNfRkxBR19QUklWKSAmJgorCSAgICBkb21haW5faXNfdW5w
cml2aWxlZ2VkKGNvbm4pKSB7CisJCXNlbmRfZXJyb3IoY29ubiwgRUFDQ0VT
KTsKKwkJcmV0dXJuOworCX0KKwogCXRyYW5zID0gKHdpcmVfZnVuY3NbdHlw
ZV0uZmxhZ3MgJiBYU19GTEFHX05PVElEKQogCQk/IE5VTEwgOiB0cmFuc2Fj
dGlvbl9sb29rdXAoY29ubiwgaW4tPmhkci5tc2cudHhfaWQpOwogCWlmIChJ
U19FUlIodHJhbnMpKSB7CmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfZG9tYWluLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
ZG9tYWluLmMKaW5kZXggMDYzNTk1MDNmMDkxLi4yZDBkODdlZTg5ZTEgMTAw
NjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYwor
KysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKQEAgLTM3
Miw3ICszNzIsNyBAQCBpbnQgZG9faW50cm9kdWNlKHN0cnVjdCBjb25uZWN0
aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJaWYgKGdl
dF9zdHJpbmdzKGluLCB2ZWMsIEFSUkFZX1NJWkUodmVjKSkgPCBBUlJBWV9T
SVpFKHZlYykpCiAJCXJldHVybiBFSU5WQUw7CiAKLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSB8fCAhY29ubi0+Y2FuX3dyaXRlKQorCWlm
ICghY29ubi0+Y2FuX3dyaXRlKQogCQlyZXR1cm4gRUFDQ0VTOwogCiAJZG9t
aWQgPSBhdG9pKHZlY1swXSk7CkBAIC00MzgsNyArNDM4LDcgQEAgaW50IGRv
X3NldF90YXJnZXQoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBi
dWZmZXJlZF9kYXRhICppbikKIAlpZiAoZ2V0X3N0cmluZ3MoaW4sIHZlYywg
QVJSQVlfU0laRSh2ZWMpKSA8IEFSUkFZX1NJWkUodmVjKSkKIAkJcmV0dXJu
IEVJTlZBTDsKIAotCWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4p
IHx8ICFjb25uLT5jYW5fd3JpdGUpCisJaWYgKCFjb25uLT5jYW5fd3JpdGUp
CiAJCXJldHVybiBFQUNDRVM7CiAKIAlkb21pZCA9IGF0b2kodmVjWzBdKTsK
QEAgLTQ3Myw5ICs0NzMsNiBAQCBzdGF0aWMgc3RydWN0IGRvbWFpbiAqb25l
YXJnX2RvbWFpbihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIAlpZiAoIWRv
bWlkKQogCQlyZXR1cm4gRVJSX1BUUigtRUlOVkFMKTsKIAotCWlmIChkb21h
aW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKQotCQlyZXR1cm4gRVJSX1BUUigt
RUFDQ0VTKTsKLQogCXJldHVybiBmaW5kX2Nvbm5lY3RlZF9kb21haW4oZG9t
aWQpOwogfQogCi0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Transfer-Encoding: base64

RnJvbSBhM2Q4MDg5NTMyYWU1NzNjMDNlMWNkYjJmYzNjNWVlNWViYjUyYTYw
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDIgKzAyMDAKU3ViamVjdDogW1BBVENIIDA2LzEwXSB0b29scy94ZW5z
dG9yZTogcmV3b3JrIG5vZGUgcmVtb3ZhbAoKVG9kYXkgYSBYZW5zdG9yZSBu
b2RlIGlzIGJlaW5nIHJlbW92ZWQgYnkgZGVsZXRpbmcgaXQgZnJvbSB0aGUg
cGFyZW50CmZpcnN0IGFuZCB0aGVuIGRlbGV0aW5nIGl0c2VsZiBhbmQgYWxs
IGl0cyBjaGlsZHJlbi4gVGhpcyByZXN1bHRzIGluCnN0YWxlIGVudHJpZXMg
cmVtYWluaW5nIGluIHRoZSBkYXRhIGJhc2UgaW4gY2FzZSBlLmcuIGEgbWVt
b3J5CmFsbG9jYXRpb24gaXMgZmFpbGluZyBkdXJpbmcgcHJvY2Vzc2luZy4g
VGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlCnJhdGhlciBzdHJhbmdlIGJlaGF2
aW9yIHRvIGJlIGFibGUgdG8gcmVhZCBhIG5vZGUgKGFzIGl0cyBzdGlsbCBp
biB0aGUKZGF0YSBiYXNlKSB3aGlsZSBub3QgYmVpbmcgdmlzaWJsZSBpbiB0
aGUgdHJlZSB2aWV3IG9mIFhlbnN0b3JlLgoKRml4IHRoYXQgYnkgZGVsZXRp
bmcgdGhlIG5vZGVzIGZyb20gdGhlIGxlYWYgc2lkZSBpbnN0ZWFkIG9mIHN0
YXJ0aW5nCmF0IHRoZSByb290LgoKQXMgZmlyZV93YXRjaGVzKCkgaXMgbm93
IGNhbGxlZCBmcm9tIF9ybSgpIHRoZSBjdHggcGFyYW1ldGVyIG5lZWRzIGEK
Y29uc3QgYXR0cmlidXRlLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpT
aWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+
ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBhbWF6b24uY29t
PgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVsQHhlbi5vcmc+Ci0t
LQogdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYyAgfCA5OSArKysr
KysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLQogdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX3dhdGNoLmMgfCAgNCArLQogdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX3dhdGNoLmggfCAgMiArLQogMyBmaWxlcyBjaGFuZ2VkLCA1NCBp
bnNlcnRpb25zKCspLCA1MSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCBmMzgxOTZhZTI4MjUuLmRmZGI2
NGYzZWU2MCAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVk
X2NvcmUuYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5j
CkBAIC0xMDg5LDc0ICsxMDg5LDc2IEBAIHN0YXRpYyBpbnQgZG9fbWtkaXIo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRh
ICppbikKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHZvaWQgZGVsZXRlX25v
ZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2Rl
KQotewotCXVuc2lnbmVkIGludCBpOwotCWNoYXIgKm5hbWU7Ci0KLQkvKiBE
ZWxldGUgc2VsZiwgdGhlbiBkZWxldGUgY2hpbGRyZW4uICBJZiB3ZSBjcmFz
aCwgdGhlbiB0aGUgd29yc3QKLQkgICB0aGF0IGNhbiBoYXBwZW4gaXMgdGhl
IGNoaWxkcmVuIHdpbGwgY29udGludWUgdG8gdGFrZSB1cCBzcGFjZSwgYnV0
Ci0JICAgd2lsbCBvdGhlcndpc2UgYmUgdW5yZWFjaGFibGUuICovCi0JZGVs
ZXRlX25vZGVfc2luZ2xlKGNvbm4sIG5vZGUpOwotCi0JLyogRGVsZXRlIGNo
aWxkcmVuLCB0b28uICovCi0JZm9yIChpID0gMDsgaSA8IG5vZGUtPmNoaWxk
bGVuOyBpICs9IHN0cmxlbihub2RlLT5jaGlsZHJlbitpKSArIDEpIHsKLQkJ
c3RydWN0IG5vZGUgKmNoaWxkOwotCi0JCW5hbWUgPSB0YWxsb2NfYXNwcmlu
dGYobm9kZSwgIiVzLyVzIiwgbm9kZS0+bmFtZSwKLQkJCQkgICAgICAgbm9k
ZS0+Y2hpbGRyZW4gKyBpKTsKLQkJY2hpbGQgPSBuYW1lID8gcmVhZF9ub2Rl
KGNvbm4sIG5vZGUsIG5hbWUpIDogTlVMTDsKLQkJaWYgKGNoaWxkKSB7Ci0J
CQlkZWxldGVfbm9kZShjb25uLCBjaGlsZCk7Ci0JCX0KLQkJZWxzZSB7Ci0J
CQl0cmFjZSgiZGVsZXRlX25vZGU6IEVycm9yIGRlbGV0aW5nIGNoaWxkICcl
cy8lcychXG4iLAotCQkJICAgICAgbm9kZS0+bmFtZSwgbm9kZS0+Y2hpbGRy
ZW4gKyBpKTsKLQkJCS8qIFNraXAgaXQsIHdlJ3ZlIGFscmVhZHkgZGVsZXRl
ZCB0aGUgcGFyZW50LiAqLwotCQl9Ci0JCXRhbGxvY19mcmVlKG5hbWUpOwot
CX0KLX0KLQotCiAvKiBEZWxldGUgbWVtb3J5IHVzaW5nIG1lbW1vdmUuICov
CiBzdGF0aWMgdm9pZCBtZW1kZWwodm9pZCAqbWVtLCB1bnNpZ25lZCBvZmYs
IHVuc2lnbmVkIGxlbiwgdW5zaWduZWQgdG90YWwpCiB7CiAJbWVtbW92ZSht
ZW0gKyBvZmYsIG1lbSArIG9mZiArIGxlbiwgdG90YWwgLSBvZmYgLSBsZW4p
OwogfQogCi0KLXN0YXRpYyBpbnQgcmVtb3ZlX2NoaWxkX2VudHJ5KHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKLQkJCSAg
ICAgIHNpemVfdCBvZmZzZXQpCitzdGF0aWMgdm9pZCByZW1vdmVfY2hpbGRf
ZW50cnkoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpu
b2RlLAorCQkJICAgICAgIHNpemVfdCBvZmZzZXQpCiB7CiAJc2l6ZV90IGNo
aWxkbGVuID0gc3RybGVuKG5vZGUtPmNoaWxkcmVuICsgb2Zmc2V0KTsKKwog
CW1lbWRlbChub2RlLT5jaGlsZHJlbiwgb2Zmc2V0LCBjaGlsZGxlbiArIDEs
IG5vZGUtPmNoaWxkbGVuKTsKIAlub2RlLT5jaGlsZGxlbiAtPSBjaGlsZGxl
biArIDE7Ci0JcmV0dXJuIHdyaXRlX25vZGUoY29ubiwgbm9kZSwgdHJ1ZSk7
CisJaWYgKHdyaXRlX25vZGUoY29ubiwgbm9kZSwgdHJ1ZSkpCisJCWNvcnJ1
cHQoY29ubiwgIkNhbid0IHVwZGF0ZSBwYXJlbnQgbm9kZSAnJXMnIiwgbm9k
ZS0+bmFtZSk7CiB9CiAKLQotc3RhdGljIGludCBkZWxldGVfY2hpbGQoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sCi0JCQlzdHJ1Y3Qgbm9kZSAqbm9kZSwg
Y29uc3QgY2hhciAqY2hpbGRuYW1lKQorc3RhdGljIHZvaWQgZGVsZXRlX2No
aWxkKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAorCQkJIHN0cnVjdCBub2Rl
ICpub2RlLCBjb25zdCBjaGFyICpjaGlsZG5hbWUpCiB7CiAJdW5zaWduZWQg
aW50IGk7CiAKIAlmb3IgKGkgPSAwOyBpIDwgbm9kZS0+Y2hpbGRsZW47IGkg
Kz0gc3RybGVuKG5vZGUtPmNoaWxkcmVuK2kpICsgMSkgewogCQlpZiAoc3Ry
ZXEobm9kZS0+Y2hpbGRyZW4raSwgY2hpbGRuYW1lKSkgewotCQkJcmV0dXJu
IHJlbW92ZV9jaGlsZF9lbnRyeShjb25uLCBub2RlLCBpKTsKKwkJCXJlbW92
ZV9jaGlsZF9lbnRyeShjb25uLCBub2RlLCBpKTsKKwkJCXJldHVybjsKIAkJ
fQogCX0KIAljb3JydXB0KGNvbm4sICJDYW4ndCBmaW5kIGNoaWxkICclcycg
aW4gJXMiLCBjaGlsZG5hbWUsIG5vZGUtPm5hbWUpOwotCXJldHVybiBFTk9F
TlQ7CiB9CiAKK3N0YXRpYyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpwYXJlbnQsCisJCSAgICAgICBz
dHJ1Y3Qgbm9kZSAqbm9kZSkKK3sKKwljaGFyICpuYW1lOworCisJLyogRGVs
ZXRlIGNoaWxkcmVuLiAqLworCXdoaWxlIChub2RlLT5jaGlsZGxlbikgewor
CQlzdHJ1Y3Qgbm9kZSAqY2hpbGQ7CisKKwkJbmFtZSA9IHRhbGxvY19hc3By
aW50Zihub2RlLCAiJXMvJXMiLCBub2RlLT5uYW1lLAorCQkJCSAgICAgICBu
b2RlLT5jaGlsZHJlbik7CisJCWNoaWxkID0gbmFtZSA/IHJlYWRfbm9kZShj
b25uLCBub2RlLCBuYW1lKSA6IE5VTEw7CisJCWlmIChjaGlsZCkgeworCQkJ
aWYgKGRlbGV0ZV9ub2RlKGNvbm4sIG5vZGUsIGNoaWxkKSkKKwkJCQlyZXR1
cm4gZXJybm87CisJCX0gZWxzZSB7CisJCQl0cmFjZSgiZGVsZXRlX25vZGU6
IEVycm9yIGRlbGV0aW5nIGNoaWxkICclcy8lcychXG4iLAorCQkJICAgICAg
bm9kZS0+bmFtZSwgbm9kZS0+Y2hpbGRyZW4pOworCQkJLyogUXVpdCBkZWxl
dGluZy4gKi8KKwkJCWVycm5vID0gRU5PTUVNOworCQkJcmV0dXJuIGVycm5v
OworCQl9CisJCXRhbGxvY19mcmVlKG5hbWUpOworCX0KKworCWRlbGV0ZV9u
b2RlX3NpbmdsZShjb25uLCBub2RlKTsKKwlkZWxldGVfY2hpbGQoY29ubiwg
cGFyZW50LCBiYXNlbmFtZShub2RlLT5uYW1lKSk7CisJdGFsbG9jX2ZyZWUo
bm9kZSk7CisKKwlyZXR1cm4gMDsKK30KIAogc3RhdGljIGludCBfcm0oc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgc3RydWN0
IG5vZGUgKm5vZGUsCiAJICAgICAgIGNvbnN0IGNoYXIgKm5hbWUpCiB7Ci0J
LyogRGVsZXRlIGZyb20gcGFyZW50IGZpcnN0LCB0aGVuIGlmIHdlIGNyYXNo
LCB0aGUgd29yc3QgdGhhdCBjYW4KLQkgICBoYXBwZW4gaXMgdGhlIGNoaWxk
IHdpbGwgY29udGludWUgdG8gdGFrZSB1cCBzcGFjZSwgYnV0IHdpbGwKLQkg
ICBvdGhlcndpc2UgYmUgdW5yZWFjaGFibGUuICovCisJLyoKKwkgKiBEZWxl
dGluZyBub2RlIGJ5IG5vZGUsIHNvIHRoZSByZXN1bHQgaXMgYWx3YXlzIGNv
bnNpc3RlbnQgZXZlbiBpbgorCSAqIGNhc2Ugb2YgYSBmYWlsdXJlLgorCSAq
LwogCXN0cnVjdCBub2RlICpwYXJlbnQ7CiAJY2hhciAqcGFyZW50bmFtZSA9
IGdldF9wYXJlbnQoY3R4LCBuYW1lKTsKIApAQCAtMTE2NywxMSArMTE2OSwx
MyBAQCBzdGF0aWMgaW50IF9ybShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
Y29uc3Qgdm9pZCAqY3R4LCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKIAlpZiAoIXBh
cmVudCkKIAkJcmV0dXJuIChlcnJubyA9PSBFTk9NRU0pID8gRU5PTUVNIDog
RUlOVkFMOwogCi0JaWYgKGRlbGV0ZV9jaGlsZChjb25uLCBwYXJlbnQsIGJh
c2VuYW1lKG5hbWUpKSkKLQkJcmV0dXJuIEVJTlZBTDsKLQotCWRlbGV0ZV9u
b2RlKGNvbm4sIG5vZGUpOwotCXJldHVybiAwOworCS8qCisJICogRmlyZSB0
aGUgd2F0Y2hlcyBub3csIHdoZW4gd2UgY2FuIHN0aWxsIHNlZSB0aGUgbm9k
ZSBwZXJtaXNzaW9ucy4KKwkgKiBUaGlzIGZpbmUgYXMgd2UgYXJlIHNpbmds
ZSB0aHJlYWRlZCBhbmQgdGhlIG5leHQgcG9zc2libGUgcmVhZCB3aWxsCisJ
ICogYmUgaGFuZGxlZCBvbmx5IGFmdGVyIHRoZSBub2RlIGhhcyBiZWVuIHJl
YWxseSByZW1vdmVkLgorCSAqLworCWZpcmVfd2F0Y2hlcyhjb25uLCBjdHgs
IG5hbWUsIHRydWUpOworCXJldHVybiBkZWxldGVfbm9kZShjb25uLCBwYXJl
bnQsIG5vZGUpOwogfQogCiAKQEAgLTEyMDksNyArMTIxMyw2IEBAIHN0YXRp
YyBpbnQgZG9fcm0oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBi
dWZmZXJlZF9kYXRhICppbikKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0Owog
Ci0JZmlyZV93YXRjaGVzKGNvbm4sIGluLCBuYW1lLCB0cnVlKTsKIAlzZW5k
X2Fjayhjb25uLCBYU19STSk7CiAKIAlyZXR1cm4gMDsKZGlmZiAtLWdpdCBh
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5jIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKaW5kZXggZjJmMWJlZDQ3Y2M2Li5m
MGJiZmU3YTZkYzYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0
b3JlZF93YXRjaC5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93
YXRjaC5jCkBAIC03Nyw3ICs3Nyw3IEBAIHN0YXRpYyBib29sIGlzX2NoaWxk
KGNvbnN0IGNoYXIgKmNoaWxkLCBjb25zdCBjaGFyICpwYXJlbnQpCiAgKiBU
ZW1wb3JhcnkgbWVtb3J5IGFsbG9jYXRpb25zIGFyZSBkb25lIHdpdGggY3R4
LgogICovCiBzdGF0aWMgdm9pZCBhZGRfZXZlbnQoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sCi0JCSAgICAgIHZvaWQgKmN0eCwKKwkJICAgICAgY29uc3Qg
dm9pZCAqY3R4LAogCQkgICAgICBzdHJ1Y3Qgd2F0Y2ggKndhdGNoLAogCQkg
ICAgICBjb25zdCBjaGFyICpuYW1lKQogewpAQCAtMTIxLDcgKzEyMSw3IEBA
IHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwKICAqIENoZWNrIHdoZXRoZXIgYW55IHdhdGNoIGV2ZW50cyBhcmUgdG8g
YmUgc2VudC4KICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJl
IGRvbmUgd2l0aCBjdHguCiAgKi8KLXZvaWQgZmlyZV93YXRjaGVzKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5h
bWUsCit2b2lkIGZpcmVfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpuYW1lLAogCQkgIGJv
b2wgcmVjdXJzZSkKIHsKIAlzdHJ1Y3QgY29ubmVjdGlvbiAqaTsKZGlmZiAt
LWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oIGIvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmgKaW5kZXggYzcyZWE2YTY4
NTQyLi41NGQ0ZWE3ZTBkNDEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF93YXRjaC5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0
b3JlZF93YXRjaC5oCkBAIC0yNSw3ICsyNSw3IEBAIGludCBkb193YXRjaChz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEg
KmluKTsKIGludCBkb191bndhdGNoKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pOwogCiAvKiBGaXJlIGFsbCB3
YXRjaGVzOiByZWN1cnNlIG1lYW5zIGFsbCB0aGUgY2hpbGRyZW4gYXJlIGFm
ZmVjdGVkIChpZS4gcm0pLiAqLwotdm9pZCBmaXJlX3dhdGNoZXMoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIHZvaWQgKnRtcCwgY29uc3QgY2hhciAqbmFt
ZSwKK3ZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCB2b2lkICp0bXAsIGNvbnN0IGNoYXIgKm5hbWUsCiAJCSAgYm9v
bCByZWN1cnNlKTsKIAogdm9pZCBjb25uX2RlbGV0ZV9hbGxfd2F0Y2hlcyhz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7Ci0tIAoyLjE3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Transfer-Encoding: base64

RnJvbSAzZDRlM2ZkNmM3ODc5NWJmNDI2OTQ3ZmJmYmZhOWFmNjU2OGVjZTlm
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDMgKzAyMDAKU3ViamVjdDogW1BBVENIIDA3LzEwXSB0b29scy94ZW5z
dG9yZTogZmlyZSB3YXRjaGVzIG9ubHkgd2hlbiByZW1vdmluZyBhCiBzcGVj
aWZpYyBub2RlCgpJbnN0ZWFkIG9mIGZpcmluZyBhbGwgd2F0Y2hlcyBmb3Ig
cmVtb3ZpbmcgYSBzdWJ0cmVlIGluIG9uZSBnbywgZG8gc28Kb25seSB3aGVu
IHRoZSByZWxhdGVkIG5vZGUgaXMgYmVpbmcgcmVtb3ZlZC4KClRoZSB3YXRj
aGVzIGZvciB0aGUgdG9wLW1vc3Qgbm9kZSBiZWluZyByZW1vdmVkIGluY2x1
ZGUgYWxsIHdhdGNoZXMKaW5jbHVkaW5nIHRoYXQgbm9kZSwgd2hpbGUgd2F0
Y2hlcyBmb3Igbm9kZXMgYmVsb3cgdGhhdCBhcmUgb25seSBmaXJlZAppZiB0
aGV5IGFyZSBtYXRjaGluZyBleGFjdGx5LiBUaGlzIGF2b2lkcyBmaXJpbmcg
YW55IHdhdGNoIG1vcmUgdGhhbgpvbmNlIHdoZW4gcmVtb3ZpbmcgYSBzdWJ0
cmVlLgoKVGhpcyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5
OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+ClJldmlld2VkLWJ5
OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBhbWF6b24uY29tPgpSZXZpZXdlZC1i
eTogUGF1bCBEdXJyYW50IDxwYXVsQHhlbi5vcmc+Ci0tLQogdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2NvcmUuYyAgfCAxMSArKysrKystLS0tLQogdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgfCAxMyArKysrKysrKy0t
LS0tCiB0b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaCB8ICA0ICsr
LS0KIDMgZmlsZXMgY2hhbmdlZCwgMTYgaW5zZXJ0aW9ucygrKSwgMTIgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2NvcmUuYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMK
aW5kZXggZGZkYjY0ZjNlZTYwLi4yMGE3YTM1ODE1NTUgMTAwNjQ0Ci0tLSBh
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKKysrIGIvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpAQCAtMTEyMCw4ICsxMTIwLDgg
QEAgc3RhdGljIHZvaWQgZGVsZXRlX2NoaWxkKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLAogCWNvcnJ1cHQoY29ubiwgIkNhbid0IGZpbmQgY2hpbGQgJyVz
JyBpbiAlcyIsIGNoaWxkbmFtZSwgbm9kZS0+bmFtZSk7CiB9CiAKLXN0YXRp
YyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0
cnVjdCBub2RlICpwYXJlbnQsCi0JCSAgICAgICBzdHJ1Y3Qgbm9kZSAqbm9k
ZSkKK3N0YXRpYyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKKwkJICAgICAgIHN0cnVjdCBub2Rl
ICpwYXJlbnQsIHN0cnVjdCBub2RlICpub2RlKQogewogCWNoYXIgKm5hbWU7
CiAKQEAgLTExMzMsNyArMTEzMyw3IEBAIHN0YXRpYyBpbnQgZGVsZXRlX25v
ZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpwYXJl
bnQsCiAJCQkJICAgICAgIG5vZGUtPmNoaWxkcmVuKTsKIAkJY2hpbGQgPSBu
YW1lID8gcmVhZF9ub2RlKGNvbm4sIG5vZGUsIG5hbWUpIDogTlVMTDsKIAkJ
aWYgKGNoaWxkKSB7Ci0JCQlpZiAoZGVsZXRlX25vZGUoY29ubiwgbm9kZSwg
Y2hpbGQpKQorCQkJaWYgKGRlbGV0ZV9ub2RlKGNvbm4sIGN0eCwgbm9kZSwg
Y2hpbGQpKQogCQkJCXJldHVybiBlcnJubzsKIAkJfSBlbHNlIHsKIAkJCXRy
YWNlKCJkZWxldGVfbm9kZTogRXJyb3IgZGVsZXRpbmcgY2hpbGQgJyVzLyVz
JyFcbiIsCkBAIC0xMTQ1LDYgKzExNDUsNyBAQCBzdGF0aWMgaW50IGRlbGV0
ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAq
cGFyZW50LAogCQl0YWxsb2NfZnJlZShuYW1lKTsKIAl9CiAKKwlmaXJlX3dh
dGNoZXMoY29ubiwgY3R4LCBub2RlLT5uYW1lLCB0cnVlKTsKIAlkZWxldGVf
bm9kZV9zaW5nbGUoY29ubiwgbm9kZSk7CiAJZGVsZXRlX2NoaWxkKGNvbm4s
IHBhcmVudCwgYmFzZW5hbWUobm9kZS0+bmFtZSkpOwogCXRhbGxvY19mcmVl
KG5vZGUpOwpAQCAtMTE3NCw4ICsxMTc1LDggQEAgc3RhdGljIGludCBfcm0o
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgc3Ry
dWN0IG5vZGUgKm5vZGUsCiAJICogVGhpcyBmaW5lIGFzIHdlIGFyZSBzaW5n
bGUgdGhyZWFkZWQgYW5kIHRoZSBuZXh0IHBvc3NpYmxlIHJlYWQgd2lsbAog
CSAqIGJlIGhhbmRsZWQgb25seSBhZnRlciB0aGUgbm9kZSBoYXMgYmVlbiBy
ZWFsbHkgcmVtb3ZlZC4KIAkgKi8KLQlmaXJlX3dhdGNoZXMoY29ubiwgY3R4
LCBuYW1lLCB0cnVlKTsKLQlyZXR1cm4gZGVsZXRlX25vZGUoY29ubiwgcGFy
ZW50LCBub2RlKTsKKwlmaXJlX3dhdGNoZXMoY29ubiwgY3R4LCBuYW1lLCBm
YWxzZSk7CisJcmV0dXJuIGRlbGV0ZV9ub2RlKGNvbm4sIGN0eCwgcGFyZW50
LCBub2RlKTsKIH0KIAogCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfd2F0Y2guYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93
YXRjaC5jCmluZGV4IGYwYmJmZTdhNmRjNi4uMzgzNjY3NTQ1OWZhIDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYworKysg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYwpAQCAtMTIyLDcg
KzEyMiw3IEBAIHN0YXRpYyB2b2lkIGFkZF9ldmVudChzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubiwKICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMg
YXJlIGRvbmUgd2l0aCBjdHguCiAgKi8KIHZvaWQgZmlyZV93YXRjaGVzKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0
IGNoYXIgKm5hbWUsCi0JCSAgYm9vbCByZWN1cnNlKQorCQkgIGJvb2wgZXhh
Y3QpCiB7CiAJc3RydWN0IGNvbm5lY3Rpb24gKmk7CiAJc3RydWN0IHdhdGNo
ICp3YXRjaDsKQEAgLTEzNCwxMCArMTM0LDEzIEBAIHZvaWQgZmlyZV93YXRj
aGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgs
IGNvbnN0IGNoYXIgKm5hbWUsCiAJLyogQ3JlYXRlIGFuIGV2ZW50IGZvciBl
YWNoIHdhdGNoLiAqLwogCWxpc3RfZm9yX2VhY2hfZW50cnkoaSwgJmNvbm5l
Y3Rpb25zLCBsaXN0KSB7CiAJCWxpc3RfZm9yX2VhY2hfZW50cnkod2F0Y2gs
ICZpLT53YXRjaGVzLCBsaXN0KSB7Ci0JCQlpZiAoaXNfY2hpbGQobmFtZSwg
d2F0Y2gtPm5vZGUpKQotCQkJCWFkZF9ldmVudChpLCBjdHgsIHdhdGNoLCBu
YW1lKTsKLQkJCWVsc2UgaWYgKHJlY3Vyc2UgJiYgaXNfY2hpbGQod2F0Y2gt
Pm5vZGUsIG5hbWUpKQotCQkJCWFkZF9ldmVudChpLCBjdHgsIHdhdGNoLCB3
YXRjaC0+bm9kZSk7CisJCQlpZiAoZXhhY3QpIHsKKwkJCQlpZiAoc3RyZXEo
bmFtZSwgd2F0Y2gtPm5vZGUpKQorCQkJCQlhZGRfZXZlbnQoaSwgY3R4LCB3
YXRjaCwgbmFtZSk7CisJCQl9IGVsc2UgeworCQkJCWlmIChpc19jaGlsZChu
YW1lLCB3YXRjaC0+bm9kZSkpCisJCQkJCWFkZF9ldmVudChpLCBjdHgsIHdh
dGNoLCBuYW1lKTsKKwkJCX0KIAkJfQogCX0KIH0KZGlmZiAtLWdpdCBhL3Rv
b2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3dhdGNoLmgKaW5kZXggNTRkNGVhN2UwZDQxLi4xYjNj
ODBkM2RkYTEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF93YXRjaC5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRj
aC5oCkBAIC0yNCw5ICsyNCw5IEBACiBpbnQgZG9fd2F0Y2goc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbik7CiBp
bnQgZG9fdW53YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0
IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAotLyogRmlyZSBhbGwgd2F0Y2hlczog
cmVjdXJzZSBtZWFucyBhbGwgdGhlIGNoaWxkcmVuIGFyZSBhZmZlY3RlZCAo
aWUuIHJtKS4gKi8KKy8qIEZpcmUgYWxsIHdhdGNoZXM6ICFleGFjdCBtZWFu
cyBhbGwgdGhlIGNoaWxkcmVuIGFyZSBhZmZlY3RlZCAoaWUuIHJtKS4gKi8K
IHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBj
b25zdCB2b2lkICp0bXAsIGNvbnN0IGNoYXIgKm5hbWUsCi0JCSAgYm9vbCBy
ZWN1cnNlKTsKKwkJICBib29sIGV4YWN0KTsKIAogdm9pZCBjb25uX2RlbGV0
ZV9hbGxfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7CiAKLS0g
CjIuMTcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Transfer-Encoding: base64

RnJvbSAxMDY5YzYwMGY4NWZmNTgzYzQ2MWNmYmZlZTFhZmIxYTA3MzE3OTZl
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDQgKzAyMDAKU3ViamVjdDogW1BBVENIIDA4LzEwXSB0b29scy94ZW5z
dG9yZTogaW50cm9kdWNlIG5vZGVfcGVybXMgc3RydWN0dXJlCgpUaGVyZSBh
cmUgc2V2ZXJhbCBwbGFjZXMgaW4geGVuc3RvcmVkIHVzaW5nIGEgcGVybWlz
c2lvbiBhcnJheSBhbmQgdGhlCnNpemUgb2YgdGhhdCBhcnJheS4gSW50cm9k
dWNlIGEgbmV3IHN0cnVjdCBub2RlX3Blcm1zIGNvbnRhaW5pbmcgYm90aC4K
ClRoaXMgaXMgcGFydCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogSnVl
cmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpBY2tlZC1ieTogSnVsaWVu
IEdyYWxsIDxqZ3JhbGxAYW1hem9uLmNvbT4KUmV2aWV3ZWQtYnk6IFBhdWwg
RHVycmFudCA8cGF1bEB4ZW4ub3JnPgotLS0KIHRvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9jb3JlLmMgICB8IDc5ICsrKysrKysrKysrKysrKy0tLS0tLS0t
LS0tLS0tLS0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmggICB8
ICA4ICsrKy0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYyB8
IDEyICsrLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDUwIGluc2VydGlvbnMoKyks
IDQ5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5jCmluZGV4IDIwYTdhMzU4MTU1NS4uNzlkMzA1ZmJiZTU4IDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBi
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTQwMywxNCAr
NDAzLDE0IEBAIHN0YXRpYyBzdHJ1Y3Qgbm9kZSAqcmVhZF9ub2RlKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAJLyogRGF0
YWxlbiwgY2hpbGRsZW4sIG51bWJlciBvZiBwZXJtaXNzaW9ucyAqLwogCWhk
ciA9ICh2b2lkICopZGF0YS5kcHRyOwogCW5vZGUtPmdlbmVyYXRpb24gPSBo
ZHItPmdlbmVyYXRpb247Ci0Jbm9kZS0+bnVtX3Blcm1zID0gaGRyLT5udW1f
cGVybXM7CisJbm9kZS0+cGVybXMubnVtID0gaGRyLT5udW1fcGVybXM7CiAJ
bm9kZS0+ZGF0YWxlbiA9IGhkci0+ZGF0YWxlbjsKIAlub2RlLT5jaGlsZGxl
biA9IGhkci0+Y2hpbGRsZW47CiAKIAkvKiBQZXJtaXNzaW9ucyBhcmUgc3Ry
dWN0IHhzX3Blcm1pc3Npb25zLiAqLwotCW5vZGUtPnBlcm1zID0gaGRyLT5w
ZXJtczsKKwlub2RlLT5wZXJtcy5wID0gaGRyLT5wZXJtczsKIAkvKiBEYXRh
IGlzIGJpbmFyeSBibG9iICh1c3VhbGx5IGFzY2lpLCBubyBudWwpLiAqLwot
CW5vZGUtPmRhdGEgPSBub2RlLT5wZXJtcyArIG5vZGUtPm51bV9wZXJtczsK
Kwlub2RlLT5kYXRhID0gbm9kZS0+cGVybXMucCArIG5vZGUtPnBlcm1zLm51
bTsKIAkvKiBDaGlsZHJlbiBpcyBzdHJpbmdzLCBudWwgc2VwYXJhdGVkLiAq
LwogCW5vZGUtPmNoaWxkcmVuID0gbm9kZS0+ZGF0YSArIG5vZGUtPmRhdGFs
ZW47CiAKQEAgLTQyNyw3ICs0MjcsNyBAQCBpbnQgd3JpdGVfbm9kZV9yYXco
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVj
dCBub2RlICpub2RlLAogCXN0cnVjdCB4c190ZGJfcmVjb3JkX2hkciAqaGRy
OwogCiAJZGF0YS5kc2l6ZSA9IHNpemVvZigqaGRyKQotCQkrIG5vZGUtPm51
bV9wZXJtcypzaXplb2Yobm9kZS0+cGVybXNbMF0pCisJCSsgbm9kZS0+cGVy
bXMubnVtICogc2l6ZW9mKG5vZGUtPnBlcm1zLnBbMF0pCiAJCSsgbm9kZS0+
ZGF0YWxlbiArIG5vZGUtPmNoaWxkbGVuOwogCiAJaWYgKCFub19xdW90YV9j
aGVjayAmJiBkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pICYmCkBAIC00
MzksMTIgKzQzOSwxMyBAQCBpbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpu
b2RlLAogCWRhdGEuZHB0ciA9IHRhbGxvY19zaXplKG5vZGUsIGRhdGEuZHNp
emUpOwogCWhkciA9ICh2b2lkICopZGF0YS5kcHRyOwogCWhkci0+Z2VuZXJh
dGlvbiA9IG5vZGUtPmdlbmVyYXRpb247Ci0JaGRyLT5udW1fcGVybXMgPSBu
b2RlLT5udW1fcGVybXM7CisJaGRyLT5udW1fcGVybXMgPSBub2RlLT5wZXJt
cy5udW07CiAJaGRyLT5kYXRhbGVuID0gbm9kZS0+ZGF0YWxlbjsKIAloZHIt
PmNoaWxkbGVuID0gbm9kZS0+Y2hpbGRsZW47CiAKLQltZW1jcHkoaGRyLT5w
ZXJtcywgbm9kZS0+cGVybXMsIG5vZGUtPm51bV9wZXJtcypzaXplb2Yobm9k
ZS0+cGVybXNbMF0pKTsKLQlwID0gaGRyLT5wZXJtcyArIG5vZGUtPm51bV9w
ZXJtczsKKwltZW1jcHkoaGRyLT5wZXJtcywgbm9kZS0+cGVybXMucCwKKwkg
ICAgICAgbm9kZS0+cGVybXMubnVtICogc2l6ZW9mKCpub2RlLT5wZXJtcy5w
KSk7CisJcCA9IGhkci0+cGVybXMgKyBub2RlLT5wZXJtcy5udW07CiAJbWVt
Y3B5KHAsIG5vZGUtPmRhdGEsIG5vZGUtPmRhdGFsZW4pOwogCXAgKz0gbm9k
ZS0+ZGF0YWxlbjsKIAltZW1jcHkocCwgbm9kZS0+Y2hpbGRyZW4sIG5vZGUt
PmNoaWxkbGVuKTsKQEAgLTQ3MCw4ICs0NzEsNyBAQCBzdGF0aWMgaW50IHdy
aXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2Rl
ICpub2RlLAogfQogCiBzdGF0aWMgZW51bSB4c19wZXJtX3R5cGUgcGVybV9m
b3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKLQkJCQkgICAgICAg
c3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJtcywKLQkJCQkgICAgICAgdW5z
aWduZWQgaW50IG51bSkKKwkJCQkgICAgICAgY29uc3Qgc3RydWN0IG5vZGVf
cGVybXMgKnBlcm1zKQogewogCXVuc2lnbmVkIGludCBpOwogCWVudW0geHNf
cGVybV90eXBlIG1hc2sgPSBYU19QRVJNX1JFQUR8WFNfUEVSTV9XUklURXxY
U19QRVJNX09XTkVSOwpAQCAtNDgwLDE2ICs0ODAsMTYgQEAgc3RhdGljIGVu
dW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sCiAJCW1hc2sgJj0gflhTX1BFUk1fV1JJVEU7CiAKIAkvKiBP
d25lcnMgYW5kIHRvb2xzIGdldCBpdCBhbGwuLi4gKi8KLQlpZiAoIWRvbWFp
bl9pc191bnByaXZpbGVnZWQoY29ubikgfHwgcGVybXNbMF0uaWQgPT0gY29u
bi0+aWQKLSAgICAgICAgICAgICAgICB8fCAoY29ubi0+dGFyZ2V0ICYmIHBl
cm1zWzBdLmlkID09IGNvbm4tPnRhcmdldC0+aWQpKQorCWlmICghZG9tYWlu
X2lzX3VucHJpdmlsZWdlZChjb25uKSB8fCBwZXJtcy0+cFswXS5pZCA9PSBj
b25uLT5pZAorICAgICAgICAgICAgICAgIHx8IChjb25uLT50YXJnZXQgJiYg
cGVybXMtPnBbMF0uaWQgPT0gY29ubi0+dGFyZ2V0LT5pZCkpCiAJCXJldHVy
biAoWFNfUEVSTV9SRUFEfFhTX1BFUk1fV1JJVEV8WFNfUEVSTV9PV05FUikg
JiBtYXNrOwogCi0JZm9yIChpID0gMTsgaSA8IG51bTsgaSsrKQotCQlpZiAo
cGVybXNbaV0uaWQgPT0gY29ubi0+aWQKLSAgICAgICAgICAgICAgICAgICAg
ICAgIHx8IChjb25uLT50YXJnZXQgJiYgcGVybXNbaV0uaWQgPT0gY29ubi0+
dGFyZ2V0LT5pZCkpCi0JCQlyZXR1cm4gcGVybXNbaV0ucGVybXMgJiBtYXNr
OworCWZvciAoaSA9IDE7IGkgPCBwZXJtcy0+bnVtOyBpKyspCisJCWlmIChw
ZXJtcy0+cFtpXS5pZCA9PSBjb25uLT5pZAorICAgICAgICAgICAgICAgICAg
ICAgICAgfHwgKGNvbm4tPnRhcmdldCAmJiBwZXJtcy0+cFtpXS5pZCA9PSBj
b25uLT50YXJnZXQtPmlkKSkKKwkJCXJldHVybiBwZXJtcy0+cFtpXS5wZXJt
cyAmIG1hc2s7CiAKLQlyZXR1cm4gcGVybXNbMF0ucGVybXMgJiBtYXNrOwor
CXJldHVybiBwZXJtcy0+cFswXS5wZXJtcyAmIG1hc2s7CiB9CiAKIC8qCkBA
IC01MzYsNyArNTM2LDcgQEAgc3RhdGljIGludCBhc2tfcGFyZW50cyhzdHJ1
Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAogCQlyZXR1
cm4gMDsKIAl9CiAKLQkqcGVybSA9IHBlcm1fZm9yX2Nvbm4oY29ubiwgbm9k
ZS0+cGVybXMsIG5vZGUtPm51bV9wZXJtcyk7CisJKnBlcm0gPSBwZXJtX2Zv
cl9jb25uKGNvbm4sICZub2RlLT5wZXJtcyk7CiAJcmV0dXJuIDA7CiB9CiAK
QEAgLTU4Miw4ICs1ODIsNyBAQCBzdHJ1Y3Qgbm9kZSAqZ2V0X25vZGUoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sCiAJbm9kZSA9IHJlYWRfbm9kZShjb25u
LCBjdHgsIG5hbWUpOwogCS8qIElmIHdlIGRvbid0IGhhdmUgcGVybWlzc2lv
biwgd2UgZG9uJ3QgaGF2ZSBub2RlLiAqLwogCWlmIChub2RlKSB7Ci0JCWlm
ICgocGVybV9mb3JfY29ubihjb25uLCBub2RlLT5wZXJtcywgbm9kZS0+bnVt
X3Blcm1zKSAmIHBlcm0pCi0JCSAgICAhPSBwZXJtKSB7CisJCWlmICgocGVy
bV9mb3JfY29ubihjb25uLCAmbm9kZS0+cGVybXMpICYgcGVybSkgIT0gcGVy
bSkgewogCQkJZXJybm8gPSBFQUNDRVM7CiAJCQlub2RlID0gTlVMTDsKIAkJ
fQpAQCAtNzU5LDE2ICs3NTgsMTUgQEAgY29uc3QgY2hhciAqb25lYXJnKHN0
cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlyZXR1cm4gaW4tPmJ1ZmZlcjsK
IH0KIAotc3RhdGljIGNoYXIgKnBlcm1zX3RvX3N0cmluZ3MoY29uc3Qgdm9p
ZCAqY3R4LAotCQkJICAgICAgc3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJt
cywgdW5zaWduZWQgaW50IG51bSwKK3N0YXRpYyBjaGFyICpwZXJtc190b19z
dHJpbmdzKGNvbnN0IHZvaWQgKmN0eCwgY29uc3Qgc3RydWN0IG5vZGVfcGVy
bXMgKnBlcm1zLAogCQkJICAgICAgdW5zaWduZWQgaW50ICpsZW4pCiB7CiAJ
dW5zaWduZWQgaW50IGk7CiAJY2hhciAqc3RyaW5ncyA9IE5VTEw7CiAJY2hh
ciBidWZmZXJbTUFYX1NUUkxFTih1bnNpZ25lZCBpbnQpICsgMV07CiAKLQlm
b3IgKCpsZW4gPSAwLCBpID0gMDsgaSA8IG51bTsgaSsrKSB7Ci0JCWlmICgh
eHNfcGVybV90b19zdHJpbmcoJnBlcm1zW2ldLCBidWZmZXIsIHNpemVvZihi
dWZmZXIpKSkKKwlmb3IgKCpsZW4gPSAwLCBpID0gMDsgaSA8IHBlcm1zLT5u
dW07IGkrKykgeworCQlpZiAoIXhzX3Blcm1fdG9fc3RyaW5nKCZwZXJtcy0+
cFtpXSwgYnVmZmVyLCBzaXplb2YoYnVmZmVyKSkpCiAJCQlyZXR1cm4gTlVM
TDsKIAogCQlzdHJpbmdzID0gdGFsbG9jX3JlYWxsb2MoY3R4LCBzdHJpbmdz
LCBjaGFyLApAQCAtOTQ3LDEzICs5NDUsMTMgQEAgc3RhdGljIHN0cnVjdCBu
b2RlICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
Y29uc3Qgdm9pZCAqY3R4LAogCQlnb3RvIG5vbWVtOwogCiAJLyogSW5oZXJp
dCBwZXJtaXNzaW9ucywgZXhjZXB0IHVucHJpdmlsZWdlZCBkb21haW5zIG93
biB3aGF0IHRoZXkgY3JlYXRlICovCi0Jbm9kZS0+bnVtX3Blcm1zID0gcGFy
ZW50LT5udW1fcGVybXM7Ci0Jbm9kZS0+cGVybXMgPSB0YWxsb2NfbWVtZHVw
KG5vZGUsIHBhcmVudC0+cGVybXMsCi0JCQkJICAgIG5vZGUtPm51bV9wZXJt
cyAqIHNpemVvZihub2RlLT5wZXJtc1swXSkpOwotCWlmICghbm9kZS0+cGVy
bXMpCisJbm9kZS0+cGVybXMubnVtID0gcGFyZW50LT5wZXJtcy5udW07CisJ
bm9kZS0+cGVybXMucCA9IHRhbGxvY19tZW1kdXAobm9kZSwgcGFyZW50LT5w
ZXJtcy5wLAorCQkJCSAgICAgIG5vZGUtPnBlcm1zLm51bSAqIHNpemVvZigq
bm9kZS0+cGVybXMucCkpOworCWlmICghbm9kZS0+cGVybXMucCkKIAkJZ290
byBub21lbTsKIAlpZiAoZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25uKSkK
LQkJbm9kZS0+cGVybXNbMF0uaWQgPSBjb25uLT5pZDsKKwkJbm9kZS0+cGVy
bXMucFswXS5pZCA9IGNvbm4tPmlkOwogCiAJLyogTm8gY2hpbGRyZW4sIG5v
IGRhdGEgKi8KIAlub2RlLT5jaGlsZHJlbiA9IG5vZGUtPmRhdGEgPSBOVUxM
OwpAQCAtMTIzMCw3ICsxMjI4LDcgQEAgc3RhdGljIGludCBkb19nZXRfcGVy
bXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9k
YXRhICppbikKIAlpZiAoIW5vZGUpCiAJCXJldHVybiBlcnJubzsKIAotCXN0
cmluZ3MgPSBwZXJtc190b19zdHJpbmdzKG5vZGUsIG5vZGUtPnBlcm1zLCBu
b2RlLT5udW1fcGVybXMsICZsZW4pOworCXN0cmluZ3MgPSBwZXJtc190b19z
dHJpbmdzKG5vZGUsICZub2RlLT5wZXJtcywgJmxlbik7CiAJaWYgKCFzdHJp
bmdzKQogCQlyZXR1cm4gZXJybm87CiAKQEAgLTEyNDEsMTMgKzEyMzksMTIg
QEAgc3RhdGljIGludCBkb19nZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAogc3RhdGljIGlu
dCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVj
dCBidWZmZXJlZF9kYXRhICppbikKIHsKLQl1bnNpZ25lZCBpbnQgbnVtOwot
CXN0cnVjdCB4c19wZXJtaXNzaW9ucyAqcGVybXM7CisJc3RydWN0IG5vZGVf
cGVybXMgcGVybXM7CiAJY2hhciAqbmFtZSwgKnBlcm1zdHI7CiAJc3RydWN0
IG5vZGUgKm5vZGU7CiAKLQludW0gPSB4c19jb3VudF9zdHJpbmdzKGluLT5i
dWZmZXIsIGluLT51c2VkKTsKLQlpZiAobnVtIDwgMikKKwlwZXJtcy5udW0g
PSB4c19jb3VudF9zdHJpbmdzKGluLT5idWZmZXIsIGluLT51c2VkKTsKKwlp
ZiAocGVybXMubnVtIDwgMikKIAkJcmV0dXJuIEVJTlZBTDsKIAogCS8qIEZp
cnN0IGFyZyBpcyBub2RlIG5hbWUuICovCkBAIC0xMjU4LDIxICsxMjU1LDIx
IEBAIHN0YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJCXJldHVybiBl
cnJubzsKIAogCXBlcm1zdHIgPSBpbi0+YnVmZmVyICsgc3RybGVuKGluLT5i
dWZmZXIpICsgMTsKLQludW0tLTsKKwlwZXJtcy5udW0tLTsKIAotCXBlcm1z
ID0gdGFsbG9jX2FycmF5KG5vZGUsIHN0cnVjdCB4c19wZXJtaXNzaW9ucywg
bnVtKTsKLQlpZiAoIXBlcm1zKQorCXBlcm1zLnAgPSB0YWxsb2NfYXJyYXko
bm9kZSwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy5udW0pOworCWlm
ICghcGVybXMucCkKIAkJcmV0dXJuIEVOT01FTTsKLQlpZiAoIXhzX3N0cmlu
Z3NfdG9fcGVybXMocGVybXMsIG51bSwgcGVybXN0cikpCisJaWYgKCF4c19z
dHJpbmdzX3RvX3Blcm1zKHBlcm1zLnAsIHBlcm1zLm51bSwgcGVybXN0cikp
CiAJCXJldHVybiBlcnJubzsKIAogCS8qIFVucHJpdmlsZWdlZCBkb21haW5z
IG1heSBub3QgY2hhbmdlIHRoZSBvd25lci4gKi8KLQlpZiAoZG9tYWluX2lz
X3VucHJpdmlsZWdlZChjb25uKSAmJiBwZXJtc1swXS5pZCAhPSBub2RlLT5w
ZXJtc1swXS5pZCkKKwlpZiAoZG9tYWluX2lzX3VucHJpdmlsZWdlZChjb25u
KSAmJgorCSAgICBwZXJtcy5wWzBdLmlkICE9IG5vZGUtPnBlcm1zLnBbMF0u
aWQpCiAJCXJldHVybiBFUEVSTTsKIAogCWRvbWFpbl9lbnRyeV9kZWMoY29u
biwgbm9kZSk7CiAJbm9kZS0+cGVybXMgPSBwZXJtczsKLQlub2RlLT5udW1f
cGVybXMgPSBudW07CiAJZG9tYWluX2VudHJ5X2luYyhjb25uLCBub2RlKTsK
IAogCWlmICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUsIGZhbHNlKSkKQEAgLTE1
NDcsOCArMTU0NCw4IEBAIHN0YXRpYyB2b2lkIG1hbnVhbF9ub2RlKGNvbnN0
IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKmNoaWxkKQogCQliYXJmX3BlcnJv
cigiQ291bGQgbm90IGFsbG9jYXRlIGluaXRpYWwgbm9kZSAlcyIsIG5hbWUp
OwogCiAJbm9kZS0+bmFtZSA9IG5hbWU7Ci0Jbm9kZS0+cGVybXMgPSAmcGVy
bXM7Ci0Jbm9kZS0+bnVtX3Blcm1zID0gMTsKKwlub2RlLT5wZXJtcy5wID0g
JnBlcm1zOworCW5vZGUtPnBlcm1zLm51bSA9IDE7CiAJbm9kZS0+Y2hpbGRy
ZW4gPSAoY2hhciAqKWNoaWxkOwogCWlmIChjaGlsZCkKIAkJbm9kZS0+Y2hp
bGRsZW4gPSBzdHJsZW4oY2hpbGQpICsgMTsKZGlmZiAtLWdpdCBhL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmggYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5oCmluZGV4IDI5ZDYzOGZiYzVhMC4uNDdiYTA5MTZk
YmUyIDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKQEAg
LTEwOSw2ICsxMDksMTEgQEAgc3RydWN0IGNvbm5lY3Rpb24KIH07CiBleHRl
cm4gc3RydWN0IGxpc3RfaGVhZCBjb25uZWN0aW9uczsKIAorc3RydWN0IG5v
ZGVfcGVybXMgeworCXVuc2lnbmVkIGludCBudW07CisJc3RydWN0IHhzX3Bl
cm1pc3Npb25zICpwOworfTsKKwogc3RydWN0IG5vZGUgewogCWNvbnN0IGNo
YXIgKm5hbWU7CiAKQEAgLTEyMCw4ICsxMjUsNyBAQCBzdHJ1Y3Qgbm9kZSB7
CiAjZGVmaW5lIE5PX0dFTkVSQVRJT04gfigodWludDY0X3QpMCkKIAogCS8q
IFBlcm1pc3Npb25zLiAqLwotCXVuc2lnbmVkIGludCBudW1fcGVybXM7Ci0J
c3RydWN0IHhzX3Blcm1pc3Npb25zICpwZXJtczsKKwlzdHJ1Y3Qgbm9kZV9w
ZXJtcyBwZXJtczsKIAogCS8qIENvbnRlbnRzLiAqLwogCXVuc2lnbmVkIGlu
dCBkYXRhbGVuOwpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2RvbWFpbi5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFp
bi5jCmluZGV4IDJkMGQ4N2VlODllMS4uYWE5OTQyZmNjMjY3IDEwMDY0NAot
LS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKKysrIGIv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jCkBAIC02NTAsMTIg
KzY1MCwxMiBAQCB2b2lkIGRvbWFpbl9lbnRyeV9pbmMoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQogCWlmICghY29ubikK
IAkJcmV0dXJuOwogCi0JaWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBlcm1z
WzBdLmlkICE9IGNvbm4tPmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAgJiYg
bm9kZS0+cGVybXMucFswXS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAoY29u
bi0+dHJhbnNhY3Rpb24pIHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2luYyhj
b25uLT50cmFuc2FjdGlvbiwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7CisJ
CQkJbm9kZS0+cGVybXMucFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlkID0g
ZmluZF9kb21haW5fYnlfZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOworCQkJ
ZCA9IGZpbmRfZG9tYWluX2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0uaWQp
OwogCQkJaWYgKGQpCiAJCQkJZC0+bmJlbnRyeSsrOwogCQl9CkBAIC02NzYs
MTIgKzY3NiwxMiBAQCB2b2lkIGRvbWFpbl9lbnRyeV9kZWMoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlKQogCWlmICghY29u
bikKIAkJcmV0dXJuOwogCi0JaWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBl
cm1zWzBdLmlkICE9IGNvbm4tPmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAg
JiYgbm9kZS0+cGVybXMucFswXS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAo
Y29ubi0+dHJhbnNhY3Rpb24pIHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2Rl
Yyhjb25uLT50cmFuc2FjdGlvbiwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7
CisJCQkJbm9kZS0+cGVybXMucFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlk
ID0gZmluZF9kb21haW5fYnlfZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOwor
CQkJZCA9IGZpbmRfZG9tYWluX2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0u
aWQpOwogCQkJaWYgKGQgJiYgZC0+bmJlbnRyeSkKIAkJCQlkLT5uYmVudHJ5
LS07CiAJCX0KLS0gCjIuMTcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Transfer-Encoding: base64

RnJvbSBiOWZmZjRiN2FkNmI0MWRiODYwYTQzZDM1YzQwMTg0N2ZlZjc4OWNi
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDUgKzAyMDAKU3ViamVjdDogW1BBVENIIDA5LzEwXSB0b29scy94ZW5z
dG9yZTogYWxsb3cgc3BlY2lhbCB3YXRjaGVzIGZvciBwcml2aWxlZ2VkCiBj
YWxsZXJzIG9ubHkKClRoZSBzcGVjaWFsIHdhdGNoZXMgIkBpbnRyb2R1Y2VE
b21haW4iIGFuZCAiQHJlbGVhc2VEb21haW4iIHNob3VsZCBiZQphbGxvd2Vk
IGZvciBwcml2aWxlZ2VkIGNhbGxlcnMgb25seSwgYXMgdGhleSBhbGxvdyB0
byBnYWluIGluZm9ybWF0aW9uCmFib3V0IHByZXNlbmNlIG9mIG90aGVyIGd1
ZXN0cyBvbiB0aGUgaG9zdC4gU28gc2VuZCB3YXRjaCBldmVudHMgZm9yCnRo
b3NlIHdhdGNoZXMgdmlhIHByaXZpbGVnZWQgY29ubmVjdGlvbnMgb25seS4K
CkluIG9yZGVyIHRvIGFsbG93IGZvciBkaXNhZ2dyZWdhdGVkIHNldHVwcyB3
aGVyZSBlLmcuIGRyaXZlciBkb21haW5zCm5lZWQgdG8gbWFrZSB1c2Ugb2Yg
dGhvc2Ugc3BlY2lhbCB3YXRjaGVzIGFkZCBzdXBwb3J0IGZvciBjYWxsaW5n
CiJzZXQgcGVybWlzc2lvbnMiIGZvciB0aG9zZSBzcGVjaWFsIG5vZGVzLCB0
b28uCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6
IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6
IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5
OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4KLS0tCiBkb2NzL21pc2Mv
eGVuc3RvcmUudHh0ICAgICAgICAgICAgfCAgNSArKysKIHRvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF9jb3JlLmMgICB8IDI3ICsrKysrKysrLS0tLS0tCiB0
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oICAgfCAgMiArKwogdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jIHwgNjAgKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKwogdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2RvbWFpbi5oIHwgIDUgKysrCiB0b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfd2F0Y2guYyAgfCAgNCArKysKIDYgZmlsZXMgY2hhbmdlZCwgOTMgaW5z
ZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL3hlbnN0b3JlLnR4dCBiL2RvY3MvbWlzYy94ZW5zdG9yZS50eHQK
aW5kZXggY2I4MDA5Y2I2ODZkLi4yMDgxZjIwZjU1ZTQgMTAwNjQ0Ci0tLSBh
L2RvY3MvbWlzYy94ZW5zdG9yZS50eHQKKysrIGIvZG9jcy9taXNjL3hlbnN0
b3JlLnR4dApAQCAtMTcwLDYgKzE3MCw5IEBAIFNFVF9QRVJNUwkJPHBhdGg+
fDxwZXJtLWFzLXN0cmluZz58Kz8KIAkJbjxkb21pZD4Jbm8gYWNjZXNzCiAJ
U2VlIGh0dHBzOi8vd2lraS54ZW4ub3JnL3dpa2kvWGVuQnVzIHNlY3Rpb24K
IAlgUGVybWlzc2lvbnMnIGZvciBkZXRhaWxzIG9mIHRoZSBwZXJtaXNzaW9u
cyBzeXN0ZW0uCisJSXQgaXMgcG9zc2libGUgdG8gc2V0IHBlcm1pc3Npb25z
IGZvciB0aGUgc3BlY2lhbCB3YXRjaCBwYXRocworCSJAaW50cm9kdWNlRG9t
YWluIiBhbmQgIkByZWxlYXNlRG9tYWluIiB0byBlbmFibGUgcmVjZWl2aW5n
IHRob3NlCisJd2F0Y2hlcyBpbiB1bnByaXZpbGVnZWQgZG9tYWlucy4KIAog
LS0tLS0tLS0tLSBXYXRjaGVzIC0tLS0tLS0tLS0KIApAQCAtMTk0LDYgKzE5
Nyw4IEBAIFdBVENICQkJPHdwYXRoPnw8dG9rZW4+fD8KIAkgICAgQHJlbGVh
c2VEb21haW4gCW9jY3VycyBvbiBhbnkgZG9tYWluIGNyYXNoIG9yCiAJCQkJ
c2h1dGRvd24sIGFuZCBhbHNvIG9uIFJFTEVBU0UKIAkJCQlhbmQgZG9tYWlu
IGRlc3RydWN0aW9uCisJPHdzcGVjaWFsPiBldmVudHMgYXJlIHNlbnQgdG8g
cHJpdmlsZWdlZCBjYWxsZXJzIG9yIGV4cGxpY2l0bHkKKwl2aWEgU0VUX1BF
Uk1TIGVuYWJsZWQgZG9tYWlucyBvbmx5LgogCiAJV2hlbiBhIHdhdGNoIGlz
IGZpcnN0IHNldCB1cCBpdCBpcyB0cmlnZ2VyZWQgb25jZSBzdHJhaWdodAog
CWF3YXksIHdpdGggPHBhdGg+IGVxdWFsIHRvIDx3cGF0aD4uICBXYXRjaGVz
IG1heSBiZSB0cmlnZ2VyZWQKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5jCmluZGV4IDc5ZDMwNWZiYmU1OC4uMTVmZmJlYjMwZjE5IDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBi
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTQ3MCw4ICs0
NzAsOCBAQCBzdGF0aWMgaW50IHdyaXRlX25vZGUoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIHN0cnVjdCBub2RlICpub2RlLAogCXJldHVybiB3cml0ZV9u
b2RlX3Jhdyhjb25uLCAma2V5LCBub2RlLCBub19xdW90YV9jaGVjayk7CiB9
CiAKLXN0YXRpYyBlbnVtIHhzX3Blcm1fdHlwZSBwZXJtX2Zvcl9jb25uKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLAotCQkJCSAgICAgICBjb25zdCBzdHJ1
Y3Qgbm9kZV9wZXJtcyAqcGVybXMpCitlbnVtIHhzX3Blcm1fdHlwZSBwZXJt
X2Zvcl9jb25uKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAorCQkJCWNvbnN0
IHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcykKIHsKIAl1bnNpZ25lZCBpbnQg
aTsKIAllbnVtIHhzX3Blcm1fdHlwZSBtYXNrID0gWFNfUEVSTV9SRUFEfFhT
X1BFUk1fV1JJVEV8WFNfUEVSTV9PV05FUjsKQEAgLTEyNDcsMjIgKzEyNDcs
MjkgQEAgc3RhdGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlpZiAocGVy
bXMubnVtIDwgMikKIAkJcmV0dXJuIEVJTlZBTDsKIAotCS8qIEZpcnN0IGFy
ZyBpcyBub2RlIG5hbWUuICovCi0JLyogV2UgbXVzdCBvd24gbm9kZSB0byBk
byB0aGlzICh0b29scyBjYW4gZG8gdGhpcyB0b28pLiAqLwotCW5vZGUgPSBn
ZXRfbm9kZV9jYW5vbmljYWxpemVkKGNvbm4sIGluLCBpbi0+YnVmZmVyLCAm
bmFtZSwKLQkJCQkgICAgICBYU19QRVJNX1dSSVRFIHwgWFNfUEVSTV9PV05F
Uik7Ci0JaWYgKCFub2RlKQotCQlyZXR1cm4gZXJybm87Ci0KIAlwZXJtc3Ry
ID0gaW4tPmJ1ZmZlciArIHN0cmxlbihpbi0+YnVmZmVyKSArIDE7CiAJcGVy
bXMubnVtLS07CiAKLQlwZXJtcy5wID0gdGFsbG9jX2FycmF5KG5vZGUsIHN0
cnVjdCB4c19wZXJtaXNzaW9ucywgcGVybXMubnVtKTsKKwlwZXJtcy5wID0g
dGFsbG9jX2FycmF5KGluLCBzdHJ1Y3QgeHNfcGVybWlzc2lvbnMsIHBlcm1z
Lm51bSk7CiAJaWYgKCFwZXJtcy5wKQogCQlyZXR1cm4gRU5PTUVNOwogCWlm
ICgheHNfc3RyaW5nc190b19wZXJtcyhwZXJtcy5wLCBwZXJtcy5udW0sIHBl
cm1zdHIpKQogCQlyZXR1cm4gZXJybm87CiAKKwkvKiBGaXJzdCBhcmcgaXMg
bm9kZSBuYW1lLiAqLworCWlmIChzdHJzdGFydHMoaW4tPmJ1ZmZlciwgIkAi
KSkgeworCQlpZiAoc2V0X3Blcm1zX3NwZWNpYWwoY29ubiwgaW4tPmJ1ZmZl
ciwgJnBlcm1zKSkKKwkJCXJldHVybiBlcnJubzsKKwkJc2VuZF9hY2soY29u
biwgWFNfU0VUX1BFUk1TKTsKKwkJcmV0dXJuIDA7CisJfQorCisJLyogV2Ug
bXVzdCBvd24gbm9kZSB0byBkbyB0aGlzICh0b29scyBjYW4gZG8gdGhpcyB0
b28pLiAqLworCW5vZGUgPSBnZXRfbm9kZV9jYW5vbmljYWxpemVkKGNvbm4s
IGluLCBpbi0+YnVmZmVyLCAmbmFtZSwKKwkJCQkgICAgICBYU19QRVJNX1dS
SVRFIHwgWFNfUEVSTV9PV05FUik7CisJaWYgKCFub2RlKQorCQlyZXR1cm4g
ZXJybm87CisKIAkvKiBVbnByaXZpbGVnZWQgZG9tYWlucyBtYXkgbm90IGNo
YW5nZSB0aGUgb3duZXIuICovCiAJaWYgKGRvbWFpbl9pc191bnByaXZpbGVn
ZWQoY29ubikgJiYKIAkgICAgcGVybXMucFswXS5pZCAhPSBub2RlLT5wZXJt
cy5wWzBdLmlkKQpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2NvcmUuaCBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgK
aW5kZXggNDdiYTA5MTZkYmUyLi41M2YxMDUwODU5ZmMgMTAwNjQ0Ci0tLSBh
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKKysrIGIvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaApAQCAtMTY1LDYgKzE2NSw4IEBA
IHN0cnVjdCBub2RlICpnZXRfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwKIHN0cnVjdCBjb25uZWN0aW9uICpuZXdfY29ubmVjdGlvbihjb25ud3Jp
dGVmbl90ICp3cml0ZSwgY29ubnJlYWRmbl90ICpyZWFkKTsKIHZvaWQgY2hl
Y2tfc3RvcmUodm9pZCk7CiB2b2lkIGNvcnJ1cHQoc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIGNvbnN0IGNoYXIgKmZtdCwgLi4uKTsKK2VudW0geHNfcGVy
bV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
CisJCQkJY29uc3Qgc3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKTsKIAogLyog
SXMgdGhpcyBhIHZhbGlkIG5vZGUgbmFtZT8gKi8KIGJvb2wgaXNfdmFsaWRf
bm9kZW5hbWUoY29uc3QgY2hhciAqbm9kZSk7CmRpZmYgLS1naXQgYS90b29s
cy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMgYi90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfZG9tYWluLmMKaW5kZXggYWE5OTQyZmNjMjY3Li5hMGQx
YTExYzgzN2YgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF9kb21haW4uYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9t
YWluLmMKQEAgLTQxLDYgKzQxLDkgQEAgc3RhdGljIGV2dGNobl9wb3J0X3Qg
dmlycV9wb3J0OwogCiB4ZW5ldnRjaG5faGFuZGxlICp4Y2VfaGFuZGxlID0g
TlVMTDsKIAorc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zIGRvbV9yZWxlYXNl
X3Blcm1zOworc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zIGRvbV9pbnRyb2R1
Y2VfcGVybXM7CisKIHN0cnVjdCBkb21haW4KIHsKIAlzdHJ1Y3QgbGlzdF9o
ZWFkIGxpc3Q7CkBAIC01ODIsNiArNTg1LDU5IEBAIHZvaWQgcmVzdG9yZV9l
eGlzdGluZ19jb25uZWN0aW9ucyh2b2lkKQogewogfQogCitzdGF0aWMgaW50
IHNldF9kb21fcGVybXNfZGVmYXVsdChzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVy
bXMpCit7CisJcGVybXMtPm51bSA9IDE7CisJcGVybXMtPnAgPSB0YWxsb2Nf
YXJyYXkoTlVMTCwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy0+bnVt
KTsKKwlpZiAoIXBlcm1zLT5wKQorCQlyZXR1cm4gLTE7CisJcGVybXMtPnAt
PmlkID0gMDsKKwlwZXJtcy0+cC0+cGVybXMgPSBYU19QRVJNX05PTkU7CisK
KwlyZXR1cm4gMDsKK30KKworc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zICpn
ZXRfcGVybXNfc3BlY2lhbChjb25zdCBjaGFyICpuYW1lKQoreworCWlmICgh
c3RyY21wKG5hbWUsICJAcmVsZWFzZURvbWFpbiIpKQorCQlyZXR1cm4gJmRv
bV9yZWxlYXNlX3Blcm1zOworCWlmICghc3RyY21wKG5hbWUsICJAaW50cm9k
dWNlRG9tYWluIikpCisJCXJldHVybiAmZG9tX2ludHJvZHVjZV9wZXJtczsK
KwlyZXR1cm4gTlVMTDsKK30KKworaW50IHNldF9wZXJtc19zcGVjaWFsKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCBjaGFyICpuYW1lLAorCQkg
ICAgICBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMpCit7CisJc3RydWN0IG5v
ZGVfcGVybXMgKnA7CisKKwlwID0gZ2V0X3Blcm1zX3NwZWNpYWwobmFtZSk7
CisJaWYgKCFwKQorCQlyZXR1cm4gRUlOVkFMOworCisJaWYgKChwZXJtX2Zv
cl9jb25uKGNvbm4sIHApICYgKFhTX1BFUk1fV1JJVEUgfCBYU19QRVJNX09X
TkVSKSkgIT0KKwkgICAgKFhTX1BFUk1fV1JJVEUgfCBYU19QRVJNX09XTkVS
KSkKKwkJcmV0dXJuIEVBQ0NFUzsKKworCXAtPm51bSA9IHBlcm1zLT5udW07
CisJdGFsbG9jX2ZyZWUocC0+cCk7CisJcC0+cCA9IHBlcm1zLT5wOworCXRh
bGxvY19zdGVhbChOVUxMLCBwZXJtcy0+cCk7CisKKwlyZXR1cm4gMDsKK30K
KworYm9vbCBjaGVja19wZXJtc19zcGVjaWFsKGNvbnN0IGNoYXIgKm5hbWUs
IHN0cnVjdCBjb25uZWN0aW9uICpjb25uKQoreworCXN0cnVjdCBub2RlX3Bl
cm1zICpwOworCisJcCA9IGdldF9wZXJtc19zcGVjaWFsKG5hbWUpOworCWlm
ICghcCkKKwkJcmV0dXJuIGZhbHNlOworCisJcmV0dXJuIHBlcm1fZm9yX2Nv
bm4oY29ubiwgcCkgJiBYU19QRVJNX1JFQUQ7Cit9CisKIHN0YXRpYyBpbnQg
ZG9tMF9pbml0KHZvaWQpIAogeyAKIAlldnRjaG5fcG9ydF90IHBvcnQ7CkBA
IC02MDMsNiArNjU5LDEwIEBAIHN0YXRpYyBpbnQgZG9tMF9pbml0KHZvaWQp
CiAKIAl4ZW5ldnRjaG5fbm90aWZ5KHhjZV9oYW5kbGUsIGRvbTAtPnBvcnQp
OwogCisJaWYgKHNldF9kb21fcGVybXNfZGVmYXVsdCgmZG9tX3JlbGVhc2Vf
cGVybXMpIHx8CisJICAgIHNldF9kb21fcGVybXNfZGVmYXVsdCgmZG9tX2lu
dHJvZHVjZV9wZXJtcykpCisJCXJldHVybiAtMTsKKwogCXJldHVybiAwOyAK
IH0KIApkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2Rv
bWFpbi5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5oCmlu
ZGV4IDU2YWUwMTU5NzQ3NS4uMjU5MTgzOTYyYTljIDEwMDY0NAotLS0gYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmgKKysrIGIvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5oCkBAIC02NSw2ICs2NSwxMSBA
QCB2b2lkIGRvbWFpbl93YXRjaF9pbmMoc3RydWN0IGNvbm5lY3Rpb24gKmNv
bm4pOwogdm9pZCBkb21haW5fd2F0Y2hfZGVjKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uKTsKIGludCBkb21haW5fd2F0Y2goc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4pOwogCisvKiBTcGVjaWFsIG5vZGUgcGVybWlzc2lvbiBoYW5kbGlu
Zy4gKi8KK2ludCBzZXRfcGVybXNfc3BlY2lhbChzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwgY29uc3QgY2hhciAqbmFtZSwKKwkJICAgICAgc3RydWN0IG5v
ZGVfcGVybXMgKnBlcm1zKTsKK2Jvb2wgY2hlY2tfcGVybXNfc3BlY2lhbChj
b25zdCBjaGFyICpuYW1lLCBzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7CisK
IC8qIFdyaXRlIHJhdGUgbGltaXRpbmcgKi8KIAogI2RlZmluZSBXUkxfRkFD
VE9SICAgMTAwMCAvKiBmb3IgZml4ZWQtcG9pbnQgYXJpdGhtZXRpYyAqLwpk
aWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYwppbmRleCAzODM2
Njc1NDU5ZmEuLmY0ZTI4OTM2MmViNiAxMDA2NDQKLS0tIGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKKysrIGIvdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX3dhdGNoLmMKQEAgLTEzMyw2ICsxMzMsMTAgQEAgdm9pZCBm
aXJlX3dhdGNoZXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZv
aWQgKmN0eCwgY29uc3QgY2hhciAqbmFtZSwKIAogCS8qIENyZWF0ZSBhbiBl
dmVudCBmb3IgZWFjaCB3YXRjaC4gKi8KIAlsaXN0X2Zvcl9lYWNoX2VudHJ5
KGksICZjb25uZWN0aW9ucywgbGlzdCkgeworCQkvKiBpbnRyb2R1Y2UvcmVs
ZWFzZSBkb21haW4gd2F0Y2hlcyAqLworCQlpZiAoY2hlY2tfc3BlY2lhbF9l
dmVudChuYW1lKSAmJiAhY2hlY2tfcGVybXNfc3BlY2lhbChuYW1lLCBpKSkK
KwkJCWNvbnRpbnVlOworCiAJCWxpc3RfZm9yX2VhY2hfZW50cnkod2F0Y2gs
ICZpLT53YXRjaGVzLCBsaXN0KSB7CiAJCQlpZiAoZXhhY3QpIHsKIAkJCQlp
ZiAoc3RyZXEobmFtZSwgd2F0Y2gtPm5vZGUpKQotLSAKMi4xNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-4.14-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Disposition: attachment;
 filename="xsa115-4.14-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Transfer-Encoding: base64

RnJvbSBmMWNjNDdiMDU3MmIzMzcyNjlhZjdlMzRiZDAxOTU4NGY0YjhjOThl
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+CkRhdGU6IFRodSwgMTEgSnVuIDIwMjAgMTY6
MTI6NDYgKzAyMDAKU3ViamVjdDogW1BBVENIIDEwLzEwXSB0b29scy94ZW5z
dG9yZTogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2RlcyB3aXRob3V0CiBh
Y2Nlc3MKClRvZGF5IHdhdGNoIGV2ZW50cyBhcmUgc2VudCByZWdhcmRsZXNz
IG9mIHRoZSBhY2Nlc3MgcmlnaHRzIG9mIHRoZQpub2RlIHRoZSBldmVudCBp
cyBzZW50IGZvci4gVGhpcyBlbmFibGVzIGFueSBndWVzdCB0byBlLmcuIHNl
dHVwIGEKd2F0Y2ggZm9yICIvIiBpbiBvcmRlciB0byBoYXZlIGEgZGV0YWls
ZWQgcmVjb3JkIG9mIGFsbCBYZW5zdG9yZQptb2RpZmljYXRpb25zLgoKTW9k
aWZ5IHRoYXQgYnkgc2VuZGluZyBvbmx5IHdhdGNoIGV2ZW50cyBmb3Igbm9k
ZXMgdGhhdCB0aGUgd2F0Y2hlcgpoYXMgYSBjaGFuY2UgdG8gc2VlIG90aGVy
d2lzZSAoZWl0aGVyIHZpYSBkaXJlY3QgcmVhZHMgb3IgYnkgcXVlcnlpbmcK
dGhlIGNoaWxkcmVuIG9mIGEgbm9kZSkuIFRoaXMgaW5jbHVkZXMgY2FzZXMg
d2hlcmUgdGhlIHZpc2liaWxpdHkgb2YKYSBub2RlIGZvciBhIHdhdGNoZXIg
aXMgY2hhbmdpbmcgKHBlcm1pc3Npb25zIGJlaW5nIHJlbW92ZWQpLgoKVGhp
cyBpcyBwYXJ0IG9mIFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2Vu
IEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4g
R3JhbGwgPGpncmFsbEBhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBE
dXJyYW50IDxwYXVsQHhlbi5vcmc+Ci0tLQogdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX2NvcmUuYyAgICAgICAgfCAyOCArKysrKy0tLS0tCiB0b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oICAgICAgICB8IDE1ICsrKystLQog
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jICAgICAgfCAgNiAr
LS0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF90cmFuc2FjdGlvbi5jIHwg
MjEgKysrKysrKy0KIHRvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5j
ICAgICAgIHwgNzUgKysrKysrKysrKysrKysrKysrKy0tLS0tLS0KIHRvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oICAgICAgIHwgIDIgKy0KIDYg
ZmlsZXMgY2hhbmdlZCwgMTA0IGluc2VydGlvbnMoKyksIDQzIGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9j
b3JlLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4
IDE1ZmZiZWIzMGYxOS4uOTJiZmQ1NGNmZjYyIDEwMDY0NAotLS0gYS90b29s
cy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTM2MCw4ICszNjAsOCBAQCBzdGF0
aWMgdm9pZCBpbml0aWFsaXplX2ZkcyhpbnQgKnBfc29ja19wb2xsZmRfaWR4
LCBpbnQgKnBfcm9fc29ja19wb2xsZmRfaWR4LAogICogSWYgaXQgZmFpbHMs
IHJldHVybnMgTlVMTCBhbmQgc2V0cyBlcnJuby4KICAqIFRlbXBvcmFyeSBt
ZW1vcnkgYWxsb2NhdGlvbnMgd2lsbCBiZSBkb25lIHdpdGggY3R4LgogICov
Ci1zdGF0aWMgc3RydWN0IG5vZGUgKnJlYWRfbm9kZShzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAotCQkJICAgICAgY29uc3Qg
Y2hhciAqbmFtZSkKK3N0cnVjdCBub2RlICpyZWFkX25vZGUoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKKwkJICAgICAgIGNv
bnN0IGNoYXIgKm5hbWUpCiB7CiAJVERCX0RBVEEga2V5LCBkYXRhOwogCXN0
cnVjdCB4c190ZGJfcmVjb3JkX2hkciAqaGRyOwpAQCAtNDk2LDcgKzQ5Niw3
IEBAIGVudW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sCiAgKiBHZXQgbmFtZSBvZiBub2RlIHBhcmVudC4K
ICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJlIGRvbmUgd2l0
aCBjdHguCiAgKi8KLXN0YXRpYyBjaGFyICpnZXRfcGFyZW50KGNvbnN0IHZv
aWQgKmN0eCwgY29uc3QgY2hhciAqbm9kZSkKK2NoYXIgKmdldF9wYXJlbnQo
Y29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpub2RlKQogewogCWNoYXIg
KnBhcmVudDsKIAljaGFyICpzbGFzaCA9IHN0cnJjaHIobm9kZSArIDEsICcv
Jyk7CkBAIC01NjgsMTAgKzU2OCwxMCBAQCBzdGF0aWMgaW50IGVycm5vX2Zy
b21fcGFyZW50cyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9p
ZCAqY3R4LAogICogSWYgaXQgZmFpbHMsIHJldHVybnMgTlVMTCBhbmQgc2V0
cyBlcnJuby4KICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJl
IGRvbmUgd2l0aCBjdHguCiAgKi8KLXN0cnVjdCBub2RlICpnZXRfbm9kZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKLQkJICAgICAgY29uc3Qgdm9pZCAq
Y3R4LAotCQkgICAgICBjb25zdCBjaGFyICpuYW1lLAotCQkgICAgICBlbnVt
IHhzX3Blcm1fdHlwZSBwZXJtKQorc3RhdGljIHN0cnVjdCBub2RlICpnZXRf
bm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKKwkJCSAgICAgY29uc3Qg
dm9pZCAqY3R4LAorCQkJICAgICBjb25zdCBjaGFyICpuYW1lLAorCQkJICAg
ICBlbnVtIHhzX3Blcm1fdHlwZSBwZXJtKQogewogCXN0cnVjdCBub2RlICpu
b2RlOwogCkBAIC0xMDU4LDcgKzEwNTgsNyBAQCBzdGF0aWMgaW50IGRvX3dy
aXRlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRf
ZGF0YSAqaW4pCiAJCQlyZXR1cm4gZXJybm87CiAJfQogCi0JZmlyZV93YXRj
aGVzKGNvbm4sIGluLCBuYW1lLCBmYWxzZSk7CisJZmlyZV93YXRjaGVzKGNv
bm4sIGluLCBuYW1lLCBub2RlLCBmYWxzZSwgTlVMTCk7CiAJc2VuZF9hY2so
Y29ubiwgWFNfV1JJVEUpOwogCiAJcmV0dXJuIDA7CkBAIC0xMDgwLDcgKzEw
ODAsNyBAQCBzdGF0aWMgaW50IGRvX21rZGlyKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJCW5vZGUgPSBj
cmVhdGVfbm9kZShjb25uLCBpbiwgbmFtZSwgTlVMTCwgMCk7CiAJCWlmICgh
bm9kZSkKIAkJCXJldHVybiBlcnJubzsKLQkJZmlyZV93YXRjaGVzKGNvbm4s
IGluLCBuYW1lLCBmYWxzZSk7CisJCWZpcmVfd2F0Y2hlcyhjb25uLCBpbiwg
bmFtZSwgbm9kZSwgZmFsc2UsIE5VTEwpOwogCX0KIAlzZW5kX2Fjayhjb25u
LCBYU19NS0RJUik7CiAKQEAgLTExNDMsNyArMTE0Myw3IEBAIHN0YXRpYyBp
bnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0
IHZvaWQgKmN0eCwKIAkJdGFsbG9jX2ZyZWUobmFtZSk7CiAJfQogCi0JZmly
ZV93YXRjaGVzKGNvbm4sIGN0eCwgbm9kZS0+bmFtZSwgdHJ1ZSk7CisJZmly
ZV93YXRjaGVzKGNvbm4sIGN0eCwgbm9kZS0+bmFtZSwgbm9kZSwgdHJ1ZSwg
TlVMTCk7CiAJZGVsZXRlX25vZGVfc2luZ2xlKGNvbm4sIG5vZGUpOwogCWRl
bGV0ZV9jaGlsZChjb25uLCBwYXJlbnQsIGJhc2VuYW1lKG5vZGUtPm5hbWUp
KTsKIAl0YWxsb2NfZnJlZShub2RlKTsKQEAgLTExNjcsMTMgKzExNjcsMTQg
QEAgc3RhdGljIGludCBfcm0oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNv
bnN0IHZvaWQgKmN0eCwgc3RydWN0IG5vZGUgKm5vZGUsCiAJcGFyZW50ID0g
cmVhZF9ub2RlKGNvbm4sIGN0eCwgcGFyZW50bmFtZSk7CiAJaWYgKCFwYXJl
bnQpCiAJCXJldHVybiAoZXJybm8gPT0gRU5PTUVNKSA/IEVOT01FTSA6IEVJ
TlZBTDsKKwlub2RlLT5wYXJlbnQgPSBwYXJlbnQ7CiAKIAkvKgogCSAqIEZp
cmUgdGhlIHdhdGNoZXMgbm93LCB3aGVuIHdlIGNhbiBzdGlsbCBzZWUgdGhl
IG5vZGUgcGVybWlzc2lvbnMuCiAJICogVGhpcyBmaW5lIGFzIHdlIGFyZSBz
aW5nbGUgdGhyZWFkZWQgYW5kIHRoZSBuZXh0IHBvc3NpYmxlIHJlYWQgd2ls
bAogCSAqIGJlIGhhbmRsZWQgb25seSBhZnRlciB0aGUgbm9kZSBoYXMgYmVl
biByZWFsbHkgcmVtb3ZlZC4KIAkgKi8KLQlmaXJlX3dhdGNoZXMoY29ubiwg
Y3R4LCBuYW1lLCBmYWxzZSk7CisJZmlyZV93YXRjaGVzKGNvbm4sIGN0eCwg
bmFtZSwgbm9kZSwgZmFsc2UsIE5VTEwpOwogCXJldHVybiBkZWxldGVfbm9k
ZShjb25uLCBjdHgsIHBhcmVudCwgbm9kZSk7CiB9CiAKQEAgLTEyMzksNyAr
MTI0MCw3IEBAIHN0YXRpYyBpbnQgZG9fZ2V0X3Blcm1zKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAKIHN0
YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiB7Ci0Jc3RydWN0IG5vZGVf
cGVybXMgcGVybXM7CisJc3RydWN0IG5vZGVfcGVybXMgcGVybXMsIG9sZF9w
ZXJtczsKIAljaGFyICpuYW1lLCAqcGVybXN0cjsKIAlzdHJ1Y3Qgbm9kZSAq
bm9kZTsKIApAQCAtMTI3NSw2ICsxMjc2LDcgQEAgc3RhdGljIGludCBkb19z
ZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZm
ZXJlZF9kYXRhICppbikKIAkgICAgcGVybXMucFswXS5pZCAhPSBub2RlLT5w
ZXJtcy5wWzBdLmlkKQogCQlyZXR1cm4gRVBFUk07CiAKKwlvbGRfcGVybXMg
PSBub2RlLT5wZXJtczsKIAlkb21haW5fZW50cnlfZGVjKGNvbm4sIG5vZGUp
OwogCW5vZGUtPnBlcm1zID0gcGVybXM7CiAJZG9tYWluX2VudHJ5X2luYyhj
b25uLCBub2RlKTsKQEAgLTEyODIsNyArMTI4NCw3IEBAIHN0YXRpYyBpbnQg
ZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qg
YnVmZmVyZWRfZGF0YSAqaW4pCiAJaWYgKHdyaXRlX25vZGUoY29ubiwgbm9k
ZSwgZmFsc2UpKQogCQlyZXR1cm4gZXJybm87CiAKLQlmaXJlX3dhdGNoZXMo
Y29ubiwgaW4sIG5hbWUsIGZhbHNlKTsKKwlmaXJlX3dhdGNoZXMoY29ubiwg
aW4sIG5hbWUsIG5vZGUsIGZhbHNlLCAmb2xkX3Blcm1zKTsKIAlzZW5kX2Fj
ayhjb25uLCBYU19TRVRfUEVSTVMpOwogCiAJcmV0dXJuIDA7CmRpZmYgLS1n
aXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oIGIvdG9vbHMv
eGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaAppbmRleCA1M2YxMDUwODU5ZmMu
LmViMTliNzFmNWY0NiAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX2NvcmUuaAorKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5oCkBAIC0xNTIsMTUgKzE1MiwxNyBAQCB2b2lkIHNlbmRfYWNrKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBlbnVtIHhzZF9zb2NrbXNnX3R5cGUg
dHlwZSk7CiAvKiBDYW5vbmljYWxpemUgdGhpcyBwYXRoIGlmIHBvc3NpYmxl
LiAqLwogY2hhciAqY2Fub25pY2FsaXplKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5vZGUpOwogCisv
KiBHZXQgYWNjZXNzIHBlcm1pc3Npb25zLiAqLworZW51bSB4c19wZXJtX3R5
cGUgcGVybV9mb3JfY29ubihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKKwkJ
CQljb25zdCBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMpOworCiAvKiBXcml0
ZSBhIG5vZGUgdG8gdGhlIHRkYiBkYXRhIGJhc2UuICovCiBpbnQgd3JpdGVf
bm9kZV9yYXcoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICpr
ZXksIHN0cnVjdCBub2RlICpub2RlLAogCQkgICBib29sIG5vX3F1b3RhX2No
ZWNrKTsKIAotLyogR2V0IHRoaXMgbm9kZSwgY2hlY2tpbmcgd2UgaGF2ZSBw
ZXJtaXNzaW9ucy4gKi8KLXN0cnVjdCBub2RlICpnZXRfbm9kZShzdHJ1Y3Qg
Y29ubmVjdGlvbiAqY29ubiwKLQkJICAgICAgY29uc3Qgdm9pZCAqY3R4LAot
CQkgICAgICBjb25zdCBjaGFyICpuYW1lLAotCQkgICAgICBlbnVtIHhzX3Bl
cm1fdHlwZSBwZXJtKTsKKy8qIEdldCBhIG5vZGUgZnJvbSB0aGUgdGRiIGRh
dGEgYmFzZS4gKi8KK3N0cnVjdCBub2RlICpyZWFkX25vZGUoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKKwkJICAgICAgIGNv
bnN0IGNoYXIgKm5hbWUpOwogCiBzdHJ1Y3QgY29ubmVjdGlvbiAqbmV3X2Nv
bm5lY3Rpb24oY29ubndyaXRlZm5fdCAqd3JpdGUsIGNvbm5yZWFkZm5fdCAq
cmVhZCk7CiB2b2lkIGNoZWNrX3N0b3JlKHZvaWQpOwpAQCAtMTcxLDYgKzE3
Myw5IEBAIGVudW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sCiAvKiBJcyB0aGlzIGEgdmFsaWQgbm9kZSBu
YW1lPyAqLwogYm9vbCBpc192YWxpZF9ub2RlbmFtZShjb25zdCBjaGFyICpu
b2RlKTsKIAorLyogR2V0IG5hbWUgb2YgcGFyZW50IG5vZGUuICovCitjaGFy
ICpnZXRfcGFyZW50KGNvbnN0IHZvaWQgKmN0eCwgY29uc3QgY2hhciAqbm9k
ZSk7CisKIC8qIFRyYWNpbmcgaW5mcmFzdHJ1Y3R1cmUuICovCiB2b2lkIHRy
YWNlX2NyZWF0ZShjb25zdCB2b2lkICpkYXRhLCBjb25zdCBjaGFyICp0eXBl
KTsKIHZvaWQgdHJhY2VfZGVzdHJveShjb25zdCB2b2lkICpkYXRhLCBjb25z
dCBjaGFyICp0eXBlKTsKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9kb21haW4uYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9k
b21haW4uYwppbmRleCBhMGQxYTExYzgzN2YuLjlmYWQ0NzBmODMzMSAxMDA2
NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jCisr
KyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYwpAQCAtMjAy
LDcgKzIwMiw3IEBAIHN0YXRpYyBpbnQgZGVzdHJveV9kb21haW4odm9pZCAq
X2RvbWFpbikKIAkJCXVubWFwX2ludGVyZmFjZShkb21haW4tPmludGVyZmFj
ZSk7CiAJfQogCi0JZmlyZV93YXRjaGVzKE5VTEwsIGRvbWFpbiwgIkByZWxl
YXNlRG9tYWluIiwgZmFsc2UpOworCWZpcmVfd2F0Y2hlcyhOVUxMLCBkb21h
aW4sICJAcmVsZWFzZURvbWFpbiIsIE5VTEwsIGZhbHNlLCBOVUxMKTsKIAog
CXdybF9kb21haW5fZGVzdHJveShkb21haW4pOwogCkBAIC0yNDAsNyArMjQw
LDcgQEAgc3RhdGljIHZvaWQgZG9tYWluX2NsZWFudXAodm9pZCkKIAl9CiAK
IAlpZiAobm90aWZ5KQotCQlmaXJlX3dhdGNoZXMoTlVMTCwgTlVMTCwgIkBy
ZWxlYXNlRG9tYWluIiwgZmFsc2UpOworCQlmaXJlX3dhdGNoZXMoTlVMTCwg
TlVMTCwgIkByZWxlYXNlRG9tYWluIiwgTlVMTCwgZmFsc2UsIE5VTEwpOwog
fQogCiAvKiBXZSBzY2FuIGFsbCBkb21haW5zIHJhdGhlciB0aGFuIHVzZSB0
aGUgaW5mb3JtYXRpb24gZ2l2ZW4gaGVyZS4gKi8KQEAgLTQwNCw3ICs0MDQs
NyBAQCBpbnQgZG9faW50cm9kdWNlKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJCS8qIE5vdyBkb21haW4g
YmVsb25ncyB0byBpdHMgY29ubmVjdGlvbi4gKi8KIAkJdGFsbG9jX3N0ZWFs
KGRvbWFpbi0+Y29ubiwgZG9tYWluKTsKIAotCQlmaXJlX3dhdGNoZXMoTlVM
TCwgaW4sICJAaW50cm9kdWNlRG9tYWluIiwgZmFsc2UpOworCQlmaXJlX3dh
dGNoZXMoTlVMTCwgaW4sICJAaW50cm9kdWNlRG9tYWluIiwgTlVMTCwgZmFs
c2UsIE5VTEwpOwogCX0gZWxzZSB7CiAJCS8qIFVzZSBYU19JTlRST0RVQ0Ug
Zm9yIHJlY3JlYXRpbmcgdGhlIHhlbmJ1cyBldmVudC1jaGFubmVsLiAqLwog
CQlpZiAoZG9tYWluLT5wb3J0KQpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYwppbmRleCBlODc4OTc1NzM0NjkuLmE3
ZDhjNWQ0NzVlYyAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3RyYW5zYWN0aW9uLmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3RyYW5zYWN0aW9uLmMKQEAgLTExNCw2ICsxMTQsOSBAQCBzdHJ1Y3Qg
YWNjZXNzZWRfbm9kZQogCS8qIEdlbmVyYXRpb24gY291bnQgKG9yIE5PX0dF
TkVSQVRJT04pIGZvciBjb25mbGljdCBjaGVja2luZy4gKi8KIAl1aW50NjRf
dCBnZW5lcmF0aW9uOwogCisJLyogT3JpZ2luYWwgbm9kZSBwZXJtaXNzaW9u
cy4gKi8KKwlzdHJ1Y3Qgbm9kZV9wZXJtcyBwZXJtczsKKwogCS8qIEdlbmVy
YXRpb24gY291bnQgY2hlY2tpbmcgcmVxdWlyZWQ/ICovCiAJYm9vbCBjaGVj
a19nZW47CiAKQEAgLTI2MCw2ICsyNjMsMTUgQEAgaW50IGFjY2Vzc19ub2Rl
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwK
IAkJaS0+bm9kZSA9IHRhbGxvY19zdHJkdXAoaSwgbm9kZS0+bmFtZSk7CiAJ
CWlmICghaS0+bm9kZSkKIAkJCWdvdG8gbm9tZW07CisJCWlmIChub2RlLT5n
ZW5lcmF0aW9uICE9IE5PX0dFTkVSQVRJT04gJiYgbm9kZS0+cGVybXMubnVt
KSB7CisJCQlpLT5wZXJtcy5wID0gdGFsbG9jX2FycmF5KGksIHN0cnVjdCB4
c19wZXJtaXNzaW9ucywKKwkJCQkJCSAgbm9kZS0+cGVybXMubnVtKTsKKwkJ
CWlmICghaS0+cGVybXMucCkKKwkJCQlnb3RvIG5vbWVtOworCQkJaS0+cGVy
bXMubnVtID0gbm9kZS0+cGVybXMubnVtOworCQkJbWVtY3B5KGktPnBlcm1z
LnAsIG5vZGUtPnBlcm1zLnAsCisJCQkgICAgICAgaS0+cGVybXMubnVtICog
c2l6ZW9mKCppLT5wZXJtcy5wKSk7CisJCX0KIAogCQlpbnRyb2R1Y2UgPSB0
cnVlOwogCQlpLT50YV9ub2RlID0gZmFsc2U7CkBAIC0zNjgsOSArMzgwLDE0
IEBAIHN0YXRpYyBpbnQgZmluYWxpemVfdHJhbnNhY3Rpb24oc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sCiAJCQkJdGFsbG9jX2ZyZWUoZGF0YS5kcHRyKTsK
IAkJCQlpZiAocmV0KQogCQkJCQlnb3RvIGVycjsKLQkJCX0gZWxzZSBpZiAo
dGRiX2RlbGV0ZSh0ZGJfY3R4LCBrZXkpKQorCQkJCWZpcmVfd2F0Y2hlcyhj
b25uLCB0cmFucywgaS0+bm9kZSwgTlVMTCwgZmFsc2UsCisJCQkJCSAgICAg
aS0+cGVybXMucCA/ICZpLT5wZXJtcyA6IE5VTEwpOworCQkJfSBlbHNlIHsK
KwkJCQlmaXJlX3dhdGNoZXMoY29ubiwgdHJhbnMsIGktPm5vZGUsIE5VTEws
IGZhbHNlLAorCQkJCQkgICAgIGktPnBlcm1zLnAgPyAmaS0+cGVybXMgOiBO
VUxMKTsKKwkJCQlpZiAodGRiX2RlbGV0ZSh0ZGJfY3R4LCBrZXkpKQogCQkJ
CQlnb3RvIGVycjsKLQkJCWZpcmVfd2F0Y2hlcyhjb25uLCB0cmFucywgaS0+
bm9kZSwgZmFsc2UpOworCQkJfQogCQl9CiAKIAkJaWYgKGktPnRhX25vZGUg
JiYgdGRiX2RlbGV0ZSh0ZGJfY3R4LCB0YV9rZXkpKQpkaWZmIC0tZ2l0IGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgYi90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfd2F0Y2guYwppbmRleCBmNGUyODkzNjJlYjYuLjcx
YzEwOGVhOTlmMSAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3dhdGNoLmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dh
dGNoLmMKQEAgLTg1LDIyICs4NSw2IEBAIHN0YXRpYyB2b2lkIGFkZF9ldmVu
dChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIAl1bnNpZ25lZCBpbnQgbGVu
OwogCWNoYXIgKmRhdGE7CiAKLQlpZiAoIWNoZWNrX3NwZWNpYWxfZXZlbnQo
bmFtZSkpIHsKLQkJLyogQ2FuIHRoaXMgY29ubiBsb2FkIG5vZGUsIG9yIHNl
ZSB0aGF0IGl0IGRvZXNuJ3QgZXhpc3Q/ICovCi0JCXN0cnVjdCBub2RlICpu
b2RlID0gZ2V0X25vZGUoY29ubiwgY3R4LCBuYW1lLCBYU19QRVJNX1JFQUQp
OwotCQkvKgotCQkgKiBYWFggV2UgYWxsb3cgRUFDQ0VTIGhlcmUgYmVjYXVz
ZSBvdGhlcndpc2UgYSBub24tZG9tMAotCQkgKiBiYWNrZW5kIGRyaXZlciBj
YW5ub3Qgd2F0Y2ggZm9yIGRpc2FwcGVhcmFuY2Ugb2YgYSBmcm9udGVuZAot
CQkgKiB4ZW5zdG9yZSBkaXJlY3RvcnkuIFdoZW4gdGhlIGRpcmVjdG9yeSBk
aXNhcHBlYXJzLCB3ZQotCQkgKiByZXZlcnQgdG8gcGVybWlzc2lvbnMgb2Yg
dGhlIHBhcmVudCBkaXJlY3RvcnkgZm9yIHRoYXQgcGF0aCwKLQkJICogd2hp
Y2ggd2lsbCB0eXBpY2FsbHkgZGlzYWxsb3cgYWNjZXNzIGZvciB0aGUgYmFj
a2VuZC4KLQkJICogQnV0IHRoaXMgYnJlYWtzIGRldmljZS1jaGFubmVsIHRl
YXJkb3duIQotCQkgKiBSZWFsbHkgd2Ugc2hvdWxkIGZpeCB0aGlzIGJldHRl
ci4uLgotCQkgKi8KLQkJaWYgKCFub2RlICYmIGVycm5vICE9IEVOT0VOVCAm
JiBlcnJubyAhPSBFQUNDRVMpCi0JCQlyZXR1cm47Ci0JfQotCiAJaWYgKHdh
dGNoLT5yZWxhdGl2ZV9wYXRoKSB7CiAJCW5hbWUgKz0gc3RybGVuKHdhdGNo
LT5yZWxhdGl2ZV9wYXRoKTsKIAkJaWYgKCpuYW1lID09ICcvJykgLyogQ291
bGQgYmUgIiIgKi8KQEAgLTExNywxMiArMTAxLDYwIEBAIHN0YXRpYyB2b2lk
IGFkZF9ldmVudChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIAl0YWxsb2Nf
ZnJlZShkYXRhKTsKIH0KIAorLyoKKyAqIENoZWNrIHBlcm1pc3Npb25zIG9m
IGEgc3BlY2lmaWMgd2F0Y2ggdG8gZmlyZToKKyAqIEVpdGhlciB0aGUgbm9k
ZSBpdHNlbGYgb3IgaXRzIHBhcmVudCBoYXZlIHRvIGJlIHJlYWRhYmxlIGJ5
IHRoZSBjb25uZWN0aW9uCisgKiB0aGUgd2F0Y2ggaGFzIGJlZW4gc2V0dXAg
Zm9yLiBJbiBjYXNlIGEgd2F0Y2ggZXZlbnQgaXMgY3JlYXRlZCBkdWUgdG8K
KyAqIGNoYW5nZWQgcGVybWlzc2lvbnMgd2UgbmVlZCB0byB0YWtlIHRoZSBv
bGQgcGVybWlzc2lvbnMgaW50byBhY2NvdW50LCB0b28uCisgKi8KK3N0YXRp
YyBib29sIHdhdGNoX3Blcm1pdHRlZChzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgY29uc3Qgdm9pZCAqY3R4LAorCQkJICAgIGNvbnN0IGNoYXIgKm5hbWUs
IHN0cnVjdCBub2RlICpub2RlLAorCQkJICAgIHN0cnVjdCBub2RlX3Blcm1z
ICpwZXJtcykKK3sKKwllbnVtIHhzX3Blcm1fdHlwZSBwZXJtOworCXN0cnVj
dCBub2RlICpwYXJlbnQ7CisJY2hhciAqcGFyZW50X25hbWU7CisKKwlpZiAo
cGVybXMpIHsKKwkJcGVybSA9IHBlcm1fZm9yX2Nvbm4oY29ubiwgcGVybXMp
OworCQlpZiAocGVybSAmIFhTX1BFUk1fUkVBRCkKKwkJCXJldHVybiB0cnVl
OworCX0KKworCWlmICghbm9kZSkgeworCQlub2RlID0gcmVhZF9ub2RlKGNv
bm4sIGN0eCwgbmFtZSk7CisJCWlmICghbm9kZSkKKwkJCXJldHVybiBmYWxz
ZTsKKwl9CisKKwlwZXJtID0gcGVybV9mb3JfY29ubihjb25uLCAmbm9kZS0+
cGVybXMpOworCWlmIChwZXJtICYgWFNfUEVSTV9SRUFEKQorCQlyZXR1cm4g
dHJ1ZTsKKworCXBhcmVudCA9IG5vZGUtPnBhcmVudDsKKwlpZiAoIXBhcmVu
dCkgeworCQlwYXJlbnRfbmFtZSA9IGdldF9wYXJlbnQoY3R4LCBub2RlLT5u
YW1lKTsKKwkJaWYgKCFwYXJlbnRfbmFtZSkKKwkJCXJldHVybiBmYWxzZTsK
KwkJcGFyZW50ID0gcmVhZF9ub2RlKGNvbm4sIGN0eCwgcGFyZW50X25hbWUp
OworCQlpZiAoIXBhcmVudCkKKwkJCXJldHVybiBmYWxzZTsKKwl9CisKKwlw
ZXJtID0gcGVybV9mb3JfY29ubihjb25uLCAmcGFyZW50LT5wZXJtcyk7CisK
KwlyZXR1cm4gcGVybSAmIFhTX1BFUk1fUkVBRDsKK30KKwogLyoKICAqIENo
ZWNrIHdoZXRoZXIgYW55IHdhdGNoIGV2ZW50cyBhcmUgdG8gYmUgc2VudC4K
ICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJlIGRvbmUgd2l0
aCBjdHguCisgKiBXZSBuZWVkIHRvIHRha2UgdGhlIChwb3RlbnRpYWwpIG9s
ZCBwZXJtaXNzaW9ucyBvZiB0aGUgbm9kZSBpbnRvIGFjY291bnQKKyAqIGFz
IGEgd2F0Y2hlciBsb3NpbmcgcGVybWlzc2lvbnMgdG8gYWNjZXNzIGEgbm9k
ZSBzaG91bGQgcmVjZWl2ZSB0aGUKKyAqIHdhdGNoIGV2ZW50LCB0b28uCiAg
Ki8KIHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5hbWUsCi0JCSAgYm9v
bCBleGFjdCkKKwkJICBzdHJ1Y3Qgbm9kZSAqbm9kZSwgYm9vbCBleGFjdCwg
c3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKQogewogCXN0cnVjdCBjb25uZWN0
aW9uICppOwogCXN0cnVjdCB3YXRjaCAqd2F0Y2g7CkBAIC0xMzQsOCArMTY2
LDEzIEBAIHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5hbWUsCiAJLyog
Q3JlYXRlIGFuIGV2ZW50IGZvciBlYWNoIHdhdGNoLiAqLwogCWxpc3RfZm9y
X2VhY2hfZW50cnkoaSwgJmNvbm5lY3Rpb25zLCBsaXN0KSB7CiAJCS8qIGlu
dHJvZHVjZS9yZWxlYXNlIGRvbWFpbiB3YXRjaGVzICovCi0JCWlmIChjaGVj
a19zcGVjaWFsX2V2ZW50KG5hbWUpICYmICFjaGVja19wZXJtc19zcGVjaWFs
KG5hbWUsIGkpKQotCQkJY29udGludWU7CisJCWlmIChjaGVja19zcGVjaWFs
X2V2ZW50KG5hbWUpKSB7CisJCQlpZiAoIWNoZWNrX3Blcm1zX3NwZWNpYWwo
bmFtZSwgaSkpCisJCQkJY29udGludWU7CisJCX0gZWxzZSB7CisJCQlpZiAo
IXdhdGNoX3Blcm1pdHRlZChpLCBjdHgsIG5hbWUsIG5vZGUsIHBlcm1zKSkK
KwkJCQljb250aW51ZTsKKwkJfQogCiAJCWxpc3RfZm9yX2VhY2hfZW50cnko
d2F0Y2gsICZpLT53YXRjaGVzLCBsaXN0KSB7CiAJCQlpZiAoZXhhY3QpIHsK
ZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5o
IGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmgKaW5kZXggMWIz
YzgwZDNkZGExLi4wMzA5NDM3NGYzNzkgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF93YXRjaC5oCisrKyBiL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF93YXRjaC5oCkBAIC0yNiw3ICsyNiw3IEBAIGludCBkb191
bndhdGNoKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVy
ZWRfZGF0YSAqaW4pOwogCiAvKiBGaXJlIGFsbCB3YXRjaGVzOiAhZXhhY3Qg
bWVhbnMgYWxsIHRoZSBjaGlsZHJlbiBhcmUgYWZmZWN0ZWQgKGllLiBybSku
ICovCiB2b2lkIGZpcmVfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgY29uc3Qgdm9pZCAqdG1wLCBjb25zdCBjaGFyICpuYW1lLAotCQkgIGJv
b2wgZXhhY3QpOworCQkgIHN0cnVjdCBub2RlICpub2RlLCBib29sIGV4YWN0
LCBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMpOwogCiB2b2lkIGNvbm5fZGVs
ZXRlX2FsbF93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uKTsKIAot
LSAKMi4xNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0001-tools-xenstore-allow-removing-child-of-a-node-exceed.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogYWxsb3cgcmVtb3ZpbmcgY2hpbGQgb2YgYSBu
b2RlIGV4Y2VlZGluZyBxdW90YQoKQW4gdW5wcml2aWxlZ2VkIHVzZXIgb2Yg
WGVuc3RvcmUgaXMgbm90IGFsbG93ZWQgdG8gd3JpdGUgbm9kZXMgd2l0aCBh
CnNpemUgZXhjZWVkaW5nIGEgZ2xvYmFsIHF1b3RhLCB3aGlsZSBwcml2aWxl
Z2VkIHVzZXJzIGxpa2UgZG9tMCBhcmUKYWxsb3dlZCB0byB3cml0ZSBzdWNo
IG5vZGVzLiBUaGUgc2l6ZSBvZiBhIG5vZGUgaXMgdGhlIG5lZWRlZCBzcGFj
ZQp0byBzdG9yZSBhbGwgbm9kZSBzcGVjaWZpYyBkYXRhLCB0aGlzIGluY2x1
ZGVzIHRoZSBuYW1lcyBvZiBhbGwKY2hpbGRyZW4gb2YgdGhlIG5vZGUuCgpX
aGVuIGRlbGV0aW5nIGEgbm9kZSBpdHMgcGFyZW50IGhhcyB0byBiZSBtb2Rp
ZmllZCBieSByZW1vdmluZyB0aGUKbmFtZSBvZiB0aGUgdG8gYmUgZGVsZXRl
ZCBjaGlsZCBmcm9tIGl0LgoKVGhpcyByZXN1bHRzIGluIHRoZSBzdHJhbmdl
IHNpdHVhdGlvbiB0aGF0IGFuIHVucHJpdmlsZWdlZCBvd25lciBvZiBhCm5v
ZGUgbWlnaHQgbm90IHN1Y2NlZWQgaW4gZGVsZXRpbmcgdGhhdCBub2RlIGlu
IGNhc2UgaXRzIHBhcmVudCBpcwpleGNlZWRpbmcgdGhlIHF1b3RhIG9mIHRo
YXQgdW5wcml2aWxlZ2VkIHVzZXIgKGl0IG1pZ2h0IGhhdmUgYmVlbgp3cml0
dGVuIGJ5IGRvbTApLCBhcyB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byB3
cml0ZSB0aGUgdXBkYXRlZApwYXJlbnQgbm9kZS4KCkZpeCB0aGF0IGJ5IG5v
dCBjaGVja2luZyB0aGUgcXVvdGEgd2hlbiB3cml0aW5nIGEgbm9kZSBmb3Ig
dGhlCnB1cnBvc2Ugb2YgcmVtb3ZpbmcgYSBjaGlsZCdzIG5hbWUgb25seS4K
ClRoZSBzYW1lIGFwcGxpZXMgdG8gdHJhbnNhY3Rpb24gaGFuZGxpbmc6IGEg
bm9kZSBiZWluZyByZWFkIGR1cmluZyBhCnRyYW5zYWN0aW9uIGlzIHdyaXR0
ZW4gdG8gdGhlIHRyYW5zYWN0aW9uIHNwZWNpZmljIGFyZWEgYW5kIGl0IHNo
b3VsZApub3QgYmUgdGVzdGVkIGZvciBleGNlZWRpbmcgdGhlIHF1b3RhLCBh
cyBpdCBtaWdodCBub3QgYmUgb3duZWQgYnkKdGhlIHJlYWRlciBhbmQgcHJl
c3VtYWJseSB0aGUgb3JpZ2luYWwgd3JpdGUgd291bGQgaGF2ZSBmYWlsZWQg
aWYgdGhlCm5vZGUgaXMgb3duZWQgYnkgdGhlIHJlYWRlci4KClRoaXMgaXMg
cGFydCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogSnVlcmdlbiBHcm9z
cyA8amdyb3NzQHN1c2UuY29tPgpSZXZpZXdlZC1ieTogSnVsaWVuIEdyYWxs
IDxqZ3JhbGxAYW1hem9uLmNvbT4KUmV2aWV3ZWQtYnk6IFBhdWwgRHVycmFu
dCA8cGF1bEB4ZW4ub3JnPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3Jl
L3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5jCmluZGV4IGI0YmUzNzRkM2YuLjdiZjExMjNkYTMgMTAwNjQ0Ci0t
LSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKKysrIGIvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpAQCAtNDEzLDcgKzQxMyw4
IEBAIHN0YXRpYyBzdHJ1Y3Qgbm9kZSAqcmVhZF9ub2RlKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAJcmV0dXJuIG5vZGU7
CiB9CiAKLWludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUpCitpbnQg
d3JpdGVfbm9kZV9yYXcoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIFREQl9E
QVRBICprZXksIHN0cnVjdCBub2RlICpub2RlLAorCQkgICBib29sIG5vX3F1
b3RhX2NoZWNrKQogewogCVREQl9EQVRBIGRhdGE7CiAJdm9pZCAqcDsKQEAg
LTQyMyw3ICs0MjQsNyBAQCBpbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpu
b2RlKQogCQkrIG5vZGUtPm51bV9wZXJtcypzaXplb2Yobm9kZS0+cGVybXNb
MF0pCiAJCSsgbm9kZS0+ZGF0YWxlbiArIG5vZGUtPmNoaWxkbGVuOwogCi0J
aWYgKGRvbWFpbl9pc191bnByaXZpbGVnZWQoY29ubikgJiYKKwlpZiAoIW5v
X3F1b3RhX2NoZWNrICYmIGRvbWFpbl9pc191bnByaXZpbGVnZWQoY29ubikg
JiYKIAkgICAgZGF0YS5kc2l6ZSA+PSBxdW90YV9tYXhfZW50cnlfc2l6ZSkg
ewogCQllcnJubyA9IEVOT1NQQzsKIAkJcmV0dXJuIGVycm5vOwpAQCAtNDUx
LDE0ICs0NTIsMTUgQEAgaW50IHdyaXRlX25vZGVfcmF3KHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBUREJfREFUQSAqa2V5LCBzdHJ1Y3Qgbm9kZSAqbm9k
ZSkKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCB3cml0ZV9ub2RlKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSkKK3N0
YXRpYyBpbnQgd3JpdGVfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
c3RydWN0IG5vZGUgKm5vZGUsCisJCSAgICAgIGJvb2wgbm9fcXVvdGFfY2hl
Y2spCiB7CiAJVERCX0RBVEEga2V5OwogCiAJaWYgKGFjY2Vzc19ub2RlKGNv
bm4sIG5vZGUsIE5PREVfQUNDRVNTX1dSSVRFLCAma2V5KSkKIAkJcmV0dXJu
IGVycm5vOwogCi0JcmV0dXJuIHdyaXRlX25vZGVfcmF3KGNvbm4sICZrZXks
IG5vZGUpOworCXJldHVybiB3cml0ZV9ub2RlX3Jhdyhjb25uLCAma2V5LCBu
b2RlLCBub19xdW90YV9jaGVjayk7CiB9CiAKIHN0YXRpYyBlbnVtIHhzX3Bl
cm1fdHlwZSBwZXJtX2Zvcl9jb25uKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LApAQCAtOTkyLDcgKzk5NCw3IEBAIHN0YXRpYyBzdHJ1Y3Qgbm9kZSAqY3Jl
YXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQg
KmN0eCwKIAkvKiBXZSB3cml0ZSBvdXQgdGhlIG5vZGVzIGRvd24sIHNldHRp
bmcgZGVzdHJ1Y3RvciBpbiBjYXNlCiAJICogc29tZXRoaW5nIGdvZXMgd3Jv
bmcuICovCiAJZm9yIChpID0gbm9kZTsgaTsgaSA9IGktPnBhcmVudCkgewot
CQlpZiAod3JpdGVfbm9kZShjb25uLCBpKSkgeworCQlpZiAod3JpdGVfbm9k
ZShjb25uLCBpLCBmYWxzZSkpIHsKIAkJCWRvbWFpbl9lbnRyeV9kZWMoY29u
biwgaSk7CiAJCQlyZXR1cm4gTlVMTDsKIAkJfQpAQCAtMTAzMiw3ICsxMDM0
LDcgQEAgc3RhdGljIGludCBkb193cml0ZShzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCX0gZWxzZSB7CiAJ
CW5vZGUtPmRhdGEgPSBpbi0+YnVmZmVyICsgb2Zmc2V0OwogCQlub2RlLT5k
YXRhbGVuID0gZGF0YWxlbjsKLQkJaWYgKHdyaXRlX25vZGUoY29ubiwgbm9k
ZSkpCisJCWlmICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUsIGZhbHNlKSkKIAkJ
CXJldHVybiBlcnJubzsKIAl9CiAKQEAgLTExMDgsNyArMTExMCw3IEBAIHN0
YXRpYyBpbnQgcmVtb3ZlX2NoaWxkX2VudHJ5KHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKIAlzaXplX3QgY2hpbGRsZW4g
PSBzdHJsZW4obm9kZS0+Y2hpbGRyZW4gKyBvZmZzZXQpOwogCW1lbWRlbChu
b2RlLT5jaGlsZHJlbiwgb2Zmc2V0LCBjaGlsZGxlbiArIDEsIG5vZGUtPmNo
aWxkbGVuKTsKIAlub2RlLT5jaGlsZGxlbiAtPSBjaGlsZGxlbiArIDE7Ci0J
cmV0dXJuIHdyaXRlX25vZGUoY29ubiwgbm9kZSk7CisJcmV0dXJuIHdyaXRl
X25vZGUoY29ubiwgbm9kZSwgdHJ1ZSk7CiB9CiAKIApAQCAtMTI0Nyw3ICsx
MjQ5LDcgQEAgc3RhdGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlub2Rl
LT5udW1fcGVybXMgPSBudW07CiAJZG9tYWluX2VudHJ5X2luYyhjb25uLCBu
b2RlKTsKIAotCWlmICh3cml0ZV9ub2RlKGNvbm4sIG5vZGUpKQorCWlmICh3
cml0ZV9ub2RlKGNvbm4sIG5vZGUsIGZhbHNlKSkKIAkJcmV0dXJuIGVycm5v
OwogCiAJZmlyZV93YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBmYWxzZSk7CkBA
IC0xNTA1LDcgKzE1MDcsNyBAQCBzdGF0aWMgdm9pZCBtYW51YWxfbm9kZShj
b25zdCBjaGFyICpuYW1lLCBjb25zdCBjaGFyICpjaGlsZCkKIAlpZiAoY2hp
bGQpCiAJCW5vZGUtPmNoaWxkbGVuID0gc3RybGVuKGNoaWxkKSArIDE7CiAK
LQlpZiAod3JpdGVfbm9kZShOVUxMLCBub2RlKSkKKwlpZiAod3JpdGVfbm9k
ZShOVUxMLCBub2RlLCBmYWxzZSkpCiAJCWJhcmZfcGVycm9yKCJDb3VsZCBu
b3QgY3JlYXRlIGluaXRpYWwgbm9kZSAlcyIsIG5hbWUpOwogCXRhbGxvY19m
cmVlKG5vZGUpOwogfQpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX2NvcmUuaCBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3Jl
LmgKaW5kZXggMWRmNmFkOTRhYi4uNTNhYWZhMWQ5YiAxMDA2NDQKLS0tIGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaAorKysgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCkBAIC0xNDYsNyArMTQ2LDggQEAg
dm9pZCBzZW5kX2FjayhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgZW51bSB4
c2Rfc29ja21zZ190eXBlIHR5cGUpOwogY2hhciAqY2Fub25pY2FsaXplKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0
IGNoYXIgKm5vZGUpOwogCiAvKiBXcml0ZSBhIG5vZGUgdG8gdGhlIHRkYiBk
YXRhIGJhc2UuICovCi1pbnQgd3JpdGVfbm9kZV9yYXcoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIFREQl9EQVRBICprZXksIHN0cnVjdCBub2RlICpub2Rl
KTsKK2ludCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgVERCX0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUsCisJCSAgIGJv
b2wgbm9fcXVvdGFfY2hlY2spOwogCiAvKiBHZXQgdGhpcyBub2RlLCBjaGVj
a2luZyB3ZSBoYXZlIHBlcm1pc3Npb25zLiAqLwogc3RydWN0IG5vZGUgKmdl
dF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLApkaWZmIC0tZ2l0IGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMgYi90b29s
cy94ZW5zdG9yZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYwppbmRleCAyODI0
ZjdiMzU5Li5lODc4OTc1NzM0IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYworKysgYi90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfdHJhbnNhY3Rpb24uYwpAQCAtMjc2LDcgKzI3Niw3IEBA
IGludCBhY2Nlc3Nfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3Ry
dWN0IG5vZGUgKm5vZGUsCiAJCQlpLT5jaGVja19nZW4gPSB0cnVlOwogCQkJ
aWYgKG5vZGUtPmdlbmVyYXRpb24gIT0gTk9fR0VORVJBVElPTikgewogCQkJ
CXNldF90ZGJfa2V5KHRyYW5zX25hbWUsICZsb2NhbF9rZXkpOwotCQkJCXJl
dCA9IHdyaXRlX25vZGVfcmF3KGNvbm4sICZsb2NhbF9rZXksIG5vZGUpOwor
CQkJCXJldCA9IHdyaXRlX25vZGVfcmF3KGNvbm4sICZsb2NhbF9rZXksIG5v
ZGUsIHRydWUpOwogCQkJCWlmIChyZXQpCiAJCQkJCWdvdG8gZXJyOwogCQkJ
CWktPnRhX25vZGUgPSB0cnVlOwo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0002-tools-xenstore-ignore-transaction-id-for-un-watch.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBb
dW5dd2F0Y2gKCkluc3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9u
IGlkIGZvciBYU19XQVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBp
dCBpcyBkb2N1bWVudGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0
IGlzIHRlc3RlZApmb3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3Jl
IHRoZSB0cmFuc2FjdGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FU
Q0guCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6
IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6
IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5
OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4KCmRpZmYgLS1naXQgYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCA3YmYxMTIzZGEzLi4zNDcxY2Ux
NTkyIDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAg
LTEyNjEsMTMgKzEyNjEsMTcgQEAgc3RhdGljIGludCBkb19zZXRfcGVybXMo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRh
ICppbikKIHN0YXRpYyBzdHJ1Y3QgewogCWNvbnN0IGNoYXIgKnN0cjsKIAlp
bnQgKCpmdW5jKShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1
ZmZlcmVkX2RhdGEgKmluKTsKKwl1bnNpZ25lZCBpbnQgZmxhZ3M7CisjZGVm
aW5lIFhTX0ZMQUdfTk9USUQJCSgxVSA8PCAwKQkvKiBJZ25vcmUgdHJhbnNh
Y3Rpb24gaWQuICovCiB9IGNvbnN0IHdpcmVfZnVuY3NbWFNfVFlQRV9DT1VO
VF0gPSB7CiAJW1hTX0NPTlRST0xdICAgICAgICAgICA9IHsgIkNPTlRST0wi
LCAgICAgICAgICAgZG9fY29udHJvbCB9LAogCVtYU19ESVJFQ1RPUlldICAg
ICAgICAgPSB7ICJESVJFQ1RPUlkiLCAgICAgICAgIHNlbmRfZGlyZWN0b3J5
IH0sCiAJW1hTX1JFQURdICAgICAgICAgICAgICA9IHsgIlJFQUQiLCAgICAg
ICAgICAgICAgZG9fcmVhZCB9LAogCVtYU19HRVRfUEVSTVNdICAgICAgICAg
PSB7ICJHRVRfUEVSTVMiLCAgICAgICAgIGRvX2dldF9wZXJtcyB9LAotCVtY
U19XQVRDSF0gICAgICAgICAgICAgPSB7ICJXQVRDSCIsICAgICAgICAgICAg
IGRvX3dhdGNoIH0sCi0JW1hTX1VOV0FUQ0hdICAgICAgICAgICA9IHsgIlVO
V0FUQ0giLCAgICAgICAgICAgZG9fdW53YXRjaCB9LAorCVtYU19XQVRDSF0g
ICAgICAgICAgICAgPQorCSAgICB7ICJXQVRDSCIsICAgICAgICAgZG9fd2F0
Y2gsICAgICAgICBYU19GTEFHX05PVElEIH0sCisJW1hTX1VOV0FUQ0hdICAg
ICAgICAgICA9CisJICAgIHsgIlVOV0FUQ0giLCAgICAgICBkb191bndhdGNo
LCAgICAgIFhTX0ZMQUdfTk9USUQgfSwKIAlbWFNfVFJBTlNBQ1RJT05fU1RB
UlRdID0geyAiVFJBTlNBQ1RJT05fU1RBUlQiLCBkb190cmFuc2FjdGlvbl9z
dGFydCB9LAogCVtYU19UUkFOU0FDVElPTl9FTkRdICAgPSB7ICJUUkFOU0FD
VElPTl9FTkQiLCAgIGRvX3RyYW5zYWN0aW9uX2VuZCB9LAogCVtYU19JTlRS
T0RVQ0VdICAgICAgICAgPSB7ICJJTlRST0RVQ0UiLCAgICAgICAgIGRvX2lu
dHJvZHVjZSB9LApAQCAtMTI4OSw3ICsxMjkzLDcgQEAgc3RhdGljIHN0cnVj
dCB7CiAKIHN0YXRpYyBjb25zdCBjaGFyICpzb2NrbXNnX3N0cmluZyhlbnVt
IHhzZF9zb2NrbXNnX3R5cGUgdHlwZSkKIHsKLQlpZiAoKHVuc2lnbmVkKXR5
cGUgPCBYU19UWVBFX0NPVU5UICYmIHdpcmVfZnVuY3NbdHlwZV0uc3RyKQor
CWlmICgodW5zaWduZWQgaW50KXR5cGUgPCBBUlJBWV9TSVpFKHdpcmVfZnVu
Y3MpICYmIHdpcmVfZnVuY3NbdHlwZV0uc3RyKQogCQlyZXR1cm4gd2lyZV9m
dW5jc1t0eXBlXS5zdHI7CiAKIAlyZXR1cm4gIioqVU5LTk9XTioqIjsKQEAg
LTEzMDQsNyArMTMwOCwxNCBAQCBzdGF0aWMgdm9pZCBwcm9jZXNzX21lc3Nh
Z2Uoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9k
YXRhICppbikKIAllbnVtIHhzZF9zb2NrbXNnX3R5cGUgdHlwZSA9IGluLT5o
ZHIubXNnLnR5cGU7CiAJaW50IHJldDsKIAotCXRyYW5zID0gdHJhbnNhY3Rp
b25fbG9va3VwKGNvbm4sIGluLT5oZHIubXNnLnR4X2lkKTsKKwlpZiAoKHVu
c2lnbmVkIGludCl0eXBlID49IFhTX1RZUEVfQ09VTlQgfHwgIXdpcmVfZnVu
Y3NbdHlwZV0uZnVuYykgeworCQllcHJpbnRmKCJDbGllbnQgdW5rbm93biBv
cGVyYXRpb24gJWkiLCB0eXBlKTsKKwkJc2VuZF9lcnJvcihjb25uLCBFTk9T
WVMpOworCQlyZXR1cm47CisJfQorCisJdHJhbnMgPSAod2lyZV9mdW5jc1t0
eXBlXS5mbGFncyAmIFhTX0ZMQUdfTk9USUQpCisJCT8gTlVMTCA6IHRyYW5z
YWN0aW9uX2xvb2t1cChjb25uLCBpbi0+aGRyLm1zZy50eF9pZCk7CiAJaWYg
KElTX0VSUih0cmFucykpIHsKIAkJc2VuZF9lcnJvcihjb25uLCAtUFRSX0VS
Uih0cmFucykpOwogCQlyZXR1cm47CkBAIC0xMzEzLDEyICsxMzI0LDcgQEAg
c3RhdGljIHZvaWQgcHJvY2Vzc19tZXNzYWdlKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJYXNzZXJ0KGNv
bm4tPnRyYW5zYWN0aW9uID09IE5VTEwpOwogCWNvbm4tPnRyYW5zYWN0aW9u
ID0gdHJhbnM7CiAKLQlpZiAoKHVuc2lnbmVkKXR5cGUgPCBYU19UWVBFX0NP
VU5UICYmIHdpcmVfZnVuY3NbdHlwZV0uZnVuYykKLQkJcmV0ID0gd2lyZV9m
dW5jc1t0eXBlXS5mdW5jKGNvbm4sIGluKTsKLQllbHNlIHsKLQkJZXByaW50
ZigiQ2xpZW50IHVua25vd24gb3BlcmF0aW9uICVpIiwgdHlwZSk7Ci0JCXJl
dCA9IEVOT1NZUzsKLQl9CisJcmV0ID0gd2lyZV9mdW5jc1t0eXBlXS5mdW5j
KGNvbm4sIGluKTsKIAlpZiAocmV0KQogCQlzZW5kX2Vycm9yKGNvbm4sIHJl
dCk7CiAK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0003-tools-xenstore-fix-node-accounting-after-failed-node.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogZml4IG5vZGUgYWNjb3VudGluZyBhZnRlciBm
YWlsZWQgbm9kZSBjcmVhdGlvbgoKV2hlbiBhIG5vZGUgY3JlYXRpb24gZmFp
bHMgdGhlIG51bWJlciBvZiBub2RlcyBvZiB0aGUgZG9tYWluIHNob3VsZCBi
ZQp0aGUgc2FtZSBhcyBiZWZvcmUgdGhlIGZhaWxlZCBub2RlIGNyZWF0aW9u
LiBJbiBjYXNlIG9mIGZhaWx1cmUgd2hlbgp0cnlpbmcgdG8gY3JlYXRlIGEg
bm9kZSByZXF1aXJpbmcgdG8gY3JlYXRlIG9uZSBvciBtb3JlIGludGVybWVk
aWF0ZQpub2RlcyBhcyB3ZWxsIChlLmcuIHdoZW4gL2EvYi9jL2QgaXMgdG8g
YmUgY3JlYXRlZCwgYnV0IC9hL2IgaXNuJ3QKZXhpc3RpbmcgeWV0KSBpdCBt
aWdodCBoYXBwZW4gdGhhdCB0aGUgbnVtYmVyIG9mIG5vZGVzIG9mIHRoZSBj
cmVhdGluZwpkb21haW4gaXMgbm90IHJlc2V0IHRvIHRoZSB2YWx1ZSBpdCBo
YWQgYmVmb3JlLgoKU28gbW92ZSB0aGUgcXVvdGEgYWNjb3VudGluZyBvdXQg
b2YgY29uc3RydWN0X25vZGUoKSBhbmQgaW50byB0aGUgbm9kZQp3cml0ZSBs
b29wIGluIGNyZWF0ZV9ub2RlKCkgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byB1
bmRvIHRoZSBhY2NvdW50aW5nCmluIGNhc2Ugb2YgYW4gZXJyb3IgaW4gdGhl
IGludGVybWVkaWF0ZSBub2RlIGRlc3RydWN0b3IuCgpUaGlzIGlzIHBhcnQg
b2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jvc3MgPGpn
cm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6IFBhdWwgRHVycmFudCA8cGF1
bEB4ZW4ub3JnPgpBY2tlZC1ieTogSnVsaWVuIEdyYWxsIDxqZ3JhbGxAYW1h
em9uLmNvbT4KCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfY29yZS5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpp
bmRleCAzNDcxY2UxNTkyLi40NzZlNjlkNjU4IDEwMDY0NAotLS0gYS90b29s
cy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0
b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTkxOCwxMSArOTE4LDYgQEAgc3Rh
dGljIHN0cnVjdCBub2RlICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAogCWlmICghcGFyZW50KQog
CQlyZXR1cm4gTlVMTDsKIAotCWlmIChkb21haW5fZW50cnkoY29ubikgPj0g
cXVvdGFfbmJfZW50cnlfcGVyX2RvbWFpbikgewotCQllcnJubyA9IEVOT1NQ
QzsKLQkJcmV0dXJuIE5VTEw7Ci0JfQotCiAJLyogQWRkIGNoaWxkIHRvIHBh
cmVudC4gKi8KIAliYXNlID0gYmFzZW5hbWUobmFtZSk7CiAJYmFzZWxlbiA9
IHN0cmxlbihiYXNlKSArIDE7CkBAIC05NTUsNyArOTUwLDYgQEAgc3RhdGlj
IHN0cnVjdCBub2RlICpjb25zdHJ1Y3Rfbm9kZShzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAogCW5vZGUtPmNoaWxkcmVuID0g
bm9kZS0+ZGF0YSA9IE5VTEw7CiAJbm9kZS0+Y2hpbGRsZW4gPSBub2RlLT5k
YXRhbGVuID0gMDsKIAlub2RlLT5wYXJlbnQgPSBwYXJlbnQ7Ci0JZG9tYWlu
X2VudHJ5X2luYyhjb25uLCBub2RlKTsKIAlyZXR1cm4gbm9kZTsKIAogbm9t
ZW06CkBAIC05NzUsNiArOTY5LDkgQEAgc3RhdGljIGludCBkZXN0cm95X25v
ZGUodm9pZCAqX25vZGUpCiAJa2V5LmRzaXplID0gc3RybGVuKG5vZGUtPm5h
bWUpOwogCiAJdGRiX2RlbGV0ZSh0ZGJfY3R4LCBrZXkpOworCisJZG9tYWlu
X2VudHJ5X2RlYyh0YWxsb2NfcGFyZW50KG5vZGUpLCBub2RlKTsKKwogCXJl
dHVybiAwOwogfQogCkBAIC05OTEsMTggKzk4OCwzNCBAQCBzdGF0aWMgc3Ry
dWN0IG5vZGUgKmNyZWF0ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCB2b2lkICpjdHgsCiAJbm9kZS0+ZGF0YSA9IGRhdGE7CiAJbm9k
ZS0+ZGF0YWxlbiA9IGRhdGFsZW47CiAKLQkvKiBXZSB3cml0ZSBvdXQgdGhl
IG5vZGVzIGRvd24sIHNldHRpbmcgZGVzdHJ1Y3RvciBpbiBjYXNlCi0JICog
c29tZXRoaW5nIGdvZXMgd3JvbmcuICovCisJLyoKKwkgKiBXZSB3cml0ZSBv
dXQgdGhlIG5vZGVzIGJvdHRvbSB1cC4KKwkgKiBBbGwgbmV3IGNyZWF0ZWQg
bm9kZXMgd2lsbCBoYXZlIGktPnBhcmVudCBzZXQsIHdoaWxlIHRoZSBmaW5h
bAorCSAqIG5vZGUgd2lsbCBiZSBhbHJlYWR5IGV4aXN0aW5nIGFuZCB3b24n
dCBoYXZlIGktPnBhcmVudCBzZXQuCisJICogTmV3IG5vZGVzIGFyZSBzdWJq
ZWN0IHRvIHF1b3RhIGhhbmRsaW5nLgorCSAqIEluaXRpYWxseSBzZXQgYSBk
ZXN0cnVjdG9yIGZvciBhbGwgbmV3IG5vZGVzIHJlbW92aW5nIHRoZW0gZnJv
bQorCSAqIFREQiBhZ2FpbiBhbmQgdW5kb2luZyBxdW90YSBhY2NvdW50aW5n
IGZvciB0aGUgY2FzZSBvZiBhbiBlcnJvcgorCSAqIGR1cmluZyB0aGUgd3Jp
dGUgbG9vcC4KKwkgKi8KIAlmb3IgKGkgPSBub2RlOyBpOyBpID0gaS0+cGFy
ZW50KSB7Ci0JCWlmICh3cml0ZV9ub2RlKGNvbm4sIGksIGZhbHNlKSkgewot
CQkJZG9tYWluX2VudHJ5X2RlYyhjb25uLCBpKTsKKwkJLyogaS0+cGFyZW50
IGlzIHNldCBmb3IgZWFjaCBuZXcgbm9kZSwgc28gY2hlY2sgcXVvdGEuICov
CisJCWlmIChpLT5wYXJlbnQgJiYKKwkJICAgIGRvbWFpbl9lbnRyeShjb25u
KSA+PSBxdW90YV9uYl9lbnRyeV9wZXJfZG9tYWluKSB7CisJCQllcnJubyA9
IEVOT1NQQzsKIAkJCXJldHVybiBOVUxMOwogCQl9Ci0JCXRhbGxvY19zZXRf
ZGVzdHJ1Y3RvcihpLCBkZXN0cm95X25vZGUpOworCQlpZiAod3JpdGVfbm9k
ZShjb25uLCBpLCBmYWxzZSkpCisJCQlyZXR1cm4gTlVMTDsKKworCQkvKiBB
Y2NvdW50IGZvciBuZXcgbm9kZSwgc2V0IGRlc3RydWN0b3IgZm9yIGVycm9y
IGNhc2UuICovCisJCWlmIChpLT5wYXJlbnQpIHsKKwkJCWRvbWFpbl9lbnRy
eV9pbmMoY29ubiwgaSk7CisJCQl0YWxsb2Nfc2V0X2Rlc3RydWN0b3IoaSwg
ZGVzdHJveV9ub2RlKTsKKwkJfQogCX0KIAogCS8qIE9LLCBub3cgcmVtb3Zl
IGRlc3RydWN0b3JzIHNvIHRoZXkgc3RheSBhcm91bmQgKi8KLQlmb3IgKGkg
PSBub2RlOyBpOyBpID0gaS0+cGFyZW50KQorCWZvciAoaSA9IG5vZGU7IGkt
PnBhcmVudDsgaSA9IGktPnBhcmVudCkKIAkJdGFsbG9jX3NldF9kZXN0cnVj
dG9yKGksIE5VTEwpOwogCXJldHVybiBub2RlOwogfQo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0004-tools-xenstore-simplify-and-rename-check_event_node.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogc2ltcGxpZnkgYW5kIHJlbmFtZSBjaGVja19l
dmVudF9ub2RlKCkKClRoZXJlIGlzIG5vIHBhdGggd2hpY2ggYWxsb3dzIHRv
IGNhbGwgY2hlY2tfZXZlbnRfbm9kZSgpIHdpdGhvdXQgYQpldmVudCBuYW1l
LiBTbyBkb24ndCBsZXQgdGhlIHJlc3VsdCBkZXBlbmQgb24gdGhlIG5hbWUg
YmVpbmcgTlVMTCBhbmQKYWRkIGFuIGFzc2VydCgpIGNvdmVyaW5nIHRoYXQg
Y2FzZS4KClJlbmFtZSB0aGUgZnVuY3Rpb24gdG8gY2hlY2tfc3BlY2lhbF9l
dmVudCgpIHRvIGJldHRlciBtYXRjaCB0aGUKc2VtYW50aWNzLgoKVGhpcyBp
cyBwYXJ0IG9mIFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdy
b3NzIDxqZ3Jvc3NAc3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3Jh
bGwgPGpncmFsbEBhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJy
YW50IDxwYXVsQHhlbi5vcmc+CgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3dhdGNoLmMgYi90b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfd2F0Y2guYwppbmRleCA3ZGVkY2E2MGRmLi5mMmYxYmVkNDdjIDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYworKysg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYwpAQCAtNDcsMTMg
KzQ3LDExIEBAIHN0cnVjdCB3YXRjaAogCWNoYXIgKm5vZGU7CiB9OwogCi1z
dGF0aWMgYm9vbCBjaGVja19ldmVudF9ub2RlKGNvbnN0IGNoYXIgKm5vZGUp
CitzdGF0aWMgYm9vbCBjaGVja19zcGVjaWFsX2V2ZW50KGNvbnN0IGNoYXIg
Km5hbWUpCiB7Ci0JaWYgKCFub2RlIHx8ICFzdHJzdGFydHMobm9kZSwgIkAi
KSkgewotCQllcnJubyA9IEVJTlZBTDsKLQkJcmV0dXJuIGZhbHNlOwotCX0K
LQlyZXR1cm4gdHJ1ZTsKKwlhc3NlcnQobmFtZSk7CisKKwlyZXR1cm4gc3Ry
c3RhcnRzKG5hbWUsICJAIik7CiB9CiAKIC8qIElzIGNoaWxkIGEgc3Vibm9k
ZSBvZiBwYXJlbnQsIG9yIGVxdWFsPyAqLwpAQCAtODcsNyArODUsNyBAQCBz
dGF0aWMgdm9pZCBhZGRfZXZlbnQoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
CiAJdW5zaWduZWQgaW50IGxlbjsKIAljaGFyICpkYXRhOwogCi0JaWYgKCFj
aGVja19ldmVudF9ub2RlKG5hbWUpKSB7CisJaWYgKCFjaGVja19zcGVjaWFs
X2V2ZW50KG5hbWUpKSB7CiAJCS8qIENhbiB0aGlzIGNvbm4gbG9hZCBub2Rl
LCBvciBzZWUgdGhhdCBpdCBkb2Vzbid0IGV4aXN0PyAqLwogCQlzdHJ1Y3Qg
bm9kZSAqbm9kZSA9IGdldF9ub2RlKGNvbm4sIGN0eCwgbmFtZSwgWFNfUEVS
TV9SRUFEKTsKIAkJLyoK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0005-tools-xenstore-check-privilege-for-XS_IS_DOMAIN_INTR.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogY2hlY2sgcHJpdmlsZWdlIGZvciBYU19JU19E
T01BSU5fSU5UUk9EVUNFRAoKVGhlIFhlbnN0b3JlIGNvbW1hbmQgWFNfSVNf
RE9NQUlOX0lOVFJPRFVDRUQgc2hvdWxkIGJlIHBvc3NpYmxlIGZvcgpwcml2
aWxlZ2VkIGRvbWFpbnMgb25seSAodGhlIG9ubHkgdXNlciBpbiB0aGUgdHJl
ZSBpcyB0aGUgeGVucGFnaW5nCmRhZW1vbikuCgpJbnN0ZWFkIG9mIGhhdmlu
ZyB0aGUgcHJpdmlsZWdlIHRlc3QgZm9yIGVhY2ggY29tbWFuZCBpbnRyb2R1
Y2UgYQpwZXItY29tbWFuZCBmbGFnIGZvciB0aGF0IHB1cnBvc2UuCgpUaGlz
IGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4g
R3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6IEp1bGllbiBH
cmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2VkLWJ5OiBQYXVsIER1
cnJhbnQgPHBhdWxAeGVuLm9yZz4KCmRpZmYgLS1naXQgYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2NvcmUuYwppbmRleCA0NzZlNjlkNjU4Li4zZDBlN2IzOTE3IDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCisrKyBi
L3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMKQEAgLTEyNzYsOCAr
MTI3NiwxMCBAQCBzdGF0aWMgc3RydWN0IHsKIAlpbnQgKCpmdW5jKShzdHJ1
Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmlu
KTsKIAl1bnNpZ25lZCBpbnQgZmxhZ3M7CiAjZGVmaW5lIFhTX0ZMQUdfTk9U
SUQJCSgxVSA8PCAwKQkvKiBJZ25vcmUgdHJhbnNhY3Rpb24gaWQuICovCisj
ZGVmaW5lIFhTX0ZMQUdfUFJJVgkJKDFVIDw8IDEpCS8qIFByaXZpbGVnZWQg
ZG9tYWluIG9ubHkuICovCiB9IGNvbnN0IHdpcmVfZnVuY3NbWFNfVFlQRV9D
T1VOVF0gPSB7Ci0JW1hTX0NPTlRST0xdICAgICAgICAgICA9IHsgIkNPTlRS
T0wiLCAgICAgICAgICAgZG9fY29udHJvbCB9LAorCVtYU19DT05UUk9MXSAg
ICAgICAgICAgPQorCSAgICB7ICJDT05UUk9MIiwgICAgICAgZG9fY29udHJv
bCwgICAgICBYU19GTEFHX1BSSVYgfSwKIAlbWFNfRElSRUNUT1JZXSAgICAg
ICAgID0geyAiRElSRUNUT1JZIiwgICAgICAgICBzZW5kX2RpcmVjdG9yeSB9
LAogCVtYU19SRUFEXSAgICAgICAgICAgICAgPSB7ICJSRUFEIiwgICAgICAg
ICAgICAgIGRvX3JlYWQgfSwKIAlbWFNfR0VUX1BFUk1TXSAgICAgICAgID0g
eyAiR0VUX1BFUk1TIiwgICAgICAgICBkb19nZXRfcGVybXMgfSwKQEAgLTEy
ODcsOCArMTI4OSwxMCBAQCBzdGF0aWMgc3RydWN0IHsKIAkgICAgeyAiVU5X
QVRDSCIsICAgICAgIGRvX3Vud2F0Y2gsICAgICAgWFNfRkxBR19OT1RJRCB9
LAogCVtYU19UUkFOU0FDVElPTl9TVEFSVF0gPSB7ICJUUkFOU0FDVElPTl9T
VEFSVCIsIGRvX3RyYW5zYWN0aW9uX3N0YXJ0IH0sCiAJW1hTX1RSQU5TQUNU
SU9OX0VORF0gICA9IHsgIlRSQU5TQUNUSU9OX0VORCIsICAgZG9fdHJhbnNh
Y3Rpb25fZW5kIH0sCi0JW1hTX0lOVFJPRFVDRV0gICAgICAgICA9IHsgIklO
VFJPRFVDRSIsICAgICAgICAgZG9faW50cm9kdWNlIH0sCi0JW1hTX1JFTEVB
U0VdICAgICAgICAgICA9IHsgIlJFTEVBU0UiLCAgICAgICAgICAgZG9fcmVs
ZWFzZSB9LAorCVtYU19JTlRST0RVQ0VdICAgICAgICAgPQorCSAgICB7ICJJ
TlRST0RVQ0UiLCAgICAgZG9faW50cm9kdWNlLCAgICBYU19GTEFHX1BSSVYg
fSwKKwlbWFNfUkVMRUFTRV0gICAgICAgICAgID0KKwkgICAgeyAiUkVMRUFT
RSIsICAgICAgIGRvX3JlbGVhc2UsICAgICAgWFNfRkxBR19QUklWIH0sCiAJ
W1hTX0dFVF9ET01BSU5fUEFUSF0gICA9IHsgIkdFVF9ET01BSU5fUEFUSCIs
ICAgZG9fZ2V0X2RvbWFpbl9wYXRoIH0sCiAJW1hTX1dSSVRFXSAgICAgICAg
ICAgICA9IHsgIldSSVRFIiwgICAgICAgICAgICAgZG9fd3JpdGUgfSwKIAlb
WFNfTUtESVJdICAgICAgICAgICAgID0geyAiTUtESVIiLCAgICAgICAgICAg
ICBkb19ta2RpciB9LApAQCAtMTI5Nyw5ICsxMzAxLDExIEBAIHN0YXRpYyBz
dHJ1Y3QgewogCVtYU19XQVRDSF9FVkVOVF0gICAgICAgPSB7ICJXQVRDSF9F
VkVOVCIsICAgICAgIE5VTEwgfSwKIAlbWFNfRVJST1JdICAgICAgICAgICAg
ID0geyAiRVJST1IiLCAgICAgICAgICAgICBOVUxMIH0sCiAJW1hTX0lTX0RP
TUFJTl9JTlRST0RVQ0VEXSA9Ci0JCQl7ICJJU19ET01BSU5fSU5UUk9EVUNF
RCIsIGRvX2lzX2RvbWFpbl9pbnRyb2R1Y2VkIH0sCi0JW1hTX1JFU1VNRV0g
ICAgICAgICAgICA9IHsgIlJFU1VNRSIsICAgICAgICAgICAgZG9fcmVzdW1l
IH0sCi0JW1hTX1NFVF9UQVJHRVRdICAgICAgICA9IHsgIlNFVF9UQVJHRVQi
LCAgICAgICAgZG9fc2V0X3RhcmdldCB9LAorCSAgICB7ICJJU19ET01BSU5f
SU5UUk9EVUNFRCIsIGRvX2lzX2RvbWFpbl9pbnRyb2R1Y2VkLCBYU19GTEFH
X1BSSVYgfSwKKwlbWFNfUkVTVU1FXSAgICAgICAgICAgID0KKwkgICAgeyAi
UkVTVU1FIiwgICAgICAgIGRvX3Jlc3VtZSwgICAgICAgWFNfRkxBR19QUklW
IH0sCisJW1hTX1NFVF9UQVJHRVRdICAgICAgICA9CisJICAgIHsgIlNFVF9U
QVJHRVQiLCAgICBkb19zZXRfdGFyZ2V0LCAgIFhTX0ZMQUdfUFJJViB9LAog
CVtYU19SRVNFVF9XQVRDSEVTXSAgICAgPSB7ICJSRVNFVF9XQVRDSEVTIiwg
ICAgIGRvX3Jlc2V0X3dhdGNoZXMgfSwKIAlbWFNfRElSRUNUT1JZX1BBUlRd
ICAgID0geyAiRElSRUNUT1JZX1BBUlQiLCAgICBzZW5kX2RpcmVjdG9yeV9w
YXJ0IH0sCiB9OwpAQCAtMTMyNyw2ICsxMzMzLDEyIEBAIHN0YXRpYyB2b2lk
IHByb2Nlc3NfbWVzc2FnZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3Ry
dWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCQlyZXR1cm47CiAJfQogCisJaWYg
KCh3aXJlX2Z1bmNzW3R5cGVdLmZsYWdzICYgWFNfRkxBR19QUklWKSAmJgor
CSAgICBkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKSB7CisJCXNlbmRf
ZXJyb3IoY29ubiwgRUFDQ0VTKTsKKwkJcmV0dXJuOworCX0KKwogCXRyYW5z
ID0gKHdpcmVfZnVuY3NbdHlwZV0uZmxhZ3MgJiBYU19GTEFHX05PVElEKQog
CQk/IE5VTEwgOiB0cmFuc2FjdGlvbl9sb29rdXAoY29ubiwgaW4tPmhkci5t
c2cudHhfaWQpOwogCWlmIChJU19FUlIodHJhbnMpKSB7CmRpZmYgLS1naXQg
YS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKaW5kZXggYTJmMTQ0ZjZkZC4u
MzY0YWQ4ZWE2MyAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2RvbWFpbi5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9k
b21haW4uYwpAQCAtMzcyLDkgKzM3Miw2IEBAIGludCBkb19pbnRyb2R1Y2Uo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRh
ICppbikKIAlpZiAoZ2V0X3N0cmluZ3MoaW4sIHZlYywgQVJSQVlfU0laRSh2
ZWMpKSA8IEFSUkFZX1NJWkUodmVjKSkKIAkJcmV0dXJuIEVJTlZBTDsKIAot
CWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKQotCQlyZXR1cm4g
RUFDQ0VTOwotCiAJZG9taWQgPSBhdG9pKHZlY1swXSk7CiAJLyogSWdub3Jl
IHRoZSBnZm4sIHdlIGRvbid0IG5lZWQgaXQuICovCiAJcG9ydCA9IGF0b2ko
dmVjWzJdKTsKQEAgLTQzOCw5ICs0MzUsNiBAQCBpbnQgZG9fc2V0X3Rhcmdl
dChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2Rh
dGEgKmluKQogCWlmIChnZXRfc3RyaW5ncyhpbiwgdmVjLCBBUlJBWV9TSVpF
KHZlYykpIDwgQVJSQVlfU0laRSh2ZWMpKQogCQlyZXR1cm4gRUlOVkFMOwog
Ci0JaWYgKGRvbWFpbl9pc191bnByaXZpbGVnZWQoY29ubikpCi0JCXJldHVy
biBFQUNDRVM7Ci0KIAlkb21pZCA9IGF0b2kodmVjWzBdKTsKIAl0ZG9taWQg
PSBhdG9pKHZlY1sxXSk7CiAKQEAgLTQ3Myw5ICs0NjcsNiBAQCBzdGF0aWMg
c3RydWN0IGRvbWFpbiAqb25lYXJnX2RvbWFpbihzdHJ1Y3QgY29ubmVjdGlv
biAqY29ubiwKIAlpZiAoIWRvbWlkKQogCQlyZXR1cm4gRVJSX1BUUigtRUlO
VkFMKTsKIAotCWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKQot
CQlyZXR1cm4gRVJSX1BUUigtRUFDQ0VTKTsKLQogCXJldHVybiBmaW5kX2Nv
bm5lY3RlZF9kb21haW4oZG9taWQpOwogfQogCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0006-tools-xenstore-rework-node-removal.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogcmV3b3JrIG5vZGUgcmVtb3ZhbAoKVG9kYXkg
YSBYZW5zdG9yZSBub2RlIGlzIGJlaW5nIHJlbW92ZWQgYnkgZGVsZXRpbmcg
aXQgZnJvbSB0aGUgcGFyZW50CmZpcnN0IGFuZCB0aGVuIGRlbGV0aW5nIGl0
c2VsZiBhbmQgYWxsIGl0cyBjaGlsZHJlbi4gVGhpcyByZXN1bHRzIGluCnN0
YWxlIGVudHJpZXMgcmVtYWluaW5nIGluIHRoZSBkYXRhIGJhc2UgaW4gY2Fz
ZSBlLmcuIGEgbWVtb3J5CmFsbG9jYXRpb24gaXMgZmFpbGluZyBkdXJpbmcg
cHJvY2Vzc2luZy4gVGhpcyB3b3VsZCByZXN1bHQgaW4gdGhlCnJhdGhlciBz
dHJhbmdlIGJlaGF2aW9yIHRvIGJlIGFibGUgdG8gcmVhZCBhIG5vZGUgKGFz
IGl0cyBzdGlsbCBpbiB0aGUKZGF0YSBiYXNlKSB3aGlsZSBub3QgYmVpbmcg
dmlzaWJsZSBpbiB0aGUgdHJlZSB2aWV3IG9mIFhlbnN0b3JlLgoKRml4IHRo
YXQgYnkgZGVsZXRpbmcgdGhlIG5vZGVzIGZyb20gdGhlIGxlYWYgc2lkZSBp
bnN0ZWFkIG9mIHN0YXJ0aW5nCmF0IHRoZSByb290LgoKQXMgZmlyZV93YXRj
aGVzKCkgaXMgbm93IGNhbGxlZCBmcm9tIF9ybSgpIHRoZSBjdHggcGFyYW1l
dGVyIG5lZWRzIGEKY29uc3QgYXR0cmlidXRlLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jv
c3NAc3VzZS5jb20+ClJldmlld2VkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFs
bEBhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogUGF1bCBEdXJyYW50IDxwYXVs
QHhlbi5vcmc+CgpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX2NvcmUuYyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMK
aW5kZXggM2QwZTdiMzkxNy4uYzc0NDEzYmRhMiAxMDA2NDQKLS0tIGEvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYworKysgYi90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfY29yZS5jCkBAIC0xMDgwLDc0ICsxMDgwLDc2IEBA
IHN0YXRpYyBpbnQgZG9fbWtkaXIoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlyZXR1cm4gMDsKIH0KIAot
c3RhdGljIHZvaWQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNv
bm4sIHN0cnVjdCBub2RlICpub2RlKQotewotCXVuc2lnbmVkIGludCBpOwot
CWNoYXIgKm5hbWU7Ci0KLQkvKiBEZWxldGUgc2VsZiwgdGhlbiBkZWxldGUg
Y2hpbGRyZW4uICBJZiB3ZSBjcmFzaCwgdGhlbiB0aGUgd29yc3QKLQkgICB0
aGF0IGNhbiBoYXBwZW4gaXMgdGhlIGNoaWxkcmVuIHdpbGwgY29udGludWUg
dG8gdGFrZSB1cCBzcGFjZSwgYnV0Ci0JICAgd2lsbCBvdGhlcndpc2UgYmUg
dW5yZWFjaGFibGUuICovCi0JZGVsZXRlX25vZGVfc2luZ2xlKGNvbm4sIG5v
ZGUpOwotCi0JLyogRGVsZXRlIGNoaWxkcmVuLCB0b28uICovCi0JZm9yIChp
ID0gMDsgaSA8IG5vZGUtPmNoaWxkbGVuOyBpICs9IHN0cmxlbihub2RlLT5j
aGlsZHJlbitpKSArIDEpIHsKLQkJc3RydWN0IG5vZGUgKmNoaWxkOwotCi0J
CW5hbWUgPSB0YWxsb2NfYXNwcmludGYobm9kZSwgIiVzLyVzIiwgbm9kZS0+
bmFtZSwKLQkJCQkgICAgICAgbm9kZS0+Y2hpbGRyZW4gKyBpKTsKLQkJY2hp
bGQgPSBuYW1lID8gcmVhZF9ub2RlKGNvbm4sIG5vZGUsIG5hbWUpIDogTlVM
TDsKLQkJaWYgKGNoaWxkKSB7Ci0JCQlkZWxldGVfbm9kZShjb25uLCBjaGls
ZCk7Ci0JCX0KLQkJZWxzZSB7Ci0JCQl0cmFjZSgiZGVsZXRlX25vZGU6IEVy
cm9yIGRlbGV0aW5nIGNoaWxkICclcy8lcychXG4iLAotCQkJICAgICAgbm9k
ZS0+bmFtZSwgbm9kZS0+Y2hpbGRyZW4gKyBpKTsKLQkJCS8qIFNraXAgaXQs
IHdlJ3ZlIGFscmVhZHkgZGVsZXRlZCB0aGUgcGFyZW50LiAqLwotCQl9Ci0J
CXRhbGxvY19mcmVlKG5hbWUpOwotCX0KLX0KLQotCiAvKiBEZWxldGUgbWVt
b3J5IHVzaW5nIG1lbW1vdmUuICovCiBzdGF0aWMgdm9pZCBtZW1kZWwodm9p
ZCAqbWVtLCB1bnNpZ25lZCBvZmYsIHVuc2lnbmVkIGxlbiwgdW5zaWduZWQg
dG90YWwpCiB7CiAJbWVtbW92ZShtZW0gKyBvZmYsIG1lbSArIG9mZiArIGxl
biwgdG90YWwgLSBvZmYgLSBsZW4pOwogfQogCi0KLXN0YXRpYyBpbnQgcmVt
b3ZlX2NoaWxkX2VudHJ5KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1
Y3Qgbm9kZSAqbm9kZSwKLQkJCSAgICAgIHNpemVfdCBvZmZzZXQpCitzdGF0
aWMgdm9pZCByZW1vdmVfY2hpbGRfZW50cnkoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIHN0cnVjdCBub2RlICpub2RlLAorCQkJICAgICAgIHNpemVfdCBv
ZmZzZXQpCiB7CiAJc2l6ZV90IGNoaWxkbGVuID0gc3RybGVuKG5vZGUtPmNo
aWxkcmVuICsgb2Zmc2V0KTsKKwogCW1lbWRlbChub2RlLT5jaGlsZHJlbiwg
b2Zmc2V0LCBjaGlsZGxlbiArIDEsIG5vZGUtPmNoaWxkbGVuKTsKIAlub2Rl
LT5jaGlsZGxlbiAtPSBjaGlsZGxlbiArIDE7Ci0JcmV0dXJuIHdyaXRlX25v
ZGUoY29ubiwgbm9kZSwgdHJ1ZSk7CisJaWYgKHdyaXRlX25vZGUoY29ubiwg
bm9kZSwgdHJ1ZSkpCisJCWNvcnJ1cHQoY29ubiwgIkNhbid0IHVwZGF0ZSBw
YXJlbnQgbm9kZSAnJXMnIiwgbm9kZS0+bmFtZSk7CiB9CiAKLQotc3RhdGlj
IGludCBkZWxldGVfY2hpbGQoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCi0J
CQlzdHJ1Y3Qgbm9kZSAqbm9kZSwgY29uc3QgY2hhciAqY2hpbGRuYW1lKQor
c3RhdGljIHZvaWQgZGVsZXRlX2NoaWxkKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLAorCQkJIHN0cnVjdCBub2RlICpub2RlLCBjb25zdCBjaGFyICpjaGls
ZG5hbWUpCiB7CiAJdW5zaWduZWQgaW50IGk7CiAKIAlmb3IgKGkgPSAwOyBp
IDwgbm9kZS0+Y2hpbGRsZW47IGkgKz0gc3RybGVuKG5vZGUtPmNoaWxkcmVu
K2kpICsgMSkgewogCQlpZiAoc3RyZXEobm9kZS0+Y2hpbGRyZW4raSwgY2hp
bGRuYW1lKSkgewotCQkJcmV0dXJuIHJlbW92ZV9jaGlsZF9lbnRyeShjb25u
LCBub2RlLCBpKTsKKwkJCXJlbW92ZV9jaGlsZF9lbnRyeShjb25uLCBub2Rl
LCBpKTsKKwkJCXJldHVybjsKIAkJfQogCX0KIAljb3JydXB0KGNvbm4sICJD
YW4ndCBmaW5kIGNoaWxkICclcycgaW4gJXMiLCBjaGlsZG5hbWUsIG5vZGUt
Pm5hbWUpOwotCXJldHVybiBFTk9FTlQ7CiB9CiAKK3N0YXRpYyBpbnQgZGVs
ZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBub2Rl
ICpwYXJlbnQsCisJCSAgICAgICBzdHJ1Y3Qgbm9kZSAqbm9kZSkKK3sKKwlj
aGFyICpuYW1lOworCisJLyogRGVsZXRlIGNoaWxkcmVuLiAqLworCXdoaWxl
IChub2RlLT5jaGlsZGxlbikgeworCQlzdHJ1Y3Qgbm9kZSAqY2hpbGQ7CisK
KwkJbmFtZSA9IHRhbGxvY19hc3ByaW50Zihub2RlLCAiJXMvJXMiLCBub2Rl
LT5uYW1lLAorCQkJCSAgICAgICBub2RlLT5jaGlsZHJlbik7CisJCWNoaWxk
ID0gbmFtZSA/IHJlYWRfbm9kZShjb25uLCBub2RlLCBuYW1lKSA6IE5VTEw7
CisJCWlmIChjaGlsZCkgeworCQkJaWYgKGRlbGV0ZV9ub2RlKGNvbm4sIG5v
ZGUsIGNoaWxkKSkKKwkJCQlyZXR1cm4gZXJybm87CisJCX0gZWxzZSB7CisJ
CQl0cmFjZSgiZGVsZXRlX25vZGU6IEVycm9yIGRlbGV0aW5nIGNoaWxkICcl
cy8lcychXG4iLAorCQkJICAgICAgbm9kZS0+bmFtZSwgbm9kZS0+Y2hpbGRy
ZW4pOworCQkJLyogUXVpdCBkZWxldGluZy4gKi8KKwkJCWVycm5vID0gRU5P
TUVNOworCQkJcmV0dXJuIGVycm5vOworCQl9CisJCXRhbGxvY19mcmVlKG5h
bWUpOworCX0KKworCWRlbGV0ZV9ub2RlX3NpbmdsZShjb25uLCBub2RlKTsK
KwlkZWxldGVfY2hpbGQoY29ubiwgcGFyZW50LCBiYXNlbmFtZShub2RlLT5u
YW1lKSk7CisJdGFsbG9jX2ZyZWUobm9kZSk7CisKKwlyZXR1cm4gMDsKK30K
IAogc3RhdGljIGludCBfcm0oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNv
bnN0IHZvaWQgKmN0eCwgc3RydWN0IG5vZGUgKm5vZGUsCiAJICAgICAgIGNv
bnN0IGNoYXIgKm5hbWUpCiB7Ci0JLyogRGVsZXRlIGZyb20gcGFyZW50IGZp
cnN0LCB0aGVuIGlmIHdlIGNyYXNoLCB0aGUgd29yc3QgdGhhdCBjYW4KLQkg
ICBoYXBwZW4gaXMgdGhlIGNoaWxkIHdpbGwgY29udGludWUgdG8gdGFrZSB1
cCBzcGFjZSwgYnV0IHdpbGwKLQkgICBvdGhlcndpc2UgYmUgdW5yZWFjaGFi
bGUuICovCisJLyoKKwkgKiBEZWxldGluZyBub2RlIGJ5IG5vZGUsIHNvIHRo
ZSByZXN1bHQgaXMgYWx3YXlzIGNvbnNpc3RlbnQgZXZlbiBpbgorCSAqIGNh
c2Ugb2YgYSBmYWlsdXJlLgorCSAqLwogCXN0cnVjdCBub2RlICpwYXJlbnQ7
CiAJY2hhciAqcGFyZW50bmFtZSA9IGdldF9wYXJlbnQoY3R4LCBuYW1lKTsK
IApAQCAtMTE1OCwxMSArMTE2MCwxMyBAQCBzdGF0aWMgaW50IF9ybShzdHJ1
Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LCBzdHJ1Y3Qg
bm9kZSAqbm9kZSwKIAlpZiAoIXBhcmVudCkKIAkJcmV0dXJuIChlcnJubyA9
PSBFTk9NRU0pID8gRU5PTUVNIDogRUlOVkFMOwogCi0JaWYgKGRlbGV0ZV9j
aGlsZChjb25uLCBwYXJlbnQsIGJhc2VuYW1lKG5hbWUpKSkKLQkJcmV0dXJu
IEVJTlZBTDsKLQotCWRlbGV0ZV9ub2RlKGNvbm4sIG5vZGUpOwotCXJldHVy
biAwOworCS8qCisJICogRmlyZSB0aGUgd2F0Y2hlcyBub3csIHdoZW4gd2Ug
Y2FuIHN0aWxsIHNlZSB0aGUgbm9kZSBwZXJtaXNzaW9ucy4KKwkgKiBUaGlz
IGZpbmUgYXMgd2UgYXJlIHNpbmdsZSB0aHJlYWRlZCBhbmQgdGhlIG5leHQg
cG9zc2libGUgcmVhZCB3aWxsCisJICogYmUgaGFuZGxlZCBvbmx5IGFmdGVy
IHRoZSBub2RlIGhhcyBiZWVuIHJlYWxseSByZW1vdmVkLgorCSAqLworCWZp
cmVfd2F0Y2hlcyhjb25uLCBjdHgsIG5hbWUsIHRydWUpOworCXJldHVybiBk
ZWxldGVfbm9kZShjb25uLCBwYXJlbnQsIG5vZGUpOwogfQogCiAKQEAgLTEy
MDAsNyArMTIwNCw2IEBAIHN0YXRpYyBpbnQgZG9fcm0oc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAlpZiAo
cmV0KQogCQlyZXR1cm4gcmV0OwogCi0JZmlyZV93YXRjaGVzKGNvbm4sIGlu
LCBuYW1lLCB0cnVlKTsKIAlzZW5kX2Fjayhjb25uLCBYU19STSk7CiAKIAly
ZXR1cm4gMDsKZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF93YXRjaC5jIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMK
aW5kZXggZjJmMWJlZDQ3Yy4uZjBiYmZlN2E2ZCAxMDA2NDQKLS0tIGEvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKKysrIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmMKQEAgLTc3LDcgKzc3LDcgQEAgc3Rh
dGljIGJvb2wgaXNfY2hpbGQoY29uc3QgY2hhciAqY2hpbGQsIGNvbnN0IGNo
YXIgKnBhcmVudCkKICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMg
YXJlIGRvbmUgd2l0aCBjdHguCiAgKi8KIHN0YXRpYyB2b2lkIGFkZF9ldmVu
dChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKLQkJICAgICAgdm9pZCAqY3R4
LAorCQkgICAgICBjb25zdCB2b2lkICpjdHgsCiAJCSAgICAgIHN0cnVjdCB3
YXRjaCAqd2F0Y2gsCiAJCSAgICAgIGNvbnN0IGNoYXIgKm5hbWUpCiB7CkBA
IC0xMjEsNyArMTIxLDcgQEAgc3RhdGljIHZvaWQgYWRkX2V2ZW50KHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLAogICogQ2hlY2sgd2hldGhlciBhbnkgd2F0
Y2ggZXZlbnRzIGFyZSB0byBiZSBzZW50LgogICogVGVtcG9yYXJ5IG1lbW9y
eSBhbGxvY2F0aW9ucyBhcmUgZG9uZSB3aXRoIGN0eC4KICAqLwotdm9pZCBm
aXJlX3dhdGNoZXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHZvaWQgKmN0
eCwgY29uc3QgY2hhciAqbmFtZSwKK3ZvaWQgZmlyZV93YXRjaGVzKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNo
YXIgKm5hbWUsCiAJCSAgYm9vbCByZWN1cnNlKQogewogCXN0cnVjdCBjb25u
ZWN0aW9uICppOwpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3dhdGNoLmggYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2gu
aAppbmRleCBjNzJlYTZhNjg1Li41NGQ0ZWE3ZTBkIDEwMDY0NAotLS0gYS90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaAorKysgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaApAQCAtMjUsNyArMjUsNyBAQCBp
bnQgZG9fd2F0Y2goc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0cnVjdCBi
dWZmZXJlZF9kYXRhICppbik7CiBpbnQgZG9fdW53YXRjaChzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAog
LyogRmlyZSBhbGwgd2F0Y2hlczogcmVjdXJzZSBtZWFucyBhbGwgdGhlIGNo
aWxkcmVuIGFyZSBhZmZlY3RlZCAoaWUuIHJtKS4gKi8KLXZvaWQgZmlyZV93
YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCB2b2lkICp0bXAsIGNv
bnN0IGNoYXIgKm5hbWUsCit2b2lkIGZpcmVfd2F0Y2hlcyhzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqdG1wLCBjb25zdCBjaGFyICpu
YW1lLAogCQkgIGJvb2wgcmVjdXJzZSk7CiAKIHZvaWQgY29ubl9kZWxldGVf
YWxsX3dhdGNoZXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4pOwo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0007-tools-xenstore-fire-watches-only-when-removing-a-spe.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogZmlyZSB3YXRjaGVzIG9ubHkgd2hlbiByZW1v
dmluZyBhIHNwZWNpZmljIG5vZGUKCkluc3RlYWQgb2YgZmlyaW5nIGFsbCB3
YXRjaGVzIGZvciByZW1vdmluZyBhIHN1YnRyZWUgaW4gb25lIGdvLCBkbyBz
bwpvbmx5IHdoZW4gdGhlIHJlbGF0ZWQgbm9kZSBpcyBiZWluZyByZW1vdmVk
LgoKVGhlIHdhdGNoZXMgZm9yIHRoZSB0b3AtbW9zdCBub2RlIGJlaW5nIHJl
bW92ZWQgaW5jbHVkZSBhbGwgd2F0Y2hlcwppbmNsdWRpbmcgdGhhdCBub2Rl
LCB3aGlsZSB3YXRjaGVzIGZvciBub2RlcyBiZWxvdyB0aGF0IGFyZSBvbmx5
IGZpcmVkCmlmIHRoZXkgYXJlIG1hdGNoaW5nIGV4YWN0bHkuIFRoaXMgYXZv
aWRzIGZpcmluZyBhbnkgd2F0Y2ggbW9yZSB0aGFuCm9uY2Ugd2hlbiByZW1v
dmluZyBhIHN1YnRyZWUuCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNp
Z25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4K
UmV2aWV3ZWQtYnk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+
ClJldmlld2VkLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4KCmRp
ZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCBjNzQ0MTNi
ZGEyLi5iMzk2MTBjODc2IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF9jb3JlLmMKQEAgLTExMTEsOCArMTExMSw4IEBAIHN0YXRpYyB2b2lkIGRl
bGV0ZV9jaGlsZChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIAljb3JydXB0
KGNvbm4sICJDYW4ndCBmaW5kIGNoaWxkICclcycgaW4gJXMiLCBjaGlsZG5h
bWUsIG5vZGUtPm5hbWUpOwogfQogCi1zdGF0aWMgaW50IGRlbGV0ZV9ub2Rl
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqcGFyZW50
LAotCQkgICAgICAgc3RydWN0IG5vZGUgKm5vZGUpCitzdGF0aWMgaW50IGRl
bGV0ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lk
ICpjdHgsCisJCSAgICAgICBzdHJ1Y3Qgbm9kZSAqcGFyZW50LCBzdHJ1Y3Qg
bm9kZSAqbm9kZSkKIHsKIAljaGFyICpuYW1lOwogCkBAIC0xMTI0LDcgKzEx
MjQsNyBAQCBzdGF0aWMgaW50IGRlbGV0ZV9ub2RlKHN0cnVjdCBjb25uZWN0
aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqcGFyZW50LAogCQkJCSAgICAgICBu
b2RlLT5jaGlsZHJlbik7CiAJCWNoaWxkID0gbmFtZSA/IHJlYWRfbm9kZShj
b25uLCBub2RlLCBuYW1lKSA6IE5VTEw7CiAJCWlmIChjaGlsZCkgewotCQkJ
aWYgKGRlbGV0ZV9ub2RlKGNvbm4sIG5vZGUsIGNoaWxkKSkKKwkJCWlmIChk
ZWxldGVfbm9kZShjb25uLCBjdHgsIG5vZGUsIGNoaWxkKSkKIAkJCQlyZXR1
cm4gZXJybm87CiAJCX0gZWxzZSB7CiAJCQl0cmFjZSgiZGVsZXRlX25vZGU6
IEVycm9yIGRlbGV0aW5nIGNoaWxkICclcy8lcychXG4iLApAQCAtMTEzNiw2
ICsxMTM2LDcgQEAgc3RhdGljIGludCBkZWxldGVfbm9kZShzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgc3RydWN0IG5vZGUgKnBhcmVudCwKIAkJdGFsbG9j
X2ZyZWUobmFtZSk7CiAJfQogCisJZmlyZV93YXRjaGVzKGNvbm4sIGN0eCwg
bm9kZS0+bmFtZSwgdHJ1ZSk7CiAJZGVsZXRlX25vZGVfc2luZ2xlKGNvbm4s
IG5vZGUpOwogCWRlbGV0ZV9jaGlsZChjb25uLCBwYXJlbnQsIGJhc2VuYW1l
KG5vZGUtPm5hbWUpKTsKIAl0YWxsb2NfZnJlZShub2RlKTsKQEAgLTExNjUs
OCArMTE2Niw4IEBAIHN0YXRpYyBpbnQgX3JtKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBjb25zdCB2b2lkICpjdHgsIHN0cnVjdCBub2RlICpub2RlLAog
CSAqIFRoaXMgZmluZSBhcyB3ZSBhcmUgc2luZ2xlIHRocmVhZGVkIGFuZCB0
aGUgbmV4dCBwb3NzaWJsZSByZWFkIHdpbGwKIAkgKiBiZSBoYW5kbGVkIG9u
bHkgYWZ0ZXIgdGhlIG5vZGUgaGFzIGJlZW4gcmVhbGx5IHJlbW92ZWQuCiAJ
ICovCi0JZmlyZV93YXRjaGVzKGNvbm4sIGN0eCwgbmFtZSwgdHJ1ZSk7Ci0J
cmV0dXJuIGRlbGV0ZV9ub2RlKGNvbm4sIHBhcmVudCwgbm9kZSk7CisJZmly
ZV93YXRjaGVzKGNvbm4sIGN0eCwgbmFtZSwgZmFsc2UpOworCXJldHVybiBk
ZWxldGVfbm9kZShjb25uLCBjdHgsIHBhcmVudCwgbm9kZSk7CiB9CiAKIApk
aWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYwppbmRleCBmMGJi
ZmU3YTZkLi4zODM2Njc1NDU5IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfd2F0Y2guYworKysgYi90b29scy94ZW5zdG9yZS94ZW5z
dG9yZWRfd2F0Y2guYwpAQCAtMTIyLDcgKzEyMiw3IEBAIHN0YXRpYyB2b2lk
IGFkZF9ldmVudChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKICAqIFRlbXBv
cmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgYXJlIGRvbmUgd2l0aCBjdHguCiAg
Ki8KIHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5hbWUsCi0JCSAgYm9v
bCByZWN1cnNlKQorCQkgIGJvb2wgZXhhY3QpCiB7CiAJc3RydWN0IGNvbm5l
Y3Rpb24gKmk7CiAJc3RydWN0IHdhdGNoICp3YXRjaDsKQEAgLTEzNCwxMCAr
MTM0LDEzIEBAIHZvaWQgZmlyZV93YXRjaGVzKHN0cnVjdCBjb25uZWN0aW9u
ICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNvbnN0IGNoYXIgKm5hbWUsCiAJ
LyogQ3JlYXRlIGFuIGV2ZW50IGZvciBlYWNoIHdhdGNoLiAqLwogCWxpc3Rf
Zm9yX2VhY2hfZW50cnkoaSwgJmNvbm5lY3Rpb25zLCBsaXN0KSB7CiAJCWxp
c3RfZm9yX2VhY2hfZW50cnkod2F0Y2gsICZpLT53YXRjaGVzLCBsaXN0KSB7
Ci0JCQlpZiAoaXNfY2hpbGQobmFtZSwgd2F0Y2gtPm5vZGUpKQotCQkJCWFk
ZF9ldmVudChpLCBjdHgsIHdhdGNoLCBuYW1lKTsKLQkJCWVsc2UgaWYgKHJl
Y3Vyc2UgJiYgaXNfY2hpbGQod2F0Y2gtPm5vZGUsIG5hbWUpKQotCQkJCWFk
ZF9ldmVudChpLCBjdHgsIHdhdGNoLCB3YXRjaC0+bm9kZSk7CisJCQlpZiAo
ZXhhY3QpIHsKKwkJCQlpZiAoc3RyZXEobmFtZSwgd2F0Y2gtPm5vZGUpKQor
CQkJCQlhZGRfZXZlbnQoaSwgY3R4LCB3YXRjaCwgbmFtZSk7CisJCQl9IGVs
c2UgeworCQkJCWlmIChpc19jaGlsZChuYW1lLCB3YXRjaC0+bm9kZSkpCisJ
CQkJCWFkZF9ldmVudChpLCBjdHgsIHdhdGNoLCBuYW1lKTsKKwkJCX0KIAkJ
fQogCX0KIH0KZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF93YXRjaC5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmgK
aW5kZXggNTRkNGVhN2UwZC4uMWIzYzgwZDNkZCAxMDA2NDQKLS0tIGEvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmgKKysrIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX3dhdGNoLmgKQEAgLTI0LDkgKzI0LDkgQEAKIGlu
dCBkb193YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1
ZmZlcmVkX2RhdGEgKmluKTsKIGludCBkb191bndhdGNoKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pOwogCi0v
KiBGaXJlIGFsbCB3YXRjaGVzOiByZWN1cnNlIG1lYW5zIGFsbCB0aGUgY2hp
bGRyZW4gYXJlIGFmZmVjdGVkIChpZS4gcm0pLiAqLworLyogRmlyZSBhbGwg
d2F0Y2hlczogIWV4YWN0IG1lYW5zIGFsbCB0aGUgY2hpbGRyZW4gYXJlIGFm
ZmVjdGVkIChpZS4gcm0pLiAqLwogdm9pZCBmaXJlX3dhdGNoZXMoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKnRtcCwgY29uc3QgY2hh
ciAqbmFtZSwKLQkJICBib29sIHJlY3Vyc2UpOworCQkgIGJvb2wgZXhhY3Qp
OwogCiB2b2lkIGNvbm5fZGVsZXRlX2FsbF93YXRjaGVzKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uKTsKIAo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0008-tools-xenstore-introduce-node_perms-structure.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogaW50cm9kdWNlIG5vZGVfcGVybXMgc3RydWN0
dXJlCgpUaGVyZSBhcmUgc2V2ZXJhbCBwbGFjZXMgaW4geGVuc3RvcmVkIHVz
aW5nIGEgcGVybWlzc2lvbiBhcnJheSBhbmQgdGhlCnNpemUgb2YgdGhhdCBh
cnJheS4gSW50cm9kdWNlIGEgbmV3IHN0cnVjdCBub2RlX3Blcm1zIGNvbnRh
aW5pbmcgYm90aC4KClRoaXMgaXMgcGFydCBvZiBYU0EtMTE1LgoKU2lnbmVk
LW9mZi1ieTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpBY2tl
ZC1ieTogSnVsaWVuIEdyYWxsIDxqZ3JhbGxAYW1hem9uLmNvbT4KUmV2aWV3
ZWQtYnk6IFBhdWwgRHVycmFudCA8cGF1bEB4ZW4ub3JnPgoKZGlmZiAtLWdp
dCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94
ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jCmluZGV4IGIzOTYxMGM4NzYuLjA2
ZTkzN2RlNjYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF9jb3JlLmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUu
YwpAQCAtMzk3LDE0ICszOTcsMTQgQEAgc3RhdGljIHN0cnVjdCBub2RlICpy
ZWFkX25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQg
KmN0eCwKIAkvKiBEYXRhbGVuLCBjaGlsZGxlbiwgbnVtYmVyIG9mIHBlcm1p
c3Npb25zICovCiAJaGRyID0gKHZvaWQgKilkYXRhLmRwdHI7CiAJbm9kZS0+
Z2VuZXJhdGlvbiA9IGhkci0+Z2VuZXJhdGlvbjsKLQlub2RlLT5udW1fcGVy
bXMgPSBoZHItPm51bV9wZXJtczsKKwlub2RlLT5wZXJtcy5udW0gPSBoZHIt
Pm51bV9wZXJtczsKIAlub2RlLT5kYXRhbGVuID0gaGRyLT5kYXRhbGVuOwog
CW5vZGUtPmNoaWxkbGVuID0gaGRyLT5jaGlsZGxlbjsKIAogCS8qIFBlcm1p
c3Npb25zIGFyZSBzdHJ1Y3QgeHNfcGVybWlzc2lvbnMuICovCi0Jbm9kZS0+
cGVybXMgPSBoZHItPnBlcm1zOworCW5vZGUtPnBlcm1zLnAgPSBoZHItPnBl
cm1zOwogCS8qIERhdGEgaXMgYmluYXJ5IGJsb2IgKHVzdWFsbHkgYXNjaWks
IG5vIG51bCkuICovCi0Jbm9kZS0+ZGF0YSA9IG5vZGUtPnBlcm1zICsgbm9k
ZS0+bnVtX3Blcm1zOworCW5vZGUtPmRhdGEgPSBub2RlLT5wZXJtcy5wICsg
bm9kZS0+cGVybXMubnVtOwogCS8qIENoaWxkcmVuIGlzIHN0cmluZ3MsIG51
bCBzZXBhcmF0ZWQuICovCiAJbm9kZS0+Y2hpbGRyZW4gPSBub2RlLT5kYXRh
ICsgbm9kZS0+ZGF0YWxlbjsKIApAQCAtNDIxLDcgKzQyMSw3IEBAIGludCB3
cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgVERCX0RB
VEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUsCiAJc3RydWN0IHhzX3RkYl9y
ZWNvcmRfaGRyICpoZHI7CiAKIAlkYXRhLmRzaXplID0gc2l6ZW9mKCpoZHIp
Ci0JCSsgbm9kZS0+bnVtX3Blcm1zKnNpemVvZihub2RlLT5wZXJtc1swXSkK
KwkJKyBub2RlLT5wZXJtcy5udW0gKiBzaXplb2Yobm9kZS0+cGVybXMucFsw
XSkKIAkJKyBub2RlLT5kYXRhbGVuICsgbm9kZS0+Y2hpbGRsZW47CiAKIAlp
ZiAoIW5vX3F1b3RhX2NoZWNrICYmIGRvbWFpbl9pc191bnByaXZpbGVnZWQo
Y29ubikgJiYKQEAgLTQzMywxMiArNDMzLDEzIEBAIGludCB3cml0ZV9ub2Rl
X3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgVERCX0RBVEEgKmtleSwg
c3RydWN0IG5vZGUgKm5vZGUsCiAJZGF0YS5kcHRyID0gdGFsbG9jX3NpemUo
bm9kZSwgZGF0YS5kc2l6ZSk7CiAJaGRyID0gKHZvaWQgKilkYXRhLmRwdHI7
CiAJaGRyLT5nZW5lcmF0aW9uID0gbm9kZS0+Z2VuZXJhdGlvbjsKLQloZHIt
Pm51bV9wZXJtcyA9IG5vZGUtPm51bV9wZXJtczsKKwloZHItPm51bV9wZXJt
cyA9IG5vZGUtPnBlcm1zLm51bTsKIAloZHItPmRhdGFsZW4gPSBub2RlLT5k
YXRhbGVuOwogCWhkci0+Y2hpbGRsZW4gPSBub2RlLT5jaGlsZGxlbjsKIAot
CW1lbWNweShoZHItPnBlcm1zLCBub2RlLT5wZXJtcywgbm9kZS0+bnVtX3Bl
cm1zKnNpemVvZihub2RlLT5wZXJtc1swXSkpOwotCXAgPSBoZHItPnBlcm1z
ICsgbm9kZS0+bnVtX3Blcm1zOworCW1lbWNweShoZHItPnBlcm1zLCBub2Rl
LT5wZXJtcy5wLAorCSAgICAgICBub2RlLT5wZXJtcy5udW0gKiBzaXplb2Yo
Km5vZGUtPnBlcm1zLnApKTsKKwlwID0gaGRyLT5wZXJtcyArIG5vZGUtPnBl
cm1zLm51bTsKIAltZW1jcHkocCwgbm9kZS0+ZGF0YSwgbm9kZS0+ZGF0YWxl
bik7CiAJcCArPSBub2RlLT5kYXRhbGVuOwogCW1lbWNweShwLCBub2RlLT5j
aGlsZHJlbiwgbm9kZS0+Y2hpbGRsZW4pOwpAQCAtNDY0LDIzICs0NjUsMjIg
QEAgc3RhdGljIGludCB3cml0ZV9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwKIH0KIAogc3RhdGljIGVudW0geHNf
cGVybV90eXBlIHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNv
bm4sCi0JCQkJICAgICAgIHN0cnVjdCB4c19wZXJtaXNzaW9ucyAqcGVybXMs
Ci0JCQkJICAgICAgIHVuc2lnbmVkIGludCBudW0pCisJCQkJICAgICAgIGNv
bnN0IHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcykKIHsKIAl1bnNpZ25lZCBp
bnQgaTsKIAllbnVtIHhzX3Blcm1fdHlwZSBtYXNrID0gWFNfUEVSTV9SRUFE
fFhTX1BFUk1fV1JJVEV8WFNfUEVSTV9PV05FUjsKIAogCS8qIE93bmVycyBh
bmQgdG9vbHMgZ2V0IGl0IGFsbC4uLiAqLwotCWlmICghZG9tYWluX2lzX3Vu
cHJpdmlsZWdlZChjb25uKSB8fCBwZXJtc1swXS5pZCA9PSBjb25uLT5pZAot
ICAgICAgICAgICAgICAgIHx8IChjb25uLT50YXJnZXQgJiYgcGVybXNbMF0u
aWQgPT0gY29ubi0+dGFyZ2V0LT5pZCkpCisJaWYgKCFkb21haW5faXNfdW5w
cml2aWxlZ2VkKGNvbm4pIHx8IHBlcm1zLT5wWzBdLmlkID09IGNvbm4tPmlk
CisgICAgICAgICAgICAgICAgfHwgKGNvbm4tPnRhcmdldCAmJiBwZXJtcy0+
cFswXS5pZCA9PSBjb25uLT50YXJnZXQtPmlkKSkKIAkJcmV0dXJuIChYU19Q
RVJNX1JFQUR8WFNfUEVSTV9XUklURXxYU19QRVJNX09XTkVSKSAmIG1hc2s7
CiAKLQlmb3IgKGkgPSAxOyBpIDwgbnVtOyBpKyspCi0JCWlmIChwZXJtc1tp
XS5pZCA9PSBjb25uLT5pZAotICAgICAgICAgICAgICAgICAgICAgICAgfHwg
KGNvbm4tPnRhcmdldCAmJiBwZXJtc1tpXS5pZCA9PSBjb25uLT50YXJnZXQt
PmlkKSkKLQkJCXJldHVybiBwZXJtc1tpXS5wZXJtcyAmIG1hc2s7CisJZm9y
IChpID0gMTsgaSA8IHBlcm1zLT5udW07IGkrKykKKwkJaWYgKHBlcm1zLT5w
W2ldLmlkID09IGNvbm4tPmlkCisgICAgICAgICAgICAgICAgICAgICAgICB8
fCAoY29ubi0+dGFyZ2V0ICYmIHBlcm1zLT5wW2ldLmlkID09IGNvbm4tPnRh
cmdldC0+aWQpKQorCQkJcmV0dXJuIHBlcm1zLT5wW2ldLnBlcm1zICYgbWFz
azsKIAotCXJldHVybiBwZXJtc1swXS5wZXJtcyAmIG1hc2s7CisJcmV0dXJu
IHBlcm1zLT5wWzBdLnBlcm1zICYgbWFzazsKIH0KIAogLyoKQEAgLTUyNyw3
ICs1MjcsNyBAQCBzdGF0aWMgaW50IGFza19wYXJlbnRzKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCiAJCXJldHVybiAwOwog
CX0KIAotCSpwZXJtID0gcGVybV9mb3JfY29ubihjb25uLCBub2RlLT5wZXJt
cywgbm9kZS0+bnVtX3Blcm1zKTsKKwkqcGVybSA9IHBlcm1fZm9yX2Nvbm4o
Y29ubiwgJm5vZGUtPnBlcm1zKTsKIAlyZXR1cm4gMDsKIH0KIApAQCAtNTcz
LDggKzU3Myw3IEBAIHN0cnVjdCBub2RlICpnZXRfbm9kZShzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwKIAlub2RlID0gcmVhZF9ub2RlKGNvbm4sIGN0eCwg
bmFtZSk7CiAJLyogSWYgd2UgZG9uJ3QgaGF2ZSBwZXJtaXNzaW9uLCB3ZSBk
b24ndCBoYXZlIG5vZGUuICovCiAJaWYgKG5vZGUpIHsKLQkJaWYgKChwZXJt
X2Zvcl9jb25uKGNvbm4sIG5vZGUtPnBlcm1zLCBub2RlLT5udW1fcGVybXMp
ICYgcGVybSkKLQkJICAgICE9IHBlcm0pIHsKKwkJaWYgKChwZXJtX2Zvcl9j
b25uKGNvbm4sICZub2RlLT5wZXJtcykgJiBwZXJtKSAhPSBwZXJtKSB7CiAJ
CQllcnJubyA9IEVBQ0NFUzsKIAkJCW5vZGUgPSBOVUxMOwogCQl9CkBAIC03
NTAsMTYgKzc0OSwxNSBAQCBjb25zdCBjaGFyICpvbmVhcmcoc3RydWN0IGJ1
ZmZlcmVkX2RhdGEgKmluKQogCXJldHVybiBpbi0+YnVmZmVyOwogfQogCi1z
dGF0aWMgY2hhciAqcGVybXNfdG9fc3RyaW5ncyhjb25zdCB2b2lkICpjdHgs
Ci0JCQkgICAgICBzdHJ1Y3QgeHNfcGVybWlzc2lvbnMgKnBlcm1zLCB1bnNp
Z25lZCBpbnQgbnVtLAorc3RhdGljIGNoYXIgKnBlcm1zX3RvX3N0cmluZ3Mo
Y29uc3Qgdm9pZCAqY3R4LCBjb25zdCBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVy
bXMsCiAJCQkgICAgICB1bnNpZ25lZCBpbnQgKmxlbikKIHsKIAl1bnNpZ25l
ZCBpbnQgaTsKIAljaGFyICpzdHJpbmdzID0gTlVMTDsKIAljaGFyIGJ1ZmZl
cltNQVhfU1RSTEVOKHVuc2lnbmVkIGludCkgKyAxXTsKIAotCWZvciAoKmxl
biA9IDAsIGkgPSAwOyBpIDwgbnVtOyBpKyspIHsKLQkJaWYgKCF4c19wZXJt
X3RvX3N0cmluZygmcGVybXNbaV0sIGJ1ZmZlciwgc2l6ZW9mKGJ1ZmZlcikp
KQorCWZvciAoKmxlbiA9IDAsIGkgPSAwOyBpIDwgcGVybXMtPm51bTsgaSsr
KSB7CisJCWlmICgheHNfcGVybV90b19zdHJpbmcoJnBlcm1zLT5wW2ldLCBi
dWZmZXIsIHNpemVvZihidWZmZXIpKSkKIAkJCXJldHVybiBOVUxMOwogCiAJ
CXN0cmluZ3MgPSB0YWxsb2NfcmVhbGxvYyhjdHgsIHN0cmluZ3MsIGNoYXIs
CkBAIC05MzgsMTMgKzkzNiwxMyBAQCBzdGF0aWMgc3RydWN0IG5vZGUgKmNv
bnN0cnVjdF9ub2RlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2
b2lkICpjdHgsCiAJCWdvdG8gbm9tZW07CiAKIAkvKiBJbmhlcml0IHBlcm1p
c3Npb25zLCBleGNlcHQgdW5wcml2aWxlZ2VkIGRvbWFpbnMgb3duIHdoYXQg
dGhleSBjcmVhdGUgKi8KLQlub2RlLT5udW1fcGVybXMgPSBwYXJlbnQtPm51
bV9wZXJtczsKLQlub2RlLT5wZXJtcyA9IHRhbGxvY19tZW1kdXAobm9kZSwg
cGFyZW50LT5wZXJtcywKLQkJCQkgICAgbm9kZS0+bnVtX3Blcm1zICogc2l6
ZW9mKG5vZGUtPnBlcm1zWzBdKSk7Ci0JaWYgKCFub2RlLT5wZXJtcykKKwlu
b2RlLT5wZXJtcy5udW0gPSBwYXJlbnQtPnBlcm1zLm51bTsKKwlub2RlLT5w
ZXJtcy5wID0gdGFsbG9jX21lbWR1cChub2RlLCBwYXJlbnQtPnBlcm1zLnAs
CisJCQkJICAgICAgbm9kZS0+cGVybXMubnVtICogc2l6ZW9mKCpub2RlLT5w
ZXJtcy5wKSk7CisJaWYgKCFub2RlLT5wZXJtcy5wKQogCQlnb3RvIG5vbWVt
OwogCWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pKQotCQlub2Rl
LT5wZXJtc1swXS5pZCA9IGNvbm4tPmlkOworCQlub2RlLT5wZXJtcy5wWzBd
LmlkID0gY29ubi0+aWQ7CiAKIAkvKiBObyBjaGlsZHJlbiwgbm8gZGF0YSAq
LwogCW5vZGUtPmNoaWxkcmVuID0gbm9kZS0+ZGF0YSA9IE5VTEw7CkBAIC0x
MjIxLDcgKzEyMTksNyBAQCBzdGF0aWMgaW50IGRvX2dldF9wZXJtcyhzdHJ1
Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmlu
KQogCWlmICghbm9kZSkKIAkJcmV0dXJuIGVycm5vOwogCi0Jc3RyaW5ncyA9
IHBlcm1zX3RvX3N0cmluZ3Mobm9kZSwgbm9kZS0+cGVybXMsIG5vZGUtPm51
bV9wZXJtcywgJmxlbik7CisJc3RyaW5ncyA9IHBlcm1zX3RvX3N0cmluZ3Mo
bm9kZSwgJm5vZGUtPnBlcm1zLCAmbGVuKTsKIAlpZiAoIXN0cmluZ3MpCiAJ
CXJldHVybiBlcnJubzsKIApAQCAtMTIzMiwxMyArMTIzMCwxMiBAQCBzdGF0
aWMgaW50IGRvX2dldF9wZXJtcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwg
c3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCiBzdGF0aWMgaW50IGRvX3Nl
dF9wZXJtcyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZl
cmVkX2RhdGEgKmluKQogewotCXVuc2lnbmVkIGludCBudW07Ci0Jc3RydWN0
IHhzX3Blcm1pc3Npb25zICpwZXJtczsKKwlzdHJ1Y3Qgbm9kZV9wZXJtcyBw
ZXJtczsKIAljaGFyICpuYW1lLCAqcGVybXN0cjsKIAlzdHJ1Y3Qgbm9kZSAq
bm9kZTsKIAotCW51bSA9IHhzX2NvdW50X3N0cmluZ3MoaW4tPmJ1ZmZlciwg
aW4tPnVzZWQpOwotCWlmIChudW0gPCAyKQorCXBlcm1zLm51bSA9IHhzX2Nv
dW50X3N0cmluZ3MoaW4tPmJ1ZmZlciwgaW4tPnVzZWQpOworCWlmIChwZXJt
cy5udW0gPCAyKQogCQlyZXR1cm4gRUlOVkFMOwogCiAJLyogRmlyc3QgYXJn
IGlzIG5vZGUgbmFtZS4gKi8KQEAgLTEyNDksMjEgKzEyNDYsMjEgQEAgc3Rh
dGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAkJcmV0dXJuIGVycm5vOwog
CiAJcGVybXN0ciA9IGluLT5idWZmZXIgKyBzdHJsZW4oaW4tPmJ1ZmZlcikg
KyAxOwotCW51bS0tOworCXBlcm1zLm51bS0tOwogCi0JcGVybXMgPSB0YWxs
b2NfYXJyYXkobm9kZSwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBudW0pOwot
CWlmICghcGVybXMpCisJcGVybXMucCA9IHRhbGxvY19hcnJheShub2RlLCBz
dHJ1Y3QgeHNfcGVybWlzc2lvbnMsIHBlcm1zLm51bSk7CisJaWYgKCFwZXJt
cy5wKQogCQlyZXR1cm4gRU5PTUVNOwotCWlmICgheHNfc3RyaW5nc190b19w
ZXJtcyhwZXJtcywgbnVtLCBwZXJtc3RyKSkKKwlpZiAoIXhzX3N0cmluZ3Nf
dG9fcGVybXMocGVybXMucCwgcGVybXMubnVtLCBwZXJtc3RyKSkKIAkJcmV0
dXJuIGVycm5vOwogCiAJLyogVW5wcml2aWxlZ2VkIGRvbWFpbnMgbWF5IG5v
dCBjaGFuZ2UgdGhlIG93bmVyLiAqLwotCWlmIChkb21haW5faXNfdW5wcml2
aWxlZ2VkKGNvbm4pICYmIHBlcm1zWzBdLmlkICE9IG5vZGUtPnBlcm1zWzBd
LmlkKQorCWlmIChkb21haW5faXNfdW5wcml2aWxlZ2VkKGNvbm4pICYmCisJ
ICAgIHBlcm1zLnBbMF0uaWQgIT0gbm9kZS0+cGVybXMucFswXS5pZCkKIAkJ
cmV0dXJuIEVQRVJNOwogCiAJZG9tYWluX2VudHJ5X2RlYyhjb25uLCBub2Rl
KTsKIAlub2RlLT5wZXJtcyA9IHBlcm1zOwotCW5vZGUtPm51bV9wZXJtcyA9
IG51bTsKIAlkb21haW5fZW50cnlfaW5jKGNvbm4sIG5vZGUpOwogCiAJaWYg
KHdyaXRlX25vZGUoY29ubiwgbm9kZSwgZmFsc2UpKQpAQCAtMTUzNiw4ICsx
NTMzLDggQEAgc3RhdGljIHZvaWQgbWFudWFsX25vZGUoY29uc3QgY2hhciAq
bmFtZSwgY29uc3QgY2hhciAqY2hpbGQpCiAJCWJhcmZfcGVycm9yKCJDb3Vs
ZCBub3QgYWxsb2NhdGUgaW5pdGlhbCBub2RlICVzIiwgbmFtZSk7CiAKIAlu
b2RlLT5uYW1lID0gbmFtZTsKLQlub2RlLT5wZXJtcyA9ICZwZXJtczsKLQlu
b2RlLT5udW1fcGVybXMgPSAxOworCW5vZGUtPnBlcm1zLnAgPSAmcGVybXM7
CisJbm9kZS0+cGVybXMubnVtID0gMTsKIAlub2RlLT5jaGlsZHJlbiA9IChj
aGFyICopY2hpbGQ7CiAJaWYgKGNoaWxkKQogCQlub2RlLT5jaGlsZGxlbiA9
IHN0cmxlbihjaGlsZCkgKyAxOwpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX2NvcmUuaCBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3Jl
ZF9jb3JlLmgKaW5kZXggNTNhYWZhMWQ5Yi4uYTI5MWYxNWNlNyAxMDA2NDQK
LS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaAorKysgYi90
b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCkBAIC0xMDYsNiArMTA2
LDExIEBAIHN0cnVjdCBjb25uZWN0aW9uCiB9OwogZXh0ZXJuIHN0cnVjdCBs
aXN0X2hlYWQgY29ubmVjdGlvbnM7CiAKK3N0cnVjdCBub2RlX3Blcm1zIHsK
Kwl1bnNpZ25lZCBpbnQgbnVtOworCXN0cnVjdCB4c19wZXJtaXNzaW9ucyAq
cDsKK307CisKIHN0cnVjdCBub2RlIHsKIAljb25zdCBjaGFyICpuYW1lOwog
CkBAIC0xMTcsOCArMTIyLDcgQEAgc3RydWN0IG5vZGUgewogI2RlZmluZSBO
T19HRU5FUkFUSU9OIH4oKHVpbnQ2NF90KTApCiAKIAkvKiBQZXJtaXNzaW9u
cy4gKi8KLQl1bnNpZ25lZCBpbnQgbnVtX3Blcm1zOwotCXN0cnVjdCB4c19w
ZXJtaXNzaW9ucyAqcGVybXM7CisJc3RydWN0IG5vZGVfcGVybXMgcGVybXM7
CiAKIAkvKiBDb250ZW50cy4gKi8KIAl1bnNpZ25lZCBpbnQgZGF0YWxlbjsK
ZGlmZiAtLWdpdCBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4u
YyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4uYwppbmRleCAz
NjRhZDhlYTYzLi43NmJkZDQ2YzhkIDEwMDY0NAotLS0gYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKKysrIGIvdG9vbHMveGVuc3RvcmUv
eGVuc3RvcmVkX2RvbWFpbi5jCkBAIC02NTAsMTIgKzY1MCwxMiBAQCB2b2lk
IGRvbWFpbl9lbnRyeV9pbmMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIHN0
cnVjdCBub2RlICpub2RlKQogCWlmICghY29ubikKIAkJcmV0dXJuOwogCi0J
aWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBlcm1zWzBdLmlkICE9IGNvbm4t
PmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAgJiYgbm9kZS0+cGVybXMucFsw
XS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAoY29ubi0+dHJhbnNhY3Rpb24p
IHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2luYyhjb25uLT50cmFuc2FjdGlv
biwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7CisJCQkJbm9kZS0+cGVybXMu
cFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlkID0gZmluZF9kb21haW5fYnlf
ZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOworCQkJZCA9IGZpbmRfZG9tYWlu
X2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0uaWQpOwogCQkJaWYgKGQpCiAJ
CQkJZC0+bmJlbnRyeSsrOwogCQl9CkBAIC02NzYsMTIgKzY3NiwxMiBAQCB2
b2lkIGRvbWFpbl9lbnRyeV9kZWMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBub2RlICpub2RlKQogCWlmICghY29ubikKIAkJcmV0dXJuOwog
Ci0JaWYgKG5vZGUtPnBlcm1zICYmIG5vZGUtPnBlcm1zWzBdLmlkICE9IGNv
bm4tPmlkKSB7CisJaWYgKG5vZGUtPnBlcm1zLnAgJiYgbm9kZS0+cGVybXMu
cFswXS5pZCAhPSBjb25uLT5pZCkgewogCQlpZiAoY29ubi0+dHJhbnNhY3Rp
b24pIHsKIAkJCXRyYW5zYWN0aW9uX2VudHJ5X2RlYyhjb25uLT50cmFuc2Fj
dGlvbiwKLQkJCQlub2RlLT5wZXJtc1swXS5pZCk7CisJCQkJbm9kZS0+cGVy
bXMucFswXS5pZCk7CiAJCX0gZWxzZSB7Ci0JCQlkID0gZmluZF9kb21haW5f
YnlfZG9taWQobm9kZS0+cGVybXNbMF0uaWQpOworCQkJZCA9IGZpbmRfZG9t
YWluX2J5X2RvbWlkKG5vZGUtPnBlcm1zLnBbMF0uaWQpOwogCQkJaWYgKGQg
JiYgZC0+bmJlbnRyeSkKIAkJCQlkLT5uYmVudHJ5LS07CiAJCX0K

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0009-tools-xenstore-allow-special-watches-for-privileged-.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogYWxsb3cgc3BlY2lhbCB3YXRjaGVzIGZvciBw
cml2aWxlZ2VkIGNhbGxlcnMgb25seQoKVGhlIHNwZWNpYWwgd2F0Y2hlcyAi
QGludHJvZHVjZURvbWFpbiIgYW5kICJAcmVsZWFzZURvbWFpbiIgc2hvdWxk
IGJlCmFsbG93ZWQgZm9yIHByaXZpbGVnZWQgY2FsbGVycyBvbmx5LCBhcyB0
aGV5IGFsbG93IHRvIGdhaW4gaW5mb3JtYXRpb24KYWJvdXQgcHJlc2VuY2Ug
b2Ygb3RoZXIgZ3Vlc3RzIG9uIHRoZSBob3N0LiBTbyBzZW5kIHdhdGNoIGV2
ZW50cyBmb3IKdGhvc2Ugd2F0Y2hlcyB2aWEgcHJpdmlsZWdlZCBjb25uZWN0
aW9ucyBvbmx5LgoKSW4gb3JkZXIgdG8gYWxsb3cgZm9yIGRpc2FnZ3JlZ2F0
ZWQgc2V0dXBzIHdoZXJlIGUuZy4gZHJpdmVyIGRvbWFpbnMKbmVlZCB0byBt
YWtlIHVzZSBvZiB0aG9zZSBzcGVjaWFsIHdhdGNoZXMgYWRkIHN1cHBvcnQg
Zm9yIGNhbGxpbmcKInNldCBwZXJtaXNzaW9ucyIgZm9yIHRob3NlIHNwZWNp
YWwgbm9kZXMsIHRvby4KClRoaXMgaXMgcGFydCBvZiBYU0EtMTE1LgoKU2ln
bmVkLW9mZi1ieTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpS
ZXZpZXdlZC1ieTogSnVsaWVuIEdyYWxsIDxqZ3JhbGxAYW1hem9uLmNvbT4K
UmV2aWV3ZWQtYnk6IFBhdWwgRHVycmFudCA8cGF1bEB4ZW4ub3JnPgoKZGlm
ZiAtLWdpdCBhL2RvY3MvbWlzYy94ZW5zdG9yZS50eHQgYi9kb2NzL21pc2Mv
eGVuc3RvcmUudHh0CmluZGV4IGNiODAwOWNiNjguLjIwODFmMjBmNTUgMTAw
NjQ0Ci0tLSBhL2RvY3MvbWlzYy94ZW5zdG9yZS50eHQKKysrIGIvZG9jcy9t
aXNjL3hlbnN0b3JlLnR4dApAQCAtMTcwLDYgKzE3MCw5IEBAIFNFVF9QRVJN
UwkJPHBhdGg+fDxwZXJtLWFzLXN0cmluZz58Kz8KIAkJbjxkb21pZD4Jbm8g
YWNjZXNzCiAJU2VlIGh0dHBzOi8vd2lraS54ZW4ub3JnL3dpa2kvWGVuQnVz
IHNlY3Rpb24KIAlgUGVybWlzc2lvbnMnIGZvciBkZXRhaWxzIG9mIHRoZSBw
ZXJtaXNzaW9ucyBzeXN0ZW0uCisJSXQgaXMgcG9zc2libGUgdG8gc2V0IHBl
cm1pc3Npb25zIGZvciB0aGUgc3BlY2lhbCB3YXRjaCBwYXRocworCSJAaW50
cm9kdWNlRG9tYWluIiBhbmQgIkByZWxlYXNlRG9tYWluIiB0byBlbmFibGUg
cmVjZWl2aW5nIHRob3NlCisJd2F0Y2hlcyBpbiB1bnByaXZpbGVnZWQgZG9t
YWlucy4KIAogLS0tLS0tLS0tLSBXYXRjaGVzIC0tLS0tLS0tLS0KIApAQCAt
MTk0LDYgKzE5Nyw4IEBAIFdBVENICQkJPHdwYXRoPnw8dG9rZW4+fD8KIAkg
ICAgQHJlbGVhc2VEb21haW4gCW9jY3VycyBvbiBhbnkgZG9tYWluIGNyYXNo
IG9yCiAJCQkJc2h1dGRvd24sIGFuZCBhbHNvIG9uIFJFTEVBU0UKIAkJCQlh
bmQgZG9tYWluIGRlc3RydWN0aW9uCisJPHdzcGVjaWFsPiBldmVudHMgYXJl
IHNlbnQgdG8gcHJpdmlsZWdlZCBjYWxsZXJzIG9yIGV4cGxpY2l0bHkKKwl2
aWEgU0VUX1BFUk1TIGVuYWJsZWQgZG9tYWlucyBvbmx5LgogCiAJV2hlbiBh
IHdhdGNoIGlzIGZpcnN0IHNldCB1cCBpdCBpcyB0cmlnZ2VyZWQgb25jZSBz
dHJhaWdodAogCWF3YXksIHdpdGggPHBhdGg+IGVxdWFsIHRvIDx3cGF0aD4u
ICBXYXRjaGVzIG1heSBiZSB0cmlnZ2VyZWQKZGlmZiAtLWdpdCBhL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMgYi90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5jCmluZGV4IDA2ZTkzN2RlNjYuLjFkYjlkMGNjMzEg
MTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMK
KysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuYwpAQCAtNDY0
LDggKzQ2NCw4IEBAIHN0YXRpYyBpbnQgd3JpdGVfbm9kZShzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgc3RydWN0IG5vZGUgKm5vZGUsCiAJcmV0dXJuIHdy
aXRlX25vZGVfcmF3KGNvbm4sICZrZXksIG5vZGUsIG5vX3F1b3RhX2NoZWNr
KTsKIH0KIAotc3RhdGljIGVudW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nv
bm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCi0JCQkJICAgICAgIGNvbnN0
IHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcykKK2VudW0geHNfcGVybV90eXBl
IHBlcm1fZm9yX2Nvbm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCisJCQkJ
Y29uc3Qgc3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKQogewogCXVuc2lnbmVk
IGludCBpOwogCWVudW0geHNfcGVybV90eXBlIG1hc2sgPSBYU19QRVJNX1JF
QUR8WFNfUEVSTV9XUklURXxYU19QRVJNX09XTkVSOwpAQCAtMTIzOCwyMiAr
MTIzOCwyOSBAQCBzdGF0aWMgaW50IGRvX3NldF9wZXJtcyhzdHJ1Y3QgY29u
bmVjdGlvbiAqY29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCWlm
IChwZXJtcy5udW0gPCAyKQogCQlyZXR1cm4gRUlOVkFMOwogCi0JLyogRmly
c3QgYXJnIGlzIG5vZGUgbmFtZS4gKi8KLQkvKiBXZSBtdXN0IG93biBub2Rl
IHRvIGRvIHRoaXMgKHRvb2xzIGNhbiBkbyB0aGlzIHRvbykuICovCi0Jbm9k
ZSA9IGdldF9ub2RlX2Nhbm9uaWNhbGl6ZWQoY29ubiwgaW4sIGluLT5idWZm
ZXIsICZuYW1lLAotCQkJCSAgICAgIFhTX1BFUk1fV1JJVEUgfCBYU19QRVJN
X09XTkVSKTsKLQlpZiAoIW5vZGUpCi0JCXJldHVybiBlcnJubzsKLQogCXBl
cm1zdHIgPSBpbi0+YnVmZmVyICsgc3RybGVuKGluLT5idWZmZXIpICsgMTsK
IAlwZXJtcy5udW0tLTsKIAotCXBlcm1zLnAgPSB0YWxsb2NfYXJyYXkobm9k
ZSwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy5udW0pOworCXBlcm1z
LnAgPSB0YWxsb2NfYXJyYXkoaW4sIHN0cnVjdCB4c19wZXJtaXNzaW9ucywg
cGVybXMubnVtKTsKIAlpZiAoIXBlcm1zLnApCiAJCXJldHVybiBFTk9NRU07
CiAJaWYgKCF4c19zdHJpbmdzX3RvX3Blcm1zKHBlcm1zLnAsIHBlcm1zLm51
bSwgcGVybXN0cikpCiAJCXJldHVybiBlcnJubzsKIAorCS8qIEZpcnN0IGFy
ZyBpcyBub2RlIG5hbWUuICovCisJaWYgKHN0cnN0YXJ0cyhpbi0+YnVmZmVy
LCAiQCIpKSB7CisJCWlmIChzZXRfcGVybXNfc3BlY2lhbChjb25uLCBpbi0+
YnVmZmVyLCAmcGVybXMpKQorCQkJcmV0dXJuIGVycm5vOworCQlzZW5kX2Fj
ayhjb25uLCBYU19TRVRfUEVSTVMpOworCQlyZXR1cm4gMDsKKwl9CisKKwkv
KiBXZSBtdXN0IG93biBub2RlIHRvIGRvIHRoaXMgKHRvb2xzIGNhbiBkbyB0
aGlzIHRvbykuICovCisJbm9kZSA9IGdldF9ub2RlX2Nhbm9uaWNhbGl6ZWQo
Y29ubiwgaW4sIGluLT5idWZmZXIsICZuYW1lLAorCQkJCSAgICAgIFhTX1BF
Uk1fV1JJVEUgfCBYU19QRVJNX09XTkVSKTsKKwlpZiAoIW5vZGUpCisJCXJl
dHVybiBlcnJubzsKKwogCS8qIFVucHJpdmlsZWdlZCBkb21haW5zIG1heSBu
b3QgY2hhbmdlIHRoZSBvd25lci4gKi8KIAlpZiAoZG9tYWluX2lzX3VucHJp
dmlsZWdlZChjb25uKSAmJgogCSAgICBwZXJtcy5wWzBdLmlkICE9IG5vZGUt
PnBlcm1zLnBbMF0uaWQpCmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94
ZW5zdG9yZWRfY29yZS5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2Nv
cmUuaAppbmRleCBhMjkxZjE1Y2U3Li4zZjk1OGMyOWFiIDEwMDY0NAotLS0g
YS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5oCisrKyBiL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmgKQEAgLTE2Miw2ICsxNjIsOCBA
QCBzdHJ1Y3Qgbm9kZSAqZ2V0X25vZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNv
bm4sCiBzdHJ1Y3QgY29ubmVjdGlvbiAqbmV3X2Nvbm5lY3Rpb24oY29ubndy
aXRlZm5fdCAqd3JpdGUsIGNvbm5yZWFkZm5fdCAqcmVhZCk7CiB2b2lkIGNo
ZWNrX3N0b3JlKHZvaWQpOwogdm9pZCBjb3JydXB0KHN0cnVjdCBjb25uZWN0
aW9uICpjb25uLCBjb25zdCBjaGFyICpmbXQsIC4uLik7CitlbnVtIHhzX3Bl
cm1fdHlwZSBwZXJtX2Zvcl9jb25uKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LAorCQkJCWNvbnN0IHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcyk7CiAKIC8q
IElzIHRoaXMgYSB2YWxpZCBub2RlIG5hbWU/ICovCiBib29sIGlzX3ZhbGlk
X25vZGVuYW1lKGNvbnN0IGNoYXIgKm5vZGUpOwpkaWZmIC0tZ2l0IGEvdG9v
bHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX2RvbWFpbi5jCmluZGV4IDc2YmRkNDZjOGQuLmUxMTA2
ZDkwYjYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9k
b21haW4uYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWlu
LmMKQEAgLTQxLDYgKzQxLDkgQEAgc3RhdGljIGV2dGNobl9wb3J0X3Qgdmly
cV9wb3J0OwogCiB4ZW5ldnRjaG5faGFuZGxlICp4Y2VfaGFuZGxlID0gTlVM
TDsKIAorc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zIGRvbV9yZWxlYXNlX3Bl
cm1zOworc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zIGRvbV9pbnRyb2R1Y2Vf
cGVybXM7CisKIHN0cnVjdCBkb21haW4KIHsKIAlzdHJ1Y3QgbGlzdF9oZWFk
IGxpc3Q7CkBAIC01NzYsNiArNTc5LDU5IEBAIHZvaWQgcmVzdG9yZV9leGlz
dGluZ19jb25uZWN0aW9ucyh2b2lkKQogewogfQogCitzdGF0aWMgaW50IHNl
dF9kb21fcGVybXNfZGVmYXVsdChzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMp
Cit7CisJcGVybXMtPm51bSA9IDE7CisJcGVybXMtPnAgPSB0YWxsb2NfYXJy
YXkoTlVMTCwgc3RydWN0IHhzX3Blcm1pc3Npb25zLCBwZXJtcy0+bnVtKTsK
KwlpZiAoIXBlcm1zLT5wKQorCQlyZXR1cm4gLTE7CisJcGVybXMtPnAtPmlk
ID0gMDsKKwlwZXJtcy0+cC0+cGVybXMgPSBYU19QRVJNX05PTkU7CisKKwly
ZXR1cm4gMDsKK30KKworc3RhdGljIHN0cnVjdCBub2RlX3Blcm1zICpnZXRf
cGVybXNfc3BlY2lhbChjb25zdCBjaGFyICpuYW1lKQoreworCWlmICghc3Ry
Y21wKG5hbWUsICJAcmVsZWFzZURvbWFpbiIpKQorCQlyZXR1cm4gJmRvbV9y
ZWxlYXNlX3Blcm1zOworCWlmICghc3RyY21wKG5hbWUsICJAaW50cm9kdWNl
RG9tYWluIikpCisJCXJldHVybiAmZG9tX2ludHJvZHVjZV9wZXJtczsKKwly
ZXR1cm4gTlVMTDsKK30KKworaW50IHNldF9wZXJtc19zcGVjaWFsKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBjb25zdCBjaGFyICpuYW1lLAorCQkgICAg
ICBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMpCit7CisJc3RydWN0IG5vZGVf
cGVybXMgKnA7CisKKwlwID0gZ2V0X3Blcm1zX3NwZWNpYWwobmFtZSk7CisJ
aWYgKCFwKQorCQlyZXR1cm4gRUlOVkFMOworCisJaWYgKChwZXJtX2Zvcl9j
b25uKGNvbm4sIHApICYgKFhTX1BFUk1fV1JJVEUgfCBYU19QRVJNX09XTkVS
KSkgIT0KKwkgICAgKFhTX1BFUk1fV1JJVEUgfCBYU19QRVJNX09XTkVSKSkK
KwkJcmV0dXJuIEVBQ0NFUzsKKworCXAtPm51bSA9IHBlcm1zLT5udW07CisJ
dGFsbG9jX2ZyZWUocC0+cCk7CisJcC0+cCA9IHBlcm1zLT5wOworCXRhbGxv
Y19zdGVhbChOVUxMLCBwZXJtcy0+cCk7CisKKwlyZXR1cm4gMDsKK30KKwor
Ym9vbCBjaGVja19wZXJtc19zcGVjaWFsKGNvbnN0IGNoYXIgKm5hbWUsIHN0
cnVjdCBjb25uZWN0aW9uICpjb25uKQoreworCXN0cnVjdCBub2RlX3Blcm1z
ICpwOworCisJcCA9IGdldF9wZXJtc19zcGVjaWFsKG5hbWUpOworCWlmICgh
cCkKKwkJcmV0dXJuIGZhbHNlOworCisJcmV0dXJuIHBlcm1fZm9yX2Nvbm4o
Y29ubiwgcCkgJiBYU19QRVJNX1JFQUQ7Cit9CisKIHN0YXRpYyBpbnQgZG9t
MF9pbml0KHZvaWQpIAogeyAKIAlldnRjaG5fcG9ydF90IHBvcnQ7CkBAIC01
OTcsNiArNjUzLDEwIEBAIHN0YXRpYyBpbnQgZG9tMF9pbml0KHZvaWQpCiAK
IAl4ZW5ldnRjaG5fbm90aWZ5KHhjZV9oYW5kbGUsIGRvbTAtPnBvcnQpOwog
CisJaWYgKHNldF9kb21fcGVybXNfZGVmYXVsdCgmZG9tX3JlbGVhc2VfcGVy
bXMpIHx8CisJICAgIHNldF9kb21fcGVybXNfZGVmYXVsdCgmZG9tX2ludHJv
ZHVjZV9wZXJtcykpCisJCXJldHVybiAtMTsKKwogCXJldHVybiAwOyAKIH0K
IApkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFp
bi5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2RvbWFpbi5oCmluZGV4
IDU2YWUwMTU5NzQuLjI1OTE4Mzk2MmEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF9kb21haW4uaAorKysgYi90b29scy94ZW5zdG9y
ZS94ZW5zdG9yZWRfZG9tYWluLmgKQEAgLTY1LDYgKzY1LDExIEBAIHZvaWQg
ZG9tYWluX3dhdGNoX2luYyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7CiB2
b2lkIGRvbWFpbl93YXRjaF9kZWMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4p
OwogaW50IGRvbWFpbl93YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubik7
CiAKKy8qIFNwZWNpYWwgbm9kZSBwZXJtaXNzaW9uIGhhbmRsaW5nLiAqLwor
aW50IHNldF9wZXJtc19zcGVjaWFsKHN0cnVjdCBjb25uZWN0aW9uICpjb25u
LCBjb25zdCBjaGFyICpuYW1lLAorCQkgICAgICBzdHJ1Y3Qgbm9kZV9wZXJt
cyAqcGVybXMpOworYm9vbCBjaGVja19wZXJtc19zcGVjaWFsKGNvbnN0IGNo
YXIgKm5hbWUsIHN0cnVjdCBjb25uZWN0aW9uICpjb25uKTsKKwogLyogV3Jp
dGUgcmF0ZSBsaW1pdGluZyAqLwogCiAjZGVmaW5lIFdSTF9GQUNUT1IgICAx
MDAwIC8qIGZvciBmaXhlZC1wb2ludCBhcml0aG1ldGljICovCmRpZmYgLS1n
aXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guYyBiL3Rvb2xz
L3hlbnN0b3JlL3hlbnN0b3JlZF93YXRjaC5jCmluZGV4IDM4MzY2NzU0NTku
LmY0ZTI4OTM2MmUgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0
b3JlZF93YXRjaC5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF93
YXRjaC5jCkBAIC0xMzMsNiArMTMzLDEwIEBAIHZvaWQgZmlyZV93YXRjaGVz
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsIGNv
bnN0IGNoYXIgKm5hbWUsCiAKIAkvKiBDcmVhdGUgYW4gZXZlbnQgZm9yIGVh
Y2ggd2F0Y2guICovCiAJbGlzdF9mb3JfZWFjaF9lbnRyeShpLCAmY29ubmVj
dGlvbnMsIGxpc3QpIHsKKwkJLyogaW50cm9kdWNlL3JlbGVhc2UgZG9tYWlu
IHdhdGNoZXMgKi8KKwkJaWYgKGNoZWNrX3NwZWNpYWxfZXZlbnQobmFtZSkg
JiYgIWNoZWNrX3Blcm1zX3NwZWNpYWwobmFtZSwgaSkpCisJCQljb250aW51
ZTsKKwogCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHdhdGNoLCAmaS0+d2F0Y2hl
cywgbGlzdCkgewogCQkJaWYgKGV4YWN0KSB7CiAJCQkJaWYgKHN0cmVxKG5h
bWUsIHdhdGNoLT5ub2RlKSkK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Disposition: attachment;
 filename="xsa115-c/0010-tools-xenstore-avoid-watch-events-for-nodes-without-.patch"
Content-Transfer-Encoding: base64

RnJvbTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgpTdWJqZWN0
OiB0b29scy94ZW5zdG9yZTogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2Rl
cyB3aXRob3V0IGFjY2VzcwoKVG9kYXkgd2F0Y2ggZXZlbnRzIGFyZSBzZW50
IHJlZ2FyZGxlc3Mgb2YgdGhlIGFjY2VzcyByaWdodHMgb2YgdGhlCm5vZGUg
dGhlIGV2ZW50IGlzIHNlbnQgZm9yLiBUaGlzIGVuYWJsZXMgYW55IGd1ZXN0
IHRvIGUuZy4gc2V0dXAgYQp3YXRjaCBmb3IgIi8iIGluIG9yZGVyIHRvIGhh
dmUgYSBkZXRhaWxlZCByZWNvcmQgb2YgYWxsIFhlbnN0b3JlCm1vZGlmaWNh
dGlvbnMuCgpNb2RpZnkgdGhhdCBieSBzZW5kaW5nIG9ubHkgd2F0Y2ggZXZl
bnRzIGZvciBub2RlcyB0aGF0IHRoZSB3YXRjaGVyCmhhcyBhIGNoYW5jZSB0
byBzZWUgb3RoZXJ3aXNlIChlaXRoZXIgdmlhIGRpcmVjdCByZWFkcyBvciBi
eSBxdWVyeWluZwp0aGUgY2hpbGRyZW4gb2YgYSBub2RlKS4gVGhpcyBpbmNs
dWRlcyBjYXNlcyB3aGVyZSB0aGUgdmlzaWJpbGl0eSBvZgphIG5vZGUgZm9y
IGEgd2F0Y2hlciBpcyBjaGFuZ2luZyAocGVybWlzc2lvbnMgYmVpbmcgcmVt
b3ZlZCkuCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYt
Ynk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQt
Ynk6IEp1bGllbiBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClJldmlld2Vk
LWJ5OiBQYXVsIER1cnJhbnQgPHBhdWxAeGVuLm9yZz4KCmRpZmYgLS1naXQg
YS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29yZS5jIGIvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2NvcmUuYwppbmRleCAxZGI5ZDBjYzMxLi5hZDE5
MDNjNTU1IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
Y29yZS5jCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9jb3JlLmMK
QEAgLTM1NCw4ICszNTQsOCBAQCBzdGF0aWMgdm9pZCBpbml0aWFsaXplX2Zk
cyhpbnQgKnBfc29ja19wb2xsZmRfaWR4LCBpbnQgKnB0aW1lb3V0KQogICog
SWYgaXQgZmFpbHMsIHJldHVybnMgTlVMTCBhbmQgc2V0cyBlcnJuby4KICAq
IFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMgd2lsbCBiZSBkb25lIHdp
dGggY3R4LgogICovCi1zdGF0aWMgc3RydWN0IG5vZGUgKnJlYWRfbm9kZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAotCQkJ
ICAgICAgY29uc3QgY2hhciAqbmFtZSkKK3N0cnVjdCBub2RlICpyZWFkX25v
ZGUoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwK
KwkJICAgICAgIGNvbnN0IGNoYXIgKm5hbWUpCiB7CiAJVERCX0RBVEEga2V5
LCBkYXRhOwogCXN0cnVjdCB4c190ZGJfcmVjb3JkX2hkciAqaGRyOwpAQCAt
NDg3LDcgKzQ4Nyw3IEBAIGVudW0geHNfcGVybV90eXBlIHBlcm1fZm9yX2Nv
bm4oc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sCiAgKiBHZXQgbmFtZSBvZiBu
b2RlIHBhcmVudC4KICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxsb2NhdGlvbnMg
YXJlIGRvbmUgd2l0aCBjdHguCiAgKi8KLXN0YXRpYyBjaGFyICpnZXRfcGFy
ZW50KGNvbnN0IHZvaWQgKmN0eCwgY29uc3QgY2hhciAqbm9kZSkKK2NoYXIg
KmdldF9wYXJlbnQoY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBjaGFyICpub2Rl
KQogewogCWNoYXIgKnBhcmVudDsKIAljaGFyICpzbGFzaCA9IHN0cnJjaHIo
bm9kZSArIDEsICcvJyk7CkBAIC01NTksMTAgKzU1OSwxMCBAQCBzdGF0aWMg
aW50IGVycm5vX2Zyb21fcGFyZW50cyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgY29uc3Qgdm9pZCAqY3R4LAogICogSWYgaXQgZmFpbHMsIHJldHVybnMg
TlVMTCBhbmQgc2V0cyBlcnJuby4KICAqIFRlbXBvcmFyeSBtZW1vcnkgYWxs
b2NhdGlvbnMgYXJlIGRvbmUgd2l0aCBjdHguCiAgKi8KLXN0cnVjdCBub2Rl
ICpnZXRfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKLQkJICAgICAg
Y29uc3Qgdm9pZCAqY3R4LAotCQkgICAgICBjb25zdCBjaGFyICpuYW1lLAot
CQkgICAgICBlbnVtIHhzX3Blcm1fdHlwZSBwZXJtKQorc3RhdGljIHN0cnVj
dCBub2RlICpnZXRfbm9kZShzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKKwkJ
CSAgICAgY29uc3Qgdm9pZCAqY3R4LAorCQkJICAgICBjb25zdCBjaGFyICpu
YW1lLAorCQkJICAgICBlbnVtIHhzX3Blcm1fdHlwZSBwZXJtKQogewogCXN0
cnVjdCBub2RlICpub2RlOwogCkBAIC0xMDQ5LDcgKzEwNDksNyBAQCBzdGF0
aWMgaW50IGRvX3dyaXRlKHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1
Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJCQlyZXR1cm4gZXJybm87CiAJfQog
Ci0JZmlyZV93YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBmYWxzZSk7CisJZmly
ZV93YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBub2RlLCBmYWxzZSwgTlVMTCk7
CiAJc2VuZF9hY2soY29ubiwgWFNfV1JJVEUpOwogCiAJcmV0dXJuIDA7CkBA
IC0xMDcxLDcgKzEwNzEsNyBAQCBzdGF0aWMgaW50IGRvX21rZGlyKHN0cnVj
dCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4p
CiAJCW5vZGUgPSBjcmVhdGVfbm9kZShjb25uLCBpbiwgbmFtZSwgTlVMTCwg
MCk7CiAJCWlmICghbm9kZSkKIAkJCXJldHVybiBlcnJubzsKLQkJZmlyZV93
YXRjaGVzKGNvbm4sIGluLCBuYW1lLCBmYWxzZSk7CisJCWZpcmVfd2F0Y2hl
cyhjb25uLCBpbiwgbmFtZSwgbm9kZSwgZmFsc2UsIE5VTEwpOwogCX0KIAlz
ZW5kX2Fjayhjb25uLCBYU19NS0RJUik7CiAKQEAgLTExMzQsNyArMTEzNCw3
IEBAIHN0YXRpYyBpbnQgZGVsZXRlX25vZGUoc3RydWN0IGNvbm5lY3Rpb24g
KmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwKIAkJdGFsbG9jX2ZyZWUobmFtZSk7
CiAJfQogCi0JZmlyZV93YXRjaGVzKGNvbm4sIGN0eCwgbm9kZS0+bmFtZSwg
dHJ1ZSk7CisJZmlyZV93YXRjaGVzKGNvbm4sIGN0eCwgbm9kZS0+bmFtZSwg
bm9kZSwgdHJ1ZSwgTlVMTCk7CiAJZGVsZXRlX25vZGVfc2luZ2xlKGNvbm4s
IG5vZGUpOwogCWRlbGV0ZV9jaGlsZChjb25uLCBwYXJlbnQsIGJhc2VuYW1l
KG5vZGUtPm5hbWUpKTsKIAl0YWxsb2NfZnJlZShub2RlKTsKQEAgLTExNTgs
MTMgKzExNTgsMTQgQEAgc3RhdGljIGludCBfcm0oc3RydWN0IGNvbm5lY3Rp
b24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgc3RydWN0IG5vZGUgKm5vZGUs
CiAJcGFyZW50ID0gcmVhZF9ub2RlKGNvbm4sIGN0eCwgcGFyZW50bmFtZSk7
CiAJaWYgKCFwYXJlbnQpCiAJCXJldHVybiAoZXJybm8gPT0gRU5PTUVNKSA/
IEVOT01FTSA6IEVJTlZBTDsKKwlub2RlLT5wYXJlbnQgPSBwYXJlbnQ7CiAK
IAkvKgogCSAqIEZpcmUgdGhlIHdhdGNoZXMgbm93LCB3aGVuIHdlIGNhbiBz
dGlsbCBzZWUgdGhlIG5vZGUgcGVybWlzc2lvbnMuCiAJICogVGhpcyBmaW5l
IGFzIHdlIGFyZSBzaW5nbGUgdGhyZWFkZWQgYW5kIHRoZSBuZXh0IHBvc3Np
YmxlIHJlYWQgd2lsbAogCSAqIGJlIGhhbmRsZWQgb25seSBhZnRlciB0aGUg
bm9kZSBoYXMgYmVlbiByZWFsbHkgcmVtb3ZlZC4KIAkgKi8KLQlmaXJlX3dh
dGNoZXMoY29ubiwgY3R4LCBuYW1lLCBmYWxzZSk7CisJZmlyZV93YXRjaGVz
KGNvbm4sIGN0eCwgbmFtZSwgbm9kZSwgZmFsc2UsIE5VTEwpOwogCXJldHVy
biBkZWxldGVfbm9kZShjb25uLCBjdHgsIHBhcmVudCwgbm9kZSk7CiB9CiAK
QEAgLTEyMzAsNyArMTIzMSw3IEBAIHN0YXRpYyBpbnQgZG9fZ2V0X3Blcm1z
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0
YSAqaW4pCiAKIHN0YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25u
ZWN0aW9uICpjb25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiB7Ci0J
c3RydWN0IG5vZGVfcGVybXMgcGVybXM7CisJc3RydWN0IG5vZGVfcGVybXMg
cGVybXMsIG9sZF9wZXJtczsKIAljaGFyICpuYW1lLCAqcGVybXN0cjsKIAlz
dHJ1Y3Qgbm9kZSAqbm9kZTsKIApAQCAtMTI2Niw2ICsxMjY3LDcgQEAgc3Rh
dGljIGludCBkb19zZXRfcGVybXMoc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4s
IHN0cnVjdCBidWZmZXJlZF9kYXRhICppbikKIAkgICAgcGVybXMucFswXS5p
ZCAhPSBub2RlLT5wZXJtcy5wWzBdLmlkKQogCQlyZXR1cm4gRVBFUk07CiAK
KwlvbGRfcGVybXMgPSBub2RlLT5wZXJtczsKIAlkb21haW5fZW50cnlfZGVj
KGNvbm4sIG5vZGUpOwogCW5vZGUtPnBlcm1zID0gcGVybXM7CiAJZG9tYWlu
X2VudHJ5X2luYyhjb25uLCBub2RlKTsKQEAgLTEyNzMsNyArMTI3NSw3IEBA
IHN0YXRpYyBpbnQgZG9fc2V0X3Blcm1zKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLCBzdHJ1Y3QgYnVmZmVyZWRfZGF0YSAqaW4pCiAJaWYgKHdyaXRlX25v
ZGUoY29ubiwgbm9kZSwgZmFsc2UpKQogCQlyZXR1cm4gZXJybm87CiAKLQlm
aXJlX3dhdGNoZXMoY29ubiwgaW4sIG5hbWUsIGZhbHNlKTsKKwlmaXJlX3dh
dGNoZXMoY29ubiwgaW4sIG5hbWUsIG5vZGUsIGZhbHNlLCAmb2xkX3Blcm1z
KTsKIAlzZW5kX2Fjayhjb25uLCBYU19TRVRfUEVSTVMpOwogCiAJcmV0dXJu
IDA7CmRpZmYgLS1naXQgYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfY29y
ZS5oIGIvdG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX2NvcmUuaAppbmRleCAz
Zjk1OGMyOWFiLi42YzIxZDViYjlhIDEwMDY0NAotLS0gYS90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfY29yZS5oCisrKyBiL3Rvb2xzL3hlbnN0b3JlL3hl
bnN0b3JlZF9jb3JlLmgKQEAgLTE0OSwxNSArMTQ5LDE3IEBAIHZvaWQgc2Vu
ZF9hY2soc3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGVudW0geHNkX3NvY2tt
c2dfdHlwZSB0eXBlKTsKIC8qIENhbm9uaWNhbGl6ZSB0aGlzIHBhdGggaWYg
cG9zc2libGUuICovCiBjaGFyICpjYW5vbmljYWxpemUoc3RydWN0IGNvbm5l
Y3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgY29uc3QgY2hhciAqbm9k
ZSk7CiAKKy8qIEdldCBhY2Nlc3MgcGVybWlzc2lvbnMuICovCitlbnVtIHhz
X3Blcm1fdHlwZSBwZXJtX2Zvcl9jb25uKHN0cnVjdCBjb25uZWN0aW9uICpj
b25uLAorCQkJCWNvbnN0IHN0cnVjdCBub2RlX3Blcm1zICpwZXJtcyk7CisK
IC8qIFdyaXRlIGEgbm9kZSB0byB0aGUgdGRiIGRhdGEgYmFzZS4gKi8KIGlu
dCB3cml0ZV9ub2RlX3JhdyhzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgVERC
X0RBVEEgKmtleSwgc3RydWN0IG5vZGUgKm5vZGUsCiAJCSAgIGJvb2wgbm9f
cXVvdGFfY2hlY2spOwogCi0vKiBHZXQgdGhpcyBub2RlLCBjaGVja2luZyB3
ZSBoYXZlIHBlcm1pc3Npb25zLiAqLwotc3RydWN0IG5vZGUgKmdldF9ub2Rl
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAotCQkgICAgICBjb25zdCB2b2lk
ICpjdHgsCi0JCSAgICAgIGNvbnN0IGNoYXIgKm5hbWUsCi0JCSAgICAgIGVu
dW0geHNfcGVybV90eXBlIHBlcm0pOworLyogR2V0IGEgbm9kZSBmcm9tIHRo
ZSB0ZGIgZGF0YSBiYXNlLiAqLworc3RydWN0IG5vZGUgKnJlYWRfbm9kZShz
dHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwgY29uc3Qgdm9pZCAqY3R4LAorCQkg
ICAgICAgY29uc3QgY2hhciAqbmFtZSk7CiAKIHN0cnVjdCBjb25uZWN0aW9u
ICpuZXdfY29ubmVjdGlvbihjb25ud3JpdGVmbl90ICp3cml0ZSwgY29ubnJl
YWRmbl90ICpyZWFkKTsKIHZvaWQgY2hlY2tfc3RvcmUodm9pZCk7CkBAIC0x
NjgsNiArMTcwLDkgQEAgZW51bSB4c19wZXJtX3R5cGUgcGVybV9mb3JfY29u
bihzdHJ1Y3QgY29ubmVjdGlvbiAqY29ubiwKIC8qIElzIHRoaXMgYSB2YWxp
ZCBub2RlIG5hbWU/ICovCiBib29sIGlzX3ZhbGlkX25vZGVuYW1lKGNvbnN0
IGNoYXIgKm5vZGUpOwogCisvKiBHZXQgbmFtZSBvZiBwYXJlbnQgbm9kZS4g
Ki8KK2NoYXIgKmdldF9wYXJlbnQoY29uc3Qgdm9pZCAqY3R4LCBjb25zdCBj
aGFyICpub2RlKTsKKwogLyogVHJhY2luZyBpbmZyYXN0cnVjdHVyZS4gKi8K
IHZvaWQgdHJhY2VfY3JlYXRlKGNvbnN0IHZvaWQgKmRhdGEsIGNvbnN0IGNo
YXIgKnR5cGUpOwogdm9pZCB0cmFjZV9kZXN0cm95KGNvbnN0IHZvaWQgKmRh
dGEsIGNvbnN0IGNoYXIgKnR5cGUpOwpkaWZmIC0tZ2l0IGEvdG9vbHMveGVu
c3RvcmUveGVuc3RvcmVkX2RvbWFpbi5jIGIvdG9vbHMveGVuc3RvcmUveGVu
c3RvcmVkX2RvbWFpbi5jCmluZGV4IGUxMTA2ZDkwYjYuLmNmMjM5YzA0NGIg
MTAwNjQ0Ci0tLSBhL3Rvb2xzL3hlbnN0b3JlL3hlbnN0b3JlZF9kb21haW4u
YworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfZG9tYWluLmMKQEAg
LTIwMiw3ICsyMDIsNyBAQCBzdGF0aWMgaW50IGRlc3Ryb3lfZG9tYWluKHZv
aWQgKl9kb21haW4pCiAJCQl1bm1hcF9pbnRlcmZhY2UoZG9tYWluLT5pbnRl
cmZhY2UpOwogCX0KIAotCWZpcmVfd2F0Y2hlcyhOVUxMLCBkb21haW4sICJA
cmVsZWFzZURvbWFpbiIsIGZhbHNlKTsKKwlmaXJlX3dhdGNoZXMoTlVMTCwg
ZG9tYWluLCAiQHJlbGVhc2VEb21haW4iLCBOVUxMLCBmYWxzZSwgTlVMTCk7
CiAKIAl3cmxfZG9tYWluX2Rlc3Ryb3koZG9tYWluKTsKIApAQCAtMjQwLDcg
KzI0MCw3IEBAIHN0YXRpYyB2b2lkIGRvbWFpbl9jbGVhbnVwKHZvaWQpCiAJ
fQogCiAJaWYgKG5vdGlmeSkKLQkJZmlyZV93YXRjaGVzKE5VTEwsIE5VTEws
ICJAcmVsZWFzZURvbWFpbiIsIGZhbHNlKTsKKwkJZmlyZV93YXRjaGVzKE5V
TEwsIE5VTEwsICJAcmVsZWFzZURvbWFpbiIsIE5VTEwsIGZhbHNlLCBOVUxM
KTsKIH0KIAogLyogV2Ugc2NhbiBhbGwgZG9tYWlucyByYXRoZXIgdGhhbiB1
c2UgdGhlIGluZm9ybWF0aW9uIGdpdmVuIGhlcmUuICovCkBAIC00MDEsNyAr
NDAxLDcgQEAgaW50IGRvX2ludHJvZHVjZShzdHJ1Y3QgY29ubmVjdGlvbiAq
Y29ubiwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKQogCQkvKiBOb3cgZG9t
YWluIGJlbG9uZ3MgdG8gaXRzIGNvbm5lY3Rpb24uICovCiAJCXRhbGxvY19z
dGVhbChkb21haW4tPmNvbm4sIGRvbWFpbik7CiAKLQkJZmlyZV93YXRjaGVz
KE5VTEwsIGluLCAiQGludHJvZHVjZURvbWFpbiIsIGZhbHNlKTsKKwkJZmly
ZV93YXRjaGVzKE5VTEwsIGluLCAiQGludHJvZHVjZURvbWFpbiIsIE5VTEws
IGZhbHNlLCBOVUxMKTsKIAl9IGVsc2UgewogCQkvKiBVc2UgWFNfSU5UUk9E
VUNFIGZvciByZWNyZWF0aW5nIHRoZSB4ZW5idXMgZXZlbnQtY2hhbm5lbC4g
Ki8KIAkJaWYgKGRvbWFpbi0+cG9ydCkKZGlmZiAtLWdpdCBhL3Rvb2xzL3hl
bnN0b3JlL3hlbnN0b3JlZF90cmFuc2FjdGlvbi5jIGIvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3RyYW5zYWN0aW9uLmMKaW5kZXggZTg3ODk3NTczNC4u
YTdkOGM1ZDQ3NSAxMDA2NDQKLS0tIGEvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3RyYW5zYWN0aW9uLmMKKysrIGIvdG9vbHMveGVuc3RvcmUveGVuc3Rv
cmVkX3RyYW5zYWN0aW9uLmMKQEAgLTExNCw2ICsxMTQsOSBAQCBzdHJ1Y3Qg
YWNjZXNzZWRfbm9kZQogCS8qIEdlbmVyYXRpb24gY291bnQgKG9yIE5PX0dF
TkVSQVRJT04pIGZvciBjb25mbGljdCBjaGVja2luZy4gKi8KIAl1aW50NjRf
dCBnZW5lcmF0aW9uOwogCisJLyogT3JpZ2luYWwgbm9kZSBwZXJtaXNzaW9u
cy4gKi8KKwlzdHJ1Y3Qgbm9kZV9wZXJtcyBwZXJtczsKKwogCS8qIEdlbmVy
YXRpb24gY291bnQgY2hlY2tpbmcgcmVxdWlyZWQ/ICovCiAJYm9vbCBjaGVj
a19nZW47CiAKQEAgLTI2MCw2ICsyNjMsMTUgQEAgaW50IGFjY2Vzc19ub2Rl
KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLCBzdHJ1Y3Qgbm9kZSAqbm9kZSwK
IAkJaS0+bm9kZSA9IHRhbGxvY19zdHJkdXAoaSwgbm9kZS0+bmFtZSk7CiAJ
CWlmICghaS0+bm9kZSkKIAkJCWdvdG8gbm9tZW07CisJCWlmIChub2RlLT5n
ZW5lcmF0aW9uICE9IE5PX0dFTkVSQVRJT04gJiYgbm9kZS0+cGVybXMubnVt
KSB7CisJCQlpLT5wZXJtcy5wID0gdGFsbG9jX2FycmF5KGksIHN0cnVjdCB4
c19wZXJtaXNzaW9ucywKKwkJCQkJCSAgbm9kZS0+cGVybXMubnVtKTsKKwkJ
CWlmICghaS0+cGVybXMucCkKKwkJCQlnb3RvIG5vbWVtOworCQkJaS0+cGVy
bXMubnVtID0gbm9kZS0+cGVybXMubnVtOworCQkJbWVtY3B5KGktPnBlcm1z
LnAsIG5vZGUtPnBlcm1zLnAsCisJCQkgICAgICAgaS0+cGVybXMubnVtICog
c2l6ZW9mKCppLT5wZXJtcy5wKSk7CisJCX0KIAogCQlpbnRyb2R1Y2UgPSB0
cnVlOwogCQlpLT50YV9ub2RlID0gZmFsc2U7CkBAIC0zNjgsOSArMzgwLDE0
IEBAIHN0YXRpYyBpbnQgZmluYWxpemVfdHJhbnNhY3Rpb24oc3RydWN0IGNv
bm5lY3Rpb24gKmNvbm4sCiAJCQkJdGFsbG9jX2ZyZWUoZGF0YS5kcHRyKTsK
IAkJCQlpZiAocmV0KQogCQkJCQlnb3RvIGVycjsKLQkJCX0gZWxzZSBpZiAo
dGRiX2RlbGV0ZSh0ZGJfY3R4LCBrZXkpKQorCQkJCWZpcmVfd2F0Y2hlcyhj
b25uLCB0cmFucywgaS0+bm9kZSwgTlVMTCwgZmFsc2UsCisJCQkJCSAgICAg
aS0+cGVybXMucCA/ICZpLT5wZXJtcyA6IE5VTEwpOworCQkJfSBlbHNlIHsK
KwkJCQlmaXJlX3dhdGNoZXMoY29ubiwgdHJhbnMsIGktPm5vZGUsIE5VTEws
IGZhbHNlLAorCQkJCQkgICAgIGktPnBlcm1zLnAgPyAmaS0+cGVybXMgOiBO
VUxMKTsKKwkJCQlpZiAodGRiX2RlbGV0ZSh0ZGJfY3R4LCBrZXkpKQogCQkJ
CQlnb3RvIGVycjsKLQkJCWZpcmVfd2F0Y2hlcyhjb25uLCB0cmFucywgaS0+
bm9kZSwgZmFsc2UpOworCQkJfQogCQl9CiAKIAkJaWYgKGktPnRhX25vZGUg
JiYgdGRiX2RlbGV0ZSh0ZGJfY3R4LCB0YV9rZXkpKQpkaWZmIC0tZ2l0IGEv
dG9vbHMveGVuc3RvcmUveGVuc3RvcmVkX3dhdGNoLmMgYi90b29scy94ZW5z
dG9yZS94ZW5zdG9yZWRfd2F0Y2guYwppbmRleCBmNGUyODkzNjJlLi43MWMx
MDhlYTk5IDEwMDY0NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRf
d2F0Y2guYworKysgYi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2gu
YwpAQCAtODUsMjIgKzg1LDYgQEAgc3RhdGljIHZvaWQgYWRkX2V2ZW50KHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLAogCXVuc2lnbmVkIGludCBsZW47CiAJ
Y2hhciAqZGF0YTsKIAotCWlmICghY2hlY2tfc3BlY2lhbF9ldmVudChuYW1l
KSkgewotCQkvKiBDYW4gdGhpcyBjb25uIGxvYWQgbm9kZSwgb3Igc2VlIHRo
YXQgaXQgZG9lc24ndCBleGlzdD8gKi8KLQkJc3RydWN0IG5vZGUgKm5vZGUg
PSBnZXRfbm9kZShjb25uLCBjdHgsIG5hbWUsIFhTX1BFUk1fUkVBRCk7Ci0J
CS8qCi0JCSAqIFhYWCBXZSBhbGxvdyBFQUNDRVMgaGVyZSBiZWNhdXNlIG90
aGVyd2lzZSBhIG5vbi1kb20wCi0JCSAqIGJhY2tlbmQgZHJpdmVyIGNhbm5v
dCB3YXRjaCBmb3IgZGlzYXBwZWFyYW5jZSBvZiBhIGZyb250ZW5kCi0JCSAq
IHhlbnN0b3JlIGRpcmVjdG9yeS4gV2hlbiB0aGUgZGlyZWN0b3J5IGRpc2Fw
cGVhcnMsIHdlCi0JCSAqIHJldmVydCB0byBwZXJtaXNzaW9ucyBvZiB0aGUg
cGFyZW50IGRpcmVjdG9yeSBmb3IgdGhhdCBwYXRoLAotCQkgKiB3aGljaCB3
aWxsIHR5cGljYWxseSBkaXNhbGxvdyBhY2Nlc3MgZm9yIHRoZSBiYWNrZW5k
LgotCQkgKiBCdXQgdGhpcyBicmVha3MgZGV2aWNlLWNoYW5uZWwgdGVhcmRv
d24hCi0JCSAqIFJlYWxseSB3ZSBzaG91bGQgZml4IHRoaXMgYmV0dGVyLi4u
Ci0JCSAqLwotCQlpZiAoIW5vZGUgJiYgZXJybm8gIT0gRU5PRU5UICYmIGVy
cm5vICE9IEVBQ0NFUykKLQkJCXJldHVybjsKLQl9Ci0KIAlpZiAod2F0Y2gt
PnJlbGF0aXZlX3BhdGgpIHsKIAkJbmFtZSArPSBzdHJsZW4od2F0Y2gtPnJl
bGF0aXZlX3BhdGgpOwogCQlpZiAoKm5hbWUgPT0gJy8nKSAvKiBDb3VsZCBi
ZSAiIiAqLwpAQCAtMTE4LDExICsxMDIsNTkgQEAgc3RhdGljIHZvaWQgYWRk
X2V2ZW50KHN0cnVjdCBjb25uZWN0aW9uICpjb25uLAogfQogCiAvKgorICog
Q2hlY2sgcGVybWlzc2lvbnMgb2YgYSBzcGVjaWZpYyB3YXRjaCB0byBmaXJl
OgorICogRWl0aGVyIHRoZSBub2RlIGl0c2VsZiBvciBpdHMgcGFyZW50IGhh
dmUgdG8gYmUgcmVhZGFibGUgYnkgdGhlIGNvbm5lY3Rpb24KKyAqIHRoZSB3
YXRjaCBoYXMgYmVlbiBzZXR1cCBmb3IuIEluIGNhc2UgYSB3YXRjaCBldmVu
dCBpcyBjcmVhdGVkIGR1ZSB0bworICogY2hhbmdlZCBwZXJtaXNzaW9ucyB3
ZSBuZWVkIHRvIHRha2UgdGhlIG9sZCBwZXJtaXNzaW9ucyBpbnRvIGFjY291
bnQsIHRvby4KKyAqLworc3RhdGljIGJvb2wgd2F0Y2hfcGVybWl0dGVkKHN0
cnVjdCBjb25uZWN0aW9uICpjb25uLCBjb25zdCB2b2lkICpjdHgsCisJCQkg
ICAgY29uc3QgY2hhciAqbmFtZSwgc3RydWN0IG5vZGUgKm5vZGUsCisJCQkg
ICAgc3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKQoreworCWVudW0geHNfcGVy
bV90eXBlIHBlcm07CisJc3RydWN0IG5vZGUgKnBhcmVudDsKKwljaGFyICpw
YXJlbnRfbmFtZTsKKworCWlmIChwZXJtcykgeworCQlwZXJtID0gcGVybV9m
b3JfY29ubihjb25uLCBwZXJtcyk7CisJCWlmIChwZXJtICYgWFNfUEVSTV9S
RUFEKQorCQkJcmV0dXJuIHRydWU7CisJfQorCisJaWYgKCFub2RlKSB7CisJ
CW5vZGUgPSByZWFkX25vZGUoY29ubiwgY3R4LCBuYW1lKTsKKwkJaWYgKCFu
b2RlKQorCQkJcmV0dXJuIGZhbHNlOworCX0KKworCXBlcm0gPSBwZXJtX2Zv
cl9jb25uKGNvbm4sICZub2RlLT5wZXJtcyk7CisJaWYgKHBlcm0gJiBYU19Q
RVJNX1JFQUQpCisJCXJldHVybiB0cnVlOworCisJcGFyZW50ID0gbm9kZS0+
cGFyZW50OworCWlmICghcGFyZW50KSB7CisJCXBhcmVudF9uYW1lID0gZ2V0
X3BhcmVudChjdHgsIG5vZGUtPm5hbWUpOworCQlpZiAoIXBhcmVudF9uYW1l
KQorCQkJcmV0dXJuIGZhbHNlOworCQlwYXJlbnQgPSByZWFkX25vZGUoY29u
biwgY3R4LCBwYXJlbnRfbmFtZSk7CisJCWlmICghcGFyZW50KQorCQkJcmV0
dXJuIGZhbHNlOworCX0KKworCXBlcm0gPSBwZXJtX2Zvcl9jb25uKGNvbm4s
ICZwYXJlbnQtPnBlcm1zKTsKKworCXJldHVybiBwZXJtICYgWFNfUEVSTV9S
RUFEOworfQorCisvKgogICogQ2hlY2sgd2hldGhlciBhbnkgd2F0Y2ggZXZl
bnRzIGFyZSB0byBiZSBzZW50LgogICogVGVtcG9yYXJ5IG1lbW9yeSBhbGxv
Y2F0aW9ucyBhcmUgZG9uZSB3aXRoIGN0eC4KKyAqIFdlIG5lZWQgdG8gdGFr
ZSB0aGUgKHBvdGVudGlhbCkgb2xkIHBlcm1pc3Npb25zIG9mIHRoZSBub2Rl
IGludG8gYWNjb3VudAorICogYXMgYSB3YXRjaGVyIGxvc2luZyBwZXJtaXNz
aW9ucyB0byBhY2Nlc3MgYSBub2RlIHNob3VsZCByZWNlaXZlIHRoZQorICog
d2F0Y2ggZXZlbnQsIHRvby4KICAqLwogdm9pZCBmaXJlX3dhdGNoZXMoc3Ry
dWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgY29uc3Qg
Y2hhciAqbmFtZSwKLQkJICBib29sIGV4YWN0KQorCQkgIHN0cnVjdCBub2Rl
ICpub2RlLCBib29sIGV4YWN0LCBzdHJ1Y3Qgbm9kZV9wZXJtcyAqcGVybXMp
CiB7CiAJc3RydWN0IGNvbm5lY3Rpb24gKmk7CiAJc3RydWN0IHdhdGNoICp3
YXRjaDsKQEAgLTEzNCw4ICsxNjYsMTMgQEAgdm9pZCBmaXJlX3dhdGNoZXMo
c3RydWN0IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKmN0eCwgY29u
c3QgY2hhciAqbmFtZSwKIAkvKiBDcmVhdGUgYW4gZXZlbnQgZm9yIGVhY2gg
d2F0Y2guICovCiAJbGlzdF9mb3JfZWFjaF9lbnRyeShpLCAmY29ubmVjdGlv
bnMsIGxpc3QpIHsKIAkJLyogaW50cm9kdWNlL3JlbGVhc2UgZG9tYWluIHdh
dGNoZXMgKi8KLQkJaWYgKGNoZWNrX3NwZWNpYWxfZXZlbnQobmFtZSkgJiYg
IWNoZWNrX3Blcm1zX3NwZWNpYWwobmFtZSwgaSkpCi0JCQljb250aW51ZTsK
KwkJaWYgKGNoZWNrX3NwZWNpYWxfZXZlbnQobmFtZSkpIHsKKwkJCWlmICgh
Y2hlY2tfcGVybXNfc3BlY2lhbChuYW1lLCBpKSkKKwkJCQljb250aW51ZTsK
KwkJfSBlbHNlIHsKKwkJCWlmICghd2F0Y2hfcGVybWl0dGVkKGksIGN0eCwg
bmFtZSwgbm9kZSwgcGVybXMpKQorCQkJCWNvbnRpbnVlOworCQl9CiAKIAkJ
bGlzdF9mb3JfZWFjaF9lbnRyeSh3YXRjaCwgJmktPndhdGNoZXMsIGxpc3Qp
IHsKIAkJCWlmIChleGFjdCkgewpkaWZmIC0tZ2l0IGEvdG9vbHMveGVuc3Rv
cmUveGVuc3RvcmVkX3dhdGNoLmggYi90b29scy94ZW5zdG9yZS94ZW5zdG9y
ZWRfd2F0Y2guaAppbmRleCAxYjNjODBkM2RkLi4wMzA5NDM3NGYzIDEwMDY0
NAotLS0gYS90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaAorKysg
Yi90b29scy94ZW5zdG9yZS94ZW5zdG9yZWRfd2F0Y2guaApAQCAtMjYsNyAr
MjYsNyBAQCBpbnQgZG9fdW53YXRjaChzdHJ1Y3QgY29ubmVjdGlvbiAqY29u
biwgc3RydWN0IGJ1ZmZlcmVkX2RhdGEgKmluKTsKIAogLyogRmlyZSBhbGwg
d2F0Y2hlczogIWV4YWN0IG1lYW5zIGFsbCB0aGUgY2hpbGRyZW4gYXJlIGFm
ZmVjdGVkIChpZS4gcm0pLiAqLwogdm9pZCBmaXJlX3dhdGNoZXMoc3RydWN0
IGNvbm5lY3Rpb24gKmNvbm4sIGNvbnN0IHZvaWQgKnRtcCwgY29uc3QgY2hh
ciAqbmFtZSwKLQkJICBib29sIGV4YWN0KTsKKwkJICBzdHJ1Y3Qgbm9kZSAq
bm9kZSwgYm9vbCBleGFjdCwgc3RydWN0IG5vZGVfcGVybXMgKnBlcm1zKTsK
IAogdm9pZCBjb25uX2RlbGV0ZV9hbGxfd2F0Y2hlcyhzdHJ1Y3QgY29ubmVj
dGlvbiAqY29ubik7CiAK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0001-tools-ocaml-xenstored-ignore-transaction-id-for-un-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaWdub3JlIHRyYW5zYWN0aW9uIGlkIGZvciBbdW5dd2F0Y2gK
TUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluOyBj
aGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IDhiaXQK
Ckluc3RlYWQgb2YgaWdub3JpbmcgdGhlIHRyYW5zYWN0aW9uIGlkIGZvciBY
U19XQVRDSCBhbmQgWFNfVU5XQVRDSApjb21tYW5kcyBhcyBpdCBpcyBkb2N1
bWVudGVkIGluIGRvY3MvbWlzYy94ZW5zdG9yZS50eHQsIGl0IGlzIHRlc3Rl
ZApmb3IgdmFsaWRpdHkgdG9kYXkuCgpSZWFsbHkgaWdub3JlIHRoZSB0cmFu
c2FjdGlvbiBpZCBmb3IgWFNfV0FUQ0ggYW5kIFhTX1VOV0FUQ0guCgpUaGlz
IGlzIHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTD
tnLDtmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJp
c3RpYW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJl
dmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRy
aXguY29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9w
cm9jZXNzLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwK
aW5kZXggZmY1Yzk0ODRmYy4uMmZhNjc5OGUzYiAxMDA2NDQKLS0tIGEvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKQEAgLTQ5OCwxMiArNDk4LDE5IEBA
IGxldCByZXRhaW5fb3BfaW5faGlzdG9yeSB0eSA9CiAJfCBYZW5idXMuWGIu
T3AuUmVzZXRfd2F0Y2hlcwogCXwgWGVuYnVzLlhiLk9wLkludmFsaWQgICAg
ICAgICAgIC0+IGZhbHNlCiAKK2xldCBtYXliZV9pZ25vcmVfdHJhbnNhY3Rp
b24gPSBmdW5jdGlvbgorCXwgWGVuYnVzLlhiLk9wLldhdGNoIHwgWGVuYnVz
LlhiLk9wLlVud2F0Y2ggLT4gZnVuIHRpZCAtPgorCQlpZiB0aWQgPD4gVHJh
bnNhY3Rpb24ubm9uZSB0aGVuCisJCQlkZWJ1ZyAiSWdub3JpbmcgdHJhbnNh
Y3Rpb24gSUQgJWQgZm9yIHdhdGNoL3Vud2F0Y2giIHRpZDsKKwkJVHJhbnNh
Y3Rpb24ubm9uZQorCXwgXyAtPiBmdW4geCAtPiB4CisKICgqKgogICogTm90
aHJvdyBndWFyYW50ZWUuCiAgKikKIGxldCBwcm9jZXNzX3BhY2tldCB+c3Rv
cmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAlsZXQgdHkgPSByZXEuUGFj
a2V0LnR5IGluCi0JbGV0IHRpZCA9IHJlcS5QYWNrZXQudGlkIGluCisJbGV0
IHRpZCA9IG1heWJlX2lnbm9yZV90cmFuc2FjdGlvbiB0eSByZXEuUGFja2V0
LnRpZCBpbgogCWxldCByaWQgPSByZXEuUGFja2V0LnJpZCBpbgogCXRyeQog
CQlsZXQgZmN0ID0gZnVuY3Rpb25fb2ZfdHlwZSB0eSBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0002-tools-ocaml-xenstored-check-privilege-for-XS_IS_DOMA.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogY2hlY2sgcHJpdmlsZWdlIGZvciBYU19JU19ET01BSU5fSU5U
Uk9EVUNFRApNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVGhlIFhlbnN0b3JlIGNvbW1hbmQgWFNfSVNfRE9NQUlOX0lO
VFJPRFVDRUQgc2hvdWxkIGJlIHBvc3NpYmxlIGZvciBwcml2aWxlZ2VkCmRv
bWFpbnMgb25seSAodGhlIG9ubHkgdXNlciBpbiB0aGUgdHJlZSBpcyB0aGUg
eGVucGFnaW5nIGRhZW1vbikuCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4K
ClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNp
dHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3Rp
YW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29v
cGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBh
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggMmZhNjc5OGUzYi4uZmQ3
OWVmNTY0ZiAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3By
b2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nlc3Mu
bWwKQEAgLTE2Niw3ICsxNjYsOSBAQCBsZXQgZG9fc2V0cGVybXMgY29uIHQg
X2RvbWFpbnMgX2NvbnMgZGF0YSA9CiBsZXQgZG9fZXJyb3IgX2NvbiBfdCBf
ZG9tYWlucyBfY29ucyBfZGF0YSA9CiAJcmFpc2UgRGVmaW5lLlVua25vd25f
b3BlcmF0aW9uCiAKLWxldCBkb19pc2ludHJvZHVjZWQgX2NvbiBfdCBkb21h
aW5zIF9jb25zIGRhdGEgPQorbGV0IGRvX2lzaW50cm9kdWNlZCBjb24gX3Qg
ZG9tYWlucyBfY29ucyBkYXRhID0KKwlpZiBub3QgKENvbm5lY3Rpb24uaXNf
ZG9tMCBjb24pCisJdGhlbiByYWlzZSBEZWZpbmUuUGVybWlzc2lvbl9kZW5p
ZWQ7CiAJbGV0IGRvbWlkID0KIAkJbWF0Y2ggKHNwbGl0IE5vbmUgJ1wwMDAn
IGRhdGEpIHdpdGgKIAkJfCBkb21pZCA6OiBfIC0+IGludF9vZl9zdHJpbmcg
ZG9taWQK

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0003-tools-ocaml-xenstored-unify-watch-firing.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogdW5pZnkgd2F0Y2ggZmlyaW5nCk1JTUUtVmVyc2lvbjogMS4w
CkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250
ZW50LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGlzIHdpbGwgbWFrZSBp
dCBlYXNpZXIgaW5zZXJ0IGFkZGl0aW9uYWwgY2hlY2tzIGluIGEgZm9sbG93
LXVwIHBhdGNoLgpBbGwgd2F0Y2hlcyBhcmUgbm93IGZpcmVkIGZyb20gYSBz
aW5nbGUgZnVuY3Rpb24uCgpUaGlzIGlzIHBhcnQgb2YgWFNBLTExNS4KClNp
Z25lZC1vZmYtYnk6IEVkd2luIFTDtnLDtmsgPGVkdmluLnRvcm9rQGNpdHJp
eC5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGluZGlnIDxjaHJpc3RpYW4u
bGluZGlnQGNpdHJpeC5jb20+ClJldmlld2VkLWJ5OiBBbmRyZXcgQ29vcGVy
IDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgoKZGlmZiAtLWdpdCBhL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0aW9uLm1sIGIvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKaW5kZXggMjQ3NTBhZGE0My4u
ZTVkZjYyZDllNyAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nv
bm5lY3Rpb24ubWwKQEAgLTIxMCw4ICsyMTAsNyBAQCBsZXQgZmlyZV93YXRj
aCB3YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWxl
dCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxsIFsgbmV3X3BhdGg7IHdhdGNo
LnRva2VuOyAiIiBdIGluCi0Jc2VuZF9yZXBseSB3YXRjaC5jb24gVHJhbnNh
Y3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5XYXRjaGV2ZW50IGRhdGEKKwlm
aXJlX3NpbmdsZV93YXRjaCB7IHdhdGNoIHdpdGggcGF0aCA9IG5ld19wYXRo
IH0KIAogKCogU2VhcmNoIGZvciBhIHZhbGlkIHVudXNlZCB0cmFuc2FjdGlv
biBpZC4gKikKIGxldCByZWMgdmFsaWRfdHJhbnNhY3Rpb25faWQgY29uIHBy
b3Bvc2VkX2lkID0K

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0004-tools-ocaml-xenstored-introduce-permissions-for-spec.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogaW50cm9kdWNlIHBlcm1pc3Npb25zIGZvciBzcGVjaWFsIHdh
dGNoZXMKTUlNRS1WZXJzaW9uOiAxLjAKQ29udGVudC1UeXBlOiB0ZXh0L3Bs
YWluOyBjaGFyc2V0PVVURi04CkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6
IDhiaXQKClRoZSBzcGVjaWFsIHdhdGNoZXMgIkBpbnRyb2R1Y2VEb21haW4i
IGFuZCAiQHJlbGVhc2VEb21haW4iIHNob3VsZCBiZQphbGxvd2VkIGZvciBw
cml2aWxlZ2VkIGNhbGxlcnMgb25seSwgYXMgdGhleSBhbGxvdyB0byBnYWlu
IGluZm9ybWF0aW9uCmFib3V0IHByZXNlbmNlIG9mIG90aGVyIGd1ZXN0cyBv
biB0aGUgaG9zdC4gU28gc2VuZCB3YXRjaCBldmVudHMgZm9yCnRob3NlIHdh
dGNoZXMgdmlhIHByaXZpbGVnZWQgY29ubmVjdGlvbnMgb25seS4KClN0YXJ0
IHRvIGFkZHJlc3MgdGhpcyBieSB0cmVhdGluZyB0aGUgc3BlY2lhbCB3YXRj
aGVzIGFzIHJlZ3VsYXIgbm9kZXMKaW4gdGhlIHRyZWUsIHdoaWNoIGdpdmVz
IHRoZW0gbm9ybWFsIHNlbWFudGljcyBmb3IgcGVybWlzc2lvbnMuICBBIGxh
dGVyCmNoYW5nZSB3aWxsIHJlc3RyaWN0IHRoZSBoYW5kbGluZywgc28gdGhh
dCB0aGV5IGNhbid0IGJlIGxpc3RlZCwgZXRjLgoKVGhpcyBpcyBwYXJ0IG9m
IFhTQS0xMTUuCgpTaWduZWQtb2ZmLWJ5OiBFZHdpbiBUw7Zyw7ZrIDxlZHZp
bi50b3Jva0BjaXRyaXguY29tPgpBY2tlZC1ieTogQ2hyaXN0aWFuIExpbmRp
ZyA8Y2hyaXN0aWFuLmxpbmRpZ0BjaXRyaXguY29tPgpSZXZpZXdlZC1ieTog
QW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcHJvY2Vzcy5tbCBi
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sCmluZGV4IGZkNzll
ZjU2NGYuLmU1MjhkMWVjYjIgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9wcm9jZXNzLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0b3Jl
ZC9wcm9jZXNzLm1sCkBAIC00MjAsNyArNDIwLDcgQEAgbGV0IGRvX2ludHJv
ZHVjZSBjb24gX3QgZG9tYWlucyBjb25zIGRhdGEgPQogCQllbHNlIHRyeQog
CQkJbGV0IG5kb20gPSBEb21haW5zLmNyZWF0ZSBkb21haW5zIGRvbWlkIG1m
biBwb3J0IGluCiAJCQlDb25uZWN0aW9ucy5hZGRfZG9tYWluIGNvbnMgbmRv
bTsKLQkJCUNvbm5lY3Rpb25zLmZpcmVfc3BlY193YXRjaGVzIGNvbnMgIkBp
bnRyb2R1Y2VEb21haW4iOworCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dh
dGNoZXMgY29ucyBTdG9yZS5QYXRoLmludHJvZHVjZV9kb21haW47CiAJCQlu
ZG9tCiAJCXdpdGggXyAtPiByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAJaW4K
QEAgLTQzOSw3ICs0MzksNyBAQCBsZXQgZG9fcmVsZWFzZSBjb24gX3QgZG9t
YWlucyBjb25zIGRhdGEgPQogCURvbWFpbnMuZGVsIGRvbWFpbnMgZG9taWQ7
CiAJQ29ubmVjdGlvbnMuZGVsX2RvbWFpbiBjb25zIGRvbWlkOwogCWlmIGZp
cmVfc3BlY193YXRjaGVzCi0JdGhlbiBDb25uZWN0aW9ucy5maXJlX3NwZWNf
d2F0Y2hlcyBjb25zICJAcmVsZWFzZURvbWFpbiIKKwl0aGVuIENvbm5lY3Rp
b25zLmZpcmVfc3BlY193YXRjaGVzIGNvbnMgU3RvcmUuUGF0aC5yZWxlYXNl
X2RvbWFpbgogCWVsc2UgcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCiBsZXQg
ZG9fcmVzdW1lIGNvbiBfdCBkb21haW5zIF9jb25zIGRhdGEgPQpkaWZmIC0t
Z2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3N0b3JlLm1sIGIvdG9vbHMv
b2NhbWwveGVuc3RvcmVkL3N0b3JlLm1sCmluZGV4IDkyYjYyODliNWUuLjUy
Yjg4YjNlZTEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9z
dG9yZS5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvc3RvcmUubWwK
QEAgLTIxNCw2ICsyMTQsMTEgQEAgbGV0IHJlYyBsb29rdXAgbm9kZSBwYXRo
IGZjdCA9CiAKIGxldCBhcHBseSBybm9kZSBwYXRoIGZjdCA9CiAJbG9va3Vw
IHJub2RlIHBhdGggZmN0CisKK2xldCBpbnRyb2R1Y2VfZG9tYWluID0gIkBp
bnRyb2R1Y2VEb21haW4iCitsZXQgcmVsZWFzZV9kb21haW4gPSAiQHJlbGVh
c2VEb21haW4iCitsZXQgc3BlY2lhbHMgPSBMaXN0Lm1hcCBvZl9zdHJpbmcg
WyBpbnRyb2R1Y2VfZG9tYWluOyByZWxlYXNlX2RvbWFpbiBdCisKIGVuZAog
CiAoKiBUaGUgU3RvcmUudCB0eXBlICopCmRpZmYgLS1naXQgYS90b29scy9v
Y2FtbC94ZW5zdG9yZWQvdXRpbHMubWwgYi90b29scy9vY2FtbC94ZW5zdG9y
ZWQvdXRpbHMubWwKaW5kZXggYjI1MmRiNzk5Yi4uZThjOWZlNGU5NCAxMDA2
NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3V0aWxzLm1sCisrKyBi
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC91dGlscy5tbApAQCAtODgsMTkgKzg4
LDE3IEBAIGxldCByZWFkX2ZpbGVfc2luZ2xlX2ludGVnZXIgZmlsZW5hbWUg
PQogCVVuaXguY2xvc2UgZmQ7CiAJaW50X29mX3N0cmluZyAoQnl0ZXMuc3Vi
X3N0cmluZyBidWYgMCBzeikKIAotbGV0IHBhdGhfY29tcGxldGUgcGF0aCBj
b25uZWN0aW9uX3BhdGggPQotCWlmIFN0cmluZy5nZXQgcGF0aCAwIDw+ICcv
JyB0aGVuCi0JCWNvbm5lY3Rpb25fcGF0aCBeIHBhdGgKLQllbHNlCi0JCXBh
dGgKLQorKCogQHBhdGggbWF5IGJlIGd1ZXN0IGRhdGEgYW5kIG5lZWRzIGl0
cyBsZW5ndGggdmFsaWRhdGluZy4gIEBjb25uZWN0aW9uX3BhdGgKKyAqIGlz
IGdlbmVyYXRlZCBsb2NhbGx5IGluIHhlbnN0b3JlZCBhbmQgYWx3YXlzIG9m
IHRoZSBmb3JtICIvbG9jYWwvZG9tYWluLyROLyIgKikKIGxldCBwYXRoX3Zh
bGlkYXRlIHBhdGggY29ubmVjdGlvbl9wYXRoID0KLQlpZiBTdHJpbmcubGVu
Z3RoIHBhdGggPSAwIHx8IFN0cmluZy5sZW5ndGggcGF0aCA+IDEwMjQgdGhl
bgotCQlyYWlzZSBEZWZpbmUuSW52YWxpZF9wYXRoCi0JZWxzZQotCQlsZXQg
Y3BhdGggPSBwYXRoX2NvbXBsZXRlIHBhdGggY29ubmVjdGlvbl9wYXRoIGlu
Ci0JCWlmIFN0cmluZy5nZXQgY3BhdGggMCA8PiAnLycgdGhlbgotCQkJcmFp
c2UgRGVmaW5lLkludmFsaWRfcGF0aAotCQllbHNlCi0JCQljcGF0aAorCWxl
dCBsZW4gPSBTdHJpbmcubGVuZ3RoIHBhdGggaW4KKworCWlmIGxlbiA9IDAg
fHwgbGVuID4gMTAyNCB0aGVuIHJhaXNlIERlZmluZS5JbnZhbGlkX3BhdGg7
CisKKwlsZXQgYWJzX3BhdGggPQorCQltYXRjaCBTdHJpbmcuZ2V0IHBhdGgg
MCB3aXRoCisJCXwgJy8nIHwgJ0AnIC0+IHBhdGgKKwkJfCBfICAgLT4gY29u
bmVjdGlvbl9wYXRoIF4gcGF0aAorCWluCiAKKwlhYnNfcGF0aApkaWZmIC0t
Z2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbCBiL3Rv
b2xzL29jYW1sL3hlbnN0b3JlZC94ZW5zdG9yZWQubWwKaW5kZXggN2U3ODI0
NzYxYi4uOGQwYzUwYmZhNCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVu
c3RvcmVkL3hlbnN0b3JlZC5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9y
ZWQveGVuc3RvcmVkLm1sCkBAIC0yODYsNiArMjg2LDggQEAgbGV0IF8gPQog
CWxldCBxdWl0ID0gcmVmIGZhbHNlIGluCiAKIAlMb2dnaW5nLmluaXRfeGVu
c3RvcmVkX2xvZygpOworCUxpc3QuaXRlciAoZnVuIHBhdGggLT4KKwkJU3Rv
cmUud3JpdGUgc3RvcmUgUGVybXMuQ29ubmVjdGlvbi5mdWxsX3JpZ2h0cyBw
YXRoICIiKSBTdG9yZS5QYXRoLnNwZWNpYWxzOwogCiAJbGV0IGZpbGVuYW1l
ID0gUGF0aHMueGVuX3J1bl9zdG9yZWQgXiAiL2RiIiBpbgogCWlmIGNmLnJl
c3RhcnQgJiYgU3lzLmZpbGVfZXhpc3RzIGZpbGVuYW1lIHRoZW4gKApAQCAt
MzM1LDcgKzMzNyw3IEBAIGxldCBfID0KIAkJCQkJbGV0IChub3RpZnksIGRl
YWRkb20pID0gRG9tYWlucy5jbGVhbnVwIGRvbWFpbnMgaW4KIAkJCQkJTGlz
dC5pdGVyIChDb25uZWN0aW9ucy5kZWxfZG9tYWluIGNvbnMpIGRlYWRkb207
CiAJCQkJCWlmIGRlYWRkb20gPD4gW10gfHwgbm90aWZ5IHRoZW4KLQkJCQkJ
CUNvbm5lY3Rpb25zLmZpcmVfc3BlY193YXRjaGVzIGNvbnMgIkByZWxlYXNl
RG9tYWluIgorCQkJCQkJQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMg
Y29ucyBTdG9yZS5QYXRoLnJlbGVhc2VfZG9tYWluCiAJCQkJKQogCQkJCWVs
c2UKIAkJCQkJbGV0IGMgPSBDb25uZWN0aW9ucy5maW5kX2RvbWFpbl9ieV9w
b3J0IGNvbnMgcG9ydCBpbgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0005-tools-ocaml-xenstored-avoid-watch-events-for-nodes-w.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYXZvaWQgd2F0Y2ggZXZlbnRzIGZvciBub2RlcyB3aXRob3V0
IGFjY2VzcwpNSU1FLVZlcnNpb246IDEuMApDb250ZW50LVR5cGU6IHRleHQv
cGxhaW47IGNoYXJzZXQ9VVRGLTgKQ29udGVudC1UcmFuc2Zlci1FbmNvZGlu
ZzogOGJpdAoKVG9kYXkgd2F0Y2ggZXZlbnRzIGFyZSBzZW50IHJlZ2FyZGxl
c3Mgb2YgdGhlIGFjY2VzcyByaWdodHMgb2YgdGhlCm5vZGUgdGhlIGV2ZW50
IGlzIHNlbnQgZm9yLiBUaGlzIGVuYWJsZXMgYW55IGd1ZXN0IHRvIGUuZy4g
c2V0dXAgYQp3YXRjaCBmb3IgIi8iIGluIG9yZGVyIHRvIGhhdmUgYSBkZXRh
aWxlZCByZWNvcmQgb2YgYWxsIFhlbnN0b3JlCm1vZGlmaWNhdGlvbnMuCgpN
b2RpZnkgdGhhdCBieSBzZW5kaW5nIG9ubHkgd2F0Y2ggZXZlbnRzIGZvciBu
b2RlcyB0aGF0IHRoZSB3YXRjaGVyCmhhcyBhIGNoYW5jZSB0byBzZWUgb3Ro
ZXJ3aXNlIChlaXRoZXIgdmlhIGRpcmVjdCByZWFkcyBvciBieSBxdWVyeWlu
Zwp0aGUgY2hpbGRyZW4gb2YgYSBub2RlKS4gVGhpcyBpbmNsdWRlcyBjYXNl
cyB3aGVyZSB0aGUgdmlzaWJpbGl0eSBvZgphIG5vZGUgZm9yIGEgd2F0Y2hl
ciBpcyBjaGFuZ2luZyAocGVybWlzc2lvbnMgYmVpbmcgcmVtb3ZlZCkuCgpQ
ZXJtaXNzaW9ucyBmb3Igbm9kZXMgYXJlIGxvb2tlZCB1cCBlaXRoZXIgaW4g
dGhlIG9sZCAocHJlCnRyYW5zYWN0aW9uL2NvbW1hbmQpIG9yIGN1cnJlbnQg
dHJlZXMgKHBvc3QgdHJhbnNhY3Rpb24pLiAgSWYKcGVybWlzc2lvbnMgYXJl
IGNoYW5nZWQgbXVsdGlwbGUgdGltZXMgaW4gYSB0cmFuc2FjdGlvbiBvbmx5
IHRoZSBmaW5hbAp2ZXJzaW9uIGlzIGNoZWNrZWQsIGJlY2F1c2UgY29uc2lk
ZXJpbmcgYSB0cmFuc2FjdGlvbiBhdG9taWMgdGhlCmluZGl2aWR1YWwgcGVy
bWlzc2lvbiBjaGFuZ2VzIHdvdWxkIG5vdCBiZSBub3RpY2FibGUgdG8gYW4g
b3V0c2lkZQpvYnNlcnZlci4KClR3byB0cmVlcyBhcmUgb25seSBuZWVkZWQg
Zm9yIHNldF9wZXJtczogaGVyZSB3ZSBjYW4gZWl0aGVyIG5vdGljZSB0aGUK
bm9kZSBkaXNhcHBlYXJpbmcgKGlmIHdlIGxvb3NlIHBlcm1pc3Npb24pLCBh
cHBlYXJpbmcKKGlmIHdlIGdhaW4gcGVybWlzc2lvbiksIG9yIGNoYW5naW5n
IChpZiB3ZSBwcmVzZXJ2ZSBwZXJtaXNzaW9uKS4KClJNIG5lZWRzIHRvIG9u
bHkgbG9vayBhdCB0aGUgb2xkIHRyZWU6IGluIHRoZSBuZXcgdHJlZSB0aGUg
bm9kZSB3b3VsZCBiZQpnb25lLCBvciBjb3VsZCBoYXZlIGRpZmZlcmVudCBw
ZXJtaXNzaW9ucyBpZiBpdCB3YXMgcmVjcmVhdGVkICh0aGUKcmVjcmVhdGlv
biB3b3VsZCBnZXQgaXRzIG93biB3YXRjaCBmaXJlZCkuCgpJbnNpZGUgYSB0
cmVlIHdlIGxvb2t1cCB0aGUgd2F0Y2ggcGF0aCdzIHBhcmVudCwgYW5kIHRo
ZW4gdGhlIHdhdGNoIHBhdGgKY2hpbGQgaXRzZWxmLiAgVGhpcyBnZXRzIHVz
IDQgc2V0cyBvZiBwZXJtaXNzaW9ucyBpbiB3b3JzdCBjYXNlLCBhbmQgaWYK
ZWl0aGVyIG9mIHRoZXNlIGFsbG93cyBhIHdhdGNoLCB0aGVuIHdlIHBlcm1p
dCBpdCB0byBmaXJlLiAgVGhlCnBlcm1pc3Npb24gbG9va3VwcyBhcmUgZG9u
ZSB3aXRob3V0IGxvZ2dpbmcgdGhlIGZhaWx1cmVzLCBvdGhlcndpc2Ugd2Un
ZApnZXQgY29uZnVzaW5nIGVycm9ycyBhYm91dCBwZXJtaXNzaW9uIGRlbmll
ZCBmb3Igc29tZSBwYXRocywgYnV0IGEgd2F0Y2gKc3RpbGwgZmlyaW5nLiBU
aGUgYWN0dWFsIHJlc3VsdCBpcyBsb2dnZWQgaW4geGVuc3RvcmVkLWFjY2Vz
cyBsb2c6CgogICd3IGV2ZW50IC4uLicgYXMgdXN1YWwgaWYgd2F0Y2ggd2Fz
IGZpcmVkCiAgJ3cgbm90ZmlyZWQuLi4nIGlmIHRoZSB3YXRjaCB3YXMgbm90
IGZpcmVkLCB0b2dldGhlciB3aXRoIHBhdGggYW5kCiAgcGVybWlzc2lvbiBz
ZXQgdG8gaGVscCBpbiB0cm91Ymxlc2hvb3RpbmcKCkFkZGluZyBhIHdhdGNo
IGJ5cGFzc2VzIHBlcm1pc3Npb24gY2hlY2tzIGFuZCBhbHdheXMgZmlyZXMg
dGhlIHdhdGNoCm9uY2UgaW1tZWRpYXRlbHkuIFRoaXMgaXMgY29uc2lzdGVu
dCB3aXRoIHRoZSBzcGVjaWZpY2F0aW9uLCBhbmQgbm8KaW5mb3JtYXRpb24g
aXMgZ2FpbmVkICh0aGUgd2F0Y2ggaXMgZmlyZWQgYm90aCBpZiB0aGUgcGF0
aCBleGlzdHMgb3IKZG9lc24ndCwgYW5kIGJvdGggaWYgeW91IGhhdmUgb3Ig
ZG9uJ3QgaGF2ZSBhY2Nlc3MsIGkuZS4gaXQgcmVmbGVjdHMgdGhlCnBhdGgg
YSBkb21haW4gZ2F2ZSBpdCBiYWNrIHRvIHRoYXQgZG9tYWluKS4KClRoZXJl
IGFyZSBzb21lIHNlbWFudGljIGNoYW5nZXMgaGVyZToKCiAgKiBXcml0ZSty
bSBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBvZiB0aGUgc2FtZSBwYXRoIGlz
IHVub2JzZXJ2YWJsZQogICAgbm93IHZpYSB3YXRjaGVzOiBib3RoIGJlZm9y
ZSBhbmQgYWZ0ZXIgYSB0cmFuc2FjdGlvbiB0aGUgcGF0aAogICAgZG9lc24n
dCBleGlzdCwgdGh1cyBib3RoIHRyZWUgbG9va3VwcyBjb21lIHVwIHdpdGgg
dGhlIGVtcHR5CiAgICBwZXJtaXNzaW9uIHNldCwgYW5kIG5vb25lLCBub3Qg
ZXZlbiBEb20wIGNhbiBzZWUgdGhpcy4gVGhpcyBpcwogICAgY29uc2lzdGVu
dCB3aXRoIHRyYW5zYWN0aW9uIGF0b21pY2l0eSB0aG91Z2guCiAgKiBTaW1p
bGFyIHRvIGFib3ZlIGlmIHdlIHRlbXBvcmFyaWx5IGdyYW50IGFuZCB0aGVu
IHJldm9rZSBwZXJtaXNzaW9uCiAgICBvbiBhIHBhdGggYW55IHdhdGNoZXMg
ZmlyZWQgaW5iZXR3ZWVuIGFyZSBpZ25vcmVkIGFzIHdlbGwKICAqIFRoZXJl
IGlzIGEgbmV3IGxvZyBldmVudCAodyBub3RmaXJlZCkgd2hpY2ggc2hvd3Mg
dGhlIHBlcm1pc3Npb24gc2V0CiAgICBvZiB0aGUgcGF0aCwgYW5kIHRoZSBw
YXRoLgogICogV2F0Y2hlcyBvbiBwYXRocyB0aGF0IGEgZG9tYWluIGRvZXNu
J3QgaGF2ZSBhY2Nlc3MgdG8gYXJlIG5vdyBub3QKICAgIHNlZW4sIHdoaWNo
IGlzIHRoZSBwdXJwb3NlIG9mIHRoZSBzZWN1cml0eSBmaXguCgpUaGlzIGlz
IHBhcnQgb2YgWFNBLTExNS4KClNpZ25lZC1vZmYtYnk6IEVkd2luIFTDtnLD
tmsgPGVkdmluLnRvcm9rQGNpdHJpeC5jb20+CkFja2VkLWJ5OiBDaHJpc3Rp
YW4gTGluZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+ClJldmll
d2VkLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXgu
Y29tPgoKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25u
ZWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24u
bWwKaW5kZXggZTVkZjYyZDllNy4uNjQ0YTQ0OGYyZSAxMDA2NDQKLS0tIGEv
dG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKKysrIGIvdG9v
bHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rpb24ubWwKQEAgLTE5NiwxMSAr
MTk2LDM2IEBAIGxldCBsaXN0X3dhdGNoZXMgY29uID0KIAkJY29uLndhdGNo
ZXMgW10gaW4KIAlMaXN0LmNvbmNhdCBsbAogCi1sZXQgZmlyZV9zaW5nbGVf
d2F0Y2ggd2F0Y2ggPQorbGV0IGRiZyBmbXQgPSBMb2dnaW5nLmRlYnVnICJj
b25uZWN0aW9uIiBmbXQKK2xldCBpbmZvIGZtdCA9IExvZ2dpbmcuaW5mbyAi
Y29ubmVjdGlvbiIgZm10CisKK2xldCBsb29rdXBfd2F0Y2hfcGVybSBwYXRo
ID0gZnVuY3Rpb24KK3wgTm9uZSAtPiBbXQorfCBTb21lIHJvb3QgLT4KKwl0
cnkgU3RvcmUuUGF0aC5hcHBseSByb290IHBhdGggQEAgZnVuIHBhcmVudCBu
YW1lIC0+CisJCVN0b3JlLk5vZGUuZ2V0X3Blcm1zIHBhcmVudCA6OgorCQl0
cnkgW1N0b3JlLk5vZGUuZ2V0X3Blcm1zIChTdG9yZS5Ob2RlLmZpbmQgcGFy
ZW50IG5hbWUpXQorCQl3aXRoIE5vdF9mb3VuZCAtPiBbXQorCXdpdGggRGVm
aW5lLkludmFsaWRfcGF0aCB8IE5vdF9mb3VuZCAtPiBbXQorCitsZXQgbG9v
a3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBwYXRoID0KKwlsb29rdXBf
d2F0Y2hfcGVybSBwYXRoIG9sZHJvb3QgQCBsb29rdXBfd2F0Y2hfcGVybSBw
YXRoIChTb21lIHJvb3QpCisKK2xldCBmaXJlX3NpbmdsZV93YXRjaF91bmNo
ZWNrZWQgd2F0Y2ggPQogCWxldCBkYXRhID0gVXRpbHMuam9pbl9ieV9udWxs
IFt3YXRjaC5wYXRoOyB3YXRjaC50b2tlbjsgIiJdIGluCiAJc2VuZF9yZXBs
eSB3YXRjaC5jb24gVHJhbnNhY3Rpb24ubm9uZSAwIFhlbmJ1cy5YYi5PcC5X
YXRjaGV2ZW50IGRhdGEKIAotbGV0IGZpcmVfd2F0Y2ggd2F0Y2ggcGF0aCA9
CitsZXQgZmlyZV9zaW5nbGVfd2F0Y2ggKG9sZHJvb3QsIHJvb3QpIHdhdGNo
ID0KKwlsZXQgYWJzcGF0aCA9IGdldF93YXRjaF9wYXRoIHdhdGNoLmNvbiB3
YXRjaC5wYXRoIHw+IFN0b3JlLlBhdGgub2Zfc3RyaW5nIGluCisJbGV0IHBl
cm1zID0gbG9va3VwX3dhdGNoX3Blcm1zIG9sZHJvb3Qgcm9vdCBhYnNwYXRo
IGluCisJaWYgTGlzdC5leGlzdHMgKFBlcm1zLmhhcyB3YXRjaC5jb24ucGVy
bSBSRUFEKSBwZXJtcyB0aGVuCisJCWZpcmVfc2luZ2xlX3dhdGNoX3VuY2hl
Y2tlZCB3YXRjaAorCWVsc2UKKwkJbGV0IHBlcm1zID0gcGVybXMgfD4gTGlz
dC5tYXAgKFBlcm1zLk5vZGUudG9fc3RyaW5nIH5zZXA6IiAiKSB8PiBTdHJp
bmcuY29uY2F0ICIsICIgaW4KKwkJbGV0IGNvbiA9IGdldF9kb21zdHIgd2F0
Y2guY29uIGluCisJCUxvZ2dpbmcud2F0Y2hfbm90X2ZpcmVkIH5jb24gcGVy
bXMgKFN0b3JlLlBhdGgudG9fc3RyaW5nIGFic3BhdGgpCisKK2xldCBmaXJl
X3dhdGNoIHJvb3RzIHdhdGNoIHBhdGggPQogCWxldCBuZXdfcGF0aCA9CiAJ
CWlmIHdhdGNoLmlzX3JlbGF0aXZlICYmIHBhdGguWzBdID0gJy8nCiAJCXRo
ZW4gYmVnaW4KQEAgLTIxMCw3ICsyMzUsNyBAQCBsZXQgZmlyZV93YXRjaCB3
YXRjaCBwYXRoID0KIAkJZW5kIGVsc2UKIAkJCXBhdGgKIAlpbgotCWZpcmVf
c2luZ2xlX3dhdGNoIHsgd2F0Y2ggd2l0aCBwYXRoID0gbmV3X3BhdGggfQor
CWZpcmVfc2luZ2xlX3dhdGNoIHJvb3RzIHsgd2F0Y2ggd2l0aCBwYXRoID0g
bmV3X3BhdGggfQogCiAoKiBTZWFyY2ggZm9yIGEgdmFsaWQgdW51c2VkIHRy
YW5zYWN0aW9uIGlkLiAqKQogbGV0IHJlYyB2YWxpZF90cmFuc2FjdGlvbl9p
ZCBjb24gcHJvcG9zZWRfaWQgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwv
eGVuc3RvcmVkL2Nvbm5lY3Rpb25zLm1sIGIvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL2Nvbm5lY3Rpb25zLm1sCmluZGV4IGYyYzQzMThjODguLjlmOWY3ZWUy
ZjAgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9jb25uZWN0
aW9ucy5tbAorKysgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlv
bnMubWwKQEAgLTEzNSwyNSArMTM1LDI2IEBAIGxldCBkZWxfd2F0Y2ggY29u
cyBjb24gcGF0aCB0b2tlbiA9CiAgCXdhdGNoCiAKICgqIHBhdGggaXMgYWJz
b2x1dGUgKikKLWxldCBmaXJlX3dhdGNoZXMgY29ucyBwYXRoIHJlY3Vyc2Ug
PQorbGV0IGZpcmVfd2F0Y2hlcyA/b2xkcm9vdCByb290IGNvbnMgcGF0aCBy
ZWN1cnNlID0KIAlsZXQga2V5ID0ga2V5X29mX3BhdGggcGF0aCBpbgogCWxl
dCBwYXRoID0gU3RvcmUuUGF0aC50b19zdHJpbmcgcGF0aCBpbgorCWxldCBy
b290cyA9IG9sZHJvb3QsIHJvb3QgaW4KIAlsZXQgZmlyZV93YXRjaCBfID0g
ZnVuY3Rpb24KIAkJfCBOb25lICAgICAgICAgLT4gKCkKLQkJfCBTb21lIHdh
dGNoZXMgLT4gTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZpcmVf
d2F0Y2ggdyBwYXRoKSB3YXRjaGVzCisJCXwgU29tZSB3YXRjaGVzIC0+IExp
c3QuaXRlciAoZnVuIHcgLT4gQ29ubmVjdGlvbi5maXJlX3dhdGNoIHJvb3Rz
IHcgcGF0aCkgd2F0Y2hlcwogCWluCiAJbGV0IGZpcmVfcmVjIF94ID0gZnVu
Y3Rpb24KIAkJfCBOb25lICAgICAgICAgLT4gKCkKIAkJfCBTb21lIHdhdGNo
ZXMgLT4KLQkJCSAgTGlzdC5pdGVyIChmdW4gdyAtPiBDb25uZWN0aW9uLmZp
cmVfc2luZ2xlX3dhdGNoIHcpIHdhdGNoZXMKKwkJCUxpc3QuaXRlciAoQ29u
bmVjdGlvbi5maXJlX3NpbmdsZV93YXRjaCByb290cykgd2F0Y2hlcwogCWlu
CiAJVHJpZS5pdGVyX3BhdGggZmlyZV93YXRjaCBjb25zLndhdGNoZXMga2V5
OwogCWlmIHJlY3Vyc2UgdGhlbgogCQlUcmllLml0ZXIgZmlyZV9yZWMgKFRy
aWUuc3ViIGNvbnMud2F0Y2hlcyBrZXkpCiAKLWxldCBmaXJlX3NwZWNfd2F0
Y2hlcyBjb25zIHNwZWNwYXRoID0KK2xldCBmaXJlX3NwZWNfd2F0Y2hlcyBy
b290IGNvbnMgc3BlY3BhdGggPQogCWl0ZXIgY29ucyAoZnVuIGNvbiAtPgot
CQlMaXN0Lml0ZXIgKGZ1biB3IC0+IENvbm5lY3Rpb24uZmlyZV9zaW5nbGVf
d2F0Y2ggdykgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNwZWNwYXRo
KSkKKwkJTGlzdC5pdGVyIChDb25uZWN0aW9uLmZpcmVfc2luZ2xlX3dhdGNo
IChOb25lLCByb290KSkgKENvbm5lY3Rpb24uZ2V0X3dhdGNoZXMgY29uIHNw
ZWNwYXRoKSkKIAogbGV0IHNldF90YXJnZXQgY29ucyBkb21haW4gdGFyZ2V0
X2RvbWFpbiA9CiAJbGV0IGNvbiA9IGZpbmRfZG9tYWluIGNvbnMgZG9tYWlu
IGluCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvbG9nZ2lu
Zy5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCmluZGV4
IGM1Y2JhNzllOTIuLjFlZGUxMzEzMjkgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9sb2dnaW5nLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC9sb2dnaW5nLm1sCkBAIC0xNjEsNiArMTYxLDggQEAgbGV0IHhl
bnN0b3JlZF9sb2dfbmJfbGluZXMgPSByZWYgMTMyMTUKIGxldCB4ZW5zdG9y
ZWRfbG9nX25iX2NoYXJzID0gcmVmICgtMSkKIGxldCB4ZW5zdG9yZWRfbG9n
Z2VyID0gcmVmIChOb25lOiBsb2dnZXIgb3B0aW9uKQogCitsZXQgZGVidWdf
ZW5hYmxlZCAoKSA9ICF4ZW5zdG9yZWRfbG9nX2xldmVsID0gRGVidWcKKwog
bGV0IHNldF94ZW5zdG9yZWRfbG9nX2Rlc3RpbmF0aW9uIHMgPQogCXhlbnN0
b3JlZF9sb2dfZGVzdGluYXRpb24gOj0gbG9nX2Rlc3RpbmF0aW9uX29mX3N0
cmluZyBzCiAKQEAgLTIwNCw2ICsyMDYsNyBAQCB0eXBlIGFjY2Vzc190eXBl
ID0KIAl8IENvbW1pdAogCXwgTmV3Y29ubgogCXwgRW5kY29ubgorCXwgV2F0
Y2hfbm90X2ZpcmVkCiAJfCBYYk9wIG9mIFhlbmJ1cy5YYi5PcC5vcGVyYXRp
b24KIAogbGV0IHN0cmluZ19vZl90aWQgfmNvbiB0aWQgPQpAQCAtMjE3LDYg
KzIyMCw3IEBAIGxldCBzdHJpbmdfb2ZfYWNjZXNzX3R5cGUgPSBmdW5jdGlv
bgogCXwgQ29tbWl0ICAgICAgICAgICAgICAgICAgLT4gImNvbW1pdCAgICIK
IAl8IE5ld2Nvbm4gICAgICAgICAgICAgICAgIC0+ICJuZXdjb25uICAiCiAJ
fCBFbmRjb25uICAgICAgICAgICAgICAgICAtPiAiZW5kY29ubiAgIgorCXwg
V2F0Y2hfbm90X2ZpcmVkICAgICAgICAgLT4gIncgbm90ZmlyZWQiCiAKIAl8
IFhiT3Agb3AgLT4gbWF0Y2ggb3Agd2l0aAogCXwgWGVuYnVzLlhiLk9wLkRl
YnVnICAgICAgICAgICAgIC0+ICJkZWJ1ZyAgICAiCkBAIC0zMzEsMyArMzM1
LDcgQEAgbGV0IHhiX2Fuc3dlciB+dGlkIH5jb24gfnR5IGRhdGEgPQogCQl8
IF8gLT4gZmFsc2UsIERlYnVnCiAJaW4KIAlpZiBwcmludCB0aGVuIGFjY2Vz
c19sb2dnaW5nIH50aWQgfmNvbiB+ZGF0YSAoWGJPcCB0eSkgfmxldmVsCisK
K2xldCB3YXRjaF9ub3RfZmlyZWQgfmNvbiBwZXJtcyBwYXRoID0KKwlsZXQg
ZGF0YSA9IFByaW50Zi5zcHJpbnRmICJFUEVSTSBwZXJtcz1bJXNdIHBhdGg9
JXMiIHBlcm1zIHBhdGggaW4KKwlhY2Nlc3NfbG9nZ2luZyB+dGlkOjAgfmNv
biB+ZGF0YSBXYXRjaF9ub3RfZmlyZWQgfmxldmVsOkluZm8KZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wZXJtcy5tbCBiL3Rvb2xzL29j
YW1sL3hlbnN0b3JlZC9wZXJtcy5tbAppbmRleCAzZWExOTNlYTE0Li4yM2I4
MGFiYTNkIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Blcm1zLm1sCkBA
IC03OSw5ICs3OSw5IEBAIGxldCBvZl9zdHJpbmcgcyA9CiBsZXQgc3RyaW5n
X29mX3Blcm0gcGVybSA9CiAJUHJpbnRmLnNwcmludGYgIiVjJXUiIChjaGFy
X29mX3Blcm10eSAoc25kIHBlcm0pKSAoZnN0IHBlcm0pCiAKLWxldCB0b19z
dHJpbmcgcGVybXZlYyA9CitsZXQgdG9fc3RyaW5nID8oc2VwPSJcMDAwIikg
cGVybXZlYyA9CiAJbGV0IGwgPSAoKHBlcm12ZWMub3duZXIsIHBlcm12ZWMu
b3RoZXIpIDo6IHBlcm12ZWMuYWNsKSBpbgotCVN0cmluZy5jb25jYXQgIlww
MDAiIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQorCVN0cmluZy5jb25j
YXQgc2VwIChMaXN0Lm1hcCBzdHJpbmdfb2ZfcGVybSBsKQogCiBlbmQKIApA
QCAtMTMyLDggKzEzMiw4IEBAIGxldCBjaGVja19vd25lciAoY29ubmVjdGlv
bjpDb25uZWN0aW9uLnQpIChub2RlOk5vZGUudCkgPQogCXRoZW4gQ29ubmVj
dGlvbi5pc19vd25lciBjb25uZWN0aW9uIChOb2RlLmdldF9vd25lciBub2Rl
KQogCWVsc2UgdHJ1ZQogCi0oKiBjaGVjayBpZiB0aGUgY3VycmVudCBjb25u
ZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1cnJlbnQg
bm9kZSAqKQotbGV0IGNoZWNrIChjb25uZWN0aW9uOkNvbm5lY3Rpb24udCkg
cmVxdWVzdCAobm9kZTpOb2RlLnQpID0KKygqIGNoZWNrIGlmIHRoZSBjdXJy
ZW50IGNvbm5lY3Rpb24gbGFja3MgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRo
ZSBjdXJyZW50IG5vZGUgKikKK2xldCBsYWNrcyAoY29ubmVjdGlvbjpDb25u
ZWN0aW9uLnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJbGV0IGNoZWNr
X2FjbCBkb21haW5pZCA9CiAJCWxldCBwZXJtID0KIAkJCWlmIExpc3QubWVt
X2Fzc29jIGRvbWFpbmlkIChOb2RlLmdldF9hY2wgbm9kZSkKQEAgLTE1NCwx
MSArMTU0LDE5IEBAIGxldCBjaGVjayAoY29ubmVjdGlvbjpDb25uZWN0aW9u
LnQpIHJlcXVlc3QgKG5vZGU6Tm9kZS50KSA9CiAJCQlpbmZvICJQZXJtaXNz
aW9uIGRlbmllZDogRG9tYWluICVkIGhhcyB3cml0ZSBvbmx5IGFjY2VzcyIg
ZG9tYWluaWQ7CiAJCQlmYWxzZQogCWluCi0JaWYgIWFjdGl2YXRlCisJIWFj
dGl2YXRlCiAJJiYgbm90IChDb25uZWN0aW9uLmlzX2RvbTAgY29ubmVjdGlv
bikKIAkmJiBub3QgKGNoZWNrX293bmVyIGNvbm5lY3Rpb24gbm9kZSkKIAkm
JiBub3QgKExpc3QuZXhpc3RzIGNoZWNrX2FjbCAoQ29ubmVjdGlvbi5nZXRf
b3duZXJzIGNvbm5lY3Rpb24pKQorCisoKiBjaGVjayBpZiB0aGUgY3VycmVu
dCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0gb24gdGhlIGN1
cnJlbnQgbm9kZS4KKyogIFJhaXNlcyBhbiBleGNlcHRpb24gaWYgaXQgZG9l
c24ndC4gKikKK2xldCBjaGVjayBjb25uZWN0aW9uIHJlcXVlc3Qgbm9kZSA9
CisJaWYgbGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUKIAl0aGVuIHJh
aXNlIERlZmluZS5QZXJtaXNzaW9uX2RlbmllZAogCisoKiBjaGVjayBpZiB0
aGUgY3VycmVudCBjb25uZWN0aW9uIGhhcyB0aGUgcmVxdWVzdGVkIHBlcm0g
b24gdGhlIGN1cnJlbnQgbm9kZSAqKQorbGV0IGhhcyBjb25uZWN0aW9uIHJl
cXVlc3Qgbm9kZSA9IG5vdCAobGFja3MgY29ubmVjdGlvbiByZXF1ZXN0IG5v
ZGUpCisKIGxldCBlcXVpdiBwZXJtMSBwZXJtMiA9CiAJKE5vZGUudG9fc3Ry
aW5nIHBlcm0xKSA9IChOb2RlLnRvX3N0cmluZyBwZXJtMikKZGlmZiAtLWdp
dCBhL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC9wcm9jZXNzLm1sIGIvdG9vbHMv
b2NhbWwveGVuc3RvcmVkL3Byb2Nlc3MubWwKaW5kZXggZTUyOGQxZWNiMi4u
Zjk5YjllOTM1YyAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3RvcmVk
L3Byb2Nlc3MubWwKKysrIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3Byb2Nl
c3MubWwKQEAgLTU2LDE1ICs1NiwxNyBAQCBsZXQgc3BsaXRfb25lX3BhdGgg
ZGF0YSBjb24gPQogCXwgcGF0aCA6OiAiIiA6OiBbXSAtPiBTdG9yZS5QYXRo
LmNyZWF0ZSBwYXRoIChDb25uZWN0aW9uLmdldF9wYXRoIGNvbikKIAl8IF8g
ICAgICAgICAgICAgICAgLT4gcmFpc2UgSW52YWxpZF9DbWRfQXJncwogCi1s
ZXQgcHJvY2Vzc193YXRjaCBvcHMgY29ucyA9CitsZXQgcHJvY2Vzc193YXRj
aCB0IGNvbnMgPQorCWxldCBvbGRyb290ID0gdC5UcmFuc2FjdGlvbi5vbGRy
b290IGluCisJbGV0IG5ld3Jvb3QgPSBTdG9yZS5nZXRfcm9vdCB0LnN0b3Jl
IGluCisJbGV0IG9wcyA9IFRyYW5zYWN0aW9uLmdldF9wYXRocyB0IHw+IExp
c3QucmV2IGluCiAJbGV0IGRvX29wX3dhdGNoIG9wIGNvbnMgPQotCQlsZXQg
cmVjdXJzZSA9IG1hdGNoIChmc3Qgb3ApIHdpdGgKLQkJfCBYZW5idXMuWGIu
T3AuV3JpdGUgICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuTWtkaXIg
ICAgLT4gZmFsc2UKLQkJfCBYZW5idXMuWGIuT3AuUm0gICAgICAgLT4gdHJ1
ZQotCQl8IFhlbmJ1cy5YYi5PcC5TZXRwZXJtcyAtPiBmYWxzZQorCQlsZXQg
cmVjdXJzZSwgb2xkcm9vdCwgcm9vdCA9IG1hdGNoIChmc3Qgb3ApIHdpdGgK
KwkJfCBYZW5idXMuWGIuT3AuV3JpdGV8WGVuYnVzLlhiLk9wLk1rZGlyIC0+
IGZhbHNlLCBOb25lLCBuZXdyb290CisJCXwgWGVuYnVzLlhiLk9wLlJtICAg
ICAgIC0+IHRydWUsIE5vbmUsIG9sZHJvb3QKKwkJfCBYZW5idXMuWGIuT3Au
U2V0cGVybXMgLT4gZmFsc2UsIFNvbWUgb2xkcm9vdCwgbmV3cm9vdAogCQl8
IF8gICAgICAgICAgICAgIC0+IHJhaXNlIChGYWlsdXJlICJodWggPyIpIGlu
Ci0JCUNvbm5lY3Rpb25zLmZpcmVfd2F0Y2hlcyBjb25zIChzbmQgb3ApIHJl
Y3Vyc2UgaW4KKwkJQ29ubmVjdGlvbnMuZmlyZV93YXRjaGVzID9vbGRyb290
IHJvb3QgY29ucyAoc25kIG9wKSByZWN1cnNlIGluCiAJTGlzdC5pdGVyIChm
dW4gb3AgLT4gZG9fb3Bfd2F0Y2ggb3AgY29ucykgb3BzCiAKIGxldCBjcmVh
dGVfaW1wbGljaXRfcGF0aCB0IHBlcm0gcGF0aCA9CkBAIC0yMDUsNyArMjA3
LDcgQEAgbGV0IHJlcGx5X2FjayBmY3QgY29uIHQgZG9tcyBjb25zIGRhdGEg
PQogCWZjdCBjb24gdCBkb21zIGNvbnMgZGF0YTsKIAlQYWNrZXQuQWNrIChm
dW4gKCkgLT4KIAkJaWYgVHJhbnNhY3Rpb24uZ2V0X2lkIHQgPSBUcmFuc2Fj
dGlvbi5ub25lIHRoZW4KLQkJCXByb2Nlc3Nfd2F0Y2ggKFRyYW5zYWN0aW9u
LmdldF9wYXRocyB0KSBjb25zCisJCQlwcm9jZXNzX3dhdGNoIHQgY29ucwog
CSkKIAogbGV0IHJlcGx5X2RhdGEgZmN0IGNvbiB0IGRvbXMgY29ucyBkYXRh
ID0KQEAgLTM1MywxNCArMzU1LDE3IEBAIGxldCB0cmFuc2FjdGlvbl9yZXBs
YXkgYyB0IGRvbXMgY29ucyA9CiAJCQlpZ25vcmUgQEAgQ29ubmVjdGlvbi5l
bmRfdHJhbnNhY3Rpb24gYyB0aWQgTm9uZQogCQkpCiAKLWxldCBkb193YXRj
aCBjb24gX3QgX2RvbWFpbnMgY29ucyBkYXRhID0KK2xldCBkb193YXRjaCBj
b24gdCBfZG9tYWlucyBjb25zIGRhdGEgPQogCWxldCAobm9kZSwgdG9rZW4p
ID0KIAkJbWF0Y2ggKHNwbGl0IE5vbmUgJ1wwMDAnIGRhdGEpIHdpdGgKIAkJ
fCBbbm9kZTsgdG9rZW47ICIiXSAgIC0+IG5vZGUsIHRva2VuCiAJCXwgXyAg
ICAgICAgICAgICAgICAgICAtPiByYWlzZSBJbnZhbGlkX0NtZF9BcmdzCiAJ
CWluCiAJbGV0IHdhdGNoID0gQ29ubmVjdGlvbnMuYWRkX3dhdGNoIGNvbnMg
Y29uIG5vZGUgdG9rZW4gaW4KLQlQYWNrZXQuQWNrIChmdW4gKCkgLT4gQ29u
bmVjdGlvbi5maXJlX3NpbmdsZV93YXRjaCB3YXRjaCkKKwlQYWNrZXQuQWNr
IChmdW4gKCkgLT4KKwkJKCogeGVuc3RvcmUudHh0IHNheXMgdGhpcyB3YXRj
aCBpcyBmaXJlZCBpbW1lZGlhdGVseSwKKwkJICAgaW1wbHlpbmcgZXZlbiBp
ZiBwYXRoIGRvZXNuJ3QgZXhpc3Qgb3IgaXMgdW5yZWFkYWJsZSAqKQorCQlD
b25uZWN0aW9uLmZpcmVfc2luZ2xlX3dhdGNoX3VuY2hlY2tlZCB3YXRjaCkK
IAogbGV0IGRvX3Vud2F0Y2ggY29uIF90IF9kb21haW5zIGNvbnMgZGF0YSA9
CiAJbGV0IChub2RlLCB0b2tlbikgPQpAQCAtMzkxLDcgKzM5Niw3IEBAIGxl
dCBkb190cmFuc2FjdGlvbl9lbmQgY29uIHQgZG9tYWlucyBjb25zIGRhdGEg
PQogCWlmIG5vdCBzdWNjZXNzIHRoZW4KIAkJcmFpc2UgVHJhbnNhY3Rpb25f
YWdhaW47CiAJaWYgY29tbWl0IHRoZW4gYmVnaW4KLQkJcHJvY2Vzc193YXRj
aCAoTGlzdC5yZXYgKFRyYW5zYWN0aW9uLmdldF9wYXRocyB0KSkgY29uczsK
KwkJcHJvY2Vzc193YXRjaCB0IGNvbnM7CiAJCW1hdGNoIHQuVHJhbnNhY3Rp
b24udHkgd2l0aAogCQl8IFRyYW5zYWN0aW9uLk5vIC0+CiAJCQkoKSAoKiBu
byBuZWVkIHRvIHJlY29yZCBhbnl0aGluZyAqKQpAQCAtMzk5LDcgKzQwNCw3
IEBAIGxldCBkb190cmFuc2FjdGlvbl9lbmQgY29uIHQgZG9tYWlucyBjb25z
IGRhdGEgPQogCQkJcmVjb3JkX2NvbW1pdCB+Y29uIH50aWQ6aWQgfmJlZm9y
ZTpvbGRzdG9yZSB+YWZ0ZXI6Y3N0b3JlCiAJZW5kCiAKLWxldCBkb19pbnRy
b2R1Y2UgY29uIF90IGRvbWFpbnMgY29ucyBkYXRhID0KK2xldCBkb19pbnRy
b2R1Y2UgY29uIHQgZG9tYWlucyBjb25zIGRhdGEgPQogCWlmIG5vdCAoQ29u
bmVjdGlvbi5pc19kb20wIGNvbikKIAl0aGVuIHJhaXNlIERlZmluZS5QZXJt
aXNzaW9uX2RlbmllZDsKIAlsZXQgKGRvbWlkLCBtZm4sIHBvcnQpID0KQEAg
LTQyMCwxNCArNDI1LDE0IEBAIGxldCBkb19pbnRyb2R1Y2UgY29uIF90IGRv
bWFpbnMgY29ucyBkYXRhID0KIAkJZWxzZSB0cnkKIAkJCWxldCBuZG9tID0g
RG9tYWlucy5jcmVhdGUgZG9tYWlucyBkb21pZCBtZm4gcG9ydCBpbgogCQkJ
Q29ubmVjdGlvbnMuYWRkX2RvbWFpbiBjb25zIG5kb207Ci0JCQlDb25uZWN0
aW9ucy5maXJlX3NwZWNfd2F0Y2hlcyBjb25zIFN0b3JlLlBhdGguaW50cm9k
dWNlX2RvbWFpbjsKKwkJCUNvbm5lY3Rpb25zLmZpcmVfc3BlY193YXRjaGVz
IChUcmFuc2FjdGlvbi5nZXRfcm9vdCB0KSBjb25zIFN0b3JlLlBhdGguaW50
cm9kdWNlX2RvbWFpbjsKIAkJCW5kb20KIAkJd2l0aCBfIC0+IHJhaXNlIElu
dmFsaWRfQ21kX0FyZ3MKIAlpbgogCWlmIChEb21haW4uZ2V0X3JlbW90ZV9w
b3J0IGRvbSkgPD4gcG9ydCB8fCAoRG9tYWluLmdldF9tZm4gZG9tKSA8PiBt
Zm4gdGhlbgogCQlyYWlzZSBEb21haW5fbm90X21hdGNoCiAKLWxldCBkb19y
ZWxlYXNlIGNvbiBfdCBkb21haW5zIGNvbnMgZGF0YSA9CitsZXQgZG9fcmVs
ZWFzZSBjb24gdCBkb21haW5zIGNvbnMgZGF0YSA9CiAJaWYgbm90IChDb25u
ZWN0aW9uLmlzX2RvbTAgY29uKQogCXRoZW4gcmFpc2UgRGVmaW5lLlBlcm1p
c3Npb25fZGVuaWVkOwogCWxldCBkb21pZCA9CkBAIC00MzksNyArNDQ0LDcg
QEAgbGV0IGRvX3JlbGVhc2UgY29uIF90IGRvbWFpbnMgY29ucyBkYXRhID0K
IAlEb21haW5zLmRlbCBkb21haW5zIGRvbWlkOwogCUNvbm5lY3Rpb25zLmRl
bF9kb21haW4gY29ucyBkb21pZDsKIAlpZiBmaXJlX3NwZWNfd2F0Y2hlcwot
CXRoZW4gQ29ubmVjdGlvbnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9y
ZS5QYXRoLnJlbGVhc2VfZG9tYWluCisJdGhlbiBDb25uZWN0aW9ucy5maXJl
X3NwZWNfd2F0Y2hlcyAoVHJhbnNhY3Rpb24uZ2V0X3Jvb3QgdCkgY29ucyBT
dG9yZS5QYXRoLnJlbGVhc2VfZG9tYWluCiAJZWxzZSByYWlzZSBJbnZhbGlk
X0NtZF9BcmdzCiAKIGxldCBkb19yZXN1bWUgY29uIF90IGRvbWFpbnMgX2Nv
bnMgZGF0YSA9CkBAIC01MDcsNiArNTEyLDggQEAgbGV0IG1heWJlX2lnbm9y
ZV90cmFuc2FjdGlvbiA9IGZ1bmN0aW9uCiAJCVRyYW5zYWN0aW9uLm5vbmUK
IAl8IF8gLT4gZnVuIHggLT4geAogCisKK2xldCAoKSA9IFByaW50ZXhjLnJl
Y29yZF9iYWNrdHJhY2UgdHJ1ZQogKCoqCiAgKiBOb3Rocm93IGd1YXJhbnRl
ZS4KICAqKQpAQCAtNTQ4LDcgKzU1NSw4IEBAIGxldCBwcm9jZXNzX3BhY2tl
dCB+c3RvcmUgfmNvbnMgfmRvbXMgfmNvbiB+cmVxID0KIAkJKCogUHV0IHRo
ZSByZXNwb25zZSBvbiB0aGUgd2lyZSAqKQogCQlzZW5kX3Jlc3BvbnNlIHR5
IGNvbiB0IHJpZCByZXNwb25zZQogCXdpdGggZXhuIC0+Ci0JCWVycm9yICJw
cm9jZXNzIHBhY2tldDogJXMiIChQcmludGV4Yy50b19zdHJpbmcgZXhuKTsK
KwkJbGV0IGJ0ID0gUHJpbnRleGMuZ2V0X2JhY2t0cmFjZSAoKSBpbgorCQll
cnJvciAicHJvY2VzcyBwYWNrZXQ6ICVzLiAlcyIgKFByaW50ZXhjLnRvX3N0
cmluZyBleG4pIGJ0OwogCQlDb25uZWN0aW9uLnNlbmRfZXJyb3IgY29uIHRp
ZCByaWQgIkVJTyIKIAogbGV0IGRvX2lucHV0IHN0b3JlIGNvbnMgZG9tcyBj
b24gPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3RyYW5z
YWN0aW9uLm1sIGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3RyYW5zYWN0aW9u
Lm1sCmluZGV4IDk2MzczNGE2NTMuLjI1YmM4YzNiNGEgMTAwNjQ0Ci0tLSBh
L3Rvb2xzL29jYW1sL3hlbnN0b3JlZC90cmFuc2FjdGlvbi5tbAorKysgYi90
b29scy9vY2FtbC94ZW5zdG9yZWQvdHJhbnNhY3Rpb24ubWwKQEAgLTgyLDYg
KzgyLDcgQEAgdHlwZSB0ID0gewogCXN0YXJ0X2NvdW50OiBpbnQ2NDsKIAlz
dG9yZTogU3RvcmUudDsgKCogVGhpcyBpcyB0aGUgc3RvcmUgdGhhdCB3ZSBj
aGFuZ2UgaW4gd3JpdGUgb3BlcmF0aW9ucy4gKikKIAlxdW90YTogUXVvdGEu
dDsKKwlvbGRyb290OiBTdG9yZS5Ob2RlLnQ7CiAJbXV0YWJsZSBwYXRoczog
KFhlbmJ1cy5YYi5PcC5vcGVyYXRpb24gKiBTdG9yZS5QYXRoLnQpIGxpc3Q7
CiAJbXV0YWJsZSBvcGVyYXRpb25zOiAoUGFja2V0LnJlcXVlc3QgKiBQYWNr
ZXQucmVzcG9uc2UpIGxpc3Q7CiAJbXV0YWJsZSByZWFkX2xvd3BhdGg6IFN0
b3JlLlBhdGgudCBvcHRpb247CkBAIC0xMjMsNiArMTI0LDcgQEAgbGV0IG1h
a2UgPyhpbnRlcm5hbD1mYWxzZSkgaWQgc3RvcmUgPQogCQlzdGFydF9jb3Vu
dCA9ICFjb3VudGVyOwogCQlzdG9yZSA9IGlmIGlkID0gbm9uZSB0aGVuIHN0
b3JlIGVsc2UgU3RvcmUuY29weSBzdG9yZTsKIAkJcXVvdGEgPSBRdW90YS5j
b3B5IHN0b3JlLlN0b3JlLnF1b3RhOworCQlvbGRyb290ID0gU3RvcmUuZ2V0
X3Jvb3Qgc3RvcmU7CiAJCXBhdGhzID0gW107CiAJCW9wZXJhdGlvbnMgPSBb
XTsKIAkJcmVhZF9sb3dwYXRoID0gTm9uZTsKQEAgLTEzNyw2ICsxMzksOCBA
QCBsZXQgbWFrZSA/KGludGVybmFsPWZhbHNlKSBpZCBzdG9yZSA9CiBsZXQg
Z2V0X3N0b3JlIHQgPSB0LnN0b3JlCiBsZXQgZ2V0X3BhdGhzIHQgPSB0LnBh
dGhzCiAKK2xldCBnZXRfcm9vdCB0ID0gU3RvcmUuZ2V0X3Jvb3QgdC5zdG9y
ZQorCiBsZXQgaXNfcmVhZF9vbmx5IHQgPSB0LnBhdGhzID0gW10KIGxldCBh
ZGRfd29wIHQgdHkgcGF0aCA9IHQucGF0aHMgPC0gKHR5LCBwYXRoKSA6OiB0
LnBhdGhzCiBsZXQgYWRkX29wZXJhdGlvbiB+cGVybSB0IHJlcXVlc3QgcmVz
cG9uc2UgPQpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hl
bnN0b3JlZC5tbCBiL3Rvb2xzL29jYW1sL3hlbnN0b3JlZC94ZW5zdG9yZWQu
bWwKaW5kZXggOGQwYzUwYmZhNC4uZjdiODgwNjViYiAxMDA2NDQKLS0tIGEv
dG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAorKysgYi90b29s
cy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCkBAIC0zMzcsNyArMzM3
LDkgQEAgbGV0IF8gPQogCQkJCQlsZXQgKG5vdGlmeSwgZGVhZGRvbSkgPSBE
b21haW5zLmNsZWFudXAgZG9tYWlucyBpbgogCQkJCQlMaXN0Lml0ZXIgKENv
bm5lY3Rpb25zLmRlbF9kb21haW4gY29ucykgZGVhZGRvbTsKIAkJCQkJaWYg
ZGVhZGRvbSA8PiBbXSB8fCBub3RpZnkgdGhlbgotCQkJCQkJQ29ubmVjdGlv
bnMuZmlyZV9zcGVjX3dhdGNoZXMgY29ucyBTdG9yZS5QYXRoLnJlbGVhc2Vf
ZG9tYWluCisJCQkJCQlDb25uZWN0aW9ucy5maXJlX3NwZWNfd2F0Y2hlcwor
CQkJCQkJCShTdG9yZS5nZXRfcm9vdCBzdG9yZSkKKwkJCQkJCQljb25zIFN0
b3JlLlBhdGgucmVsZWFzZV9kb21haW4KIAkJCQkpCiAJCQkJZWxzZQogCQkJ
CQlsZXQgYyA9IENvbm5lY3Rpb25zLmZpbmRfZG9tYWluX2J5X3BvcnQgY29u
cyBwb3J0IGluCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa115-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Disposition: attachment;
 filename="xsa115-o/0006-tools-ocaml-xenstored-add-xenstored.conf-flag-to-tur.patch"
Content-Transfer-Encoding: base64

RnJvbTogPT9VVEYtOD9xP0Vkd2luPTIwVD1DMz1CNnI9QzM9QjZrPz0gPGVk
dmluLnRvcm9rQGNpdHJpeC5jb20+ClN1YmplY3Q6IHRvb2xzL29jYW1sL3hl
bnN0b3JlZDogYWRkIHhlbnN0b3JlZC5jb25mIGZsYWcgdG8gdHVybiBvZmYg
d2F0Y2gKIHBlcm1pc3Npb24gY2hlY2tzCk1JTUUtVmVyc2lvbjogMS4wCkNv
bnRlbnQtVHlwZTogdGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOApDb250ZW50
LVRyYW5zZmVyLUVuY29kaW5nOiA4Yml0CgpUaGVyZSBhcmUgZmxhZ3MgdG8g
dHVybiBvZmYgcXVvdGFzIGFuZCB0aGUgcGVybWlzc2lvbiBzeXN0ZW0sIHNv
IGFkZCBvbmUKdGhhdCB0dXJucyBvZmYgdGhlIG5ld2x5IGludHJvZHVjZWQg
d2F0Y2ggcGVybWlzc2lvbiBjaGVja3MgYXMgd2VsbC4KClRoaXMgaXMgcGFy
dCBvZiBYU0EtMTE1LgoKU2lnbmVkLW9mZi1ieTogRWR3aW4gVMO2csO2ayA8
ZWR2aW4udG9yb2tAY2l0cml4LmNvbT4KQWNrZWQtYnk6IENocmlzdGlhbiBM
aW5kaWcgPGNocmlzdGlhbi5saW5kaWdAY2l0cml4LmNvbT4KUmV2aWV3ZWQt
Ynk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+
CgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwveGVuc3RvcmVkL2Nvbm5lY3Rp
b24ubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApp
bmRleCA2NDRhNDQ4ZjJlLi5mYTBkM2M0ZDkyIDEwMDY0NAotLS0gYS90b29s
cy9vY2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbAorKysgYi90b29scy9v
Y2FtbC94ZW5zdG9yZWQvY29ubmVjdGlvbi5tbApAQCAtMjE4LDcgKzIxOCw3
IEBAIGxldCBmaXJlX3NpbmdsZV93YXRjaF91bmNoZWNrZWQgd2F0Y2ggPQog
bGV0IGZpcmVfc2luZ2xlX3dhdGNoIChvbGRyb290LCByb290KSB3YXRjaCA9
CiAJbGV0IGFic3BhdGggPSBnZXRfd2F0Y2hfcGF0aCB3YXRjaC5jb24gd2F0
Y2gucGF0aCB8PiBTdG9yZS5QYXRoLm9mX3N0cmluZyBpbgogCWxldCBwZXJt
cyA9IGxvb2t1cF93YXRjaF9wZXJtcyBvbGRyb290IHJvb3QgYWJzcGF0aCBp
bgotCWlmIExpc3QuZXhpc3RzIChQZXJtcy5oYXMgd2F0Y2guY29uLnBlcm0g
UkVBRCkgcGVybXMgdGhlbgorCWlmIFBlcm1zLmNhbl9maXJlX3dhdGNoIHdh
dGNoLmNvbi5wZXJtIHBlcm1zIHRoZW4KIAkJZmlyZV9zaW5nbGVfd2F0Y2hf
dW5jaGVja2VkIHdhdGNoCiAJZWxzZQogCQlsZXQgcGVybXMgPSBwZXJtcyB8
PiBMaXN0Lm1hcCAoUGVybXMuTm9kZS50b19zdHJpbmcgfnNlcDoiICIpIHw+
IFN0cmluZy5jb25jYXQgIiwgIiBpbgpkaWZmIC0tZ2l0IGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL294ZW5zdG9yZWQuY29uZi5pbiBiL3Rvb2xzL29jYW1s
L3hlbnN0b3JlZC9veGVuc3RvcmVkLmNvbmYuaW4KaW5kZXggMTUxYjY1Yjcy
ZC4uZjg0MzQ4Mjk4MSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwveGVuc3Rv
cmVkL294ZW5zdG9yZWQuY29uZi5pbgorKysgYi90b29scy9vY2FtbC94ZW5z
dG9yZWQvb3hlbnN0b3JlZC5jb25mLmluCkBAIC00NCw2ICs0NCwxNiBAQCBj
b25mbGljdC1yYXRlLWxpbWl0LWlzLWFnZ3JlZ2F0ZSA9IHRydWUKICMgQWN0
aXZhdGUgbm9kZSBwZXJtaXNzaW9uIHN5c3RlbQogcGVybXMtYWN0aXZhdGUg
PSB0cnVlCiAKKyMgQWN0aXZhdGUgdGhlIHdhdGNoIHBlcm1pc3Npb24gc3lz
dGVtCisjIFdoZW4gdGhpcyBpcyBlbmFibGVkIHVucHJpdmlsZWdlZCBndWVz
dHMgY2FuIG9ubHkgZ2V0IHdhdGNoIGV2ZW50cworIyBmb3IgeGVuc3RvcmUg
ZW50cmllcyB0aGF0IHRoZXkgd291bGQndmUgYmVlbiBhYmxlIHRvIHJlYWQu
CisjCisjIFdoZW4gdGhpcyBpcyBkaXNhYmxlZCB1bnByaXZpbGVnZWQgZ3Vl
c3RzIG1heSBnZXQgd2F0Y2ggZXZlbnRzCisjIGZvciB4ZW5zdG9yZSBlbnRy
aWVzIHRoYXQgdGhleSBjYW5ub3QgcmVhZC4gVGhlIHdhdGNoIGV2ZW50IGNv
bnRhaW5zCisjIG9ubHkgdGhlIGVudHJ5IG5hbWUsIG5vdCB0aGUgdmFsdWUu
CisjIFRoaXMgcmVzdG9yZXMgYmVoYXZpb3VyIHByaW9yIHRvIFhTQS0xMTUu
CitwZXJtcy13YXRjaC1hY3RpdmF0ZSA9IHRydWUKKwogIyBBY3RpdmF0ZSBx
dW90YQogcXVvdGEtYWN0aXZhdGUgPSB0cnVlCiBxdW90YS1tYXhlbnRpdHkg
PSAxMDAwCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVy
bXMubWwgYi90b29scy9vY2FtbC94ZW5zdG9yZWQvcGVybXMubWwKaW5kZXgg
MjNiODBhYmEzZC4uZWU3ZmVlNmJkYSAxMDA2NDQKLS0tIGEvdG9vbHMvb2Nh
bWwveGVuc3RvcmVkL3Blcm1zLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hlbnN0
b3JlZC9wZXJtcy5tbApAQCAtMjAsNiArMjAsNyBAQCBsZXQgaW5mbyBmbXQg
PSBMb2dnaW5nLmluZm8gInBlcm1zIiBmbXQKIG9wZW4gU3RkZXh0CiAKIGxl
dCBhY3RpdmF0ZSA9IHJlZiB0cnVlCitsZXQgd2F0Y2hfYWN0aXZhdGUgPSBy
ZWYgdHJ1ZQogCiB0eXBlIHBlcm10eSA9IFJFQUQgfCBXUklURSB8IFJEV1Ig
fCBOT05FCiAKQEAgLTE2OCw1ICsxNjksOSBAQCBsZXQgY2hlY2sgY29ubmVj
dGlvbiByZXF1ZXN0IG5vZGUgPQogKCogY2hlY2sgaWYgdGhlIGN1cnJlbnQg
Y29ubmVjdGlvbiBoYXMgdGhlIHJlcXVlc3RlZCBwZXJtIG9uIHRoZSBjdXJy
ZW50IG5vZGUgKikKIGxldCBoYXMgY29ubmVjdGlvbiByZXF1ZXN0IG5vZGUg
PSBub3QgKGxhY2tzIGNvbm5lY3Rpb24gcmVxdWVzdCBub2RlKQogCitsZXQg
Y2FuX2ZpcmVfd2F0Y2ggY29ubmVjdGlvbiBwZXJtcyA9CisJbm90ICF3YXRj
aF9hY3RpdmF0ZQorCXx8IExpc3QuZXhpc3RzIChoYXMgY29ubmVjdGlvbiBS
RUFEKSBwZXJtcworCiBsZXQgZXF1aXYgcGVybTEgcGVybTIgPQogCShOb2Rl
LnRvX3N0cmluZyBwZXJtMSkgPSAoTm9kZS50b19zdHJpbmcgcGVybTIpCmRp
ZmYgLS1naXQgYS90b29scy9vY2FtbC94ZW5zdG9yZWQveGVuc3RvcmVkLm1s
IGIvdG9vbHMvb2NhbWwveGVuc3RvcmVkL3hlbnN0b3JlZC5tbAppbmRleCBm
N2I4ODA2NWJiLi4wZDM1NWJiY2I4IDEwMDY0NAotLS0gYS90b29scy9vY2Ft
bC94ZW5zdG9yZWQveGVuc3RvcmVkLm1sCisrKyBiL3Rvb2xzL29jYW1sL3hl
bnN0b3JlZC94ZW5zdG9yZWQubWwKQEAgLTk1LDYgKzk1LDcgQEAgbGV0IHBh
cnNlX2NvbmZpZyBmaWxlbmFtZSA9CiAJCSgiY29uZmxpY3QtbWF4LWhpc3Rv
cnktc2Vjb25kcyIsIENvbmZpZy5TZXRfZmxvYXQgRGVmaW5lLmNvbmZsaWN0
X21heF9oaXN0b3J5X3NlY29uZHMpOwogCQkoImNvbmZsaWN0LXJhdGUtbGlt
aXQtaXMtYWdncmVnYXRlIiwgQ29uZmlnLlNldF9ib29sIERlZmluZS5jb25m
bGljdF9yYXRlX2xpbWl0X2lzX2FnZ3JlZ2F0ZSk7CiAJCSgicGVybXMtYWN0
aXZhdGUiLCBDb25maWcuU2V0X2Jvb2wgUGVybXMuYWN0aXZhdGUpOworCQko
InBlcm1zLXdhdGNoLWFjdGl2YXRlIiwgQ29uZmlnLlNldF9ib29sIFBlcm1z
LndhdGNoX2FjdGl2YXRlKTsKIAkJKCJxdW90YS1hY3RpdmF0ZSIsIENvbmZp
Zy5TZXRfYm9vbCBRdW90YS5hY3RpdmF0ZSk7CiAJCSgicXVvdGEtbWF4d2F0
Y2giLCBDb25maWcuU2V0X2ludCBEZWZpbmUubWF4d2F0Y2gpOwogCQkoInF1
b3RhLXRyYW5zYWN0aW9uIiwgQ29uZmlnLlNldF9pbnQgRGVmaW5lLm1heHRy
YW5zYWN0aW9uKTsK

--=separator--


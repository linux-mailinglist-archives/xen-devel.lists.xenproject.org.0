Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 31463B3623
	for <lists+xen-devel@lfdr.de>; Mon, 16 Sep 2019 10:05:22 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i9lxL-0003LA-3y; Mon, 16 Sep 2019 08:01:55 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=ZJ1s=XL=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1i9lxJ-0003L5-VK
 for xen-devel@lists.xenproject.org; Mon, 16 Sep 2019 08:01:54 +0000
X-Inumbo-ID: 3d5aad80-d858-11e9-95d9-12813bfff9fa
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 3d5aad80-d858-11e9-95d9-12813bfff9fa;
 Mon, 16 Sep 2019 08:01:51 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 87758ACC3;
 Mon, 16 Sep 2019 08:01:50 +0000 (UTC)
To: Joe Jin <joe.jin@oracle.com>
References: <70457d4e-068f-0160-532b-e00dd295b3b1@oracle.com>
 <015923df-34c5-95e0-295f-84bd84c25884@suse.com>
 <081dab07-bf85-6477-a710-38f671ec20ba@oracle.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <30e5e335-9c01-ef8c-3437-3d42fb31e8f0@suse.com>
Date: Mon, 16 Sep 2019 10:01:56 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <081dab07-bf85-6477-a710-38f671ec20ba@oracle.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH RFC] pass-through: sync pir to irr after
 msix vector been updated
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>,
 Joao Martins <joao.m.martins@oracle.com>,
 "DONGLI.ZHANG" <dongli.zhang@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTMuMDkuMjAxOSAxODozOCwgSm9lIEppbiB3cm90ZToKPiBIaSBKYW4sCj4gCj4gVGhhbmtz
IGZvciB5b3VyIHJlcGx5LCBzZWUgbXkgcmVwbHkgaW4gbGluZSBwbGVhc2UuCj4gCj4gT24gOS8x
My8xOSAxMjoxNCBBTSwgSmFuIEJldWxpY2ggd3JvdGU6Cj4+IE9uIDEyLjA5LjIwMTkgMjA6MDMs
IEpvZSBKaW4gd3JvdGU6Cj4+PiBXaXRoIGJlbG93IHRlc3RjYXNlLCBndWVzdCBrZXJuZWwgcmVw
b3J0ZWQgIk5vIGlycSBoYW5kbGVyIGZvciB2ZWN0b3IiOgo+Pj4gICAxKS4gUGFzc3Rocm91Z2gg
bWx4IGliIFZGIHRvIDIgcHZodm0gZ3Vlc3RzLgo+Pj4gICAyKS4gU3RhcnQgcmRzLXN0cmVzcyBi
ZXR3ZWVuIDIgZ3Vlc3RzLgo+Pj4gICAzKS4gU2NhbGUgZG93biAyIGd1ZXN0cyB2Y3B1IGZyb20g
MzIgdG8gNiBhdCB0aGUgc2FtZSB0aW1lLgo+Pj4KPj4+IFJlcGVhdCBhYm92ZSB0ZXN0IHNldmVy
YWwgaXRlcmF0aW9uLCBndWVzdCBrZXJuZWwgcmVwb3J0ZWQgIk5vIGlycSBoYW5kbGVyCj4+PiBm
b3IgdmVjdG9yIiwgYW5kIElCIHRyYWZmaWMgZG93bmVkIHRvIHplcm8gd2hpY2ggY2F1c2VkIGJ5
IGludGVycnVwdCBsb3N0Lgo+Pj4KPj4+IFdoZW4gdmNwdSBvZmZsaW5lLCBrZXJuZWwgZGlzYWJs
ZWQgbG9jYWwgSVJRLCBtaWdyYXRlIElSUSB0byBvdGhlciBjcHUsCj4+PiB1cGRhdGUgTVNJLVgg
dGFibGUsIGVuYWJsZSBJUlEuIElmIGFueSBuZXcgaW50ZXJydXB0IGFycml2ZWQgYWZ0ZXIKPj4+
IGxvY2FsIElSUSBkaXNhYmxlZCBhbHNvIGJlZm9yZSBNU0ktWCB0YWJsZSBiZWVuIHVwZGF0ZWQs
IGludGVycnVwdCBzdGlsbCAKPj4+IHVzZWQgb2xkIHZlY3RvciBhbmQgZGVzdCBjcHUgaW5mbywg
YW5kIHdoZW4gbG9jYWwgSVJRIGVuYWJsZWQgYWdhaW4sIAo+Pj4gaW50ZXJydXB0IGJlZW4gc2Vu
dCB0byB3cm9uZyBjcHUgYW5kIHZlY3Rvci4KPj4+Cj4+PiBMb29rcyBzeW5jIFBJUiB0byBJUlIg
YWZ0ZXIgTVNJLVggYmVlbiB1cGRhdGVkIGlzIGhlbHAgZm9yIHRoaXMgaXNzdWUuCj4+Cj4+IEkn
bSBoYXZpbmcgdHJvdWJsZSBtYWtpbmcgdGhlIGNvbm5lY3Rpb24sIHdoaWNoIHF1aXRlIHBvc3Np
Ymx5IHNpbXBseQo+PiBtZWFucyB0aGUgZGVzY3JpcHRpb24gbmVlZHMgdG8gYmUgZnVydGhlciBl
eHRlbmRlZDogU3luYy1pbmcgUElSIHRvCj4+IElSUiBoYXMgbm90aGluZyB0byBkbyB3aXRoIGEg
dmVjdG9yIGNoYW5nZS4gSXQgd291bGQgaGVscCBpZiBub3RoaW5nCj4+IGVsc2UgY2F1c2VkIHRo
aXMgYml0bWFwIHByb3BhZ2F0aW9uLCBhbmQgYW4gaW50ZXJydXB0IHdhcyBsb3N0IChyYXRoZXIK
Pj4gdGhhbiBkZWxpdmVyZWQgdGhyb3VnaCB0aGUgd3JvbmcgdmVjdG9yLCBvciB0byB0aGUgd3Jv
bmcgQ1BVKS4KPj4gRnVydGhlcm1vcmUgd2l0aCB2ZWN0b3IgYW5kIGRlc3RpbmF0aW9uIGJlaW5n
IGNvdXBsZWQsIGFmdGVyIGEgQ1BVIGhhcwo+PiBiZWVuIG9mZmxpbmVkIHRoaXMgd291bGQgZ2Vu
ZXJhbGx5IG1lYW4KPj4gLSBpZiB0aGVyZSB3YXMganVzdCBhIHNpbmdsZSBkZXN0aW5hdGlvbiBw
ZXJtaXR0ZWQsIGxhY2sgb2YgZGVsaXZlcnkKPj4gICBhbHRvZ2V0aGVyLAo+PiAtIGlmIHRoZXJl
IHdlcmUgbXVsdGlwbGUgZGVzdGluYXRpb25zIHBlcm1pdHRlZCwgZGVsaXZlcnkgdG8gb25lIG9m
Cj4+ICAgdGhlIG90aGVyIENQVXMsIGF0IHdoaWNoIHBvaW50IHRoZSB2ZWN0b3Igd291bGQgc3Rp
bGwgYmUgdmFsaWQuCj4gCj4gV2hlbiBjcHUgb2ZmbGluZSBvbiBndWVzdCBrZXJuZWwsIGl0IG9u
bHkgbWlncmF0ZXMgSVJRcyB3aGljaCBhZmZpbml0eSBzZXQKPiB0byB0aGUgY3B1IG9ubHksIGlm
IG11bHRpcGxlIGRlc3RpbmF0aW9ucywga2VybmVsIGRvZXMgbm90IGRvIG1pZ3JhdGlvbgo+IHdo
aWNoIGluY2x1ZGVkIHVwZGF0ZSBtc2kteCB0YWJsZSB3aXRoIG5ldyBkZXN0aW5hdGlvbiBhbHNv
IHZlY3Rvci4KPiAKPiBBZnRlciBJUlEgbWlncmF0aW9uLCBrZXJuZWwgd2lsbCBjaGVjayBhbGwg
dmVjdG9yJ3MgSVJSLCBpZiBBUElDIElSUgo+IGJlZW4gc2V0LCByZXRyaWdnZXIgdGhlIElSUSB0
byBuZXcgZGVzdGluYXRpb24uIFRoaXMgaW50ZW5kIHRvIGF2b2lkCj4gdG8gbG9zdCBhbnkgaW50
ZXJydXB0Lgo+IAo+IEJ1dCBvbiBYZW4sIGFmdGVyIG1zaS14IHRhYmxlIHVwZGF0ZWQsIGl0IG5l
dmVyIHRyaWVkIHRvIGNoZWNrIGFuZCBub3RpZnkKPiBndWVzdCBrZXJuZWwgdGhlcmUgd2FzIHBl
bmRpbmcgSVJRLgo+IAo+Pgo+PiBBbiBpbnRlcmVzdGluZyBhc3BlY3Qgd291bGQgYmUgb24gd2hp
Y2ggQ1BVIHRoZSBsb2cgbWVzc2FnZSB3YXMKPj4gb2JzZXJ2ZWQsIGFuZCBob3cgdGhpcyBjb3Jy
ZWxhdGVzIHdpdGggdGhlIGRlc3RpbmF0aW9uIHNldHMgb2YgdGhlCj4+IENQVXMgdGhhdCBoYXZl
IGdvdCBvZmZsaW5lZC4gRnJvbSB0aGVyZSBpdCB3b3VsZCB0aGVuIGZ1cnRoZXIgYmUKPj4gaW50
ZXJlc3RpbmcgdG8gdW5kZXJzdGFuZCB3aHkgdGhlIGludGVycnVwdCBtYWRlIGl0IHRvIHRoYXQg
Q1BVLAo+PiBzaW5jZSAtIGFzIHNhaWQgLSBkZXN0aW5hdGlvbiBhbmQgdmVjdG9yIGdldCBjaGFu
Z2VkIHRvZ2V0aGVyLCBhbmQKPj4gaGVuY2Ugd2l0aCB0aGluZ3MgZ29pbmcgd3JvbmcgaXQgd291
bGQgYmUgb2YgaW50ZXJlc3QgdG8ga25vdyB3aGV0aGVyCj4+IHRoZSBDUFUgcmVjZWl2aW5nIHRo
ZSBJUlEgaXMgd2l0aGluIHRoZSBuZXcgZGVzdGluYXRpb24gc2V0LCBvciBzb21lCj4+IChyYW5k
b20/KSBvdGhlciBvbmUuCj4gCj4gaXJxX3JldHJpZ2dlcigpIGJlZW4gY2FsbGVkIGFmdGVyIGtl
cm5lbCB1cGRhdGVkIHZlY3RvciwgaXJxX3JldHJpZ2dlcigpCj4gd2lsbCBzZW5kIHBlbmRpbmcg
SVJRKHMpIHRvIG5ldyBkZXN0aW5hdGlvbi4KPiAKPiBIZXJlIGFyZSBrZXJuZWwgbG9nIHdoZW4g
aXNzdWUgaGFwcGVuZWQsIGd1ZXN0IGtlcm5lbCBpcyA0LjEsIG9uIDQuMTQKPiBndWVzdCwgaXQn
cyBhbG1vc3Qgc2FtZSwgYnV0IG5vICIoaXJxIC0xKSIgZm9yIGtlcm5lbCBjaGFuZ2VzLCBJUlEK
PiBtaWdyYXRpb25zIHdvcmtmbG93IGFyZSBzYW1lKGZpeHVwX2lycXMoKSk6Cj4gCj4gU2VwIDEy
IDIwOjI2OjQ2IGxvY2FsaG9zdCBrZXJuZWw6IHNtcGJvb3Q6IENQVSAxNyBpcyBub3cgb2ZmbGlu
ZQo+IFNlcCAxMiAyMDoyNjo0NiBsb2NhbGhvc3Qga2VybmVsOiBzbXBib290OiBDUFUgMTggaXMg
bm93IG9mZmxpbmUKPiBTZXAgMTIgMjA6MjY6NDYgbG9jYWxob3N0IGtlcm5lbDogc21wYm9vdDog
Q1BVIDE5IGlzIG5vdyBvZmZsaW5lCj4gU2VwIDEyIDIwOjI2OjQ3IGxvY2FsaG9zdCBrZXJuZWw6
IEJyb2tlIGFmZmluaXR5IGZvciBpcnEgMjUxCj4gU2VwIDEyIDIwOjI2OjQ3IGxvY2FsaG9zdCBr
ZXJuZWw6IGRvX0lSUTogMjAuMTc4IE5vIGlycSBoYW5kbGVyIGZvciB2ZWN0b3IgKGlycSAtMSkK
PiBTZXAgMTIgMjA6MjY6NDcgbG9jYWxob3N0IGtlcm5lbDogc21wYm9vdDogQ1BVIDIwIGlzIG5v
dyBvZmZsaW5lCj4gU2VwIDEyIDIwOjI2OjQ3IGxvY2FsaG9zdCBrZXJuZWw6IHNtcGJvb3Q6IENQ
VSAyMSBpcyBub3cgb2ZmbGluZQo+IAo+IEZyb20gYWJvdmUsIHlvdSBjYW4gc2VlIElSUSBzZW50
IHRvIGNwdSAyMCwgd2hpY2ggaXMgb2ZmbGluaW5nLgo+IAo+IElSUSBhcnJpdmVkIHRvIHRoZSBj
cHUgaW1tZWRpYXRlbHkgd2hlbiBJUlEgZW5hYmxlZCwgYWZ0ZXIgQ1BVIG9mZmxpbmVkLAo+IGl0
IHByaW50cyBsb2cgInNtcGJvb3Q6IENQVSAyMCBpcyBub3cgb2ZmbGluZSIuCj4gCj4gQ2FsbCBw
YXRoIGluIGtlcm5lbCBhcyBiZWxvdzoKPiBjcHVfZG93bigpCj4gICB8LT4gY3B1X2Rvd25fbWFw
c19sb2NrZWQoKQo+ICAgfCAgICAgX2NwdV9kb3duCj4gICB8ICAgICAgIHwtPiBfX3N0b3BfbWFj
aGluZQo+ICAgfCAgICAgICAgICAgICB8LT4gc3RvcF9jcHVzKCkKPiAgIHwgICAgICAgICAgICAg
ICAgICAgfC0+X19zdG9wX2NwdXMoKQo+ICAgfCAgICAgICAgICAgICAgICAgICAgICAgIHwtIHF1
ZXVlX3N0b3BfY3B1c193b3JrKCkgLS0tKwo+ICAgfC0+IF9fY3B1X2RpZSgpICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgfAo+ICAgICAgICAgIHwtPiBwcl9pbmZvKCJDUFUg
JXUgaXMgbm93IG9mZmxpbmVcbiIsIGNwdSk7ICAgfAo+ICAgICAgKy0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwo+ICAgICAgfAo+ICAgICAgKwo+IG11
bHRpX2NwdV9zdG9wKCkKPiAgIHwtPiBsb2NhbF9zYXZlX2ZsYWdzCj4gICB8LT4gdGFrZV9jcHVf
ZG93bigpCj4gICB8ICAgICAgfC0+IF9fY3B1X2Rpc2FibGUKPiAgIHwgICAgICAgICAgICB8LT4g
c21wX29wcy5jcHVfZGlzYWJsZSA9IHhlbl9jcHVfZGlzYWJsZQo+ICAgfCAgICAgICAgICAgICAg
ICAgIHwtPiBjcHVfZGlzYWJsZV9jb21tb24KPiAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8
LT4gZml4dXBfaXJxcyA8PT0gSVJRIG1pZ3JhdGlvbi4KPiAgIHwtPiBsb2NhbF9pcnFfcmVzdG9y
ZSgpCgpBaCB5ZXMsIHRoaXMgbWFrZXMgc2Vuc2UuIFlvdSB3YW50IHRvIGV4dGVuZCB0aGUgZGVz
Y3JpcHRpb24gdG8KcmVmbGVjdCBzb21lIG9mIHRoZSBmdXJ0aGVyIGV4cGxhbmF0aW9uIGFib3Zl
LgoKPj4+IC0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvLmMKPj4+ICsrKyBiL3hlbi9k
cml2ZXJzL3Bhc3N0aHJvdWdoL2lvLmMKPj4+IEBAIC00MTIsNiArNDEyLDkgQEAgaW50IHB0X2ly
cV9jcmVhdGVfYmluZCgKPj4+ICAgICAgICAgICAgICAgICAgcGlycV9kcGNpLT5nbXNpLmd2ZWMg
PSBwdF9pcnFfYmluZC0+dS5tc2kuZ3ZlYzsKPj4+ICAgICAgICAgICAgICAgICAgcGlycV9kcGNp
LT5nbXNpLmdmbGFncyA9IGdmbGFnczsKPj4+ICAgICAgICAgICAgICB9Cj4+PiArCj4+PiArICAg
ICAgICAgICAgaWYgKCBodm1fZnVuY3Muc3luY19waXJfdG9faXJyICkKPj4+ICsgICAgICAgICAg
ICAgICAgaHZtX2Z1bmNzLnN5bmNfcGlyX3RvX2lycihkLT52Y3B1W3BpcnFfZHBjaS0+Z21zaS5k
ZXN0X3ZjcHVfaWRdKTsKPj4KPj4gSWYgdGhlIG5lZWQgZm9yIHRoaXMgY2hhbmdlIGNhbiBiZSBw
cm9wZXJseSBleHBsYWluZWQsIHRoZW4gaXQKPj4gc3RpbGwgd2FudHMgY29udmVydGluZyB0byBh
bHRlcm5hdGl2ZV92Y2FsbCgpIC0gdGhlIHRoZSBvdGhlcgo+PiBjYWxsZXIgb2YgdGhpcyBob29r
LiBPciBwZXJoYXBzIGV2ZW4gYmV0dGVyIG1vdmUgdmxhcGljLmMncwo+PiB3cmFwcGVyIChzdWl0
YWJseSByZW5hbWVkKSBpbnRvIGh2bS5oLCBhbmQgdXNlIGl0IGhlcmUuCj4gCj4gWWVzIEkgYWdy
ZWUsIEknbSBub3QgMTAwJSBzdXJlLCBzbyBJIHNldCBpdCB0byBSRkMuCgpBbmQgYnR3LCBwbGVh
c2UgYWxzbyBhdHRhY2ggYSBicmllZiBjb21tZW50IGhlcmUsIHRvIGNsYXJpZnkKd2h5IHRoZSBz
eW5jaW5nIGlzIG5lZWRlZCBwcmVjaXNlbHkgYXQgdGhpcyBwb2ludC4KCj4+IEFkZGl0aW9uYWxs
eSwgdGhlIGNvZGUgc2V0dGluZyBwaXJxX2RwY2ktPmdtc2kuZGVzdF92Y3B1X2lkCj4+IChyaWdo
dCBhZnRlciB5b3VyIGNvZGUgaW5zZXJ0aW9uKSBhbGxvd3MgZm9yIHRoZSBmaWVsZCB0byBiZQo+
PiBpbnZhbGlkLCB3aGljaCBJIHRoaW5rIHlvdSBuZWVkIHRvIGd1YXJkIGFnYWluc3QuCj4gCj4g
SSB0aGluayB5b3UgbWVhbnMgbXVsdGlwbGUgZGVzdGluYXRpb24sIHRoZW4gaXQncyAtMT8KClRo
ZSByZWFzb24gZm9yIHdoeSBpdCBtaWdodCBiZSAtMSBhcmUgaXJyZWxldmFudCBoZXJlLCBJIHRo
aW5rLgpZb3UgbmVlZCB0byBoYW5kbGUgdGhlIGNhc2UgYm90aCB0byBhdm9pZCBhbiBvdXQtb2Yt
Ym91bmRzCmFycmF5IGFjY2VzcyBhbmQgdG8gbWFrZSBzdXJlIGFuIElSUiBiaXQgd291bGRuJ3Qg
c3RpbGwgZ2V0CnByb3BhZ2F0ZWQgdG9vIGxhdGUgaW4gc29tZSBzcGVjaWFsIGNhc2UuCgpBbHNv
IC0gd2hhdCBhYm91dCB0aGUgcmVzcGVjdGl2ZSBvdGhlciBwYXRoIGluIHRoZSBmdW5jdGlvbiwK
ZGVhbGluZyB3aXRoIFBUX0lSUV9UWVBFX1BDSSBhbmQgUFRfSVJRX1RZUEVfTVNJX1RSQU5TTEFU
RT8gSXQKc2VlbXMgdG8gbWUgdGhhdCB0aGVyZSdzIHRoZSBzYW1lIGNoYW5jZSBvZiBkZWZlcnJp
bmcgSVJSCnByb3BhZ2F0aW9uIGZvciB0b28gbG9uZz8KCkphbgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4t
ZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

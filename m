Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 53B65BFFA2
	for <lists+xen-devel@lfdr.de>; Fri, 27 Sep 2019 09:04:51 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iDkGs-000529-Uz; Fri, 27 Sep 2019 07:02:30 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=Rbpq=XW=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1iDkGp-0004y0-Qt
 for xen-devel@lists.xenproject.org; Fri, 27 Sep 2019 07:02:27 +0000
X-Inumbo-ID: 9510344c-e0f4-11e9-bf31-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by localhost (Halon) with ESMTPS
 id 9510344c-e0f4-11e9-bf31-bc764e2007e4;
 Fri, 27 Sep 2019 07:01:09 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 67C95B180;
 Fri, 27 Sep 2019 07:01:06 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Fri, 27 Sep 2019 09:00:43 +0200
Message-Id: <20190927070050.12405-40-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190927070050.12405-1-jgross@suse.com>
References: <20190927070050.12405-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v4 39/46] xen/sched: prepare per-cpupool
 scheduling granularity
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Tim Deegan <tim@xen.org>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Dario Faggioli <dfaggioli@suse.com>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24tIGFuZCBvZmZsaW5pbmcgY3B1cyB3aXRoIGNvcmUgc2NoZWR1bGluZyBpcyByYXRoZXIgY29t
cGxpY2F0ZWQgYXMKdGhlIGNwdXMgYXJlIHRha2VuIG9uLSBvciBvZmZsaW5lIG9uZSBieSBvbmUs
IGJ1dCBzY2hlZHVsaW5nIHdhbnRzIHRoZW0KcmF0aGVyIHRvIGJlIGhhbmRsZWQgcGVyIGNvcmUu
CgpBcyB0aGUgZnV0dXJlIHBsYW4gaXMgdG8gYmUgYWJsZSB0byBzZWxlY3Qgc2NoZWR1bGluZyBn
cmFudWxhcml0eSBwZXIKY3B1cG9vbCBwcmVwYXJlIHRoYXQgYnkgc3RvcmluZyB0aGUgZ3JhbnVs
YXJpdHkgaW4gc3RydWN0IGNwdXBvb2wgYW5kCnN0cnVjdCBzY2hlZF9yZXNvdXJjZSAod2UgbmVl
ZCBpdCB0aGVyZSBmb3IgZnJlZSBjcHVzIHdoaWNoIGFyZSBub3QKYXNzb2NpYXRlZCB0byBhbnkg
Y3B1cG9vbCkuIEZyZWUgY3B1cyB3aWxsIGFsd2F5cyB1c2UgZ3JhbnVsYXJpdHkgMS4KClN0b3Jl
IHRoZSBzZWxlY3RlZCBncmFudWxhcml0eSBvcHRpb24gKGNwdSwgY29yZSBvciBzb2NrZXQpIGlu
IHRoZQpjcHVwb29sIGFzIHdlbGwsIGFzIHdlIHdpbGwgbmVlZCBpdCB0byBzZWxlY3QgdGhlIGFw
cHJvcHJpYXRlIGNwdSBtYXNrCndoZW4gcG9wdWxhdGluZyB0aGUgY3B1cG9vbCB3aXRoIGNwdXMu
CgpUaGlzIHdpbGwgbWFrZSBvbi0gYW5kIG9mZmxpbmluZyBvZiBjcHVzIG11Y2ggZWFzaWVyIGFu
ZCBhdm9pZHMKd3JpdGluZyBjb2RlIHdoaWNoIHdvdWxkIG5lZWRlZCB0byBiZSB0aHJvd24gYXdh
eSBsYXRlci4KCk1vdmUgdGhlIGdyYW51bGFyaXR5IHJlbGF0ZWQgdmFyaWFibGVzIHRvIGNwdXBv
b2wuYyBhcyB0aGV5IGFyZSBub3cKdXNlZCBmb3JtIHRoZXJlIG9ubHkuCgpTaWduZWQtb2ZmLWJ5
OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+Ci0tLQpWMTogbmV3IHBhdGNoClY0Ogot
IG1vdmUgb3B0X3NjaGVkX2dyYW51bGFyaXR5IGFuZCBzY2hlZF9ncmFudWxhcml0eSB0byBjcHVw
b29sLmMKICAoSmFuIEJldWxpY2gpCi0gcmVuYW1lIGMtPm9wdF9zY2hlZF9ncmFudWxhcml0eSwg
ZHJvcCBjLT5ncmFudWxhcml0eSAoSmFuIEJldWxpY2gpCi0tLQogeGVuL2NvbW1vbi9jcHVwb29s
LmMgICAgICAgfCAgOSArKysrKysrKysKIHhlbi9jb21tb24vc2NoZWR1bGUuYyAgICAgIHwgMjcg
KysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tCiB4ZW4vaW5jbHVkZS94ZW4vc2NoZWQtaWYuaCB8
IDExICsrKysrKysrKysrCiAzIGZpbGVzIGNoYW5nZWQsIDM2IGluc2VydGlvbnMoKyksIDExIGRl
bGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vY3B1cG9vbC5jIGIveGVuL2NvbW1v
bi9jcHVwb29sLmMKaW5kZXggNjBhODVmNTBlMS4uNTFmMGZmMGQ4OCAxMDA2NDQKLS0tIGEveGVu
L2NvbW1vbi9jcHVwb29sLmMKKysrIGIveGVuL2NvbW1vbi9jcHVwb29sLmMKQEAgLTM0LDYgKzM0
LDE0IEBAIHN0YXRpYyBjcHVtYXNrX3QgY3B1cG9vbF9sb2NrZWRfY3B1czsKIAogc3RhdGljIERF
RklORV9TUElOTE9DSyhjcHVwb29sX2xvY2spOwogCitzdGF0aWMgZW51bSBzY2hlZF9ncmFuIF9f
cmVhZF9tb3N0bHkgb3B0X3NjaGVkX2dyYW51bGFyaXR5ID0gU0NIRURfR1JBTl9jcHU7CitzdGF0
aWMgdW5zaWduZWQgaW50IF9fcmVhZF9tb3N0bHkgc2NoZWRfZ3JhbnVsYXJpdHkgPSAxOworCit1
bnNpZ25lZCBpbnQgY3B1cG9vbF9nZXRfZ3JhbnVsYXJpdHkoY29uc3Qgc3RydWN0IGNwdXBvb2wg
KmMpCit7CisgICAgcmV0dXJuIGMgPyBzY2hlZF9ncmFudWxhcml0eSA6IDE7Cit9CisKIHN0YXRp
YyB2b2lkIGZyZWVfY3B1cG9vbF9zdHJ1Y3Qoc3RydWN0IGNwdXBvb2wgKmMpCiB7CiAgICAgaWYg
KCBjICkKQEAgLTE3Myw2ICsxODEsNyBAQCBzdGF0aWMgc3RydWN0IGNwdXBvb2wgKmNwdXBvb2xf
Y3JlYXRlKAogICAgICAgICAgICAgcmV0dXJuIE5VTEw7CiAgICAgICAgIH0KICAgICB9CisgICAg
Yy0+Z3JhbiA9IG9wdF9zY2hlZF9ncmFudWxhcml0eTsKIAogICAgICpxID0gYzsKIApkaWZmIC0t
Z2l0IGEveGVuL2NvbW1vbi9zY2hlZHVsZS5jIGIveGVuL2NvbW1vbi9zY2hlZHVsZS5jCmluZGV4
IDcwMTdjNDVhNjEuLjYzZmZlMWE4MjQgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vc2NoZWR1bGUu
YworKysgYi94ZW4vY29tbW9uL3NjaGVkdWxlLmMKQEAgLTYwLDcgKzYwLDYgQEAgaW50IHNjaGVk
X3JhdGVsaW1pdF91cyA9IFNDSEVEX0RFRkFVTFRfUkFURUxJTUlUX1VTOwogaW50ZWdlcl9wYXJh
bSgic2NoZWRfcmF0ZWxpbWl0X3VzIiwgc2NoZWRfcmF0ZWxpbWl0X3VzKTsKIAogLyogTnVtYmVy
IG9mIHZjcHVzIHBlciBzdHJ1Y3Qgc2NoZWRfdW5pdC4gKi8KLXN0YXRpYyB1bnNpZ25lZCBpbnQg
X19yZWFkX21vc3RseSBzY2hlZF9ncmFudWxhcml0eSA9IDE7CiBib29sIF9fcmVhZF9tb3N0bHkg
c2NoZWRfZGlzYWJsZV9zbXRfc3dpdGNoaW5nOwogY29uc3QgY3B1bWFza190ICpzY2hlZF9yZXNf
bWFzayA9ICZjcHVtYXNrX2FsbDsKIApAQCAtNDI2LDEwICs0MjUsMTAgQEAgc3RhdGljIHN0cnVj
dCBzY2hlZF91bml0ICpzY2hlZF9hbGxvY191bml0KHN0cnVjdCB2Y3B1ICp2KQogewogICAgIHN0
cnVjdCBzY2hlZF91bml0ICp1bml0LCAqKnByZXZfdW5pdDsKICAgICBzdHJ1Y3QgZG9tYWluICpk
ID0gdi0+ZG9tYWluOworICAgIHVuc2lnbmVkIGludCBncmFuID0gY3B1cG9vbF9nZXRfZ3JhbnVs
YXJpdHkoZC0+Y3B1cG9vbCk7CiAKICAgICBmb3JfZWFjaF9zY2hlZF91bml0ICggZCwgdW5pdCAp
Ci0gICAgICAgIGlmICggdW5pdC0+dW5pdF9pZCAvIHNjaGVkX2dyYW51bGFyaXR5ID09Ci0gICAg
ICAgICAgICAgdi0+dmNwdV9pZCAvIHNjaGVkX2dyYW51bGFyaXR5ICkKKyAgICAgICAgaWYgKCB1
bml0LT51bml0X2lkIC8gZ3JhbiA9PSB2LT52Y3B1X2lkIC8gZ3JhbiApCiAgICAgICAgICAgICBi
cmVhazsKIAogICAgIGlmICggdW5pdCApCkBAIC01ODQsNiArNTgzLDcgQEAgaW50IHNjaGVkX21v
dmVfZG9tYWluKHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCBjcHVwb29sICpjKQogICAgIHZvaWQg
KnVuaXRkYXRhOwogICAgIHN0cnVjdCBzY2hlZHVsZXIgKm9sZF9vcHM7CiAgICAgdm9pZCAqb2xk
X2RvbWRhdGE7CisgICAgdW5zaWduZWQgaW50IGdyYW4gPSBjcHVwb29sX2dldF9ncmFudWxhcml0
eShjKTsKIAogICAgIGZvcl9lYWNoX3ZjcHUgKCBkLCB2ICkKICAgICB7CkBAIC01OTUsOCArNTk1
LDcgQEAgaW50IHNjaGVkX21vdmVfZG9tYWluKHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCBjcHVw
b29sICpjKQogICAgIGlmICggSVNfRVJSKGRvbWRhdGEpICkKICAgICAgICAgcmV0dXJuIFBUUl9F
UlIoZG9tZGF0YSk7CiAKLSAgICB1bml0X3ByaXYgPSB4emFsbG9jX2FycmF5KHZvaWQgKiwKLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIERJVl9ST1VORF9VUChkLT5tYXhfdmNwdXMsIHNj
aGVkX2dyYW51bGFyaXR5KSk7CisgICAgdW5pdF9wcml2ID0geHphbGxvY19hcnJheSh2b2lkICos
IERJVl9ST1VORF9VUChkLT5tYXhfdmNwdXMsIGdyYW4pKTsKICAgICBpZiAoIHVuaXRfcHJpdiA9
PSBOVUxMICkKICAgICB7CiAgICAgICAgIHNjaGVkX2ZyZWVfZG9tZGF0YShjLT5zY2hlZCwgZG9t
ZGF0YSk7CkBAIC0xODM1LDExICsxODM0LDExIEBAIHN0YXRpYyB2b2lkIHNjaGVkX3N3aXRjaF91
bml0cyhzdHJ1Y3Qgc2NoZWRfcmVzb3VyY2UgKnNyLAogICAgICAgICBpZiAoIGlzX2lkbGVfdW5p
dChwcmV2KSApCiAgICAgICAgIHsKICAgICAgICAgICAgIHByZXYtPnJ1bnN0YXRlX2NudFtSVU5T
VEFURV9ydW5uaW5nXSA9IDA7Ci0gICAgICAgICAgICBwcmV2LT5ydW5zdGF0ZV9jbnRbUlVOU1RB
VEVfcnVubmFibGVdID0gc2NoZWRfZ3JhbnVsYXJpdHk7CisgICAgICAgICAgICBwcmV2LT5ydW5z
dGF0ZV9jbnRbUlVOU1RBVEVfcnVubmFibGVdID0gc3ItPmdyYW51bGFyaXR5OwogICAgICAgICB9
CiAgICAgICAgIGlmICggaXNfaWRsZV91bml0KG5leHQpICkKICAgICAgICAgewotICAgICAgICAg
ICAgbmV4dC0+cnVuc3RhdGVfY250W1JVTlNUQVRFX3J1bm5pbmddID0gc2NoZWRfZ3JhbnVsYXJp
dHk7CisgICAgICAgICAgICBuZXh0LT5ydW5zdGF0ZV9jbnRbUlVOU1RBVEVfcnVubmluZ10gPSBz
ci0+Z3JhbnVsYXJpdHk7CiAgICAgICAgICAgICBuZXh0LT5ydW5zdGF0ZV9jbnRbUlVOU1RBVEVf
cnVubmFibGVdID0gMDsKICAgICAgICAgfQogICAgIH0KQEAgLTE5ODgsNyArMTk4Nyw3IEBAIHZv
aWQgc2NoZWRfY29udGV4dF9zd2l0Y2hlZChzdHJ1Y3QgdmNwdSAqdnByZXYsIHN0cnVjdCB2Y3B1
ICp2bmV4dCkKICAgICBlbHNlCiAgICAgewogICAgICAgICB2Y3B1X2NvbnRleHRfc2F2ZWQodnBy
ZXYsIHZuZXh0KTsKLSAgICAgICAgaWYgKCBzY2hlZF9ncmFudWxhcml0eSA9PSAxICkKKyAgICAg
ICAgaWYgKCBzci0+Z3JhbnVsYXJpdHkgPT0gMSApCiAgICAgICAgICAgICB1bml0X2NvbnRleHRf
c2F2ZWQoc3IpOwogICAgIH0KIApAQCAtMjEwOCwxMSArMjEwNywxMiBAQCBzdGF0aWMgc3RydWN0
IHNjaGVkX3VuaXQgKnNjaGVkX3dhaXRfcmVuZGV6dm91c19pbihzdHJ1Y3Qgc2NoZWRfdW5pdCAq
cHJldiwKIHsKICAgICBzdHJ1Y3Qgc2NoZWRfdW5pdCAqbmV4dDsKICAgICBzdHJ1Y3QgdmNwdSAq
djsKKyAgICB1bnNpZ25lZCBpbnQgZ3JhbiA9IGdldF9zY2hlZF9yZXMoY3B1KS0+Z3JhbnVsYXJp
dHk7CiAKICAgICBpZiAoICEtLXByZXYtPnJlbmRlenZvdXNfaW5fY250ICkKICAgICB7CiAgICAg
ICAgIG5leHQgPSBkb19zY2hlZHVsZShwcmV2LCBub3csIGNwdSk7Ci0gICAgICAgIGF0b21pY19z
ZXQoJm5leHQtPnJlbmRlenZvdXNfb3V0X2NudCwgc2NoZWRfZ3JhbnVsYXJpdHkgKyAxKTsKKyAg
ICAgICAgYXRvbWljX3NldCgmbmV4dC0+cmVuZGV6dm91c19vdXRfY250LCBncmFuICsgMSk7CiAg
ICAgICAgIHJldHVybiBuZXh0OwogICAgIH0KIApAQCAtMjIzNiw2ICsyMjM2LDcgQEAgc3RhdGlj
IHZvaWQgc2NoZWR1bGUodm9pZCkKICAgICBzdHJ1Y3Qgc2NoZWRfcmVzb3VyY2UgKnNyOwogICAg
IHNwaW5sb2NrX3QgICAgICAgICAgICpsb2NrOwogICAgIGludCBjcHUgPSBzbXBfcHJvY2Vzc29y
X2lkKCk7CisgICAgdW5zaWduZWQgaW50ICAgICAgICAgIGdyYW4gPSBnZXRfc2NoZWRfcmVzKGNw
dSktPmdyYW51bGFyaXR5OwogCiAgICAgQVNTRVJUX05PVF9JTl9BVE9NSUMoKTsKIApAQCAtMjI2
MSwxMSArMjI2MiwxMSBAQCBzdGF0aWMgdm9pZCBzY2hlZHVsZSh2b2lkKQogCiAgICAgbm93ID0g
Tk9XKCk7CiAKLSAgICBpZiAoIHNjaGVkX2dyYW51bGFyaXR5ID4gMSApCisgICAgaWYgKCBncmFu
ID4gMSApCiAgICAgewogICAgICAgICBjcHVtYXNrX3QgbWFzazsKIAotICAgICAgICBwcmV2LT5y
ZW5kZXp2b3VzX2luX2NudCA9IHNjaGVkX2dyYW51bGFyaXR5OworICAgICAgICBwcmV2LT5yZW5k
ZXp2b3VzX2luX2NudCA9IGdyYW47CiAgICAgICAgIGNwdW1hc2tfYW5kbm90KCZtYXNrLCBzci0+
Y3B1cywgY3B1bWFza19vZihjcHUpKTsKICAgICAgICAgY3B1bWFza19yYWlzZV9zb2Z0aXJxKCZt
YXNrLCBTQ0hFRF9TTEFWRV9TT0ZUSVJRKTsKICAgICAgICAgbmV4dCA9IHNjaGVkX3dhaXRfcmVu
ZGV6dm91c19pbihwcmV2LCAmbG9jaywgY3B1LCBub3cpOwpAQCAtMjMzMyw2ICsyMzM0LDkgQEAg
c3RhdGljIGludCBjcHVfc2NoZWR1bGVfdXAodW5zaWduZWQgaW50IGNwdSkKICAgICBpbml0X3Rp
bWVyKCZzci0+c190aW1lciwgc190aW1lcl9mbiwgTlVMTCwgY3B1KTsKICAgICBhdG9taWNfc2V0
KCZwZXJfY3B1KHNjaGVkX3VyZ2VudF9jb3VudCwgY3B1KSwgMCk7CiAKKyAgICAvKiBXZSBzdGFy
dCB3aXRoIGNwdSBncmFudWxhcml0eS4gKi8KKyAgICBzci0+Z3JhbnVsYXJpdHkgPSAxOworCiAg
ICAgLyogQm9vdCBDUFUgaXMgZGVhbHQgd2l0aCBsYXRlciBpbiBzY2hlZHVsZXJfaW5pdCgpLiAq
LwogICAgIGlmICggY3B1ID09IDAgKQogICAgICAgICByZXR1cm4gMDsKQEAgLTI2MjMsNiArMjYy
Nyw3IEBAIGludCBzY2hlZHVsZV9jcHVfc3dpdGNoKHVuc2lnbmVkIGludCBjcHUsIHN0cnVjdCBj
cHVwb29sICpjKQogICAgIHNjaGVkX2ZyZWVfdWRhdGEob2xkX29wcywgdnByaXZfb2xkKTsKICAg
ICBzY2hlZF9mcmVlX3BkYXRhKG9sZF9vcHMsIHBwcml2X29sZCwgY3B1KTsKIAorICAgIGdldF9z
Y2hlZF9yZXMoY3B1KS0+Z3JhbnVsYXJpdHkgPSBjcHVwb29sX2dldF9ncmFudWxhcml0eShjKTsK
ICAgICBnZXRfc2NoZWRfcmVzKGNwdSktPmNwdXBvb2wgPSBjOwogICAgIC8qIFdoZW4gYSBjcHUg
aXMgYWRkZWQgdG8gYSBwb29sLCB0cmlnZ2VyIGl0IHRvIGdvIHBpY2sgdXAgc29tZSB3b3JrICov
CiAgICAgaWYgKCBjICE9IE5VTEwgKQpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL3NjaGVk
LWlmLmggYi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQtaWYuaAppbmRleCBlNjc1MDYxMjkwLi5mOGYw
ZjQ4NGNiIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vc2NoZWQtaWYuaAorKysgYi94ZW4v
aW5jbHVkZS94ZW4vc2NoZWQtaWYuaApAQCAtMjUsNiArMjUsMTMgQEAgZXh0ZXJuIGludCBzY2hl
ZF9yYXRlbGltaXRfdXM7CiAvKiBTY2hlZHVsaW5nIHJlc291cmNlIG1hc2suICovCiBleHRlcm4g
Y29uc3QgY3B1bWFza190ICpzY2hlZF9yZXNfbWFzazsKIAorLyogTnVtYmVyIG9mIHZjcHVzIHBl
ciBzdHJ1Y3Qgc2NoZWRfdW5pdC4gKi8KK2VudW0gc2NoZWRfZ3JhbiB7CisgICAgU0NIRURfR1JB
Tl9jcHUsCisgICAgU0NIRURfR1JBTl9jb3JlLAorICAgIFNDSEVEX0dSQU5fc29ja2V0Cit9Owor
CiAvKgogICogSW4gb3JkZXIgdG8gYWxsb3cgYSBzY2hlZHVsZXIgdG8gcmVtYXAgdGhlIGxvY2st
PmNwdSBtYXBwaW5nLAogICogd2UgaGF2ZSBhIHBlci1jcHUgcG9pbnRlciwgYWxvbmcgd2l0aCBh
IHByZS1hbGxvY2F0ZWQgc2V0IG9mCkBAIC00OCw2ICs1NSw3IEBAIHN0cnVjdCBzY2hlZF9yZXNv
dXJjZSB7CiAKICAgICAvKiBDcHUgd2l0aCBsb3dlc3QgaWQgaW4gc2NoZWR1bGluZyByZXNvdXJj
ZS4gKi8KICAgICB1bnNpZ25lZCBpbnQgICAgICAgIG1hc3Rlcl9jcHU7CisgICAgdW5zaWduZWQg
aW50ICAgICAgICBncmFudWxhcml0eTsKICAgICBjb25zdCBjcHVtYXNrX3QgICAgKmNwdXM7ICAg
ICAgICAgICAvKiBjcHVzIGNvdmVyZWQgYnkgdGhpcyBzdHJ1Y3QgICAgICovCiB9OwogCkBAIC01
NDYsNiArNTU0LDcgQEAgc3RydWN0IGNwdXBvb2wKICAgICBzdHJ1Y3QgY3B1cG9vbCAgICpuZXh0
OwogICAgIHN0cnVjdCBzY2hlZHVsZXIgKnNjaGVkOwogICAgIGF0b21pY190ICAgICAgICAgcmVm
Y250OworICAgIGVudW0gc2NoZWRfZ3JhbiAgZ3JhbjsKIH07CiAKICNkZWZpbmUgY3B1cG9vbF9v
bmxpbmVfY3B1bWFzayhfcG9vbCkgXApAQCAtNTYxLDYgKzU3MCw4IEBAIHN0YXRpYyBpbmxpbmUg
Y3B1bWFza190ICpjcHVwb29sX2RvbWFpbl9tYXN0ZXJfY3B1bWFzayhjb25zdCBzdHJ1Y3QgZG9t
YWluICpkKQogICAgIHJldHVybiBkLT5jcHVwb29sLT5yZXNfdmFsaWQ7CiB9CiAKK3Vuc2lnbmVk
IGludCBjcHVwb29sX2dldF9ncmFudWxhcml0eShjb25zdCBzdHJ1Y3QgY3B1cG9vbCAqYyk7CisK
IC8qCiAgKiBIYXJkIGFuZCBzb2Z0IGFmZmluaXR5IGxvYWQgYmFsYW5jaW5nLgogICoKLS0gCjIu
MTYuNAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhl
bi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBz
Oi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id A292DC3785
	for <lists+xen-devel@lfdr.de>; Tue,  1 Oct 2019 16:34:43 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iFJCS-0001fe-Fr; Tue, 01 Oct 2019 14:32:24 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=78uS=X2=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1iFJCR-0001fH-92
 for xen-devel@lists.xenproject.org; Tue, 01 Oct 2019 14:32:23 +0000
X-Inumbo-ID: 41491723-e458-11e9-9701-12813bfff9fa
Received: from esa2.hc3370-68.iphmx.com (unknown [216.71.145.153])
 by localhost (Halon) with ESMTPS
 id 41491723-e458-11e9-9701-12813bfff9fa;
 Tue, 01 Oct 2019 14:32:12 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1569940333;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=AqIOEm+nzP4XZxBlbSrwAmyzNaFVcTpZ0ZfC5lAKhFo=;
 b=M3AJBD6ugBlkw6MzAbEG9JMqXjvDNsv2TIZbDi9cWtaIMq4voR31uIIk
 0b3HpaZVhKDlkwz4ZabHmqSv8Vn+H6ggoq+VcpPw2qaz8XExzFxYjFUIK
 3lOb1eyNtpvFvaiZgFTeqSgOA8lMnYMVb9eJjmFI0p7SWneLY/hFDSVwq Q=;
Authentication-Results: esa2.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa2.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: keDZFjuxS6HrlFfBOsJFCECCkEycSigVM9aBGV/WMRjnyvHpjAOzbRF3Kkb2dWzPVZ8PAQl7ba
 LRuRQfSmPA7Up3Tel0XGYXEw8x3IHFOOzgcTQRzFSQ/zrCP2WhFmyBHbkRRJ4/flW//CYLYld2
 ALTQTk/Gk6vPxb/iYpWqARGXm6qyDlxJlK+oYFPngHHWCcTSfmu5Ba3LkYelWsGBGQbliAO6LC
 tiMexPnqtvGaBmvW1MMCWpc0aEuSMuhX5PQroFgSJAtrmORe2njokQOv/8Q+reJ2Baho9jQtBq
 gh4=
X-SBRS: 2.7
X-MesageID: 6311442
X-Ironport-Server: esa2.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,571,1559534400"; 
   d="scan'208";a="6311442"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Tue, 1 Oct 2019 15:32:07 +0100
Message-ID: <20191001143207.15844-3-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20191001143207.15844-1-andrew.cooper3@citrix.com>
References: <20191001143207.15844-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 2/2] xen/nospec: Introduce
 CONFIG_SPECULATIVE_HARDEN_BRANCH and disable it
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Wei Liu <wl@xen.org>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Norbert Manthey <nmanthey@amazon.de>, Jan Beulich <JBeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGNvZGUgZ2VuZXJhdGlvbiBmb3IgYmFycmllcl9ub3NwZWNfdHJ1ZSgpIGlzIG5vdCBjb3Jy
ZWN0OyB0aGUgbGZlbmNlCmluc3RydWN0aW9ucyBhcmUgZ2VuZXJhbGx5IHRvbyBlYXJseSBpbiB0
aGUgaW5zdHJ1Y3Rpb24gc3RyZWFtLCByZXN1bHRpbmcgaW4gYQpwZXJmb3JtYW5jZSBoaXQgYnV0
IG5vIGFkZGl0aW9uYWwgc3BlY3VsYXRpdmUgc2FmZXR5LgoKVGhpcyBpcyBjYXVzZWQgYnkgaW5s
aW5lIGFzc2VtYmx5IHRyeWluZyB0byBmaWdodCB0aGUgY29tcGlsZXIgb3B0aW1pc2VyLCBhbmQK
dGhlIG9wdGltaXNlciB3aW5uaW5nLiAgVGhlcmUgaXMgbm8gY2xlYXIgd2F5IHRvIGFjaGlldmUg
c2FmZXR5LCBzbyB0dXJuIHRoZQpwZXJmIGhpdCBvZmYgZm9yIG5vdy4KClRoaXMgYWxzbyBsYXJn
ZWx5IHJldmVydHMgMzg2MGQ1NTM0ZGY0LiAgVGhlIG5hbWUgJ2wxdGYtYmFycmllcicsIGFuZCBt
YWtpbmcKYmFycmllcl9ub3NwZWNfdHJ1ZSgpIGRlcGVuZCBvbiBDT05GSUdfSFZNIHdhcyBjb25z
dHJhaW5lZCBieSB3aGF0IGNvdWxkIGJlCmRpc2N1c3NlZCBwdWJsaWNseSBhdCB0aGUgdGltZS4g
IE5vdyB0aGF0IE1EUyBpcyBwdWJsaWMsIG5laXRoZXIgYXNwZWN0cyBhcmUKY29ycmVjdC4KCkFz
IGwxdGYtYmFycmllciBoYXNuJ3QgYmVlbiBpbiBhIHJlbGVhc2Ugb2YgWGVuLCBhbmQKQ09ORklH
X1NQRUNVTEFUSVZFX0hBUkRFTl9CUkFOQ0ggaXMgZGlzYWJsZWQgdW50aWwgd2UgY2FuIGZpbmQg
YSBzYWZlIHdheSBvZgppbXBsZW1lbnRpbmcgdGhlIGZ1bmN0aW9uYWxpdHksIHJlbW92ZSB0aGUg
bDF0Zi1iYXJyaWVyIGNvbW1hbmQgbGluZSBvcHRpb24uCkZpeCBhIHR5cG8gb2YgJ2NvbmRpdGlv
bmFscycgaW4gYW4gYWRqYWNlbnQgY29tbWVudC4KClNpZ25lZC1vZmYtYnk6IEFuZHJldyBDb29w
ZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+ClJlbGVhc2UtYWNrZWQtYnk6IEp1ZXJnZW4g
R3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KLS0tCkNDOiBKYW4gQmV1bGljaCA8SkJldWxpY2hAc3Vz
ZS5jb20+CkNDOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgpDQzogUm9nZXIgUGF1IE1vbm7DqSA8cm9n
ZXIucGF1QGNpdHJpeC5jb20+CkNDOiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+CkND
OiBOb3JiZXJ0IE1hbnRoZXkgPG5tYW50aGV5QGFtYXpvbi5kZT4KCnYyOgogKiBFeHBhbmQgdGhl
IGNvbW1pdCBtZXNzYWdlIHRvIGRlc2NyaWJlIGhvdyB0aGUgZ2VuZXJhdGVkIGNvZGUgaXMgYnJv
a2VuLgogKiBSZW5hbWUgdG8gQ09ORklHX1NQRUNVTEFUSVZFX0hBUkRFTl9CUkFOQ0gKICogU3dp
dGNoIGFsdGVybmF0aXZlKCkgdG8gYXNtKCkKICogRml4IGEgY29tbWVudCB0eXBvCi0tLQogZG9j
cy9taXNjL3hlbi1jb21tYW5kLWxpbmUucGFuZG9jIHwgIDggKy0tLS0tLS0KIHhlbi9hcmNoL3g4
Ni9zcGVjX2N0cmwuYyAgICAgICAgICB8IDE3ICsrLS0tLS0tLS0tLS0tLS0tCiB4ZW4vY29tbW9u
L0tjb25maWcgICAgICAgICAgICAgICAgfCAyMSArKysrKysrKysrKysrKysrKysrKysKIHhlbi9p
bmNsdWRlL2FzbS14ODYvY3B1ZmVhdHVyZXMuaCB8ICAyICstCiB4ZW4vaW5jbHVkZS9hc20teDg2
L25vc3BlYy5oICAgICAgfCAgNiArKystLS0KIHhlbi9pbmNsdWRlL2FzbS14ODYvc3BlY19jdHJs
LmggICB8ICAxIC0KIDYgZmlsZXMgY2hhbmdlZCwgMjggaW5zZXJ0aW9ucygrKSwgMjcgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxpbmUucGFuZG9jIGIv
ZG9jcy9taXNjL3hlbi1jb21tYW5kLWxpbmUucGFuZG9jCmluZGV4IGZjNjQ0MjkwNjQuLmI5YzVi
ODIyY2EgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy94ZW4tY29tbWFuZC1saW5lLnBhbmRvYworKysg
Yi9kb2NzL21pc2MveGVuLWNvbW1hbmQtbGluZS5wYW5kb2MKQEAgLTE5MzIsNyArMTkzMiw3IEBA
IEJ5IGRlZmF1bHQgU1NCRCB3aWxsIGJlIG1pdGlnYXRlZCBhdCBydW50aW1lIChpLmUgYHNzYmQ9
cnVudGltZWApLgogIyMjIHNwZWMtY3RybCAoeDg2KQogPiBgPSBMaXN0IG9mIFsgPGJvb2w+LCB4
ZW49PGJvb2w+LCB7cHYsaHZtLG1zci1zYyxyc2IsbWQtY2xlYXJ9PTxib29sPiwKID4gICAgICAg
ICAgICAgIGJ0aS10aHVuaz1yZXRwb2xpbmV8bGZlbmNlfGptcCwge2licnMsaWJwYixzc2JkLGVh
Z2VyLWZwdSwKLT4gICAgICAgICAgICAgIGwxZC1mbHVzaCxsMXRmLWJhcnJpZXJ9PTxib29sPiBd
YAorPiAgICAgICAgICAgICAgbDFkLWZsdXNofT08Ym9vbD4gXWAKIAogQ29udHJvbHMgZm9yIHNw
ZWN1bGF0aXZlIGV4ZWN1dGlvbiBzaWRlY2hhbm5lbCBtaXRpZ2F0aW9ucy4gIEJ5IGRlZmF1bHQs
IFhlbgogd2lsbCBwaWNrIHRoZSBtb3N0IGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGJhc2VkIG9u
IGNvbXBpbGVkIGluIHN1cHBvcnQsCkBAIC0yMDA0LDEyICsyMDA0LDYgQEAgSXJyZXNwZWN0aXZl
IG9mIFhlbidzIHNldHRpbmcsIHRoZSBmZWF0dXJlIGlzIHZpcnR1YWxpc2VkIGZvciBIVk0gZ3Vl
c3RzIHRvCiB1c2UuICBCeSBkZWZhdWx0LCBYZW4gd2lsbCBlbmFibGUgdGhpcyBtaXRpZ2F0aW9u
IG9uIGhhcmR3YXJlIGJlbGlldmVkIHRvIGJlCiB2dWxuZXJhYmxlIHRvIEwxVEYuCiAKLU9uIGhh
cmR3YXJlIHZ1bG5lcmFibGUgdG8gTDFURiwgdGhlIGBsMXRmLWJhcnJpZXI9YCBvcHRpb24gY2Fu
IGJlIHVzZWQgdG8gZm9yY2UKLW9yIHByZXZlbnQgWGVuIGZyb20gcHJvdGVjdGluZyBldmFsdWF0
aW9ucyBpbnNpZGUgdGhlIGh5cGVydmlzb3Igd2l0aCBhIGJhcnJpZXIKLWluc3RydWN0aW9uIHRv
IG5vdCBsb2FkIHBvdGVudGlhbGx5IHNlY3JldCBpbmZvcm1hdGlvbiBpbnRvIEwxIGNhY2hlLiAg
QnkKLWRlZmF1bHQsIFhlbiB3aWxsIGVuYWJsZSB0aGlzIG1pdGlnYXRpb24gb24gaGFyZHdhcmUg
YmVsaWV2ZWQgdG8gYmUgdnVsbmVyYWJsZQotdG8gTDFURi4KLQogIyMjIHN5bmNfY29uc29sZQog
PiBgPSA8Ym9vbGVhbj5gCiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9zcGVjX2N0cmwuYyBi
L3hlbi9hcmNoL3g4Ni9zcGVjX2N0cmwuYwppbmRleCA0NzYxYmU4MWJkLi41ZWE4ODcwOTgxIDEw
MDY0NAotLS0gYS94ZW4vYXJjaC94ODYvc3BlY19jdHJsLmMKKysrIGIveGVuL2FyY2gveDg2L3Nw
ZWNfY3RybC5jCkBAIC0yMSw3ICsyMSw2IEBACiAjaW5jbHVkZSA8eGVuL2xpYi5oPgogI2luY2x1
ZGUgPHhlbi93YXJuaW5nLmg+CiAKLSNpbmNsdWRlIDxhc20vY3B1aWQuaD4KICNpbmNsdWRlIDxh
c20vbWljcm9jb2RlLmg+CiAjaW5jbHVkZSA8YXNtL21zci5oPgogI2luY2x1ZGUgPGFzbS9wcm9j
ZXNzb3IuaD4KQEAgLTUzLDcgKzUyLDYgQEAgYm9vbCBfX3JlYWRfbW9zdGx5IG9wdF9pYnBiID0g
dHJ1ZTsKIGJvb2wgX19yZWFkX21vc3RseSBvcHRfc3NiZCA9IGZhbHNlOwogaW50OF90IF9fcmVh
ZF9tb3N0bHkgb3B0X2VhZ2VyX2ZwdSA9IC0xOwogaW50OF90IF9fcmVhZF9tb3N0bHkgb3B0X2wx
ZF9mbHVzaCA9IC0xOwotaW50OF90IF9fcmVhZF9tb3N0bHkgb3B0X2wxdGZfYmFycmllciA9IC0x
OwogCiBib29sIF9faW5pdGRhdGEgYnNwX2RlbGF5X3NwZWNfY3RybDsKIHVpbnQ4X3QgX19yZWFk
X21vc3RseSBkZWZhdWx0X3hlbl9zcGVjX2N0cmw7CkBAIC05OCw4ICs5Niw2IEBAIHN0YXRpYyBp
bnQgX19pbml0IHBhcnNlX3NwZWNfY3RybChjb25zdCBjaGFyICpzKQogICAgICAgICAgICAgaWYg
KCBvcHRfcHZfbDF0Zl9kb211IDwgMCApCiAgICAgICAgICAgICAgICAgb3B0X3B2X2wxdGZfZG9t
dSA9IDA7CiAKLSAgICAgICAgICAgIG9wdF9sMXRmX2JhcnJpZXIgPSAwOwotCiAgICAgICAgIGRp
c2FibGVfY29tbW9uOgogICAgICAgICAgICAgb3B0X3JzYl9wdiA9IGZhbHNlOwogICAgICAgICAg
ICAgb3B0X3JzYl9odm0gPSBmYWxzZTsKQEAgLTE3NSw4ICsxNzEsNiBAQCBzdGF0aWMgaW50IF9f
aW5pdCBwYXJzZV9zcGVjX2N0cmwoY29uc3QgY2hhciAqcykKICAgICAgICAgICAgIG9wdF9lYWdl
cl9mcHUgPSB2YWw7CiAgICAgICAgIGVsc2UgaWYgKCAodmFsID0gcGFyc2VfYm9vbGVhbigibDFk
LWZsdXNoIiwgcywgc3MpKSA+PSAwICkKICAgICAgICAgICAgIG9wdF9sMWRfZmx1c2ggPSB2YWw7
Ci0gICAgICAgIGVsc2UgaWYgKCAodmFsID0gcGFyc2VfYm9vbGVhbigibDF0Zi1iYXJyaWVyIiwg
cywgc3MpKSA+PSAwICkKLSAgICAgICAgICAgIG9wdF9sMXRmX2JhcnJpZXIgPSB2YWw7CiAgICAg
ICAgIGVsc2UKICAgICAgICAgICAgIHJjID0gLUVJTlZBTDsKIApAQCAtMzM3LDcgKzMzMSw3IEBA
IHN0YXRpYyB2b2lkIF9faW5pdCBwcmludF9kZXRhaWxzKGVudW0gaW5kX3RodW5rIHRodW5rLCB1
aW50NjRfdCBjYXBzKQogICAgICAgICAgICAgICAgIlxuIik7CiAKICAgICAvKiBTZXR0aW5ncyBm
b3IgWGVuJ3MgcHJvdGVjdGlvbiwgaXJyZXNwZWN0aXZlIG9mIGd1ZXN0cy4gKi8KLSAgICBwcmlu
dGsoIiAgWGVuIHNldHRpbmdzOiBCVEktVGh1bmsgJXMsIFNQRUNfQ1RSTDogJXMlcywgT3RoZXI6
JXMlcyVzJXNcbiIsCisgICAgcHJpbnRrKCIgIFhlbiBzZXR0aW5nczogQlRJLVRodW5rICVzLCBT
UEVDX0NUUkw6ICVzJXMsIE90aGVyOiVzJXMlc1xuIiwKICAgICAgICAgICAgdGh1bmsgPT0gVEhV
TktfTk9ORSAgICAgID8gIk4vQSIgOgogICAgICAgICAgICB0aHVuayA9PSBUSFVOS19SRVRQT0xJ
TkUgPyAiUkVUUE9MSU5FIiA6CiAgICAgICAgICAgIHRodW5rID09IFRIVU5LX0xGRU5DRSAgICA/
ICJMRkVOQ0UiIDoKQEAgLTM0OCw4ICszNDIsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgcHJpbnRf
ZGV0YWlscyhlbnVtIGluZF90aHVuayB0aHVuaywgdWludDY0X3QgY2FwcykKICAgICAgICAgICAg
KGRlZmF1bHRfeGVuX3NwZWNfY3RybCAmIFNQRUNfQ1RSTF9TU0JEKSAgPyAiIFNTQkQrIiA6ICIg
U1NCRC0iLAogICAgICAgICAgICBvcHRfaWJwYiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICA/ICIgSUJQQiIgIDogIiIsCiAgICAgICAgICAgIG9wdF9sMWRfZmx1c2ggICAgICAgICAg
ICAgICAgICAgICAgICAgICAgID8gIiBMMURfRkxVU0giIDogIiIsCi0gICAgICAgICAgIG9wdF9t
ZF9jbGVhcl9wdiB8fCBvcHRfbWRfY2xlYXJfaHZtICAgICAgID8gIiBWRVJXIiAgOiAiIiwKLSAg
ICAgICAgICAgb3B0X2wxdGZfYmFycmllciAgICAgICAgICAgICAgICAgICAgICAgICAgPyAiIEwx
VEZfQkFSUklFUiIgOiAiIik7CisgICAgICAgICAgIG9wdF9tZF9jbGVhcl9wdiB8fCBvcHRfbWRf
Y2xlYXJfaHZtICAgICAgID8gIiBWRVJXIiAgOiAiIik7CiAKICAgICAvKiBMMVRGIGRpYWdub3N0
aWNzLCBwcmludGVkIGlmIHZ1bG5lcmFibGUgb3IgUFYgc2hhZG93aW5nIGlzIGluIHVzZS4gKi8K
ICAgICBpZiAoIGNwdV9oYXNfYnVnX2wxdGYgfHwgb3B0X3B2X2wxdGZfaHdkb20gfHwgb3B0X3B2
X2wxdGZfZG9tdSApCkBAIC0xMDM0LDEyICsxMDI3LDYgQEAgdm9pZCBfX2luaXQgaW5pdF9zcGVj
dWxhdGlvbl9taXRpZ2F0aW9ucyh2b2lkKQogICAgIGVsc2UgaWYgKCBvcHRfbDFkX2ZsdXNoID09
IC0xICkKICAgICAgICAgb3B0X2wxZF9mbHVzaCA9IGNwdV9oYXNfYnVnX2wxdGYgJiYgIShjYXBz
ICYgQVJDSF9DQVBTX1NLSVBfTDFERkwpOwogCi0gICAgLyogQnkgZGVmYXVsdCwgZW5hYmxlIEwx
VEZfVlVMTiBvbiBMMVRGLXZ1bG5lcmFibGUgaGFyZHdhcmUgKi8KLSAgICBpZiAoIG9wdF9sMXRm
X2JhcnJpZXIgPT0gLTEgKQotICAgICAgICBvcHRfbDF0Zl9iYXJyaWVyID0gY3B1X2hhc19idWdf
bDF0ZiAmJiAob3B0X3NtdCB8fCAhb3B0X2wxZF9mbHVzaCk7Ci0gICAgaWYgKCBvcHRfbDF0Zl9i
YXJyaWVyID4gMCApCi0gICAgICAgIHNldHVwX2ZvcmNlX2NwdV9jYXAoWDg2X0ZFQVRVUkVfU0Nf
TDFURl9WVUxOKTsKLQogICAgIC8qCiAgICAgICogV2UgZG8gbm90IGRpc2FibGUgSFQgYnkgZGVm
YXVsdCBvbiBhZmZlY3RlZCBoYXJkd2FyZS4KICAgICAgKgpkaWZmIC0tZ2l0IGEveGVuL2NvbW1v
bi9LY29uZmlnIGIveGVuL2NvbW1vbi9LY29uZmlnCmluZGV4IDkxMTMzMzM1N2EuLmIwYjhhYWRl
YjIgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vS2NvbmZpZworKysgYi94ZW4vY29tbW9uL0tjb25m
aWcKQEAgLTk5LDYgKzk5LDI3IEBAIGNvbmZpZyBTUEVDVUxBVElWRV9IQVJERU5fQVJSQVkKIAog
CSAgSWYgdW5zdXJlLCBzYXkgWS4KIAorY29uZmlnIFNQRUNVTEFUSVZFX0hBUkRFTl9CUkFOQ0gK
Kwlib29sICJTcGVjdWxhdGl2ZSBCcmFuY2ggSGFyZGVuaW5nIgorCWRlcGVuZHMgb24gQlJPS0VO
CisgICAgICAgIC0tLWhlbHAtLS0KKwkgIENvbnRlbXBvcmFyeSBwcm9jZXNzb3JzIG1heSB1c2Ug
c3BlY3VsYXRpdmUgZXhlY3V0aW9uIGFzIGEKKwkgIHBlcmZvcm1hbmNlIG9wdGltaXNhdGlvbiwg
YnV0IHRoaXMgY2FuIHBvdGVudGlhbGx5IGJlIGFidXNlZCBieSBhbgorCSAgYXR0YWNrZXIgdG8g
bGVhayBkYXRhIHZpYSBzcGVjdWxhdGl2ZSBzaWRlY2hhbm5lbHMuCisKKwkgIE9uZSBzb3VyY2Ug
b2YgbWlzYmVoYXZpb3VyIGlzIGJ5IGV4ZWN1dGluZyB0aGUgd3JvbmcgYmFzaWMgYmxvY2sKKwkg
IGZvbGxvd2luZyBhIGNvbmRpdGlvbmFsIGp1bXAuCisKKwkgIFdoZW4gZW5hYmxlZCwgc3BlY2lm
aWMgY29uZGl0aW9ucyB3aGljaCBoYXZlIGJlZW4gZGVlbWVkIGxpYWJsZSB0bworCSAgYmUgc3Bl
Y3VsYXRpdmVseSBhYnVzZWQgd2lsbCBiZSBoYXJkZW5lZCB0byBhdm9pZCBlbnRlcmluZyB0aGUg
d3JvbmcKKwkgIGJhc2ljIGJsb2NrLgorCisJICBUaGlzIGlzIGEgYmVzdC1lZmZvcnQgbWl0aWdh
dGlvbi4gIFRoZXJlIGFyZSBubyBndWFyYW50ZWVzIHRoYXQgYWxsCisJICBhcmVhcyBvZiBjb2Rl
IG9wZW4gdG8gYWJ1c2UgaGF2ZSBiZWVuIGhhcmRlbmVkLgorCisJICAhISEgV0FSTklORyAtIFRo
aXMgZG9lc24ndCBmdW5jdGlvbiBhcyBpbnRlbmRlZC4gIEl0IGRvZXMgbm90CisgICAgICAgICAg
ICAgIGdlbmVyYXRlIHNwZWN1bGF0aXZlbHkgc2FmZSBjb2RlICEhIQorCiBlbmRtZW51CiAKIGNv
bmZpZyBLRVhFQwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9jcHVmZWF0dXJlcy5o
IGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9jcHVmZWF0dXJlcy5oCmluZGV4IDkxZWNjZjUxNjEuLmVj
YjY1MWMzNWQgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS14ODYvY3B1ZmVhdHVyZXMuaAor
KysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2NwdWZlYXR1cmVzLmgKQEAgLTI3LDcgKzI3LDcgQEAg
WEVOX0NQVUZFQVRVUkUoWEVOX1NNQVAsICAgICAgICAgIFg4Nl9TWU5USCgxMSkpIC8qIFNNQVAg
Z2V0cyB1c2VkIGJ5IFhlbiBpdHNlbGYKIFhFTl9DUFVGRUFUVVJFKExGRU5DRV9ESVNQQVRDSCwg
ICBYODZfU1lOVEgoMTIpKSAvKiBsZmVuY2Ugc2V0IGFzIERpc3BhdGNoIFNlcmlhbGlzaW5nICov
CiBYRU5fQ1BVRkVBVFVSRShJTkRfVEhVTktfTEZFTkNFLCAgWDg2X1NZTlRIKDEzKSkgLyogVXNl
IElORF9USFVOS19MRkVOQ0UgKi8KIFhFTl9DUFVGRUFUVVJFKElORF9USFVOS19KTVAsICAgICBY
ODZfU1lOVEgoMTQpKSAvKiBVc2UgSU5EX1RIVU5LX0pNUCAqLwotWEVOX0NQVUZFQVRVUkUoU0Nf
TDFURl9WVUxOLCAgICAgIFg4Nl9TWU5USCgxNSkpIC8qIEwxVEYgcHJvdGVjdGlvbiByZXF1aXJl
ZCAqLworLyogMTUgdW51c2VkLiAqLwogWEVOX0NQVUZFQVRVUkUoU0NfTVNSX1BWLCAgICAgICAg
IFg4Nl9TWU5USCgxNikpIC8qIE1TUl9TUEVDX0NUUkwgdXNlZCBieSBYZW4gZm9yIFBWICovCiBY
RU5fQ1BVRkVBVFVSRShTQ19NU1JfSFZNLCAgICAgICAgWDg2X1NZTlRIKDE3KSkgLyogTVNSX1NQ
RUNfQ1RSTCB1c2VkIGJ5IFhlbiBmb3IgSFZNICovCiBYRU5fQ1BVRkVBVFVSRShTQ19SU0JfUFYs
ICAgICAgICAgWDg2X1NZTlRIKDE4KSkgLyogUlNCIG92ZXJ3cml0ZSBuZWVkZWQgZm9yIFBWICov
CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20teDg2L25vc3BlYy5oIGIveGVuL2luY2x1ZGUv
YXNtLXg4Ni9ub3NwZWMuaAppbmRleCAyYWE0N2IzNDU1Li4wMzc0OGFiYmQzIDEwMDY0NAotLS0g
YS94ZW4vaW5jbHVkZS9hc20teDg2L25vc3BlYy5oCisrKyBiL3hlbi9pbmNsdWRlL2FzbS14ODYv
bm9zcGVjLmgKQEAgLTksMTMgKzksMTMgQEAKIC8qIEFsbG93IHRvIGluc2VydCBhIHJlYWQgbWVt
b3J5IGJhcnJpZXIgaW50byBjb25kaXRpb25hbHMgKi8KIHN0YXRpYyBhbHdheXNfaW5saW5lIGJv
b2wgYmFycmllcl9ub3NwZWNfdHJ1ZSh2b2lkKQogewotI2lmZGVmIENPTkZJR19IVk0KLSAgICBh
bHRlcm5hdGl2ZSgiIiwgImxmZW5jZSIsIFg4Nl9GRUFUVVJFX1NDX0wxVEZfVlVMTik7CisjaWZk
ZWYgQ09ORklHX1NQRUNVTEFUSVZFX0hBUkRFTl9CUkFOQ0gKKyAgICBhc20gdm9sYXRpbGUgKCAi
bGZlbmNlIiA6OjogIm1lbW9yeSIgKTsKICNlbmRpZgogICAgIHJldHVybiB0cnVlOwogfQogCi0v
KiBBbGxvdyB0byBwcm90ZWN0IGV2YWx1YXRpb24gb2YgY29uZGl0aW9uYXNsIHdpdGggcmVzcGVj
dCB0byBzcGVjdWxhdGlvbiAqLworLyogQWxsb3cgdG8gcHJvdGVjdCBldmFsdWF0aW9uIG9mIGNv
bmRpdGlvbmFscyB3aXRoIHJlc3BlY3QgdG8gc3BlY3VsYXRpb24gKi8KIHN0YXRpYyBhbHdheXNf
aW5saW5lIGJvb2wgZXZhbHVhdGVfbm9zcGVjKGJvb2wgY29uZGl0aW9uKQogewogICAgIHJldHVy
biBjb25kaXRpb24gPyBiYXJyaWVyX25vc3BlY190cnVlKCkgOiAhYmFycmllcl9ub3NwZWNfdHJ1
ZSgpOwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9zcGVjX2N0cmwuaCBiL3hlbi9p
bmNsdWRlL2FzbS14ODYvc3BlY19jdHJsLmgKaW5kZXggMTMzOWRkZDdlZi4uYmEwM2JiNDJlNSAx
MDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9zcGVjX2N0cmwuaAorKysgYi94ZW4vaW5j
bHVkZS9hc20teDg2L3NwZWNfY3RybC5oCkBAIC0zNyw3ICszNyw2IEBAIGV4dGVybiBib29sIG9w
dF9pYnBiOwogZXh0ZXJuIGJvb2wgb3B0X3NzYmQ7CiBleHRlcm4gaW50OF90IG9wdF9lYWdlcl9m
cHU7CiBleHRlcm4gaW50OF90IG9wdF9sMWRfZmx1c2g7Ci1leHRlcm4gaW50OF90IG9wdF9sMXRm
X2JhcnJpZXI7CiAKIGV4dGVybiBib29sIGJzcF9kZWxheV9zcGVjX2N0cmw7CiBleHRlcm4gdWlu
dDhfdCBkZWZhdWx0X3hlbl9zcGVjX2N0cmw7Ci0tIAoyLjExLjAKCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhl
bi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3Jn
L21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

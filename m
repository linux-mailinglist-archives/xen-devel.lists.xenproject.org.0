Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 72C53BB17C
	for <lists+xen-devel@lfdr.de>; Mon, 23 Sep 2019 11:32:11 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iCKem-0002NP-2s; Mon, 23 Sep 2019 09:29:20 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=XQlp=XS=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1iCKek-0002NK-M9
 for xen-devel@lists.xenproject.org; Mon, 23 Sep 2019 09:29:18 +0000
X-Inumbo-ID: 9bc0c4c2-dde4-11e9-978d-bc764e2007e4
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id 9bc0c4c2-dde4-11e9-978d-bc764e2007e4;
 Mon, 23 Sep 2019 09:29:14 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 5C8CA1000;
 Mon, 23 Sep 2019 02:29:14 -0700 (PDT)
Received: from [10.1.196.50] (e108454-lin.cambridge.arm.com [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id C44B43F59C;
 Mon, 23 Sep 2019 02:29:13 -0700 (PDT)
To: Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <20190918185041.22738-1-volodymyr_babchuk@epam.com>
 <20190918185041.22738-2-volodymyr_babchuk@epam.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <13c92106-30da-a87c-7615-186e343aad04@arm.com>
Date: Mon, 23 Sep 2019 10:29:12 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20190918185041.22738-2-volodymyr_babchuk@epam.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v2 1/6] xen/arm: optee: impose limit on
 shared buffer size
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "tee-dev@lists.linaro.org" <tee-dev@lists.linaro.org>,
 Stefano Stabellini <sstabellini@kernel.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgVm9sb2R5bXlyLAoKT24gMTgvMDkvMjAxOSAxOTo1MCwgVm9sb2R5bXlyIEJhYmNodWsgd3Jv
dGU6Cj4gV2Ugd2FudCB0byBsaW1pdCBudW1iZXIgb2YgY2FsbHMgdG8gbG9va3VwX2FuZF9waW5f
Z3Vlc3RfcmFtX2FkZHIoKQo+IHBlciBvbmUgcmVxdWVzdC4gVGhlcmUgYXJlIHR3byB3YXlzIHRv
IGRvIHRoaXM6IGVpdGhlciBwcmVlbXB0Cj4gdHJhbnNsYXRlX25vbmNvbnRpZygpIG9yIGxpbWl0
IHNpemUgb2Ygb25lIHNoYXJlZCBidWZmZXIgc2l6ZS4KPiAKPiBJdCBpcyBxdWl0ZSBoYXJkIHRv
IHByZWVtcHQgdHJhbnNsYXRlX25vbmNvbnRpZygpLCBiZWNhdXNlIGl0IGlzIGRlZXAKPiBuZXN0
ZWQuIFNvIHdlIGNob3NlIHRoZSBzZWNvbmQgb3B0aW9uLiBXZSB3aWxsIGFsbG93IDEyOSBwYWdl
cyBwZXIgb25lCj4gc2hhcmVkIGJ1ZmZlci4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgR1Agc3Rh
bmRhcmQsIGFzIGl0IHJlcXVpcmVzCj4gdGhhdCBzaXplIGxpbWl0IGZvciBzaGFyZWQgYnVmZmVy
IHNob3VsZCBiZSBhdCBsZWFzdCA1MTJrQi4gT25lIGV4dHJhCj4gcGFnZSAoMTI5dGgpIGlzIG5l
ZWRlZCB0byBjb3BlIHdpdGggdGhlIGZhY3QgdGhhdCB1c2VyJ3MgYnVmZmVyIGlzIG5vdAo+IG5l
Y2Vzc2FyeSBhbGlnbmVkIHdpdGggcGFnZSBib3VuZGFyeS4KPiAKPiBBbHNvLCB3aXRoIHRoaXMg
bGltaXRhdGlvbiBPUC1URUUgc3RpbGwgcGFzc2VzIG93biAieHRlc3QiIHRlc3Qgc3VpdGUsCj4g
c28gdGhpcyBpcyBva2F5IGZvciBub3cuCj4gCj4gU2lnbmVkLW9mZi1ieTogVm9sb2R5bXlyIEJh
YmNodWsgPHZvbG9keW15cl9iYWJjaHVrQGVwYW0uY29tPgo+IAo+IC0tLQo+IAo+IENoYW5nZXMg
ZnJvbSB2MToKPiAgIC0gQWRkZWQgY29tbWVudCBiZWZvcmUgQlVJTERfQlVHX09OKFBBR0VfU0la
RSAhPSA0MDk2KTsKPiAgIC0gRml4ZWQgdHlwbyBpbiB0aGUgY29tbWl0IG1lc3NhZ2UKPiAgIC0g
RGVjcmVhc2VkIE1BWF9TSE1fQlVGRkVSX1BHIHRvIDEyOQo+IC0tLQo+ICAgeGVuL2FyY2gvYXJt
L3RlZS9vcHRlZS5jIHwgNDQgKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0t
LQo+ICAgMSBmaWxlIGNoYW5nZWQsIDMyIGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQo+
IAo+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vdGVlL29wdGVlLmMgYi94ZW4vYXJjaC9hcm0v
dGVlL29wdGVlLmMKPiBpbmRleCBlYzU0MDJlODliLi5kNjRlOWMzYjg1IDEwMDY0NAo+IC0tLSBh
L3hlbi9hcmNoL2FybS90ZWUvb3B0ZWUuYwo+ICsrKyBiL3hlbi9hcmNoL2FybS90ZWUvb3B0ZWUu
Ywo+IEBAIC03Miw2ICs3MiwxOSBAQAo+ICAgICovCj4gICAjZGVmaW5lIE1BWF9UT1RBTF9TTUhf
QlVGX1BHICAgIDE2Mzg0Cj4gICAKPiArLyoKPiArICogTGltaXQgZm9yIHNoYXJlZCBidWZmZXIg
c2l6ZS4gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGRlZmluZSBsaW1pdHMKPiArICogbnVtYmVyIG9m
IHBhZ2VzLiBCdXQgdXNlciBidWZmZXIgY2FuIGJlIG5vdCBhbGlnbmVkIHRvIGEgcGFnZQo+ICsg
KiBib3VuZGFyeS4gU28gaXQgaXMgcG9zc2libGUgdGhhdCB1c2VyIHdvdWxkIG5vdCBiZSBhYmxl
IHRvIHNoYXJlCj4gKyAqIGV4YWN0bHkgTUFYX1NITV9CVUZGRVJfUEcgKiBQQUdFX1NJWkUgYnl0
ZXMgd2l0aCBPUC1URUUuCj4gKyAqCj4gKyAqIEdsb2JhbCBQbGF0Zm9ybSBzcGVjaWZpY2F0aW9u
IGZvciBURUUgcmVxdWlyZXMgdGhhdCBhbnkgVEVFCj4gKyAqIGltcGxlbWVudGF0aW9uIHNob3Vs
ZCBhbGxvdyB0byBzaGFyZSBidWZmZXJzIHdpdGggc2l6ZSBvZiBhdCBsZWFzdAo+ICsgKiA1MTJL
Qiwgd2hpY2ggZXF1YWxzIHRvIDEyOCA0S0IgcGFnZXMuIER1ZSB0byBhbGlnbiBpc3N1ZSBtZW50
aW9uZWQKPiArICogYWJvdmUsIHdlIG5lZWQgdG8gaW5jcmVhc2UgdGhpcyB2YWx1ZSB0byAxMjku
Cj4gKyAqLwo+ICsjZGVmaW5lIE1BWF9TSE1fQlVGRkVSX1BHICAgICAgIDEyOQo+ICsKPiAgICNk
ZWZpbmUgT1BURUVfS05PV05fTlNFQ19DQVBTIE9QVEVFX1NNQ19OU0VDX0NBUF9VTklQUk9DRVNT
T1IKPiAgICNkZWZpbmUgT1BURUVfS05PV05fU0VDX0NBUFMgKE9QVEVFX1NNQ19TRUNfQ0FQX0hB
VkVfUkVTRVJWRURfU0hNIHwgXAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BU
RUVfU01DX1NFQ19DQVBfVU5SRUdJU1RFUkVEX1NITSB8IFwKPiBAQCAtNjk3LDE2ICs3MTAsMjkg
QEAgc3RhdGljIGludCB0cmFuc2xhdGVfbm9uY29udGlnKHN0cnVjdCBvcHRlZV9kb21haW4gKmN0
eCwKPiAgICAgICBzaXplID0gUk9VTkRVUChwYXJhbS0+dS50bWVtLnNpemUgKyBvZmZzZXQsIE9Q
VEVFX01TR19OT05DT05USUdfUEFHRV9TSVpFKTsKPiAgIAo+ICAgICAgIHBnX2NvdW50ID0gRElW
X1JPVU5EX1VQKHNpemUsIE9QVEVFX01TR19OT05DT05USUdfUEFHRV9TSVpFKTsKPiArICAgIGlm
ICggcGdfY291bnQgPiBNQVhfU0hNX0JVRkZFUl9QRyApCj4gKyAgICAgICAgcmV0dXJuIC1FTk9N
RU07Cj4gKwo+ICAgICAgIG9yZGVyID0gZ2V0X29yZGVyX2Zyb21fYnl0ZXMoZ2V0X3BhZ2VzX2xp
c3Rfc2l6ZShwZ19jb3VudCkpOwo+ICAgCj4gICAgICAgLyoKPiAtICAgICAqIEluIHRoZSB3b3Jz
dCBjYXNlIHdlIHdpbGwgd2FudCB0byBhbGxvY2F0ZSAzMyBwYWdlcywgd2hpY2ggaXMKPiAtICAg
ICAqIE1BWF9UT1RBTF9TTUhfQlVGX1BHLzUxMSByb3VuZGVkIHVwLiBUaGlzIGdpdmVzIG9yZGVy
IDYgb3IgYXQKPiAtICAgICAqIG1vc3QgNjQgcGFnZXMgYWxsb2NhdGVkLiBUaGlzIGJ1ZmZlciB3
aWxsIGJlIGZyZWVkIHJpZ2h0IGFmdGVyCj4gLSAgICAgKiB0aGUgZW5kIG9mIHRoZSBjYWxsIGFu
ZCB0aGVyZSBjYW4gYmUgbm8gbW9yZSB0aGFuCj4gKyAgICAgKiBJbiB0aGUgd29yc3QgY2FzZSB3
ZSB3aWxsIHdhbnQgdG8gYWxsb2NhdGUgMSBwYWdlLCB3aGljaCBpcwo+ICsgICAgICogTUFYX1NI
TV9CVUZGRVJfUEcvNTExIHJvdW5kZWQgdXAuIFRoaXMgYnVmZmVyIHdpbGwgYmUgZnJlZWQKPiAr
ICAgICAqIHJpZ2h0IGFmdGVyIHRoZSBlbmQgb2YgdGhlIGNhbGwgYW5kIHRoZXJlIGNhbiBiZSBu
byBtb3JlIHRoYW4KPiAgICAgICAgKiBtYXhfb3B0ZWVfdGhyZWFkcyBjYWxscyBzaW11bHRhbmVv
dXNseS4gU28gaW4gdGhlIHdvcnN0IGNhc2UKPiAtICAgICAqIGd1ZXN0IGNhbiB0cmljayB1cyB0
byBhbGxvY2F0ZSA2NCAqIG1heF9vcHRlZV90aHJlYWRzIHBhZ2VzIGluCj4gKyAgICAgKiBndWVz
dCBjYW4gdHJpY2sgdXMgdG8gYWxsb2NhdGUgMSAqIG1heF9vcHRlZV90aHJlYWRzIHBhZ2VzIGlu
Cj4gICAgICAgICogdG90YWwuCj4gKyAgICAgKgo+ICsgICAgICogSXQgbWF5IHNlZW0gc3RyYW5n
ZSB0byBoYXZlIHN1Y2ggY29tcGxleCBjYWxjdWxhdGlvbnMgaWYgd2UKPiArICAgICAqIGFsd2F5
cyB3aWxsIGFsbG9jYXRlIGV4YWN0bHkgb25lIHBhZ2UuIFRob3NlIGNhbGN1bGF0aW9ucyBleGlz
dAo+ICsgICAgICogaW4gdGhlIGZpcnN0IHBsYWNlIGJlY2F1c2UgZWFybGllciB0aGVyZSB3ZXJl
IGJpZ2dlciBsaW1pdCBmb3IKPiArICAgICAqIHNoYXJlZCBidWZmZXIgc2l6ZSwgc28gdGhlcmUg
d2VyZSBjYXNlcywgd2hlbiB3ZSBuZWVkZWQgbW9yZQo+ICsgICAgICogdGhhdCBvbmUgcGFnZSB0
aGVyZS4gUmlnaHQgbm93IHRoaXMgaXMgbm90IHRydWUsIGJ1dCB0aGlzIGNvZGUKPiArICAgICAq
IHJlbWFpbnMgZm9yIHR3byByZWFzb25zOgo+ICsgICAgICogLSBVc2VycyBjYW4gY2hhbmdlIE1B
WF9TSE1fQlVGRkVSX1BHIHRvIGEgaGlnaGVyIHZhbHVlLCBpbiB3aGljaAo+ICsgICAgICogICBj
YXNlIHRoZXkgd2lsbCBuZWVkIHRoaXMgY29kZS4KPiArICAgICAqIC0gVGhlcmUgaXMgYSBwbGFu
IHRvIGltcGxlbWVudCBwcmVlbXB0aW9uIGluIHRoZSBjb2RlIGJlbG93LCB3aGljaAo+ICsgICAg
ICogICB3aWxsIGFsbG93IHVzZSB0byBpbmNyZWFzZSBkZWZhdWx0IE1BWF9TSE1fQlVGRkVSX1BH
IHZhbHVlLgo+ICAgICAgICAqLwo+ICAgICAgIHhlbl9wZ3MgPSBhbGxvY19kb21oZWFwX3BhZ2Vz
KGN1cnJlbnQtPmRvbWFpbiwgb3JkZXIsIDApOwo+ICAgICAgIGlmICggIXhlbl9wZ3MgKQo+IEBA
IC03NDcsMTMgKzc3Myw3IEBAIHN0YXRpYyBpbnQgdHJhbnNsYXRlX25vbmNvbnRpZyhzdHJ1Y3Qg
b3B0ZWVfZG9tYWluICpjdHgsCj4gICAgICAgICAgICAgICB4ZW5fZGF0YSA9IF9fbWFwX2RvbWFp
bl9wYWdlKHhlbl9wZ3MpOwo+ICAgICAgICAgICB9Cj4gICAKPiAtICAgICAgICAvKgo+IC0gICAg
ICAgICAqIFRPRE86IFRoYXQgZnVuY3Rpb24gY2FuIHBpbiB1cCB0byA2NE1CIG9mIGd1ZXN0IG1l
bW9yeSBieQo+IC0gICAgICAgICAqIGNhbGxpbmcgbG9va3VwX2FuZF9waW5fZ3Vlc3RfcmFtX2Fk
ZHIoKSAxNjM4NCB0aW1lcwo+IC0gICAgICAgICAqIChhc3N1bWluZyB0aGF0IFBBR0VfU0laRSBl
cXVhbHMgdG8gNDA5NikuCj4gLSAgICAgICAgICogVGhpcyBzaG91bGQgYmUgYWRkcmVzc2VkIGJl
Zm9yZSBkZWNsYXJpbmcgT1AtVEVFIHNlY3VyaXR5Cj4gLSAgICAgICAgICogc3VwcG9ydGVkLgo+
IC0gICAgICAgICAqLwo+ICsgICAgICAgIC8qIE9ubHkgNGsgcGFnZXMgYXJlIHN1cHBvcnRlZCBy
aWdodCBub3cgKi8KCk5JVDogcy80ay80S0IvIHRvIHN0YXkgY29uc2lzdGVudC4KCj4gICAgICAg
ICAgIEJVSUxEX0JVR19PTihQQUdFX1NJWkUgIT0gNDA5Nik7Cj4gICAgICAgICAgIHBhZ2UgPSBn
ZXRfZG9tYWluX3JhbV9wYWdlKGdhZGRyX3RvX2dmbihndWVzdF9kYXRhLT5wYWdlc19saXN0W2lk
eF0pKTsKPiAgICAgICAgICAgaWYgKCAhcGFnZSApCj4gCgpDaGVlcnMsCgotLSAKSnVsaWVuIEdy
YWxsCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

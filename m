Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 84BDFB0DB4
	for <lists+xen-devel@lfdr.de>; Thu, 12 Sep 2019 13:21:52 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8N6v-0000j0-LS; Thu, 12 Sep 2019 11:18:01 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=GjwE=XH=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1i8N6t-0000i2-Gw
 for xen-devel@lists.xenproject.org; Thu, 12 Sep 2019 11:17:59 +0000
X-Inumbo-ID: f446b474-d54e-11e9-83e7-12813bfff9fa
Received: from esa6.hc3370-68.iphmx.com (unknown [216.71.155.175])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id f446b474-d54e-11e9-83e7-12813bfff9fa;
 Thu, 12 Sep 2019 11:17:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568287069;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=wlhP2VUQUzaEN98t3Lol149kD3BgIdIbcDr9/tSfeiY=;
 b=UQ1dns1sDgUskFnYZf5NMDy9zOaFKgyCW72hAug5t51N1N6QSv4kir0d
 W3ZQk/YmeU2WZnHIETLXdIQz61mbydo0gddLmO0bzSO1X3/4DDaoM6tnM
 VZcIhmiwXw1RV9kTqFRC8YX3tw9FRAWNYD0zKle3gfbKgcQuPmsNdbZnL M=;
Authentication-Results: esa6.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa6.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: fffQBtH7heyjWeUHWLdmJLnbOpnbrPZhCUBBAYj3Zqp3ECubcVwa2+R101ns9QE3R8AIgqBxj1
 pJAxeDEAMo0QCgOVZMTiLTHaZ9x8Ejz50eCu13HaqQTm/bc8m3zo9bhFIGUiEyUJvhQau/VyNH
 5A/oAiMqBGGY4o1bFe0CxHy0yawRKMLfTrnujErMzh2SXMJfhtPOFa0sbY0aeyxCMfIZo20MsZ
 ER30v9Qoc5O1EzPpwR79fv4sBXJckXlaXCN2ICfaSG7qPCKNoG0nu8/WnDRduSblJpQCz3VGkh
 LgQ=
X-SBRS: 2.7
X-MesageID: 5719882
X-Ironport-Server: esa6.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,495,1559534400"; 
   d="scan'208";a="5719882"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 12 Sep 2019 12:17:44 +0100
Message-ID: <20190912111744.40410-7-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190912111744.40410-1-paul.durrant@citrix.com>
References: <20190912111744.40410-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v9 6/6] introduce a 'passthrough' configuration
 option to xl.cfg...
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim
 Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Paul Durrant <paul.durrant@citrix.com>, Christian
 Lindig <christian.lindig@citrix.com>, Jan Beulich <jbeulich@suse.com>,
 David Scott <dave@recoil.org>, Anthony PERARD <anthony.perard@citrix.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Li4uYW5kIGhlbmNlIHRoZSBhYmlsaXR5IHRvIGRpc2FibGUgSU9NTVUgbWFwcGluZ3MsIGFuZCBj
b250cm9sIEVQVApzaGFyaW5nLgoKVGhpcyBwYXRjaCBpbnRyb2R1Y2VzIGEgbmV3ICdsaWJ4bF9w
YXNzdGhyb3VnaCcgZW51bWVyYXRpb24gaW50bwpsaWJ4bF9kb21haW5fY3JlYXRlX2luZm8uIFRo
ZSB2YWx1ZSB3aWxsIGJlIHNldCBieSB4bCBlaXRoZXIgd2hlbiBpdCBwYXJzZXMKYSBuZXcgJ3Bh
c3N0aHJvdWdoJyBvcHRpb24gaW4geGwuY2ZnLCBvciBpbXBsaWNpdGx5IGlmIHRoZXJlIGlzIHBh
c3N0aHJvdWdoCmhhcmR3YXJlIHNwZWNpZmllZCBmb3IgdGhlIGRvbWFpbi4KCklmIHRoZSB2YWx1
ZSBvZiB0aGUgcGFzc3Rocm91Z2ggY29uZmlndXJhdGlvbiBvcHRpb24gaXMgJ2Rpc2FibGVkJyB0
aGVuCnRoZSBYRU5fRE9NQ1RMX0NERl9pb21tdSBmbGFnIHdpbGwgYmUgY2xlYXIgaW4gdGhlIHhl
bl9kb21jdGxfY3JlYXRlZG9tYWluCmZsYWdzLCB0aHVzIGFsbG93aW5nIHRoZSB0b29sc3RhY2sg
dG8gY29udHJvbCB3aGV0aGVyIHRoZSBkb21haW4gZ2V0cwpJT01NVSBtYXBwaW5ncyBvciBub3Qg
KHdoZXJlIHByZXZpb3VzbHkgdGhleSB3ZXJlIGdsb2JhbGx5IHNldCkuCgpJZiB0aGUgdmFsdWUg
b2YgdGhlIHBhc3N0aHJvdWdoIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGlzICdzeW5jX3B0JyB0aGVu
CmEgbmV3ICdpb21tdV9vcHRzJyBmaWVsZCBpbiB4ZW5fZG9tY3RsX2NyZWF0ZWRvbWFpbiB3aWxs
IGJlIHNldCB3aXRoIHRoZQp2YWx1ZSBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQuIFRoaXMg
d2lsbCBvdmVycmlkZSB0aGUgZ2xvYmFsIGRlZmF1bHQKc2V0IGluIGlvbW11X2hhcF9wdF9zaGFy
ZSwgdGh1cyBhbGxvd2luZyB0aGUgdG9vbHN0YWNrIHRvIGNvbnRyb2wgd2hldGhlcgpFUFQgc2hh
cmluZyBpcyB1c2VkIGZvciB0aGUgZG9tYWluLgoKSWYgdGhlIHZhbHVlIG9mIHBhc3N0aHJvdWdo
IGlzICdlbmFibGVkJyB0aGVuIHhsIHdpbGwgY2hvb3NlIGFuIGFwcHJvcHJpYXRlCmRlZmF1bHQg
YWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIGRvbWFpbiBhbmQgaGFyZHdhcmUgc3VwcG9ydC4KCk5P
VEU6IFRoZSAnaW9tbXVfbWVta2InIG92ZXJoZWFkIGluIGxpYnhsX2RvbWFpbl9idWlsZF9pbmZv
IHdpbGwgbm93IG9ubHkKICAgICAgYmUgc2V0IGlmIHBhc3N0aHJvdWdoIGlzICdzeW5jX3B0JyAo
b3IgeGwgaGFzIGNob3NlbiB0aGlzIG1vZGUgYXMKICAgICAgYSBkZWZhdWx0KS4KClNpZ25lZC1v
ZmYtYnk6IFBhdWwgRHVycmFudCA8cGF1bC5kdXJyYW50QGNpdHJpeC5jb20+ClJldmlld2VkLWJ5
OiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+Ci0tLQpDYzogSWFuIEphY2tzb24gPGlh
bi5qYWNrc29uQGV1LmNpdHJpeC5jb20+CkNjOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgpDYzogQW5k
cmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KQ2M6IEdlb3JnZSBEdW5sYXAg
PEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4KQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdy
YWxsQGFybS5jb20+CkNjOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNs
ZS5jb20+CkNjOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+CkNj
OiBUaW0gRGVlZ2FuIDx0aW1AeGVuLm9yZz4KQ2M6IEFudGhvbnkgUEVSQVJEIDxhbnRob255LnBl
cmFyZEBjaXRyaXguY29tPgpDYzogQ2hyaXN0aWFuIExpbmRpZyA8Y2hyaXN0aWFuLmxpbmRpZ0Bj
aXRyaXguY29tPgpDYzogRGF2aWQgU2NvdHQgPGRhdmVAcmVjb2lsLm9yZz4KQ2M6IFZvbG9keW15
ciBCYWJjaHVrIDxWb2xvZHlteXJfQmFiY2h1a0BlcGFtLmNvbT4KQ2M6ICJSb2dlciBQYXUgTW9u
bsOpIiA8cm9nZXIucGF1QGNpdHJpeC5jb20+CgpQcmV2aW91c2x5IHBhcnQgb2Ygc2VyaWVzIGh0
dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvYXJjaGl2ZXMvaHRtbC94ZW4tZGV2ZWwvMjAxOS0w
Ny9tc2cwMjI2Ny5odG1sCgp2OToKIC0gQWRkZWQgdGhlIHBhc3N0aHJvdWdoPSdlbmFibGVkJyBv
cHRpb24gdG8geGwKIC0gT25lIGNvc21ldGljIGNoYW5nZSBpbiB4ZW4KIC0gQXNzdW1lIEphbidz
IFItYiBzdGFuZHMgc2luY2Ugbm9uLWNvc21ldGljIGNoYW5nZXMgYXJlIG9ubHkgaW4gdGhlCiAg
IHRvb2xzdGFjawoKdjc6CiAtIEFkZGVkIG1pc3NpbmcgYnJlYWtzCiAtIEFkZGVkIG1pc3Npbmcg
b2NhbWwgYmluZGluZyBjaGFuZ2VzCgp2NjoKIC0gUmVtb3ZlIHRoZSBsaWJ4bF9waHlzaW5mbygp
IGNhbGwgc2luY2UgaXQncyB1c2VmdWxuZXNzIGlzIGxpbWl0ZWQgdG8geDg2Cgp2NToKIC0gRXhw
YW5kIHhlbl9kb21jdGxfY3JlYXRlZG9tYWluIGZsYWdzIGZpZWxkIGFuZCBoZW5jZSBidW1wIGlu
dGVyZmFjZQogICB2ZXJzaW9uCiAtIEZpeCBzcGVsbGluZyBtaXN0YWtlcyBpbiBjb250ZXh0IGxp
bmUKLS0tCiBkb2NzL21hbi94bC5jZmcuNS5wb2QuaW4gICAgICAgICAgICB8ICA1NiArKysrKysr
KysrCiB0b29scy9saWJ4bC9saWJ4bC5oICAgICAgICAgICAgICAgICB8ICAgOSArKwogdG9vbHMv
bGlieGwvbGlieGxfY3JlYXRlLmMgICAgICAgICAgfCAgIDkgKysKIHRvb2xzL2xpYnhsL2xpYnhs
X3R5cGVzLmlkbCAgICAgICAgIHwgICA3ICsrCiB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwu
bWwgICAgICB8ICAgNCArCiB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpICAgICB8ICAg
NSArCiB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMuYyB8ICAxNiArKy0KIHRvb2xz
L3hsL3hsX3BhcnNlLmMgICAgICAgICAgICAgICAgIHwgMTU4ICsrKysrKysrKysrKysrKysrKy0t
LS0tLS0tLS0KIHhlbi9hcmNoL2FybS9kb21haW4uYyAgICAgICAgICAgICAgIHwgIDEwICstCiB4
ZW4vYXJjaC94ODYvZG9tYWluLmMgICAgICAgICAgICAgICB8ICAgMiArLQogeGVuL2NvbW1vbi9k
b21haW4uYyAgICAgICAgICAgICAgICAgfCAgIDcgKysKIHhlbi9jb21tb24vZG9tY3RsLmMgICAg
ICAgICAgICAgICAgIHwgIDEzIC0tLQogeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYyAg
ICAgfCAgMTMgKystCiB4ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmggICAgICAgICB8ICAxMCAr
LQogeGVuL2luY2x1ZGUveGVuL2lvbW11LmggICAgICAgICAgICAgfCAgMTUgKy0tCiAxNSBmaWxl
cyBjaGFuZ2VkLCAyNTMgaW5zZXJ0aW9ucygrKSwgODEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZG9jcy9tYW4veGwuY2ZnLjUucG9kLmluIGIvZG9jcy9tYW4veGwuY2ZnLjUucG9kLmluCmlu
ZGV4IGM5OWQ0MDMwN2UuLjE1NGQ4NDdmYjkgMTAwNjQ0Ci0tLSBhL2RvY3MvbWFuL3hsLmNmZy41
LnBvZC5pbgorKysgYi9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4KQEAgLTYwNSw2ICs2MDUsNjIg
QEAgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgd2l0aCBhIHRydXN0ZWQgZGV2aWNlIHRyZWUu
CiBOb3RlIHRoYXQgdGhlIHBhcnRpYWwgZGV2aWNlIHRyZWUgc2hvdWxkIGF2b2lkIHVzaW5nIHRo
ZSBwaGFuZGxlIDY1MDAwCiB3aGljaCBpcyByZXNlcnZlZCBieSB0aGUgdG9vbHN0YWNrLgogCis9
aXRlbSBCPHBhc3N0aHJvdWdoPSJTVFJJTkciPgorCitTcGVjaWZ5IHdoZXRoZXIgSU9NTVUgbWFw
cGluZ3MgYXJlIGVuYWJsZWQgZm9yIHRoZSBkb21haW4gYW5kIGhlbmNlIHdoZXRoZXIKK2l0IHdp
bGwgYmUgZW5hYmxlZCBmb3IgcGFzc3Rocm91Z2ggaGFyZHdhcmUuIFZhbGlkIHZhbHVlcyBmb3Ig
dGhpcyBvcHRpb24KK2FyZToKKworPW92ZXIgNAorCis9aXRlbSBCPGRpc2FibGVkPgorCitJT01N
VSBtYXBwaW5ncyBhcmUgZGlzYWJsZWQgZm9yIHRoZSBkb21haW4gYW5kIHNvIGhhcmR3YXJlIG1h
eSBub3QgYmUKK3Bhc3NlZCB0aHJvdWdoLgorCitUaGlzIG9wdGlvbiBpcyB0aGUgZGVmYXVsdCBp
ZiBubyBwYXNzdGhyb3VnaCBoYXJkd2FyZSBpcyBzcGVjaWZpZWQgaW4gdGhlCitkb21haW4ncyBj
b25maWd1cmF0aW9uLgorCis9aXRlbSBCPHN5bmNfcHQ+CisKK1RoaXMgb3B0aW9uIG1lYW5zIHRo
YXQgSU9NTVUgbWFwcGluZ3Mgd2lsbCBiZSBzeW5jaHJvbml6ZWQgd2l0aCB0aGUKK2RvbWFpbidz
IFAyTSB0YWJsZSBhcyBmb2xsb3dzOgorCitGb3IgYSBQViBkb21haW4sIGFsbCB3cml0YWJsZSBw
YWdlcyBhc3NpZ25lZCB0byB0aGUgZG9tYWluIGFyZSBpZGVudGl0eQorbWFwcGVkIGJ5IE1GTiBp
biB0aGUgSU9NTVUgcGFnZSB0YWJsZS4gVGh1cyBhIGRldmljZSBkcml2ZXIgcnVubmluZyBpbiB0
aGUKK2RvbWFpbiBtYXkgcHJvZ3JhbSBwYXNzdGhyb3VnaCBoYXJkd2FyZSBmb3IgRE1BIHVzaW5n
IE1GTiB2YWx1ZXMKKyhpLmUuIGhvc3QvbWFjaGluZSBmcmFtZSBudW1iZXJzKSBsb29rZWQgdXAg
aW4gaXRzIFAyTS4KKworRm9yIGFuIEhWTSBkb21haW4sIGFsbCBub24tZm9yZWlnbiBSQU0gcGFn
ZXMgcHJlc2VudCBpbiBpdHMgUDJNIHdpbGwgYmUKK21hcHBlZCBieSBHRk4gaW4gdGhlIElPTU1V
IHBhZ2UgdGFibGUuIFRodXMgYSBkZXZpY2UgZHJpdmVyIHJ1bm5pbmcgaW4gdGhlCitkb21haW4g
bWF5IHByb2dyYW0gcGFzc3Rocm91Z2ggaGFyZHdhcmUgdXNpbmcgR0ZOIHZhbHVlcyAoaS5lLiBn
dWVzdAorcGh5c2ljYWwgZnJhbWUgbnVtYmVycykgd2l0aG91dCBhbnkgZnVydGhlciB0cmFuc2xh
dGlvbi4KKworVGhpcyBvcHRpb24gaXMgbm90IGN1cnJlbnRseSBhdmFpbGFibGUgb24gQXJtLgor
Cis9aXRlbSBCPHNoYXJlX3B0PgorCitUaGlzIG9wdGlvbiBpcyB1bmF2YWlsYWJsZSBmb3IgYSBQ
ViBkb21haW4uIEZvciBhbiBIVk0gZG9tYWluLCB0aGlzIG9wdGlvbgorbWVhbnMgdGhhdCB0aGUg
SU9NTVUgd2lsbCBiZSBwcm9ncmFtbWVkIHRvIGRpcmVjdGx5IHJlZmVyZW5jZSB0aGUgZG9tYWlu
J3MKK1AyTSB0YWJsZSBhcyBpdHMgcGFnZSB0YWJsZS4gRnJvbSB0aGUgcG9pbnQgb2YgdmlldyBv
ZiBhIGRldmljZSBkcml2ZXIKK3J1bm5pbmcgaW4gdGhlIGRvbWFpbiB0aGlzIGlzIGZ1bmN0aW9u
YWxseSBlcXVpdmFsZW50IHRvIEI8c3luY19wdD4gYnV0CitwbGFjZXMgbGVzcyBsb2FkIG9uIHRo
ZSBoeXBlcnZpc29yIGFuZCBzbyBzaG91bGQgZ2VuZXJhbGx5IGJlIHNlbGVjdGVkIGluCitwcmVm
ZXJlbmNlLiBIb3dldmVyLCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoaXMgb3B0aW9uIGlzIGhhcmR3
YXJlIHNwZWNpZmljLgorSWYgQjx4bCBpbmZvPiByZXBvcnRzIEI8dmlydF9jYXBzPiBjb250YWlu
aW5nIEI8aW9tbXVfaGFwX3B0X3NoYXJlPiB0aGVuCit0aGlzIG9wdGlvbiBtYXkgYmUgdXNlZC4K
KworPWl0ZW0gQjxlbmFibGVkPgorCitUaGlzIG9wdGlvbiBlbmFibGVzIElPTU1VIG1hcHBpbmdz
IGFuZCBzZWxlY3RzIGFuIGFwcHJvcHJpYXRlIGRlZmF1bHQKK29wZXJhdGluZyBtb2RlLiBGb3Ig
SFZNIGRvbWFpbnMgcnVubmluZyBvbiBwbGF0Zm9ybXMgd2hlcmUgdGhlIG9wdGlvbiBpcworYXZh
aWxhYmxlLCB0aGlzIGlzIGVxdWl2YWxlbnQgdG8gQjxzaGFyZV9wdD4uIE90aGVyd2lzZSwgYW5k
IGFsc28gZm9yIFBWCitkb21haW5zLCB0aGlzIG9wdGlvbnMgaXMgZXF1aXZhbGVudCB0byBCPHN5
bmNfcHQ+LgorCitUaGlzIG9wdGlvbiBpcyB0aGUgZGVmYXVsdCBpZiBwYXNzdGhyb3VnaCBoYXJk
d2FyZSBpcyBzcGVjaWZpZWQgaW4gdGhlCitkb21haW4ncyBjb25maWd1cmF0aW9uLgorCis9YmFj
aworCiA9YmFjawogCiA9aGVhZDIgRGV2aWNlcwpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGli
eGwuaCBiL3Rvb2xzL2xpYnhsL2xpYnhsLmgKaW5kZXggYTllN2NmODZmZC4uZjk5MjQzNzY5MSAx
MDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGwuaAorKysgYi90b29scy9saWJ4bC9saWJ4bC5o
CkBAIC00MTUsNiArNDE1LDE1IEBACiAgKi8KICNkZWZpbmUgTElCWExfSEFWRV9CVUlMRElORk9f
SU9NTVVfTUVNS0IgMQogCisvKgorICogTElCWExfSEFWRV9DUkVBVEVJTkZPX1BBU1NUSFJPVUdI
IGluZGljYXRlcyB0aGF0CisgKiBsaWJ4bF9kb21haW5fY3JlYXRlX2luZm8gaGFzIGEgcGFzc3Ro
cm91Z2ggZmllbGQgKHdoaWNoIGlzIGEKKyAqIGxpYnhsX3Bhc3N0aHJvdWdoIGVudW1lcmF0aW9u
KSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIGRldmljZSBwYXNzLQorICogdGhyb3VnaCBpcyBlbmFi
bGVkIGZvciB0aGUgZG9tYWluIGFuZCwgaWYgc28sIHdoZXRoZXIgdGhlIElPTU1VIGFuZAorICog
SEFQIHBhZ2UgdGFibGVzIG1heSBiZSBzaGFyZWQgb3Igbm90LgorICovCisjZGVmaW5lIExJQlhM
X0hBVkVfQ1JFQVRFSU5GT19QQVNTVEhST1VHSCAxCisKIC8qCiAgKiBsaWJ4bCBBQkkgY29tcGF0
aWJpbGl0eQogICoKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX2NyZWF0ZS5jIGIvdG9v
bHMvbGlieGwvbGlieGxfY3JlYXRlLmMKaW5kZXggM2I0NTA2NTU5Ny4uZTFiYjIzMmY0MCAxMDA2
NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfY3JlYXRlLmMKKysrIGIvdG9vbHMvbGlieGwvbGli
eGxfY3JlYXRlLmMKQEAgLTU3MCw2ICs1NzAsMTUgQEAgaW50IGxpYnhsX19kb21haW5fbWFrZShs
aWJ4bF9fZ2MgKmdjLCBsaWJ4bF9kb21haW5fY29uZmlnICpkX2NvbmZpZywKICAgICAgICAgICAg
ICAgICBsaWJ4bF9kZWZib29sX3ZhbChpbmZvLT5vb3MpID8gMCA6IFhFTl9ET01DVExfQ0RGX29v
c19vZmY7CiAgICAgICAgIH0KIAorICAgICAgICBMT0coREVUQUlMLCAicGFzc3Rocm91Z2g6ICVz
IiwKKyAgICAgICAgICAgIGxpYnhsX3Bhc3N0aHJvdWdoX3RvX3N0cmluZyhpbmZvLT5wYXNzdGhy
b3VnaCkpOworCisgICAgICAgIGlmIChpbmZvLT5wYXNzdGhyb3VnaCAhPSBMSUJYTF9QQVNTVEhS
T1VHSF9ESVNBQkxFRCkKKyAgICAgICAgICAgIGNyZWF0ZS5mbGFncyB8PSBYRU5fRE9NQ1RMX0NE
Rl9pb21tdTsKKworICAgICAgICBpZiAoaW5mby0+cGFzc3Rocm91Z2ggPT0gTElCWExfUEFTU1RI
Uk9VR0hfU1lOQ19QVCkKKyAgICAgICAgICAgIGNyZWF0ZS5pb21tdV9vcHRzIHw9IFhFTl9ET01D
VExfSU9NTVVfbm9fc2hhcmVwdDsKKwogICAgICAgICAvKiBVbHRpbWF0ZWx5LCBoYW5kbGUgaXMg
YW4gYXJyYXkgb2YgMTYgdWludDhfdCwgc2FtZSBhcyB1dWlkICovCiAgICAgICAgIGxpYnhsX3V1
aWRfY29weShjdHgsIChsaWJ4bF91dWlkICopJmNyZWF0ZS5oYW5kbGUsICZpbmZvLT51dWlkKTsK
IApkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRsIGIvdG9vbHMvbGlieGwv
bGlieGxfdHlwZXMuaWRsCmluZGV4IGUwNjA3ODgwOTIuLjE4MDlhZWRmMDIgMTAwNjQ0Ci0tLSBh
L3Rvb2xzL2xpYnhsL2xpYnhsX3R5cGVzLmlkbAorKysgYi90b29scy9saWJ4bC9saWJ4bF90eXBl
cy5pZGwKQEAgLTI2Myw2ICsyNjMsMTIgQEAgbGlieGxfdmtiX2JhY2tlbmQgPSBFbnVtZXJhdGlv
bigidmtiX2JhY2tlbmQiLCBbCiAgICAgKDIsICJMSU5VWCIpCiAgICAgXSkKIAorbGlieGxfcGFz
c3Rocm91Z2ggPSBFbnVtZXJhdGlvbigicGFzc3Rocm91Z2giLCBbCisgICAgKDAsICJkaXNhYmxl
ZCIpLAorICAgICgxLCAic3luY19wdCIpLAorICAgICgyLCAic2hhcmVfcHQiKSwKKyAgICBdKQor
CiAjCiAjIENvbXBsZXggbGlieGwgdHlwZXMKICMKQEAgLTQwOCw2ICs0MTQsNyBAQCBsaWJ4bF9k
b21haW5fY3JlYXRlX2luZm8gPSBTdHJ1Y3QoImRvbWFpbl9jcmVhdGVfaW5mbyIsWwogICAgICgi
cG9vbF9uYW1lIiwgICAgc3RyaW5nKSwKICAgICAoInJ1bl9ob3RwbHVnX3NjcmlwdHMiLGxpYnhs
X2RlZmJvb2wpLAogICAgICgiZHJpdmVyX2RvbWFpbiIsbGlieGxfZGVmYm9vbCksCisgICAgKCJw
YXNzdGhyb3VnaCIsICBsaWJ4bF9wYXNzdGhyb3VnaCksCiAgICAgXSwgZGlyPURJUl9JTikKIAog
bGlieGxfZG9tYWluX3Jlc3RvcmVfcGFyYW1zID0gU3RydWN0KCJkb21haW5fcmVzdG9yZV9wYXJh
bXMiLCBbCmRpZmYgLS1naXQgYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwgYi90b29s
cy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwKaW5kZXggMzBkYTZiYTM3MC4uNDZiNGY3NDhjMCAx
MDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sCisrKyBiL3Rvb2xzL29j
YW1sL2xpYnMveGMveGVuY3RybC5tbApAQCAtNjUsMTEgKzY1LDE1IEBAIHR5cGUgZG9tYWluX2Ny
ZWF0ZV9mbGFnID0KIAl8IENERl9YU19ET01BSU4KIAl8IENERl9JT01NVQogCit0eXBlIGRvbWFp
bl9jcmVhdGVfaW9tbXVfb3B0cyA9CisJfCBJT01NVV9OT19TSEFSRVBUCisKIHR5cGUgZG9tY3Rs
X2NyZWF0ZV9jb25maWcgPQogewogCXNzaWRyZWY6IGludDMyOwogCWhhbmRsZTogc3RyaW5nOwog
CWZsYWdzOiBkb21haW5fY3JlYXRlX2ZsYWcgbGlzdDsKKwlpb21tdV9vcHRzOiBkb21haW5fY3Jl
YXRlX2lvbW11X29wdHMgbGlzdDsKIAltYXhfdmNwdXM6IGludDsKIAltYXhfZXZ0Y2huX3BvcnQ6
IGludDsKIAltYXhfZ3JhbnRfZnJhbWVzOiBpbnQ7CmRpZmYgLS1naXQgYS90b29scy9vY2FtbC9s
aWJzL3hjL3hlbmN0cmwubWxpIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1saQppbmRl
eCA2NGMzNTQxOGU4Li44MjRmMzYxNjMyIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC9saWJzL3hj
L3hlbmN0cmwubWxpCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkKQEAgLTU3
LDEwICs1NywxNSBAQCB0eXBlIGRvbWFpbl9jcmVhdGVfZmxhZyA9CiAgIHwgQ0RGX09PU19PRkYK
ICAgfCBDREZfWFNfRE9NQUlOCiAgIHwgQ0RGX0lPTU1VCisKK3R5cGUgZG9tYWluX2NyZWF0ZV9p
b21tdV9vcHRzID0KKyAgfCBJT01NVV9OT19TSEFSRVBUCisKIHR5cGUgZG9tY3RsX2NyZWF0ZV9j
b25maWcgPSB7CiAgIHNzaWRyZWY6IGludDMyOwogICBoYW5kbGU6IHN0cmluZzsKICAgZmxhZ3M6
IGRvbWFpbl9jcmVhdGVfZmxhZyBsaXN0OworICBpb21tdV9vcHRzOiBkb21haW5fY3JlYXRlX2lv
bW11X29wdHMgbGlzdDsKICAgbWF4X3ZjcHVzOiBpbnQ7CiAgIG1heF9ldnRjaG5fcG9ydDogaW50
OwogICBtYXhfZ3JhbnRfZnJhbWVzOiBpbnQ7CmRpZmYgLS1naXQgYS90b29scy9vY2FtbC9saWJz
L3hjL3hlbmN0cmxfc3R1YnMuYyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybF9zdHVicy5j
CmluZGV4IDBjZGQ4NzM1OTkuLjQxYjJiZjA3ODggMTAwNjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL2xp
YnMveGMveGVuY3RybF9zdHVicy5jCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybF9z
dHVicy5jCkBAIC0xOTAsMTEgKzE5MCwxMiBAQCBDQU1McHJpbSB2YWx1ZSBzdHViX3hjX2RvbWFp
bl9jcmVhdGUodmFsdWUgeGNoLCB2YWx1ZSBjb25maWcpCiAjZGVmaW5lIFZBTF9TU0lEUkVGICAg
ICAgICAgICAgIEZpZWxkKGNvbmZpZywgMCkKICNkZWZpbmUgVkFMX0hBTkRMRSAgICAgICAgICAg
ICAgRmllbGQoY29uZmlnLCAxKQogI2RlZmluZSBWQUxfRkxBR1MgICAgICAgICAgICAgICBGaWVs
ZChjb25maWcsIDIpCi0jZGVmaW5lIFZBTF9NQVhfVkNQVVMgICAgICAgICAgIEZpZWxkKGNvbmZp
ZywgMykKLSNkZWZpbmUgVkFMX01BWF9FVlRDSE5fUE9SVCAgICAgRmllbGQoY29uZmlnLCA0KQot
I2RlZmluZSBWQUxfTUFYX0dSQU5UX0ZSQU1FUyAgICBGaWVsZChjb25maWcsIDUpCi0jZGVmaW5l
IFZBTF9NQVhfTUFQVFJBQ0tfRlJBTUVTIEZpZWxkKGNvbmZpZywgNikKLSNkZWZpbmUgVkFMX0FS
Q0ggICAgICAgICAgICAgICAgRmllbGQoY29uZmlnLCA3KQorI2RlZmluZSBWQUxfSU9NTVVfT1BU
UyAgICAgICAgICBGaWVsZChjb25maWcsIDMpCisjZGVmaW5lIFZBTF9NQVhfVkNQVVMgICAgICAg
ICAgIEZpZWxkKGNvbmZpZywgNCkKKyNkZWZpbmUgVkFMX01BWF9FVlRDSE5fUE9SVCAgICAgRmll
bGQoY29uZmlnLCA1KQorI2RlZmluZSBWQUxfTUFYX0dSQU5UX0ZSQU1FUyAgICBGaWVsZChjb25m
aWcsIDYpCisjZGVmaW5lIFZBTF9NQVhfTUFQVFJBQ0tfRlJBTUVTIEZpZWxkKGNvbmZpZywgNykK
KyNkZWZpbmUgVkFMX0FSQ0ggICAgICAgICAgICAgICAgRmllbGQoY29uZmlnLCA4KQogCiAJdWlu
dDMyX3QgZG9taWQgPSAwOwogCWludCByZXN1bHQ7CkBAIC0yMTMsNiArMjE0LDEwIEBAIENBTUxw
cmltIHZhbHVlIHN0dWJfeGNfZG9tYWluX2NyZWF0ZSh2YWx1ZSB4Y2gsIHZhbHVlIGNvbmZpZykK
IAkJLyogISBYRU5fRE9NQ1RMX0NERl8gWEVOX0RPTUNUTF9DREZfTUFYIG1heCAqLwogCQkoVkFM
X0ZMQUdTKTsKIAorCWNmZy5pb21tdV9vcHRzID0gb2NhbWxfbGlzdF90b19jX2JpdG1hcAorCQkv
KiAhIGRvbWFpbl9jcmVhdGVfaW9tbXVfb3B0cyBJT01NVV8gbGMgKi8KKwkJLyogISBYRU5fRE9N
Q1RMX0lPTU1VXyBYRU5fRE9NQ1RMX0lPTU1VX01BWCBtYXggKi8KKwogCWFyY2hfZG9tY29uZmln
ID0gRmllbGQoVkFMX0FSQ0gsIDApOwogCXN3aXRjaCAoIFRhZ192YWwoVkFMX0FSQ0gpICkKIAl7
CkBAIC0yNDcsNiArMjUyLDcgQEAgQ0FNTHByaW0gdmFsdWUgc3R1Yl94Y19kb21haW5fY3JlYXRl
KHZhbHVlIHhjaCwgdmFsdWUgY29uZmlnKQogI3VuZGVmIFZBTF9NQVhfR1JBTlRfRlJBTUVTCiAj
dW5kZWYgVkFMX01BWF9FVlRDSE5fUE9SVAogI3VuZGVmIFZBTF9NQVhfVkNQVVMKKyN1bmRlZiBW
QUxfSU9NTVVfT1BUUwogI3VuZGVmIFZBTF9GTEFHUwogI3VuZGVmIFZBTF9IQU5ETEUKICN1bmRl
ZiBWQUxfU1NJRFJFRgpkaWZmIC0tZ2l0IGEvdG9vbHMveGwveGxfcGFyc2UuYyBiL3Rvb2xzL3hs
L3hsX3BhcnNlLmMKaW5kZXggMjkzZjVmNzMwZS4uNGIyYmFhMDQwMyAxMDA2NDQKLS0tIGEvdG9v
bHMveGwveGxfcGFyc2UuYworKysgYi90b29scy94bC94bF9wYXJzZS5jCkBAIC0xNDYxLDYgKzE0
NjEsMTA3IEBAIHZvaWQgcGFyc2VfY29uZmlnX2RhdGEoY29uc3QgY2hhciAqY29uZmlnX3NvdXJj
ZSwKICAgICAgICAgZXhpdCgxKTsKICAgICB9CiAKKyAgICBpZiAoIXhsdV9jZmdfZ2V0X2xpc3Qg
KGNvbmZpZywgInBjaSIsICZwY2lzLCAwLCAwKSkgeworICAgICAgICBkX2NvbmZpZy0+bnVtX3Bj
aWRldnMgPSAwOworICAgICAgICBkX2NvbmZpZy0+cGNpZGV2cyA9IE5VTEw7CisgICAgICAgIGZv
cihpID0gMDsgKGJ1ZiA9IHhsdV9jZmdfZ2V0X2xpc3RpdGVtIChwY2lzLCBpKSkgIT0gTlVMTDsg
aSsrKSB7CisgICAgICAgICAgICBsaWJ4bF9kZXZpY2VfcGNpICpwY2lkZXY7CisKKyAgICAgICAg
ICAgIHBjaWRldiA9IEFSUkFZX0VYVEVORF9JTklUX05PREVWSUQoZF9jb25maWctPnBjaWRldnMs
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfY29uZmln
LT5udW1fcGNpZGV2cywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbGlieGxfZGV2aWNlX3BjaV9pbml0KTsKKyAgICAgICAgICAgIHBjaWRldi0+bXNpdHJh
bnNsYXRlID0gcGNpX21zaXRyYW5zbGF0ZTsKKyAgICAgICAgICAgIHBjaWRldi0+cG93ZXJfbWdt
dCA9IHBjaV9wb3dlcl9tZ210OworICAgICAgICAgICAgcGNpZGV2LT5wZXJtaXNzaXZlID0gcGNp
X3Blcm1pc3NpdmU7CisgICAgICAgICAgICBwY2lkZXYtPnNlaXplID0gcGNpX3NlaXplOworICAg
ICAgICAgICAgLyoKKyAgICAgICAgICAgICAqIExpa2Ugb3RoZXIgcGNpIG9wdGlvbiwgdGhlIHBl
ci1kZXZpY2UgcG9saWN5IGFsd2F5cyBmb2xsb3dzCisgICAgICAgICAgICAgKiB0aGUgZ2xvYmFs
IHBvbGljeSBieSBkZWZhdWx0LgorICAgICAgICAgICAgICovCisgICAgICAgICAgICBwY2lkZXYt
PnJkbV9wb2xpY3kgPSBiX2luZm8tPnUuaHZtLnJkbS5wb2xpY3k7CisgICAgICAgICAgICBlID0g
eGx1X3BjaV9wYXJzZV9iZGYoY29uZmlnLCBwY2lkZXYsIGJ1Zik7CisgICAgICAgICAgICBpZiAo
ZSkgeworICAgICAgICAgICAgICAgIGZwcmludGYoc3RkZXJyLAorICAgICAgICAgICAgICAgICAg
ICAgICAgInVuYWJsZSB0byBwYXJzZSBQQ0kgQkRGIGAlcycgZm9yIHBhc3N0aHJvdWdoXG4iLAor
ICAgICAgICAgICAgICAgICAgICAgICAgYnVmKTsKKyAgICAgICAgICAgICAgICBleGl0KC1lKTsK
KyAgICAgICAgICAgIH0KKyAgICAgICAgfQorICAgICAgICBpZiAoZF9jb25maWctPm51bV9wY2lk
ZXZzICYmIGNfaW5mby0+dHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9QVikKKyAgICAgICAgICAg
IGxpYnhsX2RlZmJvb2xfc2V0KCZiX2luZm8tPnUucHYuZTgyMF9ob3N0LCB0cnVlKTsKKyAgICB9
CisKKyAgICBpZiAoIXhsdV9jZmdfZ2V0X2xpc3QgKGNvbmZpZywgImR0ZGV2IiwgJmR0ZGV2cywg
MCwgMCkpIHsKKyAgICAgICAgZF9jb25maWctPm51bV9kdGRldnMgPSAwOworICAgICAgICBkX2Nv
bmZpZy0+ZHRkZXZzID0gTlVMTDsKKyAgICAgICAgZm9yIChpID0gMDsgKGJ1ZiA9IHhsdV9jZmdf
Z2V0X2xpc3RpdGVtKGR0ZGV2cywgaSkpICE9IE5VTEw7IGkrKykgeworICAgICAgICAgICAgbGli
eGxfZGV2aWNlX2R0ZGV2ICpkdGRldjsKKworICAgICAgICAgICAgZHRkZXYgPSBBUlJBWV9FWFRF
TkRfSU5JVF9OT0RFVklEKGRfY29uZmlnLT5kdGRldnMsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZF9jb25maWctPm51bV9kdGRldnMsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfZGV2aWNlX2R0ZGV2X2lu
aXQpOworCisgICAgICAgICAgICBkdGRldi0+cGF0aCA9IHN0cmR1cChidWYpOworICAgICAgICAg
ICAgaWYgKGR0ZGV2LT5wYXRoID09IE5VTEwpIHsKKyAgICAgICAgICAgICAgICBmcHJpbnRmKHN0
ZGVyciwgInVuYWJsZSB0byBkdXBsaWNhdGUgc3RyaW5nIGZvciBkdGRldnNcbiIpOworICAgICAg
ICAgICAgICAgIGV4aXQoLTEpOworICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgfQorCisg
ICAgaWYgKHhsdV9jZmdfZ2V0X3N0cmluZyhjb25maWcsICJwYXNzdGhyb3VnaCIsICZidWYsIDAp
KSB7CisgICAgICAgIGJ1ZiA9IChkX2NvbmZpZy0+bnVtX3BjaWRldnMgfHwgZF9jb25maWctPm51
bV9kdGRldnMpCisgICAgICAgICAgICA/ICJlbmFibGVkIiA6ICJkaXNhYmxlZCI7CisgICAgfQor
CisgICAgaWYgKCFzdHJuY21wKGJ1ZiwgImVuYWJsZWQiLCBzdHJsZW4oYnVmKSkpIHsKKyAgICAg
ICAgLyogQ2hvb3NlIGEgc3VpdGFibGUgZGVmYXVsdCAqLworICAgICAgICBjX2luZm8tPnBhc3N0
aHJvdWdoID0KKyAgICAgICAgICAgIChjX2luZm8tPnR5cGUgPT0gTElCWExfRE9NQUlOX1RZUEVf
UFYpIHx8ICFpb21tdV9oYXBfcHRfc2hhcmUKKyAgICAgICAgICAgID8gTElCWExfUEFTU1RIUk9V
R0hfU1lOQ19QVCA6IExJQlhMX1BBU1NUSFJPVUdIX1NIQVJFX1BUOworICAgIH0gZWxzZSB7Cisg
ICAgICAgIGxpYnhsX3Bhc3N0aHJvdWdoIG87CisKKyAgICAgICAgZSA9IGxpYnhsX3Bhc3N0aHJv
dWdoX2Zyb21fc3RyaW5nKGJ1ZiwgJm8pOworICAgICAgICBpZiAoZSkgeworICAgICAgICAgICAg
ZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICJFUlJPUjogdW5rbm93biBwYXNz
dGhyb3VnaCBvcHRpb24gJyVzJ1xuIiwKKyAgICAgICAgICAgICAgICAgICAgYnVmKTsKKyAgICAg
ICAgICAgIGV4aXQoLUVSUk9SX0ZBSUwpOworICAgICAgICB9CisKKyAgICAgICAgc3dpdGNoIChv
KSB7CisgICAgICAgIGNhc2UgTElCWExfUEFTU1RIUk9VR0hfRElTQUJMRUQ6CisgICAgICAgICAg
ICBpZiAoZF9jb25maWctPm51bV9wY2lkZXZzIHx8IGRfY29uZmlnLT5udW1fZHRkZXZzKSB7Cisg
ICAgICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICAgICAi
RVJST1I6IHBhc3N0aHJvdWdoIGRpc2FibGVkIGJ1dCBkZXZpY2VzIGFyZSBzcGVjaWZpZWRcbiIp
OworICAgICAgICAgICAgICAgIGV4aXQoLUVSUk9SX0ZBSUwpOworICAgICAgICAgICAgfQorICAg
ICAgICAgICAgYnJlYWs7CisgICAgICAgIGNhc2UgTElCWExfUEFTU1RIUk9VR0hfU0hBUkVfUFQ6
CisgICAgICAgICAgICBpZiAoY19pbmZvLT50eXBlID09IExJQlhMX0RPTUFJTl9UWVBFX1BWKSB7
CisgICAgICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICAg
ICAiRVJST1I6IHBhc3N0aHJvdWdoPVwic2hhcmVfcHRcIiBub3QgdmFsaWQgZm9yIFBWIGRvbWFp
blxuIik7CisgICAgICAgICAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgICAgICAgICB9
IGVsc2UgaWYgKCFpb21tdV9oYXBfcHRfc2hhcmUpIHsKKyAgICAgICAgICAgICAgICBmcHJpbnRm
KHN0ZGVyciwKKyAgICAgICAgICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2g9XCJz
aGFyZV9wdFwiIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybVxuIik7CisgICAgICAgICAg
ICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBicmVh
azsKKyAgICAgICAgY2FzZSBMSUJYTF9QQVNTVEhST1VHSF9TWU5DX1BUOgorICAgICAgICAgICAg
YnJlYWs7CisgICAgICAgIH0KKworICAgICAgICBjX2luZm8tPnBhc3N0aHJvdWdoID0gbzsKKyAg
ICB9CisKKyAgICBpZiAoKGNfaW5mby0+cGFzc3Rocm91Z2ggIT0gTElCWExfUEFTU1RIUk9VR0hf
RElTQUJMRUQpICYmICFpb21tdV9lbmFibGVkKSB7CisgICAgICAgIGZwcmludGYoc3RkZXJyLAor
ICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2ggbm90IHN1cHBvcnRlZCBvbiB0aGlz
IHBsYXRmb3JtXG4iKTsKKyAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgfQorCiAgICAg
LyogbGlieGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKSBhbmQKICAgICAgKiBsaWJ4bF9n
ZXRfcmVxdWlyZWRfaW9tbXVfbWVtb3J5KCkgbXVzdCBiZSBjYWxsZWQgYWZ0ZXIgZmluYWwgdmFs
dWVzCiAgICAgICogKGRlZmF1bHQgb3Igc3BlY2lmaWVkKSBmb3IgdmNwdXMgYW5kIG1lbW9yeSBh
cmUgc2V0LCBiZWNhdXNlIHRoZQpAQCAtMTQ3MCwxMSArMTU3MSwxMCBAQCB2b2lkIHBhcnNlX2Nv
bmZpZ19kYXRhKGNvbnN0IGNoYXIgKmNvbmZpZ19zb3VyY2UsCiAgICAgICAgIDogbGlieGxfZ2V0
X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoYl9pbmZvLT5tYXhfbWVta2IsCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYl9pbmZvLT5tYXhfdmNwdXMpOwogCi0gICAg
LyogTm8gSU9NTVUgcmVzZXJ2YXRpb24gaXMgbmVlZGVkIGlmIGVpdGhlciB0aGUgSU9NTVUgaXMg
ZGlzYWJsZWQgb3IgaXQKLSAgICAgKiBjYW4gc2hhcmUgdGhlIFAyTS4gKi8KLSAgICBiX2luZm8t
PmlvbW11X21lbWtiID0gKCFpb21tdV9lbmFibGVkIHx8IGlvbW11X2hhcF9wdF9zaGFyZSkKLSAg
ICAgICAgPyAwCi0gICAgICAgIDogbGlieGxfZ2V0X3JlcXVpcmVkX2lvbW11X21lbW9yeShiX2lu
Zm8tPm1heF9tZW1rYik7CisgICAgLyogTm8gSU9NTVUgcmVzZXJ2YXRpb24gaXMgbmVlZGVkIGlm
IHBhc3N0aHJvdWdoIG1vZGUgaXMgbm90ICdzeW5jX3B0JyAqLworICAgIGJfaW5mby0+aW9tbXVf
bWVta2IgPSAoY19pbmZvLT5wYXNzdGhyb3VnaCA9PSBMSUJYTF9QQVNTVEhST1VHSF9TWU5DX1BU
KQorICAgICAgICA/IGxpYnhsX2dldF9yZXF1aXJlZF9pb21tdV9tZW1vcnkoYl9pbmZvLT5tYXhf
bWVta2IpCisgICAgICAgIDogMDsKIAogICAgIHhsdV9jZmdfZ2V0X2RlZmJvb2woY29uZmlnLCAi
bm9taWdyYXRlIiwgJmJfaW5mby0+ZGlzYWJsZV9taWdyYXRlLCAwKTsKIApAQCAtMjI5OCw1NCAr
MjM5OCw2IEBAIHNraXBfdmZiOgogICAgICAgICB9CiAgICAgfQogCi0gICAgaWYgKCF4bHVfY2Zn
X2dldF9saXN0IChjb25maWcsICJwY2kiLCAmcGNpcywgMCwgMCkpIHsKLSAgICAgICAgZF9jb25m
aWctPm51bV9wY2lkZXZzID0gMDsKLSAgICAgICAgZF9jb25maWctPnBjaWRldnMgPSBOVUxMOwot
ICAgICAgICBmb3IoaSA9IDA7IChidWYgPSB4bHVfY2ZnX2dldF9saXN0aXRlbSAocGNpcywgaSkp
ICE9IE5VTEw7IGkrKykgewotICAgICAgICAgICAgbGlieGxfZGV2aWNlX3BjaSAqcGNpZGV2Owot
Ci0gICAgICAgICAgICBwY2lkZXYgPSBBUlJBWV9FWFRFTkRfSU5JVF9OT0RFVklEKGRfY29uZmln
LT5wY2lkZXZzLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBkX2NvbmZpZy0+bnVtX3BjaWRldnMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxpYnhsX2RldmljZV9wY2lfaW5pdCk7Ci0gICAgICAgICAgICBwY2lk
ZXYtPm1zaXRyYW5zbGF0ZSA9IHBjaV9tc2l0cmFuc2xhdGU7Ci0gICAgICAgICAgICBwY2lkZXYt
PnBvd2VyX21nbXQgPSBwY2lfcG93ZXJfbWdtdDsKLSAgICAgICAgICAgIHBjaWRldi0+cGVybWlz
c2l2ZSA9IHBjaV9wZXJtaXNzaXZlOwotICAgICAgICAgICAgcGNpZGV2LT5zZWl6ZSA9IHBjaV9z
ZWl6ZTsKLSAgICAgICAgICAgIC8qCi0gICAgICAgICAgICAgKiBMaWtlIG90aGVyIHBjaSBvcHRp
b24sIHRoZSBwZXItZGV2aWNlIHBvbGljeSBhbHdheXMgZm9sbG93cwotICAgICAgICAgICAgICog
dGhlIGdsb2JhbCBwb2xpY3kgYnkgZGVmYXVsdC4KLSAgICAgICAgICAgICAqLwotICAgICAgICAg
ICAgcGNpZGV2LT5yZG1fcG9saWN5ID0gYl9pbmZvLT51Lmh2bS5yZG0ucG9saWN5OwotICAgICAg
ICAgICAgZSA9IHhsdV9wY2lfcGFyc2VfYmRmKGNvbmZpZywgcGNpZGV2LCBidWYpOwotICAgICAg
ICAgICAgaWYgKGUpIHsKLSAgICAgICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwKLSAgICAgICAg
ICAgICAgICAgICAgICAgICJ1bmFibGUgdG8gcGFyc2UgUENJIEJERiBgJXMnIGZvciBwYXNzdGhy
b3VnaFxuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zik7Ci0gICAgICAgICAgICAgICAg
ZXhpdCgtZSk7Ci0gICAgICAgICAgICB9Ci0gICAgICAgIH0KLSAgICAgICAgaWYgKGRfY29uZmln
LT5udW1fcGNpZGV2cyAmJiBjX2luZm8tPnR5cGUgPT0gTElCWExfRE9NQUlOX1RZUEVfUFYpCi0g
ICAgICAgICAgICBsaWJ4bF9kZWZib29sX3NldCgmYl9pbmZvLT51LnB2LmU4MjBfaG9zdCwgdHJ1
ZSk7Ci0gICAgfQotCi0gICAgaWYgKCF4bHVfY2ZnX2dldF9saXN0IChjb25maWcsICJkdGRldiIs
ICZkdGRldnMsIDAsIDApKSB7Ci0gICAgICAgIGRfY29uZmlnLT5udW1fZHRkZXZzID0gMDsKLSAg
ICAgICAgZF9jb25maWctPmR0ZGV2cyA9IE5VTEw7Ci0gICAgICAgIGZvciAoaSA9IDA7IChidWYg
PSB4bHVfY2ZnX2dldF9saXN0aXRlbShkdGRldnMsIGkpKSAhPSBOVUxMOyBpKyspIHsKLSAgICAg
ICAgICAgIGxpYnhsX2RldmljZV9kdGRldiAqZHRkZXY7Ci0KLSAgICAgICAgICAgIGR0ZGV2ID0g
QVJSQVlfRVhURU5EX0lOSVRfTk9ERVZJRChkX2NvbmZpZy0+ZHRkZXZzLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfY29uZmlnLT5udW1fZHRkZXZzLAot
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnhsX2Rldmlj
ZV9kdGRldl9pbml0KTsKLQotICAgICAgICAgICAgZHRkZXYtPnBhdGggPSBzdHJkdXAoYnVmKTsK
LSAgICAgICAgICAgIGlmIChkdGRldi0+cGF0aCA9PSBOVUxMKSB7Ci0gICAgICAgICAgICAgICAg
ZnByaW50ZihzdGRlcnIsICJ1bmFibGUgdG8gZHVwbGljYXRlIHN0cmluZyBmb3IgZHRkZXZzXG4i
KTsKLSAgICAgICAgICAgICAgICBleGl0KC0xKTsKLSAgICAgICAgICAgIH0KLSAgICAgICAgfQot
ICAgIH0KLQogICAgIGlmICgheGx1X2NmZ19nZXRfbGlzdChjb25maWcsICJ1c2JjdHJsIiwgJnVz
YmN0cmxzLCAwLCAwKSkgewogICAgICAgICBkX2NvbmZpZy0+bnVtX3VzYmN0cmxzID0gMDsKICAg
ICAgICAgZF9jb25maWctPnVzYmN0cmxzID0gTlVMTDsKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2Fy
bS9kb21haW4uYyBiL3hlbi9hcmNoL2FybS9kb21haW4uYwppbmRleCBhZTEzZTQ3ZTg2Li42MWQz
NWNkMTIwIDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWluLmMKKysrIGIveGVuL2FyY2gv
YXJtL2RvbWFpbi5jCkBAIC02MTcsNiArNjE3LDE0IEBAIGludCBhcmNoX3Nhbml0aXNlX2RvbWFp
bl9jb25maWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluICpjb25maWcpCiAgICAgICAg
IHJldHVybiAtRUlOVkFMOwogICAgIH0KIAorICAgIC8qIFRoZSBQMk0gdGFibGUgbXVzdCBhbHdh
eXMgYmUgc2hhcmVkIGJldHdlZW4gdGhlIENQVSBhbmQgdGhlIElPTU1VICovCisgICAgaWYgKCBj
b25maWctPmlvbW11X29wdHMgJiBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQgKQorICAgIHsK
KyAgICAgICAgZHByaW50ayhYRU5MT0dfSU5GTywKKyAgICAgICAgICAgICAgICAiVW5zdXBwb3J0
ZWQgaW9tbXUgb3B0aW9uOiBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHRcbiIpOworICAgICAg
ICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKICAgICAvKiBGaWxsIGluIHRoZSBuYXRpdmUgR0lD
IHZlcnNpb24sIHBhc3NlZCBiYWNrIHRvIHRoZSB0b29sc3RhY2suICovCiAgICAgaWYgKCBjb25m
aWctPmFyY2guZ2ljX3ZlcnNpb24gPT0gWEVOX0RPTUNUTF9DT05GSUdfR0lDX05BVElWRSApCiAg
ICAgewpAQCAtNjc3LDcgKzY4NSw3IEBAIGludCBhcmNoX2RvbWFpbl9jcmVhdGUoc3RydWN0IGRv
bWFpbiAqZCwKICAgICBBU1NFUlQoY29uZmlnICE9IE5VTEwpOwogCiAgICAgLyogcDJtX2luaXQg
cmVsaWVzIG9uIHNvbWUgdmFsdWUgaW5pdGlhbGl6ZWQgYnkgdGhlIElPTU1VIHN1YnN5c3RlbSAq
LwotICAgIGlmICggKHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCkpICE9IDAgKQorICAgIGlmICgg
KHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCwgY29uZmlnLT5pb21tdV9vcHRzKSkgIT0gMCApCiAg
ICAgICAgIGdvdG8gZmFpbDsKIAogICAgIGlmICggKHJjID0gcDJtX2luaXQoZCkpICE9IDAgKQpk
aWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2RvbWFpbi5jIGIveGVuL2FyY2gveDg2L2RvbWFpbi5j
CmluZGV4IDRiMGFkNWUxNWQuLmZiOGIzOTdiZTIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9k
b21haW4uYworKysgYi94ZW4vYXJjaC94ODYvZG9tYWluLmMKQEAgLTYxMSw3ICs2MTEsNyBAQCBp
bnQgYXJjaF9kb21haW5fY3JlYXRlKHN0cnVjdCBkb21haW4gKmQsCiAgICAgaWYgKCAocmMgPSBp
bml0X2RvbWFpbl9pcnFfbWFwcGluZyhkKSkgIT0gMCApCiAgICAgICAgIGdvdG8gZmFpbDsKIAot
ICAgIGlmICggKHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCkpICE9IDAgKQorICAgIGlmICggKHJj
ID0gaW9tbXVfZG9tYWluX2luaXQoZCwgY29uZmlnLT5pb21tdV9vcHRzKSkgIT0gMCApCiAgICAg
ICAgIGdvdG8gZmFpbDsKIAogICAgIHBzcl9kb21haW5faW5pdChkKTsKZGlmZiAtLWdpdCBhL3hl
bi9jb21tb24vZG9tYWluLmMgYi94ZW4vY29tbW9uL2RvbWFpbi5jCmluZGV4IDQ2ODFmMjljOGIu
LjA3MzNlZThiMGEgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vZG9tYWluLmMKKysrIGIveGVuL2Nv
bW1vbi9kb21haW4uYwpAQCAtMzA4LDYgKzMwOCwxMyBAQCBzdGF0aWMgaW50IHNhbml0aXNlX2Rv
bWFpbl9jb25maWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluICpjb25maWcpCiAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwogICAgIH0KIAorICAgIGlmICggIShjb25maWctPmZsYWdzICYg
WEVOX0RPTUNUTF9DREZfaW9tbXUpICYmIGNvbmZpZy0+aW9tbXVfb3B0cyApCisgICAgeworICAg
ICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLAorICAgICAgICAgICAgICAgICJJT01NVSBvcHRpb25z
IHNwZWNpZmllZCBidXQgSU9NTVUgbm90IGVuYWJsZWRcbiIpOworICAgICAgICByZXR1cm4gLUVJ
TlZBTDsKKyAgICB9CisKICAgICBpZiAoIGNvbmZpZy0+bWF4X3ZjcHVzIDwgMSApCiAgICAgewog
ICAgICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLCAiTm8gdkNQVVNcbiIpOwpkaWZmIC0tZ2l0IGEv
eGVuL2NvbW1vbi9kb21jdGwuYyBiL3hlbi9jb21tb24vZG9tY3RsLmMKaW5kZXggNWRjZmUzYzhm
Ni4uNmU2ZTliOTg2NiAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9kb21jdGwuYworKysgYi94ZW4v
Y29tbW9uL2RvbWN0bC5jCkBAIC01MTUsMTkgKzUxNSw2IEBAIGxvbmcgZG9fZG9tY3RsKFhFTl9H
VUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0bF90KSB1X2RvbWN0bCkKICAgICAgICAgICAgIHJv
dmVyID0gZG9tOwogICAgICAgICB9CiAKLSAgICAgICAgLyoKLSAgICAgICAgICogRm9yIG5vdywg
bWFrZSBzdXJlIHRoZSBjcmVhdGVkb21haW4gSU9NTVUgZmxhZyBpcyBzZXQgaWYgdGhlCi0gICAg
ICAgICAqIElPTU1VIGlzIGVuYWJsZWQuIFdoZW4gdGhlIGZsYWcgY29tZXMgdW5kZXIgdG9vbHN0
YWNrIGNvbnRyb2wKLSAgICAgICAgICogdGhpcyBjYW4gZ28gYXdheS4KLSAgICAgICAgICovCi0g
ICAgICAgIGlmICggb3AtPnUuY3JlYXRlZG9tYWluLmZsYWdzICYgWEVOX0RPTUNUTF9DREZfaW9t
bXUgKQotICAgICAgICB7Ci0gICAgICAgICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKLSAgICAg
ICAgICAgIHJldHVybiAtRUlOVkFMOwotICAgICAgICB9Ci0gICAgICAgIGlmICggaW9tbXVfZW5h
YmxlZCApCi0gICAgICAgICAgICBvcC0+dS5jcmVhdGVkb21haW4uZmxhZ3MgfD0gWEVOX0RPTUNU
TF9DREZfaW9tbXU7Ci0KICAgICAgICAgZCA9IGRvbWFpbl9jcmVhdGUoZG9tLCAmb3AtPnUuY3Jl
YXRlZG9tYWluLCBmYWxzZSk7CiAgICAgICAgIGlmICggSVNfRVJSKGQpICkKICAgICAgICAgewpk
aWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL2lvbW11LmMKaW5kZXggZDUzM2Q1YWY3OC4uMjczM2IzMjBlYyAxMDA2NDQK
LS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9pb21tdS5jCkBAIC0xNjMsNyArMTYzLDcgQEAgc3RhdGljIHZvaWQgX19od2Rv
bV9pbml0IGNoZWNrX2h3ZG9tX3JlcXMoc3RydWN0IGRvbWFpbiAqZCkKICAgICBpb21tdV9od2Rv
bV9zdHJpY3QgPSB0cnVlOwogfQogCi1pbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFp
biAqZCkKK2ludCBpb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBp
bnQgb3B0cykKIHsKICAgICBzdHJ1Y3QgZG9tYWluX2lvbW11ICpoZCA9IGRvbV9pb21tdShkKTsK
ICAgICBpbnQgcmV0ID0gMDsKQEAgLTE4Nyw2ICsxODcsMTUgQEAgaW50IGlvbW11X2RvbWFpbl9p
bml0KHN0cnVjdCBkb21haW4gKmQpCiAgICAgaWYgKCBpc19oYXJkd2FyZV9kb21haW4oZCkgKQog
ICAgICAgICBjaGVja19od2RvbV9yZXFzKGQpOyAvKiBtYXkgbW9kaWZ5IGlvbW11X2h3ZG9tX3N0
cmljdCAqLwogCisgICAgLyoKKyAgICAgKiBVc2Ugc2hhcmVkIHBhZ2UgdGFibGVzIGZvciBIQVAg
YW5kIElPTU1VIGlmIHRoZSBnbG9iYWwgb3B0aW9uCisgICAgICogaXMgZW5hYmxlZCAoZnJvbSB3
aGljaCB3ZSBjYW4gaW5mZXIgdGhlIGgvdyBpcyBjYXBhYmxlKSBhbmQKKyAgICAgKiB0aGUgZG9t
YWluIG9wdGlvbnMgZG8gbm90IGRpc2FsbG93IGl0LiBIQVAgbXVzdCwgb2YgY291cnNlLCBhbHNv
CisgICAgICogYmUgZW5hYmxlZC4KKyAgICAgKi8KKyAgICBoZC0+aGFwX3B0X3NoYXJlID0gaGFw
X2VuYWJsZWQoZCkgJiYgaW9tbXVfaGFwX3B0X3NoYXJlICYmCisgICAgICAgICEob3B0cyAmIFhF
Tl9ET01DVExfSU9NTVVfbm9fc2hhcmVwdCk7CisKICAgICAvKgogICAgICAqIE5COiAncmVsYXhl
ZCcgaC93IGRvbWFpbnMgZG9uJ3QgbmVlZCB0aGUgSU9NTVUgbWFwcGluZ3MgdG8gYmUga2VwdAog
ICAgICAqICAgICBpbi1zeW5jIHdpdGggdGhlaXIgYXNzaWduZWQgcGFnZXMgYmVjYXVzZSBhbGwg
aG9zdCBSQU0gd2lsbCBiZQpAQCAtMTk1LDYgKzIwNCw4IEBAIGludCBpb21tdV9kb21haW5faW5p
dChzdHJ1Y3QgZG9tYWluICpkKQogICAgIGlmICggIWlzX2hhcmR3YXJlX2RvbWFpbihkKSB8fCBp
b21tdV9od2RvbV9zdHJpY3QgKQogICAgICAgICBoZC0+bmVlZF9zeW5jID0gIWlvbW11X3VzZV9o
YXBfcHQoZCk7CiAKKyAgICBBU1NFUlQoIShoZC0+bmVlZF9zeW5jICYmIGhkLT5oYXBfcHRfc2hh
cmUpKTsKKwogICAgIHJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9wdWJs
aWMvZG9tY3RsLmggYi94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmgKaW5kZXggMWIzMTc2YWRi
NS4uYmE4NGFlYTZhYiAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvcHVibGljL2RvbWN0bC5oCisr
KyBiL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaApAQCAtMzgsNyArMzgsNyBAQAogI2luY2x1
ZGUgImh2bS9zYXZlLmgiCiAjaW5jbHVkZSAibWVtb3J5LmgiCiAKLSNkZWZpbmUgWEVOX0RPTUNU
TF9JTlRFUkZBQ0VfVkVSU0lPTiAweDAwMDAwMDExCisjZGVmaW5lIFhFTl9ET01DVExfSU5URVJG
QUNFX1ZFUlNJT04gMHgwMDAwMDAxMgogCiAvKgogICogTkIuIHhlbl9kb21jdGwuZG9tYWluIGlz
IGFuIElOL09VVCBwYXJhbWV0ZXIgZm9yIHRoaXMgb3BlcmF0aW9uLgpAQCAtNzMsNiArNzMsMTQg
QEAgc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluIHsKIAogICAgIHVpbnQzMl90IGZsYWdz
OwogCisjZGVmaW5lIF9YRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQgIDAKKyNkZWZpbmUgWEVO
X0RPTUNUTF9JT01NVV9ub19zaGFyZXB0ICAgKDFVIDw8IF9YRU5fRE9NQ1RMX0lPTU1VX25vX3No
YXJlcHQpCisKKy8qIE1heCBYRU5fRE9NQ1RMX0lPTU1VXyogY29uc3RhbnQuICBVc2VkIGZvciBB
QkkgY2hlY2tpbmcuICovCisjZGVmaW5lIFhFTl9ET01DVExfSU9NTVVfTUFYIFhFTl9ET01DVExf
SU9NTVVfbm9fc2hhcmVwdAorCisgICAgdWludDMyX3QgaW9tbXVfb3B0czsKKwogICAgIC8qCiAg
ICAgICogVmFyaW91cyBkb21haW4gbGltaXRzLCB3aGljaCBpbXBhY3QgdGhlIHF1YW50aXR5IG9m
IHJlc291cmNlcyAoZ2xvYmFsCiAgICAgICogbWFwcGluZyBzcGFjZSwgeGVuaGVhcCwgZXRjKSBh
IGd1ZXN0IG1heSBjb25zdW1lLgpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL2lvbW11Lmgg
Yi94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAppbmRleCBlMDk3ODNlMzk1Li41ODUyMGZkOTk2IDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4v
aW9tbXUuaApAQCAtNzMsNyArNzMsNyBAQCBleHRlcm4gdW5zaWduZWQgaW50IGlvbW11X2Rldl9p
b3RsYl90aW1lb3V0OwogaW50IGlvbW11X3NldHVwKHZvaWQpOwogaW50IGlvbW11X2hhcmR3YXJl
X3NldHVwKHZvaWQpOwogCi1pbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAqZCk7
CitpbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgaW50IG9w
dHMpOwogdm9pZCBpb21tdV9od2RvbV9pbml0KHN0cnVjdCBkb21haW4gKmQpOwogdm9pZCBpb21t
dV9kb21haW5fZGVzdHJveShzdHJ1Y3QgZG9tYWluICpkKTsKIApAQCAtMjY3LDEwICsyNjcsMTQg
QEAgc3RydWN0IGRvbWFpbl9pb21tdSB7CiAgICAgLyogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5IHRo
ZSBJT01NVSAqLwogICAgIERFQ0xBUkVfQklUTUFQKGZlYXR1cmVzLCBJT01NVV9GRUFUX2NvdW50
KTsKIAorICAgIC8qIERvZXMgdGhlIGd1ZXN0IHNoYXJlIEhBUCBtYXBwaW5nIHdpdGggdGhlIElP
TU1VPyAqLworICAgIGJvb2wgaGFwX3B0X3NoYXJlOworCiAgICAgLyoKLSAgICAgKiBEb2VzIHRo
ZSBndWVzdCByZXFpcmUgbWFwcGluZ3MgdG8gYmUgc3luY2hvbml6ZWQsIHRvIG1haW50YWluCi0g
ICAgICogdGhlIGRlZmF1bHQgZGZuID09IHBmbiBtYXAuIChTZWUgY29tbWVudCBvbiBkZm4gYXQg
dGhlIHRvcCBvZgotICAgICAqIGluY2x1ZGUveGVuL21tLmgpLgorICAgICAqIERvZXMgdGhlIGd1
ZXN0IHJlcXVpcmUgbWFwcGluZ3MgdG8gYmUgc3luY2hyb25pemVkLCB0byBtYWludGFpbgorICAg
ICAqIHRoZSBkZWZhdWx0IGRmbiA9PSBwZm4gbWFwPyAoU2VlIGNvbW1lbnQgb24gZGZuIGF0IHRo
ZSB0b3Agb2YKKyAgICAgKiBpbmNsdWRlL3hlbi9tbS5oKS4gTm90ZSB0aGF0IGhhcF9wdF9zaGFy
ZSA9PSBmYWxzZSBkb2VzIG5vdAorICAgICAqIG5lY2Vzc2FyaWx5IGltcGx5IHRoaXMgaXMgdHJ1
ZS4KICAgICAgKi8KICAgICBib29sIG5lZWRfc3luYzsKIH07CkBAIC0yODAsOCArMjg0LDcgQEAg
c3RydWN0IGRvbWFpbl9pb21tdSB7CiAjZGVmaW5lIGlvbW11X2NsZWFyX2ZlYXR1cmUoZCwgZikg
Y2xlYXJfYml0KGYsIGRvbV9pb21tdShkKS0+ZmVhdHVyZXMpCiAKIC8qIEFyZSB3ZSB1c2luZyB0
aGUgZG9tYWluIFAyTSB0YWJsZSBhcyBpdHMgSU9NTVUgcGFnZXRhYmxlPyAqLwotI2RlZmluZSBp
b21tdV91c2VfaGFwX3B0KGQpIFwKLSAgICAoaGFwX2VuYWJsZWQoZCkgJiYgaXNfaW9tbXVfZW5h
YmxlZChkKSAmJiBpb21tdV9oYXBfcHRfc2hhcmUpCisjZGVmaW5lIGlvbW11X3VzZV9oYXBfcHQo
ZCkgICAgICAgKGRvbV9pb21tdShkKS0+aGFwX3B0X3NoYXJlKQogCiAvKiBEb2VzIHRoZSBJT01N
VSBwYWdldGFibGUgbmVlZCB0byBiZSBrZXB0IHN5bmNocm9uaXplZCB3aXRoIHRoZSBQMk0gKi8K
ICNpZmRlZiBDT05GSUdfSEFTX1BBU1NUSFJPVUdICi0tIAoyLjIwLjEuMi5nYjIxZWJiNjcxCgoK
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVs
IG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0
cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

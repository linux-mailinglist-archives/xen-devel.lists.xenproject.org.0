Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id AA31FB1B1A
	for <lists+xen-devel@lfdr.de>; Fri, 13 Sep 2019 11:50:24 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8iBZ-0002O7-HS; Fri, 13 Sep 2019 09:48:13 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Qndu=XI=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1i8iBX-0002NY-JD
 for xen-devel@lists.xenproject.org; Fri, 13 Sep 2019 09:48:11 +0000
X-Inumbo-ID: 8c4cd08e-d60b-11e9-978d-bc764e2007e4
Received: from esa3.hc3370-68.iphmx.com (unknown [216.71.145.155])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 8c4cd08e-d60b-11e9-978d-bc764e2007e4;
 Fri, 13 Sep 2019 09:47:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568368071;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=WbTY2mNhpkCCRnnvV6u6nazwix3yO6pKpkjQUVrmW7I=;
 b=FNiJ/aieaFKySprMgdLRjU/HYUbw/yJVnpz8GvXzURYxvk2bNQlv+t18
 p+sP8GaVF+9cJTNPDKg/pwsuRzaKuhJj2k/+JQMB16w7zjCs2GDt0MxFI
 xLmIsK6ehFetznaCGD6hPy4+qeaKoNJmB5eS7nGmlaznJDJptI67ZtPzN Q=;
Authentication-Results: esa3.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa3.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: YJYGrdbVODz5Z2ud5OjnLuyX/yxhIsjztWaCJ7oWJXbO4Y2TtHtUPmRlVzC9rSEM28QigBlyrc
 1dswocwioafq5SEAo6IIW3uW/fHDT5gFOpnMLvlqEjhC1jfMlRw8ZfnWb2zcxfUg4ojeNCdKrj
 RVLzOP/HJ9Y80Bfxu/GJi8uXVI6fzdg6bikpzj/Cp/4tbAPpKKuW362k09bti+rWUYV82EgMtO
 +dRMvFfDsenAC5qAEh55DyyO3Jlg06C7RR1E12ghzSzjzJrni3MslTjIp3Tb9Of1VZzgLzbN2G
 404=
X-SBRS: 2.7
X-MesageID: 5528294
X-Ironport-Server: esa3.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,500,1559534400"; 
   d="scan'208";a="5528294"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Fri, 13 Sep 2019 10:47:41 +0100
Message-ID: <20190913094741.31451-7-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190913094741.31451-1-paul.durrant@citrix.com>
References: <20190913094741.31451-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v10 6/6] introduce a 'passthrough' configuration
 option to xl.cfg...
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim
 Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Paul Durrant <paul.durrant@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>,
 Anthony PERARD <anthony.perard@citrix.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Li4uYW5kIGhlbmNlIHRoZSBhYmlsaXR5IHRvIGRpc2FibGUgSU9NTVUgbWFwcGluZ3MsIGFuZCBj
b250cm9sIEVQVApzaGFyaW5nLgoKVGhpcyBwYXRjaCBpbnRyb2R1Y2VzIGEgbmV3ICdsaWJ4bF9w
YXNzdGhyb3VnaCcgZW51bWVyYXRpb24gaW50bwpsaWJ4bF9kb21haW5fY3JlYXRlX2luZm8uIFRo
ZSB2YWx1ZSB3aWxsIGJlIHNldCBieSB4bCBlaXRoZXIgd2hlbiBpdCBwYXJzZXMKYSBuZXcgJ3Bh
c3N0aHJvdWdoJyBvcHRpb24gaW4geGwuY2ZnLCBvciBpbXBsaWNpdGx5IGlmIHRoZXJlIGlzIHBh
c3N0aHJvdWdoCmhhcmR3YXJlIHNwZWNpZmllZCBmb3IgdGhlIGRvbWFpbi4KCklmIHRoZSB2YWx1
ZSBvZiB0aGUgcGFzc3Rocm91Z2ggY29uZmlndXJhdGlvbiBvcHRpb24gaXMgJ2Rpc2FibGVkJyB0
aGVuCnRoZSBYRU5fRE9NQ1RMX0NERl9pb21tdSBmbGFnIHdpbGwgYmUgY2xlYXIgaW4gdGhlIHhl
bl9kb21jdGxfY3JlYXRlZG9tYWluCmZsYWdzLCB0aHVzIGFsbG93aW5nIHRoZSB0b29sc3RhY2sg
dG8gY29udHJvbCB3aGV0aGVyIHRoZSBkb21haW4gZ2V0cwpJT01NVSBtYXBwaW5ncyBvciBub3Qg
KHdoZXJlIHByZXZpb3VzbHkgdGhleSB3ZXJlIGdsb2JhbGx5IHNldCkuCgpJZiB0aGUgdmFsdWUg
b2YgdGhlIHBhc3N0aHJvdWdoIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGlzICdzeW5jX3B0JyB0aGVu
CmEgbmV3ICdpb21tdV9vcHRzJyBmaWVsZCBpbiB4ZW5fZG9tY3RsX2NyZWF0ZWRvbWFpbiB3aWxs
IGJlIHNldCB3aXRoIHRoZQp2YWx1ZSBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQuIFRoaXMg
d2lsbCBvdmVycmlkZSB0aGUgZ2xvYmFsIGRlZmF1bHQKc2V0IGluIGlvbW11X2hhcF9wdF9zaGFy
ZSwgdGh1cyBhbGxvd2luZyB0aGUgdG9vbHN0YWNrIHRvIGNvbnRyb2wgd2hldGhlcgpFUFQgc2hh
cmluZyBpcyB1c2VkIGZvciB0aGUgZG9tYWluLgoKSWYgdGhlIHZhbHVlIG9mIHBhc3N0aHJvdWdo
IGlzICdlbmFibGVkJyB0aGVuIHhsIHdpbGwgY2hvb3NlIGFuIGFwcHJvcHJpYXRlCmRlZmF1bHQg
YWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIGRvbWFpbiBhbmQgaGFyZHdhcmUgc3VwcG9ydC4KCk5P
VEU6IFRoZSAnaW9tbXVfbWVta2InIG92ZXJoZWFkIGluIGxpYnhsX2RvbWFpbl9idWlsZF9pbmZv
IHdpbGwgbm93IG9ubHkKICAgICAgYmUgc2V0IGlmIHBhc3N0aHJvdWdoIGlzICdzeW5jX3B0JyAo
b3IgeGwgaGFzIGNob3NlbiB0aGlzIG1vZGUgYXMKICAgICAgYSBkZWZhdWx0KS4KClNpZ25lZC1v
ZmYtYnk6IFBhdWwgRHVycmFudCA8cGF1bC5kdXJyYW50QGNpdHJpeC5jb20+ClJldmlld2VkLWJ5
OiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGlu
ZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+Ci0tLQpDYzogSWFuIEphY2tzb24gPGlh
bi5qYWNrc29uQGV1LmNpdHJpeC5jb20+CkNjOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgpDYzogQW5k
cmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KQ2M6IEdlb3JnZSBEdW5sYXAg
PEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4KQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdy
YWxsQGFybS5jb20+CkNjOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNs
ZS5jb20+CkNjOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+CkNj
OiBUaW0gRGVlZ2FuIDx0aW1AeGVuLm9yZz4KQ2M6IEFudGhvbnkgUEVSQVJEIDxhbnRob255LnBl
cmFyZEBjaXRyaXguY29tPgpDYzogRGF2aWQgU2NvdHQgPGRhdmVAcmVjb2lsLm9yZz4KQ2M6IFZv
bG9keW15ciBCYWJjaHVrIDxWb2xvZHlteXJfQmFiY2h1a0BlcGFtLmNvbT4KQ2M6ICJSb2dlciBQ
YXUgTW9ubsOpIiA8cm9nZXIucGF1QGNpdHJpeC5jb20+CgpQcmV2aW91c2x5IHBhcnQgb2Ygc2Vy
aWVzIGh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvYXJjaGl2ZXMvaHRtbC94ZW4tZGV2ZWwv
MjAxOS0wNy9tc2cwMjI2Ny5odG1sCgp2MTA6CiAtIEFkZGVkIGFiaS1jaGVjayBydW5lcwoKdjk6
CiAtIEFkZGVkIHRoZSBwYXNzdGhyb3VnaD0nZW5hYmxlZCcgb3B0aW9uIHRvIHhsCiAtIE9uZSBj
b3NtZXRpYyBjaGFuZ2UgaW4geGVuCiAtIEFzc3VtZSBKYW4ncyBSLWIgc3RhbmRzIHNpbmNlIG5v
bi1jb3NtZXRpYyBjaGFuZ2VzIGFyZSBvbmx5IGluIHRoZQogICB0b29sc3RhY2sKCnY3OgogLSBB
ZGRlZCBtaXNzaW5nIGJyZWFrcwogLSBBZGRlZCBtaXNzaW5nIG9jYW1sIGJpbmRpbmcgY2hhbmdl
cwoKdjY6CiAtIFJlbW92ZSB0aGUgbGlieGxfcGh5c2luZm8oKSBjYWxsIHNpbmNlIGl0J3MgdXNl
ZnVsbmVzcyBpcyBsaW1pdGVkIHRvIHg4NgoKdjU6CiAtIEV4cGFuZCB4ZW5fZG9tY3RsX2NyZWF0
ZWRvbWFpbiBmbGFncyBmaWVsZCBhbmQgaGVuY2UgYnVtcCBpbnRlcmZhY2UKICAgdmVyc2lvbgog
LSBGaXggc3BlbGxpbmcgbWlzdGFrZXMgaW4gY29udGV4dCBsaW5lCi0tLQogZG9jcy9tYW4veGwu
Y2ZnLjUucG9kLmluICAgICAgICAgICAgfCAgNTYgKysrKysrKysrKwogdG9vbHMvbGlieGwvbGli
eGwuaCAgICAgICAgICAgICAgICAgfCAgIDkgKysKIHRvb2xzL2xpYnhsL2xpYnhsX2NyZWF0ZS5j
ICAgICAgICAgIHwgICA5ICsrCiB0b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwgICAgICAgICB8
ICAgNyArKwogdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sICAgICAgfCAgIDQgKwogdG9v
bHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1saSAgICAgfCAgIDUgKwogdG9vbHMvb2NhbWwvbGli
cy94Yy94ZW5jdHJsX3N0dWJzLmMgfCAgMTcgKystCiB0b29scy94bC94bF9wYXJzZS5jICAgICAg
ICAgICAgICAgICB8IDE1OCArKysrKysrKysrKysrKysrKystLS0tLS0tLS0tCiB4ZW4vYXJjaC9h
cm0vZG9tYWluLmMgICAgICAgICAgICAgICB8ICAxMCArLQogeGVuL2FyY2gveDg2L2RvbWFpbi5j
ICAgICAgICAgICAgICAgfCAgIDIgKy0KIHhlbi9jb21tb24vZG9tYWluLmMgICAgICAgICAgICAg
ICAgIHwgICA3ICsrCiB4ZW4vY29tbW9uL2RvbWN0bC5jICAgICAgICAgICAgICAgICB8ICAxMyAt
LS0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMgICAgIHwgIDEzICsrLQogeGVuL2lu
Y2x1ZGUvcHVibGljL2RvbWN0bC5oICAgICAgICAgfCAgMTAgKy0KIHhlbi9pbmNsdWRlL3hlbi9p
b21tdS5oICAgICAgICAgICAgIHwgIDE1ICstLQogMTUgZmlsZXMgY2hhbmdlZCwgMjU0IGluc2Vy
dGlvbnMoKyksIDgxIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RvY3MvbWFuL3hsLmNmZy41
LnBvZC5pbiBiL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgppbmRleCBjOTlkNDAzMDdlLi4xNTRk
ODQ3ZmI5IDEwMDY0NAotLS0gYS9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4KKysrIGIvZG9jcy9t
YW4veGwuY2ZnLjUucG9kLmluCkBAIC02MDUsNiArNjA1LDYyIEBAIG9wdGlvbiBzaG91bGQgb25s
eSBiZSB1c2VkIHdpdGggYSB0cnVzdGVkIGRldmljZSB0cmVlLgogTm90ZSB0aGF0IHRoZSBwYXJ0
aWFsIGRldmljZSB0cmVlIHNob3VsZCBhdm9pZCB1c2luZyB0aGUgcGhhbmRsZSA2NTAwMAogd2hp
Y2ggaXMgcmVzZXJ2ZWQgYnkgdGhlIHRvb2xzdGFjay4KIAorPWl0ZW0gQjxwYXNzdGhyb3VnaD0i
U1RSSU5HIj4KKworU3BlY2lmeSB3aGV0aGVyIElPTU1VIG1hcHBpbmdzIGFyZSBlbmFibGVkIGZv
ciB0aGUgZG9tYWluIGFuZCBoZW5jZSB3aGV0aGVyCitpdCB3aWxsIGJlIGVuYWJsZWQgZm9yIHBh
c3N0aHJvdWdoIGhhcmR3YXJlLiBWYWxpZCB2YWx1ZXMgZm9yIHRoaXMgb3B0aW9uCithcmU6CisK
Kz1vdmVyIDQKKworPWl0ZW0gQjxkaXNhYmxlZD4KKworSU9NTVUgbWFwcGluZ3MgYXJlIGRpc2Fi
bGVkIGZvciB0aGUgZG9tYWluIGFuZCBzbyBoYXJkd2FyZSBtYXkgbm90IGJlCitwYXNzZWQgdGhy
b3VnaC4KKworVGhpcyBvcHRpb24gaXMgdGhlIGRlZmF1bHQgaWYgbm8gcGFzc3Rocm91Z2ggaGFy
ZHdhcmUgaXMgc3BlY2lmaWVkIGluIHRoZQorZG9tYWluJ3MgY29uZmlndXJhdGlvbi4KKworPWl0
ZW0gQjxzeW5jX3B0PgorCitUaGlzIG9wdGlvbiBtZWFucyB0aGF0IElPTU1VIG1hcHBpbmdzIHdp
bGwgYmUgc3luY2hyb25pemVkIHdpdGggdGhlCitkb21haW4ncyBQMk0gdGFibGUgYXMgZm9sbG93
czoKKworRm9yIGEgUFYgZG9tYWluLCBhbGwgd3JpdGFibGUgcGFnZXMgYXNzaWduZWQgdG8gdGhl
IGRvbWFpbiBhcmUgaWRlbnRpdHkKK21hcHBlZCBieSBNRk4gaW4gdGhlIElPTU1VIHBhZ2UgdGFi
bGUuIFRodXMgYSBkZXZpY2UgZHJpdmVyIHJ1bm5pbmcgaW4gdGhlCitkb21haW4gbWF5IHByb2dy
YW0gcGFzc3Rocm91Z2ggaGFyZHdhcmUgZm9yIERNQSB1c2luZyBNRk4gdmFsdWVzCisoaS5lLiBo
b3N0L21hY2hpbmUgZnJhbWUgbnVtYmVycykgbG9va2VkIHVwIGluIGl0cyBQMk0uCisKK0ZvciBh
biBIVk0gZG9tYWluLCBhbGwgbm9uLWZvcmVpZ24gUkFNIHBhZ2VzIHByZXNlbnQgaW4gaXRzIFAy
TSB3aWxsIGJlCittYXBwZWQgYnkgR0ZOIGluIHRoZSBJT01NVSBwYWdlIHRhYmxlLiBUaHVzIGEg
ZGV2aWNlIGRyaXZlciBydW5uaW5nIGluIHRoZQorZG9tYWluIG1heSBwcm9ncmFtIHBhc3N0aHJv
dWdoIGhhcmR3YXJlIHVzaW5nIEdGTiB2YWx1ZXMgKGkuZS4gZ3Vlc3QKK3BoeXNpY2FsIGZyYW1l
IG51bWJlcnMpIHdpdGhvdXQgYW55IGZ1cnRoZXIgdHJhbnNsYXRpb24uCisKK1RoaXMgb3B0aW9u
IGlzIG5vdCBjdXJyZW50bHkgYXZhaWxhYmxlIG9uIEFybS4KKworPWl0ZW0gQjxzaGFyZV9wdD4K
KworVGhpcyBvcHRpb24gaXMgdW5hdmFpbGFibGUgZm9yIGEgUFYgZG9tYWluLiBGb3IgYW4gSFZN
IGRvbWFpbiwgdGhpcyBvcHRpb24KK21lYW5zIHRoYXQgdGhlIElPTU1VIHdpbGwgYmUgcHJvZ3Jh
bW1lZCB0byBkaXJlY3RseSByZWZlcmVuY2UgdGhlIGRvbWFpbidzCitQMk0gdGFibGUgYXMgaXRz
IHBhZ2UgdGFibGUuIEZyb20gdGhlIHBvaW50IG9mIHZpZXcgb2YgYSBkZXZpY2UgZHJpdmVyCity
dW5uaW5nIGluIHRoZSBkb21haW4gdGhpcyBpcyBmdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBC
PHN5bmNfcHQ+IGJ1dAorcGxhY2VzIGxlc3MgbG9hZCBvbiB0aGUgaHlwZXJ2aXNvciBhbmQgc28g
c2hvdWxkIGdlbmVyYWxseSBiZSBzZWxlY3RlZCBpbgorcHJlZmVyZW5jZS4gSG93ZXZlciwgdGhl
IGF2YWlsYWJpbGl0eSBvZiB0aGlzIG9wdGlvbiBpcyBoYXJkd2FyZSBzcGVjaWZpYy4KK0lmIEI8
eGwgaW5mbz4gcmVwb3J0cyBCPHZpcnRfY2Fwcz4gY29udGFpbmluZyBCPGlvbW11X2hhcF9wdF9z
aGFyZT4gdGhlbgordGhpcyBvcHRpb24gbWF5IGJlIHVzZWQuCisKKz1pdGVtIEI8ZW5hYmxlZD4K
KworVGhpcyBvcHRpb24gZW5hYmxlcyBJT01NVSBtYXBwaW5ncyBhbmQgc2VsZWN0cyBhbiBhcHBy
b3ByaWF0ZSBkZWZhdWx0CitvcGVyYXRpbmcgbW9kZS4gRm9yIEhWTSBkb21haW5zIHJ1bm5pbmcg
b24gcGxhdGZvcm1zIHdoZXJlIHRoZSBvcHRpb24gaXMKK2F2YWlsYWJsZSwgdGhpcyBpcyBlcXVp
dmFsZW50IHRvIEI8c2hhcmVfcHQ+LiBPdGhlcndpc2UsIGFuZCBhbHNvIGZvciBQVgorZG9tYWlu
cywgdGhpcyBvcHRpb25zIGlzIGVxdWl2YWxlbnQgdG8gQjxzeW5jX3B0Pi4KKworVGhpcyBvcHRp
b24gaXMgdGhlIGRlZmF1bHQgaWYgcGFzc3Rocm91Z2ggaGFyZHdhcmUgaXMgc3BlY2lmaWVkIGlu
IHRoZQorZG9tYWluJ3MgY29uZmlndXJhdGlvbi4KKworPWJhY2sKKwogPWJhY2sKIAogPWhlYWQy
IERldmljZXMKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsLmggYi90b29scy9saWJ4bC9s
aWJ4bC5oCmluZGV4IDEyNTQ1MTMwZGYuLmU0YjljNTM5YjYgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xp
YnhsL2xpYnhsLmgKKysrIGIvdG9vbHMvbGlieGwvbGlieGwuaApAQCAtNDE1LDYgKzQxNSwxNSBA
QAogICovCiAjZGVmaW5lIExJQlhMX0hBVkVfQlVJTERJTkZPX0lPTU1VX01FTUtCIDEKIAorLyoK
KyAqIExJQlhMX0hBVkVfQ1JFQVRFSU5GT19QQVNTVEhST1VHSCBpbmRpY2F0ZXMgdGhhdAorICog
bGlieGxfZG9tYWluX2NyZWF0ZV9pbmZvIGhhcyBhIHBhc3N0aHJvdWdoIGZpZWxkICh3aGljaCBp
cyBhCisgKiBsaWJ4bF9wYXNzdGhyb3VnaCBlbnVtZXJhdGlvbikgdGhhdCBpbmRpY2F0ZXMgd2hl
dGhlciBkZXZpY2UgcGFzcy0KKyAqIHRocm91Z2ggaXMgZW5hYmxlZCBmb3IgdGhlIGRvbWFpbiBh
bmQsIGlmIHNvLCB3aGV0aGVyIHRoZSBJT01NVSBhbmQKKyAqIEhBUCBwYWdlIHRhYmxlcyBtYXkg
YmUgc2hhcmVkIG9yIG5vdC4KKyAqLworI2RlZmluZSBMSUJYTF9IQVZFX0NSRUFURUlORk9fUEFT
U1RIUk9VR0ggMQorCiAvKgogICogbGlieGwgQUJJIGNvbXBhdGliaWxpdHkKICAqCmRpZmYgLS1n
aXQgYS90b29scy9saWJ4bC9saWJ4bF9jcmVhdGUuYyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2NyZWF0
ZS5jCmluZGV4IDU5ZGJjYjUwYTAuLjZiNzcwMmRiMTcgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhs
L2xpYnhsX2NyZWF0ZS5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2NyZWF0ZS5jCkBAIC01Nzgs
NiArNTc4LDE1IEBAIGludCBsaWJ4bF9fZG9tYWluX21ha2UobGlieGxfX2djICpnYywgbGlieGxf
ZG9tYWluX2NvbmZpZyAqZF9jb25maWcsCiAgICAgICAgICAgICAgICAgbGlieGxfZGVmYm9vbF92
YWwoaW5mby0+b29zKSA/IDAgOiBYRU5fRE9NQ1RMX0NERl9vb3Nfb2ZmOwogICAgICAgICB9CiAK
KyAgICAgICAgTE9HKERFVEFJTCwgInBhc3N0aHJvdWdoOiAlcyIsCisgICAgICAgICAgICBsaWJ4
bF9wYXNzdGhyb3VnaF90b19zdHJpbmcoaW5mby0+cGFzc3Rocm91Z2gpKTsKKworICAgICAgICBp
ZiAoaW5mby0+cGFzc3Rocm91Z2ggIT0gTElCWExfUEFTU1RIUk9VR0hfRElTQUJMRUQpCisgICAg
ICAgICAgICBjcmVhdGUuZmxhZ3MgfD0gWEVOX0RPTUNUTF9DREZfaW9tbXU7CisKKyAgICAgICAg
aWYgKGluZm8tPnBhc3N0aHJvdWdoID09IExJQlhMX1BBU1NUSFJPVUdIX1NZTkNfUFQpCisgICAg
ICAgICAgICBjcmVhdGUuaW9tbXVfb3B0cyB8PSBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQ7
CisKICAgICAgICAgLyogVWx0aW1hdGVseSwgaGFuZGxlIGlzIGFuIGFycmF5IG9mIDE2IHVpbnQ4
X3QsIHNhbWUgYXMgdXVpZCAqLwogICAgICAgICBsaWJ4bF91dWlkX2NvcHkoY3R4LCAobGlieGxf
dXVpZCAqKSZjcmVhdGUuaGFuZGxlLCAmaW5mby0+dXVpZCk7CiAKZGlmZiAtLWdpdCBhL3Rvb2xz
L2xpYnhsL2xpYnhsX3R5cGVzLmlkbCBiL3Rvb2xzL2xpYnhsL2xpYnhsX3R5cGVzLmlkbAppbmRl
eCBkNTJjNjNiNmIwLi4yMmYwNTcxMWUzIDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF90
eXBlcy5pZGwKKysrIGIvdG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRsCkBAIC0yNjMsNiArMjYz
LDEyIEBAIGxpYnhsX3ZrYl9iYWNrZW5kID0gRW51bWVyYXRpb24oInZrYl9iYWNrZW5kIiwgWwog
ICAgICgyLCAiTElOVVgiKQogICAgIF0pCiAKK2xpYnhsX3Bhc3N0aHJvdWdoID0gRW51bWVyYXRp
b24oInBhc3N0aHJvdWdoIiwgWworICAgICgwLCAiZGlzYWJsZWQiKSwKKyAgICAoMSwgInN5bmNf
cHQiKSwKKyAgICAoMiwgInNoYXJlX3B0IiksCisgICAgXSkKKwogIwogIyBDb21wbGV4IGxpYnhs
IHR5cGVzCiAjCkBAIC00MDgsNiArNDE0LDcgQEAgbGlieGxfZG9tYWluX2NyZWF0ZV9pbmZvID0g
U3RydWN0KCJkb21haW5fY3JlYXRlX2luZm8iLFsKICAgICAoInBvb2xfbmFtZSIsICAgIHN0cmlu
ZyksCiAgICAgKCJydW5faG90cGx1Z19zY3JpcHRzIixsaWJ4bF9kZWZib29sKSwKICAgICAoImRy
aXZlcl9kb21haW4iLGxpYnhsX2RlZmJvb2wpLAorICAgICgicGFzc3Rocm91Z2giLCAgbGlieGxf
cGFzc3Rocm91Z2gpLAogICAgIF0sIGRpcj1ESVJfSU4pCiAKIGxpYnhsX2RvbWFpbl9yZXN0b3Jl
X3BhcmFtcyA9IFN0cnVjdCgiZG9tYWluX3Jlc3RvcmVfcGFyYW1zIiwgWwpkaWZmIC0tZ2l0IGEv
dG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5j
dHJsLm1sCmluZGV4IGRlNGJhZTYwMTIuLmUwMGE3NGQ0OGQgMTAwNjQ0Ci0tLSBhL3Rvb2xzL29j
YW1sL2xpYnMveGMveGVuY3RybC5tbAorKysgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwu
bWwKQEAgLTY1LDExICs2NSwxNSBAQCB0eXBlIGRvbWFpbl9jcmVhdGVfZmxhZyA9CiAJfCBDREZf
WFNfRE9NQUlOCiAJfCBDREZfSU9NTVUKIAordHlwZSBkb21haW5fY3JlYXRlX2lvbW11X29wdHMg
PQorCXwgSU9NTVVfTk9fU0hBUkVQVAorCiB0eXBlIGRvbWN0bF9jcmVhdGVfY29uZmlnID0KIHsK
IAlzc2lkcmVmOiBpbnQzMjsKIAloYW5kbGU6IHN0cmluZzsKIAlmbGFnczogZG9tYWluX2NyZWF0
ZV9mbGFnIGxpc3Q7CisJaW9tbXVfb3B0czogZG9tYWluX2NyZWF0ZV9pb21tdV9vcHRzIGxpc3Q7
CiAJbWF4X3ZjcHVzOiBpbnQ7CiAJbWF4X2V2dGNobl9wb3J0OiBpbnQ7CiAJbWF4X2dyYW50X2Zy
YW1lczogaW50OwpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1saSBi
L3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkKaW5kZXggYzg4NWU3NTg5NS4uMGU3MDQ5
ZDcwOCAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1saQorKysgYi90
b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpCkBAIC01NywxMCArNTcsMTUgQEAgdHlwZSBk
b21haW5fY3JlYXRlX2ZsYWcgPQogICB8IENERl9PT1NfT0ZGCiAgIHwgQ0RGX1hTX0RPTUFJTgog
ICB8IENERl9JT01NVQorCit0eXBlIGRvbWFpbl9jcmVhdGVfaW9tbXVfb3B0cyA9CisgIHwgSU9N
TVVfTk9fU0hBUkVQVAorCiB0eXBlIGRvbWN0bF9jcmVhdGVfY29uZmlnID0gewogICBzc2lkcmVm
OiBpbnQzMjsKICAgaGFuZGxlOiBzdHJpbmc7CiAgIGZsYWdzOiBkb21haW5fY3JlYXRlX2ZsYWcg
bGlzdDsKKyAgaW9tbXVfb3B0czogZG9tYWluX2NyZWF0ZV9pb21tdV9vcHRzIGxpc3Q7CiAgIG1h
eF92Y3B1czogaW50OwogICBtYXhfZXZ0Y2huX3BvcnQ6IGludDsKICAgbWF4X2dyYW50X2ZyYW1l
czogaW50OwpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsX3N0dWJzLmMg
Yi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMuYwppbmRleCAwY2RkODczNTk5Li5j
Zjg2MGZlNDVlIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMu
YworKysgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMuYwpAQCAtMTkwLDExICsx
OTAsMTIgQEAgQ0FNTHByaW0gdmFsdWUgc3R1Yl94Y19kb21haW5fY3JlYXRlKHZhbHVlIHhjaCwg
dmFsdWUgY29uZmlnKQogI2RlZmluZSBWQUxfU1NJRFJFRiAgICAgICAgICAgICBGaWVsZChjb25m
aWcsIDApCiAjZGVmaW5lIFZBTF9IQU5ETEUgICAgICAgICAgICAgIEZpZWxkKGNvbmZpZywgMSkK
ICNkZWZpbmUgVkFMX0ZMQUdTICAgICAgICAgICAgICAgRmllbGQoY29uZmlnLCAyKQotI2RlZmlu
ZSBWQUxfTUFYX1ZDUFVTICAgICAgICAgICBGaWVsZChjb25maWcsIDMpCi0jZGVmaW5lIFZBTF9N
QVhfRVZUQ0hOX1BPUlQgICAgIEZpZWxkKGNvbmZpZywgNCkKLSNkZWZpbmUgVkFMX01BWF9HUkFO
VF9GUkFNRVMgICAgRmllbGQoY29uZmlnLCA1KQotI2RlZmluZSBWQUxfTUFYX01BUFRSQUNLX0ZS
QU1FUyBGaWVsZChjb25maWcsIDYpCi0jZGVmaW5lIFZBTF9BUkNIICAgICAgICAgICAgICAgIEZp
ZWxkKGNvbmZpZywgNykKKyNkZWZpbmUgVkFMX0lPTU1VX09QVFMgICAgICAgICAgRmllbGQoY29u
ZmlnLCAzKQorI2RlZmluZSBWQUxfTUFYX1ZDUFVTICAgICAgICAgICBGaWVsZChjb25maWcsIDQp
CisjZGVmaW5lIFZBTF9NQVhfRVZUQ0hOX1BPUlQgICAgIEZpZWxkKGNvbmZpZywgNSkKKyNkZWZp
bmUgVkFMX01BWF9HUkFOVF9GUkFNRVMgICAgRmllbGQoY29uZmlnLCA2KQorI2RlZmluZSBWQUxf
TUFYX01BUFRSQUNLX0ZSQU1FUyBGaWVsZChjb25maWcsIDcpCisjZGVmaW5lIFZBTF9BUkNIICAg
ICAgICAgICAgICAgIEZpZWxkKGNvbmZpZywgOCkKIAogCXVpbnQzMl90IGRvbWlkID0gMDsKIAlp
bnQgcmVzdWx0OwpAQCAtMjEzLDYgKzIxNCwxMSBAQCBDQU1McHJpbSB2YWx1ZSBzdHViX3hjX2Rv
bWFpbl9jcmVhdGUodmFsdWUgeGNoLCB2YWx1ZSBjb25maWcpCiAJCS8qICEgWEVOX0RPTUNUTF9D
REZfIFhFTl9ET01DVExfQ0RGX01BWCBtYXggKi8KIAkJKFZBTF9GTEFHUyk7CiAKKwljZmcuaW9t
bXVfb3B0cyA9IG9jYW1sX2xpc3RfdG9fY19iaXRtYXAKKwkJLyogISBkb21haW5fY3JlYXRlX2lv
bW11X29wdHMgSU9NTVVfIG5vbmUgKi8KKwkJLyogISBYRU5fRE9NQ1RMX0lPTU1VXyBYRU5fRE9N
Q1RMX0lPTU1VX01BWCBtYXggKi8KKwkJKFZBTF9JT01NVV9PUFRTKTsKKwogCWFyY2hfZG9tY29u
ZmlnID0gRmllbGQoVkFMX0FSQ0gsIDApOwogCXN3aXRjaCAoIFRhZ192YWwoVkFMX0FSQ0gpICkK
IAl7CkBAIC0yNDcsNiArMjUzLDcgQEAgQ0FNTHByaW0gdmFsdWUgc3R1Yl94Y19kb21haW5fY3Jl
YXRlKHZhbHVlIHhjaCwgdmFsdWUgY29uZmlnKQogI3VuZGVmIFZBTF9NQVhfR1JBTlRfRlJBTUVT
CiAjdW5kZWYgVkFMX01BWF9FVlRDSE5fUE9SVAogI3VuZGVmIFZBTF9NQVhfVkNQVVMKKyN1bmRl
ZiBWQUxfSU9NTVVfT1BUUwogI3VuZGVmIFZBTF9GTEFHUwogI3VuZGVmIFZBTF9IQU5ETEUKICN1
bmRlZiBWQUxfU1NJRFJFRgpkaWZmIC0tZ2l0IGEvdG9vbHMveGwveGxfcGFyc2UuYyBiL3Rvb2xz
L3hsL3hsX3BhcnNlLmMKaW5kZXggMjkzZjVmNzMwZS4uNGIyYmFhMDQwMyAxMDA2NDQKLS0tIGEv
dG9vbHMveGwveGxfcGFyc2UuYworKysgYi90b29scy94bC94bF9wYXJzZS5jCkBAIC0xNDYxLDYg
KzE0NjEsMTA3IEBAIHZvaWQgcGFyc2VfY29uZmlnX2RhdGEoY29uc3QgY2hhciAqY29uZmlnX3Nv
dXJjZSwKICAgICAgICAgZXhpdCgxKTsKICAgICB9CiAKKyAgICBpZiAoIXhsdV9jZmdfZ2V0X2xp
c3QgKGNvbmZpZywgInBjaSIsICZwY2lzLCAwLCAwKSkgeworICAgICAgICBkX2NvbmZpZy0+bnVt
X3BjaWRldnMgPSAwOworICAgICAgICBkX2NvbmZpZy0+cGNpZGV2cyA9IE5VTEw7CisgICAgICAg
IGZvcihpID0gMDsgKGJ1ZiA9IHhsdV9jZmdfZ2V0X2xpc3RpdGVtIChwY2lzLCBpKSkgIT0gTlVM
TDsgaSsrKSB7CisgICAgICAgICAgICBsaWJ4bF9kZXZpY2VfcGNpICpwY2lkZXY7CisKKyAgICAg
ICAgICAgIHBjaWRldiA9IEFSUkFZX0VYVEVORF9JTklUX05PREVWSUQoZF9jb25maWctPnBjaWRl
dnMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfY29u
ZmlnLT5udW1fcGNpZGV2cywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgbGlieGxfZGV2aWNlX3BjaV9pbml0KTsKKyAgICAgICAgICAgIHBjaWRldi0+bXNp
dHJhbnNsYXRlID0gcGNpX21zaXRyYW5zbGF0ZTsKKyAgICAgICAgICAgIHBjaWRldi0+cG93ZXJf
bWdtdCA9IHBjaV9wb3dlcl9tZ210OworICAgICAgICAgICAgcGNpZGV2LT5wZXJtaXNzaXZlID0g
cGNpX3Blcm1pc3NpdmU7CisgICAgICAgICAgICBwY2lkZXYtPnNlaXplID0gcGNpX3NlaXplOwor
ICAgICAgICAgICAgLyoKKyAgICAgICAgICAgICAqIExpa2Ugb3RoZXIgcGNpIG9wdGlvbiwgdGhl
IHBlci1kZXZpY2UgcG9saWN5IGFsd2F5cyBmb2xsb3dzCisgICAgICAgICAgICAgKiB0aGUgZ2xv
YmFsIHBvbGljeSBieSBkZWZhdWx0LgorICAgICAgICAgICAgICovCisgICAgICAgICAgICBwY2lk
ZXYtPnJkbV9wb2xpY3kgPSBiX2luZm8tPnUuaHZtLnJkbS5wb2xpY3k7CisgICAgICAgICAgICBl
ID0geGx1X3BjaV9wYXJzZV9iZGYoY29uZmlnLCBwY2lkZXYsIGJ1Zik7CisgICAgICAgICAgICBp
ZiAoZSkgeworICAgICAgICAgICAgICAgIGZwcmludGYoc3RkZXJyLAorICAgICAgICAgICAgICAg
ICAgICAgICAgInVuYWJsZSB0byBwYXJzZSBQQ0kgQkRGIGAlcycgZm9yIHBhc3N0aHJvdWdoXG4i
LAorICAgICAgICAgICAgICAgICAgICAgICAgYnVmKTsKKyAgICAgICAgICAgICAgICBleGl0KC1l
KTsKKyAgICAgICAgICAgIH0KKyAgICAgICAgfQorICAgICAgICBpZiAoZF9jb25maWctPm51bV9w
Y2lkZXZzICYmIGNfaW5mby0+dHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9QVikKKyAgICAgICAg
ICAgIGxpYnhsX2RlZmJvb2xfc2V0KCZiX2luZm8tPnUucHYuZTgyMF9ob3N0LCB0cnVlKTsKKyAg
ICB9CisKKyAgICBpZiAoIXhsdV9jZmdfZ2V0X2xpc3QgKGNvbmZpZywgImR0ZGV2IiwgJmR0ZGV2
cywgMCwgMCkpIHsKKyAgICAgICAgZF9jb25maWctPm51bV9kdGRldnMgPSAwOworICAgICAgICBk
X2NvbmZpZy0+ZHRkZXZzID0gTlVMTDsKKyAgICAgICAgZm9yIChpID0gMDsgKGJ1ZiA9IHhsdV9j
ZmdfZ2V0X2xpc3RpdGVtKGR0ZGV2cywgaSkpICE9IE5VTEw7IGkrKykgeworICAgICAgICAgICAg
bGlieGxfZGV2aWNlX2R0ZGV2ICpkdGRldjsKKworICAgICAgICAgICAgZHRkZXYgPSBBUlJBWV9F
WFRFTkRfSU5JVF9OT0RFVklEKGRfY29uZmlnLT5kdGRldnMsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZF9jb25maWctPm51bV9kdGRldnMsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfZGV2aWNlX2R0ZGV2
X2luaXQpOworCisgICAgICAgICAgICBkdGRldi0+cGF0aCA9IHN0cmR1cChidWYpOworICAgICAg
ICAgICAgaWYgKGR0ZGV2LT5wYXRoID09IE5VTEwpIHsKKyAgICAgICAgICAgICAgICBmcHJpbnRm
KHN0ZGVyciwgInVuYWJsZSB0byBkdXBsaWNhdGUgc3RyaW5nIGZvciBkdGRldnNcbiIpOworICAg
ICAgICAgICAgICAgIGV4aXQoLTEpOworICAgICAgICAgICAgfQorICAgICAgICB9CisgICAgfQor
CisgICAgaWYgKHhsdV9jZmdfZ2V0X3N0cmluZyhjb25maWcsICJwYXNzdGhyb3VnaCIsICZidWYs
IDApKSB7CisgICAgICAgIGJ1ZiA9IChkX2NvbmZpZy0+bnVtX3BjaWRldnMgfHwgZF9jb25maWct
Pm51bV9kdGRldnMpCisgICAgICAgICAgICA/ICJlbmFibGVkIiA6ICJkaXNhYmxlZCI7CisgICAg
fQorCisgICAgaWYgKCFzdHJuY21wKGJ1ZiwgImVuYWJsZWQiLCBzdHJsZW4oYnVmKSkpIHsKKyAg
ICAgICAgLyogQ2hvb3NlIGEgc3VpdGFibGUgZGVmYXVsdCAqLworICAgICAgICBjX2luZm8tPnBh
c3N0aHJvdWdoID0KKyAgICAgICAgICAgIChjX2luZm8tPnR5cGUgPT0gTElCWExfRE9NQUlOX1RZ
UEVfUFYpIHx8ICFpb21tdV9oYXBfcHRfc2hhcmUKKyAgICAgICAgICAgID8gTElCWExfUEFTU1RI
Uk9VR0hfU1lOQ19QVCA6IExJQlhMX1BBU1NUSFJPVUdIX1NIQVJFX1BUOworICAgIH0gZWxzZSB7
CisgICAgICAgIGxpYnhsX3Bhc3N0aHJvdWdoIG87CisKKyAgICAgICAgZSA9IGxpYnhsX3Bhc3N0
aHJvdWdoX2Zyb21fc3RyaW5nKGJ1ZiwgJm8pOworICAgICAgICBpZiAoZSkgeworICAgICAgICAg
ICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICJFUlJPUjogdW5rbm93biBw
YXNzdGhyb3VnaCBvcHRpb24gJyVzJ1xuIiwKKyAgICAgICAgICAgICAgICAgICAgYnVmKTsKKyAg
ICAgICAgICAgIGV4aXQoLUVSUk9SX0ZBSUwpOworICAgICAgICB9CisKKyAgICAgICAgc3dpdGNo
IChvKSB7CisgICAgICAgIGNhc2UgTElCWExfUEFTU1RIUk9VR0hfRElTQUJMRUQ6CisgICAgICAg
ICAgICBpZiAoZF9jb25maWctPm51bV9wY2lkZXZzIHx8IGRfY29uZmlnLT5udW1fZHRkZXZzKSB7
CisgICAgICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICAg
ICAiRVJST1I6IHBhc3N0aHJvdWdoIGRpc2FibGVkIGJ1dCBkZXZpY2VzIGFyZSBzcGVjaWZpZWRc
biIpOworICAgICAgICAgICAgICAgIGV4aXQoLUVSUk9SX0ZBSUwpOworICAgICAgICAgICAgfQor
ICAgICAgICAgICAgYnJlYWs7CisgICAgICAgIGNhc2UgTElCWExfUEFTU1RIUk9VR0hfU0hBUkVf
UFQ6CisgICAgICAgICAgICBpZiAoY19pbmZvLT50eXBlID09IExJQlhMX0RPTUFJTl9UWVBFX1BW
KSB7CisgICAgICAgICAgICAgICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAg
ICAgICAiRVJST1I6IHBhc3N0aHJvdWdoPVwic2hhcmVfcHRcIiBub3QgdmFsaWQgZm9yIFBWIGRv
bWFpblxuIik7CisgICAgICAgICAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgICAgICAg
ICB9IGVsc2UgaWYgKCFpb21tdV9oYXBfcHRfc2hhcmUpIHsKKyAgICAgICAgICAgICAgICBmcHJp
bnRmKHN0ZGVyciwKKyAgICAgICAgICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2g9
XCJzaGFyZV9wdFwiIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybVxuIik7CisgICAgICAg
ICAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBi
cmVhazsKKyAgICAgICAgY2FzZSBMSUJYTF9QQVNTVEhST1VHSF9TWU5DX1BUOgorICAgICAgICAg
ICAgYnJlYWs7CisgICAgICAgIH0KKworICAgICAgICBjX2luZm8tPnBhc3N0aHJvdWdoID0gbzsK
KyAgICB9CisKKyAgICBpZiAoKGNfaW5mby0+cGFzc3Rocm91Z2ggIT0gTElCWExfUEFTU1RIUk9V
R0hfRElTQUJMRUQpICYmICFpb21tdV9lbmFibGVkKSB7CisgICAgICAgIGZwcmludGYoc3RkZXJy
LAorICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2ggbm90IHN1cHBvcnRlZCBvbiB0
aGlzIHBsYXRmb3JtXG4iKTsKKyAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7CisgICAgfQorCiAg
ICAgLyogbGlieGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKSBhbmQKICAgICAgKiBsaWJ4
bF9nZXRfcmVxdWlyZWRfaW9tbXVfbWVtb3J5KCkgbXVzdCBiZSBjYWxsZWQgYWZ0ZXIgZmluYWwg
dmFsdWVzCiAgICAgICogKGRlZmF1bHQgb3Igc3BlY2lmaWVkKSBmb3IgdmNwdXMgYW5kIG1lbW9y
eSBhcmUgc2V0LCBiZWNhdXNlIHRoZQpAQCAtMTQ3MCwxMSArMTU3MSwxMCBAQCB2b2lkIHBhcnNl
X2NvbmZpZ19kYXRhKGNvbnN0IGNoYXIgKmNvbmZpZ19zb3VyY2UsCiAgICAgICAgIDogbGlieGxf
Z2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoYl9pbmZvLT5tYXhfbWVta2IsCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYl9pbmZvLT5tYXhfdmNwdXMpOwogCi0g
ICAgLyogTm8gSU9NTVUgcmVzZXJ2YXRpb24gaXMgbmVlZGVkIGlmIGVpdGhlciB0aGUgSU9NTVUg
aXMgZGlzYWJsZWQgb3IgaXQKLSAgICAgKiBjYW4gc2hhcmUgdGhlIFAyTS4gKi8KLSAgICBiX2lu
Zm8tPmlvbW11X21lbWtiID0gKCFpb21tdV9lbmFibGVkIHx8IGlvbW11X2hhcF9wdF9zaGFyZSkK
LSAgICAgICAgPyAwCi0gICAgICAgIDogbGlieGxfZ2V0X3JlcXVpcmVkX2lvbW11X21lbW9yeShi
X2luZm8tPm1heF9tZW1rYik7CisgICAgLyogTm8gSU9NTVUgcmVzZXJ2YXRpb24gaXMgbmVlZGVk
IGlmIHBhc3N0aHJvdWdoIG1vZGUgaXMgbm90ICdzeW5jX3B0JyAqLworICAgIGJfaW5mby0+aW9t
bXVfbWVta2IgPSAoY19pbmZvLT5wYXNzdGhyb3VnaCA9PSBMSUJYTF9QQVNTVEhST1VHSF9TWU5D
X1BUKQorICAgICAgICA/IGxpYnhsX2dldF9yZXF1aXJlZF9pb21tdV9tZW1vcnkoYl9pbmZvLT5t
YXhfbWVta2IpCisgICAgICAgIDogMDsKIAogICAgIHhsdV9jZmdfZ2V0X2RlZmJvb2woY29uZmln
LCAibm9taWdyYXRlIiwgJmJfaW5mby0+ZGlzYWJsZV9taWdyYXRlLCAwKTsKIApAQCAtMjI5OCw1
NCArMjM5OCw2IEBAIHNraXBfdmZiOgogICAgICAgICB9CiAgICAgfQogCi0gICAgaWYgKCF4bHVf
Y2ZnX2dldF9saXN0IChjb25maWcsICJwY2kiLCAmcGNpcywgMCwgMCkpIHsKLSAgICAgICAgZF9j
b25maWctPm51bV9wY2lkZXZzID0gMDsKLSAgICAgICAgZF9jb25maWctPnBjaWRldnMgPSBOVUxM
OwotICAgICAgICBmb3IoaSA9IDA7IChidWYgPSB4bHVfY2ZnX2dldF9saXN0aXRlbSAocGNpcywg
aSkpICE9IE5VTEw7IGkrKykgewotICAgICAgICAgICAgbGlieGxfZGV2aWNlX3BjaSAqcGNpZGV2
OwotCi0gICAgICAgICAgICBwY2lkZXYgPSBBUlJBWV9FWFRFTkRfSU5JVF9OT0RFVklEKGRfY29u
ZmlnLT5wY2lkZXZzLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBkX2NvbmZpZy0+bnVtX3BjaWRldnMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGxpYnhsX2RldmljZV9wY2lfaW5pdCk7Ci0gICAgICAgICAgICBw
Y2lkZXYtPm1zaXRyYW5zbGF0ZSA9IHBjaV9tc2l0cmFuc2xhdGU7Ci0gICAgICAgICAgICBwY2lk
ZXYtPnBvd2VyX21nbXQgPSBwY2lfcG93ZXJfbWdtdDsKLSAgICAgICAgICAgIHBjaWRldi0+cGVy
bWlzc2l2ZSA9IHBjaV9wZXJtaXNzaXZlOwotICAgICAgICAgICAgcGNpZGV2LT5zZWl6ZSA9IHBj
aV9zZWl6ZTsKLSAgICAgICAgICAgIC8qCi0gICAgICAgICAgICAgKiBMaWtlIG90aGVyIHBjaSBv
cHRpb24sIHRoZSBwZXItZGV2aWNlIHBvbGljeSBhbHdheXMgZm9sbG93cwotICAgICAgICAgICAg
ICogdGhlIGdsb2JhbCBwb2xpY3kgYnkgZGVmYXVsdC4KLSAgICAgICAgICAgICAqLwotICAgICAg
ICAgICAgcGNpZGV2LT5yZG1fcG9saWN5ID0gYl9pbmZvLT51Lmh2bS5yZG0ucG9saWN5OwotICAg
ICAgICAgICAgZSA9IHhsdV9wY2lfcGFyc2VfYmRmKGNvbmZpZywgcGNpZGV2LCBidWYpOwotICAg
ICAgICAgICAgaWYgKGUpIHsKLSAgICAgICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwKLSAgICAg
ICAgICAgICAgICAgICAgICAgICJ1bmFibGUgdG8gcGFyc2UgUENJIEJERiBgJXMnIGZvciBwYXNz
dGhyb3VnaFxuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zik7Ci0gICAgICAgICAgICAg
ICAgZXhpdCgtZSk7Ci0gICAgICAgICAgICB9Ci0gICAgICAgIH0KLSAgICAgICAgaWYgKGRfY29u
ZmlnLT5udW1fcGNpZGV2cyAmJiBjX2luZm8tPnR5cGUgPT0gTElCWExfRE9NQUlOX1RZUEVfUFYp
Ci0gICAgICAgICAgICBsaWJ4bF9kZWZib29sX3NldCgmYl9pbmZvLT51LnB2LmU4MjBfaG9zdCwg
dHJ1ZSk7Ci0gICAgfQotCi0gICAgaWYgKCF4bHVfY2ZnX2dldF9saXN0IChjb25maWcsICJkdGRl
diIsICZkdGRldnMsIDAsIDApKSB7Ci0gICAgICAgIGRfY29uZmlnLT5udW1fZHRkZXZzID0gMDsK
LSAgICAgICAgZF9jb25maWctPmR0ZGV2cyA9IE5VTEw7Ci0gICAgICAgIGZvciAoaSA9IDA7IChi
dWYgPSB4bHVfY2ZnX2dldF9saXN0aXRlbShkdGRldnMsIGkpKSAhPSBOVUxMOyBpKyspIHsKLSAg
ICAgICAgICAgIGxpYnhsX2RldmljZV9kdGRldiAqZHRkZXY7Ci0KLSAgICAgICAgICAgIGR0ZGV2
ID0gQVJSQVlfRVhURU5EX0lOSVRfTk9ERVZJRChkX2NvbmZpZy0+ZHRkZXZzLAotICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfY29uZmlnLT5udW1fZHRkZXZz
LAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnhsX2Rl
dmljZV9kdGRldl9pbml0KTsKLQotICAgICAgICAgICAgZHRkZXYtPnBhdGggPSBzdHJkdXAoYnVm
KTsKLSAgICAgICAgICAgIGlmIChkdGRldi0+cGF0aCA9PSBOVUxMKSB7Ci0gICAgICAgICAgICAg
ICAgZnByaW50ZihzdGRlcnIsICJ1bmFibGUgdG8gZHVwbGljYXRlIHN0cmluZyBmb3IgZHRkZXZz
XG4iKTsKLSAgICAgICAgICAgICAgICBleGl0KC0xKTsKLSAgICAgICAgICAgIH0KLSAgICAgICAg
fQotICAgIH0KLQogICAgIGlmICgheGx1X2NmZ19nZXRfbGlzdChjb25maWcsICJ1c2JjdHJsIiwg
JnVzYmN0cmxzLCAwLCAwKSkgewogICAgICAgICBkX2NvbmZpZy0+bnVtX3VzYmN0cmxzID0gMDsK
ICAgICAgICAgZF9jb25maWctPnVzYmN0cmxzID0gTlVMTDsKZGlmZiAtLWdpdCBhL3hlbi9hcmNo
L2FybS9kb21haW4uYyBiL3hlbi9hcmNoL2FybS9kb21haW4uYwppbmRleCBhZTEzZTQ3ZTg2Li42
MWQzNWNkMTIwIDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWluLmMKKysrIGIveGVuL2Fy
Y2gvYXJtL2RvbWFpbi5jCkBAIC02MTcsNiArNjE3LDE0IEBAIGludCBhcmNoX3Nhbml0aXNlX2Rv
bWFpbl9jb25maWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluICpjb25maWcpCiAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwogICAgIH0KIAorICAgIC8qIFRoZSBQMk0gdGFibGUgbXVzdCBh
bHdheXMgYmUgc2hhcmVkIGJldHdlZW4gdGhlIENQVSBhbmQgdGhlIElPTU1VICovCisgICAgaWYg
KCBjb25maWctPmlvbW11X29wdHMgJiBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQgKQorICAg
IHsKKyAgICAgICAgZHByaW50ayhYRU5MT0dfSU5GTywKKyAgICAgICAgICAgICAgICAiVW5zdXBw
b3J0ZWQgaW9tbXUgb3B0aW9uOiBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHRcbiIpOworICAg
ICAgICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKICAgICAvKiBGaWxsIGluIHRoZSBuYXRpdmUg
R0lDIHZlcnNpb24sIHBhc3NlZCBiYWNrIHRvIHRoZSB0b29sc3RhY2suICovCiAgICAgaWYgKCBj
b25maWctPmFyY2guZ2ljX3ZlcnNpb24gPT0gWEVOX0RPTUNUTF9DT05GSUdfR0lDX05BVElWRSAp
CiAgICAgewpAQCAtNjc3LDcgKzY4NSw3IEBAIGludCBhcmNoX2RvbWFpbl9jcmVhdGUoc3RydWN0
IGRvbWFpbiAqZCwKICAgICBBU1NFUlQoY29uZmlnICE9IE5VTEwpOwogCiAgICAgLyogcDJtX2lu
aXQgcmVsaWVzIG9uIHNvbWUgdmFsdWUgaW5pdGlhbGl6ZWQgYnkgdGhlIElPTU1VIHN1YnN5c3Rl
bSAqLwotICAgIGlmICggKHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCkpICE9IDAgKQorICAgIGlm
ICggKHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCwgY29uZmlnLT5pb21tdV9vcHRzKSkgIT0gMCAp
CiAgICAgICAgIGdvdG8gZmFpbDsKIAogICAgIGlmICggKHJjID0gcDJtX2luaXQoZCkpICE9IDAg
KQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2RvbWFpbi5jIGIveGVuL2FyY2gveDg2L2RvbWFp
bi5jCmluZGV4IDRiMGFkNWUxNWQuLmZiOGIzOTdiZTIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4
Ni9kb21haW4uYworKysgYi94ZW4vYXJjaC94ODYvZG9tYWluLmMKQEAgLTYxMSw3ICs2MTEsNyBA
QCBpbnQgYXJjaF9kb21haW5fY3JlYXRlKHN0cnVjdCBkb21haW4gKmQsCiAgICAgaWYgKCAocmMg
PSBpbml0X2RvbWFpbl9pcnFfbWFwcGluZyhkKSkgIT0gMCApCiAgICAgICAgIGdvdG8gZmFpbDsK
IAotICAgIGlmICggKHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCkpICE9IDAgKQorICAgIGlmICgg
KHJjID0gaW9tbXVfZG9tYWluX2luaXQoZCwgY29uZmlnLT5pb21tdV9vcHRzKSkgIT0gMCApCiAg
ICAgICAgIGdvdG8gZmFpbDsKIAogICAgIHBzcl9kb21haW5faW5pdChkKTsKZGlmZiAtLWdpdCBh
L3hlbi9jb21tb24vZG9tYWluLmMgYi94ZW4vY29tbW9uL2RvbWFpbi5jCmluZGV4IDQ2ODFmMjlj
OGIuLjA3MzNlZThiMGEgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vZG9tYWluLmMKKysrIGIveGVu
L2NvbW1vbi9kb21haW4uYwpAQCAtMzA4LDYgKzMwOCwxMyBAQCBzdGF0aWMgaW50IHNhbml0aXNl
X2RvbWFpbl9jb25maWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluICpjb25maWcpCiAg
ICAgICAgIHJldHVybiAtRUlOVkFMOwogICAgIH0KIAorICAgIGlmICggIShjb25maWctPmZsYWdz
ICYgWEVOX0RPTUNUTF9DREZfaW9tbXUpICYmIGNvbmZpZy0+aW9tbXVfb3B0cyApCisgICAgewor
ICAgICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLAorICAgICAgICAgICAgICAgICJJT01NVSBvcHRp
b25zIHNwZWNpZmllZCBidXQgSU9NTVUgbm90IGVuYWJsZWRcbiIpOworICAgICAgICByZXR1cm4g
LUVJTlZBTDsKKyAgICB9CisKICAgICBpZiAoIGNvbmZpZy0+bWF4X3ZjcHVzIDwgMSApCiAgICAg
ewogICAgICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLCAiTm8gdkNQVVNcbiIpOwpkaWZmIC0tZ2l0
IGEveGVuL2NvbW1vbi9kb21jdGwuYyBiL3hlbi9jb21tb24vZG9tY3RsLmMKaW5kZXggNWRjZmUz
YzhmNi4uNmU2ZTliOTg2NiAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9kb21jdGwuYworKysgYi94
ZW4vY29tbW9uL2RvbWN0bC5jCkBAIC01MTUsMTkgKzUxNSw2IEBAIGxvbmcgZG9fZG9tY3RsKFhF
Tl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0bF90KSB1X2RvbWN0bCkKICAgICAgICAgICAg
IHJvdmVyID0gZG9tOwogICAgICAgICB9CiAKLSAgICAgICAgLyoKLSAgICAgICAgICogRm9yIG5v
dywgbWFrZSBzdXJlIHRoZSBjcmVhdGVkb21haW4gSU9NTVUgZmxhZyBpcyBzZXQgaWYgdGhlCi0g
ICAgICAgICAqIElPTU1VIGlzIGVuYWJsZWQuIFdoZW4gdGhlIGZsYWcgY29tZXMgdW5kZXIgdG9v
bHN0YWNrIGNvbnRyb2wKLSAgICAgICAgICogdGhpcyBjYW4gZ28gYXdheS4KLSAgICAgICAgICov
Ci0gICAgICAgIGlmICggb3AtPnUuY3JlYXRlZG9tYWluLmZsYWdzICYgWEVOX0RPTUNUTF9DREZf
aW9tbXUgKQotICAgICAgICB7Ci0gICAgICAgICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKLSAg
ICAgICAgICAgIHJldHVybiAtRUlOVkFMOwotICAgICAgICB9Ci0gICAgICAgIGlmICggaW9tbXVf
ZW5hYmxlZCApCi0gICAgICAgICAgICBvcC0+dS5jcmVhdGVkb21haW4uZmxhZ3MgfD0gWEVOX0RP
TUNUTF9DREZfaW9tbXU7Ci0KICAgICAgICAgZCA9IGRvbWFpbl9jcmVhdGUoZG9tLCAmb3AtPnUu
Y3JlYXRlZG9tYWluLCBmYWxzZSk7CiAgICAgICAgIGlmICggSVNfRVJSKGQpICkKICAgICAgICAg
ewpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYyBiL3hlbi9kcml2
ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMKaW5kZXggYTQ5MzQ2Mzk0ZC4uNDE3MWMzY2Y2ZiAxMDA2
NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYworKysgYi94ZW4vZHJpdmVy
cy9wYXNzdGhyb3VnaC9pb21tdS5jCkBAIC0xNjgsNyArMTY4LDcgQEAgc3RhdGljIHZvaWQgX19o
d2RvbV9pbml0IGNoZWNrX2h3ZG9tX3JlcXMoc3RydWN0IGRvbWFpbiAqZCkKICAgICBpb21tdV9o
d2RvbV9zdHJpY3QgPSB0cnVlOwogfQogCi1pbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRv
bWFpbiAqZCkKK2ludCBpb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25l
ZCBpbnQgb3B0cykKIHsKICAgICBzdHJ1Y3QgZG9tYWluX2lvbW11ICpoZCA9IGRvbV9pb21tdShk
KTsKICAgICBpbnQgcmV0ID0gMDsKQEAgLTE5Miw2ICsxOTIsMTUgQEAgaW50IGlvbW11X2RvbWFp
bl9pbml0KHN0cnVjdCBkb21haW4gKmQpCiAgICAgaWYgKCBpc19oYXJkd2FyZV9kb21haW4oZCkg
KQogICAgICAgICBjaGVja19od2RvbV9yZXFzKGQpOyAvKiBtYXkgbW9kaWZ5IGlvbW11X2h3ZG9t
X3N0cmljdCAqLwogCisgICAgLyoKKyAgICAgKiBVc2Ugc2hhcmVkIHBhZ2UgdGFibGVzIGZvciBI
QVAgYW5kIElPTU1VIGlmIHRoZSBnbG9iYWwgb3B0aW9uCisgICAgICogaXMgZW5hYmxlZCAoZnJv
bSB3aGljaCB3ZSBjYW4gaW5mZXIgdGhlIGgvdyBpcyBjYXBhYmxlKSBhbmQKKyAgICAgKiB0aGUg
ZG9tYWluIG9wdGlvbnMgZG8gbm90IGRpc2FsbG93IGl0LiBIQVAgbXVzdCwgb2YgY291cnNlLCBh
bHNvCisgICAgICogYmUgZW5hYmxlZC4KKyAgICAgKi8KKyAgICBoZC0+aGFwX3B0X3NoYXJlID0g
aGFwX2VuYWJsZWQoZCkgJiYgaW9tbXVfaGFwX3B0X3NoYXJlICYmCisgICAgICAgICEob3B0cyAm
IFhFTl9ET01DVExfSU9NTVVfbm9fc2hhcmVwdCk7CisKICAgICAvKgogICAgICAqIE5COiAncmVs
YXhlZCcgaC93IGRvbWFpbnMgZG9uJ3QgbmVlZCB0aGUgSU9NTVUgbWFwcGluZ3MgdG8gYmUga2Vw
dAogICAgICAqICAgICBpbi1zeW5jIHdpdGggdGhlaXIgYXNzaWduZWQgcGFnZXMgYmVjYXVzZSBh
bGwgaG9zdCBSQU0gd2lsbCBiZQpAQCAtMjAwLDYgKzIwOSw4IEBAIGludCBpb21tdV9kb21haW5f
aW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgIGlmICggIWlzX2hhcmR3YXJlX2RvbWFpbihkKSB8
fCBpb21tdV9od2RvbV9zdHJpY3QgKQogICAgICAgICBoZC0+bmVlZF9zeW5jID0gIWlvbW11X3Vz
ZV9oYXBfcHQoZCk7CiAKKyAgICBBU1NFUlQoIShoZC0+bmVlZF9zeW5jICYmIGhkLT5oYXBfcHRf
c2hhcmUpKTsKKwogICAgIHJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9w
dWJsaWMvZG9tY3RsLmggYi94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmgKaW5kZXggMWIzMTc2
YWRiNS4uYmE4NGFlYTZhYiAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvcHVibGljL2RvbWN0bC5o
CisrKyBiL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaApAQCAtMzgsNyArMzgsNyBAQAogI2lu
Y2x1ZGUgImh2bS9zYXZlLmgiCiAjaW5jbHVkZSAibWVtb3J5LmgiCiAKLSNkZWZpbmUgWEVOX0RP
TUNUTF9JTlRFUkZBQ0VfVkVSU0lPTiAweDAwMDAwMDExCisjZGVmaW5lIFhFTl9ET01DVExfSU5U
RVJGQUNFX1ZFUlNJT04gMHgwMDAwMDAxMgogCiAvKgogICogTkIuIHhlbl9kb21jdGwuZG9tYWlu
IGlzIGFuIElOL09VVCBwYXJhbWV0ZXIgZm9yIHRoaXMgb3BlcmF0aW9uLgpAQCAtNzMsNiArNzMs
MTQgQEAgc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluIHsKIAogICAgIHVpbnQzMl90IGZs
YWdzOwogCisjZGVmaW5lIF9YRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQgIDAKKyNkZWZpbmUg
WEVOX0RPTUNUTF9JT01NVV9ub19zaGFyZXB0ICAgKDFVIDw8IF9YRU5fRE9NQ1RMX0lPTU1VX25v
X3NoYXJlcHQpCisKKy8qIE1heCBYRU5fRE9NQ1RMX0lPTU1VXyogY29uc3RhbnQuICBVc2VkIGZv
ciBBQkkgY2hlY2tpbmcuICovCisjZGVmaW5lIFhFTl9ET01DVExfSU9NTVVfTUFYIFhFTl9ET01D
VExfSU9NTVVfbm9fc2hhcmVwdAorCisgICAgdWludDMyX3QgaW9tbXVfb3B0czsKKwogICAgIC8q
CiAgICAgICogVmFyaW91cyBkb21haW4gbGltaXRzLCB3aGljaCBpbXBhY3QgdGhlIHF1YW50aXR5
IG9mIHJlc291cmNlcyAoZ2xvYmFsCiAgICAgICogbWFwcGluZyBzcGFjZSwgeGVuaGVhcCwgZXRj
KSBhIGd1ZXN0IG1heSBjb25zdW1lLgpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL2lvbW11
LmggYi94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAppbmRleCAyODUyMmYyOTlmLi5hYWU5MjgzZDFj
IDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAorKysgYi94ZW4vaW5jbHVkZS94
ZW4vaW9tbXUuaApAQCAtNzUsNyArNzUsNyBAQCBleHRlcm4gdW5zaWduZWQgaW50IGlvbW11X2Rl
dl9pb3RsYl90aW1lb3V0OwogaW50IGlvbW11X3NldHVwKHZvaWQpOwogaW50IGlvbW11X2hhcmR3
YXJlX3NldHVwKHZvaWQpOwogCi1pbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAq
ZCk7CitpbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgaW50
IG9wdHMpOwogdm9pZCBpb21tdV9od2RvbV9pbml0KHN0cnVjdCBkb21haW4gKmQpOwogdm9pZCBp
b21tdV9kb21haW5fZGVzdHJveShzdHJ1Y3QgZG9tYWluICpkKTsKIApAQCAtMjY5LDEwICsyNjks
MTQgQEAgc3RydWN0IGRvbWFpbl9pb21tdSB7CiAgICAgLyogRmVhdHVyZXMgc3VwcG9ydGVkIGJ5
IHRoZSBJT01NVSAqLwogICAgIERFQ0xBUkVfQklUTUFQKGZlYXR1cmVzLCBJT01NVV9GRUFUX2Nv
dW50KTsKIAorICAgIC8qIERvZXMgdGhlIGd1ZXN0IHNoYXJlIEhBUCBtYXBwaW5nIHdpdGggdGhl
IElPTU1VPyAqLworICAgIGJvb2wgaGFwX3B0X3NoYXJlOworCiAgICAgLyoKLSAgICAgKiBEb2Vz
IHRoZSBndWVzdCByZXFpcmUgbWFwcGluZ3MgdG8gYmUgc3luY2hvbml6ZWQsIHRvIG1haW50YWlu
Ci0gICAgICogdGhlIGRlZmF1bHQgZGZuID09IHBmbiBtYXAuIChTZWUgY29tbWVudCBvbiBkZm4g
YXQgdGhlIHRvcCBvZgotICAgICAqIGluY2x1ZGUveGVuL21tLmgpLgorICAgICAqIERvZXMgdGhl
IGd1ZXN0IHJlcXVpcmUgbWFwcGluZ3MgdG8gYmUgc3luY2hyb25pemVkLCB0byBtYWludGFpbgor
ICAgICAqIHRoZSBkZWZhdWx0IGRmbiA9PSBwZm4gbWFwPyAoU2VlIGNvbW1lbnQgb24gZGZuIGF0
IHRoZSB0b3Agb2YKKyAgICAgKiBpbmNsdWRlL3hlbi9tbS5oKS4gTm90ZSB0aGF0IGhhcF9wdF9z
aGFyZSA9PSBmYWxzZSBkb2VzIG5vdAorICAgICAqIG5lY2Vzc2FyaWx5IGltcGx5IHRoaXMgaXMg
dHJ1ZS4KICAgICAgKi8KICAgICBib29sIG5lZWRfc3luYzsKIH07CkBAIC0yODIsOCArMjg2LDcg
QEAgc3RydWN0IGRvbWFpbl9pb21tdSB7CiAjZGVmaW5lIGlvbW11X2NsZWFyX2ZlYXR1cmUoZCwg
ZikgY2xlYXJfYml0KGYsIGRvbV9pb21tdShkKS0+ZmVhdHVyZXMpCiAKIC8qIEFyZSB3ZSB1c2lu
ZyB0aGUgZG9tYWluIFAyTSB0YWJsZSBhcyBpdHMgSU9NTVUgcGFnZXRhYmxlPyAqLwotI2RlZmlu
ZSBpb21tdV91c2VfaGFwX3B0KGQpIFwKLSAgICAoaGFwX2VuYWJsZWQoZCkgJiYgaXNfaW9tbXVf
ZW5hYmxlZChkKSAmJiBpb21tdV9oYXBfcHRfc2hhcmUpCisjZGVmaW5lIGlvbW11X3VzZV9oYXBf
cHQoZCkgICAgICAgKGRvbV9pb21tdShkKS0+aGFwX3B0X3NoYXJlKQogCiAvKiBEb2VzIHRoZSBJ
T01NVSBwYWdldGFibGUgbmVlZCB0byBiZSBrZXB0IHN5bmNocm9uaXplZCB3aXRoIHRoZSBQMk0g
Ki8KICNpZmRlZiBDT05GSUdfSEFTX1BBU1NUSFJPVUdICi0tIAoyLjIwLjEuMi5nYjIxZWJiNjcx
CgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRl
dmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9s
aXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

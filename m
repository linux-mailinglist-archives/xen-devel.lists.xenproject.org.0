Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 31F64A83C1
	for <lists+xen-devel@lfdr.de>; Wed,  4 Sep 2019 15:29:48 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i5VJn-0001Sx-Aq; Wed, 04 Sep 2019 13:27:27 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=Tt/v=W7=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1i5VJm-0001Sp-2Z
 for xen-devel@lists.xenproject.org; Wed, 04 Sep 2019 13:27:26 +0000
X-Inumbo-ID: ba94ad4a-cf17-11e9-978d-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id ba94ad4a-cf17-11e9-978d-bc764e2007e4;
 Wed, 04 Sep 2019 13:27:23 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 11D65ACEF;
 Wed,  4 Sep 2019 13:27:23 +0000 (UTC)
From: Jan Beulich <jbeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <050de29e-5a10-8b4a-44f1-0241f4b33ee2@suse.com>
Message-ID: <ecd1419b-bbf5-9e18-0685-600713cb1617@suse.com>
Date: Wed, 4 Sep 2019 15:27:29 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <050de29e-5a10-8b4a-44f1-0241f4b33ee2@suse.com>
Content-Language: en-US
Subject: [Xen-devel] [PATCH 1/3] VT-d: tidy <X>_to_<Y>() functions
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RHJvcCBpb21tdV90b19kcmhkKCkgYWx0b2dldGhlciAtIHRoZXJlJ3Mgbm8gbmVlZCBmb3IgYSBs
b29wIGhlcmUsIHRoZQpjb3JyZXNwb25kaW5nIERSSEQgaXMgYSBmaWVsZCBpbiBzdHJ1Y3QgaW50
ZWxfaW9tbXUuCgpDb25zdGlmeSBkcmhkX3RvX3Joc2EoKSdzIHBhcmFtZXRlciBhbmQgYWRqdXN0
IHN0eWxlLgoKU2lnbmVkLW9mZi1ieTogSmFuIEJldWxpY2ggPGpiZXVsaWNoQHN1c2UuY29tPgoK
LS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2RtYXIuYworKysgYi94ZW4vZHJpdmVy
cy9wYXNzdGhyb3VnaC92dGQvZG1hci5jCkBAIC0xMjgsNyArMTI4LDcgQEAgc3RhdGljIGludCBh
Y3BpX2lvYXBpY19kZXZpY2VfbWF0Y2goCiAgICAgcmV0dXJuIDA7CiB9CiAKLXN0cnVjdCBhY3Bp
X2RyaGRfdW5pdCAqIGlvYXBpY190b19kcmhkKHVuc2lnbmVkIGludCBhcGljX2lkKQorc3RydWN0
IGFjcGlfZHJoZF91bml0ICppb2FwaWNfdG9fZHJoZCh1bnNpZ25lZCBpbnQgYXBpY19pZCkKIHsK
ICAgICBzdHJ1Y3QgYWNwaV9kcmhkX3VuaXQgKmRyaGQ7CiAgICAgbGlzdF9mb3JfZWFjaF9lbnRy
eSggZHJoZCwgJmFjcGlfZHJoZF91bml0cywgbGlzdCApCkBAIC0xMzcsMjEgKzEzNyw3IEBAIHN0
cnVjdCBhY3BpX2RyaGRfdW5pdCAqIGlvYXBpY190b19kcmhkKHUKICAgICByZXR1cm4gTlVMTDsK
IH0KIAotc3RydWN0IGFjcGlfZHJoZF91bml0ICogaW9tbXVfdG9fZHJoZChzdHJ1Y3QgaW9tbXUg
KmlvbW11KQotewotICAgIHN0cnVjdCBhY3BpX2RyaGRfdW5pdCAqZHJoZDsKLQotICAgIGlmICgg
aW9tbXUgPT0gTlVMTCApCi0gICAgICAgIHJldHVybiBOVUxMOwotCi0gICAgbGlzdF9mb3JfZWFj
aF9lbnRyeSggZHJoZCwgJmFjcGlfZHJoZF91bml0cywgbGlzdCApCi0gICAgICAgIGlmICggZHJo
ZC0+aW9tbXUgPT0gaW9tbXUgKQotICAgICAgICAgICAgcmV0dXJuIGRyaGQ7Ci0KLSAgICByZXR1
cm4gTlVMTDsKLX0KLQotc3RydWN0IGlvbW11ICogaW9hcGljX3RvX2lvbW11KHVuc2lnbmVkIGlu
dCBhcGljX2lkKQorc3RydWN0IGlvbW11ICppb2FwaWNfdG9faW9tbXUodW5zaWduZWQgaW50IGFw
aWNfaWQpCiB7CiAgICAgc3RydWN0IGFjcGlfZHJoZF91bml0ICpkcmhkOwogCkBAIC0yNjUsNyAr
MjUxLDcgQEAgc3RydWN0IGFjcGlfYXRzcl91bml0ICphY3BpX2ZpbmRfbWF0Y2hlZAogICAgIHJl
dHVybiBhbGxfcG9ydHM7CiB9CiAKLXN0cnVjdCBhY3BpX3Joc2FfdW5pdCAqIGRyaGRfdG9fcmhz
YShzdHJ1Y3QgYWNwaV9kcmhkX3VuaXQgKmRyaGQpCitzdHJ1Y3QgYWNwaV9yaHNhX3VuaXQgKmRy
aGRfdG9fcmhzYShjb25zdCBzdHJ1Y3QgYWNwaV9kcmhkX3VuaXQgKmRyaGQpCiB7CiAgICAgc3Ry
dWN0IGFjcGlfcmhzYV91bml0ICpyaHNhOwogCi0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdo
L3Z0ZC9leHRlcm4uaAorKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvZXh0ZXJuLmgK
QEAgLTUyLDEyICs1MiwxMSBAQCBpbnQgaW9tbXVfZmx1c2hfaWVjX2dsb2JhbChzdHJ1Y3QgaW9t
bXUKIGludCBpb21tdV9mbHVzaF9pZWNfaW5kZXgoc3RydWN0IGlvbW11ICppb21tdSwgdTggaW0s
IHUxNiBpaWR4KTsKIHZvaWQgY2xlYXJfZmF1bHRfYml0cyhzdHJ1Y3QgaW9tbXUgKmlvbW11KTsK
IAotc3RydWN0IGlvbW11ICogaW9hcGljX3RvX2lvbW11KHVuc2lnbmVkIGludCBhcGljX2lkKTsK
LXN0cnVjdCBpb21tdSAqIGhwZXRfdG9faW9tbXUodW5zaWduZWQgaW50IGhwZXRfaWQpOwotc3Ry
dWN0IGFjcGlfZHJoZF91bml0ICogaW9hcGljX3RvX2RyaGQodW5zaWduZWQgaW50IGFwaWNfaWQp
Owotc3RydWN0IGFjcGlfZHJoZF91bml0ICogaHBldF90b19kcmhkKHVuc2lnbmVkIGludCBocGV0
X2lkKTsKLXN0cnVjdCBhY3BpX2RyaGRfdW5pdCAqIGlvbW11X3RvX2RyaGQoc3RydWN0IGlvbW11
ICppb21tdSk7Ci1zdHJ1Y3QgYWNwaV9yaHNhX3VuaXQgKiBkcmhkX3RvX3Joc2Eoc3RydWN0IGFj
cGlfZHJoZF91bml0ICpkcmhkKTsKK3N0cnVjdCBpb21tdSAqaW9hcGljX3RvX2lvbW11KHVuc2ln
bmVkIGludCBhcGljX2lkKTsKK3N0cnVjdCBpb21tdSAqaHBldF90b19pb21tdSh1bnNpZ25lZCBp
bnQgaHBldF9pZCk7CitzdHJ1Y3QgYWNwaV9kcmhkX3VuaXQgKmlvYXBpY190b19kcmhkKHVuc2ln
bmVkIGludCBhcGljX2lkKTsKK3N0cnVjdCBhY3BpX2RyaGRfdW5pdCAqaHBldF90b19kcmhkKHVu
c2lnbmVkIGludCBocGV0X2lkKTsKK3N0cnVjdCBhY3BpX3Joc2FfdW5pdCAqZHJoZF90b19yaHNh
KGNvbnN0IHN0cnVjdCBhY3BpX2RyaGRfdW5pdCAqZHJoZCk7CiAKIHN0cnVjdCBhY3BpX2RyaGRf
dW5pdCAqIGZpbmRfYXRzX2Rldl9kcmhkKHN0cnVjdCBpb21tdSAqaW9tbXUpOwogCi0tLSBhL3hl
bi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9pbnRyZW1hcC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bh
c3N0aHJvdWdoL3Z0ZC9pbnRyZW1hcC5jCkBAIC03NjAsNyArNzYwLDYgQEAgaW50IF9faW5pdCBp
bnRlbF9zZXR1cF9ocGV0X21zaShzdHJ1Y3QgbQogCiBpbnQgZW5hYmxlX2ludHJlbWFwKHN0cnVj
dCBpb21tdSAqaW9tbXUsIGludCBlaW0pCiB7Ci0gICAgc3RydWN0IGFjcGlfZHJoZF91bml0ICpk
cmhkOwogICAgIHN0cnVjdCBpcl9jdHJsICppcl9jdHJsOwogICAgIHUzMiBzdHMsIGdjbWQ7CiAg
ICAgdW5zaWduZWQgbG9uZyBmbGFnczsKQEAgLTc5Niw4ICs3OTUsOCBAQCBpbnQgZW5hYmxlX2lu
dHJlbWFwKHN0cnVjdCBpb21tdSAqaW9tbXUsCiAKICAgICBpZiAoIGlyX2N0cmwtPmlyZW1hcF9t
YWRkciA9PSAwICkKICAgICB7Ci0gICAgICAgIGRyaGQgPSBpb21tdV90b19kcmhkKGlvbW11KTsK
LSAgICAgICAgaXJfY3RybC0+aXJlbWFwX21hZGRyID0gYWxsb2NfcGd0YWJsZV9tYWRkcihkcmhk
LCBJUkVNQVBfQVJDSF9QQUdFX05SKTsKKyAgICAgICAgaXJfY3RybC0+aXJlbWFwX21hZGRyID0g
YWxsb2NfcGd0YWJsZV9tYWRkcihpb21tdS0+aW50ZWwtPmRyaGQsCisgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSVJFTUFQX0FSQ0hfUEFHRV9OUik7
CiAgICAgICAgIGlmICggaXJfY3RybC0+aXJlbWFwX21hZGRyID09IDAgKQogICAgICAgICB7CiAg
ICAgICAgICAgICBkcHJpbnRrKFhFTkxPR19XQVJOSU5HIFZURFBSRUZJWCwKLS0tIGEveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvdnRkL2lvbW11LmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91
Z2gvdnRkL2lvbW11LmMKQEAgLTIyNCw3ICsyMjQsNiBAQCB2b2lkIGZyZWVfcGd0YWJsZV9tYWRk
cih1NjQgbWFkZHIpCiAvKiBjb250ZXh0IGVudHJ5IGhhbmRsaW5nICovCiBzdGF0aWMgdTY0IGJ1
c190b19jb250ZXh0X21hZGRyKHN0cnVjdCBpb21tdSAqaW9tbXUsIHU4IGJ1cykKIHsKLSAgICBz
dHJ1Y3QgYWNwaV9kcmhkX3VuaXQgKmRyaGQ7CiAgICAgc3RydWN0IHJvb3RfZW50cnkgKnJvb3Qs
ICpyb290X2VudHJpZXM7CiAgICAgdTY0IG1hZGRyOwogCkBAIC0yMzMsOCArMjMyLDcgQEAgc3Rh
dGljIHU2NCBidXNfdG9fY29udGV4dF9tYWRkcihzdHJ1Y3QgaQogICAgIHJvb3QgPSAmcm9vdF9l
bnRyaWVzW2J1c107CiAgICAgaWYgKCAhcm9vdF9wcmVzZW50KCpyb290KSApCiAgICAgewotICAg
ICAgICBkcmhkID0gaW9tbXVfdG9fZHJoZChpb21tdSk7Ci0gICAgICAgIG1hZGRyID0gYWxsb2Nf
cGd0YWJsZV9tYWRkcihkcmhkLCAxKTsKKyAgICAgICAgbWFkZHIgPSBhbGxvY19wZ3RhYmxlX21h
ZGRyKGlvbW11LT5pbnRlbC0+ZHJoZCwgMSk7CiAgICAgICAgIGlmICggbWFkZHIgPT0gMCApCiAg
ICAgICAgIHsKICAgICAgICAgICAgIHVubWFwX3Z0ZF9kb21haW5fcGFnZShyb290X2VudHJpZXMp
OwotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvcWludmFsLmMKKysrIGIveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvdnRkL3FpbnZhbC5jCkBAIC0zOTcsNyArMzk3LDYgQEAgc3RhdGlj
IGludCBfX211c3RfY2hlY2sgZmx1c2hfaW90bGJfcWkodgogCiBpbnQgZW5hYmxlX3FpbnZhbChz
dHJ1Y3QgaW9tbXUgKmlvbW11KQogewotICAgIHN0cnVjdCBhY3BpX2RyaGRfdW5pdCAqZHJoZDsK
ICAgICBzdHJ1Y3QgcWlfY3RybCAqcWlfY3RybDsKICAgICBzdHJ1Y3QgaW9tbXVfZmx1c2ggKmZs
dXNoOwogICAgIHUzMiBzdHM7CkBAIC00MTYsOCArNDE1LDggQEAgaW50IGVuYWJsZV9xaW52YWwo
c3RydWN0IGlvbW11ICppb21tdSkKIAogICAgIGlmICggcWlfY3RybC0+cWludmFsX21hZGRyID09
IDAgKQogICAgIHsKLSAgICAgICAgZHJoZCA9IGlvbW11X3RvX2RyaGQoaW9tbXUpOwotICAgICAg
ICBxaV9jdHJsLT5xaW52YWxfbWFkZHIgPSBhbGxvY19wZ3RhYmxlX21hZGRyKGRyaGQsIFFJTlZB
TF9BUkNIX1BBR0VfTlIpOworICAgICAgICBxaV9jdHJsLT5xaW52YWxfbWFkZHIgPSBhbGxvY19w
Z3RhYmxlX21hZGRyKGlvbW11LT5pbnRlbC0+ZHJoZCwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBRSU5WQUxfQVJDSF9QQUdFX05SKTsKICAgICAg
ICAgaWYgKCBxaV9jdHJsLT5xaW52YWxfbWFkZHIgPT0gMCApCiAgICAgICAgIHsKICAgICAgICAg
ICAgIGRwcmludGsoWEVOTE9HX1dBUk5JTkcgVlREUFJFRklYLAoKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVu
LWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcv
bWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

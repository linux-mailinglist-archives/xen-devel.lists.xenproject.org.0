Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CE539105513
	for <lists+xen-devel@lfdr.de>; Thu, 21 Nov 2019 16:07:01 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iXnyQ-0001ux-Mv; Thu, 21 Nov 2019 15:02:22 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=gidU=ZN=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1iXnyP-0001us-Cq
 for xen-devel@lists.xenproject.org; Thu, 21 Nov 2019 15:02:21 +0000
X-Inumbo-ID: e994f5ce-0c6f-11ea-a339-12813bfff9fa
Received: from EUR02-VE1-obe.outbound.protection.outlook.com (unknown
 [40.107.2.94]) by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id e994f5ce-0c6f-11ea-a339-12813bfff9fa;
 Thu, 21 Nov 2019 15:02:19 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=IQdq47uHJCuzoB/2dTBcf79NOaJuUcEggRqlk1pQX0njicl4uB2HRHmpCv03/JBY9c5m6FSZ8jbjf9zYGGROgpHeWjosLFMvhT8nmVuSVvQNbiConWnZo2fBjE868hNT0FGuedwSnjxfXkgVUp9TEVfxFf0/FjaSY0Tm65kw3R+lanikwfk7d9W41aW9E9yDFO4Ui1ZUu7aBKxPH/e2SLdxRAR00I2eAifUwS8Oohs6JSiAFMMPk4cjexs6SSepY+CudR5pjE9OFhN+6oYsuv3u16N4P+kQbHVAsZqKkF5K97UnAzai8mcCTfmT6faslO8WLXrtdaZWA3Yh8Xqoqmw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=59z+eG03zjvMgRHcpv1j4y3oWgelTvTr5JuPmv1WRcs=;
 b=HE9Exmtgv2zatxf08hg/EO7rqHMsuUR+j0Uykjld9ywpFzTP8NC6KwDHGn5WHVSDGwqUCm45TP2p9Ds+fOj9KM+KHUd0uOy/OcrlnhhZoTybzYt+HyKLmhBh+SG6dhrsSDRHRzKrWkgYZv+uVvnLT8dBwBqj65zwOMwmx0FOW3ylrFKeCK2Je8tPJmH0b8AOg45wwWqtjnxzejnrMPvBhB3hd4aGbir94nrd5ohWXDKlwKpM4cM7IFjORPOf0T8BjCZQGNS/IgUsr3bAhr2Np1MC2ux8EJm+ukFVuxFuYQZ8/dqMrkRRwS6Yq+GQ/6DUBfp6/1tQKp5zg0Vk7jzi4Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=59z+eG03zjvMgRHcpv1j4y3oWgelTvTr5JuPmv1WRcs=;
 b=k8th5x5GJxlG6lkCQVIz7if1PPjxKblLXMHCXNojCdqTf0dEZa8T6anYVUTDiP2fD4bSFdfppDB3uuZTEAIpaZeSZdjZdUeNuh7dnonJtoV0FJikeeVnj9NcXv743UrGfqbEqKojkW6EuaHXcEU1FsWE4EQHBqca1QxpE6U9K00=
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com (10.255.30.78) by
 AM0PR02MB5396.eurprd02.prod.outlook.com (10.255.31.207) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2474.17; Thu, 21 Nov 2019 15:02:17 +0000
Received: from AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d]) by AM0PR02MB5553.eurprd02.prod.outlook.com
 ([fe80::8cec:7638:734c:89d%4]) with mapi id 15.20.2474.019; Thu, 21 Nov 2019
 15:02:17 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH V3 1/2] x86/altp2m: Add hypercall to set a range of sve
 bits
Thread-Index: AQHVoHyqPG/1qImaik2u7wxoJD4v5w==
Date: Thu, 21 Nov 2019 15:02:17 +0000
Message-ID: <20191121150124.15865-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: FR2P281CA0005.DEUP281.PROD.OUTLOOK.COM
 (2603:10a6:d10:a::15) To AM0PR02MB5553.eurprd02.prod.outlook.com
 (2603:10a6:208:160::14)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 9537b848-e5ed-49ff-1a58-08d76e93cce0
x-ms-traffictypediagnostic: AM0PR02MB5396:|AM0PR02MB5396:|AM0PR02MB5396:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <AM0PR02MB5396AC071F12B9E00DFA5D00AB4E0@AM0PR02MB5396.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:612;
x-forefront-prvs: 0228DDDDD7
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(366004)(396003)(39860400002)(376002)(346002)(136003)(199004)(189003)(2906002)(5640700003)(107886003)(6512007)(4326008)(6116002)(25786009)(36756003)(3846002)(7736002)(305945005)(7416002)(66066001)(6436002)(6486002)(2351001)(86362001)(6916009)(2501003)(26005)(186003)(478600001)(316002)(256004)(14444005)(8936002)(50226002)(66446008)(2616005)(8676002)(81156014)(1076003)(81166006)(66476007)(5660300002)(52116002)(14454004)(99286004)(386003)(71200400001)(66946007)(6506007)(71190400001)(102836004)(64756008)(66556008)(54906003);
 DIR:OUT; SFP:1102; SCL:1; SRVR:AM0PR02MB5396;
 H:AM0PR02MB5553.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: NoCK5/jUdn8LaiCtRQquFShmyD9+1cSXdXQFpWTEQs4zSTbCaxwEmuWbMoLu7ovETqJ+mH30FnJ3sFsRVTMRrcOdxB3wrQAP5cx+yjF/16dIEAWNVSSaPuBUB51kmUzylxUf/1dglnI3PqS6/ffrRCjwYgzNX/IEiu0IzmwIJFgvKu30c3YDIo96zjHAnksV4O8MkwGF+Avg1XZ7LXP20QpMkMmMkWgAKnVxYk741rJmPB4lvlMezQxVt5qfFzye2WNAENxxMFo6Bqd6DG2ko/Gf0dNiVDSn53+dfdG+piuayzCQzkC6sJ4G3n2xN5enrBIKP3gId26Ns6zsaaGT7sUbSQjVpBU41T3dljedltFcN+o0ESq1pCOufoPrHeqSEIqf4AfNdS9VnscthLR1Tx41ZdwsHBmf6TIF3vRQpMirDESGvHEjJaUgqHMRtCQZ
Content-ID: <B23A0A153464EC4FBB3F533D076EBFAE@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9537b848-e5ed-49ff-1a58-08d76e93cce0
X-MS-Exchange-CrossTenant-originalarrivaltime: 21 Nov 2019 15:02:17.5039 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 6oLZHOwxXDLTXYxjEeo8svFRm3F+gY84bKtCmyYRot9CyxiQzPqhPU+eCYZatbVm5yTsxwaM+QrF7KRwmhs1TcG5/g2uBCvijPIijRUwLHI=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR02MB5396
Subject: [Xen-devel] [PATCH V3 1/2] x86/altp2m: Add hypercall to set a range
 of sve bits
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Ovidiu PIRCALABU <ppircalabu@bitdefender.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Razvan COJOCARU <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tamas K Lengyel <tamas@tklengyel.com>,
 Jan Beulich <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnkgZGVmYXVsdCB0aGUgc3ZlIGJpdHMgYXJlIG5vdCBzZXQuDQpUaGlzIHBhdGNoIGFkZHMgYSBu
ZXcgaHlwZXJjYWxsLCB4Y19hbHRwMm1fc2V0X3N1cHJlc3NfdmVfbXVsdGkoKSwNCnRvIHNldCBh
IHJhbmdlIG9mIHN2ZSBiaXRzLg0KVGhlIGNvcmUgZnVuY3Rpb24sIHAybV9zZXRfc3VwcHJlc3Nf
dmVfbXVsdGkoKSwgZG9lcyBub3QgYnJha2UgaW4gY2FzZQ0Kb2YgYSBlcnJvciBhbmQgaXQgaXMg
ZG9pbmcgYSBiZXN0IGVmZm9ydCBmb3Igc2V0dGluZyB0aGUgYml0cyBpbiB0aGUNCmdpdmVuIHJh
bmdlLiBBIGNoZWNrIGZvciBjb250aW51YXRpb24gaXMgbWFkZSBpbiBvcmRlciB0byBoYXZlDQpw
cmVlbXB0aW9uIG9uIGJpZyByYW5nZXMuDQoNClNpZ25lZC1vZmYtYnk6IEFsZXhhbmRydSBJc2Fp
bGEgPGFpc2FpbGFAYml0ZGVmZW5kZXIuY29tPg0KLS0tDQpDQzogSWFuIEphY2tzb24gPGlhbi5q
YWNrc29uQGV1LmNpdHJpeC5jb20+DQpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4NCkNDOiBBbmRy
ZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPg0KQ0M6IEdlb3JnZSBEdW5sYXAg
PEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4NCkNDOiBKYW4gQmV1bGljaCA8amJldWxpY2hA
c3VzZS5jb20+DQpDQzogSnVsaWVuIEdyYWxsIDxqdWxpZW5AeGVuLm9yZz4NCkNDOiBLb25yYWQg
Unplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNsZS5jb20+DQpDQzogU3RlZmFubyBTdGFi
ZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPg0KQ0M6ICJSb2dlciBQYXUgTW9ubsOpIiA8
cm9nZXIucGF1QGNpdHJpeC5jb20+DQpDQzogR2VvcmdlIER1bmxhcCA8Z2VvcmdlLmR1bmxhcEBl
dS5jaXRyaXguY29tPg0KQ0M6IFJhenZhbiBDb2pvY2FydSA8cmNvam9jYXJ1QGJpdGRlZmVuZGVy
LmNvbT4NCkNDOiBUYW1hcyBLIExlbmd5ZWwgPHRhbWFzQHRrbGVuZ3llbC5jb20+DQpDQzogUGV0
cmUgUGlyY2FsYWJ1IDxwcGlyY2FsYWJ1QGJpdGRlZmVuZGVyLmNvbT4NCi0tLQ0KQ2hhbmdlcyBz
aW5jZSBWMjoNCgktIEFkZCBhIG5ldyBzdHJ1Y3R1cmUgInhlbl9odm1fYWx0cDJtX3N1cHByZXNz
X3ZlX211bHRpIg0KCS0gQ29weSB0aGUgZ2ZuIG9mIHRoZSBmaXJzdCBlcnJvciB0byB0aGUgY2Fs
bGVyDQoJLSBSZXZlcnQgeGVuX2h2bV9hbHRwMm1fc3VwcHJlc3NfdmUNCgktIEFkZCBhIG1lY2hh
bmlzbSB0byBzYXZlIHRoZSBmaXJzdCBlcnJvci4NCi0tLQ0KIHRvb2xzL2xpYnhjL2luY2x1ZGUv
eGVuY3RybC5oICAgfCAgNCArKysNCiB0b29scy9saWJ4Yy94Y19hbHRwMm0uYyAgICAgICAgIHwg
MzAgKysrKysrKysrKysrKysrKysNCiB4ZW4vYXJjaC94ODYvaHZtL2h2bS5jICAgICAgICAgIHwg
MTMgKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9tbS9wMm0uYyAgICAgICAgICAgfCA2MCArKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysNCiB4ZW4vaW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9v
cC5oIHwgMTQgKysrKysrKysNCiB4ZW4vaW5jbHVkZS94ZW4vbWVtX2FjY2Vzcy5oICAgIHwgIDMg
KysNCiA2IGZpbGVzIGNoYW5nZWQsIDEyNCBpbnNlcnRpb25zKCspDQoNCmRpZmYgLS1naXQgYS90
b29scy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaCBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3Ry
bC5oDQppbmRleCBmNDQzMTY4N2IzLi4zNTY1MzNlMzkxIDEwMDY0NA0KLS0tIGEvdG9vbHMvbGli
eGMvaW5jbHVkZS94ZW5jdHJsLmgNCisrKyBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5o
DQpAQCAtMTkyMyw2ICsxOTIzLDEwIEBAIGludCB4Y19hbHRwMm1fc3dpdGNoX3RvX3ZpZXcoeGNf
aW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdWludDE2X3Qgdmlld19pZCk7DQogaW50IHhjX2FsdHAybV9zZXRfc3VwcHJlc3Nf
dmUoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHVpbnQxNl90IHZpZXdfaWQsIHhlbl9wZm5fdCBnZm4sIGJvb2wgc3Zl
KTsNCitpbnQgeGNfYWx0cDJtX3NldF9zdXByZXNzX3ZlX211bHRpKHhjX2ludGVyZmFjZSAqaGFu
ZGxlLCB1aW50MzJfdCBkb21pZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVpbnQxNl90IHZpZXdfaWQsIHhlbl9wZm5fdCBmaXJzdF9nZm4sDQorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB4ZW5fcGZuX3QgbGFzdF9nZm4sIGJvb2wgc3ZlLA0KKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVuX3Bmbl90ICplcnJvcik7DQogaW50IHhj
X2FsdHAybV9nZXRfc3VwcHJlc3NfdmUoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRv
bWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IHZpZXdfaWQsIHhl
bl9wZm5fdCBnZm4sIGJvb2wgKnN2ZSk7DQogaW50IHhjX2FsdHAybV9zZXRfbWVtX2FjY2Vzcyh4
Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQpkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGMveGNfYWx0cDJtLmMgYi90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KaW5kZXggMDlkYWQw
MzU1ZS4uMDNiZDY1MWE2MSAxMDA2NDQNCi0tLSBhL3Rvb2xzL2xpYnhjL3hjX2FsdHAybS5jDQor
KysgYi90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KQEAgLTIzNCw2ICsyMzQsMzYgQEAgaW50IHhj
X2FsdHAybV9zZXRfc3VwcHJlc3NfdmUoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRv
bWlkLA0KICAgICByZXR1cm4gcmM7DQogfQ0KIA0KK2ludCB4Y19hbHRwMm1fc2V0X3N1cHJlc3Nf
dmVfbXVsdGkoeGNfaW50ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDE2X3Qgdmlld19pZCwgeGVuX3Bmbl90IGZp
cnN0X2dmbiwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhlbl9wZm5fdCBs
YXN0X2dmbiwgYm9vbCBzdmUsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4
ZW5fcGZuX3QgKmVycm9yKQ0KK3sNCisgICAgaW50IHJjOw0KKyAgICBERUNMQVJFX0hZUEVSQ0FM
TF9CVUZGRVIoeGVuX2h2bV9hbHRwMm1fb3BfdCwgYXJnKTsNCisNCisgICAgYXJnID0geGNfaHlw
ZXJjYWxsX2J1ZmZlcl9hbGxvYyhoYW5kbGUsIGFyZywgc2l6ZW9mKCphcmcpKTsNCisgICAgaWYg
KCBhcmcgPT0gTlVMTCApDQorICAgICAgICByZXR1cm4gLTE7DQorDQorICAgIGFyZy0+dmVyc2lv
biA9IEhWTU9QX0FMVFAyTV9JTlRFUkZBQ0VfVkVSU0lPTjsNCisgICAgYXJnLT5jbWQgPSBIVk1P
UF9hbHRwMm1fc2V0X3N1cHByZXNzX3ZlX211bHRpOw0KKyAgICBhcmctPmRvbWFpbiA9IGRvbWlk
Ow0KKyAgICBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkudmlldyA9IHZpZXdfaWQ7DQorICAgIGFy
Zy0+dS5zdXBwcmVzc192ZV9tdWx0aS5maXJzdF9nZm4gPSBmaXJzdF9nZm47DQorICAgIGFyZy0+
dS5zdXBwcmVzc192ZV9tdWx0aS5sYXN0X2dmbiA9IGxhc3RfZ2ZuOw0KKyAgICBhcmctPnUuc3Vw
cHJlc3NfdmVfbXVsdGkuc3VwcHJlc3NfdmUgPSBzdmU7DQorDQorICAgIHJjID0geGVuY2FsbDIo
aGFuZGxlLT54Y2FsbCwgX19IWVBFUlZJU09SX2h2bV9vcCwgSFZNT1BfYWx0cDJtLA0KKyAgICAg
ICAgICAgICAgICAgIEhZUEVSQ0FMTF9CVUZGRVJfQVNfQVJHKGFyZykpOw0KKw0KKyAgICBpZiAo
IGFyZy0+dS5zdXBwcmVzc192ZV9tdWx0aS5maXJzdF9lcnJvciApDQorICAgICAgICAqZXJyb3Ig
PSBhcmctPnUuc3VwcHJlc3NfdmVfbXVsdGkuZmlyc3RfZXJyb3I7DQorDQorICAgIHhjX2h5cGVy
Y2FsbF9idWZmZXJfZnJlZShoYW5kbGUsIGFyZyk7DQorICAgIHJldHVybiByYzsNCit9DQorDQog
aW50IHhjX2FsdHAybV9zZXRfbWVtX2FjY2Vzcyh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMy
X3QgZG9taWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2aWV3X2lk
LCB4ZW5fcGZuX3QgZ2ZuLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVubWVtX2Fj
Y2Vzc190IGFjY2VzcykNCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jIGIveGVu
L2FyY2gveDg2L2h2bS9odm0uYw0KaW5kZXggODE4ZTcwNWZkMS4uOGEyZDQzMjVmOSAxMDA2NDQN
Ci0tLSBhL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMNCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZt
LmMNCkBAIC00NTUzLDYgKzQ1NTMsNyBAQCBzdGF0aWMgaW50IGRvX2FsdHAybV9vcCgNCiAgICAg
Y2FzZSBIVk1PUF9hbHRwMm1fZGVzdHJveV9wMm06DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX3N3
aXRjaF9wMm06DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZToNCisgICAg
Y2FzZSBIVk1PUF9hbHRwMm1fc2V0X3N1cHByZXNzX3ZlX211bHRpOg0KICAgICBjYXNlIEhWTU9Q
X2FsdHAybV9nZXRfc3VwcHJlc3NfdmU6DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX3NldF9tZW1f
YWNjZXNzOg0KICAgICBjYXNlIEhWTU9QX2FsdHAybV9zZXRfbWVtX2FjY2Vzc19tdWx0aToNCkBA
IC00NzExLDYgKzQ3MTIsMTggQEAgc3RhdGljIGludCBkb19hbHRwMm1fb3AoDQogICAgICAgICB9
DQogICAgICAgICBicmVhazsNCiANCisgICAgY2FzZSBIVk1PUF9hbHRwMm1fc2V0X3N1cHByZXNz
X3ZlX211bHRpOg0KKyAgICAgICAgaWYgKCBhLnUuc3VwcHJlc3NfdmVfbXVsdGkucGFkMSB8fCAh
YS51LnN1cHByZXNzX3ZlX211bHRpLnBhZDIgKQ0KKyAgICAgICAgICAgIHJjID0gLUVJTlZBTDsN
CisgICAgICAgIGVsc2UNCisgICAgICAgIHsNCisgICAgICAgICAgICByYyA9IHAybV9zZXRfc3Vw
cHJlc3NfdmVfbXVsdGkoZCwgJmEudS5zdXBwcmVzc192ZV9tdWx0aSk7DQorDQorICAgICAgICAg
ICAgaWYgKCBfX2NvcHlfdG9fZ3Vlc3QoYXJnLCAmYSwgMSkgKQ0KKyAgICAgICAgICAgICAgICBy
YyA9IC1FRkFVTFQ7DQorICAgICAgICB9DQorICAgICAgICBicmVhazsNCisNCiAgICAgY2FzZSBI
Vk1PUF9hbHRwMm1fZ2V0X3N1cHByZXNzX3ZlOg0KICAgICAgICAgaWYgKCBhLnUuc3VwcHJlc3Nf
dmUucGFkMSB8fCBhLnUuc3VwcHJlc3NfdmUucGFkMiApDQogICAgICAgICAgICAgcmMgPSAtRUlO
VkFMOw0KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS9wMm0uYyBiL3hlbi9hcmNoL3g4Ni9t
bS9wMm0uYw0KaW5kZXggYmExMjZmNzkwYS4uMmI1MWE3ZjUwZiAxMDA2NDQNCi0tLSBhL3hlbi9h
cmNoL3g4Ni9tbS9wMm0uYw0KKysrIGIveGVuL2FyY2gveDg2L21tL3AybS5jDQpAQCAtMzA1OSw2
ICszMDU5LDY2IEBAIG91dDoNCiAgICAgcmV0dXJuIHJjOw0KIH0NCiANCisvKg0KKyAqIFNldC9j
bGVhciB0aGUgI1ZFIHN1cHByZXNzIGJpdCBmb3IgbXVsdGlwbGUgcGFnZXMuICBPbmx5IGF2YWls
YWJsZSBvbiBWTVguDQorICovDQoraW50IHAybV9zZXRfc3VwcHJlc3NfdmVfbXVsdGkoc3RydWN0
IGRvbWFpbiAqZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgeGVuX2h2
bV9hbHRwMm1fc3VwcHJlc3NfdmVfbXVsdGkgKnN2ZSkNCit7DQorICAgIHN0cnVjdCBwMm1fZG9t
YWluICpob3N0X3AybSA9IHAybV9nZXRfaG9zdHAybShkKTsNCisgICAgc3RydWN0IHAybV9kb21h
aW4gKmFwMm0gPSBOVUxMOw0KKyAgICBzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtOw0KKyAgICB1aW50
NjRfdCBzdGFydCA9IHN2ZS0+b3BhcXVlID86IHN2ZS0+Zmlyc3RfZ2ZuOw0KKyAgICBpbnQgcmMg
PSAwOw0KKw0KKyAgICBpZiAoIHN2ZS0+dmlldyA+IDAgKQ0KKyAgICB7DQorICAgICAgICBpZiAo
IHN2ZS0+dmlldyA+PSBNQVhfQUxUUDJNIHx8DQorICAgICAgICAgICAgIGQtPmFyY2guYWx0cDJt
X2VwdHBbc3ZlLT52aWV3XSA9PSBtZm5feChJTlZBTElEX01GTikgKQ0KKyAgICAgICAgICAgIHJl
dHVybiAtRUlOVkFMOw0KKw0KKyAgICAgICAgcDJtID0gYXAybSA9IGQtPmFyY2guYWx0cDJtX3Ay
bVtzdmUtPnZpZXddOw0KKyAgICB9DQorICAgIGVsc2UNCisgICAgICAgIHAybSA9IGhvc3RfcDJt
Ow0KKw0KKyAgICBwMm1fbG9jayhob3N0X3AybSk7DQorDQorICAgIGlmICggYXAybSApDQorICAg
ICAgICBwMm1fbG9jayhhcDJtKTsNCisNCisNCisgICAgd2hpbGUgKCBzdmUtPmxhc3RfZ2ZuID49
IHN0YXJ0ICkNCisgICAgew0KKyAgICAgICAgcDJtX2FjY2Vzc190IGE7DQorICAgICAgICBwMm1f
dHlwZV90IHQ7DQorICAgICAgICBtZm5fdCBtZm47DQorDQorICAgICAgICBpZiAoIGFsdHAybV9n
ZXRfZWZmZWN0aXZlX2VudHJ5KHAybSwgX2dmbihzdGFydCksICZtZm4sICZ0LCAmYSwgQVAyTUdF
VF9xdWVyeSkgKQ0KKyAgICAgICAgICAgIGEgPSBwMm0tPmRlZmF1bHRfYWNjZXNzOw0KKw0KKyAg
ICAgICAgaWYgKCBwMm0tPnNldF9lbnRyeShwMm0sIF9nZm4oc3RhcnQpLCBtZm4sIFBBR0VfT1JE
RVJfNEssIHQsIGEsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2ZS0+c3VwcHJlc3Nf
dmUpICYmICFzdmUtPmZpcnN0X2Vycm9yICkNCisgICAgICAgICAgICBzdmUtPmZpcnN0X2Vycm9y
ID0gc3RhcnQ7IC8qIFNhdmUgdGhlIGdmbiBmcm9tIG9mIHRoZSBmaXJzdCBlcnJvciAqLw0KKw0K
KyAgICAgICAgLyogQ2hlY2sgZm9yIGNvbnRpbnVhdGlvbiBpZiBpdCdzIG5vdCB0aGUgbGFzdCBp
dGVyYXRpb24uICovDQorICAgICAgICBpZiAoIHN2ZS0+bGFzdF9nZm4gPj0gKytzdGFydCAmJiBo
eXBlcmNhbGxfcHJlZW1wdF9jaGVjaygpICkNCisgICAgICAgIHsNCisgICAgICAgICAgICByYyA9
IC1FUkVTVEFSVDsNCisgICAgICAgICAgICBicmVhazsNCisgICAgICAgIH0NCisgICAgfQ0KKw0K
KyAgICBzdmUtPm9wYXF1ZSA9IHN0YXJ0Ow0KKw0KKyAgICBpZiAoIGFwMm0gKQ0KKyAgICAgICAg
cDJtX3VubG9jayhhcDJtKTsNCisNCisgICAgcDJtX3VubG9jayhob3N0X3AybSk7DQorDQorICAg
IHJldHVybiByYzsNCit9DQorDQogaW50IHAybV9nZXRfc3VwcHJlc3NfdmUoc3RydWN0IGRvbWFp
biAqZCwgZ2ZuX3QgZ2ZuLCBib29sICpzdXBwcmVzc192ZSwNCiAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgYWx0cDJtX2lkeCkNCiB7DQpkaWZmIC0tZ2l0IGEveGVuL2luY2x1
ZGUvcHVibGljL2h2bS9odm1fb3AuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9odm0vaHZtX29wLmgN
CmluZGV4IDM1M2Y4MDM0ZDkuLjEwYmEwMTQ5ZjEgMTAwNjQ0DQotLS0gYS94ZW4vaW5jbHVkZS9w
dWJsaWMvaHZtL2h2bV9vcC5oDQorKysgYi94ZW4vaW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9vcC5o
DQpAQCAtNDYsNiArNDYsMTcgQEAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlIHsN
CiAgICAgdWludDY0X3QgZ2ZuOw0KIH07DQogDQorc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1cHBy
ZXNzX3ZlX211bHRpIHsNCisgICAgdWludDE2X3QgdmlldzsNCisgICAgdWludDhfdCBzdXBwcmVz
c192ZTsgLyogQm9vbGVhbiB0eXBlLiAqLw0KKyAgICB1aW50OF90IHBhZDE7DQorICAgIHVpbnQz
Ml90IHBhZDI7DQorICAgIHVpbnQ2NF90IGZpcnN0X2dmbjsNCisgICAgdWludDY0X3QgbGFzdF9n
Zm47DQorICAgIHVpbnQ2NF90IG9wYXF1ZTsNCisgICAgdWludDY0X3QgZmlyc3RfZXJyb3I7IC8q
IEdmbiBvZiB0aGUgZmlyc3QgZXJyb3IuICovDQorfTsNCisNCiAjaWYgX19YRU5fSU5URVJGQUNF
X1ZFUlNJT05fXyA8IDB4MDAwNDA5MDANCiANCiAvKiBTZXQgdGhlIGxvZ2ljYWwgbGV2ZWwgb2Yg
b25lIG9mIGEgZG9tYWluJ3MgUENJIElOVHggd2lyZXMuICovDQpAQCAtMzM5LDYgKzM1MCw4IEBA
IHN0cnVjdCB4ZW5faHZtX2FsdHAybV9vcCB7DQogI2RlZmluZSBIVk1PUF9hbHRwMm1fdmNwdV9k
aXNhYmxlX25vdGlmeSAgMTMNCiAvKiBHZXQgdGhlIGFjdGl2ZSB2Y3B1IHAybSBpbmRleCAqLw0K
ICNkZWZpbmUgSFZNT1BfYWx0cDJtX2dldF9wMm1faWR4ICAgICAgICAgIDE0DQorLyogU2V0IHRo
ZSAiU3VwcmVzcyAjVkUiIGJpdCBmb3IgYSByYW5nZSBvZiBwYWdlcyAqLw0KKyNkZWZpbmUgSFZN
T1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aSAxNQ0KICAgICBkb21pZF90IGRvbWFpbjsN
CiAgICAgdWludDE2X3QgcGFkMTsNCiAgICAgdWludDMyX3QgcGFkMjsNCkBAIC0zNTMsNiArMzY2
LDcgQEAgc3RydWN0IHhlbl9odm1fYWx0cDJtX29wIHsNCiAgICAgICAgIHN0cnVjdCB4ZW5faHZt
X2FsdHAybV9jaGFuZ2VfZ2ZuICAgICAgICAgICBjaGFuZ2VfZ2ZuOw0KICAgICAgICAgc3RydWN0
IHhlbl9odm1fYWx0cDJtX3NldF9tZW1fYWNjZXNzX211bHRpIHNldF9tZW1fYWNjZXNzX211bHRp
Ow0KICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlICAgICAgICAgIHN1
cHByZXNzX3ZlOw0KKyAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJtX3N1cHByZXNzX3ZlX211
bHRpICAgIHN1cHByZXNzX3ZlX211bHRpOw0KICAgICAgICAgc3RydWN0IHhlbl9odm1fYWx0cDJt
X3ZjcHVfZGlzYWJsZV9ub3RpZnkgIGRpc2FibGVfbm90aWZ5Ow0KICAgICAgICAgc3RydWN0IHhl
bl9odm1fYWx0cDJtX2dldF92Y3B1X3AybV9pZHggICAgIGdldF92Y3B1X3AybV9pZHg7DQogICAg
ICAgICB1aW50OF90IHBhZFs2NF07DQpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL21lbV9h
Y2Nlc3MuaCBiL3hlbi9pbmNsdWRlL3hlbi9tZW1fYWNjZXNzLmgNCmluZGV4IGU0ZDI0NTAyZTAu
LjAwZTU5NGEwYWQgMTAwNjQ0DQotLS0gYS94ZW4vaW5jbHVkZS94ZW4vbWVtX2FjY2Vzcy5oDQor
KysgYi94ZW4vaW5jbHVkZS94ZW4vbWVtX2FjY2Vzcy5oDQpAQCAtNzUsNiArNzUsOSBAQCBsb25n
IHAybV9zZXRfbWVtX2FjY2Vzc19tdWx0aShzdHJ1Y3QgZG9tYWluICpkLA0KIGludCBwMm1fc2V0
X3N1cHByZXNzX3ZlKHN0cnVjdCBkb21haW4gKmQsIGdmbl90IGdmbiwgYm9vbCBzdXBwcmVzc192
ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgYWx0cDJtX2lkeCk7DQog
DQoraW50IHAybV9zZXRfc3VwcHJlc3NfdmVfbXVsdGkoc3RydWN0IGRvbWFpbiAqZCwNCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fc3VwcHJlc3Nf
dmVfbXVsdGkgKnN1cHByZXNzX3ZlKTsNCisNCiBpbnQgcDJtX2dldF9zdXBwcmVzc192ZShzdHJ1
Y3QgZG9tYWluICpkLCBnZm5fdCBnZm4sIGJvb2wgKnN1cHByZXNzX3ZlLA0KICAgICAgICAgICAg
ICAgICAgICAgICAgIHVuc2lnbmVkIGludCBhbHRwMm1faWR4KTsNCiANCi0tIA0KMi4xNy4xDQoN
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZl
bCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlz
dHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

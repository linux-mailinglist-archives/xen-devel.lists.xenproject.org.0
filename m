Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 5AF91B7E2B
	for <lists+xen-devel@lfdr.de>; Thu, 19 Sep 2019 17:30:07 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iAyLY-0007Fx-00; Thu, 19 Sep 2019 15:27:51 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=5hYN=XO=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iAyLW-0007Fs-Oa
 for xen-devel@lists.xenproject.org; Thu, 19 Sep 2019 15:27:50 +0000
X-Inumbo-ID: 095ed956-daf2-11e9-978d-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 095ed956-daf2-11e9-978d-bc764e2007e4;
 Thu, 19 Sep 2019 15:27:49 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id D6E4BBAED;
 Thu, 19 Sep 2019 15:27:47 +0000 (UTC)
To: Juergen Gross <jgross@suse.com>
References: <20190914085251.18816-1-jgross@suse.com>
 <20190914085251.18816-8-jgross@suse.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <19409170-4a99-e336-dae3-b439db509111@suse.com>
Date: Thu, 19 Sep 2019 17:27:55 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20190914085251.18816-8-jgross@suse.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v3 07/47] xen/sched: move per cpu scheduler
 private data into struct sched_resource
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Tim Deegan <tim@xen.org>, Stefano Stabellini <sstabellini@kernel.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 Robert VanVossen <robert.vanvossen@dornerworks.com>,
 Dario Faggioli <dfaggioli@suse.com>, Julien Grall <julien.grall@arm.com>,
 Josh Whitehead <josh.whitehead@dornerworks.com>,
 Meng Xu <mengxu@cis.upenn.edu>, xen-devel@lists.xenproject.org,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTQuMDkuMjAxOSAxMDo1MiwgSnVlcmdlbiBHcm9zcyB3cm90ZToKPiBUaGlzIHByZXBhcmVz
IHN1cHBvcnQgb2YgbGFyZ2VyIHNjaGVkdWxpbmcgZ3JhbnVsYXJpdGllcywgZS5nLiBjb3JlCj4g
c2NoZWR1bGluZy4KPiAKPiBXaGlsZSBhdCBpdCBtb3ZlIHNjaGVkX2hhc191cmdlbnRfdmNwdSgp
IGZyb20gaW5jbHVkZS9hc20teDg2L2NwdWlkbGUuaAo+IGludG8gc2NoZWQuaCByZW1vdmluZyB0
aGUgbmVlZCBmb3IgaW5jbHVkaW5nIHNjaGVkLWlmLmggaW4gY3B1aWRsZS5oLgo+IEZvciB0aGF0
IHB1cnBvc2UgcmVtb2JlIHVyZ2VudF9jb3VudCBmcm9tIHRoZSBzY2hlZHVsZXIgcHJpdmF0ZSBk
YXRhCj4gYW5kIG1ha2UgaXQgYSBwbGFpbiBwZXJjcHUgdmFyaWFibGUuCj4gCj4gU2lnbmVkLW9m
Zi1ieTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgoKRnVuZGFtZW50YWxseQpSZXZp
ZXdlZC1ieTogSmFuIEJldWxpY2ggPGpiZXVsaWNoQHN1c2UuY29tPgpidXQgYSBjb3VwbGUgb2Yg
cmVtYXJrczoKCj4gQEAgLTY0Myw3ICs2NDMsNyBAQCBzdGF0aWMgc3BpbmxvY2tfdCAqCj4gIGE2
NTNfc3dpdGNoX3NjaGVkKHN0cnVjdCBzY2hlZHVsZXIgKm5ld19vcHMsIHVuc2lnbmVkIGludCBj
cHUsCj4gICAgICAgICAgICAgICAgICAgIHZvaWQgKnBkYXRhLCB2b2lkICp2ZGF0YSkKPiAgewo+
IC0gICAgc3RydWN0IHNjaGVkdWxlX2RhdGEgKnNkID0gJnBlcl9jcHUoc2NoZWR1bGVfZGF0YSwg
Y3B1KTsKPiArICAgIHN0cnVjdCBzY2hlZF9yZXNvdXJjZSAqc2QgPSBnZXRfc2NoZWRfcmVzKGNw
dSk7CgpJIGNhbiB1bmRlcnN0YW5kIHdoeSB5b3Uga2VlcCAic2QiIGFzIGEgbmFtZSBoZXJlIGFu
ZCBpbiBzaW1pbGFyCmNhc2VzLiBCdXQgLi4uCgo+IEBAIC0zODgxLDYgKzM4ODEsNyBAQCBjc2No
ZWQyX3N3aXRjaF9zY2hlZChzdHJ1Y3Qgc2NoZWR1bGVyICpuZXdfb3BzLCB1bnNpZ25lZCBpbnQg
Y3B1LAo+ICB7Cj4gICAgICBzdHJ1Y3QgY3NjaGVkMl9wcml2YXRlICpwcnYgPSBjc2NoZWQyX3By
aXYobmV3X29wcyk7Cj4gICAgICBzdHJ1Y3QgY3NjaGVkMl91bml0ICpzdmMgPSB2ZGF0YTsKPiAr
ICAgIHN0cnVjdCBzY2hlZF9yZXNvdXJjZSAqc2QgPSBnZXRfc2NoZWRfcmVzKGNwdSk7CgouLi4g
aGVyZSAoYW5kIGluIGF0IGxlYXN0IG9uZSBtb3JlIHBsYWNlKSB5b3UgaW50cm9kdWNlIGEgbmV3
CnZhcmlhYmxlLiBXb3VsZG4ndCB0aGlzIGJldHRlciBiZSBuYW1lZCBlLmcuICJzciI/IEZ1cnRo
ZXJtb3JlCnlvdSB1c2UgaXQganVzdCBvbmNlIC4uLgoKPiBAQCAtMzkwNiw3ICszOTA3LDcgQEAg
Y3NjaGVkMl9zd2l0Y2hfc2NoZWQoc3RydWN0IHNjaGVkdWxlciAqbmV3X29wcywgdW5zaWduZWQg
aW50IGNwdSwKPiAgICAgICAqIHRoaXMgc2NoZWR1bGVyLCBhbmQgc28gaXQncyBzYWZlIHRvIGhh
dmUgdGFrZW4gaXQgL2JlZm9yZS8gb3VyCj4gICAgICAgKiBwcml2YXRlIGdsb2JhbCBsb2NrLgo+
ICAgICAgICovCj4gLSAgICBBU1NFUlQocGVyX2NwdShzY2hlZHVsZV9kYXRhLCBjcHUpLnNjaGVk
dWxlX2xvY2sgIT0gJnBydi0+cnFkW3JxaV0ubG9jayk7Cj4gKyAgICBBU1NFUlQoc2QtPnNjaGVk
dWxlX2xvY2sgIT0gJnBydi0+cnFkW3JxaV0ubG9jayk7CgouLi4gaGVyZTsgaXQgZG9lc24ndCBz
ZWVtIHdvcnRod2hpbGUgaGVyZSwgYnV0IEkgZ3Vlc3MKc3Vic2VxdWVudCBjaGFuZ2VzIG1ha2Ug
bW9yZSB1c2Ugb2YgaXQ/Cgo+IEBAIC0zOTMsNyArMzk1LDcgQEAgaW50IHNjaGVkX2luaXRfdmNw
dShzdHJ1Y3QgdmNwdSAqdiwgdW5zaWduZWQgaW50IHByb2Nlc3NvcikKPiAgICAgIC8qIElkbGUg
VkNQVXMgYXJlIHNjaGVkdWxlZCBpbW1lZGlhdGVseSwgc28gZG9uJ3QgcHV0IHRoZW0gaW4gcnVu
cXVldWUuICovCj4gICAgICBpZiAoIGlzX2lkbGVfZG9tYWluKGQpICkKPiAgICAgIHsKPiAtICAg
ICAgICBwZXJfY3B1KHNjaGVkdWxlX2RhdGEsIHYtPnByb2Nlc3NvcikuY3VyciA9IHVuaXQ7Cj4g
KyAgICAgICAgZ2V0X3NjaGVkX3Jlcyh2LT5wcm9jZXNzb3IpLT5jdXJyID0gdW5pdDsKCkFzIGxv
bmcgYXMgaXQncyBhIG1hY3JvIChzZWUgYmVsb3cpLCB3aHkgbm90IHVzZSBjdXJyX29uX2NwdSgp
IGhlcmU/Cgo+IEBAIC0xOTE2LDcgKzE5MTcsNyBAQCB2b2lkIF9faW5pdCBzY2hlZHVsZXJfaW5p
dCh2b2lkKQo+ICAgICAgaWRsZV9kb21haW4tPm1heF92Y3B1cyA9IG5yX2NwdV9pZHM7Cj4gICAg
ICBpZiAoIHZjcHVfY3JlYXRlKGlkbGVfZG9tYWluLCAwLCAwKSA9PSBOVUxMICkKPiAgICAgICAg
ICBCVUcoKTsKPiAtICAgIHRoaXNfY3B1KHNjaGVkdWxlX2RhdGEpLmN1cnIgPSBpZGxlX3ZjcHVb
MF0tPnNjaGVkX3VuaXQ7Cj4gKyAgICBnZXRfc2NoZWRfcmVzKDApLT5jdXJyID0gaWRsZV92Y3B1
WzBdLT5zY2hlZF91bml0OwoKSG1tLCB5ZXQgYW5vdGhlciBwbGFpbiAwLiBCdXQgeWVzLCB0aGVy
ZSBhcmUgcXVpdGUgYSBmZXcgb2YgdGhlbQpoZXJlIGFscmVhZHksIHNvIG9uZSBtb3JlIGRvZXNu
J3QgcmVhbGx5IG1hdHRlci4KCj4gLS0tIGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLWlmLmgKPiAr
KysgYi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQtaWYuaAo+IEBAIC0zMywyMiArMzMsMTkgQEAgZXh0
ZXJuIGludCBzY2hlZF9yYXRlbGltaXRfdXM7Cj4gICAqIEZvciBjYWNoZSBiZXR0ZXJuZXNzLCBr
ZWVwIHRoZSBhY3R1YWwgbG9jayBpbiB0aGUgc2FtZSBjYWNoZSBhcmVhCj4gICAqIGFzIHRoZSBy
ZXN0IG9mIHRoZSBzdHJ1Y3QuICBKdXN0IGhhdmUgdGhlIHNjaGVkdWxlciBwb2ludCB0byB0aGUK
PiAgICogb25lIGl0IHdhbnRzIChUaGlzIG1heSBiZSB0aGUgb25lIHJpZ2h0IGluIGZyb250IG9m
IGl0KS4qLwo+IC1zdHJ1Y3Qgc2NoZWR1bGVfZGF0YSB7Cj4gK3N0cnVjdCBzY2hlZF9yZXNvdXJj
ZSB7Cj4gICAgICBzcGlubG9ja190ICAgICAgICAgKnNjaGVkdWxlX2xvY2ssCj4gICAgICAgICAg
ICAgICAgICAgICAgICAgX2xvY2s7Cj4gICAgICBzdHJ1Y3Qgc2NoZWRfdW5pdCAgKmN1cnI7Cj4g
ICAgICB2b2lkICAgICAgICAgICAgICAgKnNjaGVkX3ByaXY7Cj4gICAgICBzdHJ1Y3QgdGltZXIg
ICAgICAgIHNfdGltZXI7ICAgICAgICAvKiBzY2hlZHVsaW5nIHRpbWVyICAgICAgICAgICAgICAg
ICovCj4gLSAgICBhdG9taWNfdCAgICAgICAgICAgIHVyZ2VudF9jb3VudDsgICAvKiBob3cgbWFu
eSB1cmdlbnQgdmNwdXMgICAgICAgICAgICovCj4gLX07Cj4gLQo+IC0jZGVmaW5lIGN1cnJfb25f
Y3B1KGMpICAgIChwZXJfY3B1KHNjaGVkdWxlX2RhdGEsIGMpLmN1cnIpCj4gIAo+IC1zdHJ1Y3Qg
c2NoZWRfcmVzb3VyY2Ugewo+IC0gICAgdW5zaWduZWQgaW50IG1hc3Rlcl9jcHU7ICAvKiBDcHUg
d2l0aCBsb3dlc3QgaWQgaW4gc2NoZWR1bGluZyByZXNvdXJjZS4gKi8KPiArICAgIC8qIENwdSB3
aXRoIGxvd2VzdCBpZCBpbiBzY2hlZHVsaW5nIHJlc291cmNlLiAqLwo+ICsgICAgdW5zaWduZWQg
aW50ICAgICAgICBtYXN0ZXJfY3B1Owo+ICB9Owo+ICAKPiAtREVDTEFSRV9QRVJfQ1BVKHN0cnVj
dCBzY2hlZHVsZV9kYXRhLCBzY2hlZHVsZV9kYXRhKTsKPiArI2RlZmluZSBjdXJyX29uX2NwdShj
KSAgICAoZ2V0X3NjaGVkX3JlcyhjKS0+Y3VycikKCkJ5IG1vdmluZyB0aGlzIGEgZmV3IGxpbmVz
IGRvd24gaWYgY291bGQgYmVjb21lIGFuIGlubGluZSBmdW5jdGlvbgphcyBpdCBzZWVtcywgaWYg
KHNlZSBhYm92ZSkgaXRzIHVzZSBhcyBhbiBsdmFsdWUgaXMgbm90IGludGVuZGVkLgoKSmFuCgpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwg
bWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3Rz
LnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

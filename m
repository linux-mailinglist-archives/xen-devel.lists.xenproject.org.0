Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 8C5236A323
	for <lists+xen-devel@lfdr.de>; Tue, 16 Jul 2019 09:43:26 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hnI5H-0002Fi-VE; Tue, 16 Jul 2019 07:41:11 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=LiPz=VN=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1hnI5F-0002Fd-ID
 for xen-devel@lists.xenproject.org; Tue, 16 Jul 2019 07:41:09 +0000
X-Inumbo-ID: 0f59e34c-a79d-11e9-90d0-7f0e68add3cb
Received: from m4a0040g.houston.softwaregrp.com (unknown [15.124.2.86])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 0f59e34c-a79d-11e9-90d0-7f0e68add3cb;
 Tue, 16 Jul 2019 07:41:03 +0000 (UTC)
Received: FROM m4a0040g.houston.softwaregrp.com (15.120.17.146) BY
 m4a0040g.houston.softwaregrp.com WITH ESMTP; 
 Tue, 16 Jul 2019 07:37:12 +0000
Received: from M4W0335.microfocus.com (2002:f78:1193::f78:1193) by
 M4W0334.microfocus.com (2002:f78:1192::f78:1192) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10; Tue, 16 Jul 2019 07:39:00 +0000
Received: from NAM01-BY2-obe.outbound.protection.outlook.com (15.124.8.14) by
 M4W0335.microfocus.com (15.120.17.147) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10 via Frontend Transport; Tue, 16 Jul 2019 07:39:00 +0000
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=m8GZpYsi1kwzdfmVwTVS+3ctS3VaPb6axEBaWeRj36MqNh/c5Oq+KH+X79/oTiVYzAqGRm78eahw3JAuJOdz/1Y2X5qqsYLArliWrnRoLlmCCsq9lfEkqic9+QhpfwoRR/kkQvrgs1UadE3+IuB2cmg0WMYHEMN+N+L9Mt9xLqiq59A7L8Qkk5Tl5+F/it/laRZd+ZPR5N1hTB0H3cYDVAKJPXZnwBwSYOKFVr8G7wOP6BNZ9ZInPeqt3rS6QIlQq55atHhH2N85JMlQv4fMYgM7wDpjxzFVX6xJgto+3X/R8W+OlZyZWeuvayYzaX8KMNgGuw02kUUQv8+6/KJVQA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=T3Pgu4pjcVFCDgbcl4WJEVjwpFvPIC0YhmOh5Vf4Z6U=;
 b=HSbso9H9IrVHS+TxbpINTGqUPGbn4mBEoV55Q2fpDAMUkjP3TDY1qoGehHeD9LY1kJXQCQdM1BX16t9ERVsst7tkVJahXneGG1DDu5WtkDrU3MZL/a7oKO7LVTe9eVFUgBLlSj7kng9UcdPxC1PZzpOQ8pqlzWgfa2+BV1KFjVDVJL6dN2YGYnDp5x06AkPCP0YqaYom7nqpvT9r6IEzaWLljFYG8JqKLpa76hmmR1ll6DJaTMTe+yjOaAQ53X3s9uHK360Rj4qDj+TcatKOEUG0fSTvLnnb6qUbCaDUVVXFEr08fe2v2frrmxMCyFvJQ0SUKwueMzzzM/Ti73DAdg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=suse.com;dmarc=pass action=none header.from=suse.com;dkim=pass
 header.d=suse.com;arc=none
Received: from DM6PR18MB3401.namprd18.prod.outlook.com (10.255.174.218) by
 DM6PR18MB2667.namprd18.prod.outlook.com (20.179.107.10) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2073.14; Tue, 16 Jul 2019 07:38:59 +0000
Received: from DM6PR18MB3401.namprd18.prod.outlook.com
 ([fe80::1fe:35f6:faf3:78c7]) by DM6PR18MB3401.namprd18.prod.outlook.com
 ([fe80::1fe:35f6:faf3:78c7%7]) with mapi id 15.20.2073.012; Tue, 16 Jul 2019
 07:38:59 +0000
From: Jan Beulich <JBeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH v4 04/13] x86/IRQ: consolidate use of ->arch.cpu_mask
Thread-Index: AQHVO6mHgzkr6dRLP0u3So3V86qVIg==
Date: Tue, 16 Jul 2019 07:38:59 +0000
Message-ID: <5d4e4692-7252-9341-f2ef-f2911640d8e0@suse.com>
References: <5cda711a-b417-76e9-d113-ea838463f225@suse.com>
In-Reply-To: <5cda711a-b417-76e9-d113-ea838463f225@suse.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: DB6PR0202CA0002.eurprd02.prod.outlook.com
 (2603:10a6:4:29::12) To DM6PR18MB3401.namprd18.prod.outlook.com
 (2603:10b6:5:1cc::26)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=JBeulich@suse.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [87.234.252.170]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 3ae9cf52-d3df-4158-b46b-08d709c0aa2c
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328)(7193020);
 SRVR:DM6PR18MB2667; 
x-ms-traffictypediagnostic: DM6PR18MB2667:
x-microsoft-antispam-prvs: <DM6PR18MB266799567EE69CC4F6C3F550B3CE0@DM6PR18MB2667.namprd18.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 0100732B76
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(4636009)(39860400002)(346002)(366004)(376002)(396003)(136003)(189003)(199004)(6436002)(102836004)(5640700003)(8676002)(53936002)(6506007)(4326008)(386003)(6512007)(7736002)(186003)(6116002)(6486002)(305945005)(52116002)(2906002)(66066001)(11346002)(81166006)(2616005)(8936002)(316002)(476003)(3846002)(66476007)(446003)(76176011)(2351001)(99286004)(26005)(81156014)(31686004)(68736007)(6916009)(256004)(14444005)(14454004)(486006)(71190400001)(478600001)(71200400001)(31696002)(5660300002)(86362001)(80792005)(2501003)(54906003)(36756003)(25786009)(64756008)(66556008)(66946007)(66446008);
 DIR:OUT; SFP:1102; SCL:1; SRVR:DM6PR18MB2667;
 H:DM6PR18MB3401.namprd18.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: suse.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: zmEEGDpbW+ALgVKJ5jQ5MXFMKVWKHpWs+RdFEVUhUmoNq63bNRJQdmfvv9yQQRe13FB1aR40FeR0oX9UdPf6DP/reo1LSohtqYMuoujPPn3SMsF30gYDD8BYPKwcGfY6/ebGI2A3LBqAgWiY937dl41qoLMBAFU+8gXmcpFVhEU850wNNUIxsDI1uSngkd5TDtZ3kuByrRbNp9amybi3S2bhu8674ooq4UH4dYKc3MO5AUiythysWJjTe0swNf/cDjiXi2dEHj+q3lUNc1tX5GcWjX2FxGRvvmQcMFL7u1nLtNzhmxA6lExd7REV1l7XeNNiG2xSOxvPuwJf3L73/8fT4a6Ez/C4ighF7K13wA9g/birZrGAzXSoIGLUB3r/kEhcvtS9qyUKd7TaJto0OFqqVoRJViOfOizjnlol2Uo=
Content-ID: <98958DA7C44B3947AF28AFFD362476F2@namprd18.prod.outlook.com>
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-Network-Message-Id: 3ae9cf52-d3df-4158-b46b-08d709c0aa2c
X-MS-Exchange-CrossTenant-originalarrivaltime: 16 Jul 2019 07:38:59.0851 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 856b813c-16e5-49a5-85ec-6f081e13b527
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: JBeulich@suse.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR18MB2667
X-OriginatorOrg: suse.com
Subject: [Xen-devel] [PATCH v4 04/13] x86/IRQ: consolidate use of
 ->arch.cpu_mask
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

TWl4ZWQgbWVhbmluZyB3YXMgaW1wbGllZCBzbyBmYXIgYnkgZGlmZmVyZW50IHBpZWNlcyBvZiBj
b2RlIC0NCmRpc2FncmVlbWVudCB3YXMgaW4gcGFydGljdWxhciBhYm91dCB3aGV0aGVyIHRvIGV4
cGVjdCBvZmZsaW5lIENQVXMnDQpiaXRzIHRvIHBvc3NpYmx5IGJlIHNldC4gU3dpdGNoIHRvIGEg
bW9zdGx5IGNvbnNpc3RlbnQgbWVhbmluZw0KKGV4Y2VwdGlvbiBiZWluZyBoaWdoIHByaW9yaXR5
IGludGVycnVwdHMsIHdoaWNoIHdvdWxkIHBlcmhhcHMgYmV0dGVyDQpiZSBzd2l0Y2hlZCB0byB0
aGUgc2FtZSBtb2RlbCBhcyB3ZWxsIGluIGR1ZSBjb3Vyc2UpLiBVc2UgdGhlIGZpZWxkIHRvDQpy
ZWNvcmQgdGhlIHZlY3RvciBhbGxvY2F0aW9uIG1hc2ssIGkuZS4gcG90ZW50aWFsbHkgaW5jbHVk
aW5nIGJpdHMgb2YNCm9mZmxpbmUgKHBhcmtlZCkgQ1BVcy4gVGhpcyBpbXBsaWVzIHRoYXQgYmVm
b3JlIHBhc3NpbmcgdGhlIG1hc2sgdG8NCmNlcnRhaW4gZnVuY3Rpb25zIChtb3N0IG5vdGFibHkg
Y3B1X21hc2tfdG9fYXBpY2lkKCkpIGl0IG5lZWRzIHRvIGJlDQpmdXJ0aGVyIHJlZHVjZWQgdG8g
dGhlIG9ubGluZSBzdWJzZXQuDQoNClRoZSBleGNlcHRpb24gb2YgaGlnaCBwcmlvcml0eSBpbnRl
cnJ1cHRzIGlzIGFsc28gd2h5IGZvciB0aGUgbW9tZW50DQpfYmluZF9pcnFfdmVjdG9yKCkgaXMg
bGVmdCBhcyBpcywgZGVzcGl0ZSBsb29raW5nIHdyb25nOiBJdCdzIHVzZWQNCmV4Y2x1c2l2ZWx5
IGZvciBJUlEwLCB3aGljaCBpc24ndCBzdXBwb3NlZCB0byBtb3ZlIG9mZiBDUFUwIGF0IGFueSB0
aW1lLg0KDQpUaGUgcHJpb3IgbGFjayBvZiByZXN0cmljdGluZyB0byBvbmxpbmUgQ1BVcyBpbiBz
ZXRfZGVzY19hZmZpbml0eSgpDQpiZWZvcmUgY2FsbGluZyBjcHVfbWFza190b19hcGljaWQoKSBp
biBwYXJ0aWN1bGFyIGFsbG93ZWQgKGluIHgyQVBJQw0KY2x1c3RlcmVkIG1vZGUpIG9mZmxpbmVk
IENQVXMgdG8gZW5kIHVwIGVuYWJsZWQgaW4gYW4gSVJRJ3MgZGVzdGluYXRpb24NCmZpZWxkLiAo
SSB3b25kZXIgd2hldGhlciB2ZWN0b3JfYWxsb2NhdGlvbl9jcHVtYXNrX2ZsYXQoKSBzaG91bGRu
J3QNCmZvbGxvdyBhIHNpbWlsYXIgbW9kZWwsIHVzaW5nIGNwdV9wcmVzZW50X21hcCBpbiBmYXZv
ciBvZg0KY3B1X29ubGluZV9tYXAuKQ0KDQpGb3IgSU8tQVBJQyBjb2RlIGl0IHdhcyBkZWZpbml0
ZWx5IHdyb25nIHRvIHBvdGVudGlhbGx5IHN0b3JlLCBhcyBhDQpmYWxsYmFjaywgVEFSR0VUX0NQ
VVMgKGkuZS4gYWxsIG9ubGluZSBvbmVzKSBpbnRvIHRoZSBmaWVsZCwgYXMgdGhhdA0Kd291bGQg
aGF2ZSBjYXVzZWQgcHJvYmxlbXMgd2hlbiBkZXRlcm1pbmluZyBvbiB3aGljaCBDUFVzIHRvIHJl
bGVhc2UNCnZlY3RvcnMgd2hlbiB0aGV5J3ZlIGdvbmUgb3V0IG9mIHVzZS4gRGlzYWJsZSBpbnRl
cnJ1cHRzIGluc3RlYWQgd2hlbg0Kbm8gdmFsaWQgdGFyZ2V0IENQVSBjYW4gYmUgZXN0YWJsaXNo
ZWQgKHdoaWNoIGNvZGUgZWxzZXdoZXJlIHNob3VsZA0KZ3VhcmFudGVlIHRvIG5ldmVyIGhhcHBl
biksIGFuZCBsb2cgYSBtZXNzYWdlIGluIHN1Y2ggYW4gdW5saWtlbHkgZXZlbnQuDQoNClNpZ25l
ZC1vZmYtYnk6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4NClJldmlld2VkLWJ5OiBS
b2dlciBQYXUgTW9ubsOpIDxyb2dlci5wYXVAY2l0cml4LmNvbT4NCkFja2VkLWJ5OiBBbmRyZXcg
Q29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPg0KLS0tDQp2MjogTmV3Lg0KDQotLS0g
YS94ZW4vYXJjaC94ODYvaW9fYXBpYy5jDQorKysgYi94ZW4vYXJjaC94ODYvaW9fYXBpYy5jDQpA
QCAtNjgwLDcgKzY4MCw3IEBAIHZvaWQgLypfX2luaXQqLyBzZXR1cF9pb2FwaWNfZGVzdCh2b2lk
KQ0KICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgIGlycSA9IHBpbl8y
X2lycShpcnFfZW50cnksIGlvYXBpYywgcGluKTsNCiAgICAgICAgICAgICAgZGVzYyA9IGlycV90
b19kZXNjKGlycSk7DQotICAgICAgICAgICAgQlVHX09OKGNwdW1hc2tfZW1wdHkoZGVzYy0+YXJj
aC5jcHVfbWFzaykpOw0KKyAgICAgICAgICAgIEJVR19PTighY3B1bWFza19pbnRlcnNlY3RzKGRl
c2MtPmFyY2guY3B1X21hc2ssICZjcHVfb25saW5lX21hcCkpOw0KICAgICAgICAgICAgICBzZXRf
aW9hcGljX2FmZmluaXR5X2lycShkZXNjLCBkZXNjLT5hcmNoLmNwdV9tYXNrKTsNCiAgICAgICAg
ICB9DQogIA0KQEAgLTIxOTQsNyArMjE5NCw2IEBAIGludCBpb19hcGljX3NldF9wY2lfcm91dGlu
ZyAoaW50IGlvYXBpYywNCiAgew0KICAgICAgc3RydWN0IGlycV9kZXNjICpkZXNjID0gaXJxX3Rv
X2Rlc2MoaXJxKTsNCiAgICAgIHN0cnVjdCBJT19BUElDX3JvdXRlX2VudHJ5IGVudHJ5Ow0KLSAg
ICBjcHVtYXNrX3QgbWFzazsNCiAgICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3M7DQogICAgICBpbnQg
dmVjdG9yOw0KICANCkBAIC0yMjI5LDExICsyMjI4LDE3IEBAIGludCBpb19hcGljX3NldF9wY2lf
cm91dGluZyAoaW50IGlvYXBpYywNCiAgICAgICAgICByZXR1cm4gdmVjdG9yOw0KICAgICAgZW50
cnkudmVjdG9yID0gdmVjdG9yOw0KICANCi0gICAgY3B1bWFza19jb3B5KCZtYXNrLCBUQVJHRVRf
Q1BVUyk7DQotICAgIC8qIERvbid0IGNoYW5jZSBlbmRpbmcgdXAgd2l0aCBhbiBlbXB0eSBtYXNr
LiAqLw0KLSAgICBpZiAoY3B1bWFza19pbnRlcnNlY3RzKCZtYXNrLCBkZXNjLT5hcmNoLmNwdV9t
YXNrKSkNCi0gICAgICAgIGNwdW1hc2tfYW5kKCZtYXNrLCAmbWFzaywgZGVzYy0+YXJjaC5jcHVf
bWFzayk7DQotICAgIFNFVF9ERVNUKGVudHJ5LCBsb2dpY2FsLCBjcHVfbWFza190b19hcGljaWQo
Jm1hc2spKTsNCisgICAgaWYgKGNwdW1hc2tfaW50ZXJzZWN0cyhkZXNjLT5hcmNoLmNwdV9tYXNr
LCBUQVJHRVRfQ1BVUykpIHsNCisgICAgICAgIGNwdW1hc2tfdCAqbWFzayA9IHRoaXNfY3B1KHNj
cmF0Y2hfY3B1bWFzayk7DQorDQorICAgICAgICBjcHVtYXNrX2FuZChtYXNrLCBkZXNjLT5hcmNo
LmNwdV9tYXNrLCBUQVJHRVRfQ1BVUyk7DQorICAgICAgICBTRVRfREVTVChlbnRyeSwgbG9naWNh
bCwgY3B1X21hc2tfdG9fYXBpY2lkKG1hc2spKTsNCisgICAgfSBlbHNlIHsNCisgICAgICAgIHBy
aW50ayhYRU5MT0dfRVJSICJJUlElZDogbm8gdGFyZ2V0IENQVSAoJSpwYiB2cyAlKnBiKVxuIiwN
CisgICAgICAgICAgICAgICBpcnEsIG5yX2NwdV9pZHMsIGNwdW1hc2tfYml0cyhkZXNjLT5hcmNo
LmNwdV9tYXNrKSwNCisgICAgICAgICAgICAgICBucl9jcHVfaWRzLCBjcHVtYXNrX2JpdHMoVEFS
R0VUX0NQVVMpKTsNCisgICAgICAgIGRlc2MtPnN0YXR1cyB8PSBJUlFfRElTQUJMRUQ7DQorICAg
IH0NCiAgDQogICAgICBhcGljX3ByaW50ayhBUElDX0RFQlVHLCBLRVJOX0RFQlVHICJJT0FQSUNb
JWRdOiBTZXQgUENJIHJvdXRpbmcgZW50cnkgIg0KICAJCSIoJWQtJWQgLT4gJSN4IC0+IElSUSAl
ZCBNb2RlOiVpIEFjdGl2ZTolaSlcbiIsIGlvYXBpYywNCkBAIC0yNDE5LDcgKzI0MjQsMjEgQEAg
aW50IGlvYXBpY19ndWVzdF93cml0ZSh1bnNpZ25lZCBsb25nIHBoeQ0KICAgICAgLyogU2V0IHRo
ZSB2ZWN0b3IgZmllbGQgdG8gdGhlIHJlYWwgdmVjdG9yISAqLw0KICAgICAgcnRlLnZlY3RvciA9
IGRlc2MtPmFyY2gudmVjdG9yOw0KICANCi0gICAgU0VUX0RFU1QocnRlLCBsb2dpY2FsLCBjcHVf
bWFza190b19hcGljaWQoZGVzYy0+YXJjaC5jcHVfbWFzaykpOw0KKyAgICBpZiAoIGNwdW1hc2tf
aW50ZXJzZWN0cyhkZXNjLT5hcmNoLmNwdV9tYXNrLCBUQVJHRVRfQ1BVUykgKQ0KKyAgICB7DQor
ICAgICAgICBjcHVtYXNrX3QgKm1hc2sgPSB0aGlzX2NwdShzY3JhdGNoX2NwdW1hc2spOw0KKw0K
KyAgICAgICAgY3B1bWFza19hbmQobWFzaywgZGVzYy0+YXJjaC5jcHVfbWFzaywgVEFSR0VUX0NQ
VVMpOw0KKyAgICAgICAgU0VUX0RFU1QocnRlLCBsb2dpY2FsLCBjcHVfbWFza190b19hcGljaWQo
bWFzaykpOw0KKyAgICB9DQorICAgIGVsc2UNCisgICAgew0KKyAgICAgICAgZ3ByaW50ayhYRU5M
T0dfRVJSLCAiSVJRJWQ6IG5vIHRhcmdldCBDUFUgKCUqcGIgdnMgJSpwYilcbiIsDQorICAgICAg
ICAgICAgICAgaXJxLCBucl9jcHVfaWRzLCBjcHVtYXNrX2JpdHMoZGVzYy0+YXJjaC5jcHVfbWFz
ayksDQorICAgICAgICAgICAgICAgbnJfY3B1X2lkcywgY3B1bWFza19iaXRzKFRBUkdFVF9DUFVT
KSk7DQorICAgICAgICBkZXNjLT5zdGF0dXMgfD0gSVJRX0RJU0FCTEVEOw0KKyAgICAgICAgcnRl
Lm1hc2sgPSAxOw0KKyAgICB9DQogIA0KICAgICAgX19pb2FwaWNfd3JpdGVfZW50cnkoYXBpYywg
cGluLCAwLCBydGUpOw0KICAgICAgDQotLS0gYS94ZW4vYXJjaC94ODYvaXJxLmMNCisrKyBiL3hl
bi9hcmNoL3g4Ni9pcnEuYw0KQEAgLTQ3OCwxMSArNDc4LDEzIEBAIHN0YXRpYyBpbnQgX19hc3Np
Z25faXJxX3ZlY3RvcigNCiAgICAgICAqLw0KICAgICAgc3RhdGljIGludCBjdXJyZW50X3ZlY3Rv
ciA9IEZJUlNUX0RZTkFNSUNfVkVDVE9SLCBjdXJyZW50X29mZnNldCA9IDA7DQogICAgICBpbnQg
Y3B1LCBlcnIsIG9sZF92ZWN0b3I7DQotICAgIGNwdW1hc2tfdCB0bXBfbWFzazsNCiAgICAgIHZt
YXNrX3QgKmlycV91c2VkX3ZlY3RvcnMgPSBOVUxMOw0KICANCiAgICAgIG9sZF92ZWN0b3IgPSBp
cnFfdG9fdmVjdG9yKGlycSk7DQotICAgIGlmIChvbGRfdmVjdG9yID4gMCkgew0KKyAgICBpZiAo
IG9sZF92ZWN0b3IgPiAwICkNCisgICAgew0KKyAgICAgICAgY3B1bWFza190IHRtcF9tYXNrOw0K
Kw0KICAgICAgICAgIGNwdW1hc2tfYW5kKCZ0bXBfbWFzaywgbWFzaywgJmNwdV9vbmxpbmVfbWFw
KTsNCiAgICAgICAgICBpZiAoY3B1bWFza19pbnRlcnNlY3RzKCZ0bXBfbWFzaywgZGVzYy0+YXJj
aC5jcHVfbWFzaykpIHsNCiAgICAgICAgICAgICAgZGVzYy0+YXJjaC52ZWN0b3IgPSBvbGRfdmVj
dG9yOw0KQEAgLTUwNSw3ICs1MDcsOSBAQCBzdGF0aWMgaW50IF9fYXNzaWduX2lycV92ZWN0b3Io
DQogICAgICBlbHNlDQogICAgICAgICAgaXJxX3VzZWRfdmVjdG9ycyA9IGlycV9nZXRfdXNlZF92
ZWN0b3JfbWFzayhpcnEpOw0KICANCi0gICAgZm9yX2VhY2hfY3B1KGNwdSwgbWFzaykgew0KKyAg
ICBmb3JfZWFjaF9jcHUoY3B1LCBtYXNrKQ0KKyAgICB7DQorICAgICAgICBjb25zdCBjcHVtYXNr
X3QgKnZlY19tYXNrOw0KICAgICAgICAgIGludCBuZXdfY3B1Ow0KICAgICAgICAgIGludCB2ZWN0
b3IsIG9mZnNldDsNCiAgDQpAQCAtNTEzLDggKzUxNyw3IEBAIHN0YXRpYyBpbnQgX19hc3NpZ25f
aXJxX3ZlY3RvcigNCiAgICAgICAgICBpZiAoIWNwdV9vbmxpbmUoY3B1KSkNCiAgICAgICAgICAg
ICAgY29udGludWU7DQogIA0KLSAgICAgICAgY3B1bWFza19hbmQoJnRtcF9tYXNrLCB2ZWN0b3Jf
YWxsb2NhdGlvbl9jcHVtYXNrKGNwdSksDQotICAgICAgICAgICAgICAgICAgICAmY3B1X29ubGlu
ZV9tYXApOw0KKyAgICAgICAgdmVjX21hc2sgPSB2ZWN0b3JfYWxsb2NhdGlvbl9jcHVtYXNrKGNw
dSk7DQogIA0KICAgICAgICAgIHZlY3RvciA9IGN1cnJlbnRfdmVjdG9yOw0KICAgICAgICAgIG9m
ZnNldCA9IGN1cnJlbnRfb2Zmc2V0Ow0KQEAgLTUzNSw3ICs1MzgsNyBAQCBuZXh0Og0KICAgICAg
ICAgICAgICAmJiB0ZXN0X2JpdCh2ZWN0b3IsIGlycV91c2VkX3ZlY3RvcnMpICkNCiAgICAgICAg
ICAgICAgZ290byBuZXh0Ow0KICANCi0gICAgICAgIGZvcl9lYWNoX2NwdShuZXdfY3B1LCAmdG1w
X21hc2spDQorICAgICAgICBmb3JfZWFjaF9jcHUobmV3X2NwdSwgdmVjX21hc2spDQogICAgICAg
ICAgICAgIGlmIChwZXJfY3B1KHZlY3Rvcl9pcnEsIG5ld19jcHUpW3ZlY3Rvcl0gPj0gMCkNCiAg
ICAgICAgICAgICAgICAgIGdvdG8gbmV4dDsNCiAgICAgICAgICAvKiBGb3VuZCBvbmUhICovDQpA
QCAtNTU0LDEyICs1NTcsMTIgQEAgbmV4dDoNCiAgICAgICAgICAgICAgICAgIHJlbGVhc2Vfb2xk
X3ZlYyhkZXNjKTsNCiAgICAgICAgICB9DQogIA0KLSAgICAgICAgdHJhY2VfaXJxX21hc2soVFJD
X0hXX0lSUV9BU1NJR05fVkVDVE9SLCBpcnEsIHZlY3RvciwgJnRtcF9tYXNrKTsNCisgICAgICAg
IHRyYWNlX2lycV9tYXNrKFRSQ19IV19JUlFfQVNTSUdOX1ZFQ1RPUiwgaXJxLCB2ZWN0b3IsIHZl
Y19tYXNrKTsNCiAgDQotICAgICAgICBmb3JfZWFjaF9jcHUobmV3X2NwdSwgJnRtcF9tYXNrKQ0K
KyAgICAgICAgZm9yX2VhY2hfY3B1KG5ld19jcHUsIHZlY19tYXNrKQ0KICAgICAgICAgICAgICBw
ZXJfY3B1KHZlY3Rvcl9pcnEsIG5ld19jcHUpW3ZlY3Rvcl0gPSBpcnE7DQogICAgICAgICAgZGVz
Yy0+YXJjaC52ZWN0b3IgPSB2ZWN0b3I7DQotICAgICAgICBjcHVtYXNrX2NvcHkoZGVzYy0+YXJj
aC5jcHVfbWFzaywgJnRtcF9tYXNrKTsNCisgICAgICAgIGNwdW1hc2tfY29weShkZXNjLT5hcmNo
LmNwdV9tYXNrLCB2ZWNfbWFzayk7DQogIA0KICAgICAgICAgIGRlc2MtPmFyY2gudXNlZCA9IElS
UV9VU0VEOw0KICAgICAgICAgIEFTU0VSVCgoZGVzYy0+YXJjaC51c2VkX3ZlY3RvcnMgPT0gTlVM
TCkNCkBAIC03OTEsNiArNzk0LDcgQEAgdW5zaWduZWQgaW50IHNldF9kZXNjX2FmZmluaXR5KHN0
cnVjdCBpcg0KICANCiAgICAgIGNwdW1hc2tfY29weShkZXNjLT5hZmZpbml0eSwgbWFzayk7DQog
ICAgICBjcHVtYXNrX2FuZCgmZGVzdF9tYXNrLCBtYXNrLCBkZXNjLT5hcmNoLmNwdV9tYXNrKTsN
CisgICAgY3B1bWFza19hbmQoJmRlc3RfbWFzaywgJmRlc3RfbWFzaywgJmNwdV9vbmxpbmVfbWFw
KTsNCiAgDQogICAgICByZXR1cm4gY3B1X21hc2tfdG9fYXBpY2lkKCZkZXN0X21hc2spOw0KICB9
DQotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2lycS5oDQorKysgYi94ZW4vaW5jbHVkZS9hc20t
eDg2L2lycS5oDQpAQCAtMzIsNiArMzIsMTIgQEAgc3RydWN0IGlycV9kZXNjOw0KICBzdHJ1Y3Qg
YXJjaF9pcnFfZGVzYyB7DQogICAgICAgICAgczE2IHZlY3RvcjsgICAgICAgICAgICAgICAgICAv
KiB2ZWN0b3IgaXRzZWxmIGlzIG9ubHkgOCBiaXRzLCAqLw0KICAgICAgICAgIHMxNiBvbGRfdmVj
dG9yOyAgICAgICAgICAgICAgLyogYnV0IHdlIHVzZSAtMSBmb3IgdW5hc3NpZ25lZCAgKi8NCisg
ICAgICAgIC8qDQorICAgICAgICAgKiBFeGNlcHQgZm9yIGhpZ2ggcHJpb3JpdHkgaW50ZXJydXB0
cyBAY3B1X21hc2sgbWF5IGhhdmUgYml0cyBzZXQgZm9yDQorICAgICAgICAgKiBvZmZsaW5lIENQ
VXMuICBDb25zdW1lcnMgbmVlZCB0byBiZSBjYXJlZnVsIHRvIG1hc2sgdGhpcyBkb3duIHRvDQor
ICAgICAgICAgKiBvbmxpbmUgb25lcyBhcyBuZWNlc3NhcnkuICBUaGVyZSBpcyBzdXBwb3NlZCB0
byBhbHdheXMgYmUgYSBub24tDQorICAgICAgICAgKiBlbXB0eSBpbnRlcnNlY3Rpb24gd2l0aCBj
cHVfb25saW5lX21hcC4NCisgICAgICAgICAqLw0KICAgICAgICAgIGNwdW1hc2tfdmFyX3QgY3B1
X21hc2s7DQogICAgICAgICAgY3B1bWFza192YXJfdCBvbGRfY3B1X21hc2s7DQogICAgICAgICAg
Y3B1bWFza192YXJfdCBwZW5kaW5nX21hc2s7DQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9s
aXN0aW5mby94ZW4tZGV2ZWw=

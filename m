Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id EF3616D81C
	for <lists+xen-devel@lfdr.de>; Fri, 19 Jul 2019 03:02:24 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hoHEo-0004Hf-NE; Fri, 19 Jul 2019 00:59:06 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=yb9I=VQ=gmail.com=nadav.amit@srs-us1.protection.inumbo.net>)
 id 1hoHEm-0004Ha-Iq
 for xen-devel@lists.xenproject.org; Fri, 19 Jul 2019 00:59:04 +0000
X-Inumbo-ID: 63b8b4fc-a9c0-11e9-b4aa-07b1dbb27dad
Received: from mail-pf1-f195.google.com (unknown [209.85.210.195])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 63b8b4fc-a9c0-11e9-b4aa-07b1dbb27dad;
 Fri, 19 Jul 2019 00:58:58 +0000 (UTC)
Received: by mail-pf1-f195.google.com with SMTP id y15so13391417pfn.5
 for <xen-devel@lists.xenproject.org>; Thu, 18 Jul 2019 17:58:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=RWWNgv0WcWjfE9wWYHQhoeNKyBfGxLtvDshgZHYc1vE=;
 b=KRnqL8zV/3jmAFdYj5ALST7u0cIJRM3l7asOiaVGXSP8hpI9I2YvqY2Jzumpp7zFSe
 BJx19B7foCQ3kJPsZNnGKwFZtB8cnoX/svyh2NjmmcWAJQteEbcXO2bPXv4hO2AF6Fzq
 7ScihtpmNSJTeghxs97YBvv+IF+8SuYcthCUWhUenUxVNQG1NbjT45XdRZRDgGRvkGjd
 XNH/feE0BBF0h8oilcPsZqsVSeYadxU+8qHkyEIMEs9T8xD819ITSLyKSV3HDZCDMjZ1
 PdlrZ0zQIBnumshlj7qc1BNC0knTyjndLP/ycKKL7VobXTTfUBSfAXrkx/VJWPEHejH9
 yNpg==
X-Gm-Message-State: APjAAAUbbpGVRdLzseGL1AW0rhrGDwWO3ISW9gSzXuR7WsYjxxn1ZlrA
 zftPKYQWLM+b8e5pe3huNBM=
X-Google-Smtp-Source: APXvYqxZoIKjz9ViGfUIEExjwwIbnjfGtWb7w9xiUnCbHyVRrBrLCxFCFJP5cS9IAYKOxxdelYaABg==
X-Received: by 2002:a63:a346:: with SMTP id v6mr4814748pgn.57.1563497937499;
 Thu, 18 Jul 2019 17:58:57 -0700 (PDT)
Received: from htb-2n-eng-dhcp405.eng.vmware.com ([66.170.99.1])
 by smtp.gmail.com with ESMTPSA id j128sm14025166pfg.28.2019.07.18.17.58.55
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 18 Jul 2019 17:58:56 -0700 (PDT)
From: Nadav Amit <namit@vmware.com>
To: Andy Lutomirski <luto@kernel.org>,
 Dave Hansen <dave.hansen@linux.intel.com>
Date: Thu, 18 Jul 2019 17:58:28 -0700
Message-Id: <20190719005837.4150-1-namit@vmware.com>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v3 0/9] x86: Concurrent TLB flushes
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Sasha Levin <sashal@kernel.org>,
 linux-hyperv@vger.kernel.org, Stephen Hemminger <sthemmin@microsoft.com>,
 kvm@vger.kernel.org, Paolo Bonzini <pbonzini@redhat.com>,
 Rik van Riel <riel@surriel.com>, Peter Zijlstra <peterz@infradead.org>,
 Haiyang Zhang <haiyangz@microsoft.com>, x86@kernel.org,
 linux-kernel@vger.kernel.org, virtualization@lists.linux-foundation.org,
 xen-devel@lists.xenproject.org, Ingo Molnar <mingo@redhat.com>,
 Nadav Amit <namit@vmware.com>, Josh Poimboeuf <jpoimboe@redhat.com>,
 Borislav Petkov <bp@alien8.de>, Thomas Gleixner <tglx@linutronix.de>,
 "K. Y. Srinivasan" <kys@microsoft.com>,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

WyBDb3Zlci1sZXR0ZXIgaXMgaWRlbnRpY2FsIHRvIHYyLCBpbmNsdWRpbmcgYmVuY2htYXJrIHJl
c3VsdHMsCiAgZXhjbHVkaW5nIHRoZSBjaGFuZ2UgbG9nLiBdIAoKQ3VycmVudGx5LCBsb2NhbCBh
bmQgcmVtb3RlIFRMQiBmbHVzaGVzIGFyZSBub3QgcGVyZm9ybWVkIGNvbmN1cnJlbnRseSwKd2hp
Y2ggaW50cm9kdWNlcyB1bm5lY2Vzc2FyeSBvdmVyaGVhZCAtIGVhY2ggSU5WTFBHIGNhbiB0YWtl
IDEwMHMgb2YKY3ljbGVzLiBUaGlzIHBhdGNoLXNldCBhbGxvd3MgVExCIGZsdXNoZXMgdG8gYmUg
cnVuIGNvbmN1cnJlbnRseTogZmlyc3QKcmVxdWVzdCB0aGUgcmVtb3RlIENQVXMgdG8gaW5pdGlh
dGUgdGhlIGZsdXNoLCB0aGVuIHJ1biBpdCBsb2NhbGx5LCBhbmQKZmluYWxseSB3YWl0IGZvciB0
aGUgcmVtb3RlIENQVXMgdG8gZmluaXNoIHRoZWlyIHdvcmsuCgpJbiBhZGRpdGlvbiwgdGhlcmUg
YXJlIHZhcmlvdXMgc21hbGwgb3B0aW1pemF0aW9ucyB0byBhdm9pZCB1bndhcnJhbnRlZApmYWxz
ZS1zaGFyaW5nIGFuZCBhdG9taWMgb3BlcmF0aW9ucy4KClRoZSBwcm9wb3NlZCBjaGFuZ2VzIHNo
b3VsZCBhbHNvIGltcHJvdmUgdGhlIHBlcmZvcm1hbmNlIG9mIG90aGVyCmludm9jYXRpb25zIG9m
IG9uX2VhY2hfY3B1KCkuIEhvcGVmdWxseSwgbm8gb25lIGhhcyByZWxpZWQgb24gdGhpcwpiZWhh
dmlvciBvZiBvbl9lYWNoX2NwdSgpIHRoYXQgaW52b2tlZCBmdW5jdGlvbnMgZmlyc3QgcmVtb3Rl
bHkgYW5kIG9ubHkKdGhlbiBsb2NhbGx5IFtQZXRlciBzYXlzIGhlIHJlbWVtYmVycyBzb21lb25l
IG1pZ2h0IGRvIHNvLCBidXQgd2l0aG91dApmdXJ0aGVyIGluZm9ybWF0aW9uIGl0IGlzIGhhcmQg
dG8ga25vdyBob3cgdG8gYWRkcmVzcyBpdF0uCgpSdW5uaW5nIHN5c2JlbmNoIG9uIGRheC9leHQ0
IHcvZW11bGF0ZWQtcG1lbSwgd3JpdGUtY2FjaGUgZGlzYWJsZWQgb24KMi1zb2NrZXQsIDQ4LWxv
Z2ljYWwtY29yZXMgKDI0K1NNVCkgSGFzd2VsbC1YLCA1IHJlcGV0aXRpb25zOgoKIHN5c2JlbmNo
IGZpbGVpbyAtLWZpbGUtdG90YWwtc2l6ZT0zRyAtLWZpbGUtdGVzdC1tb2RlPXJuZHdyIFwKICAt
LWZpbGUtaW8tbW9kZT1tbWFwIC0tdGhyZWFkcz1YIC0tZmlsZS1mc3luYy1tb2RlPWZkYXRhc3lu
YyBydW4KCiAgVGguICAgdGlwLWp1bjI4IGF2ZyAoc3RkZXYpICAgK3BhdGNoLXNldCBhdmcgKHN0
ZGV2KSAgY2hhbmdlCiAgLS0tICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLSAgLS0tLS0tCiAgMSAgICAgMTI2Nzc2NSAoMTQxNDYpICAgICAgICAgMTI5OTI1
MyAoNTcxNSkgICAgICAgICAgKzIuNCUKICAyICAgICAxNzM0NjQ0ICgxMTkzNikgICAgICAgICAx
Nzk5MjI1ICgxOTU3NykgICAgICAgICArMy43JQogIDQgICAgIDI4MjEyNjggKDQxMTg0KSAgICAg
ICAgIDI5MTkxMzIgKDQwMTQ5KSAgICAgICAgICszLjQlCiAgOCAgICAgNDE3MTY1MiAoMzEyNDMp
ICAgICAgICAgNDM3NjkyNSAoNjU0MTYpICAgICAgICAgKzQuOSUKICAxNiAgICA1NTkwNzI5ICgy
NDE2MCkgICAgICAgICA1ODI5ODY2ICg4MTI3KSAgICAgICAgICArNC4yJQogIDI0ICAgIDYyNTAy
MTIgKDI0NDgxKSAgICAgICAgIDY1MjIzMDMgKDI4MDQ0KSAgICAgICAgICs0LjMlCiAgMzIgICAg
Mzk5NDMxNCAoMjY2MDYpICAgICAgICAgNDA3NzU0MyAoMTA2ODUpICAgICAgICAgKzIuMCUKICA0
OCAgICA0MzQ1MTc3ICgyODA5MSkgICAgICAgICA0NDE3ODIxICg0MTMzNykgICAgICAgICArMS42
JQoKKE5vdGUgdGhhdCBvbiBjb25maWd1cmF0aW9ucyB3aXRoIHVwIHRvIDI0IHRocmVhZHMgbnVt
YWN0bCB3YXMgdXNlZCB0bwpzZXQgYWxsIHRocmVhZHMgb24gc29ja2V0IDEsIHdoaWNoIGV4cGxh
aW5zIHRoZSBkcm9wIGluIHBlcmZvcm1hbmNlIHdoZW4KZ29pbmcgdG8gMzIgdGhyZWFkcykuCgpS
dW5uaW5nIHRoZSBzYW1lIGJlbmNobWFyayB3aXRoIHNlY3VyaXR5IG1pdGlnYXRpb25zIGRpc2Fi
bGVkIChQVEksClNwZWN0cmUsIE1EUyk6CgogIFRoLiAgIHRpcC1qdW4yOCBhdmcgKHN0ZGV2KSAg
ICtwYXRjaC1zZXQgYXZnIChzdGRldikgIGNoYW5nZQogIC0tLSAgIC0tLS0tLS0tLS0tLS0tLS0t
LS0tLSAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLQogIDEgICAgIDE1OTg4OTYgKDUx
NzQpICAgICAgICAgIDE2MDc5MDMgKDQwOTEpICAgICAgICAgICswLjUlCiAgMiAgICAgMjEwOTQ3
MiAoMTc4MjcpICAgICAgICAgMjIyNDcyNiAoNDM3MikgICAgICAgICAgKzUuNCUKICA0ICAgICAz
NDQ4NTg3ICgxMTk1MikgICAgICAgICAzNjY4NTUxICgzMDIxOSkgICAgICAgICArNi4zJQogIDgg
ICAgIDU0MjU3NzggKDI5NjQxKSAgICAgICAgIDU2MDYyNjYgKDMzNTE5KSAgICAgICAgICszLjMl
CiAgMTYgICAgNjkzMTIzMiAoMzQ2NzcpICAgICAgICAgNzA1NDA1MiAoMjc4NzMpICAgICAgICAg
KzEuNyUKICAyNCAgICA3NjEyNDczICgyMzQ4MikgICAgICAgICA3NzgzMTM4ICgxMzg3MSkgICAg
ICAgICArMi4yJQogIDMyICAgIDQyOTYyNzQgKDE4MDI5KSAgICAgICAgIDQyODMyNzkgKDMyMzIz
KSAgICAgICAgIC0wLjMlCiAgNDggICAgNDc3MDAyOSAoMzU1NDEpICAgICAgICAgNDc2NDc2MCAo
MTM1NzUpICAgICAgICAgLTAuMSUKClByZXN1bWFibHksIFBUSSByZXF1aXJlcyB0d28gaW52YWxp
ZGF0aW9ucyBvZiBlYWNoIG1hcHBpbmcsIHdoaWNoIGFsbG93cwp0byBnZXQgaGlnaGVyIGJlbmVm
aXRzIGZyb20gY29uY3VycmVuY3kgd2hlbiBQVEkgaXMgb24uIEF0IHRoZSBzYW1lCnRpbWUsIHdo
ZW4gbWl0aWdhdGlvbnMgYXJlIG9uLCBvdGhlciBvdmVyaGVhZHMgcmVkdWNlIHRoZSBwb3RlbnRp
YWwKc3BlZWR1cC4KCkkgdHJpZWQgdG8gcmVkdWNlIHRoZSBzaXplIG9mIHRoZSBjb2RlIG9mIHRo
ZSBtYWluIHBhdGNoLCB3aGljaCByZXF1aXJlZApyZXN0cnVjdHVyaW5nIG9mIHRoZSBzZXJpZXMu
Cgp2MiAtPiB2MzoKKiBPcGVuLWNvZGUgdGhlIHJlbW90ZS9sb2NhbC1mbHVzaCBkZWNpc2lvbiBj
b2RlIFtBbmR5XQoqIEZpeCBoeXBlci12LCBYZW4gaW1wbGVtZW50YXRpb25zIFtBbmRyZXddCiog
Rml4IHJlZHVuZGFudCBUTEIgZmx1c2hlcy4KCnYxIC0+IHYyOgoqIFJlbW92aW5nIHRoZSBwYXRj
aGVzIHRoYXQgVGhvbWFzIHRvb2sgW3RnbHhdCiogQWRkaW5nIGh5cGVyLXYsIFhlbiBjb21waWxl
LXRlc3RlZCBpbXBsZW1lbnRhdGlvbnMgW0RhdmVdCiogUmVtb3ZpbmcgVVYgW0FuZHldCiogQWRk
aW5nIGxhenkgb3B0aW1pemF0aW9uLCByZW1vdmluZyBpbmxpbmUga2V5d29yZCBbRGF2ZV0KKiBS
ZXN0cnVjdHVyaW5nIHBhdGNoLXNldAoKUkZDdjIgLT4gdjE6CiogRml4IGNvbW1lbnQgb24gZmx1
c2hfdGxiX211bHRpIFtKdWVyZ2VuXQoqIFJlbW92aW5nIGFzeW5jIGludmFsaWRhdGlvbiBvcHRp
bWl6YXRpb25zIFtBbmR5XQoqIEFkZGluZyBLVk0gc3VwcG9ydCBbUGFvbG9dCgpDYzogQW5keSBM
dXRvbWlyc2tpIDxsdXRvQGtlcm5lbC5vcmc+CkNjOiBCb3Jpc2xhdiBQZXRrb3YgPGJwQGFsaWVu
OC5kZT4KQ2M6IEJvcmlzIE9zdHJvdnNreSA8Ym9yaXMub3N0cm92c2t5QG9yYWNsZS5jb20+CkNj
OiBEYXZlIEhhbnNlbiA8ZGF2ZS5oYW5zZW5AbGludXguaW50ZWwuY29tPgpDYzogSGFpeWFuZyBa
aGFuZyA8aGFpeWFuZ3pAbWljcm9zb2Z0LmNvbT4KQ2M6IEluZ28gTW9sbmFyIDxtaW5nb0ByZWRo
YXQuY29tPgpDYzogSm9zaCBQb2ltYm9ldWYgPGpwb2ltYm9lQHJlZGhhdC5jb20+CkNjOiBKdWVy
Z2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+CkNjOiAiSy4gWS4gU3Jpbml2YXNhbiIgPGt5c0Bt
aWNyb3NvZnQuY29tPgpDYzogUGFvbG8gQm9uemluaSA8cGJvbnppbmlAcmVkaGF0LmNvbT4KQ2M6
IFBldGVyIFppamxzdHJhIDxwZXRlcnpAaW5mcmFkZWFkLm9yZz4KQ2M6IFJpayB2YW4gUmllbCA8
cmllbEBzdXJyaWVsLmNvbT4KQ2M6IFNhc2hhIExldmluIDxzYXNoYWxAa2VybmVsLm9yZz4KQ2M6
IFN0ZXBoZW4gSGVtbWluZ2VyIDxzdGhlbW1pbkBtaWNyb3NvZnQuY29tPgpDYzogVGhvbWFzIEds
ZWl4bmVyIDx0Z2x4QGxpbnV0cm9uaXguZGU+CkNjOiBrdm1Admdlci5rZXJuZWwub3JnCkNjOiBs
aW51eC1oeXBlcnZAdmdlci5rZXJuZWwub3JnCkNjOiBsaW51eC1rZXJuZWxAdmdlci5rZXJuZWwu
b3JnCkNjOiB2aXJ0dWFsaXphdGlvbkBsaXN0cy5saW51eC1mb3VuZGF0aW9uLm9yZwpDYzogeDg2
QGtlcm5lbC5vcmcKQ2M6IHhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwoKTmFkYXYgQW1p
dCAoOSk6CiAgc21wOiBSdW4gZnVuY3Rpb25zIGNvbmN1cnJlbnRseSBpbiBzbXBfY2FsbF9mdW5j
dGlvbl9tYW55KCkKICB4ODYvbW0vdGxiOiBSZW1vdmUgcmVhc29uIGFzIGFyZ3VtZW50IGZvciBm
bHVzaF90bGJfZnVuY19sb2NhbCgpCiAgeDg2L21tL3RsYjogT3Blbi1jb2RlIG9uX2VhY2hfY3B1
X2NvbmRfbWFzaygpIGZvciB0bGJfaXNfbm90X2xhenkoKQogIHg4Ni9tbS90bGI6IEZsdXNoIHJl
bW90ZSBhbmQgbG9jYWwgVExCcyBjb25jdXJyZW50bHkKICB4ODYvbW0vdGxiOiBQcml2YXRpemUg
Y3B1X3RsYnN0YXRlCiAgeDg2L21tL3RsYjogRG8gbm90IG1ha2UgaXNfbGF6eSBkaXJ0eSBmb3Ig
bm8gcmVhc29uCiAgY3B1bWFzazogTWFyayBmdW5jdGlvbnMgYXMgcHVyZQogIHg4Ni9tbS90bGI6
IFJlbW92ZSBVViBzcGVjaWFsIGNhc2UKICB4ODYvbW0vdGxiOiBSZW1vdmUgdW5uZWNlc3Nhcnkg
dXNlcyBvZiB0aGUgaW5saW5lIGtleXdvcmQKCiBhcmNoL3g4Ni9oeXBlcnYvbW11LmMgICAgICAg
ICAgICAgICAgIHwgIDEwICstCiBhcmNoL3g4Ni9pbmNsdWRlL2FzbS9wYXJhdmlydC5oICAgICAg
IHwgICA2ICstCiBhcmNoL3g4Ni9pbmNsdWRlL2FzbS9wYXJhdmlydF90eXBlcy5oIHwgICA0ICst
CiBhcmNoL3g4Ni9pbmNsdWRlL2FzbS90bGJmbHVzaC5oICAgICAgIHwgIDQ3ICsrKystLS0tLQog
YXJjaC94ODYvaW5jbHVkZS9hc20vdHJhY2UvaHlwZXJ2LmggICB8ICAgMiArLQogYXJjaC94ODYv
a2VybmVsL2t2bS5jICAgICAgICAgICAgICAgICB8ICAxMSArKy0KIGFyY2gveDg2L2tlcm5lbC9w
YXJhdmlydC5jICAgICAgICAgICAgfCAgIDIgKy0KIGFyY2gveDg2L21tL2luaXQuYyAgICAgICAg
ICAgICAgICAgICAgfCAgIDIgKy0KIGFyY2gveDg2L21tL3RsYi5jICAgICAgICAgICAgICAgICAg
ICAgfCAxMzMgKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0KIGFyY2gveDg2L3hlbi9tbXVfcHYu
YyAgICAgICAgICAgICAgICAgfCAgMTEgKy0tCiBpbmNsdWRlL2xpbnV4L2NwdW1hc2suaCAgICAg
ICAgICAgICAgIHwgICA2ICstCiBpbmNsdWRlL2xpbnV4L3NtcC5oICAgICAgICAgICAgICAgICAg
IHwgIDI3ICsrKystLQogaW5jbHVkZS90cmFjZS9ldmVudHMveGVuLmggICAgICAgICAgICB8ICAg
MiArLQoga2VybmVsL3NtcC5jICAgICAgICAgICAgICAgICAgICAgICAgICB8IDEzMyArKysrKysr
KysrKystLS0tLS0tLS0tLS0tLQogMTQgZmlsZXMgY2hhbmdlZCwgMjE4IGluc2VydGlvbnMoKyks
IDE3OCBkZWxldGlvbnMoLSkKCi0tIAoyLjIwLjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBs
aXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4v
bGlzdGluZm8veGVuLWRldmVs

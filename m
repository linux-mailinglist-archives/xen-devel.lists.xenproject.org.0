Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 28DAB120645
	for <lists+xen-devel@lfdr.de>; Mon, 16 Dec 2019 13:49:18 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1igplY-0005P7-7U; Mon, 16 Dec 2019 12:46:24 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=gmbk=2G=amazon.com=prvs=246aeae25=sjpark@srs-us1.protection.inumbo.net>)
 id 1igplX-0005Ou-AX
 for xen-devel@lists.xenproject.org; Mon, 16 Dec 2019 12:46:23 +0000
X-Inumbo-ID: 0dba4fbc-2002-11ea-939d-12813bfff9fa
Received: from smtp-fw-6001.amazon.com (unknown [52.95.48.154])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 0dba4fbc-2002-11ea-939d-12813bfff9fa;
 Mon, 16 Dec 2019 12:46:18 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.com; i=@amazon.com; q=dns/txt; s=amazon201209;
 t=1576500378; x=1608036378;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=0ZYoJMeZeJgi97Oa401PwKhbr/wNKMQ/89p6u0X86e8=;
 b=QFy9dtdmIpQYh84uBT+8KMdYQcRHOwrCnSRTv1iMSElmNjl+sjDYdvle
 OyUSGnN/6A4/SVrR3xa7koJV/QAB2VzfNwLclB/Q4/k7MjIlWo70Q41Fv
 EabMorTnCn1Jc1p2K3CHuvCmiDPwDVch3Q1jnqe6vedZtp0ly7l33zGbO g=;
IronPort-SDR: cXhurlLBL6PHV2Wz9hr+HFATRZmrUXAzSnzygVpY3YcaMD/Njjn5sRH34h/h4yWyIPho/HRA6x
 LGYUeyqPXrsA==
X-IronPort-AV: E=Sophos;i="5.69,321,1571702400"; 
   d="scan'208";a="9255464"
Received: from iad6-co-svc-p1-lb1-vlan3.amazon.com (HELO
 email-inbound-relay-2a-53356bf6.us-west-2.amazon.com) ([10.124.125.6])
 by smtp-border-fw-out-6001.iad6.amazon.com with ESMTP;
 16 Dec 2019 12:46:17 +0000
Received: from EX13MTAUEA001.ant.amazon.com
 (pdx4-ws-svc-p6-lb7-vlan2.pdx.amazon.com [10.170.41.162])
 by email-inbound-relay-2a-53356bf6.us-west-2.amazon.com (Postfix) with ESMTPS
 id D6692A2815; Mon, 16 Dec 2019 12:46:15 +0000 (UTC)
Received: from EX13D31EUA001.ant.amazon.com (10.43.165.15) by
 EX13MTAUEA001.ant.amazon.com (10.43.61.243) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Mon, 16 Dec 2019 12:46:15 +0000
Received: from u886c93fd17d25d.ant.amazon.com (10.43.160.100) by
 EX13D31EUA001.ant.amazon.com (10.43.165.15) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Mon, 16 Dec 2019 12:46:10 +0000
From: SeongJae Park <sjpark@amazon.com>
To: <jgross@suse.com>, <axboe@kernel.dk>, <konrad.wilk@oracle.com>,
 <roger.pau@citrix.com>
Date: Mon, 16 Dec 2019 13:45:25 +0100
Message-ID: <20191216124527.30306-3-sjpark@amazon.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191216124527.30306-1-sjpark@amazon.com>
References: <20191216124527.30306-1-sjpark@amazon.com>
MIME-Version: 1.0
X-Originating-IP: [10.43.160.100]
X-ClientProxiedBy: EX13D17UWC002.ant.amazon.com (10.43.162.61) To
 EX13D31EUA001.ant.amazon.com (10.43.165.15)
Precedence: Bulk
Subject: [Xen-devel] [PATCH v10 2/4] xen/blkback: Squeeze page pools if a
 memory pressure is detected
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: linux-block@vger.kernel.org, sjpark@amazon.com, pdurrant@amazon.com,
 SeongJae Park <sjpark@amazon.de>, linux-kernel@vger.kernel.org,
 sj38.park@gmail.com, xen-devel@lists.xenproject.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogU2VvbmdKYWUgUGFyayA8c2pwYXJrQGFtYXpvbi5kZT4KCkVhY2ggYGJsa2lmYCBoYXMg
YSBmcmVlIHBhZ2VzIHBvb2wgZm9yIHRoZSBncmFudCBtYXBwaW5nLiAgVGhlIHNpemUgb2YKdGhl
IHBvb2wgc3RhcnRzIGZyb20gemVybyBhbmQgaXMgaW5jcmVhc2VkIG9uIGRlbWFuZCB3aGlsZSBw
cm9jZXNzaW5nCnRoZSBJL08gcmVxdWVzdHMuICBJZiBjdXJyZW50IEkvTyByZXF1ZXN0cyBoYW5k
bGluZyBpcyBmaW5pc2hlZCBvciAxMDAKbWlsbGlzZWNvbmRzIGhhcyBwYXNzZWQgc2luY2UgbGFz
dCBJL08gcmVxdWVzdHMgaGFuZGxpbmcsIGl0IGNoZWNrcyBhbmQKc2hyaW5rcyB0aGUgcG9vbCB0
byBub3QgZXhjZWVkIHRoZSBzaXplIGxpbWl0LCBgbWF4X2J1ZmZlcl9wYWdlc2AuCgpUaGVyZWZv
cmUsIGhvc3QgYWRtaW5pc3RyYXRvcnMgY2FuIGNhdXNlIG1lbW9yeSBwcmVzc3VyZSBpbiBibGti
YWNrIGJ5CmF0dGFjaGluZyBhIGxhcmdlIG51bWJlciBvZiBibG9jayBkZXZpY2VzIGFuZCBpbmR1
Y2luZyBJL08uICBTdWNoCnByb2JsZW1hdGljIHNpdHVhdGlvbnMgY2FuIGJlIGF2b2lkZWQgYnkg
bGltaXRpbmcgdGhlIG1heGltdW0gbnVtYmVyIG9mCmRldmljZXMgdGhhdCBjYW4gYmUgYXR0YWNo
ZWQsIGJ1dCBmaW5kaW5nIHRoZSBvcHRpbWFsIGxpbWl0IGlzIG5vdCBzbwplYXN5LiAgSW1wcm9w
ZXIgc2V0IG9mIHRoZSBsaW1pdCBjYW4gcmVzdWx0cyBpbiBtZW1vcnkgcHJlc3N1cmUgb3IgYQpy
ZXNvdXJjZSB1bmRlcnV0aWxpemF0aW9uLiAgVGhpcyBjb21taXQgYXZvaWRzIHN1Y2ggcHJvYmxl
bWF0aWMKc2l0dWF0aW9ucyBieSBzcXVlZXppbmcgdGhlIHBvb2xzIChyZXR1cm5zIGV2ZXJ5IGZy
ZWUgcGFnZSBpbiB0aGUgcG9vbAp0byB0aGUgc3lzdGVtKSBmb3IgYSB3aGlsZSAodXNlcnMgY2Fu
IHNldCB0aGlzIGR1cmF0aW9uIHZpYSBhIG1vZHVsZQpwYXJhbWV0ZXIpIGlmIG1lbW9yeSBwcmVz
c3VyZSBpcyBkZXRlY3RlZC4KCkRpc2N1c3Npb25zCj09PT09PT09PT09CgpUaGUgYGJsa2JhY2tg
J3Mgb3JpZ2luYWwgc2hyaW5raW5nIG1lY2hhbmlzbSByZXR1cm5zIG9ubHkgcGFnZXMgaW4gdGhl
CnBvb2wgd2hpY2ggYXJlIG5vdCBjdXJyZW50bHkgYmUgdXNlZCBieSBgYmxrYmFja2AgdG8gdGhl
IHN5c3RlbS4gIEluCm90aGVyIHdvcmRzLCB0aGUgcGFnZXMgdGhhdCBhcmUgbm90IG1hcHBlZCB3
aXRoIGdyYW50ZWQgcGFnZXMuICBCZWNhdXNlCnRoaXMgY29tbWl0IGlzIGNoYW5naW5nIG9ubHkg
dGhlIHNocmluayBsaW1pdCBidXQgc3RpbGwgdXNlcyB0aGUgc2FtZQpmcmVlaW5nIG1lY2hhbmlz
bSBpdCBkb2VzIG5vdCB0b3VjaCBwYWdlcyB3aGljaCBhcmUgY3VycmVudGx5IG1hcHBpbmcKZ3Jh
bnRzLgoKT25jZSBtZW1vcnkgcHJlc3N1cmUgaXMgZGV0ZWN0ZWQsIHRoaXMgY29tbWl0IGtlZXBz
IHRoZSBzcXVlZXppbmcgbGltaXQKZm9yIGEgdXNlci1zcGVjaWZpZWQgdGltZSBkdXJhdGlvbi4g
IFRoZSBkdXJhdGlvbiBzaG91bGQgYmUgbmVpdGhlciB0b28KbG9uZyBub3IgdG9vIHNob3J0LiAg
SWYgaXQgaXMgdG9vIGxvbmcsIHRoZSBzcXVlZXppbmcgaW5jdXJyaW5nIG92ZXJoZWFkCmNhbiBy
ZWR1Y2UgdGhlIEkvTyBwZXJmb3JtYW5jZS4gIElmIGl0IGlzIHRvbyBzaG9ydCwgYGJsa2JhY2tg
IHdpbGwgbm90CmZyZWUgZW5vdWdoIHBhZ2VzIHRvIHJlZHVjZSB0aGUgbWVtb3J5IHByZXNzdXJl
LiAgVGhpcyBjb21taXQgc2V0cyB0aGUKdmFsdWUgYXMgYDEwIG1pbGxpc2Vjb25kc2AgYnkgZGVm
YXVsdCBiZWNhdXNlIGl0IGlzIGEgc2hvcnQgdGltZSBpbgp0ZXJtcyBvZiBJL08gd2hpbGUgaXQg
aXMgYSBsb25nIHRpbWUgaW4gdGVybXMgb2YgbWVtb3J5IG9wZXJhdGlvbnMuCkFsc28sIGFzIHRo
ZSBvcmlnaW5hbCBzaHJpbmtpbmcgbWVjaGFuaXNtIHdvcmtzIGZvciBhdCBsZWFzdCBldmVyeSAx
MDAKbWlsbGlzZWNvbmRzLCB0aGlzIGNvdWxkIGJlIGEgc29tZXdoYXQgcmVhc29uYWJsZSBjaG9p
Y2UuICBJIGFsc28gdGVzdGVkCm90aGVyIGR1cmF0aW9ucyAocmVmZXIgdG8gdGhlIGJlbG93IHNl
Y3Rpb24gZm9yIG1vcmUgZGV0YWlscykgYW5kCmNvbmZpcm1lZCB0aGF0IDEwIG1pbGxpc2Vjb25k
cyBpcyB0aGUgb25lIHRoYXQgd29ya3MgYmVzdCB3aXRoIHRoZSB0ZXN0LgpUaGF0IHNhaWQsIHRo
ZSBwcm9wZXIgZHVyYXRpb24gZGVwZW5kcyBvbiBhY3R1YWwgY29uZmlndXJhdGlvbnMgYW5kCndv
cmtsb2Fkcy4gIFRoYXQncyB3aHkgdGhpcyBjb21taXQgYWxsb3dzIHVzZXJzIHRvIHNldCB0aGUg
ZHVyYXRpb24gYXMgYQptb2R1bGUgcGFyYW1ldGVyLgoKTWVtb3J5IFByZXNzdXJlIFRlc3QKPT09
PT09PT09PT09PT09PT09PT0KClRvIHNob3cgaG93IHRoaXMgY29tbWl0IGZpeGVzIHRoZSBtZW1v
cnkgcHJlc3N1cmUgc2l0dWF0aW9uIHdlbGwsIEkKY29uZmlndXJlZCBhIHRlc3QgZW52aXJvbm1l
bnQgb24gYSB4ZW4tcnVubmluZyB2aXJ0dWFsaXphdGlvbiBzeXN0ZW0uCk9uIHRoZSBgYmxrZnJv
bnRgIHJ1bm5pbmcgZ3Vlc3QgaW5zdGFuY2VzLCBJIGF0dGFjaCBhIGxhcmdlIG51bWJlciBvZgpu
ZXR3b3JrLWJhY2tlZCB2b2x1bWUgZGV2aWNlcyBhbmQgaW5kdWNlIEkvTyB0byB0aG9zZS4gIE1l
YW53aGlsZSwgSQptZWFzdXJlIHRoZSBudW1iZXIgb2YgcGFnZXMgdGhhdCBzd2FwcGVkIGluIChw
c3dwaW4pIGFuZCBvdXQgKHBzd3BvdXQpCm9uIHRoZSBgYmxrYmFja2AgcnVubmluZyBndWVzdC4g
IFRoZSB0ZXN0IHJhbiB0d2ljZSwgb25jZSBmb3IgdGhlCmBibGtiYWNrYCBiZWZvcmUgdGhpcyBj
b21taXQgYW5kIG9uY2UgZm9yIHRoYXQgYWZ0ZXIgdGhpcyBjb21taXQuICBBcwpzaG93biBiZWxv
dywgdGhpcyBjb21taXQgaGFzIGRyYW1hdGljYWxseSByZWR1Y2VkIHRoZSBtZW1vcnkgcHJlc3N1
cmU6CgogICAgICAgICAgICAgICAgcHN3cGluICBwc3dwb3V0CiAgICBiZWZvcmUgICAgICA3Niw2
NzIgIDE4NSw3OTkKICAgIGFmdGVyICAgICAgICAgIDIxMiAgICAzLDMyNQoKT3B0aW1hbCBBZ2dy
ZXNzaXZlIFNocmlua2luZyBEdXJhdGlvbgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCgpUbyBmaW5kIGEgYmVzdCBzcXVlZXppbmcgZHVyYXRpb24sIEkgcmVwZWF0ZWQgdGhl
IHRlc3Qgd2l0aCB0aHJlZQpkaWZmZXJlbnQgZHVyYXRpb25zICgxbXMsIDEwbXMsIGFuZCAxMDBt
cykuICBUaGUgcmVzdWx0cyBhcmUgYXMgYmVsb3c6CgogICAgZHVyYXRpb24gICAgcHN3cGluICBw
c3dwb3V0CiAgICAxICAgICAgICAgICA4NTIgICAgIDYsNDI0CiAgICAxMCAgICAgICAgICAyMTIg
ICAgIDMsMzI1CiAgICAxMDAgICAgICAgICAyMDMgICAgIDMsMzQwCgpBcyBleHBlY3RlZCwgdGhl
IG1lbW9yeSBwcmVzc3VyZSBoYXMgZGVjcmVhc2VkIGFzIHRoZSBkdXJhdGlvbiBpcwppbmNyZWFz
ZWQsIGJ1dCB0aGUgcmVkdWN0aW9uIHN0b3BwZWQgZnJvbSB0aGUgYDEwbXNgLiAgQmFzZWQgb24g
dGhpcwpyZXN1bHRzLCBJIGNob3NlIHRoZSBkZWZhdWx0IGR1cmF0aW9uIGFzIDEwbXMuCgpQZXJm
b3JtYW5jZSBPdmVyaGVhZCBUZXN0Cj09PT09PT09PT09PT09PT09PT09PT09PT0KClRoaXMgY29t
bWl0IGNvdWxkIGluY3VyIEkvTyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbiB1bmRlciBzZXZlcmUg
bWVtb3J5CnByZXNzdXJlIGJlY2F1c2UgdGhlIHNxdWVlemluZyB3aWxsIHJlcXVpcmUgbW9yZSBw
YWdlIGFsbG9jYXRpb25zIHBlcgpJL08uICBUbyBzaG93IHRoZSBvdmVyaGVhZCwgSSBhcnRpZmlj
aWFsbHkgbWFkZSBhIHdvcnN0LWNhc2Ugc3F1ZWV6aW5nCnNpdHVhdGlvbiBhbmQgbWVhc3VyZWQg
dGhlIEkvTyBwZXJmb3JtYW5jZSBvZiBhIGBibGtmcm9udGAgcnVubmluZwpndWVzdC4KCkZvciB0
aGUgYXJ0aWZpY2lhbCBzcXVlZXppbmcsIEkgc2V0IHRoZSBgYmxrYmFjay5tYXhfYnVmZmVyX3Bh
Z2VzYCB1c2luZwp0aGUgYC9zeXMvbW9kdWxlL3hlbl9ibGtiYWNrL3BhcmFtZXRlcnMvbWF4X2J1
ZmZlcl9wYWdlc2AgZmlsZS4gIEluIHRoaXMKdGVzdCwgSSBzZXQgdGhlIHZhbHVlIHRvIGAxMDI0
YCBhbmQgYDBgLiAgVGhlIGAxMDI0YCBpcyB0aGUgZGVmYXVsdAp2YWx1ZS4gIFNldHRpbmcgdGhl
IHZhbHVlIGFzIGAwYCBpcyBzYW1lIHRvIGEgc2l0dWF0aW9uIGRvaW5nIHRoZQpzcXVlZXppbmcg
YWx3YXlzICh3b3JzdC1jYXNlKS4KCklmIHRoZSB1bmRlcmx5aW5nIGJsb2NrIGRldmljZSBpcyBz
bG93IGVub3VnaCwgdGhlIHNxdWVlemluZyBvdmVyaGVhZApjb3VsZCBiZSBoaWRkZW4uICBGb3Ig
dGhlIHJlYXNvbiwgSSB1c2UgYSBmYXN0IGJsb2NrIGRldmljZSwgbmFtZWx5IHRoZQpyYmRbMV06
CgogICAgIyB4bCBibG9jay1hdHRhY2ggZ3Vlc3QgcGh5Oi9kZXYvcmFtMCB4dmRiIHcKCkZvciB0
aGUgSS9PIHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50LCBJIHJ1biBhIHNpbXBsZSBgZGRgIGNvbW1h
bmQgNSB0aW1lcwpkaXJlY3RseSB0byB0aGUgZGV2aWNlIGFzIGJlbG93IGFuZCBjb2xsZWN0IHRo
ZSAnTUIvcycgcmVzdWx0cy4KCiAgICAkIGZvciBpIGluIHsxLi41fTsgZG8gZGQgaWY9L2Rldi96
ZXJvIG9mPS9kZXYveHZkYiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnM9NGsgY291
bnQ9JCgoMjU2KjUxMikpOyBzeW5jOyBkb25lCgpUaGUgcmVzdWx0cyBhcmUgYXMgYmVsb3cuICAn
bWF4X3BncycgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2YgdGhlCmBibGtiYWNrLm1heF9idWZmZXJf
cGFnZXNgIHBhcmFtZXRlci4KCiAgICBtYXhfcGdzICAgTWluICAgICAgIE1heCAgICAgICBNZWRp
YW4gICAgIEF2ZyAgICBTdGRkZXYKICAgIDAgICAgICAgICA0MTcgICAgICAgNDIzICAgICAgIDQy
MCAgICAgICAgNDE5LjQgIDIuNTA5OTgwMQogICAgMTAyNCAgICAgIDQxNCAgICAgICA0MjUgICAg
ICAgNDE2ICAgICAgICA0MTcuOCAgNC40Mzg0NjgyCiAgICBObyBkaWZmZXJlbmNlIHByb3ZlbiBh
dCA5NS4wJSBjb25maWRlbmNlCgpJbiBzaG9ydCwgZXZlbiB3b3JzdCBjYXNlIHNxdWVlemluZyBv
biByYW1kaXNrIGJhc2VkIGZhc3QgYmxvY2sgZGV2aWNlCm1ha2VzIG5vIHZpc2libGUgcGVyZm9y
bWFuY2UgZGVncmFkYXRpb24uICBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMganVzdAphIHZlcnkg
c2ltcGxlIGFuZCBtaW5pbWFsIHRlc3QuICBPbiBzeXN0ZW1zIHVzaW5nIHN1cGVyLWZhc3QgYmxv
Y2sKZGV2aWNlcyBhbmQgYSBzcGVjaWFsIEkvTyB3b3JrbG9hZCwgdGhlIHJlc3VsdHMgbWlnaHQg
YmUgZGlmZmVyZW50LiAgSWYKeW91IGhhdmUgYW55IGRvdWJ0LCB0ZXN0IG9uIHlvdXIgbWFjaGlu
ZSB3aXRoIHlvdXIgd29ya2xvYWQgdG8gZmluZCB0aGUKb3B0aW1hbCBzcXVlZXppbmcgZHVyYXRp
b24gZm9yIHlvdS4KClsxXSBodHRwczovL3d3dy5rZXJuZWwub3JnL2RvYy9odG1sL2xhdGVzdC9h
ZG1pbi1ndWlkZS9ibG9ja2Rldi9yYW1kaXNrLmh0bWwKClJldmlld2VkLWJ5OiBSb2dlciBQYXUg
TW9ubsOpIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KU2lnbmVkLW9mZi1ieTogU2VvbmdKYWUgUGFy
ayA8c2pwYXJrQGFtYXpvbi5kZT4KLS0tCiAuLi4vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLXhl
bi1ibGtiYWNrICAgICAgfCAxMCArKysrKysrKysKIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sv
YmxrYmFjay5jICAgICAgICAgICB8ICA3ICsrKysrLS0KIGRyaXZlcnMvYmxvY2sveGVuLWJsa2Jh
Y2svY29tbW9uLmggICAgICAgICAgICB8ICAxICsKIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sv
eGVuYnVzLmMgICAgICAgICAgICB8IDIxICsrKysrKysrKysrKysrKysrKy0KIDQgZmlsZXMgY2hh
bmdlZCwgMzYgaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9Eb2N1
bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5c2ZzLWRyaXZlci14ZW4tYmxrYmFjayBiL0RvY3VtZW50
YXRpb24vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLXhlbi1ibGtiYWNrCmluZGV4IDRlN2JhYmIz
YmExZi4uZjAxMjI0MjMxZjNmIDEwMDY0NAotLS0gYS9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5n
L3N5c2ZzLWRyaXZlci14ZW4tYmxrYmFjaworKysgYi9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5n
L3N5c2ZzLWRyaXZlci14ZW4tYmxrYmFjawpAQCAtMjUsMyArMjUsMTMgQEAgRGVzY3JpcHRpb246
CiAgICAgICAgICAgICAgICAgYWxsb2NhdGVkIHdpdGhvdXQgYmVpbmcgaW4gdXNlLiBUaGUgdGlt
ZSBpcyBpbgogICAgICAgICAgICAgICAgIHNlY29uZHMsIDAgbWVhbnMgaW5kZWZpbml0ZWx5IGxv
bmcuCiAgICAgICAgICAgICAgICAgVGhlIGRlZmF1bHQgaXMgNjAgc2Vjb25kcy4KKworV2hhdDog
ICAgICAgICAgIC9zeXMvbW9kdWxlL3hlbl9ibGtiYWNrL3BhcmFtZXRlcnMvYnVmZmVyX3NxdWVl
emVfZHVyYXRpb25fbXMKK0RhdGU6ICAgICAgICAgICBEZWNlbWJlciAyMDE5CitLZXJuZWxWZXJz
aW9uOiAgNS41CitDb250YWN0OiAgICAgICAgU2VvbmdKYWUgUGFyayA8c2pwYXJrQGFtYXpvbi5k
ZT4KK0Rlc2NyaXB0aW9uOgorICAgICAgICAgICAgICAgIFdoZW4gbWVtb3J5IHByZXNzdXJlIGlz
IHJlcG9ydGVkIHRvIGJsa2JhY2sgdGhpcyBvcHRpb24KKyAgICAgICAgICAgICAgICBjb250cm9s
cyB0aGUgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIHRoYXQgYmxrYmFjayB3aWxsIG5vdAorICAg
ICAgICAgICAgICAgIGNhY2hlIGFueSBwYWdlIG5vdCBiYWNrZWQgYnkgYSBncmFudCBtYXBwaW5n
LgorICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IGlzIDEwbXMuCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYyBiL2RyaXZlcnMvYmxvY2sveGVuLWJsa2Jh
Y2svYmxrYmFjay5jCmluZGV4IGZkMWUxOWYxYTQ5Zi4uNzlmNjc3YWViNWNjIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYworKysgYi9kcml2ZXJzL2Jsb2Nr
L3hlbi1ibGtiYWNrL2Jsa2JhY2suYwpAQCAtNjU2LDggKzY1NiwxMSBAQCBpbnQgeGVuX2Jsa2lm
X3NjaGVkdWxlKHZvaWQgKmFyZykKIAkJCXJpbmctPm5leHRfbHJ1ID0gamlmZmllcyArIG1zZWNz
X3RvX2ppZmZpZXMoTFJVX0lOVEVSVkFMKTsKIAkJfQogCi0JCS8qIFNocmluayBpZiB3ZSBoYXZl
IG1vcmUgdGhhbiB4ZW5fYmxraWZfbWF4X2J1ZmZlcl9wYWdlcyAqLwotCQlzaHJpbmtfZnJlZV9w
YWdlcG9vbChyaW5nLCB4ZW5fYmxraWZfbWF4X2J1ZmZlcl9wYWdlcyk7CisJCS8qIFNocmluayB0
aGUgZnJlZSBwYWdlcyBwb29sIGlmIGl0IGlzIHRvbyBsYXJnZS4gKi8KKwkJaWYgKHRpbWVfYmVm
b3JlKGppZmZpZXMsIGJsa2lmLT5idWZmZXJfc3F1ZWV6ZV9lbmQpKQorCQkJc2hyaW5rX2ZyZWVf
cGFnZXBvb2wocmluZywgMCk7CisJCWVsc2UKKwkJCXNocmlua19mcmVlX3BhZ2Vwb29sKHJpbmcs
IHhlbl9ibGtpZl9tYXhfYnVmZmVyX3BhZ2VzKTsKIAogCQlpZiAobG9nX3N0YXRzICYmIHRpbWVf
YWZ0ZXIoamlmZmllcywgcmluZy0+c3RfcHJpbnQpKQogCQkJcHJpbnRfc3RhdHMocmluZyk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2NvbW1vbi5oIGIvZHJpdmVycy9i
bG9jay94ZW4tYmxrYmFjay9jb21tb24uaAppbmRleCAxZDMwMDJkNzczZjcuLjUzNmM4NGY2MWZl
ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9jb21tb24uaAorKysgYi9k
cml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2NvbW1vbi5oCkBAIC0zMTksNiArMzE5LDcgQEAgc3Ry
dWN0IHhlbl9ibGtpZiB7CiAJLyogQWxsIHJpbmdzIGZvciB0aGlzIGRldmljZS4gKi8KIAlzdHJ1
Y3QgeGVuX2Jsa2lmX3JpbmcJKnJpbmdzOwogCXVuc2lnbmVkIGludAkJbnJfcmluZ3M7CisJdW5z
aWduZWQgbG9uZwkJYnVmZmVyX3NxdWVlemVfZW5kOwogfTsKIAogc3RydWN0IHNlZ19idWYgewpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay94ZW5idXMuYyBiL2RyaXZlcnMv
YmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMKaW5kZXggYjkwZGJjZDk5YzAzLi40ZjZlYTRmZWNh
NzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMKKysrIGIv
ZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay94ZW5idXMuYwpAQCAtODI0LDYgKzgyNCwyNCBAQCBz
dGF0aWMgdm9pZCBmcm9udGVuZF9jaGFuZ2VkKHN0cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYsCiB9
CiAKIAorLyogT25jZSBhIG1lbW9yeSBwcmVzc3VyZSBpcyBkZXRlY3RlZCwgc3F1ZWV6ZSBmcmVl
IHBhZ2UgcG9vbHMgZm9yIGEgd2hpbGUuICovCitzdGF0aWMgdW5zaWduZWQgaW50IGJ1ZmZlcl9z
cXVlZXplX2R1cmF0aW9uX21zID0gMTA7Cittb2R1bGVfcGFyYW1fbmFtZWQoYnVmZmVyX3NxdWVl
emVfZHVyYXRpb25fbXMsCisJCWJ1ZmZlcl9zcXVlZXplX2R1cmF0aW9uX21zLCBpbnQsIDA2NDQp
OworTU9EVUxFX1BBUk1fREVTQyhidWZmZXJfc3F1ZWV6ZV9kdXJhdGlvbl9tcywKKyJEdXJhdGlv
biBpbiBtcyB0byBzcXVlZXplIHBhZ2VzIGJ1ZmZlciB3aGVuIGEgbWVtb3J5IHByZXNzdXJlIGlz
IGRldGVjdGVkIik7CisKKy8qCisgKiBDYWxsYmFjayByZWNlaXZlZCB3aGVuIHRoZSBtZW1vcnkg
cHJlc3N1cmUgaXMgZGV0ZWN0ZWQuCisgKi8KK3N0YXRpYyB2b2lkIHJlY2xhaW1fbWVtb3J5KHN0
cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYpCit7CisJc3RydWN0IGJhY2tlbmRfaW5mbyAqYmUgPSBk
ZXZfZ2V0X2RydmRhdGEoJmRldi0+ZGV2KTsKKworCWJlLT5ibGtpZi0+YnVmZmVyX3NxdWVlemVf
ZW5kID0gamlmZmllcyArCisJCW1zZWNzX3RvX2ppZmZpZXMoYnVmZmVyX3NxdWVlemVfZHVyYXRp
b25fbXMpOworfQorCiAvKiAqKiBDb25uZWN0aW9uICoqICovCiAKIApAQCAtMTExNSw3ICsxMTMz
LDggQEAgc3RhdGljIHN0cnVjdCB4ZW5idXNfZHJpdmVyIHhlbl9ibGtia19kcml2ZXIgPSB7CiAJ
LmlkcyAgPSB4ZW5fYmxrYmtfaWRzLAogCS5wcm9iZSA9IHhlbl9ibGtia19wcm9iZSwKIAkucmVt
b3ZlID0geGVuX2Jsa2JrX3JlbW92ZSwKLQkub3RoZXJlbmRfY2hhbmdlZCA9IGZyb250ZW5kX2No
YW5nZWQKKwkub3RoZXJlbmRfY2hhbmdlZCA9IGZyb250ZW5kX2NoYW5nZWQsCisJLnJlY2xhaW1f
bWVtb3J5ID0gcmVjbGFpbV9tZW1vcnksCiB9OwogCiBpbnQgeGVuX2Jsa2lmX3hlbmJ1c19pbml0
KHZvaWQpCi0tIAoyLjE3LjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9q
ZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVu
LWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0997F132A4D
	for <lists+xen-devel@lfdr.de>; Tue,  7 Jan 2020 16:45:44 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ior14-0001XM-PO; Tue, 07 Jan 2020 15:43:34 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=a7vm=24=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1ior13-0001XG-8d
 for xen-devel@lists.xenproject.org; Tue, 07 Jan 2020 15:43:33 +0000
X-Inumbo-ID: 704b35f6-3164-11ea-bf56-bc764e2007e4
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 704b35f6-3164-11ea-bf56-bc764e2007e4;
 Tue, 07 Jan 2020 15:43:24 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 6FF11B270;
 Tue,  7 Jan 2020 15:43:23 +0000 (UTC)
To: Andrew Cooper <andrew.cooper3@citrix.com>
References: <20200106155423.9508-1-andrew.cooper3@citrix.com>
 <20200106155423.9508-4-andrew.cooper3@citrix.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <2c6f5ae6-004d-8beb-61c8-c988930ed318@suse.com>
Date: Tue, 7 Jan 2020 16:43:22 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <20200106155423.9508-4-andrew.cooper3@citrix.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 3/6] x86/boot: Remove the preconstructed low
 16M superpage mappings
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Xen-devel <xen-devel@lists.xenproject.org>, Wei Liu <wl@xen.org>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMDYuMDEuMjAyMCAxNjo1NCwgQW5kcmV3IENvb3BlciB3cm90ZToKPiBGaXJzdCwgaXQgaXMg
dW5kZWZpbmVkIHRvIGhhdmUgc3VwZXJwYWdlcyBhbmQgTVRSUnMgZGlzYWdyZWUgb24gY2FjaGVh
YmlsaXR5Cj4gYm91bmRhcmllcywgYW5kIG5vdGhpbmcgdGhpcyBlYXJseSBpbiBib290IGhhcyBj
aGVja2VkIHRoYXQgaXQgaXMgc2FmZSB0byB1c2UKPiBzdXBlcnBhZ2VzIGhlcmUuCgpTdGF0aW5n
IHRoaXMgaGVyZSBnaXZlcywgYXQgbGVhc3QgdG8gbWUsIHRoZSBpbXByZXNzaW9uIHRoYXQgeW91
IGNoYW5nZQp0aGluZ3MgaGVyZSB0byBvYmV5IHRvIHRoZXNlIHJlc3RyaWN0aW9ucy4gSSBkb24n
dCBzZWUgeW91IGRvIHNvLCB0aG91Z2gKLSBtYXBfcGFnZXNfdG9feGVuKCkgZG9lc24ndCBxdWVy
eSBNVFJScyBhdCBhbGwgYWZhaWNzLgoKPiBGdXJ0aGVybW9yZSwgbm90aGluZyBhY3R1YWxseSB1
c2VzIHRoZSBtYXBwaW5ncyBvbiBib290LiAgQnVpbGQgdGhlc2UgZW50cmllcwo+IGluIHRoZSBk
aXJlY3RtYXAgd2hlbiB3YWxraW5nIHRoZSBFODIwIHRhYmxlIGFsb25nIHdpdGggZXZlcnl0aGlu
ZyBlbHNlLgoKSSdtIHByZXR0eSBzdXJlIHNvbWUgb2YgdGhlc2UgbWFwcGluZ3Mgd2VyZSB1c2Vk
LCBwZXJoYXBzIGxvbmcgYWdvLCBhbmQKcG9zc2libHkgb25seSBieSB0aGUgMzItYml0IGh5cGVy
dmlzb3IuIEl0IHdvdWxkIGZlZWwgcXVpdGUgYSBiaXQgYmV0dGVyCmlmIGl0IHdhcyBjbGVhciB3
aGVuIHRoZSBuZWVkIGZvciB0aGlzIGRpc2FwcGVhcmVkLiBJIHdvbmRlciBpZiBJIGNvdWxkCnRh
bGsgeW91IGludG8gZmluZGluZyBvdXQsIHNvIHlvdSBjb3VsZCBzYXkgc28gaGVyZS4KCj4gLS0t
IGEveGVuL2FyY2gveDg2L2Jvb3QveDg2XzY0LlMKPiArKysgYi94ZW4vYXJjaC94ODYvYm9vdC94
ODZfNjQuUwo+IEBAIC02NiwyNCArNjYsMTkgQEAgbDFfaWRlbnRtYXA6Cj4gICAgICAgICAgLnNp
emUgbDFfaWRlbnRtYXAsIC4gLSBsMV9pZGVudG1hcAo+ICAKPiAgLyoKPiAtICogX19wYWdlX3Rh
Ymxlc19zdGFydCBkb2VzIG5vdCBjb3ZlciBsMV9pZGVudG1hcCBiZWNhdXNlIGl0IChsMV9pZGVu
dG1hcCkKPiAtICogY29udGFpbnMgMS0xIG1hcHBpbmdzLiBUaGlzIG1lYW5zIHRoYXQgZnJhbWUg
YWRkcmVzc2VzIG9mIHRoZXNlIG1hcHBpbmdzCj4gLSAqIGFyZSBzdGF0aWMgYW5kIHNob3VsZCBu
b3QgYmUgdXBkYXRlZCBhdCBydW50aW1lLgo+ICsgKiBfX3BhZ2VfdGFibGVzX3tzdGFydCxlbmR9
IGNvdmVyIHRoZSByYW5nZSBvZiBwYWdldGFibGVzIHdoaWNoIG5lZWQKPiArICogcmVsb2NhdGlu
ZyBhcyBYZW4gbW92ZXMgYXJvdW5kIHBoeXNpY2FsIG1lbW9yeS4gIGkuZS4gZWFjaCBzeW1fb2Zm
cygpCj4gKyAqIHJlZmVyZW5jZSB0byBhIGRpZmZlcmVudCBwYWdldGFibGUgaW4gdGhlIFhlbiBp
bWFnZS4KPiAgICovCj4gIEdMT0JBTChfX3BhZ2VfdGFibGVzX3N0YXJ0KQo+ICAKPiAgLyoKPiAt
ICogU3BhY2UgZm9yIG1hcHBpbmcgdGhlIGZpcnN0IDRHQiBvZiBtZW1vcnksIHdpdGggdGhlIGZp
cnN0IDE2IG1lZ2FieXRlcwo+IC0gKiBhY3R1YWx5IG1hcHBlZCAobW9zdGx5IHVzaW5nIHN1cGVy
cGFnZXMpLiAgVXNlcyA0eCA0ayBwYWdlcy4KPiArICogU3BhY2UgZm9yIDRHIHdvcnRoIG9mIDJN
IG1hcHBpbmdzLCBmaXJzdCAyTSBhY3R1YWxseSBtYXBwZWQgdmlhCj4gKyAqIGwxX2lkZW50bWFw
W10uICBVc2VzIDR4IDRrIHBhZ2VzLgoKV291bGQgeW91IG1pbmQgbWFraW5nIHRoaXMgc2F5ICJw
YWdlIHRhYmxlcyIgaW5zdGVhZCBvZiAicGFnZXMiIGluIHRoZQoybmQgc2VudGVuY2U/Cgo+IC0t
LSBhL3hlbi9hcmNoL3g4Ni9zZXR1cC5jCj4gKysrIGIveGVuL2FyY2gveDg2L3NldHVwLmMKPiBA
QCAtMTAyMCw4ICsxMDIwLDggQEAgdm9pZCBfX2luaXQgbm9yZXR1cm4gX19zdGFydF94ZW4odW5z
aWduZWQgbG9uZyBtYmlfcCkKPiAgICAgICAqCj4gICAgICAgKiBXZSByZXF1aXJlIHN1cGVycGFn
ZSBhbGlnbm1lbnQgYmVjYXVzZSB0aGUgYm9vdCBhbGxvY2F0b3IgaXMKPiAgICAgICAqIG5vdCB5
ZXQgaW5pdGlhbGlzZWQuIEhlbmNlIHdlIGNhbiBvbmx5IG1hcCBzdXBlcnBhZ2VzIGluIHRoZQo+
IC0gICAgICogYWRkcmVzcyByYW5nZSBCT09UU1RSQVBfTUFQX0JBU0UgdG8gNEdCLCBhcyB0aGlz
IGlzIGd1YXJhbnRlZWQKPiAtICAgICAqIG5vdCB0byByZXF1aXJlIGR5bmFtaWMgYWxsb2NhdGlv
biBvZiBwYWdldGFibGVzLgo+ICsgICAgICogYWRkcmVzcyByYW5nZSAyTUIgdG8gNEdCLCBhcyB0
aGlzIGlzIGd1YXJhbnRlZWQgbm90IHRvIHJlcXVpcmUKPiArICAgICAqIGR5bmFtaWMgYWxsb2Nh
dGlvbiBvZiBwYWdldGFibGVzLgo+ICAgICAgICoKPiAgICAgICAqIEFzIHdlbGwgYXMgbWFwcGlu
ZyBzdXBlcnBhZ2VzIGluIHRoYXQgcmFuZ2UsIGluIHByZXBhcmF0aW9uIGZvcgo+ICAgICAgICog
aW5pdGlhbGlzaW5nIHRoZSBib290IGFsbG9jYXRvciwgd2UgYWxzbyBsb29rIGZvciBhIHJlZ2lv
biB0byB3aGljaAo+IEBAIC0xMDM2LDEwICsxMDM2LDEwIEBAIHZvaWQgX19pbml0IG5vcmV0dXJu
IF9fc3RhcnRfeGVuKHVuc2lnbmVkIGxvbmcgbWJpX3ApCj4gICAgICAgICAgaWYgKCBib290X2U4
MjAubWFwW2ldLnR5cGUgIT0gRTgyMF9SQU0gKQo+ICAgICAgICAgICAgICBjb250aW51ZTsKPiAg
Cj4gLSAgICAgICAgLyogU3VwZXJwYWdlLWFsaWduZWQgY2h1bmtzIGZyb20gQk9PVFNUUkFQX01B
UF9CQVNFLiAqLwo+ICsgICAgICAgIC8qIFN1cGVycGFnZS1hbGlnbmVkIGNodW5rcyBmcm9tIDJN
Qi4gKi8KPiAgICAgICAgICBzID0gKGJvb3RfZTgyMC5tYXBbaV0uYWRkciArIG1hc2spICYgfm1h
c2s7Cj4gICAgICAgICAgZSA9IChib290X2U4MjAubWFwW2ldLmFkZHIgKyBib290X2U4MjAubWFw
W2ldLnNpemUpICYgfm1hc2s7Cj4gLSAgICAgICAgcyA9IG1heF90KHVpbnQ2NF90LCBzLCBCT09U
U1RSQVBfTUFQX0JBU0UpOwo+ICsgICAgICAgIHMgPSBtYXhfdCh1aW50NjRfdCwgcywgTUIoMikp
Owo+ICAgICAgICAgIGlmICggcyA+PSBlICkKPiAgICAgICAgICAgICAgY29udGludWU7Cj4gIAo+
IEBAIC0xMzQ2LDggKzEzNDYsOCBAQCB2b2lkIF9faW5pdCBub3JldHVybiBfX3N0YXJ0X3hlbih1
bnNpZ25lZCBsb25nIG1iaV9wKQo+ICAKPiAgICAgICAgICBzZXRfcGR4X3JhbmdlKHMgPj4gUEFH
RV9TSElGVCwgZSA+PiBQQUdFX1NISUZUKTsKPiAgCj4gLSAgICAgICAgLyogTmVlZCB0byBjcmVh
dGUgbWFwcGluZ3MgYWJvdmUgQk9PVFNUUkFQX01BUF9CQVNFLiAqLwo+IC0gICAgICAgIG1hcF9z
ID0gbWF4X3QodWludDY0X3QsIHMsIEJPT1RTVFJBUF9NQVBfQkFTRSk7Cj4gKyAgICAgICAgLyog
TmVlZCB0byBjcmVhdGUgbWFwcGluZ3MgYWJvdmUgMk1CLiAqLwo+ICsgICAgICAgIG1hcF9zID0g
bWF4X3QodWludDY0X3QsIHMsIE1CKDIpKTsKCkluc3RlYWQgb2YgaGFyZCBjb2RpbmcgMk1iIGV2
ZXJ5d2hlcmUsIGhvdyBhYm91dCBzaW1wbHkgcmVkdWNpbmcKQk9PVFNUUkFQX01BUF9CQVNFPyBU
aGlzIHdvdWxkIHRoZW4gYWxzbyBlYXNlIHNocmlua2luZyB0aGUgYnVpbGQKdGltZSBtYXBwaW5n
cyBmdXJ0aGVyLCBlLmcuIHRvIHRoZSBsb3cgMU1iIChpbnN0ZWFkIG9mIHRvdWNoaW5nCnNldmVy
YWwgb2YgdGhlIHBsYWNlcyB5b3UgdG91Y2ggbm93LCBpdCB3b3VsZCBhZ2FpbiBtYWlubHkgYmUg
YW4KYWRqdXN0bWVudCB0byBCT09UU1RSQVBfTUFQX0JBU0UsIGFsb25nc2lkZSB0aGUgYXNzZW1i
bHkgZmlsZQpjaGFuZ2VzIG5lZWRlZCkuCgpKYW4KCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9s
aXN0aW5mby94ZW4tZGV2ZWw=

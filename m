Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6DEF111283A
	for <lists+xen-devel@lfdr.de>; Wed,  4 Dec 2019 10:46:06 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1icRCK-0003z9-0p; Wed, 04 Dec 2019 09:43:52 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=d3Le=Z2=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1icRCI-0003yv-Ep
 for xen-devel@lists.xenproject.org; Wed, 04 Dec 2019 09:43:50 +0000
X-Inumbo-ID: 90e86e00-167a-11ea-81ff-12813bfff9fa
Received: from esa6.hc3370-68.iphmx.com (unknown [216.71.155.175])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 90e86e00-167a-11ea-81ff-12813bfff9fa;
 Wed, 04 Dec 2019 09:43:46 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1575452626;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=tqpg6v0Efcyq1QabKyWhr0tUiGxtLe5uGOjl8mJOAiA=;
 b=KaiU7xS81PgdZ1Q6Fbj2+mZ4Lty+gR7Pc/FwMdoY2UyVL3HxeC7Dgiy2
 u/gaDtDbmJ0c9Zeio01CZXgpkz5kLVoORqLIfwqfERq6LQ4ZeFBlYufkl
 t6yU3kdEsGQseo6X+yXUxYAQ9R23wGqmtgtF2QNsLOdRCJsnIfIHLiM6T 8=;
Authentication-Results: esa6.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa6.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83
 ip4:168.245.78.127 ~all"
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: 4yr2zl0RMTeBrFHppIU4RsfaWlKhNXgorF5ZjFU7DPhCaiD7aqo4U1hvaAZihYGMwnEw8eLB0S
 SLdx9wOspiiM9I+p52A9TgSCMBge7duJzSPBUuziHq1/MPp/31a3W8uBlT8OY1oxB5hnxeQ9jC
 IebMq7XKtCaacUmsgiK/WMgCtrIV37JnPJbLWLXMbRtatPssVqpngZCLlr95DG57myK4SJVcq9
 IK1Gx5o/Z4Hhf0R71/+QYj4EzU00Mp0Y584MUEIf8vcC/Vr0os3V/aCt9s/fGZ2yVFllMbJJ0z
 h+Y=
X-SBRS: 2.7
X-MesageID: 9585455
X-Ironport-Server: esa6.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.69,277,1571716800"; 
   d="scan'208";a="9585455"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Wed, 4 Dec 2019 09:43:34 +0000
Message-ID: <20191204094335.24603-4-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20191204094335.24603-1-andrew.cooper3@citrix.com>
References: <20191204094335.24603-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 3/4] x86/svm: Clean up intinfo_t variables
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 Jan Beulich <JBeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIHR5cGUgbmFtZSBpcyBwb29yIGJlY2F1c2UgdGhlIHR5cGUgaXMgYWxzbyB1c2VkIGZvciB0
aGUgSURUIHZlY3RvcmluZwpmaWVsZCwgbm90IGp1c3QgZm9yIHRoZSBldmVudCBpbmplY3Rpb24g
ZmllbGQuICBSZW5hbWUgaXQgdG8gaW50aW5mb190IHdoaWNoCmlzIGhvdyB0aGUgQVBNIHJlZmVy
cyB0byB0aGUgZGF0YS4KClJlYXJyYW5nZSB0aGUgdW5pb24gdG8gZHJvcCB0aGUgLmZpZWxkcyBp
bmZpeCwgYW5kIHJlbmFtZSBieXRlcyB0byB0aGUgbW9yZQpjb21tb24gcmF3LgoKV2hpbGUgYWRq
dXN0aW5nIGFsbCBjYWxsIHNpdGVzLCBmaXggdXAgc3R5bGUgaXNzdWVzIGFuZCBtYWtlIHVzZSBv
ZiBzdHJ1Y3R1cmUKYXNzaWdubWVudHMgd2hlcmUgYXBwbGljYWJsZS4KClNpZ25lZC1vZmYtYnk6
IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+Ci0tLQpDQzogSmFuIEJl
dWxpY2ggPEpCZXVsaWNoQHN1c2UuY29tPgpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4KQ0M6IFJv
Z2VyIFBhdSBNb25uw6kgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgotLS0KIHhlbi9hcmNoL3g4Ni9o
dm0vc3ZtL2ludHIuYyAgICAgICAgfCAzMiArKysrKysrKy0tLS0tLS0tLS0KIHhlbi9hcmNoL3g4
Ni9odm0vc3ZtL25lc3RlZHN2bS5jICAgfCAyOCArKysrKysrLS0tLS0tLS0tCiB4ZW4vYXJjaC94
ODYvaHZtL3N2bS9zdm0uYyAgICAgICAgIHwgNjggKysrKysrKysrKysrKysrKysrLS0tLS0tLS0t
LS0tLS0tLS0tLS0KIHhlbi9hcmNoL3g4Ni9odm0vc3ZtL3N2bWRlYnVnLmMgICAgfCAxMiArKyst
LS0tCiB4ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9zdm0vdm1jYi5oIHwgMjIgKysrKysrLS0tLS0t
CiA1IGZpbGVzIGNoYW5nZWQsIDc1IGluc2VydGlvbnMoKyksIDg3IGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9odm0vc3ZtL2ludHIuYyBiL3hlbi9hcmNoL3g4Ni9odm0v
c3ZtL2ludHIuYwppbmRleCBmZjc1NTE2NWNkLi40ZWVkZTVjYzIzIDEwMDY0NAotLS0gYS94ZW4v
YXJjaC94ODYvaHZtL3N2bS9pbnRyLmMKKysrIGIveGVuL2FyY2gveDg2L2h2bS9zdm0vaW50ci5j
CkBAIC00MywxNSArNDMsMTMgQEAgc3RhdGljIHZvaWQgc3ZtX2luamVjdF9ubWkoc3RydWN0IHZj
cHUgKnYpCiB7CiAgICAgc3RydWN0IHZtY2Jfc3RydWN0ICp2bWNiID0gdi0+YXJjaC5odm0uc3Zt
LnZtY2I7CiAgICAgdTMyIGdlbmVyYWwxX2ludGVyY2VwdHMgPSB2bWNiX2dldF9nZW5lcmFsMV9p
bnRlcmNlcHRzKHZtY2IpOwotICAgIGV2ZW50aW5qX3QgZXZlbnQ7CiAKLSAgICBldmVudC5ieXRl
cyA9IDA7Ci0gICAgZXZlbnQuZmllbGRzLnYgPSAxOwotICAgIGV2ZW50LmZpZWxkcy50eXBlID0g
WDg2X0VWRU5UVFlQRV9OTUk7Ci0gICAgZXZlbnQuZmllbGRzLnZlY3RvciA9IDI7Ci0KLSAgICBB
U1NFUlQodm1jYi0+ZXZlbnRpbmouZmllbGRzLnYgPT0gMCk7Ci0gICAgdm1jYi0+ZXZlbnRpbmog
PSBldmVudDsKKyAgICBBU1NFUlQoIXZtY2ItPmV2ZW50aW5qLnYpOworICAgIHZtY2ItPmV2ZW50
aW5qID0gKGludGluZm9fdCl7CisgICAgICAgIC52ZWN0b3IgPSAyLAorICAgICAgICAudHlwZSA9
IFg4Nl9FVkVOVFRZUEVfTk1JLAorICAgICAgICAudiA9IHRydWUsCisgICAgfTsKIAogICAgIC8q
CiAgICAgICogU1ZNIGRvZXMgbm90IHZpcnR1YWxpc2UgdGhlIE5NSSBtYXNrLCBzbyB3ZSBlbXVs
YXRlIGl0IGJ5IGludGVyY2VwdGluZwpAQCAtNjQsMTUgKzYyLDEzIEBAIHN0YXRpYyB2b2lkIHN2
bV9pbmplY3Rfbm1pKHN0cnVjdCB2Y3B1ICp2KQogc3RhdGljIHZvaWQgc3ZtX2luamVjdF9leHRp
bnQoc3RydWN0IHZjcHUgKnYsIGludCB2ZWN0b3IpCiB7CiAgICAgc3RydWN0IHZtY2Jfc3RydWN0
ICp2bWNiID0gdi0+YXJjaC5odm0uc3ZtLnZtY2I7Ci0gICAgZXZlbnRpbmpfdCBldmVudDsKLQot
ICAgIGV2ZW50LmJ5dGVzID0gMDsKLSAgICBldmVudC5maWVsZHMudiA9IDE7Ci0gICAgZXZlbnQu
ZmllbGRzLnR5cGUgPSBYODZfRVZFTlRUWVBFX0VYVF9JTlRSOwotICAgIGV2ZW50LmZpZWxkcy52
ZWN0b3IgPSB2ZWN0b3I7CiAKLSAgICBBU1NFUlQodm1jYi0+ZXZlbnRpbmouZmllbGRzLnYgPT0g
MCk7Ci0gICAgdm1jYi0+ZXZlbnRpbmogPSBldmVudDsKKyAgICBBU1NFUlQoIXZtY2ItPmV2ZW50
aW5qLnYpOworICAgIHZtY2ItPmV2ZW50aW5qID0gKGludGluZm9fdCl7CisgICAgICAgIC52ZWN0
b3IgPSB2ZWN0b3IsCisgICAgICAgIC50eXBlID0gWDg2X0VWRU5UVFlQRV9FWFRfSU5UUiwKKyAg
ICAgICAgLnYgPSB0cnVlLAorICAgIH07CiB9CiAKIHN0YXRpYyB2b2lkIHN2bV9lbmFibGVfaW50
cl93aW5kb3coc3RydWN0IHZjcHUgKnYsIHN0cnVjdCBodm1faW50YWNrIGludGFjaykKQEAgLTk5
LDcgKzk1LDcgQEAgc3RhdGljIHZvaWQgc3ZtX2VuYWJsZV9pbnRyX3dpbmRvdyhzdHJ1Y3QgdmNw
dSAqdiwgc3RydWN0IGh2bV9pbnRhY2sgaW50YWNrKQogICAgIH0KIAogICAgIEhWTVRSQUNFXzNE
KElOVFJfV0lORE9XLCBpbnRhY2sudmVjdG9yLCBpbnRhY2suc291cmNlLAotICAgICAgICAgICAg
ICAgIHZtY2ItPmV2ZW50aW5qLmZpZWxkcy52P3ZtY2ItPmV2ZW50aW5qLmZpZWxkcy52ZWN0b3I6
LTEpOworICAgICAgICAgICAgICAgIHZtY2ItPmV2ZW50aW5qLnYgPyB2bWNiLT5ldmVudGluai52
ZWN0b3IgOiAtMSk7CiAKICAgICAvKgogICAgICAqIENyZWF0ZSBhIGR1bW15IHZpcnR1YWwgaW50
ZXJydXB0IHRvIGludGVyY2VwdCBhcyBzb29uIGFzIHRoZQpAQCAtMTk3LDcgKzE5Myw3IEBAIHZv
aWQgc3ZtX2ludHJfYXNzaXN0KHZvaWQpCiAgICAgICAgICAqICAgICAgaGF2ZSBjbGVhcmVkIHRo
ZSBpbnRlcnJ1cHQgb3V0IG9mIHRoZSBJUlIuCiAgICAgICAgICAqIDIuIFRoZSBJUlEgaXMgbWFz
a2VkLgogICAgICAgICAgKi8KLSAgICAgICAgaWYgKCB1bmxpa2VseSh2bWNiLT5ldmVudGluai5m
aWVsZHMudikgfHwgaW50YmxrICkKKyAgICAgICAgaWYgKCB1bmxpa2VseSh2bWNiLT5ldmVudGlu
ai52KSB8fCBpbnRibGsgKQogICAgICAgICB7CiAgICAgICAgICAgICBzdm1fZW5hYmxlX2ludHJf
d2luZG93KHYsIGludGFjayk7CiAgICAgICAgICAgICByZXR1cm47CmRpZmYgLS1naXQgYS94ZW4v
YXJjaC94ODYvaHZtL3N2bS9uZXN0ZWRzdm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0vc3ZtL25lc3Rl
ZHN2bS5jCmluZGV4IGZlZjEyNGZiMTEuLmQyNzlhNTBlNWMgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNo
L3g4Ni9odm0vc3ZtL25lc3RlZHN2bS5jCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vc3ZtL25lc3Rl
ZHN2bS5jCkBAIC0zNDAsNyArMzQwLDcgQEAgc3RhdGljIGludCBuc3ZtX3ZjcHVfaG9zdHJlc3Rv
cmUoc3RydWN0IHZjcHUgKnYsIHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQogICAgIC8qIENs
ZWFyIGV4aXRpbnRpbmZvIHRvIHByZXZlbnQgYSBmYXVsdCBsb29wIG9mIHJlLWluamVjdGluZwog
ICAgICAqIGV4Y2VwdGlvbnMgZm9yZXZlci4KICAgICAgKi8KLSAgICBuMXZtY2ItPmV4aXRpbnRp
bmZvLmJ5dGVzID0gMDsKKyAgICBuMXZtY2ItPmV4aXRpbnRpbmZvLnJhdyA9IDA7CiAKICAgICAv
KiBDbGVhbmJpdHMgKi8KICAgICBuMXZtY2ItPmNsZWFuYml0cy5ieXRlcyA9IDA7CkBAIC04MDYs
MTMgKzgwNiwxMCBAQCBuc3ZtX3ZjcHVfdm1leGl0X2luamVjdChzdHJ1Y3QgdmNwdSAqdiwgc3Ry
dWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MsCiAKICAgICAgICAgc3dpdGNoIChleGl0Y29kZSkgewog
ICAgICAgICBjYXNlIFZNRVhJVF9JTlRSOgotICAgICAgICAgICAgaWYgKCB1bmxpa2VseShuc192
bWNiLT5ldmVudGluai5maWVsZHMudikKLSAgICAgICAgICAgICAgICAmJiBudi0+bnZfdm1lbnRy
eV9wZW5kaW5nCi0gICAgICAgICAgICAgICAgJiYgaHZtX2V2ZW50X25lZWRzX3JlaW5qZWN0aW9u
KG5zX3ZtY2ItPmV2ZW50aW5qLmZpZWxkcy50eXBlLAotICAgICAgICAgICAgICAgICAgICBuc192
bWNiLT5ldmVudGluai5maWVsZHMudmVjdG9yKSApCi0gICAgICAgICAgICB7Ci0gICAgICAgICAg
ICAgICAgbnNfdm1jYi0+ZXhpdGludGluZm8uYnl0ZXMgPSBuc192bWNiLT5ldmVudGluai5ieXRl
czsKLSAgICAgICAgICAgIH0KKyAgICAgICAgICAgIGlmICggdW5saWtlbHkobnNfdm1jYi0+ZXZl
bnRpbmoudikgJiYgbnYtPm52X3ZtZW50cnlfcGVuZGluZyAmJgorICAgICAgICAgICAgICAgICBo
dm1fZXZlbnRfbmVlZHNfcmVpbmplY3Rpb24obnNfdm1jYi0+ZXZlbnRpbmoudHlwZSwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5zX3ZtY2ItPmV2ZW50aW5q
LnZlY3RvcikgKQorICAgICAgICAgICAgICAgIG5zX3ZtY2ItPmV4aXRpbnRpbmZvID0gbnNfdm1j
Yi0+ZXZlbnRpbmo7CiAgICAgICAgICAgICBicmVhazsKICAgICAgICAgY2FzZSBWTUVYSVRfRVhD
RVBUSU9OX1BGOgogICAgICAgICAgICAgbnNfdm1jYi0+X2NyMiA9IG5zX3ZtY2ItPmV4aXRpbmZv
MjsKQEAgLTgzNyw3ICs4MzQsNyBAQCBuc3ZtX3ZjcHVfdm1leGl0X2luamVjdChzdHJ1Y3QgdmNw
dSAqdiwgc3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MsCiAgICAgfQogCiAgICAgbnNfdm1jYi0+
ZXhpdGNvZGUgPSBleGl0Y29kZTsKLSAgICBuc192bWNiLT5ldmVudGluai5ieXRlcyA9IDA7Cisg
ICAgbnNfdm1jYi0+ZXZlbnRpbmoucmF3ID0gMDsKICAgICByZXR1cm4gMDsKIH0KIApAQCAtMTA3
NywxNCArMTA3NCwxMiBAQCBuc3ZtX3ZtY2JfcHJlcGFyZTR2bWV4aXQoc3RydWN0IHZjcHUgKnYs
IHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQogICAgICAqIG9ubHkgaGFwcGVucyBvbiBhIFZN
UlVOIGluc3RydWN0aW9uIGludGVyY2VwdCB3aGljaCBoYXMgbm8gdmFsaWQKICAgICAgKiBleGl0
aW50aW5mbyBzZXQuCiAgICAgICovCi0gICAgaWYgKCB1bmxpa2VseShuMnZtY2ItPmV2ZW50aW5q
LmZpZWxkcy52KSAmJgotICAgICAgICAgaHZtX2V2ZW50X25lZWRzX3JlaW5qZWN0aW9uKG4ydm1j
Yi0+ZXZlbnRpbmouZmllbGRzLnR5cGUsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbjJ2bWNiLT5ldmVudGluai5maWVsZHMudmVjdG9yKSApCi0gICAgeworICAgIGlmICgg
dW5saWtlbHkobjJ2bWNiLT5ldmVudGluai52KSAmJgorICAgICAgICAgaHZtX2V2ZW50X25lZWRz
X3JlaW5qZWN0aW9uKG4ydm1jYi0+ZXZlbnRpbmoudHlwZSwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBuMnZtY2ItPmV2ZW50aW5qLnZlY3RvcikgKQogICAgICAgICBuc192
bWNiLT5leGl0aW50aW5mbyA9IG4ydm1jYi0+ZXZlbnRpbmo7Ci0gICAgfQogCi0gICAgbnNfdm1j
Yi0+ZXZlbnRpbmouYnl0ZXMgPSAwOworICAgIG5zX3ZtY2ItPmV2ZW50aW5qLnJhdyA9IDA7CiAK
ICAgICAvKiBOZXN0ZWQgcGFnaW5nIG1vZGUgKi8KICAgICBpZiAobmVzdGVkaHZtX3BhZ2luZ19t
b2RlX2hhcCh2KSkgewpAQCAtMTI0OSw3ICsxMjQ0LDggQEAgZW51bSBodm1faW50YmxrIG5zdm1f
aW50cl9ibG9ja2VkKHN0cnVjdCB2Y3B1ICp2KQogICAgICAgICBpZiAoIHYtPmFyY2guaHZtLmh2
bV9pby5pb19yZXEuc3RhdGUgIT0gU1RBVEVfSU9SRVFfTk9ORSApCiAgICAgICAgICAgICByZXR1
cm4gaHZtX2ludGJsa19zaGFkb3c7CiAKLSAgICAgICAgaWYgKCAhbnYtPm52X3ZtZXhpdF9wZW5k
aW5nICYmIG4ydm1jYi0+ZXhpdGludGluZm8uYnl0ZXMgIT0gMCApIHsKKyAgICAgICAgaWYgKCAh
bnYtPm52X3ZtZXhpdF9wZW5kaW5nICYmIG4ydm1jYi0+ZXhpdGludGluZm8udiApCisgICAgICAg
IHsKICAgICAgICAgICAgIC8qIEdpdmUgdGhlIGwyIGd1ZXN0IGEgY2hhbmNlIHRvIGZpbmlzaCB0
aGUgZGVsaXZlcnkgb2YKICAgICAgICAgICAgICAqIHRoZSBsYXN0IGluamVjdGVkIGludGVycnVw
dCBvciBleGNlcHRpb24gYmVmb3JlIHdlCiAgICAgICAgICAgICAgKiBlbXVsYXRlIGEgVk1FWElU
IChlLmcuIFZNRVhJVChJTlRSKSApLgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9zdm0v
c3ZtLmMgYi94ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm0uYwppbmRleCBjNWFjMDNiMGIxLi4yNjNh
ZTAzYmZkIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm0uYworKysgYi94ZW4v
YXJjaC94ODYvaHZtL3N2bS9zdm0uYwpAQCAtMjU5LDEyICsyNTksMTIgQEAgc3RhdGljIGludCBz
dm1fdm1jYl9zYXZlKHN0cnVjdCB2Y3B1ICp2LCBzdHJ1Y3QgaHZtX2h3X2NwdSAqYykKICAgICBj
LT5zeXNlbnRlcl9lc3AgPSB2LT5hcmNoLmh2bS5zdm0uZ3Vlc3Rfc3lzZW50ZXJfZXNwOwogICAg
IGMtPnN5c2VudGVyX2VpcCA9IHYtPmFyY2guaHZtLnN2bS5ndWVzdF9zeXNlbnRlcl9laXA7CiAK
LSAgICBpZiAoIHZtY2ItPmV2ZW50aW5qLmZpZWxkcy52ICYmCi0gICAgICAgICBodm1fZXZlbnRf
bmVlZHNfcmVpbmplY3Rpb24odm1jYi0+ZXZlbnRpbmouZmllbGRzLnR5cGUsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmouZmllbGRzLnZlY3Rvcikg
KQorICAgIGlmICggdm1jYi0+ZXZlbnRpbmoudiAmJgorICAgICAgICAgaHZtX2V2ZW50X25lZWRz
X3JlaW5qZWN0aW9uKHZtY2ItPmV2ZW50aW5qLnR5cGUsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmoudmVjdG9yKSApCiAgICAgewotICAgICAgICBj
LT5wZW5kaW5nX2V2ZW50ID0gKHVpbnQzMl90KXZtY2ItPmV2ZW50aW5qLmJ5dGVzOwotICAgICAg
ICBjLT5lcnJvcl9jb2RlID0gdm1jYi0+ZXZlbnRpbmouZmllbGRzLmVycm9yY29kZTsKKyAgICAg
ICAgYy0+cGVuZGluZ19ldmVudCA9IHZtY2ItPmV2ZW50aW5qLnJhdzsKKyAgICAgICAgYy0+ZXJy
b3JfY29kZSA9IHZtY2ItPmV2ZW50aW5qLmVjOwogICAgIH0KIAogICAgIHJldHVybiAxOwpAQCAt
MzM5LDExICszMzksMTEgQEAgc3RhdGljIGludCBzdm1fdm1jYl9yZXN0b3JlKHN0cnVjdCB2Y3B1
ICp2LCBzdHJ1Y3QgaHZtX2h3X2NwdSAqYykKICAgICB7CiAgICAgICAgIGdkcHJpbnRrKFhFTkxP
R19JTkZPLCAiUmUtaW5qZWN0aW5nICUjIlBSSXgzMiIsICUjIlBSSXgzMiJcbiIsCiAgICAgICAg
ICAgICAgICAgIGMtPnBlbmRpbmdfZXZlbnQsIGMtPmVycm9yX2NvZGUpOwotICAgICAgICB2bWNi
LT5ldmVudGluai5ieXRlcyA9IGMtPnBlbmRpbmdfZXZlbnQ7Ci0gICAgICAgIHZtY2ItPmV2ZW50
aW5qLmZpZWxkcy5lcnJvcmNvZGUgPSBjLT5lcnJvcl9jb2RlOworICAgICAgICB2bWNiLT5ldmVu
dGluai5yYXcgPSBjLT5wZW5kaW5nX2V2ZW50OworICAgICAgICB2bWNiLT5ldmVudGluai5lYyA9
IGMtPmVycm9yX2NvZGU7CiAgICAgfQogICAgIGVsc2UKLSAgICAgICAgdm1jYi0+ZXZlbnRpbmou
Ynl0ZXMgPSAwOworICAgICAgICB2bWNiLT5ldmVudGluai5yYXcgPSAwOwogCiAgICAgdm1jYi0+
Y2xlYW5iaXRzLmJ5dGVzID0gMDsKICAgICBwYWdpbmdfdXBkYXRlX3BhZ2luZ19tb2Rlcyh2KTsK
QEAgLTEzMDEsNyArMTMwMSw3IEBAIHN0YXRpYyB2b2lkIHN2bV9pbmplY3RfZXZlbnQoY29uc3Qg
c3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpCiB7CiAgICAgc3RydWN0IHZjcHUgKmN1cnIgPSBjdXJy
ZW50OwogICAgIHN0cnVjdCB2bWNiX3N0cnVjdCAqdm1jYiA9IGN1cnItPmFyY2guaHZtLnN2bS52
bWNiOwotICAgIGV2ZW50aW5qX3QgZXZlbnRpbmogPSB2bWNiLT5ldmVudGluajsKKyAgICBpbnRp
bmZvX3QgZXZlbnRpbmogPSB2bWNiLT5ldmVudGluajsKICAgICBzdHJ1Y3QgeDg2X2V2ZW50IF9l
dmVudCA9ICpldmVudDsKICAgICBzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncyA9IGd1ZXN0X2Nw
dV91c2VyX3JlZ3MoKTsKIApAQCAtMTM0MiwxOCArMTM0MiwxNSBAQCBzdGF0aWMgdm9pZCBzdm1f
aW5qZWN0X2V2ZW50KGNvbnN0IHN0cnVjdCB4ODZfZXZlbnQgKmV2ZW50KQogICAgICAgICBicmVh
azsKICAgICB9CiAKLSAgICBpZiAoIHVubGlrZWx5KGV2ZW50aW5qLmZpZWxkcy52KSAmJgotICAg
ICAgICAgKGV2ZW50aW5qLmZpZWxkcy50eXBlID09IFg4Nl9FVkVOVFRZUEVfSFdfRVhDRVBUSU9O
KSApCisgICAgaWYgKCBldmVudGluai52ICYmIChldmVudGluai50eXBlID09IFg4Nl9FVkVOVFRZ
UEVfSFdfRVhDRVBUSU9OKSApCiAgICAgewogICAgICAgICBfZXZlbnQudmVjdG9yID0gaHZtX2Nv
bWJpbmVfaHdfZXhjZXB0aW9ucygKLSAgICAgICAgICAgIGV2ZW50aW5qLmZpZWxkcy52ZWN0b3Is
IF9ldmVudC52ZWN0b3IpOworICAgICAgICAgICAgZXZlbnRpbmoudmVjdG9yLCBfZXZlbnQudmVj
dG9yKTsKICAgICAgICAgaWYgKCBfZXZlbnQudmVjdG9yID09IFRSQVBfZG91YmxlX2ZhdWx0ICkK
ICAgICAgICAgICAgIF9ldmVudC5lcnJvcl9jb2RlID0gMDsKICAgICB9CiAKLSAgICBldmVudGlu
ai5ieXRlcyA9IDA7Ci0gICAgZXZlbnRpbmouZmllbGRzLnYgPSAxOwotICAgIGV2ZW50aW5qLmZp
ZWxkcy52ZWN0b3IgPSBfZXZlbnQudmVjdG9yOworICAgIGV2ZW50aW5qID0gKGludGluZm9fdCl7
IC52ZWN0b3IgPSBfZXZlbnQudmVjdG9yLCAudiA9IHRydWUgfTsKIAogICAgIC8qCiAgICAgICog
UmVmZXIgdG8gQU1EIFZvbCAyOiBTeXN0ZW0gUHJvZ3JhbW1pbmcsIDE1LjIwIEV2ZW50IEluamVj
dGlvbi4KQEAgLTEzNzMsNyArMTM3MCw3IEBAIHN0YXRpYyB2b2lkIHN2bV9pbmplY3RfZXZlbnQo
Y29uc3Qgc3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpCiAgICAgICAgICAgICB2bWNiLT5uZXh0cmlw
ID0gcmVncy0+cmlwICsgX2V2ZW50Lmluc25fbGVuOwogICAgICAgICBlbHNlCiAgICAgICAgICAg
ICByZWdzLT5yaXAgKz0gX2V2ZW50Lmluc25fbGVuOwotICAgICAgICBldmVudGluai5maWVsZHMu
dHlwZSA9IFg4Nl9FVkVOVFRZUEVfU1dfSU5URVJSVVBUOworICAgICAgICBldmVudGluai50eXBl
ID0gWDg2X0VWRU5UVFlQRV9TV19JTlRFUlJVUFQ7CiAgICAgICAgIGJyZWFrOwogCiAgICAgY2Fz
ZSBYODZfRVZFTlRUWVBFX1BSSV9TV19FWENFUFRJT046IC8qIGljZWJwICovCkBAIC0xMzg1LDcg
KzEzODIsNyBAQCBzdGF0aWMgdm9pZCBzdm1faW5qZWN0X2V2ZW50KGNvbnN0IHN0cnVjdCB4ODZf
ZXZlbnQgKmV2ZW50KQogICAgICAgICByZWdzLT5yaXAgKz0gX2V2ZW50Lmluc25fbGVuOwogICAg
ICAgICBpZiAoIGNwdV9oYXNfc3ZtX25yaXBzICkKICAgICAgICAgICAgIHZtY2ItPm5leHRyaXAg
PSByZWdzLT5yaXA7Ci0gICAgICAgIGV2ZW50aW5qLmZpZWxkcy50eXBlID0gWDg2X0VWRU5UVFlQ
RV9IV19FWENFUFRJT047CisgICAgICAgIGV2ZW50aW5qLnR5cGUgPSBYODZfRVZFTlRUWVBFX0hX
X0VYQ0VQVElPTjsKICAgICAgICAgYnJlYWs7CiAKICAgICBjYXNlIFg4Nl9FVkVOVFRZUEVfU1df
RVhDRVBUSU9OOiAvKiBpbnQzLCBpbnRvICovCkBAIC0xMzk3LDEzICsxMzk0LDEzIEBAIHN0YXRp
YyB2b2lkIHN2bV9pbmplY3RfZXZlbnQoY29uc3Qgc3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpCiAg
ICAgICAgICAgICB2bWNiLT5uZXh0cmlwID0gcmVncy0+cmlwICsgX2V2ZW50Lmluc25fbGVuOwog
ICAgICAgICBlbHNlCiAgICAgICAgICAgICByZWdzLT5yaXAgKz0gX2V2ZW50Lmluc25fbGVuOwot
ICAgICAgICBldmVudGluai5maWVsZHMudHlwZSA9IFg4Nl9FVkVOVFRZUEVfSFdfRVhDRVBUSU9O
OworICAgICAgICBldmVudGluai50eXBlID0gWDg2X0VWRU5UVFlQRV9IV19FWENFUFRJT047CiAg
ICAgICAgIGJyZWFrOwogCiAgICAgZGVmYXVsdDoKLSAgICAgICAgZXZlbnRpbmouZmllbGRzLnR5
cGUgPSBYODZfRVZFTlRUWVBFX0hXX0VYQ0VQVElPTjsKLSAgICAgICAgZXZlbnRpbmouZmllbGRz
LmV2ID0gKF9ldmVudC5lcnJvcl9jb2RlICE9IFg4Nl9FVkVOVF9OT19FQyk7Ci0gICAgICAgIGV2
ZW50aW5qLmZpZWxkcy5lcnJvcmNvZGUgPSBfZXZlbnQuZXJyb3JfY29kZTsKKyAgICAgICAgZXZl
bnRpbmoudHlwZSA9IFg4Nl9FVkVOVFRZUEVfSFdfRVhDRVBUSU9OOworICAgICAgICBldmVudGlu
ai5ldiA9IChfZXZlbnQuZXJyb3JfY29kZSAhPSBYODZfRVZFTlRfTk9fRUMpOworICAgICAgICBl
dmVudGluai5lYyA9IF9ldmVudC5lcnJvcl9jb2RlOwogICAgICAgICBicmVhazsKICAgICB9CiAK
QEAgLTE0MTcsOCArMTQxNCw3IEBAIHN0YXRpYyB2b2lkIHN2bV9pbmplY3RfZXZlbnQoY29uc3Qg
c3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpCiAgICAgICAgIHZtY2ItPm5leHRyaXAgPSAodWludDMy
X3Qpdm1jYi0+bmV4dHJpcDsKICAgICB9CiAKLSAgICBBU1NFUlQoIWV2ZW50aW5qLmZpZWxkcy5l
diB8fAotICAgICAgICAgICBldmVudGluai5maWVsZHMuZXJyb3Jjb2RlID09ICh1aW50MTZfdCll
dmVudGluai5maWVsZHMuZXJyb3Jjb2RlKTsKKyAgICBBU1NFUlQoIWV2ZW50aW5qLmV2IHx8IGV2
ZW50aW5qLmVjID09ICh1aW50MTZfdClldmVudGluai5lYyk7CiAgICAgdm1jYi0+ZXZlbnRpbmog
PSBldmVudGluajsKIAogICAgIGlmICggX2V2ZW50LnZlY3RvciA9PSBUUkFQX3BhZ2VfZmF1bHQg
JiYKQEAgLTE0MzEsNyArMTQyNyw3IEBAIHN0YXRpYyB2b2lkIHN2bV9pbmplY3RfZXZlbnQoY29u
c3Qgc3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpCiAKIHN0YXRpYyBib29sIHN2bV9ldmVudF9wZW5k
aW5nKGNvbnN0IHN0cnVjdCB2Y3B1ICp2KQogewotICAgIHJldHVybiB2LT5hcmNoLmh2bS5zdm0u
dm1jYi0+ZXZlbnRpbmouZmllbGRzLnY7CisgICAgcmV0dXJuIHYtPmFyY2guaHZtLnN2bS52bWNi
LT5ldmVudGluai52OwogfQogCiBzdGF0aWMgdm9pZCBzdm1fY3B1X2RlYWQodW5zaWduZWQgaW50
IGNwdSkKQEAgLTI0MTAsMTIgKzI0MDYsMTIgQEAgc3RhdGljIGJvb2wgc3ZtX2dldF9wZW5kaW5n
X2V2ZW50KHN0cnVjdCB2Y3B1ICp2LCBzdHJ1Y3QgeDg2X2V2ZW50ICppbmZvKQogewogICAgIGNv
bnN0IHN0cnVjdCB2bWNiX3N0cnVjdCAqdm1jYiA9IHYtPmFyY2guaHZtLnN2bS52bWNiOwogCi0g
ICAgaWYgKCB2bWNiLT5ldmVudGluai5maWVsZHMudiApCisgICAgaWYgKCB2bWNiLT5ldmVudGlu
ai52ICkKICAgICAgICAgcmV0dXJuIGZhbHNlOwogCi0gICAgaW5mby0+dmVjdG9yID0gdm1jYi0+
ZXZlbnRpbmouZmllbGRzLnZlY3RvcjsKLSAgICBpbmZvLT50eXBlID0gdm1jYi0+ZXZlbnRpbmou
ZmllbGRzLnR5cGU7Ci0gICAgaW5mby0+ZXJyb3JfY29kZSA9IHZtY2ItPmV2ZW50aW5qLmZpZWxk
cy5lcnJvcmNvZGU7CisgICAgaW5mby0+dmVjdG9yID0gdm1jYi0+ZXZlbnRpbmoudmVjdG9yOwor
ICAgIGluZm8tPnR5cGUgPSB2bWNiLT5ldmVudGluai50eXBlOworICAgIGluZm8tPmVycm9yX2Nv
ZGUgPSB2bWNiLT5ldmVudGluai5lYzsKIAogICAgIHJldHVybiB0cnVlOwogfQpAQCAtMjYwMiw5
ICsyNTk4LDkgQEAgdm9pZCBzdm1fdm1leGl0X2hhbmRsZXIoc3RydWN0IGNwdV91c2VyX3JlZ3Mg
KnJlZ3MpCiAgICAgdm1jYi0+Y2xlYW5iaXRzLmJ5dGVzID0gY3B1X2hhc19zdm1fY2xlYW5iaXRz
ID8gfjB1IDogMHU7CiAKICAgICAvKiBFdmVudCBkZWxpdmVyeSBjYXVzZWQgdGhpcyBpbnRlcmNl
cHQ/IFF1ZXVlIGZvciByZWRlbGl2ZXJ5LiAqLwotICAgIGlmICggdW5saWtlbHkodm1jYi0+ZXhp
dGludGluZm8uZmllbGRzLnYpICYmCi0gICAgICAgICBodm1fZXZlbnRfbmVlZHNfcmVpbmplY3Rp
b24odm1jYi0+ZXhpdGludGluZm8uZmllbGRzLnR5cGUsCi0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdm1jYi0+ZXhpdGludGluZm8uZmllbGRzLnZlY3RvcikgKQorICAgIGlm
ICggdW5saWtlbHkodm1jYi0+ZXhpdGludGluZm8udikgJiYKKyAgICAgICAgIGh2bV9ldmVudF9u
ZWVkc19yZWluamVjdGlvbih2bWNiLT5leGl0aW50aW5mby50eXBlLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZtY2ItPmV4aXRpbnRpbmZvLnZlY3RvcikgKQogICAgICAg
ICB2bWNiLT5ldmVudGluaiA9IHZtY2ItPmV4aXRpbnRpbmZvOwogCiAgICAgc3dpdGNoICggZXhp
dF9yZWFzb24gKQpAQCAtMjc2NSw5ICsyNzYxLDkgQEAgdm9pZCBzdm1fdm1leGl0X2hhbmRsZXIo
c3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MpCiAgICAgICAgICAqIHN3aXRjaGVzLgogICAgICAg
ICAgKi8KICAgICAgICAgaW5zbl9sZW4gPSAtMTsKLSAgICAgICAgaWYgKCB2bWNiLT5leGl0aW50
aW5mby5maWVsZHMudiApCisgICAgICAgIGlmICggdm1jYi0+ZXhpdGludGluZm8udiApCiAgICAg
ICAgIHsKLSAgICAgICAgICAgIHN3aXRjaCAoIHZtY2ItPmV4aXRpbnRpbmZvLmZpZWxkcy50eXBl
ICkKKyAgICAgICAgICAgIHN3aXRjaCAoIHZtY2ItPmV4aXRpbnRpbmZvLnR5cGUgKQogICAgICAg
ICAgICAgewogICAgICAgICAgICAgICAgIC8qCiAgICAgICAgICAgICAgICAgICogI0JQIGFuZCAj
T0YgYXJlIGZyb20gSU5UMy9JTlRPIHJlc3BlY3RpdmVseS4gICNEQiBmcm9tCkBAIC0yNzc1LDgg
KzI3NzEsOCBAQCB2b2lkIHN2bV92bWV4aXRfaGFuZGxlcihzdHJ1Y3QgY3B1X3VzZXJfcmVncyAq
cmVncykKICAgICAgICAgICAgICAgICAgKiBzZW1hbnRpY3MuCiAgICAgICAgICAgICAgICAgICov
CiAgICAgICAgICAgICBjYXNlIFg4Nl9FVkVOVFRZUEVfSFdfRVhDRVBUSU9OOgotICAgICAgICAg
ICAgICAgIGlmICggdm1jYi0+ZXhpdGludGluZm8uZmllbGRzLnZlY3RvciA9PSBUUkFQX2ludDMg
fHwKLSAgICAgICAgICAgICAgICAgICAgIHZtY2ItPmV4aXRpbnRpbmZvLmZpZWxkcy52ZWN0b3Ig
PT0gVFJBUF9vdmVyZmxvdyApCisgICAgICAgICAgICAgICAgaWYgKCB2bWNiLT5leGl0aW50aW5m
by52ZWN0b3IgPT0gVFJBUF9pbnQzIHx8CisgICAgICAgICAgICAgICAgICAgICB2bWNiLT5leGl0
aW50aW5mby52ZWN0b3IgPT0gVFJBUF9vdmVyZmxvdyApCiAgICAgICAgICAgICAgICAgICAgIGJy
ZWFrOwogICAgICAgICAgICAgICAgIC8qIEZhbGx0aHJvdWdoICovCiAgICAgICAgICAgICBjYXNl
IFg4Nl9FVkVOVFRZUEVfRVhUX0lOVFI6CkBAIC0yNzg5LDcgKzI3ODUsNyBAQCB2b2lkIHN2bV92
bWV4aXRfaGFuZGxlcihzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncykKICAgICAgICAgICAgICAq
IFRoZSBjb21tb24gbG9naWMgYWJvdmUgd2lsbCBoYXZlIGZvcndhcmRlZCB0aGUgdmVjdG9yaW5n
CiAgICAgICAgICAgICAgKiBpbmZvcm1hdGlvbi4gIFVuZG8gdGhpcyBhcyB3ZSBhcmUgZ29pbmcg
dG8gZW11bGF0ZS4KICAgICAgICAgICAgICAqLwotICAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmou
Ynl0ZXMgPSAwOworICAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmoucmF3ID0gMDsKICAgICAgICAg
fQogCiAgICAgICAgIC8qCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm1kZWJ1
Zy5jIGIveGVuL2FyY2gveDg2L2h2bS9zdm0vc3ZtZGVidWcuYwppbmRleCA0MjkzZDhkYmE1Li4y
NmU0YjlkN2JiIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm1kZWJ1Zy5jCisr
KyBiL3hlbi9hcmNoL3g4Ni9odm0vc3ZtL3N2bWRlYnVnLmMKQEAgLTU1LDExICs1NSwxMSBAQCB2
b2lkIHN2bV92bWNiX2R1bXAoY29uc3QgY2hhciAqZnJvbSwgY29uc3Qgc3RydWN0IHZtY2Jfc3Ry
dWN0ICp2bWNiKQogICAgICAgICAgICB2bWNiLT50bGJfY29udHJvbCwgdm1jYl9nZXRfdmludHIo
dm1jYikuYnl0ZXMsCiAgICAgICAgICAgIHZtY2ItPmludGVycnVwdF9zaGFkb3cpOwogICAgIHBy
aW50aygiZXZlbnRpbmogJTAxNiJQUkl4NjQiLCB2YWxpZD8gJWQsIGVjPyAlZCwgdHlwZSAldSwg
dmVjdG9yICUjeFxuIiwKLSAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmouYnl0ZXMsIHZtY2ItPmV2
ZW50aW5qLmZpZWxkcy52LAotICAgICAgICAgICB2bWNiLT5ldmVudGluai5maWVsZHMuZXYsIHZt
Y2ItPmV2ZW50aW5qLmZpZWxkcy50eXBlLAotICAgICAgICAgICB2bWNiLT5ldmVudGluai5maWVs
ZHMudmVjdG9yKTsKKyAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmoucmF3LCB2bWNiLT5ldmVudGlu
ai52LAorICAgICAgICAgICB2bWNiLT5ldmVudGluai5ldiwgdm1jYi0+ZXZlbnRpbmoudHlwZSwK
KyAgICAgICAgICAgdm1jYi0+ZXZlbnRpbmoudmVjdG9yKTsKICAgICBwcmludGsoImV4aXRjb2Rl
ID0gJSMiUFJJeDY0IiBleGl0aW50aW5mbyA9ICUjIlBSSXg2NCJcbiIsCi0gICAgICAgICAgIHZt
Y2ItPmV4aXRjb2RlLCB2bWNiLT5leGl0aW50aW5mby5ieXRlcyk7CisgICAgICAgICAgIHZtY2It
PmV4aXRjb2RlLCB2bWNiLT5leGl0aW50aW5mby5yYXcpOwogICAgIHByaW50aygiZXhpdGluZm8x
ID0gJSMiUFJJeDY0IiBleGl0aW5mbzIgPSAlIyJQUkl4NjQiXG4iLAogICAgICAgICAgICB2bWNi
LT5leGl0aW5mbzEsIHZtY2ItPmV4aXRpbmZvMik7CiAgICAgcHJpbnRrKCJucF9lbmFibGUgPSAl
IyJQUkl4NjQiIGd1ZXN0X2FzaWQgPSAlI3hcbiIsCkBAIC0xNjQsOSArMTY0LDkgQEAgYm9vbCBz
dm1fdm1jYl9pc3ZhbGlkKGNvbnN0IGNoYXIgKmZyb20sIGNvbnN0IHN0cnVjdCB2bWNiX3N0cnVj
dCAqdm1jYiwKICAgICAgICAgUFJJTlRGKCJHRU5FUkFMMl9JTlRFUkNFUFQ6IFZNUlVOIGludGVy
Y2VwdCBiaXQgaXMgY2xlYXIgKCUjIlBSSXgzMiIpXG4iLAogICAgICAgICAgICAgICAgdm1jYl9n
ZXRfZ2VuZXJhbDJfaW50ZXJjZXB0cyh2bWNiKSk7CiAKLSAgICBpZiAoIHZtY2ItPmV2ZW50aW5q
LmZpZWxkcy5yZXN2ZDEgKQorICAgIGlmICggdm1jYi0+ZXZlbnRpbmoucmVzdmQxICkKICAgICAg
ICAgUFJJTlRGKCJldmVudGluajogTUJaIGJpdHMgYXJlIHNldCAoJSMiUFJJeDY0IilcbiIsCi0g
ICAgICAgICAgICAgICB2bWNiLT5ldmVudGluai5ieXRlcyk7CisgICAgICAgICAgICAgICB2bWNi
LT5ldmVudGluai5yYXcpOwogCiAjdW5kZWYgUFJJTlRGCiAgICAgcmV0dXJuIHJldDsKZGlmZiAt
LWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL3N2bS92bWNiLmggYi94ZW4vaW5jbHVkZS9h
c20teDg2L2h2bS9zdm0vdm1jYi5oCmluZGV4IGUzNzIyMGVkZjIuLmZjNjdhODg2NjAgMTAwNjQ0
Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL3N2bS92bWNiLmgKKysrIGIveGVuL2luY2x1
ZGUvYXNtLXg4Ni9odm0vc3ZtL3ZtY2IuaApAQCAtMzA2LDE3ICszMDYsMTcgQEAgZW51bSBWTUVY
SVRfRVhJVENPREUKIAogdHlwZWRlZiB1bmlvbgogewotICAgIHU2NCBieXRlczsKICAgICBzdHJ1
Y3QKICAgICB7Ci0gICAgICAgIHU2NCB2ZWN0b3I6ICAgIDg7Ci0gICAgICAgIHU2NCB0eXBlOiAg
ICAgIDM7Ci0gICAgICAgIHU2NCBldjogICAgICAgIDE7Ci0gICAgICAgIHU2NCByZXN2ZDE6ICAg
MTk7Ci0gICAgICAgIHU2NCB2OiAgICAgICAgIDE7Ci0gICAgICAgIHU2NCBlcnJvcmNvZGU6MzI7
Ci0gICAgfSBmaWVsZHM7Ci19IGV2ZW50aW5qX3Q7CisgICAgICAgIHVpbnQ4X3QgIHZlY3RvcjsK
KyAgICAgICAgdWludDhfdCAgdHlwZTozOworICAgICAgICBib29sICAgICBldjoxOworICAgICAg
ICB1aW50MzJfdCByZXN2ZDE6MTk7CisgICAgICAgIGJvb2wgICAgIHY6MTsKKyAgICAgICAgdWlu
dDMyX3QgZWM7CisgICAgfTsKKyAgICB1aW50NjRfdCByYXc7Cit9IGludGluZm9fdDsKIAogdHlw
ZWRlZiB1bmlvbgogewpAQCAtNDIwLDEwICs0MjAsMTAgQEAgc3RydWN0IHZtY2Jfc3RydWN0IHsK
ICAgICB1NjQgZXhpdGNvZGU7ICAgICAgICAgICAgICAgLyogb2Zmc2V0IDB4NzAgKi8KICAgICB1
NjQgZXhpdGluZm8xOyAgICAgICAgICAgICAgLyogb2Zmc2V0IDB4NzggKi8KICAgICB1NjQgZXhp
dGluZm8yOyAgICAgICAgICAgICAgLyogb2Zmc2V0IDB4ODAgKi8KLSAgICBldmVudGlual90ICBl
eGl0aW50aW5mbzsgICAgLyogb2Zmc2V0IDB4ODggKi8KKyAgICBpbnRpbmZvX3QgZXhpdGludGlu
Zm87ICAgICAgLyogb2Zmc2V0IDB4ODggKi8KICAgICB1NjQgX25wX2VuYWJsZTsgICAgICAgICAg
ICAgLyogb2Zmc2V0IDB4OTAgLSBjbGVhbmJpdCA0ICovCiAgICAgdTY0IHJlczA4WzJdOwotICAg
IGV2ZW50aW5qX3QgIGV2ZW50aW5qOyAgICAgICAvKiBvZmZzZXQgMHhBOCAqLworICAgIGludGlu
Zm9fdCBldmVudGluajsgICAgICAgICAvKiBvZmZzZXQgMHhBOCAqLwogICAgIHU2NCBfaF9jcjM7
ICAgICAgICAgICAgICAgICAvKiBvZmZzZXQgMHhCMCAtIGNsZWFuYml0IDQgKi8KICAgICB2aXJ0
X2V4dF90IHZpcnRfZXh0OyAgICAgICAgLyogb2Zmc2V0IDB4QjggKi8KICAgICB2bWNiY2xlYW5i
aXRzX3QgY2xlYW5iaXRzOyAgLyogb2Zmc2V0IDB4QzAgKi8KLS0gCjIuMTEuMAoKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5n
IGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJv
amVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

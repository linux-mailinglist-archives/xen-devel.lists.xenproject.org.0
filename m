Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E9968CFC15
	for <lists+xen-devel@lfdr.de>; Tue,  8 Oct 2019 16:13:24 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iHqCF-0006us-J4; Tue, 08 Oct 2019 14:10:39 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=jabB=YB=gmail.com=al1img@srs-us1.protection.inumbo.net>)
 id 1iHqCE-0006u7-5A
 for xen-devel@lists.xenproject.org; Tue, 08 Oct 2019 14:10:38 +0000
X-Inumbo-ID: 63c3a5e2-e9d5-11e9-8c93-bc764e2007e4
Received: from mail-lf1-x141.google.com (unknown [2a00:1450:4864:20::141])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 63c3a5e2-e9d5-11e9-8c93-bc764e2007e4;
 Tue, 08 Oct 2019 14:10:32 +0000 (UTC)
Received: by mail-lf1-x141.google.com with SMTP id r22so12096319lfm.1
 for <xen-devel@lists.xenproject.org>; Tue, 08 Oct 2019 07:10:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=/oCwxQMbBLr1BZU6moM5qReytO7wpH++DT8doawdOYE=;
 b=vIJ6vks5nvIY8D3G1FnQrmi/346IeexJrxXMxl0wOHZD8hdBthgcMA0aLOjRGFdlCe
 w1GSIWeAyw1VZO1TILbkJG3erK40phJJlc5SkZ/7Ciwb+Y+u+JYPQhjqSOOzNvL/2c0m
 mFHqQNQ0NLvVE/FqeJE+7MRi0pl19OqenRMy1dwEz1f2nu6MXomnvxPpyFQ+uTEuoFJ+
 NHCGmIhpnsW+CAnV8ETysDPfrK9gf9z8SrTtgSsqy6hpw4/uVDW03SykjoZjUZZVZD/O
 9y69vmM6kQ0gnnAwbthOG1WhJ5jreOn8TUkOJcEFwQtS4E4wtEYmjMLPxtuten/+YoJi
 fV/g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=/oCwxQMbBLr1BZU6moM5qReytO7wpH++DT8doawdOYE=;
 b=A2z/rgJByupuxm/wHS0z3hKRFrKu72aj61s7IODcK2b3erNKowJPVXH0PXsBCoPEbV
 TQLJNy0HIEqUEJEnuYtNH968xv7PGHN6R1gwO8ozkPEHChSMLGSSXycAPo0mzZ35jq51
 kYOktyeqrb55kb8CwY/sAOySeh1LqEbPTW0LFeCQG9uqWYPVN5t/+BUpEviR4U8HK9om
 wV2P0C0Tg3tlSQxYL3vmONcY86A3CnicEPJcPVJy+V72y7DlqJHd8UeVngHJF7rYnpSk
 2VFhCN9j8uBrDwoFyg3lXlCW0k63hEqYpykLE8IdPn+4EzmIys/+cjr4YjlP5yRF7TcI
 6riw==
X-Gm-Message-State: APjAAAXnyzXIUyyGpLwvqmyli1hkGxIoAaXlDM63zfF7Crbk+siYjAxu
 oAA2UOwK57ZQhmqbvuu9RBHZN1SKxDo=
X-Google-Smtp-Source: APXvYqxMMR03tW+nTLLSIsDb5zNnMUjdDOZVwqnLbSFnTFi4OI7jCGn+e74rTvuVPqWEsevvDzKkzQ==
X-Received: by 2002:ac2:4a8f:: with SMTP id l15mr20799804lfp.21.1570543831393; 
 Tue, 08 Oct 2019 07:10:31 -0700 (PDT)
Received: from al1-pc.kyiv.epam.com (ll-74.141.223.85.sovam.net.ua.
 [85.223.141.74])
 by smtp.gmail.com with ESMTPSA id z20sm4937764ljk.63.2019.10.08.07.10.30
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 08 Oct 2019 07:10:30 -0700 (PDT)
From: Oleksandr Grytsov <al1img@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Tue,  8 Oct 2019 17:10:23 +0300
Message-Id: <20191008141024.10885-2-al1img@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191008141024.10885-1-al1img@gmail.com>
References: <20191008141024.10885-1-al1img@gmail.com>
Subject: [Xen-devel] [PATCH v1 1/2] libxl: introduce new backend type VINPUT
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Grytsov <oleksandr_grytsov@epam.com>, ian.jackson@eu.citrix.com,
 wl@xen.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogT2xla3NhbmRyIEdyeXRzb3YgPG9sZWtzYW5kcl9ncnl0c292QGVwYW0uY29tPgoKVGhl
cmUgYXJlIHR3byBraW5kIG9mIFZLQkQgZGV2aWNlczogd2l0aCBRRU1VIGJhY2tlbmQgYW5kIHVz
ZXIgc3BhY2UKYmFja2VuZC4gSW4gY3VycmVudCBpbXBsZW1lbnRhdGlvbiB0aGV5IGNhbid0IGJl
IGRpc3Rpbmd1aXNoZWQgYXMgYm90aCB1c2UKVktCRCBiYWNrZW5kIHR5cGUuIEFzIHJlc3VsdCwg
dXNlciBzcGFjZSBLQkQgYmFja2VuZCBpcyBzdGFydGVkIGFuZApzdG9wcGVkIGFzIFFFTVUgYmFj
a2VuZC4gVGhpcyBjb21taXQgYWRkcyBuZXcgZGV2aWNlIGtpbmQgVklOUFVUIHRvIGJlCnVzZWQg
YXMgYmFja2VuZCB0eXBlIGZvciB1c2VyIHNwYWNlIEtCRCBiYWNrZW5kLgoKU2lnbmVkLW9mZi1i
eTogT2xla3NhbmRyIEdyeXRzb3YgPG9sZWtzYW5kcl9ncnl0c292QGVwYW0uY29tPgotLS0KIHRv
b2xzL2xpYnhsL2xpYnhsX3R5cGVzX2ludGVybmFsLmlkbCB8ICAxICsKIHRvb2xzL2xpYnhsL2xp
YnhsX3ZrYi5jICAgICAgICAgICAgICB8IDI5ICsrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0K
IDIgZmlsZXMgY2hhbmdlZCwgMjAgaW5zZXJ0aW9ucygrKSwgMTAgZGVsZXRpb25zKC0pCgpkaWZm
IC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfdHlwZXNfaW50ZXJuYWwuaWRsIGIvdG9vbHMvbGli
eGwvbGlieGxfdHlwZXNfaW50ZXJuYWwuaWRsCmluZGV4IGNiODVjM2IzN2YuLjM1OTNlMjFkYmIg
MTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX3R5cGVzX2ludGVybmFsLmlkbAorKysgYi90
b29scy9saWJ4bC9saWJ4bF90eXBlc19pbnRlcm5hbC5pZGwKQEAgLTMxLDYgKzMxLDcgQEAgbGli
eGxfX2RldmljZV9raW5kID0gRW51bWVyYXRpb24oImRldmljZV9raW5kIiwgWwogICAgICgxMywg
IlZVQVJUIiksCiAgICAgKDE0LCAiUFZDQUxMUyIpLAogICAgICgxNSwgIlZTTkQiKSwKKyAgICAo
MTYsICJWSU5QVVQiKSwKICAgICBdKQogCiBsaWJ4bF9fY29uc29sZV9iYWNrZW5kID0gRW51bWVy
YXRpb24oImNvbnNvbGVfYmFja2VuZCIsIFsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhs
X3ZrYi5jIGIvdG9vbHMvbGlieGwvbGlieGxfdmtiLmMKaW5kZXggMjYzNzZhN2VlZi4uNGM0NGE4
MTNjMSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfdmtiLmMKKysrIGIvdG9vbHMvbGli
eGwvbGlieGxfdmtiLmMKQEAgLTM4LDkgKzM4LDYgQEAgc3RhdGljIGludCBsaWJ4bF9fc2V0X3hl
bnN0b3JlX3ZrYihsaWJ4bF9fZ2MgKmdjLCB1aW50MzJfdCBkb21pZCwKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZmxleGFycmF5X3QgKmJhY2ssIGZsZXhhcnJheV90ICpmcm9u
dCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleGFycmF5X3QgKnJvX2Zy
b250KQogewotICAgIGZsZXhhcnJheV9hcHBlbmRfcGFpcihiYWNrLCAiYmFja2VuZC10eXBlIiwK
LSAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYXIgKilsaWJ4bF92a2JfYmFja2VuZF90b19z
dHJpbmcodmtiLT5iYWNrZW5kX3R5cGUpKTsKLQogICAgIGlmICh2a2ItPnVuaXF1ZV9pZCkgewog
ICAgICAgICBmbGV4YXJyYXlfYXBwZW5kX3BhaXIoYmFjaywgWEVOS0JEX0ZJRUxEX1VOSVFVRV9J
RCwgdmtiLT51bmlxdWVfaWQpOwogICAgIH0KQEAgLTkzLDcgKzkwLDggQEAgc3RhdGljIGludCBs
aWJ4bF9fdmtiX2Zyb21feGVuc3RvcmUobGlieGxfX2djICpnYywgY29uc3QgY2hhciAqbGlieGxf
cGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnhsX2RldmlkIGRl
dmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfZGV2aWNlX3Zr
YiAqdmtiKQogewotICAgIGNvbnN0IGNoYXIgKmJlX3BhdGgsICpiZV90eXBlLCAqZmVfcGF0aCwg
KnRtcDsKKyAgICBjb25zdCBjaGFyICpiZV9wYXRoLCAqZmVfcGF0aCwgKnRtcDsKKyAgICBsaWJ4
bF9fZGV2aWNlIGRldjsKICAgICBpbnQgcmM7CiAKICAgICB2a2ItPmRldmlkID0gZGV2aWQ7CkBA
IC0xMTEsMTMgKzEwOSwxMSBAQCBzdGF0aWMgaW50IGxpYnhsX192a2JfZnJvbV94ZW5zdG9yZShs
aWJ4bF9fZ2MgKmdjLCBjb25zdCBjaGFyICpsaWJ4bF9wYXRoLAogICAgIHJjID0gbGlieGxfX2Jh
Y2tlbmRwYXRoX3BhcnNlX2RvbWlkKGdjLCBiZV9wYXRoLCAmdmtiLT5iYWNrZW5kX2RvbWlkKTsK
ICAgICBpZiAocmMpIGdvdG8gb3V0OwogCi0gICAgcmMgPSBsaWJ4bF9feHNfcmVhZF9tYW5kYXRv
cnkoZ2MsIFhCVF9OVUxMLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdDU1BS
SU5URigiJXMvYmFja2VuZC10eXBlIiwgYmVfcGF0aCksCi0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJmJlX3R5cGUpOworICAgIHJjID0gbGlieGxfX3BhcnNlX2JhY2tlbmRfcGF0
aChnYywgYmVfcGF0aCwgJmRldik7CiAgICAgaWYgKHJjKSBnb3RvIG91dDsKIAotICAgIHJjID0g
bGlieGxfdmtiX2JhY2tlbmRfZnJvbV9zdHJpbmcoYmVfdHlwZSwgJnZrYi0+YmFja2VuZF90eXBl
KTsKLSAgICBpZiAocmMpIGdvdG8gb3V0OworICAgIHZrYi0+YmFja2VuZF90eXBlID0gZGV2LmJh
Y2tlbmRfa2luZCA9PSBMSUJYTF9fREVWSUNFX0tJTkRfVklOUFVUID8KKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTElCWExfVktCX0JBQ0tFTkRfTElOVVggOiBM
SUJYTF9WS0JfQkFDS0VORF9RRU1VOwogCiAgICAgdmtiLT51bmlxdWVfaWQgPSB4c19yZWFkKENU
WC0+eHNoLCBYQlRfTlVMTCwgR0NTUFJJTlRGKCIlcy8iWEVOS0JEX0ZJRUxEX1VOSVFVRV9JRCwg
YmVfcGF0aCksIE5VTEwpOwogCkBAIC0yMTgsNiArMjE0LDIwIEBAIG91dDoKICAgICByZXR1cm4g
cmM7CiB9CiAKK3N0YXRpYyBpbnQgbGlieGxfX2RldmljZV9mcm9tX3ZrYihsaWJ4bF9fZ2MgKmdj
LCB1aW50MzJfdCBkb21pZCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJ4
bF9kZXZpY2VfdmtiICp0eXBlLCBsaWJ4bF9fZGV2aWNlICpkZXZpY2UpCit7CisgICAgZGV2aWNl
LT5iYWNrZW5kX2RldmlkICAgPSB0eXBlLT5kZXZpZDsKKyAgICBkZXZpY2UtPmJhY2tlbmRfZG9t
aWQgICA9IHR5cGUtPmJhY2tlbmRfZG9taWQ7CisgICAgZGV2aWNlLT5iYWNrZW5kX2tpbmQgICAg
PSB0eXBlLT5iYWNrZW5kX3R5cGUgPT0gTElCWExfVktCX0JBQ0tFTkRfTElOVVggPworICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTElCWExfX0RFVklDRV9LSU5EX1ZJTlBVVCA6IExJQlhM
X19ERVZJQ0VfS0lORF9WS0JEOworICAgIGRldmljZS0+ZGV2aWQgICAgICAgICAgID0gdHlwZS0+
ZGV2aWQ7CisgICAgZGV2aWNlLT5kb21pZCAgICAgICAgICAgPSBkb21pZDsKKyAgICBkZXZpY2Ut
PmtpbmQgICAgICAgICAgICA9IExJQlhMX19ERVZJQ0VfS0lORF9WS0JEOworCisgICAgcmV0dXJu
IDA7Cit9CisKIGludCBsaWJ4bF9kZXZpY2VfdmtiX2FkZChsaWJ4bF9jdHggKmN0eCwgdWludDMy
X3QgZG9taWQsIGxpYnhsX2RldmljZV92a2IgKnZrYiwKICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBsaWJ4bF9hc3luY29wX2hvdyAqYW9faG93KQogewpAQCAtMzE4LDcgKzMyOCw2IEBA
IG91dDoKICAgICAgcmV0dXJuIHJjOwogfQogCi1zdGF0aWMgTElCWExfREVGSU5FX0RFVklDRV9G
Uk9NX1RZUEUodmtiKQogc3RhdGljIExJQlhMX0RFRklORV9VUERBVEVfREVWSUQodmtiKQogCiAj
ZGVmaW5lIGxpYnhsX19hZGRfdmticyBOVUxMCi0tIAoyLjE3LjEKCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhl
bi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3Jn
L21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6BF68D0368
	for <lists+xen-devel@lfdr.de>; Wed,  9 Oct 2019 00:27:27 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iHxto-0004sx-3S; Tue, 08 Oct 2019 22:24:08 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=M61b=YB=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iHxtl-0004ss-OF
 for xen-devel@lists.xenproject.org; Tue, 08 Oct 2019 22:24:05 +0000
X-Inumbo-ID: 5630e350-ea1a-11e9-97da-12813bfff9fa
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 5630e350-ea1a-11e9-97da-12813bfff9fa;
 Tue, 08 Oct 2019 22:24:05 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 27E6220873;
 Tue,  8 Oct 2019 22:24:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1570573444;
 bh=vI9C7qlLDLrNQzU8freQtYqBKpeAcOQy3ZxNjPmIu6A=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=FmNxmOZK2bM5xXFP1/kIDpto3nuj05krvlBSczlYOgGJFpzgo2Tjxs43KxJlNvBno
 CUkofFXPp8KtIoBrK/hGUayeGOzHzBgXBklWGO0Vh5bJZVrLM+dE3KpQm9tiQNJiXr
 obkGJvbH6CicYKnVGQulyI5k22y64Xbf2ayQT7ew=
Date: Tue, 8 Oct 2019 15:24:03 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <c9b7bd90-344c-77a1-0191-c215f1b201c1@arm.com>
Message-ID: <alpine.DEB.2.21.1910081422040.13684@sstabellini-ThinkPad-T480s>
References: <20190917160202.16770-1-julien.grall@arm.com>
 <alpine.DEB.2.21.1909191613060.19418@sstabellini-ThinkPad-T480s>
 <5a093a67-51f6-2d3d-6a98-87753cf4d186@arm.com>
 <alpine.DEB.2.21.1909200813510.3272@sstabellini-ThinkPad-T480s>
 <72de38de-2856-8873-ed70-6c354786bba3@arm.com>
 <alpine.DEB.2.21.1910021756570.2691@sstabellini-ThinkPad-T480s>
 <40fc893e-2739-2fec-4b17-2aaa733ddc6c@arm.com>
 <alpine.DEB.2.21.1910071620140.13684@sstabellini-ThinkPad-T480s>
 <c9b7bd90-344c-77a1-0191-c215f1b201c1@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [[PATCH for-4.13]] xen/arm: mm: Allow generic xen
 page-tables helpers to be called early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 nd <nd@arm.com>, Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVHVlLCA4IE9jdCAyMDE5LCBKdWxpZW4gR3JhbGwgd3JvdGU6Cj4gT24gMTAvOC8xOSAxOjE4
IEFNLCBTdGVmYW5vIFN0YWJlbGxpbmkgd3JvdGU6Cj4gPiBPbiBNb24sIDcgT2N0IDIwMTksIEp1
bGllbiBHcmFsbCB3cm90ZToKPiA+ID4gSGksCj4gPiA+IAo+ID4gPiBPbiAwMy8xMC8yMDE5IDAy
OjAyLCBTdGVmYW5vIFN0YWJlbGxpbmkgd3JvdGU6Cj4gPiA+ID4gT24gRnJpLCAyMCBTZXAgMjAx
OSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+ID4gPiA+ID4gVGhhdCdzIG5vdCBjb3JyZWN0LiBhbGxv
Y19ib290X3BhZ2VzKCkgaXMgYWN0dWFsbHkgaGVyZSB0byBhbGxvdwo+ID4gPiA+ID4gZHluYW1p
Ywo+ID4gPiA+ID4gYWxsb2NhdGlvbiBiZWZvcmUgdGhlIG1lbW9yeSBzdWJzeXN0ZW0gKGFuZCB0
aGVyZWZvcmUgdGhlIHJ1bnRpbWUKPiA+ID4gPiA+IGFsbG9jYXRvcikKPiA+ID4gPiA+IGlzIGlu
aXRpYWxpemVkLgo+ID4gPiA+IAo+ID4gPiA+IExldCBtZSBjaGFuZ2UgdGhlIHF1ZXN0aW9uIHRo
ZW46IGlzIHRoZSBzeXN0ZW1fc3RhdGUgPT0KPiA+ID4gPiBTWVNfU1RBVEVfZWFybHlfYm9vdCBj
aGVjayBzdHJpY3RseSBuZWNlc3Nhcnk/IEl0IGxvb2tzIGxpa2UgaXQgaXMgbm90Ogo+ID4gPiA+
IHRoZSBwYXRjaCB3b3VsZCB3b3JrIGV2ZW4gaWYgaXQgd2FzIGp1c3Q6Cj4gPiA+IAo+ID4gPiBJ
IGhhZCBhIGZldyB0aG91Z2h0cyBhYm91dCBpdC4gT24gQXJtMzIsIHRoaXMgb25seSByZWFsbHkg
d29ya3MgZm9yCj4gPiA+IDMyLWJpdHMgbWFjaGluZSBhZGRyZXNzIChpdCBjYW4gZ28gdXAgdG8g
NDAtYml0cykuIEkgaGF2ZW4ndCByZWFsbHkKPiA+ID4gZnVsbHkgaW52ZXN0aWdhdGVkIHdoYXQg
Y291bGQgZ28gd3JvbmcsIGJ1dCBpdCB3b3VsZCBiZSBiZXN0IHRvIGtlZXAgaXQKPiA+ID4gb25s
eSBmb3IgZWFybHkgYm9vdC4KPiA+ID4gCj4gPiA+IEFsc28sIEkgZG9uJ3QgcmVhbGx5IHdhbnQg
dG8gcmVseSBvbiB0aGlzICJ3b3JrYXJvdW5kIiBhZnRlciBib290LiBNYXliZQo+ID4gPiB3ZSB3
b3VsZCB3YW50IHRvIGtlZXAgdGhlbSB1bm1hcHBlZCBpbiB0aGUgZnV0dXJlLgo+ID4gCj4gPiBZ
ZXMsIG5vIHByb2JsZW1zLCB3ZSBhZ3JlZSBvbiB0aGF0LiBJIGFtIG5vdCBhc2tpbmcgaW4gcmVn
YXJkcyB0byB0aGUKPiA+IGNoZWNrIHN5c3RlbV9zdGF0ZSA9PSBTWVNfU1RBVEVfZWFybHlfYm9v
dCB3aXRoIHRoZSBnb2FsIG9mIGFza2luZyB5b3UKPiA+IHRvIGdldCByaWQgb2YgaXQuIEkgYW0g
ZmluZSB3aXRoIGtlZXBpbmcgdGhlIGNoZWNrLiAoTWF5YmUgd2Ugd2FudCB0byBhZGQKPiA+IGFu
IGB1bmxpa2VseSgpJyBhcm91bmQgdGhlIGNoZWNrLikKPiA+IAo+ID4gSSBhbSB0cnlpbmcgdG8g
dW5kZXJzdGFuZCB3aGV0aGVyIHRoZSBjb2RlIGFjdHVhbGx5IHJlbGllcyBvbgo+ID4gc3lzdGVt
X3N0YXRlID09IFNZU19TVEFURV9lYXJseV9ib290LCBhbmQsIGlmIHNvLCB3aHkuIFRoZSBnb2Fs
IGlzIHRvCj4gPiBtYWtlIHN1cmUgdGhhdCBpZiB0aGVyZSBhcmUgc29tZSBsaW1pdGF0aW9ucyB0
aGF0IHRoZXkgYXJlIGRvY3VtZW50ZWQsCj4gPiBvciBqdXN0IHRvIGRvdWJsZS1jaGVjayB0aGF0
IHRoZXJlIGFyZSBubyBsaW1pdGF0aW9ucy4KPiAKPiBUaGUgY2hlY2sgaXMgbm90IHN0cmljdGx5
IG5lY2Vzc2FyeS4KPiAKPiA+IAo+ID4gSW4gcmVnYXJkcyB0byB5b3VyIGNvbW1lbnQgYWJvdXQg
b25seSB3b3JraW5nIGZvciAzMi1iaXQgYWRkcmVzc2VzIG9uCj4gPiBBcm0zMiwgeW91IGhhdmUg
YSBwb2ludC4gQXQgbGVhc3Qgd2Ugc2hvdWxkIGJlIGNhcmVmdWwgd2l0aCB0aGUgbWZuIHRvCj4g
PiB2YWRkciBjb252ZXJzaW9uIGJlY2F1c2UgbWZuX3RvX21hZGRyIHJldHVybnMgYSBwYWRkcl90
IHdoaWNoIGlzIDY0LWJpdAo+ID4gYW5kIHZhZGRyX3QgaXMgMzItYml0LiBJIGltYWdpbmUgdGhh
dCB0aGVvcmV0aWNhbGx5LCBldmVuIHdpdGgKPiA+IHN5c3RlbV9zdGF0ZSA9PSBTWVNfU1RBVEVf
ZWFybHlfYm9vdCwgaXQgY291bGQgZ2V0IHRydW5jYXRlZCB3aXRoIHRoZQo+ID4gd3JvbmcgY29t
YmluYXRpb24gb2YgbWZuIGFuZCBwaHlzX29mZnNldC4KPiA+IAo+ID4gSWYgbm90aGluZyBlbHNl
LCBtYXliZSB3ZSBzaG91bGQgYWRkIGEgdHJ1bmNhdGlvbiBjaGVjayBmb3Igc2FmZXR5Pwo+IAo+
IEV4Y2VwdCB0aGF0IHBoeXNfb2Zmc2V0IGlzIG5vdCBkZWZpbmVkIGNvcnJlY3RseSwgc28geW91
ciBjaGVjayBiZWxvdyB3aWxsCj4gYnJlYWsgc29tZSBzZXR1cCA6KC4gTGV0J3MgdGFrZSB0aGUg
Zm9sbG93aW5nIGV4YW1wbGU6Cj4gCj4gICAgWGVuIGlzIGxvYWRlZCBhdCBQQSAweDEwMDAwMAo+
IAo+IFRoZSBib290IG9mZnNldCBpcyBjb21wdXRlZCB1c2luZyAzMi1iaXQgYWRkcmVzcyAoc2Vl
IGhlYWQuUyk6Cj4gICAgIFBBIC0gVkEgPSAweDEwMDAwMCAtIDB4MjAwMDAwCj4gICAgICAgICAg
ICAgPSAweGZmZjAwMDAwCj4gCj4gVGhpcyB2YWx1ZSB3aWxsIGJlIHBhc3NlZCB0byBDIGNvZGUg
YXMgYW4gdW5zaWduZWQgbG9uZy4gQnV0IHRoZW4gd2Ugd2lsbAo+IHN0b3JlIGl0IGluIGEgdWlu
dDY0X3QvcGFkZHJfdCAoc2VlIHBoeXNfb2Zmc2V0IHdoaWNoIGlzIHNldCBpbgo+IHNldHVwX3Bh
Z2VfdGFibGVzKS4gQmVjYXVzZSB0aGlzIGlzIGEgY29udmVyc2lvbiBmcm9tIHVuc2lnbmVkIHRv
IHVuc2lnbmVkLAo+IHRoZSAic2lnbiBiaXQiIHdpbGwgbm90IGJlIHByb3BhZ2F0ZWQuCj4KPiBU
aGlzIG1lYW5zIHRoYXQgcGh5c19vZmZzZXQgd2lsbCBiZSBlcXVhbCB0byAweGZmZjAwMDAwIGFu
ZCBub3QKPiAweGZmZmZmZmZmZmZmMDAwMDAhCj4gCj4gVGhlcmVmb3JlIGlmIHdlIHRyeSB0byBj
b252ZXJ0IDB4MTAwMDAwICh3aGVyZSBYZW4gaGFzIGJlZW4gbG9hZGVkKSBiYWNrIHRvCj4gaXRz
IFZBLCB0aGUgcmVzdWx0aW5nIHZhbHVlIHdpbGwgYmUgMHhmZmZmZmZmZjAwMjAwMTAwLgo+Cj4g
TG9va2luZyBhdCB0aGUgY29kZSwgSSB0aGluayBwdGVfb2ZfeGVuYWRkcigpIGhhcyBhbHNvIHRo
ZSBleGFjdCBwcm9ibGVtLiA6KAoKT25lIHdheSB0byBmaXggaXQgd291bGQgYmUgdG8gY2hhbmdl
IHBoeXNfb2Zmc2V0IHRvIHJlZ2lzdGVyX3QgKG9yIGp1c3QKZGVjbGFyZSBpdCBhcyB1bnNpZ25l
ZCBsb25nIG9uIGFybTMyIGFuZCB1bnNpZ25lZCBsb25nIGxvbmcgb24gYXJtNjQpOgoKZGlmZiAt
LWdpdCBhL3hlbi9hcmNoL2FybS9tbS5jIGIveGVuL2FyY2gvYXJtL21tLmMKaW5kZXggYmUyM2Fj
ZmUyNi4uYzdlYWQzOTY1NCAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL21tLmMKKysrIGIveGVu
L2FyY2gvYXJtL21tLmMKQEAgLTE3MCw3ICsxNzAsNyBAQCBzdGF0aWMgREVGSU5FX1BBR0VfVEFC
TEUoeGVuX3hlbm1hcCk7CiAvKiBOb24tYm9vdCBDUFVzIHVzZSB0aGlzIHRvIGZpbmQgdGhlIGNv
cnJlY3QgcGFnZXRhYmxlcy4gKi8KIHVpbnQ2NF90IGluaXRfdHRicjsKIAotc3RhdGljIHBhZGRy
X3QgcGh5c19vZmZzZXQ7CitzdGF0aWMgcmVnaXN0ZXJfdCBwaHlzX29mZnNldDsKIAogLyogTGlt
aXRzIG9mIHRoZSBYZW4gaGVhcCAqLwogbWZuX3QgeGVuaGVhcF9tZm5fc3RhcnQgX19yZWFkX21v
c3RseSA9IElOVkFMSURfTUZOX0lOSVRJQUxJWkVSOwoKSXQgd291bGQgd29yayBPSyBmb3Igdmly
dHVhbCB0byBwaHlzaWNhbCBjb252ZXJzaW9ucy4gUGh5c2ljYWwgdG8KdmlydHVhbCBpcyBtb3Jl
IGNoYWxsZW5naW5nIGJlY2F1c2UgcGh5c2ljYWwgY291bGQgZ28gdXAgdG8gNDBiaXRzLgpGb3J0
dW5hdGVseSwgaXQgZG9lc24ndCBsb29rIGxpa2Ugd2UgYXJlIHVzaW5nIHBoeXNfb2Zmc2V0IHRv
IGRvIG1hbnkKcGh5cy10by12aXJ0IGNvbnZlcnNpb25zLiBUaGUgb25seSBleGFtcGxlIGlzIHRo
ZSBvbmUgaW4gdGhpcyBwYXRjaCwKYW5kIGR1bXBfaHlwX3dhbGsuCgoKPiBJIGd1ZXNzIG5vYm9k
eSB0cmllZCB0byBsb2FkIFhlbiB0aGF0IGxvdyBpbiBtZW1vcnkgb24gQXJtMzI/IEJ1dCB0aGF0
J3MgZ29pbmcKPiB0byBiZSBkZWZpbml0ZWx5IGFuIGlzc3VlcyB3aXRoIHRoZSBtZW1vcnkgcmV3
b3JrIEkgaGF2ZSBpbiBtaW5kLgo+IAo+IEkgaGF2ZSBzb21lIG90aGVyIGltcG9ydGFudCB3b3Jr
IHRvIGZpbmlzaCBmb3IgWGVuIDQuMTMuIFNvIEkgYW0gdGhpbmtpbmcgdG8KPiBkZWZlciB0aGUg
cHJvYmxlbSBJIG1lbnRpb24gYWJvdmUgZm9yIHBvc3QgWGVuIDQuMTMuIEFsdGhvdWdoLCB0aGUg
R1JVQiBpc3N1ZXMKPiB3b3VsZCBzdGlsbCBuZWVkIHRvIGJlIGZpeC4gQW55IG9waW5pb25zPwoK
SSB0aGluayBmb3IgWGVuIDQuMTMgSSB3b3VsZCBsaWtlIHRvIGdldCBpbiB5b3VyIHBhdGNoIHRv
IGZpeCBHUlVCCmJvb3RpbmcsIHdpdGggYSBsaXR0bGUgYml0IG1vcmUgYXR0ZW50aW9uIHRvIGlu
dGVnZXIgaXNzdWVzLiBTb21ldGhpbmcKbGlrZSB0aGUgZm9sbG93aW5nOgoKICAgIHBhZGRyX3Qg
cGFfZW5kID0gX2VuZCArIHBoeXNfb2Zmc2V0OwogICAgcGFkZHJfdCBwYV9zdGFydCA9IF9zdGFy
dCArIHBoeXNfb2Zmc2V0OwogICAgcGFkZHJfdCBwYSA9IG1mbl90b19tYWRkcihtZm4pOwoKICAg
IGlmICggcGEgPCBwYV9lbmQgJiYgcGEgPj0gcGFfc3RhcnQgKQogICAgICAgIHJldHVybiAobHBh
ZV90ICopKHZhZGRyX3QpKHBhIC0gcGFfc3RhcnQgKyBYRU5fVklSVF9BRERSKTsKCkkgdGhpbmsg
aXQgc2hvdWxkIHdvcmsgaWYgcGh5c19vZmZzZXQgaXMgcmVnaXN0ZXJfdC4gT3Igd2UgY291bGQg
aGF2ZSBhCmNoZWNrIG9uIHBhID49IDRHLCBzb21ldGhpbmcgbGlrZToKCiAgICBwYWRkcl90IHBh
ID0gKHJlZ2lzdGVyX3QpbWZuX3RvX21hZGRyKG1mbikgLSBwaHlzX29mZnNldDsKCiAgICBpZiAo
IG1mbl90b19tYWRkcihtZm4pIDw9IFVJTlQzMl9NQVggJiYKICAgICAgICAgcGEgPCBfZW5kICYm
CiAgICAgICAgIGlzX2tlcm5lbCgodmFkZHJfdClwYSkgKQogICAgICAgIHJldHVybiAobHBhZV90
ICopKHZhZGRyX3QpcGE7CgoKPiBOb3RlIHRoYXQgdGhpcyBpcyBhbHNvIG1vcmUgcmVhc29ucyB0
byBsaW1pdCB0aGUgdXNlIG9mICJNQSAtIHBoeXNfb2Zmc2V0Ii4gU28KPiB0aGUgbWVzcyBpcyBr
ZXB0IHRvIGJvb3QgY29kZS4KPiAKPiA+IFNvbWV0aGluZyBsaWtlIHRoZSBmb2xsb3dpbmcgYnV0
IHRoYXQgaWRlYWxseSB3b3VsZCBiZSBhcHBsaWNhYmxlIHRvCj4gPiBhcm02NCB0b28gd2l0aG91
dCBoYXZpbmcgdG8gYWRkIGFuICNpZmRlZjoKPiA+IAo+ID4gICAgICBwYWRkcl90IHBhID0gbWZu
X3RvX21hZGRyKG1mbikgLSBwaHlzX29mZnNldDsKPiA+IAo+ID4gICAgICBpZiAoIHBhIDwgX2Vu
ZCAmJiBpc19rZXJuZWwoKHZhZGRyX3QpcGEpICkKPiA+ICAgICAgICAgIHJldHVybiAobHBhZV90
ICopKHZhZGRyX3QpcGE7CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0
Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRl
dmVs

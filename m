Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 021CBFC364
	for <lists+xen-devel@lfdr.de>; Thu, 14 Nov 2019 10:59:46 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iVBsm-0006Cf-Ae; Thu, 14 Nov 2019 09:57:44 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=RDJJ=ZG=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1iVBsl-0006Ca-9C
 for xen-devel@lists.xenproject.org; Thu, 14 Nov 2019 09:57:43 +0000
X-Inumbo-ID: 323986b0-06c5-11ea-b678-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 323986b0-06c5-11ea-b678-bc764e2007e4;
 Thu, 14 Nov 2019 09:57:41 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id C0FE2AE35;
 Thu, 14 Nov 2019 09:57:39 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Thu, 14 Nov 2019 10:57:37 +0100
Message-Id: <20191114095737.23287-1-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
Subject: [Xen-devel] [PATCH for-4.13] xen/x86: add debug key for printing
 vulnerability settings
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Andrew Cooper <andrew.cooper3@citrix.com>,
 Wei Liu <wl@xen.org>, Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIG9ubHkgd2F5IHRvIG9idGFpbiB0aGUgY3VycmVudCB2dWxuZXJhYmlsaXR5IHNldHRpbmdz
IG9mIFhlbiBpcyB0bwpsb29rIGF0IHRoZSBoeXBlcnZpc29yIGJvb3QgbWVzc2FnZXMuIE9mdGVu
IGVub3VnaCB0aGUgYnVmZmVyIGhhcwp3cmFwcGVkIG1ha2luZyBpdCBpbXBvc3NpYmxlIHRvIHJl
dHJpZXZlIHRoYXQgaW5mb3JtYXRpb24uCgpBZGQgYSBkZWJ1ZyBrZXkgJ2InIChsaWtlICJidWdz
IikgZm9yIHRoYXQgcHVycG9zZS4KClNpZ25lZC1vZmYtYnk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9z
c0BzdXNlLmNvbT4KLS0tClRoaXMgbWlnaHQgd2FudCB0byBnbyBpbnRvIDQuMTMKLS0tCiB4ZW4v
YXJjaC94ODYvcHYvZG9tYWluLmMgfCAgMiArLQogeGVuL2FyY2gveDg2L3NwZWNfY3RybC5jIHwg
NTggKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAyIGZp
bGVzIGNoYW5nZWQsIDMyIGluc2VydGlvbnMoKyksIDI4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL3g4Ni9wdi9kb21haW4uYyBiL3hlbi9hcmNoL3g4Ni9wdi9kb21haW4uYwpp
bmRleCA0YjZmNDhkZWEyLi4zYzkzMGNmZmFhIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvcHYv
ZG9tYWluLmMKKysrIGIveGVuL2FyY2gveDg2L3B2L2RvbWFpbi5jCkBAIC0zNDMsNyArMzQzLDcg
QEAgaW50IHB2X2RvbWFpbl9pbml0aWFsaXNlKHN0cnVjdCBkb21haW4gKmQpCiAgICAgcmV0dXJu
IHJjOwogfQogCi1ib29sIF9faW5pdCB4cHRpX3BjaWRfZW5hYmxlZCh2b2lkKQorYm9vbCB4cHRp
X3BjaWRfZW5hYmxlZCh2b2lkKQogewogICAgIHJldHVybiB1c2VfaW52cGNpZCAmJiBjcHVfaGFz
X3BjaWQgJiYKICAgICAgICAgICAgKG9wdF9wY2lkID09IFBDSURfQUxMIHx8IG9wdF9wY2lkID09
IFBDSURfWFBUSSk7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvc3BlY19jdHJsLmMgYi94ZW4v
YXJjaC94ODYvc3BlY19jdHJsLmMKaW5kZXggYWE2MzJiZGNlZS4uZGNlMTAxZTljMyAxMDA2NDQK
LS0tIGEveGVuL2FyY2gveDg2L3NwZWNfY3RybC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9zcGVjX2N0
cmwuYwpAQCAtMTgsNiArMTgsNyBAQAogICovCiAjaW5jbHVkZSA8eGVuL2Vycm5vLmg+CiAjaW5j
bHVkZSA8eGVuL2luaXQuaD4KKyNpbmNsdWRlIDx4ZW4va2V5aGFuZGxlci5oPgogI2luY2x1ZGUg
PHhlbi9saWIuaD4KICNpbmNsdWRlIDx4ZW4vd2FybmluZy5oPgogCkBAIC0zNSw4ICszNiw4IEBA
IHN0YXRpYyBib29sIF9faW5pdGRhdGEgb3B0X21zcl9zY19wdiA9IHRydWU7CiBzdGF0aWMgYm9v
bCBfX2luaXRkYXRhIG9wdF9tc3Jfc2NfaHZtID0gdHJ1ZTsKIHN0YXRpYyBib29sIF9faW5pdGRh
dGEgb3B0X3JzYl9wdiA9IHRydWU7CiBzdGF0aWMgYm9vbCBfX2luaXRkYXRhIG9wdF9yc2JfaHZt
ID0gdHJ1ZTsKLXN0YXRpYyBpbnQ4X3QgX19pbml0ZGF0YSBvcHRfbWRfY2xlYXJfcHYgPSAtMTsK
LXN0YXRpYyBpbnQ4X3QgX19pbml0ZGF0YSBvcHRfbWRfY2xlYXJfaHZtID0gLTE7CitzdGF0aWMg
aW50OF90IG9wdF9tZF9jbGVhcl9wdiA9IC0xOworc3RhdGljIGludDhfdCBvcHRfbWRfY2xlYXJf
aHZtID0gLTE7CiAKIC8qIENtZGxpbmUgY29udHJvbHMgZm9yIFhlbidzIHNwZWN1bGF0aXZlIHNl
dHRpbmdzLiAqLwogc3RhdGljIGVudW0gaW5kX3RodW5rIHsKQEAgLTU5LDEyICs2MCwxNSBAQCB1
aW50OF90IF9fcmVhZF9tb3N0bHkgZGVmYXVsdF94ZW5fc3BlY19jdHJsOwogdWludDhfdCBfX3Jl
YWRfbW9zdGx5IGRlZmF1bHRfc3BlY19jdHJsX2ZsYWdzOwogCiBwYWRkcl90IF9fcmVhZF9tb3N0
bHkgbDF0Zl9hZGRyX21hc2ssIF9fcmVhZF9tb3N0bHkgbDF0Zl9zYWZlX21hZGRyOwotc3RhdGlj
IGJvb2wgX19pbml0ZGF0YSBjcHVfaGFzX2J1Z19sMXRmOwotc3RhdGljIHVuc2lnbmVkIGludCBf
X2luaXRkYXRhIGwxZF9tYXhwaHlzYWRkcjsKK3N0YXRpYyBib29sIGNwdV9oYXNfYnVnX2wxdGY7
CitzdGF0aWMgdW5zaWduZWQgaW50IGwxZF9tYXhwaHlzYWRkcjsKIAogc3RhdGljIGJvb2wgX19p
bml0ZGF0YSBjcHVfaGFzX2J1Z19tc2Jkc19vbmx5OyAvKiA9PiBtaW5pbWFsIEhUIGltcGFjdC4g
Ki8KIHN0YXRpYyBib29sIF9faW5pdGRhdGEgY3B1X2hhc19idWdfbWRzOyAvKiBBbnkgb3RoZXIg
TXtMUCxTQixGQn1EUyBjb21iaW5hdGlvbi4gKi8KIAorc3RhdGljIGVudW0gaW5kX3RodW5rIF9f
cmVhZF9tb3N0bHkgdGh1bmsgPSBUSFVOS19ERUZBVUxUOworc3RhdGljIHVpbnQ2NF90IF9fcmVh
ZF9tb3N0bHkgY2FjaGVkX2NhcHM7CisKIHN0YXRpYyBpbnQgX19pbml0IHBhcnNlX3NwZWNfY3Ry
bChjb25zdCBjaGFyICpzKQogewogICAgIGNvbnN0IGNoYXIgKnNzOwpAQCAtMzAwLDcgKzMwNCw3
IEBAIHN0YXRpYyBfX2luaXQgaW50IHBhcnNlX3B2X2wxdGYoY29uc3QgY2hhciAqcykKIH0KIGN1
c3RvbV9wYXJhbSgicHYtbDF0ZiIsIHBhcnNlX3B2X2wxdGYpOwogCi1zdGF0aWMgdm9pZCBfX2lu
aXQgcHJpbnRfZGV0YWlscyhlbnVtIGluZF90aHVuayB0aHVuaywgdWludDY0X3QgY2FwcykKK3N0
YXRpYyB2b2lkIHByaW50X2RldGFpbHModW5zaWduZWQgY2hhciBrZXkpCiB7CiAgICAgdW5zaWdu
ZWQgaW50IF83ZDAgPSAwLCBlOGIgPSAwLCB0bXA7CiAKQEAgLTMyMCwxNCArMzI0LDE0IEBAIHN0
YXRpYyB2b2lkIF9faW5pdCBwcmludF9kZXRhaWxzKGVudW0gaW5kX3RodW5rIHRodW5rLCB1aW50
NjRfdCBjYXBzKQogICAgICAgICAgICAoXzdkMCAmIGNwdWZlYXRfbWFzayhYODZfRkVBVFVSRV9T
U0JEKSkgID8gIiBTU0JEIiAgICAgIDogIiIsCiAgICAgICAgICAgIChfN2QwICYgY3B1ZmVhdF9t
YXNrKFg4Nl9GRUFUVVJFX01EX0NMRUFSKSkgPyAiIE1EX0NMRUFSIiA6ICIiLAogICAgICAgICAg
ICAoZThiICAmIGNwdWZlYXRfbWFzayhYODZfRkVBVFVSRV9JQlBCKSkgID8gIiBJQlBCIiAgICAg
IDogIiIsCi0gICAgICAgICAgIChjYXBzICYgQVJDSF9DQVBTX0lCUlNfQUxMKSAgICAgICAgICAg
ICAgPyAiIElCUlNfQUxMIiAgOiAiIiwKLSAgICAgICAgICAgKGNhcHMgJiBBUkNIX0NBUFNfUkRD
TF9OTykgICAgICAgICAgICAgICA/ICIgUkRDTF9OTyIgICA6ICIiLAotICAgICAgICAgICAoY2Fw
cyAmIEFSQ0hfQ0FQU19SU0JBKSAgICAgICAgICAgICAgICAgID8gIiBSU0JBIiAgICAgIDogIiIs
Ci0gICAgICAgICAgIChjYXBzICYgQVJDSF9DQVBTX1NLSVBfTDFERkwpICAgICAgICAgICAgPyAi
IFNLSVBfTDFERkwiOiAiIiwKLSAgICAgICAgICAgKGNhcHMgJiBBUkNIX0NBUFNfU1NCX05PKSAg
ICAgICAgICAgICAgICA/ICIgU1NCX05PIiAgICA6ICIiLAotICAgICAgICAgICAoY2FwcyAmIEFS
Q0hfQ0FQU19NRFNfTk8pICAgICAgICAgICAgICAgID8gIiBNRFNfTk8iICAgIDogIiIsCi0gICAg
ICAgICAgIChjYXBzICYgQVJDSF9DQVBTX1RTWF9DVFJMKSAgICAgICAgICAgICAgPyAiIFRTWF9D
VFJMIiAgOiAiIiwKLSAgICAgICAgICAgKGNhcHMgJiBBUkNIX0NBUFNfVEFBX05PKSAgICAgICAg
ICAgICAgICA/ICIgVEFBX05PIiAgICA6ICIiKTsKKyAgICAgICAgICAgKGNhY2hlZF9jYXBzICYg
QVJDSF9DQVBTX0lCUlNfQUxMKSAgICAgICA/ICIgSUJSU19BTEwiICA6ICIiLAorICAgICAgICAg
ICAoY2FjaGVkX2NhcHMgJiBBUkNIX0NBUFNfUkRDTF9OTykgICAgICAgID8gIiBSRENMX05PIiAg
IDogIiIsCisgICAgICAgICAgIChjYWNoZWRfY2FwcyAmIEFSQ0hfQ0FQU19SU0JBKSAgICAgICAg
ICAgPyAiIFJTQkEiICAgICAgOiAiIiwKKyAgICAgICAgICAgKGNhY2hlZF9jYXBzICYgQVJDSF9D
QVBTX1NLSVBfTDFERkwpICAgICA/ICIgU0tJUF9MMURGTCI6ICIiLAorICAgICAgICAgICAoY2Fj
aGVkX2NhcHMgJiBBUkNIX0NBUFNfU1NCX05PKSAgICAgICAgID8gIiBTU0JfTk8iICAgIDogIiIs
CisgICAgICAgICAgIChjYWNoZWRfY2FwcyAmIEFSQ0hfQ0FQU19NRFNfTk8pICAgICAgICAgPyAi
IE1EU19OTyIgICAgOiAiIiwKKyAgICAgICAgICAgKGNhY2hlZF9jYXBzICYgQVJDSF9DQVBTX1RT
WF9DVFJMKSAgICAgICA/ICIgVFNYX0NUUkwiICA6ICIiLAorICAgICAgICAgICAoY2FjaGVkX2Nh
cHMgJiBBUkNIX0NBUFNfVEFBX05PKSAgICAgICAgID8gIiBUQUFfTk8iICAgIDogIiIpOwogCiAg
ICAgLyogQ29tcGlsZWQtaW4gc3VwcG9ydCB3aGljaCBwZXJ0YWlucyB0byBtaXRpZ2F0aW9ucy4g
Ki8KICAgICBpZiAoIElTX0VOQUJMRUQoQ09ORklHX0lORElSRUNUX1RIVU5LKSB8fCBJU19FTkFC
TEVEKENPTkZJR19TSEFET1dfUEFHSU5HKSApCkBAIC0zNTAsNyArMzU0LDcgQEAgc3RhdGljIHZv
aWQgX19pbml0IHByaW50X2RldGFpbHMoZW51bSBpbmRfdGh1bmsgdGh1bmssIHVpbnQ2NF90IGNh
cHMpCiAgICAgICAgICAgIChkZWZhdWx0X3hlbl9zcGVjX2N0cmwgJiBTUEVDX0NUUkxfSUJSUykg
ID8gIklCUlMrIiA6ICAiSUJSUy0iLAogICAgICAgICAgICAhYm9vdF9jcHVfaGFzKFg4Nl9GRUFU
VVJFX1NTQkQpICAgICAgICAgICA/ICIiIDoKICAgICAgICAgICAgKGRlZmF1bHRfeGVuX3NwZWNf
Y3RybCAmIFNQRUNfQ1RSTF9TU0JEKSAgPyAiIFNTQkQrIiA6ICIgU1NCRC0iLAotICAgICAgICAg
ICAhKGNhcHMgJiBBUkNIX0NBUFNfVFNYX0NUUkwpICAgICAgICAgICAgICA/ICIiIDoKKyAgICAg
ICAgICAgIShjYWNoZWRfY2FwcyAmIEFSQ0hfQ0FQU19UU1hfQ1RSTCkgICAgICAgPyAiIiA6CiAg
ICAgICAgICAgIChvcHRfdHN4ICYgMSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gIiBU
U1grIiA6ICIgVFNYLSIsCiAgICAgICAgICAgIG9wdF9pYnBiICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgID8gIiBJQlBCIiAgOiAiIiwKICAgICAgICAgICAgb3B0X2wxZF9mbHVzaCAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAiIEwxRF9GTFVTSCIgOiAiIiwKQEAgLTg3Miwx
MyArODc2LDExIEBAIHN0YXRpYyBfX2luaXQgdm9pZCBtZHNfY2FsY3VsYXRpb25zKHVpbnQ2NF90
IGNhcHMpCiAKIHZvaWQgX19pbml0IGluaXRfc3BlY3VsYXRpb25fbWl0aWdhdGlvbnModm9pZCkK
IHsKLSAgICBlbnVtIGluZF90aHVuayB0aHVuayA9IFRIVU5LX0RFRkFVTFQ7CiAgICAgYm9vbCB1
c2Vfc3BlY19jdHJsID0gZmFsc2UsIGlicnMgPSBmYWxzZSwgaHdfc210X2VuYWJsZWQ7CiAgICAg
Ym9vbCBjcHVfaGFzX2J1Z190YWE7Ci0gICAgdWludDY0X3QgY2FwcyA9IDA7CiAKICAgICBpZiAo
IGJvb3RfY3B1X2hhcyhYODZfRkVBVFVSRV9BUkNIX0NBUFMpICkKLSAgICAgICAgcmRtc3JsKE1T
Ul9BUkNIX0NBUEFCSUxJVElFUywgY2Fwcyk7CisgICAgICAgIHJkbXNybChNU1JfQVJDSF9DQVBB
QklMSVRJRVMsIGNhY2hlZF9jYXBzKTsKIAogICAgIGh3X3NtdF9lbmFibGVkID0gY2hlY2tfc210
X2VuYWJsZWQoKTsKIApAQCAtOTA5LDcgKzkxMSw3IEBAIHZvaWQgX19pbml0IGluaXRfc3BlY3Vs
YXRpb25fbWl0aWdhdGlvbnModm9pZCkKICAgICAgICAgICAgICAqIE9uIEludGVsIGhhcmR3YXJl
LCB3ZSdkIGxpa2UgdG8gdXNlIHJldHBvbGluZSBpbiBwcmVmZXJlbmNlIHRvCiAgICAgICAgICAg
ICAgKiBJQlJTLCBidXQgb25seSBpZiBpdCBpcyBzYWZlIG9uIHRoaXMgaGFyZHdhcmUuCiAgICAg
ICAgICAgICAgKi8KLSAgICAgICAgICAgIGVsc2UgaWYgKCByZXRwb2xpbmVfc2FmZShjYXBzKSAp
CisgICAgICAgICAgICBlbHNlIGlmICggcmV0cG9saW5lX3NhZmUoY2FjaGVkX2NhcHMpICkKICAg
ICAgICAgICAgICAgICB0aHVuayA9IFRIVU5LX1JFVFBPTElORTsKICAgICAgICAgICAgIGVsc2Ug
aWYgKCBib290X2NwdV9oYXMoWDg2X0ZFQVRVUkVfSUJSU0IpICkKICAgICAgICAgICAgICAgICBp
YnJzID0gdHJ1ZTsKQEAgLTEwMTYsOSArMTAxOCw5IEBAIHZvaWQgX19pbml0IGluaXRfc3BlY3Vs
YXRpb25fbWl0aWdhdGlvbnModm9pZCkKICAgICBpZiAoIGRlZmF1bHRfeGVuX3NwZWNfY3RybCAp
CiAgICAgICAgIHNldHVwX2ZvcmNlX2NwdV9jYXAoWDg2X0ZFQVRVUkVfU0NfTVNSX0lETEUpOwog
Ci0gICAgeHB0aV9pbml0X2RlZmF1bHQoY2Fwcyk7CisgICAgeHB0aV9pbml0X2RlZmF1bHQoY2Fj
aGVkX2NhcHMpOwogCi0gICAgbDF0Zl9jYWxjdWxhdGlvbnMoY2Fwcyk7CisgICAgbDF0Zl9jYWxj
dWxhdGlvbnMoY2FjaGVkX2NhcHMpOwogCiAgICAgLyoKICAgICAgKiBCeSBkZWZhdWx0LCBlbmFi
bGUgUFYgZG9tVSBMMVRGIG1pdGlnYXRpb25zIG9uIGFsbCBMMVRGLXZ1bG5lcmFibGUKQEAgLTEw
MzksNyArMTA0MSw3IEBAIHZvaWQgX19pbml0IGluaXRfc3BlY3VsYXRpb25fbWl0aWdhdGlvbnMo
dm9pZCkKICAgICBpZiAoICFib290X2NwdV9oYXMoWDg2X0ZFQVRVUkVfTDFEX0ZMVVNIKSApCiAg
ICAgICAgIG9wdF9sMWRfZmx1c2ggPSAwOwogICAgIGVsc2UgaWYgKCBvcHRfbDFkX2ZsdXNoID09
IC0xICkKLSAgICAgICAgb3B0X2wxZF9mbHVzaCA9IGNwdV9oYXNfYnVnX2wxdGYgJiYgIShjYXBz
ICYgQVJDSF9DQVBTX1NLSVBfTDFERkwpOworICAgICAgICBvcHRfbDFkX2ZsdXNoID0gY3B1X2hh
c19idWdfbDF0ZiAmJiAhKGNhY2hlZF9jYXBzICYgQVJDSF9DQVBTX1NLSVBfTDFERkwpOwogCiAg
ICAgaWYgKCBvcHRfYnJhbmNoX2hhcmRlbiApCiAgICAgICAgIHNldHVwX2ZvcmNlX2NwdV9jYXAo
WDg2X0ZFQVRVUkVfU0NfQlJBTkNIX0hBUkRFTik7CkBAIC0xMDYxLDcgKzEwNjMsNyBAQCB2b2lk
IF9faW5pdCBpbml0X3NwZWN1bGF0aW9uX21pdGlnYXRpb25zKHZvaWQpCiAgICAgICAgICAgICAi
ZW5hYmxlZC4gIFBsZWFzZSBhc3Nlc3MgeW91ciBjb25maWd1cmF0aW9uIGFuZCBjaG9vc2UgYW5c
biIKICAgICAgICAgICAgICJleHBsaWNpdCAnc210PTxib29sPicgc2V0dGluZy4gIFNlZSBYU0Et
MjczLlxuIik7CiAKLSAgICBtZHNfY2FsY3VsYXRpb25zKGNhcHMpOworICAgIG1kc19jYWxjdWxh
dGlvbnMoY2FjaGVkX2NhcHMpOwogCiAgICAgLyoKICAgICAgKiBCeSBkZWZhdWx0LCBlbmFibGUg
UFYgYW5kIEhWTSBtaXRpZ2F0aW9ucyBvbiBNRFMtdnVsbmVyYWJsZSBoYXJkd2FyZS4KQEAgLTEw
ODksNyArMTA5MSw3IEBAIHZvaWQgX19pbml0IGluaXRfc3BlY3VsYXRpb25fbWl0aWdhdGlvbnMo
dm9pZCkKICAgICAgICAgc2V0dXBfZm9yY2VfY3B1X2NhcChYODZfRkVBVFVSRV9TQ19WRVJXX1BW
KTsKICAgICBpZiAoIG9wdF9tZF9jbGVhcl9wdiB8fCBvcHRfbWRfY2xlYXJfaHZtICkKICAgICAg
ICAgc2V0dXBfZm9yY2VfY3B1X2NhcChYODZfRkVBVFVSRV9TQ19WRVJXX0lETEUpOwotICAgIGlm
ICggb3B0X21kX2NsZWFyX2h2bSAmJiAhKGNhcHMgJiBBUkNIX0NBUFNfU0tJUF9MMURGTCkgJiYg
IW9wdF9sMWRfZmx1c2ggKQorICAgIGlmICggb3B0X21kX2NsZWFyX2h2bSAmJiAhKGNhY2hlZF9j
YXBzICYgQVJDSF9DQVBTX1NLSVBfTDFERkwpICYmICFvcHRfbDFkX2ZsdXNoICkKICAgICAgICAg
c2V0dXBfZm9yY2VfY3B1X2NhcChYODZfRkVBVFVSRV9TQ19WRVJXX0hWTSk7CiAKICAgICAvKgpA
QCAtMTEyMSw4ICsxMTIzLDggQEAgdm9pZCBfX2luaXQgaW5pdF9zcGVjdWxhdGlvbl9taXRpZ2F0
aW9ucyh2b2lkKQogICAgICAqICAgICAgIHdlIGNoZWNrIGJvdGggdG8gc3BvdCBUU1ggaW4gYSBt
aWNyb2NvZGUvY21kbGluZSBpbmRlcGVuZGVudCB3YXkuCiAgICAgICovCiAgICAgY3B1X2hhc19i
dWdfdGFhID0KLSAgICAgICAgKGNwdV9oYXNfcnRtIHx8IChjYXBzICYgQVJDSF9DQVBTX1RTWF9D
VFJMKSkgJiYKLSAgICAgICAgKGNhcHMgJiAoQVJDSF9DQVBTX01EU19OTyB8IEFSQ0hfQ0FQU19U
QUFfTk8pKSA9PSBBUkNIX0NBUFNfTURTX05POworICAgICAgICAoY3B1X2hhc19ydG0gfHwgKGNh
Y2hlZF9jYXBzICYgQVJDSF9DQVBTX1RTWF9DVFJMKSkgJiYKKyAgICAgICAgKGNhY2hlZF9jYXBz
ICYgKEFSQ0hfQ0FQU19NRFNfTk8gfCBBUkNIX0NBUFNfVEFBX05PKSkgPT0gQVJDSF9DQVBTX01E
U19OTzsKIAogICAgIC8qCiAgICAgICogT24gVEFBLWFmZmVjdGVkIGhhcmR3YXJlLCBkaXNhYmxp
bmcgVFNYIGlzIHRoZSBwcmVmZXJyZWQgbWl0aWdhdGlvbiwgdnMKQEAgLTExMzgsNyArMTE0MCw3
IEBAIHZvaWQgX19pbml0IGluaXRfc3BlY3VsYXRpb25fbWl0aWdhdGlvbnModm9pZCkKICAgICAg
KiBwbGF1c2libHkgdmFsdWUgVFNYIGhpZ2hlciB0aGFuIEh5cGVydGhyZWFkaW5nLi4uKSwgZGlz
YWJsZSBUU1ggdG8KICAgICAgKiBtaXRpZ2F0ZSBUQUEuCiAgICAgICovCi0gICAgaWYgKCBvcHRf
dHN4ID09IC0xICYmIGNwdV9oYXNfYnVnX3RhYSAmJiAoY2FwcyAmIEFSQ0hfQ0FQU19UU1hfQ1RS
TCkgJiYKKyAgICBpZiAoIG9wdF90c3ggPT0gLTEgJiYgY3B1X2hhc19idWdfdGFhICYmIChjYWNo
ZWRfY2FwcyAmIEFSQ0hfQ0FQU19UU1hfQ1RSTCkgJiYKICAgICAgICAgICgoaHdfc210X2VuYWJs
ZWQgJiYgb3B0X3NtdCkgfHwKICAgICAgICAgICAhYm9vdF9jcHVfaGFzKFg4Nl9GRUFUVVJFX1ND
X1ZFUldfSURMRSkpICkKICAgICB7CkBAIC0xMTQ5LDcgKzExNTEsNyBAQCB2b2lkIF9faW5pdCBp
bml0X3NwZWN1bGF0aW9uX21pdGlnYXRpb25zKHZvaWQpCiAgICAgICAgIHRzeF9pbml0KCk7CiAg
ICAgfQogCi0gICAgcHJpbnRfZGV0YWlscyh0aHVuaywgY2Fwcyk7CisgICAgcHJpbnRfZGV0YWls
cygnYicpOwogCiAgICAgLyoKICAgICAgKiBJZiBNU1JfU1BFQ19DVFJMIGlzIGF2YWlsYWJsZSwg
YXBwbHkgWGVuJ3MgZGVmYXVsdCBzZXR0aW5nIGFuZCBkaXNjYXJkCkBAIC0xMTgwLDYgKzExODIs
OCBAQCB2b2lkIF9faW5pdCBpbml0X3NwZWN1bGF0aW9uX21pdGlnYXRpb25zKHZvaWQpCiAKICAg
ICAgICAgd3Jtc3JsKE1TUl9TUEVDX0NUUkwsIGJzcF9kZWxheV9zcGVjX2N0cmwgPyAwIDogZGVm
YXVsdF94ZW5fc3BlY19jdHJsKTsKICAgICB9CisKKyAgICByZWdpc3Rlcl9rZXloYW5kbGVyKCdi
JywgcHJpbnRfZGV0YWlscywgImR1bXAgdnVsbmVyYWJpbGl0eSBkZXRhaWxzIiwgMSk7CiB9CiAK
IHN0YXRpYyB2b2lkIF9faW5pdCBfX21heWJlX3VudXNlZCBidWlsZF9hc3NlcnRpb25zKHZvaWQp
Ci0tIAoyLjE2LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9y
ZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

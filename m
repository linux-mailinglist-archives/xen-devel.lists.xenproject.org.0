Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id D35C346666
	for <lists+xen-devel@lfdr.de>; Fri, 14 Jun 2019 19:55:08 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hbqMr-0001pH-9s; Fri, 14 Jun 2019 17:52:01 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=PwC2=UN=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hbqMo-0001nI-EA
 for xen-devel@lists.xenproject.org; Fri, 14 Jun 2019 17:51:58 +0000
X-Inumbo-ID: 1953a0f6-8ecd-11e9-939b-63e2fa18f954
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id 1953a0f6-8ecd-11e9-939b-63e2fa18f954;
 Fri, 14 Jun 2019 17:51:55 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 75A492B;
 Fri, 14 Jun 2019 10:51:55 -0700 (PDT)
Received: from e108454-lin.cambridge.arm.com (e108454-lin.cambridge.arm.com
 [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 8DB523F718;
 Fri, 14 Jun 2019 10:51:54 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: xen-devel@lists.xenproject.org
Date: Fri, 14 Jun 2019 18:51:38 +0100
Message-Id: <20190614175144.20046-4-julien.grall@arm.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190614175144.20046-1-julien.grall@arm.com>
References: <20190614175144.20046-1-julien.grall@arm.com>
Subject: [Xen-devel] [PATCH MM-PART3 v3 3/9] xen/arm: mm: Sanity check any
 update of Xen page tables
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr_Tyshchenko@epam.com, Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGNvZGUgaGFuZGxpbmcgWGVuIFBUIHVwZGF0ZSBoYXMgcXVpdGUgYSBmZXcgcmVzdHJpY3Rp
b25zIG9uIHdoYXQgaXQKY2FuIGRvLiBUaGlzIGlzIG5vdCBhIGJhZCB0aGluZyBhcyBpdCBrZWVw
cyB0aGUgY29kZSBzaW1wbGUuCgpUaGVyZSBhcmUgYWxyZWFkeSBhIGZldyBjaGVja3Mgc2NhdHRl
cmVkIGluIGN1cnJlbnQgcGFnZSB0YWJsZSBoYW5kbGluZy4KSG93ZXZlciB0aGV5IGFyZSBub3Qg
c3VmZmljaWVudCBhcyB0aGV5IGNvdWxkIHN0aWxsIGFsbG93IHRvCm1vZGlmeS9yZW1vdmUgZW50
cnkgd2l0aCBjb250aWd1b3VzIGJpdCBzZXQuCgpUaGUgY2hlY2tzIGFyZSBkaXZpZGVkIGluIHR3
byBzZXRzOgogICAgLSBwZXIgZW50cnkgY2hlY2s6IFRoZXkgYXJlIGdhdGhlcmVkIGluIGEgbmV3
IGZ1bmN0aW9uIHRoYXQgd2lsbAogICAgY2hlY2sgd2hldGhlciBhbiB1cGRhdGUgaXMgdmFsaWQg
YmFzZWQgb24gdGhlIGZsYWdzIHBhc3NlZCBhbmQgdGhlCiAgICBjdXJyZW50IHZhbHVlIG9mIGFu
IGVudHJ5LgogICAgLSBnbG9iYWwgY2hlY2s6IFRoZXkgYXJlIHNhbml0eSBjaGVjayBvbiB4ZW5f
cHRfdXBkYXRlKCkgcGFyYW1ldGVycy4KCkFkZGl0aW9uYWxseSB0byBjb250aWd1b3VzIGNoZWNr
LCB3ZSBhbHNvIG5vdyBjaGVjayB0aGF0IHRoZSBjYWxsZXIgaXMKbm90IHRyeWluZyB0byBtb2Rp
ZnkgdGhlIG1lbW9yeSBhdHRyaWJ1dGVzIG9mIGFuIGVudHJ5LgoKTGFzdGx5LCBpdCB3YXMgcHJv
YmFibHkgYSBiaXQgb3ZlciB0aGUgdG9wIHRvIGZvcmJpZCByZW1vdmluZyBhbgppbnZhbGlkIG1h
cHBpbmcuIFRoaXMgY291bGQganVzdCBiZSBpZ25vcmVkLiBUaGUgbmV3IGJlaGF2aW9yIHdpbGwg
YmUKaGVscGZ1bCBpbiBmdXR1cmUgY2hhbmdlcy4KClNpZ25lZC1vZmYtYnk6IEp1bGllbiBHcmFs
bCA8anVsaWVuLmdyYWxsQGFybS5jb20+ClJldmlld2VkLWJ5OiBBbmRyaWkgQW5pc292IDxhbmRy
aWlfYW5pc292QGVwYW0uY29tPgoKLS0tCiAgICBDaGFuZ2VzIGluIHYzOgogICAgICAgIC0gT25s
eSBhbGxvdyBtb2RpZmljYXRpb24gb24gdmFsaWQgZW50cnkKCiAgICBDaGFuZ2VzIGluIHYyOgog
ICAgICAgIC0gQ29ycmVjdGx5IGRldGVjdCB0aGUgcmVtb3ZhbCBvZiBhIHBhZ2UKICAgICAgICAt
IEZpeCBBU1NFUlQgb24gZmxhZ3MgaW4gdGhlIGVsc2UgY2FzZQogICAgICAgIC0gQWRkIEFuZHJp
aSdzIHJldmlld2VkLWJ5Ci0tLQogeGVuL2FyY2gvYXJtL21tLmMgfCAxMjIgKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tCiAxIGZpbGUgY2hhbmdl
ZCwgMTA0IGluc2VydGlvbnMoKyksIDE4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL2FybS9tbS5jIGIveGVuL2FyY2gvYXJtL21tLmMKaW5kZXggYjEzZDlhZGY0MC4uZGNmMDQx
NTc4YiAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL21tLmMKKysrIGIveGVuL2FyY2gvYXJtL21t
LmMKQEAgLTUwLDYgKzUwLDE5IEBACiAjdW5kZWYgbWZuX3RvX3ZpcnQKICNkZWZpbmUgbWZuX3Rv
X3ZpcnQobWZuKSBfX21mbl90b192aXJ0KG1mbl94KG1mbikpCiAKKyNpZmRlZiBOREVCVUcKK3N0
YXRpYyBpbmxpbmUgdm9pZAorX19hdHRyaWJ1dGVfXyAoKF9fZm9ybWF0X18gKF9fcHJpbnRmX18s
IDEsIDIpKSkKK21tX3ByaW50ayhjb25zdCBjaGFyICpmbXQsIC4uLikge30KKyNlbHNlCisjZGVm
aW5lIG1tX3ByaW50ayhmbXQsIGFyZ3MuLi4pICAgICAgICAgICAgIFwKKyAgICBkbyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAorICAgIHsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBcCisgICAgICAgIGRwcmludGsoWEVOTE9HX0VSUiwgZm10LCAj
IyBhcmdzKTsgIFwKKyAgICAgICAgV0FSTigpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
XAorICAgIH0gd2hpbGUgKDApOworI2VuZGlmCisKICNkZWZpbmUgREVGSU5FX1BBR0VfVEFCTEVT
KG5hbWUsIG5yKSAgICAgICAgICAgICAgICAgICAgXAogbHBhZV90IF9fYWxpZ25lZChQQUdFX1NJ
WkUpIG5hbWVbTFBBRV9FTlRSSUVTICogKG5yKV0KIApAQCAtOTQxLDEyICs5NTQsODEgQEAgZW51
bSB4ZW5tYXBfb3BlcmF0aW9uIHsKICAgICBSRVNFUlZFCiB9OwogCisvKiBTYW5pdHkgY2hlY2sg
b2YgdGhlIGVudHJ5ICovCitzdGF0aWMgYm9vbCB4ZW5fcHRfY2hlY2tfZW50cnkobHBhZV90IGVu
dHJ5LCBtZm5fdCBtZm4sIHVuc2lnbmVkIGludCBmbGFncykKK3sKKyAgICAvKiBTYW5pdHkgY2hl
Y2sgd2hlbiBtb2RpZnlpbmcgYSBwYWdlLiAqLworICAgIGlmICggKGZsYWdzICYgX1BBR0VfUFJF
U0VOVCkgJiYgbWZuX2VxKG1mbiwgSU5WQUxJRF9NRk4pICkKKyAgICB7CisgICAgICAgIC8qIFdl
IGRvbid0IGFsbG93IG1vZGlmeWluZyBhbiBpbnZhbGlkIGVudHJ5LiAqLworICAgICAgICBpZiAo
ICFscGFlX2lzX3ZhbGlkKGVudHJ5KSApCisgICAgICAgIHsKKyAgICAgICAgICAgIG1tX3ByaW50
aygiTW9kaWZ5aW5nIGludmFsaWQgZW50cnkgaXMgbm90IGFsbG93ZWQuXG4iKTsKKyAgICAgICAg
ICAgIHJldHVybiBmYWxzZTsKKyAgICAgICAgfQorCisgICAgICAgIC8qIFdlIGRvbid0IGFsbG93
IGNoYW5naW5nIG1lbW9yeSBhdHRyaWJ1dGVzLiAqLworICAgICAgICBpZiAoIGVudHJ5LnB0LmFp
ICE9IFBBR0VfQUlfTUFTSyhmbGFncykgKQorICAgICAgICB7CisgICAgICAgICAgICBtbV9wcmlu
dGsoIk1vZGlmeWluZyBtZW1vcnkgYXR0cmlidXRlcyBpcyBub3QgYWxsb3dlZCAoMHgleCAtPiAw
eCV4KS5cbiIsCisgICAgICAgICAgICAgICAgICAgICAgZW50cnkucHQuYWksIFBBR0VfQUlfTUFT
SyhmbGFncykpOworICAgICAgICAgICAgcmV0dXJuIGZhbHNlOworICAgICAgICB9CisKKyAgICAg
ICAgLyogV2UgZG9uJ3QgYWxsb3cgbW9kaWZ5aW5nIGVudHJ5IHdpdGggY29udGlndW91cyBiaXQg
c2V0LiAqLworICAgICAgICBpZiAoIGVudHJ5LnB0LmNvbnRpZyApCisgICAgICAgIHsKKyAgICAg
ICAgICAgIG1tX3ByaW50aygiTW9kaWZ5aW5nIGVudHJ5IHdpdGggY29udGlndW91cyBiaXQgc2V0
IGlzIG5vdCBhbGxvd2VkLlxuIik7CisgICAgICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgICAg
IH0KKyAgICB9CisgICAgLyogU2FuaXR5IGNoZWNrIHdoZW4gaW5zZXJ0aW5nIGEgcGFnZSAqLwor
ICAgIGVsc2UgaWYgKCBmbGFncyAmIF9QQUdFX1BSRVNFTlQgKQorICAgIHsKKyAgICAgICAgLyog
V2Ugc2hvdWxkIGJlIGhlcmUgd2l0aCBhIHZhbGlkIE1GTi4gKi8KKyAgICAgICAgQVNTRVJUKCFt
Zm5fZXEobWZuLCBJTlZBTElEX01GTikpOworCisgICAgICAgIC8qIFdlIGRvbid0IGFsbG93IHJl
cGxhY2luZyBhbnkgdmFsaWQgZW50cnkuICovCisgICAgICAgIGlmICggbHBhZV9pc192YWxpZChl
bnRyeSkgKQorICAgICAgICB7CisgICAgICAgICAgICBtbV9wcmludGsoIkNoYW5naW5nIE1GTiBm
b3IgYSB2YWxpZCBlbnRyeSBpcyBub3QgYWxsb3dlZCAoJSMiUFJJX21mbiIgLT4gJSMiUFJJX21m
biIpLlxuIiwKKyAgICAgICAgICAgICAgICAgICAgICBtZm5feChscGFlX2dldF9tZm4oZW50cnkp
KSwgbWZuX3gobWZuKSk7CisgICAgICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgICAgIH0KKyAg
ICB9CisgICAgLyogU2FuaXR5IGNoZWNrIHdoZW4gcmVtb3ZpbmcgYSBwYWdlLiAqLworICAgIGVs
c2UgaWYgKCAoZmxhZ3MgJiAoX1BBR0VfUFJFU0VOVHxfUEFHRV9QT1BVTEFURSkpID09IDAgKQor
ICAgIHsKKyAgICAgICAgLyogV2Ugc2hvdWxkIGJlIGhlcmUgd2l0aCBhbiBpbnZhbGlkIE1GTi4g
Ki8KKyAgICAgICAgQVNTRVJUKG1mbl9lcShtZm4sIElOVkFMSURfTUZOKSk7CisKKyAgICAgICAg
LyogV2UgZG9uJ3QgYWxsb3cgcmVtb3ZpbmcgcGFnZSB3aXRoIGNvbnRpZ3VvdXMgYml0IHNldC4g
Ki8KKyAgICAgICAgaWYgKCBlbnRyeS5wdC5jb250aWcgKQorICAgICAgICB7CisgICAgICAgICAg
ICBtbV9wcmludGsoIlJlbW92aW5nIGVudHJ5IHdpdGggY29udGlndW91cyBiaXQgc2V0IGlzIG5v
dCBhbGxvd2VkLlxuIik7CisgICAgICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgICAgIH0KKyAg
ICB9CisgICAgLyogU2FuaXR5IGNoZWNrIHdoZW4gcG9wdWxhdGluZyB0aGUgcGFnZS10YWJsZS4g
Tm8gY2hlY2sgc28gZmFyLiAqLworICAgIGVsc2UKKyAgICB7CisgICAgICAgIEFTU0VSVChmbGFn
cyAmIF9QQUdFX1BPUFVMQVRFKTsKKyAgICAgICAgLyogV2Ugc2hvdWxkIGJlIGhlcmUgd2l0aCBh
biBpbnZhbGlkIE1GTiAqLworICAgICAgICBBU1NFUlQobWZuX2VxKG1mbiwgSU5WQUxJRF9NRk4p
KTsKKyAgICB9CisKKyAgICByZXR1cm4gdHJ1ZTsKK30KKwogc3RhdGljIGludCB4ZW5fcHRfdXBk
YXRlX2VudHJ5KGVudW0geGVubWFwX29wZXJhdGlvbiBvcCwgdW5zaWduZWQgbG9uZyBhZGRyLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1mbl90IG1mbiwgdW5zaWduZWQgaW50IGZs
YWdzKQogewogICAgIGxwYWVfdCBwdGUsICplbnRyeTsKICAgICBscGFlX3QgKnRoaXJkID0gTlVM
TDsKIAorICAgIC8qIF9QQUdFX1BPUFVMQVRFIGFuZCBfUEFHRV9QUkVTRU5UIHNob3VsZCBuZXZl
ciBiZSBzZXQgdG9nZXRoZXIuICovCisgICAgQVNTRVJUKChmbGFncyAmIChfUEFHRV9QT1BVTEFU
RXxfUEFHRV9QUkVTRU5UKSkgIT0gKF9QQUdFX1BPUFVMQVRFfF9QQUdFX1BSRVNFTlQpKTsKKwog
ICAgIGVudHJ5ID0gJnhlbl9zZWNvbmRbc2Vjb25kX2xpbmVhcl9vZmZzZXQoYWRkcildOwogICAg
IGlmICggIWxwYWVfaXNfdmFsaWQoKmVudHJ5KSB8fCAhbHBhZV9pc190YWJsZSgqZW50cnksIDIp
ICkKICAgICB7CkBAIC05NjIsMTUgKzEwNDQsMTIgQEAgc3RhdGljIGludCB4ZW5fcHRfdXBkYXRl
X2VudHJ5KGVudW0geGVubWFwX29wZXJhdGlvbiBvcCwgdW5zaWduZWQgbG9uZyBhZGRyLAogICAg
IHRoaXJkID0gbWZuX3RvX3ZpcnQobHBhZV9nZXRfbWZuKCplbnRyeSkpOwogICAgIGVudHJ5ID0g
JnRoaXJkW3RoaXJkX3RhYmxlX29mZnNldChhZGRyKV07CiAKKyAgICBpZiAoICF4ZW5fcHRfY2hl
Y2tfZW50cnkoKmVudHJ5LCBtZm4sIGZsYWdzKSApCisgICAgICAgIHJldHVybiAtRUlOVkFMOwor
CiAgICAgc3dpdGNoICggb3AgKSB7CiAgICAgICAgIGNhc2UgSU5TRVJUOgogICAgICAgICBjYXNl
IFJFU0VSVkU6Ci0gICAgICAgICAgICBpZiAoIGxwYWVfaXNfdmFsaWQoKmVudHJ5KSApCi0gICAg
ICAgICAgICB7Ci0gICAgICAgICAgICAgICAgcHJpbnRrKCIlczogdHJ5aW5nIHRvIHJlcGxhY2Ug
YW4gZXhpc3RpbmcgbWFwcGluZyBhZGRyPSVseCBtZm49JSJQUklfbWZuIlxuIiwKLSAgICAgICAg
ICAgICAgICAgICAgICAgX19mdW5jX18sIGFkZHIsIG1mbl94KG1mbikpOwotICAgICAgICAgICAg
ICAgIHJldHVybiAtRUlOVkFMOwotICAgICAgICAgICAgfQogICAgICAgICAgICAgaWYgKCBvcCA9
PSBSRVNFUlZFICkKICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgIHB0ZSA9IG1m
bl90b194ZW5fZW50cnkobWZuLCBQQUdFX0FJX01BU0soZmxhZ3MpKTsKQEAgLTk4MiwxMiArMTA2
MSw2IEBAIHN0YXRpYyBpbnQgeGVuX3B0X3VwZGF0ZV9lbnRyeShlbnVtIHhlbm1hcF9vcGVyYXRp
b24gb3AsIHVuc2lnbmVkIGxvbmcgYWRkciwKICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICBj
YXNlIE1PRElGWToKICAgICAgICAgY2FzZSBSRU1PVkU6Ci0gICAgICAgICAgICBpZiAoICFscGFl
X2lzX3ZhbGlkKCplbnRyeSkgKQotICAgICAgICAgICAgewotICAgICAgICAgICAgICAgIHByaW50
aygiJXM6IHRyeWluZyB0byAlcyBhIG5vbi1leGlzdGluZyBtYXBwaW5nIGFkZHI9JWx4XG4iLAot
ICAgICAgICAgICAgICAgICAgICAgICBfX2Z1bmNfXywgb3AgPT0gUkVNT1ZFID8gInJlbW92ZSIg
OiAibW9kaWZ5IiwgYWRkcik7Ci0gICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Ci0gICAg
ICAgICAgICB9CiAgICAgICAgICAgICBpZiAoIG9wID09IFJFTU9WRSApCiAgICAgICAgICAgICAg
ICAgcHRlLmJpdHMgPSAwOwogICAgICAgICAgICAgZWxzZQpAQCAtOTk1LDEyICsxMDY4LDYgQEAg
c3RhdGljIGludCB4ZW5fcHRfdXBkYXRlX2VudHJ5KGVudW0geGVubWFwX29wZXJhdGlvbiBvcCwg
dW5zaWduZWQgbG9uZyBhZGRyLAogICAgICAgICAgICAgICAgIHB0ZSA9ICplbnRyeTsKICAgICAg
ICAgICAgICAgICBwdGUucHQucm8gPSBQQUdFX1JPX01BU0soZmxhZ3MpOwogICAgICAgICAgICAg
ICAgIHB0ZS5wdC54biA9IFBBR0VfWE5fTUFTSyhmbGFncyk7Ci0gICAgICAgICAgICAgICAgaWYg
KCAhcHRlLnB0LnJvICYmICFwdGUucHQueG4gKQotICAgICAgICAgICAgICAgIHsKLSAgICAgICAg
ICAgICAgICAgICAgcHJpbnRrKCIlczogSW5jb3JyZWN0IGNvbWJpbmF0aW9uIGZvciBhZGRyPSVs
eFxuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fZnVuY19fLCBhZGRyKTsKLSAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Ci0gICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgfQogICAgICAgICAgICAgd3JpdGVfcHRlKGVudHJ5LCBwdGUpOwogICAgICAgICAgICAg
YnJlYWs7CkBAIC0xMDIyLDYgKzEwODksMjUgQEAgc3RhdGljIGludCB4ZW5fcHRfdXBkYXRlKGVu
dW0geGVubWFwX29wZXJhdGlvbiBvcCwKICAgICBpbnQgcmMgPSAwOwogICAgIHVuc2lnbmVkIGxv
bmcgYWRkciA9IHZpcnQsIGFkZHJfZW5kID0gYWRkciArIG5yX21mbnMgKiBQQUdFX1NJWkU7CiAK
KyAgICAvKgorICAgICAqIFRoZSBoYXJkd2FyZSB3YXMgY29uZmlndXJlZCB0byBmb3JiaWQgbWFw
cGluZyBib3RoIHdyaXRlYWJsZSBhbmQKKyAgICAgKiBleGVjdXRhYmxlLgorICAgICAqIFdoZW4g
bW9kaWZ5aW5nL2NyZWF0aW5nIG1hcHBpbmcgKGkuZSBfUEFHRV9QUkVTRU5UIGlzIHNldCksCisg
ICAgICogcHJldmVudCBhbnkgdXBkYXRlIGlmIHRoaXMgaGFwcGVuLgorICAgICAqLworICAgIGlm
ICggKGZsYWdzICYgX1BBR0VfUFJFU0VOVCkgJiYgIVBBR0VfUk9fTUFTSyhmbGFncykgJiYKKyAg
ICAgICAgICFQQUdFX1hOX01BU0soZmxhZ3MpICkKKyAgICB7CisgICAgICAgIG1tX3ByaW50aygi
TWFwcGluZ3Mgc2hvdWxkIG5vdCBiZSBib3RoIFdyaXRlYWJsZSBhbmQgRXhlY3V0YWJsZS5cbiIp
OworICAgICAgICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKKyAgICBpZiAoICFJU19BTElHTkVE
KHZpcnQsIFBBR0VfU0laRSkgKQorICAgIHsKKyAgICAgICAgbW1fcHJpbnRrKCJUaGUgdmlydHVh
bCBhZGRyZXNzIGlzIG5vdCBhbGlnbmVkIHRvIHRoZSBwYWdlLXNpemUuXG4iKTsKKyAgICAgICAg
cmV0dXJuIC1FSU5WQUw7CisgICAgfQorCiAgICAgc3Bpbl9sb2NrKCZ4ZW5fcHRfbG9jayk7CiAK
ICAgICBmb3IoIDsgYWRkciA8IGFkZHJfZW5kOyBhZGRyICs9IFBBR0VfU0laRSApCi0tIAoyLjEx
LjAKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

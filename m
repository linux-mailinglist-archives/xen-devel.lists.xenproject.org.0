Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6E9624C480
	for <lists+xen-devel@lfdr.de>; Thu, 20 Jun 2019 02:34:23 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hdkzF-0000Gz-Gn; Thu, 20 Jun 2019 00:31:33 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7lb=UT=gmail.com=christopher.w.clark@srs-us1.protection.inumbo.net>)
 id 1hdkzD-0000FS-E2
 for xen-devel@lists.xenproject.org; Thu, 20 Jun 2019 00:31:31 +0000
X-Inumbo-ID: bf3ae313-92f2-11e9-8980-bc764e045a96
Received: from mail-io1-xd41.google.com (unknown [2607:f8b0:4864:20::d41])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id bf3ae313-92f2-11e9-8980-bc764e045a96;
 Thu, 20 Jun 2019 00:31:30 +0000 (UTC)
Received: by mail-io1-xd41.google.com with SMTP id u13so339938iop.0
 for <xen-devel@lists.xenproject.org>; Wed, 19 Jun 2019 17:31:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=O3FNmmPQ0t7RzZ3ZGXXHjmR4Ek9tOEiW9gGLxYsIl1I=;
 b=lM5vaZ1ZstrfT9vxAoXCjMHNGH+AVTo2iAJie7ONks9e//4HCXN8lmNhbEzoQDbcsj
 f9NuCUjx5VgncPzui+Qf9an0lynZAGrG967woEhoGiyaBjfdEHBjujMyYxwoGRy0t66j
 /UeGtU6gM/0mEBcAQHLSkm4qQ1kWIbMpMjhj2tt5z9HVGISSkd8zZnHBBHeFtv1dJ7bE
 wSsRw8Iul4PbWNa1uoK+rh9bcyMO/siYBZ+Zx4geCihugYFFRH1Vh+FnJkhrgPDDzeqF
 9PKSGZQVkxKy4ahZlK7nblQ+eJnA4tHfKZhIK+/xWIQRP1YH/0rtgxd+3IpIQ+41suAw
 2HqA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=O3FNmmPQ0t7RzZ3ZGXXHjmR4Ek9tOEiW9gGLxYsIl1I=;
 b=h+kwtfeabXidzQmJCvBeIVU/lmNYUrFDmwizHGVhFwcajV0hD3JZOTSCD320cEjaVZ
 LIbG8vp6SJX6sgtrZaVGOrjmyiamFzkeKY8PnkQDMU+Y4Na+4Pu36mxaY3tY70pVbEJ7
 mshey7Q0JcKvN1s/2GtlpPeVlsKjBEcjJuF0VwfnuKdeeq3eFFFZEeQD8yezhzD5joB+
 KkM/Nse1J3y/6qIzW8zaRpj2+M562qtxTX75mcU6OGUjn1skckMvmDc3GZOivbQWY9K5
 Rs+rIHWvLhWCvu1eZlvckv3nMOT/tbNFxXbg7mO9CmzapjettQOUNOg3WRWm+HI8/DHk
 dhXg==
X-Gm-Message-State: APjAAAVTHSxu5JGrWrldyakrlQls9jFWNCmFYm5q7DSHSZLCBQZK5Iw4
 HzohkPLmzxzS538VvZ9uX928tn/3fBc=
X-Google-Smtp-Source: APXvYqwWfLcgyji8CQAVLpTFk2umQxr3Rfdv0gk7fd681Byg1VWIZ41B/rVNbgidF0W5pzUU8m814A==
X-Received: by 2002:a6b:c38b:: with SMTP id
 t133mr15354466iof.162.1560990689299; 
 Wed, 19 Jun 2019 17:31:29 -0700 (PDT)
Received: from desktop.ice.pyrology.org
 (static-50-53-74-115.bvtn.or.frontiernet.net. [50.53.74.115])
 by smtp.gmail.com with ESMTPSA id e188sm22579016ioa.3.2019.06.19.17.31.26
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 19 Jun 2019 17:31:28 -0700 (PDT)
From: Christopher Clark <christopher.w.clark@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 19 Jun 2019 17:30:51 -0700
Message-Id: <20190620003053.21993-8-christopher.w.clark@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190620003053.21993-1-christopher.w.clark@gmail.com>
References: <20190620003053.21993-1-christopher.w.clark@gmail.com>
Subject: [Xen-devel] [RFC 7/9] x86/nested,
 xsm: add nested_grant_table_op hypercall
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Rich Persaud <persaur@gmail.com>,
 Tim Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Jan Beulich <jbeulich@suse.com>, Daniel De Graaf <dgdegra@tycho.nsa.gov>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

UHJvdmlkZXMgcHJveHlpbmcgdG8gdGhlIGhvc3QgaHlwZXJ2aXNvciBmb3IgdGhlIEdOVFRBQk9Q
X3F1ZXJ5X3NpemUgb3AuCgpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RvcGhlciBDbGFyayA8Y2hyaXN0
b3BoZXIuY2xhcmtAc3RhcmxhYi5pbz4KLS0tCiB0b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9k
b20wLnRlICB8ICAxICsKIHhlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TIHwgIDEg
KwogeGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYyAgICAgfCAzNyArKysrKysrKysrKysr
KysrKysrKysrKysrKysrKwogeGVuL2FyY2gveDg2L2h5cGVyY2FsbC5jICAgICAgICAgICAgfCAg
MSArCiB4ZW4vYXJjaC94ODYvcHYvaHlwZXJjYWxsLmMgICAgICAgICB8ICAxICsKIHhlbi9pbmNs
dWRlL3B1YmxpYy94ZW4uaCAgICAgICAgICAgIHwgIDEgKwogeGVuL2luY2x1ZGUveGVuL2h5cGVy
Y2FsbC5oICAgICAgICAgfCAgNSArKysrCiB4ZW4vaW5jbHVkZS94c20vZHVtbXkuaCAgICAgICAg
ICAgICB8ICA3ICsrKysrKwogeGVuL2luY2x1ZGUveHNtL3hzbS5oICAgICAgICAgICAgICAgfCAg
NyArKysrKysKIHhlbi94c20vZHVtbXkuYyAgICAgICAgICAgICAgICAgICAgIHwgIDEgKwogeGVu
L3hzbS9mbGFzay9ob29rcy5jICAgICAgICAgICAgICAgfCAgNiArKysrKwogMTEgZmlsZXMgY2hh
bmdlZCwgNjggaW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL2ZsYXNrL3BvbGljeS9t
b2R1bGVzL2RvbTAudGUgYi90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9kb20wLnRlCmluZGV4
IDdkMGYyOWYwODIuLjAzYzkzYTMwOTMgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2ZsYXNrL3BvbGljeS9t
b2R1bGVzL2RvbTAudGUKKysrIGIvdG9vbHMvZmxhc2svcG9saWN5L21vZHVsZXMvZG9tMC50ZQpA
QCAtNDcsNiArNDcsNyBAQCBhbGxvdyBkb20wX3QgZG9tMF90OnJlc291cmNlIHsgYWRkIHJlbW92
ZSB9OwogYWxsb3cgZG9tMF90IG5lc3RlZHhlbl90OnZlcnNpb24geyB4ZW5fdmVyc2lvbiB4ZW5f
Z2V0X2ZlYXR1cmVzIH07CiBhbGxvdyBkb20wX3QgbmVzdGVkeGVuX3Q6bW11IHBoeXNtYXA7CiBh
bGxvdyBkb20wX3QgbmVzdGVkeGVuX3Q6aHZtIHsgc2V0cGFyYW0gZ2V0cGFyYW0gfTsKK2FsbG93
IGRvbTBfdCBuZXN0ZWR4ZW5fdDpncmFudCBxdWVyeTsKIAogIyBUaGVzZSBwZXJtaXNzaW9ucyBh
bGxvdyB1c2luZyB0aGUgRkxBU0sgc2VjdXJpdHkgc2VydmVyIHRvIGNvbXB1dGUgYWNjZXNzCiAj
IGNoZWNrcyBsb2NhbGx5LCB3aGljaCBjb3VsZCBiZSB1c2VkIGJ5IGEgZG9tYWluIG9yIHNlcnZp
Y2UgKHN1Y2ggYXMgeGVuc3RvcmUpCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZ3Vlc3QvaHlw
ZXJjYWxsX3BhZ2UuUyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TCmluZGV4
IGFkYmI4MmY0ZWMuLjMzNDAzNzE0Y2UgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9ndWVzdC9o
eXBlcmNhbGxfcGFnZS5TCisrKyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5T
CkBAIC02Myw2ICs2Myw3IEBAIERFQ0xBUkVfSFlQRVJDQUxMKHhlbnBtdV9vcCkKIERFQ0xBUkVf
SFlQRVJDQUxMKG5lc3RlZF94ZW5fdmVyc2lvbikKIERFQ0xBUkVfSFlQRVJDQUxMKG5lc3RlZF9t
ZW1vcnlfb3ApCiBERUNMQVJFX0hZUEVSQ0FMTChuZXN0ZWRfaHZtX29wKQorREVDTEFSRV9IWVBF
UkNBTEwobmVzdGVkX2dyYW50X3RhYmxlX29wKQogCiBERUNMQVJFX0hZUEVSQ0FMTChhcmNoXzAp
CiBERUNMQVJFX0hZUEVSQ0FMTChhcmNoXzEpCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZ3Vl
c3QveGVuLW5lc3RlZC5jIGIveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYwppbmRleCA4
MmJkNjg4NWU2Li5hNDA0OWUzNjZmIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvZ3Vlc3QveGVu
LW5lc3RlZC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC94ZW4tbmVzdGVkLmMKQEAgLTIyLDYg
KzIyLDcgQEAKICNpbmNsdWRlIDx4ZW4vbGliLmg+CiAjaW5jbHVkZSA8eGVuL3NjaGVkLmg+CiAK
KyNpbmNsdWRlIDxwdWJsaWMvZ3JhbnRfdGFibGUuaD4KICNpbmNsdWRlIDxwdWJsaWMvaHZtL2h2
bV9vcC5oPgogI2luY2x1ZGUgPHB1YmxpYy9tZW1vcnkuaD4KICNpbmNsdWRlIDxwdWJsaWMvdmVy
c2lvbi5oPgpAQCAtMjAyLDMgKzIwMywzOSBAQCBsb25nIGRvX25lc3RlZF9odm1fb3AoaW50IGNt
ZCwgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh2b2lkKSBhcmcpCiAgICAgICAgIHJldHVybiAtRU9Q
Tk9UU1VQUDsKICAgICB9CiB9CisKK2xvbmcgZG9fbmVzdGVkX2dyYW50X3RhYmxlX29wKHVuc2ln
bmVkIGludCBjbWQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYRU5fR1VFU1RfSEFO
RExFX1BBUkFNKHZvaWQpIHVvcCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2ln
bmVkIGludCBjb3VudCkKK3sKKyAgICBzdHJ1Y3QgZ250dGFiX3F1ZXJ5X3NpemUgb3A7CisgICAg
bG9uZyByZXQ7CisKKyAgICBpZiAoICF4ZW5fbmVzdGVkICkKKyAgICAgICAgcmV0dXJuIC1FTk9T
WVM7CisKKyAgICBpZiAoIGNtZCAhPSBHTlRUQUJPUF9xdWVyeV9zaXplICkKKyAgICB7CisgICAg
ICAgIGdwcmludGsoWEVOTE9HX0VSUiwgIk5lc3RlZCBncmFudCB0YWJsZSBvcCAldSBub3Qgc3Vw
cG9ydGVkLlxuIiwgY21kKTsKKyAgICAgICAgcmV0dXJuIC1FT1BOT1RTVVBQOworICAgIH0KKwor
ICAgIGlmICggY291bnQgIT0gMSApCisgICAgICAgIHJldHVybiAtRUlOVkFMOworCisgICAgaWYg
KCBjb3B5X2Zyb21fZ3Vlc3QoJm9wLCB1b3AsIDEpICkKKyAgICAgICAgcmV0dXJuIC1FRkFVTFQ7
CisKKyAgICBpZiAoIG9wLmRvbSAhPSBET01JRF9TRUxGICkKKyAgICAgICAgcmV0dXJuIC1FUEVS
TTsKKworICAgIHJldCA9IHhzbV9uZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZShYU01fUFJJViwgY3Vy
cmVudC0+ZG9tYWluKTsKKyAgICBpZiAoIHJldCApCisgICAgICAgIHJldHVybiByZXQ7CisKKyAg
ICByZXQgPSB4ZW5faHlwZXJjYWxsX2dyYW50X3RhYmxlX29wKGNtZCwgJm9wLCAxKTsKKyAgICBp
ZiAoICFyZXQgJiYgX19jb3B5X3RvX2d1ZXN0KHVvcCwgJm9wLCAxKSApCisgICAgICAgIHJldHVy
biAtRUZBVUxUOworCisgICAgcmV0dXJuIHJldDsKK30KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9oeXBlcmNhbGwuYyBiL3hlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYwppbmRleCAyNjhjYzk0NTBh
Li4xYjlmNGM2MDUwIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvaHlwZXJjYWxsLmMKKysrIGIv
eGVuL2FyY2gveDg2L2h5cGVyY2FsbC5jCkBAIC03Nyw2ICs3Nyw3IEBAIGNvbnN0IGh5cGVyY2Fs
bF9hcmdzX3QgaHlwZXJjYWxsX2FyZ3NfdGFibGVbTlJfaHlwZXJjYWxsc10gPQogICAgIEFSR1Mo
bmVzdGVkX3hlbl92ZXJzaW9uLCAyKSwKICAgICBDT01QKG5lc3RlZF9tZW1vcnlfb3AsIDIsIDIp
LAogICAgIEFSR1MobmVzdGVkX2h2bV9vcCwgMiksCisgICAgQVJHUyhuZXN0ZWRfZ3JhbnRfdGFi
bGVfb3AsIDMpLAogI2VuZGlmCiAgICAgQVJHUyhtY2EsIDEpLAogICAgIEFSR1MoYXJjaF8xLCAx
KSwKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9wdi9oeXBlcmNhbGwuYyBiL3hlbi9hcmNoL3g4
Ni9wdi9oeXBlcmNhbGwuYwppbmRleCBlODhlY2NlMjIyLi5lZmExYmQwODMwIDEwMDY0NAotLS0g
YS94ZW4vYXJjaC94ODYvcHYvaHlwZXJjYWxsLmMKKysrIGIveGVuL2FyY2gveDg2L3B2L2h5cGVy
Y2FsbC5jCkBAIC04OCw2ICs4OCw3IEBAIGNvbnN0IGh5cGVyY2FsbF90YWJsZV90IHB2X2h5cGVy
Y2FsbF90YWJsZVtdID0gewogICAgIEhZUEVSQ0FMTChuZXN0ZWRfeGVuX3ZlcnNpb24pLAogICAg
IENPTVBBVF9DQUxMKG5lc3RlZF9tZW1vcnlfb3ApLAogICAgIEhZUEVSQ0FMTChuZXN0ZWRfaHZt
X29wKSwKKyAgICBIWVBFUkNBTEwobmVzdGVkX2dyYW50X3RhYmxlX29wKSwKICNlbmRpZgogICAg
IEhZUEVSQ0FMTChtY2EpLAogICAgIEhZUEVSQ0FMTChhcmNoXzEpLApkaWZmIC0tZ2l0IGEveGVu
L2luY2x1ZGUvcHVibGljL3hlbi5oIGIveGVuL2luY2x1ZGUvcHVibGljL3hlbi5oCmluZGV4IDE3
MzE0MDllYjguLjAwMGI3ZmM5ZDAgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3B1YmxpYy94ZW4u
aAorKysgYi94ZW4vaW5jbHVkZS9wdWJsaWMveGVuLmgKQEAgLTEyNCw2ICsxMjQsNyBAQCBERUZJ
TkVfWEVOX0dVRVNUX0hBTkRMRSh4ZW5fdWxvbmdfdCk7CiAjZGVmaW5lIF9fSFlQRVJWSVNPUl9u
ZXN0ZWRfeGVuX3ZlcnNpb24gICA0MgogI2RlZmluZSBfX0hZUEVSVklTT1JfbmVzdGVkX21lbW9y
eV9vcCAgICAgNDMKICNkZWZpbmUgX19IWVBFUlZJU09SX25lc3RlZF9odm1fb3AgICAgICAgIDQ0
CisjZGVmaW5lIF9fSFlQRVJWSVNPUl9uZXN0ZWRfZ3JhbnRfdGFibGVfb3AgNDUKIAogLyogQXJj
aGl0ZWN0dXJlLXNwZWNpZmljIGh5cGVyY2FsbCBkZWZpbml0aW9ucy4gKi8KICNkZWZpbmUgX19I
WVBFUlZJU09SX2FyY2hfMCAgICAgICAgICAgICAgIDQ4CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVk
ZS94ZW4vaHlwZXJjYWxsLmggYi94ZW4vaW5jbHVkZS94ZW4vaHlwZXJjYWxsLmgKaW5kZXggYjA5
MDcwNTM5ZS4uMTAyYjIwZmQ1ZiAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveGVuL2h5cGVyY2Fs
bC5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9oeXBlcmNhbGwuaApAQCAtMTYyLDYgKzE2MiwxMSBA
QCBleHRlcm4gbG9uZyBkb19uZXN0ZWRfbWVtb3J5X29wKAogZXh0ZXJuIGxvbmcgZG9fbmVzdGVk
X2h2bV9vcCgKICAgICBpbnQgY21kLAogICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0odm9pZCkg
YXJnKTsKKworZXh0ZXJuIGxvbmcgZG9fbmVzdGVkX2dyYW50X3RhYmxlX29wKAorICAgIHVuc2ln
bmVkIGludCBjbWQsCisgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh2b2lkKSB1b3AsCisgICAg
dW5zaWduZWQgaW50IGNvdW50KTsKICNlbmRpZgogCiAjaWZkZWYgQ09ORklHX0NPTVBBVApkaWZm
IC0tZ2l0IGEveGVuL2luY2x1ZGUveHNtL2R1bW15LmggYi94ZW4vaW5jbHVkZS94c20vZHVtbXku
aAppbmRleCAyMzhiNDI1YzQ5Li5mNTg3MWVmMDVhIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS94
c20vZHVtbXkuaAorKysgYi94ZW4vaW5jbHVkZS94c20vZHVtbXkuaApAQCAtNzYxLDYgKzc2MSwx
MyBAQCBzdGF0aWMgWFNNX0lOTElORSBpbnQgeHNtX25lc3RlZF9odm1fb3AoWFNNX0RFRkFVTFRf
QVJHIGNvbnN0IHN0cnVjdCBkb21haW4gKmQsCiAgICAgWFNNX0FTU0VSVF9BQ1RJT04oWFNNX1BS
SVYpOwogICAgIHJldHVybiB4c21fZGVmYXVsdF9hY3Rpb24oYWN0aW9uLCBkLCBOVUxMKTsKIH0K
Kworc3RhdGljIFhTTV9JTkxJTkUgaW50IHhzbV9uZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZShYU01f
REVGQVVMVF9BUkcKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY29uc3Qgc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICBYU01fQVNTRVJUX0FDVElPTihY
U01fUFJJVik7CisgICAgcmV0dXJuIHhzbV9kZWZhdWx0X2FjdGlvbihhY3Rpb24sIGQsIE5VTEwp
OworfQogI2VuZGlmCiAKICNpbmNsdWRlIDxwdWJsaWMvdmVyc2lvbi5oPgpkaWZmIC0tZ2l0IGEv
eGVuL2luY2x1ZGUveHNtL3hzbS5oIGIveGVuL2luY2x1ZGUveHNtL3hzbS5oCmluZGV4IGNjMDJi
ZjE4YzcuLmUxMjAwMWM0MDEgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3hzbS94c20uaAorKysg
Yi94ZW4vaW5jbHVkZS94c20veHNtLmgKQEAgLTE5MSw2ICsxOTEsNyBAQCBzdHJ1Y3QgeHNtX29w
ZXJhdGlvbnMgewogICAgIGludCAoKm5lc3RlZF94ZW5fdmVyc2lvbikgKGNvbnN0IHN0cnVjdCBk
b21haW4gKmQsIHVuc2lnbmVkIGludCBjbWQpOwogICAgIGludCAoKm5lc3RlZF9hZGRfdG9fcGh5
c21hcCkgKGNvbnN0IHN0cnVjdCBkb21haW4gKmQpOwogICAgIGludCAoKm5lc3RlZF9odm1fb3Ap
IChjb25zdCBzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBpbnQgY21kKTsKKyAgICBpbnQgKCpu
ZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZSkgKGNvbnN0IHN0cnVjdCBkb21haW4gKmQpOwogI2VuZGlm
CiB9OwogCkBAIC03NDgsNiArNzQ5LDEyIEBAIHN0YXRpYyBpbmxpbmUgaW50IHhzbV9uZXN0ZWRf
aHZtX29wKHhzbV9kZWZhdWx0X3QgZGVmLCBjb25zdCBzdHJ1Y3QgZG9tYWluICpkLAogICAgIHJl
dHVybiB4c21fb3BzLT5uZXN0ZWRfaHZtX29wKGQsIGNtZCk7CiB9CiAKK3N0YXRpYyBpbmxpbmUg
aW50IHhzbV9uZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZSh4c21fZGVmYXVsdF90IGRlZiwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgZG9t
YWluICpkKQoreworICAgIHJldHVybiB4c21fb3BzLT5uZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZShk
KTsKK30KKwogI2VuZGlmIC8qIENPTkZJR19YRU5fTkVTVEVEICovCiAKICNlbmRpZiAvKiBYU01f
Tk9fV1JBUFBFUlMgKi8KZGlmZiAtLWdpdCBhL3hlbi94c20vZHVtbXkuYyBiL3hlbi94c20vZHVt
bXkuYwppbmRleCA5MDlkNDFhODFiLi44YzIxM2MyNThmIDEwMDY0NAotLS0gYS94ZW4veHNtL2R1
bW15LmMKKysrIGIveGVuL3hzbS9kdW1teS5jCkBAIC0xNjEsNSArMTYxLDYgQEAgdm9pZCBfX2lu
aXQgeHNtX2ZpeHVwX29wcyAoc3RydWN0IHhzbV9vcGVyYXRpb25zICpvcHMpCiAgICAgc2V0X3Rv
X2R1bW15X2lmX251bGwob3BzLCBuZXN0ZWRfeGVuX3ZlcnNpb24pOwogICAgIHNldF90b19kdW1t
eV9pZl9udWxsKG9wcywgbmVzdGVkX2FkZF90b19waHlzbWFwKTsKICAgICBzZXRfdG9fZHVtbXlf
aWZfbnVsbChvcHMsIG5lc3RlZF9odm1fb3ApOworICAgIHNldF90b19kdW1teV9pZl9udWxsKG9w
cywgbmVzdGVkX2dyYW50X3F1ZXJ5X3NpemUpOwogI2VuZGlmCiB9CmRpZmYgLS1naXQgYS94ZW4v
eHNtL2ZsYXNrL2hvb2tzLmMgYi94ZW4veHNtL2ZsYXNrL2hvb2tzLmMKaW5kZXggZjhkMjQ3ZTI4
Zi4uMjk4OGRmMmNkMSAxMDA2NDQKLS0tIGEveGVuL3hzbS9mbGFzay9ob29rcy5jCisrKyBiL3hl
bi94c20vZmxhc2svaG9va3MuYwpAQCAtMTc4OSw2ICsxNzg5LDExIEBAIHN0YXRpYyBpbnQgZmxh
c2tfbmVzdGVkX2h2bV9vcChjb25zdCBzdHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBpbnQgb3Ap
CiAgICAgcmV0dXJuIGRvbWFpbl9oYXNfbmVzdGVkX3Blcm0oZCwgU0VDQ0xBU1NfSFZNLCBwZXJt
KTsKIH0KIAorc3RhdGljIGludCBmbGFza19uZXN0ZWRfZ3JhbnRfcXVlcnlfc2l6ZShjb25zdCBz
dHJ1Y3QgZG9tYWluICpkKQoreworICAgIHJldHVybiBkb21haW5faGFzX25lc3RlZF9wZXJtKGQs
IFNFQ0NMQVNTX0dSQU5ULCBHUkFOVF9fUVVFUlkpOworfQorCiAjZW5kaWYKIAogbG9uZyBkb19m
bGFza19vcChYRU5fR1VFU1RfSEFORExFX1BBUkFNKHhzbV9vcF90KSB1X2ZsYXNrX29wKTsKQEAg
LTE5MzQsNiArMTkzOSw3IEBAIHN0YXRpYyBzdHJ1Y3QgeHNtX29wZXJhdGlvbnMgZmxhc2tfb3Bz
ID0gewogICAgIC5uZXN0ZWRfeGVuX3ZlcnNpb24gPSBmbGFza19uZXN0ZWRfeGVuX3ZlcnNpb24s
CiAgICAgLm5lc3RlZF9hZGRfdG9fcGh5c21hcCA9IGZsYXNrX25lc3RlZF9hZGRfdG9fcGh5c21h
cCwKICAgICAubmVzdGVkX2h2bV9vcCA9IGZsYXNrX25lc3RlZF9odm1fb3AsCisgICAgLm5lc3Rl
ZF9ncmFudF9xdWVyeV9zaXplID0gZmxhc2tfbmVzdGVkX2dyYW50X3F1ZXJ5X3NpemUsCiAjZW5k
aWYKIH07CiAKLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnBy
b2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94
ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 9623B78788
	for <lists+xen-devel@lfdr.de>; Mon, 29 Jul 2019 10:36:25 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hs15j-0005Z4-Ra; Mon, 29 Jul 2019 08:33:11 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=rlD/=V2=gmail.com=jrdr.linux@srs-us1.protection.inumbo.net>)
 id 1hs15h-0005Yz-TX
 for xen-devel@lists.xenproject.org; Mon, 29 Jul 2019 08:33:09 +0000
X-Inumbo-ID: 7d3a73dd-b1db-11e9-8980-bc764e045a96
Received: from mail-lf1-x141.google.com (unknown [2a00:1450:4864:20::141])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 7d3a73dd-b1db-11e9-8980-bc764e045a96;
 Mon, 29 Jul 2019 08:33:07 +0000 (UTC)
Received: by mail-lf1-x141.google.com with SMTP id c9so41394024lfh.4
 for <xen-devel@lists.xenproject.org>; Mon, 29 Jul 2019 01:33:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=fzjgi5IYwtgWKCD94QQKl1WKdW6R14NVG7cIaq5hNd0=;
 b=Yj2x/YP+GQx3u0ETLl95DFn76V+nUeZ0HgcyvoUS0J23BQZRtMVjzIjCk80uAnKs7Q
 HQlRZ1Ixt54mk2Xl0CPAS4hhA/sUUWDDv5/rRB2v+KHQ4C83QqlXf3PwcGVgrK44gXGK
 T8QwJf/xyMFHhs2/N13YRy+O5ZrAaWHzCrT+9uVBY8T0e9XoY4vKw0aMc3l5RNtlaUye
 2VNkfpFLe1kIUERcSgFAVPZYdYW3WF1u+Y7yXdwTmDoI1JjojonOcWFQNJEu9zZ2L+Ms
 iR7gq/NDAQVjh7NAv7l7QBoZvm7uLNemt8yUQrhf5sdM60rK76dfCnEyAtS40qTLkvPy
 d9ag==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=fzjgi5IYwtgWKCD94QQKl1WKdW6R14NVG7cIaq5hNd0=;
 b=ZyO+ZCCsYS5GlZTzYfOpqyjvOKWWOYG47Vuf/CpPFFU+1vX+92LwsNImK81sWCIqkL
 ZDmJ4Sl+hWmEDPBKv+tTteqipNwBjUmQrA+to3fvd6rJrFxOaa6RvJaBc/M5ddv3m4HL
 gSobzX327dQmJIPl2/HSSKTD5IIZVTyvDx1yGf/Fh+XAm23sWBl5V/38P8gGydWFPlp4
 i01bCvUYj+HYUMkO3Z2WVa8NI3LtUnPPi3U+z9AKq7HGsNFHcHQY9LuLql2Jw8hQLsLV
 ZxgPcf1SWgz6UstFRYmOGccPcfEW9sI+fRaQVNDPMYWNO2Z+BmYDTx+gP8bnRr37t3Zf
 Amug==
X-Gm-Message-State: APjAAAWh+eocGt2tgKwxktvirWmIeW2kgwHlqgXHjUmueEymfR/6h6PE
 0eAuW/qMzp0AHQMq45RkT76ovxRvcizMdKWuUH8=
X-Google-Smtp-Source: APXvYqxOB3hlBmp/ELmfdAvewRmPGBGlLy908aDcnO5gzCSlHvcgEUZGOZj5/xu4Z+SD47jako1Nt3Hob11dDINtGdM=
X-Received: by 2002:a19:5e10:: with SMTP id s16mr49683043lfb.13.1564389186319; 
 Mon, 29 Jul 2019 01:33:06 -0700 (PDT)
MIME-Version: 1.0
References: <20190215024830.GA26477@jordon-HP-15-Notebook-PC>
 <20190728180611.GA20589@mail-itl>
 <CAFqt6zaMDnpB-RuapQAyYAub1t7oSdHH_pTD=f5k-s327ZvqMA@mail.gmail.com>
In-Reply-To: <CAFqt6zaMDnpB-RuapQAyYAub1t7oSdHH_pTD=f5k-s327ZvqMA@mail.gmail.com>
From: Souptick Joarder <jrdr.linux@gmail.com>
Date: Mon, 29 Jul 2019 14:02:54 +0530
Message-ID: <CAFqt6zY+07JBxAVfMqb+X78mXwFOj2VBh0nbR2tGnQOP9RrNkQ@mail.gmail.com>
To: =?UTF-8?Q?Marek_Marczykowski=2DG=C3=B3recki?=
 <marmarek@invisiblethingslab.com>
Subject: Re: [Xen-devel] [PATCH v4 8/9] xen/gntdev.c: Convert to use
 vm_map_pages()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Michal Hocko <mhocko@suse.com>,
 Russell King - ARM Linux <linux@armlinux.org.uk>,
 Matthew Wilcox <willy@infradead.org>, linux-kernel@vger.kernel.org,
 Linux-MM <linux-mm@kvack.org>, xen-devel@lists.xenproject.org,
 Andrew Morton <akpm@linux-foundation.org>, robin.murphy@arm.com,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gTW9uLCBKdWwgMjksIDIwMTkgYXQgMTozNSBQTSBTb3VwdGljayBKb2FyZGVyIDxqcmRyLmxp
bnV4QGdtYWlsLmNvbT4gd3JvdGU6Cj4KPiBPbiBTdW4sIEp1bCAyOCwgMjAxOSBhdCAxMTozNiBQ
TSBNYXJlayBNYXJjenlrb3dza2ktR8OzcmVja2kKPiA8bWFybWFyZWtAaW52aXNpYmxldGhpbmdz
bGFiLmNvbT4gd3JvdGU6Cj4gPgo+ID4gT24gRnJpLCBGZWIgMTUsIDIwMTkgYXQgMDg6MTg6MzFB
TSArMDUzMCwgU291cHRpY2sgSm9hcmRlciB3cm90ZToKPiA+ID4gQ29udmVydCB0byB1c2Ugdm1f
bWFwX3BhZ2VzKCkgdG8gbWFwIHJhbmdlIG9mIGtlcm5lbAo+ID4gPiBtZW1vcnkgdG8gdXNlciB2
bWEuCj4gPiA+Cj4gPiA+IG1hcC0+Y291bnQgaXMgcGFzc2VkIHRvIHZtX21hcF9wYWdlcygpIGFu
ZCBpbnRlcm5hbCBBUEkKPiA+ID4gdmVyaWZ5IG1hcC0+Y291bnQgYWdhaW5zdCBjb3VudCAoIGNv
dW50ID0gdm1hX3BhZ2VzKHZtYSkpCj4gPiA+IGZvciBwYWdlIGFycmF5IGJvdW5kYXJ5IG92ZXJy
dW4gY29uZGl0aW9uLgo+ID4KPiA+IFRoaXMgY29tbWl0IGJyZWFrcyBnbnRkZXYgZHJpdmVyLiBJ
ZiB2bWEtPnZtX3Bnb2ZmID4gMCwgdm1fbWFwX3BhZ2VzCj4gPiB3aWxsOgo+ID4gIC0gdXNlIG1h
cC0+cGFnZXMgc3RhcnRpbmcgYXQgdm1hLT52bV9wZ29mZiBpbnN0ZWFkIG9mIDAKPgo+IFRoZSBh
Y3R1YWwgY29kZSBpZ25vcmVzIHZtYS0+dm1fcGdvZmYgPiAwIHNjZW5hcmlvIGFuZCBtYXBwZWQK
PiB0aGUgZW50aXJlIG1hcC0+cGFnZXNbaV0uIFdoeSB0aGUgZW50aXJlIG1hcC0+cGFnZXNbaV0g
bmVlZHMgdG8gYmUgbWFwcGVkCj4gaWYgdm1hLT52bV9wZ29mZiA+IDAgKGluIG9yaWdpbmFsIGNv
ZGUpID8KPgo+IGFyZSB5b3UgcmVmZXJyaW5nIHRvIHNldCB2bWEtPnZtX3Bnb2ZmID0gMCBpcnJl
c3BlY3RpdmUgb2YgdmFsdWUgcGFzc2VkCj4gZnJvbSB1c2VyIHNwYWNlID8gSWYgeWVzLCB1c2lu
ZyB2bV9tYXBfcGFnZXNfemVybygpIGlzIGFuIGFsdGVybmF0ZQo+IG9wdGlvbi4KPgo+Cj4gPiAg
LSB2ZXJpZnkgbWFwLT5jb3VudCBhZ2FpbnN0IHZtYV9wYWdlcygpK3ZtYS0+dm1fcGdvZmYgaW5z
dGVhZCBvZiBqdXN0Cj4gPiAgICB2bWFfcGFnZXMoKS4KPgo+IEluIG9yaWdpbmFsIGNvZGUgLT4K
Pgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi9nbnRkZXYuYyBiL2RyaXZlcnMveGVuL2dudGRl
di5jCj4gaW5kZXggNTU5ZDRiN2Y4MDdkLi40NjlkZmJkNmNmOTAgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy94ZW4vZ250ZGV2LmMKPiArKysgYi9kcml2ZXJzL3hlbi9nbnRkZXYuYwo+IEBAIC0xMDg0
LDcgKzEwODQsNyBAQCBzdGF0aWMgaW50IGdudGRldl9tbWFwKHN0cnVjdCBmaWxlICpmbGlwLCBz
dHJ1Y3QKPiB2bV9hcmVhX3N0cnVjdCAqdm1hKQo+IGludCBpbmRleCA9IHZtYS0+dm1fcGdvZmY7
Cj4gaW50IGNvdW50ID0gdm1hX3BhZ2VzKHZtYSk7Cj4KPiBDb3VudCBpcyB1c2VyIHBhc3NlZCB2
YWx1ZS4KPgo+IHN0cnVjdCBnbnRkZXZfZ3JhbnRfbWFwICptYXA7Cj4gLSBpbnQgaSwgZXJyID0g
LUVJTlZBTDsKPiArIGludCBlcnIgPSAtRUlOVkFMOwo+IGlmICgodm1hLT52bV9mbGFncyAmIFZN
X1dSSVRFKSAmJiAhKHZtYS0+dm1fZmxhZ3MgJiBWTV9TSEFSRUQpKQo+IHJldHVybiAtRUlOVkFM
Owo+IEBAIC0xMTQ1LDEyICsxMTQ1LDkgQEAgc3RhdGljIGludCBnbnRkZXZfbW1hcChzdHJ1Y3Qg
ZmlsZSAqZmxpcCwKPiBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSkKPiBnb3RvIG91dF9wdXRf
bWFwOwo+IGlmICghdXNlX3B0ZW1vZCkgewo+IC0gZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKysp
IHsKPiAtIGVyciA9IHZtX2luc2VydF9wYWdlKHZtYSwgdm1hLT52bV9zdGFydCArIGkqUEFHRV9T
SVpFLAo+IC0gbWFwLT5wYWdlc1tpXSk7Cj4KPiBhbmQgd2hlbiBjb3VudCA+IGkgLCB3ZSBlbmQg
dXAgd2l0aCB0cnlpbmcgdG8gbWFwIG1lbW9yeSBvdXRzaWRlCj4gYm91bmRhcnkgb2YgbWFwLT5w
YWdlc1tpXSwgd2hpY2ggd2FzIG5vdCBjb3JyZWN0LgoKdHlwby4Kcy9jb3VudCA+IGkgLyBjb3Vu
dCA+IG1hcC0+Y291bnQKPgo+IC0gaWYgKGVycikKPiAtIGdvdG8gb3V0X3B1dF9tYXA7Cj4gLSB9
Cj4gKyBlcnIgPSB2bV9tYXBfcGFnZXModm1hLCBtYXAtPnBhZ2VzLCBtYXAtPmNvdW50KTsKPiAr
IGlmIChlcnIpCj4gKyBnb3RvIG91dF9wdXRfbWFwOwo+Cj4gV2l0aCB0aGlzIGNvbW1pdCwgaW5z
aWRlIF9fdm1fbWFwX3BhZ2VzKCksIHdlIGhhdmUgYWRkcmVzc2VkIHRoaXMgc2NlbmFyaW8uCj4K
PiArc3RhdGljIGludCBfX3ZtX21hcF9wYWdlcyhzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwg
c3RydWN0IHBhZ2UgKipwYWdlcywKPiArIHVuc2lnbmVkIGxvbmcgbnVtLCB1bnNpZ25lZCBsb25n
IG9mZnNldCkKPiArewo+ICsgdW5zaWduZWQgbG9uZyBjb3VudCA9IHZtYV9wYWdlcyh2bWEpOwo+
ICsgdW5zaWduZWQgbG9uZyB1YWRkciA9IHZtYS0+dm1fc3RhcnQ7Cj4gKyBpbnQgcmV0LCBpOwo+
ICsKPiArIC8qIEZhaWwgaWYgdGhlIHVzZXIgcmVxdWVzdGVkIG9mZnNldCBpcyBiZXlvbmQgdGhl
IGVuZCBvZiB0aGUgb2JqZWN0ICovCj4gKyBpZiAob2Zmc2V0ID4gbnVtKQo+ICsgcmV0dXJuIC1F
TlhJTzsKPiArCj4gKyAvKiBGYWlsIGlmIHRoZSB1c2VyIHJlcXVlc3RlZCBzaXplIGV4Y2VlZHMg
YXZhaWxhYmxlIG9iamVjdCBzaXplICovCj4gKyBpZiAoY291bnQgPiBudW0gLSBvZmZzZXQpCj4g
KyByZXR1cm4gLUVOWElPOwo+Cj4gQnkgY2hlY2tpbmcgY291bnQgPiBudW0gLW9mZnNldC4gKGNv
bnNpZGVyaW5nIHZtYS0+dm1fcGdvZmYgIT0gMCBhcyB3ZWxsKS4KPiBTbyB3ZSB3aWxsIG5ldmVy
IGNyb3NzIHRoZSBib3VuZGFyeSBvZiBtYXAtPnBhZ2VzW2ldLgo+Cj4KPiA+Cj4gPiBJbiBwcmFj
dGljZSwgdGhpcyBicmVha3MgdXNpbmcgYSBzaW5nbGUgZ250ZGV2IEZEIGZvciBtYXBwaW5nIG11
bHRpcGxlCj4gPiBncmFudHMuCj4KPiBIb3cgPwo+Cj4gPgo+ID4gSXQgbG9va3MgbGlrZSB2bV9t
YXBfcGFnZXMoKSBpcyBub3QgYSBnb29kIGZpdCBmb3IgdGhpcyBjb2RlIGFuZCBJTU8gaXQKPiA+
IHNob3VsZCBiZSByZXZlcnRlZC4KPgo+IERpZCB5b3UgaGl0IGFueSBpc3N1ZSBhcm91bmQgdGhp
cyBjb2RlIGluIHJlYWwgdGltZSA/Cj4KPgo+ID4KPiA+ID4gU2lnbmVkLW9mZi1ieTogU291cHRp
Y2sgSm9hcmRlciA8anJkci5saW51eEBnbWFpbC5jb20+Cj4gPiA+IFJldmlld2VkLWJ5OiBCb3Jp
cyBPc3Ryb3Zza3kgPGJvcmlzLm9zdHJvdnNreUBvcmFjbGUuY29tPgo+ID4gPiAtLS0KPiA+ID4g
IGRyaXZlcnMveGVuL2dudGRldi5jIHwgMTEgKysrKy0tLS0tLS0KPiA+ID4gIDEgZmlsZSBjaGFu
Z2VkLCA0IGluc2VydGlvbnMoKyksIDcgZGVsZXRpb25zKC0pCj4gPiA+Cj4gPiA+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL3hlbi9nbnRkZXYuYyBiL2RyaXZlcnMveGVuL2dudGRldi5jCj4gPiA+IGlu
ZGV4IDVlZmM1ZWUuLjVkNjQyNjIgMTAwNjQ0Cj4gPiA+IC0tLSBhL2RyaXZlcnMveGVuL2dudGRl
di5jCj4gPiA+ICsrKyBiL2RyaXZlcnMveGVuL2dudGRldi5jCj4gPiA+IEBAIC0xMDg0LDcgKzEw
ODQsNyBAQCBzdGF0aWMgaW50IGdudGRldl9tbWFwKHN0cnVjdCBmaWxlICpmbGlwLCBzdHJ1Y3Qg
dm1fYXJlYV9zdHJ1Y3QgKnZtYSkKPiA+ID4gICAgICAgaW50IGluZGV4ID0gdm1hLT52bV9wZ29m
ZjsKPiA+ID4gICAgICAgaW50IGNvdW50ID0gdm1hX3BhZ2VzKHZtYSk7Cj4gPiA+ICAgICAgIHN0
cnVjdCBnbnRkZXZfZ3JhbnRfbWFwICptYXA7Cj4gPiA+IC0gICAgIGludCBpLCBlcnIgPSAtRUlO
VkFMOwo+ID4gPiArICAgICBpbnQgZXJyID0gLUVJTlZBTDsKPiA+ID4KPiA+ID4gICAgICAgaWYg
KCh2bWEtPnZtX2ZsYWdzICYgVk1fV1JJVEUpICYmICEodm1hLT52bV9mbGFncyAmIFZNX1NIQVJF
RCkpCj4gPiA+ICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiA+IEBAIC0xMTQ1LDEy
ICsxMTQ1LDkgQEAgc3RhdGljIGludCBnbnRkZXZfbW1hcChzdHJ1Y3QgZmlsZSAqZmxpcCwgc3Ry
dWN0IHZtX2FyZWFfc3RydWN0ICp2bWEpCj4gPiA+ICAgICAgICAgICAgICAgZ290byBvdXRfcHV0
X21hcDsKPiA+ID4KPiA+ID4gICAgICAgaWYgKCF1c2VfcHRlbW9kKSB7Cj4gPiA+IC0gICAgICAg
ICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKPiA+ID4gLSAgICAgICAgICAgICAg
ICAgICAgIGVyciA9IHZtX2luc2VydF9wYWdlKHZtYSwgdm1hLT52bV9zdGFydCArIGkqUEFHRV9T
SVpFLAo+ID4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAtPnBhZ2VzW2ldKTsK
PiA+ID4gLSAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpCj4gPiA+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGdvdG8gb3V0X3B1dF9tYXA7Cj4gPiA+IC0gICAgICAgICAgICAgfQo+
ID4gPiArICAgICAgICAgICAgIGVyciA9IHZtX21hcF9wYWdlcyh2bWEsIG1hcC0+cGFnZXMsIG1h
cC0+Y291bnQpOwo+ID4gPiArICAgICAgICAgICAgIGlmIChlcnIpCj4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBnb3RvIG91dF9wdXRfbWFwOwo+ID4gPiAgICAgICB9IGVsc2Ugewo+ID4gPiAg
I2lmZGVmIENPTkZJR19YODYKPiA+ID4gICAgICAgICAgICAgICAvKgo+ID4KPiA+IC0tCj4gPiBC
ZXN0IFJlZ2FyZHMsCj4gPiBNYXJlayBNYXJjenlrb3dza2ktR8OzcmVja2kKPiA+IEludmlzaWJs
ZSBUaGluZ3MgTGFiCj4gPiBBOiBCZWNhdXNlIGl0IG1lc3NlcyB1cCB0aGUgb3JkZXIgaW4gd2hp
Y2ggcGVvcGxlIG5vcm1hbGx5IHJlYWQgdGV4dC4KPiA+IFE6IFdoeSBpcyB0b3AtcG9zdGluZyBz
dWNoIGEgYmFkIHRoaW5nPwoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVj
dC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1k
ZXZlbA==

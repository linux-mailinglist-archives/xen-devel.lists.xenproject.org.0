Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2534E5E610
	for <lists+xen-devel@lfdr.de>; Wed,  3 Jul 2019 16:07:19 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hifs4-0002LU-Uq; Wed, 03 Jul 2019 14:04:28 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=aXhv=VA=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1hifs2-0002LJ-Vv
 for xen-devel@lists.xenproject.org; Wed, 03 Jul 2019 14:04:27 +0000
X-Inumbo-ID: 75e19af8-9d9b-11e9-9176-77b1ee3ff1fd
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 75e19af8-9d9b-11e9-9176-77b1ee3ff1fd;
 Wed, 03 Jul 2019 14:04:23 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id B1869AE14;
 Wed,  3 Jul 2019 14:04:22 +0000 (UTC)
To: Nadav Amit <namit@vmware.com>, Andy Lutomirski <luto@kernel.org>,
 Dave Hansen <dave.hansen@linux.intel.com>
References: <20190702235151.4377-1-namit@vmware.com>
 <20190702235151.4377-5-namit@vmware.com>
From: Juergen Gross <jgross@suse.com>
Message-ID: <d89e2b57-8682-153e-33d8-98084e9983d6@suse.com>
Date: Wed, 3 Jul 2019 16:04:21 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <20190702235151.4377-5-namit@vmware.com>
Content-Language: de-DE
Subject: Re: [Xen-devel] [PATCH v2 4/9] x86/mm/tlb: Flush remote and local
 TLBs concurrently
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Sasha Levin <sashal@kernel.org>, linux-hyperv@vger.kernel.org,
 Stephen Hemminger <sthemmin@microsoft.com>, kvm@vger.kernel.org,
 Peter Zijlstra <peterz@infradead.org>, Haiyang Zhang <haiyangz@microsoft.com>,
 x86@kernel.org, linux-kernel@vger.kernel.org,
 virtualization@lists.linux-foundation.org, Ingo Molnar <mingo@redhat.com>,
 Borislav Petkov <bp@alien8.de>, Paolo Bonzini <pbonzini@redhat.com>,
 xen-devel@lists.xenproject.org, Thomas Gleixner <tglx@linutronix.de>,
 "K. Y. Srinivasan" <kys@microsoft.com>,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMDMuMDcuMTkgMDE6NTEsIE5hZGF2IEFtaXQgd3JvdGU6Cj4gVG8gaW1wcm92ZSBUTEIgc2hv
b3Rkb3duIHBlcmZvcm1hbmNlLCBmbHVzaCB0aGUgcmVtb3RlIGFuZCBsb2NhbCBUTEJzCj4gY29u
Y3VycmVudGx5LiBJbnRyb2R1Y2UgZmx1c2hfdGxiX211bHRpKCkgdGhhdCBkb2VzIHNvLiBJbnRy
b2R1Y2UKPiBwYXJhdmlydHVhbCB2ZXJzaW9ucyBvZiBmbHVzaF90bGJfbXVsdGkoKSBmb3IgS1ZN
LCBYZW4gYW5kIGh5cGVyLXYgKFhlbgo+IGFuZCBoeXBlci12IGFyZSBvbmx5IGNvbXBpbGUtdGVz
dGVkKS4KPiAKPiBXaGlsZSB0aGUgdXBkYXRlZCBzbXAgaW5mcmFzdHJ1Y3R1cmUgaXMgY2FwYWJs
ZSBvZiBydW5uaW5nIGEgZnVuY3Rpb24gb24KPiBhIHNpbmdsZSBsb2NhbCBjb3JlLCBpdCBpcyBu
b3Qgb3B0aW1pemVkIGZvciB0aGlzIGNhc2UuIFRoZSBtdWx0aXBsZQo+IGZ1bmN0aW9uIGNhbGxz
IGFuZCB0aGUgaW5kaXJlY3QgYnJhbmNoIGludHJvZHVjZSBzb21lIG92ZXJoZWFkLCBhbmQKPiBt
aWdodCBtYWtlIGxvY2FsIFRMQiBmbHVzaGVzIHNsb3dlciB0aGFuIHRoZXkgd2VyZSBiZWZvcmUg
dGhlIHJlY2VudAo+IGNoYW5nZXMuCj4gCj4gQmVmb3JlIGNhbGxpbmcgdGhlIFNNUCBpbmZyYXN0
cnVjdHVyZSwgY2hlY2sgaWYgb25seSBhIGxvY2FsIFRMQiBmbHVzaAo+IGlzIG5lZWRlZCB0byBy
ZXN0b3JlIHRoZSBsb3N0IHBlcmZvcm1hbmNlIGluIHRoaXMgY29tbW9uIGNhc2UuIFRoaXMKPiBy
ZXF1aXJlcyB0byBjaGVjayBtbV9jcHVtYXNrKCkgb25lIG1vcmUgdGltZSwgYnV0IHVubGVzcyB0
aGlzIG1hc2sgaXMKPiB1cGRhdGVkIHZlcnkgZnJlcXVlbnRseSwgdGhpcyBzaG91bGQgaW1wYWN0
IHBlcmZvcm1hbmNlIG5lZ2F0aXZlbHkuCj4gCj4gQ2M6ICJLLiBZLiBTcmluaXZhc2FuIiA8a3lz
QG1pY3Jvc29mdC5jb20+Cj4gQ2M6IEhhaXlhbmcgWmhhbmcgPGhhaXlhbmd6QG1pY3Jvc29mdC5j
b20+Cj4gQ2M6IFN0ZXBoZW4gSGVtbWluZ2VyIDxzdGhlbW1pbkBtaWNyb3NvZnQuY29tPgo+IENj
OiBTYXNoYSBMZXZpbiA8c2FzaGFsQGtlcm5lbC5vcmc+Cj4gQ2M6IFRob21hcyBHbGVpeG5lciA8
dGdseEBsaW51dHJvbml4LmRlPgo+IENjOiBJbmdvIE1vbG5hciA8bWluZ29AcmVkaGF0LmNvbT4K
PiBDYzogQm9yaXNsYXYgUGV0a292IDxicEBhbGllbjguZGU+Cj4gQ2M6IHg4NkBrZXJuZWwub3Jn
Cj4gQ2M6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KPiBDYzogUGFvbG8gQm9uemlu
aSA8cGJvbnppbmlAcmVkaGF0LmNvbT4KPiBDYzogRGF2ZSBIYW5zZW4gPGRhdmUuaGFuc2VuQGxp
bnV4LmludGVsLmNvbT4KPiBDYzogQW5keSBMdXRvbWlyc2tpIDxsdXRvQGtlcm5lbC5vcmc+Cj4g
Q2M6IFBldGVyIFppamxzdHJhIDxwZXRlcnpAaW5mcmFkZWFkLm9yZz4KPiBDYzogQm9yaXMgT3N0
cm92c2t5IDxib3Jpcy5vc3Ryb3Zza3lAb3JhY2xlLmNvbT4KPiBDYzogbGludXgtaHlwZXJ2QHZn
ZXIua2VybmVsLm9yZwo+IENjOiBsaW51eC1rZXJuZWxAdmdlci5rZXJuZWwub3JnCj4gQ2M6IHZp
cnR1YWxpemF0aW9uQGxpc3RzLmxpbnV4LWZvdW5kYXRpb24ub3JnCj4gQ2M6IGt2bUB2Z2VyLmtl
cm5lbC5vcmcKPiBDYzogeGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCj4gU2lnbmVkLW9m
Zi1ieTogTmFkYXYgQW1pdCA8bmFtaXRAdm13YXJlLmNvbT4KPiAtLS0KPiAgIGFyY2gveDg2L2h5
cGVydi9tbXUuYyAgICAgICAgICAgICAgICAgfCAxMyArKystLS0KPiAgIGFyY2gveDg2L2luY2x1
ZGUvYXNtL3BhcmF2aXJ0LmggICAgICAgfCAgNiArLS0KPiAgIGFyY2gveDg2L2luY2x1ZGUvYXNt
L3BhcmF2aXJ0X3R5cGVzLmggfCAgNCArLQo+ICAgYXJjaC94ODYvaW5jbHVkZS9hc20vdGxiZmx1
c2guaCAgICAgICB8ICA5ICsrLS0KPiAgIGFyY2gveDg2L2luY2x1ZGUvYXNtL3RyYWNlL2h5cGVy
di5oICAgfCAgMiArLQo+ICAgYXJjaC94ODYva2VybmVsL2t2bS5jICAgICAgICAgICAgICAgICB8
IDExICsrKy0tCj4gICBhcmNoL3g4Ni9rZXJuZWwvcGFyYXZpcnQuYyAgICAgICAgICAgIHwgIDIg
Ky0KPiAgIGFyY2gveDg2L21tL3RsYi5jICAgICAgICAgICAgICAgICAgICAgfCA2NSArKysrKysr
KysrKysrKysrKysrKy0tLS0tLS0KPiAgIGFyY2gveDg2L3hlbi9tbXVfcHYuYyAgICAgICAgICAg
ICAgICAgfCAyMCArKysrKystLS0KPiAgIGluY2x1ZGUvdHJhY2UvZXZlbnRzL3hlbi5oICAgICAg
ICAgICAgfCAgMiArLQo+ICAgMTAgZmlsZXMgY2hhbmdlZCwgOTEgaW5zZXJ0aW9ucygrKSwgNDMg
ZGVsZXRpb25zKC0pCgouLi4KCj4gZGlmZiAtLWdpdCBhL2FyY2gveDg2L3hlbi9tbXVfcHYuYyBi
L2FyY2gveDg2L3hlbi9tbXVfcHYuYwo+IGluZGV4IGJlYjQ0ZTIyYWZkZi4uMTllNDgxZTZlOTA0
IDEwMDY0NAo+IC0tLSBhL2FyY2gveDg2L3hlbi9tbXVfcHYuYwo+ICsrKyBiL2FyY2gveDg2L3hl
bi9tbXVfcHYuYwo+IEBAIC0xMzU1LDggKzEzNTUsOCBAQCBzdGF0aWMgdm9pZCB4ZW5fZmx1c2hf
dGxiX29uZV91c2VyKHVuc2lnbmVkIGxvbmcgYWRkcikKPiAgIAlwcmVlbXB0X2VuYWJsZSgpOwo+
ICAgfQo+ICAgCj4gLXN0YXRpYyB2b2lkIHhlbl9mbHVzaF90bGJfb3RoZXJzKGNvbnN0IHN0cnVj
dCBjcHVtYXNrICpjcHVzLAo+IC0JCQkJIGNvbnN0IHN0cnVjdCBmbHVzaF90bGJfaW5mbyAqaW5m
bykKPiArc3RhdGljIHZvaWQgeGVuX2ZsdXNoX3RsYl9tdWx0aShjb25zdCBzdHJ1Y3QgY3B1bWFz
ayAqY3B1cywKPiArCQkJCWNvbnN0IHN0cnVjdCBmbHVzaF90bGJfaW5mbyAqaW5mbykKPiAgIHsK
PiAgIAlzdHJ1Y3Qgewo+ICAgCQlzdHJ1Y3QgbW11ZXh0X29wIG9wOwo+IEBAIC0xMzY2LDcgKzEz
NjYsNyBAQCBzdGF0aWMgdm9pZCB4ZW5fZmx1c2hfdGxiX290aGVycyhjb25zdCBzdHJ1Y3QgY3B1
bWFzayAqY3B1cywKPiAgIAljb25zdCBzaXplX3QgbWNfZW50cnlfc2l6ZSA9IHNpemVvZihhcmdz
LT5vcCkgKwo+ICAgCQlzaXplb2YoYXJncy0+bWFza1swXSkgKiBCSVRTX1RPX0xPTkdTKG51bV9w
b3NzaWJsZV9jcHVzKCkpOwo+ICAgCj4gLQl0cmFjZV94ZW5fbW11X2ZsdXNoX3RsYl9vdGhlcnMo
Y3B1cywgaW5mby0+bW0sIGluZm8tPnN0YXJ0LCBpbmZvLT5lbmQpOwo+ICsJdHJhY2VfeGVuX21t
dV9mbHVzaF90bGJfbXVsdGkoY3B1cywgaW5mby0+bW0sIGluZm8tPnN0YXJ0LCBpbmZvLT5lbmQp
Owo+ICAgCj4gICAJaWYgKGNwdW1hc2tfZW1wdHkoY3B1cykpCj4gICAJCXJldHVybjsJCS8qIG5v
dGhpbmcgdG8gZG8gKi8KPiBAQCAtMTM3NSw5ICsxMzc1LDE3IEBAIHN0YXRpYyB2b2lkIHhlbl9m
bHVzaF90bGJfb3RoZXJzKGNvbnN0IHN0cnVjdCBjcHVtYXNrICpjcHVzLAo+ICAgCWFyZ3MgPSBt
Y3MuYXJnczsKPiAgIAlhcmdzLT5vcC5hcmcyLnZjcHVtYXNrID0gdG9fY3B1bWFzayhhcmdzLT5t
YXNrKTsKPiAgIAo+IC0JLyogUmVtb3ZlIHVzLCBhbmQgYW55IG9mZmxpbmUgQ1BVUy4gKi8KPiAr
CS8qIEZsdXNoIGxvY2FsbHkgaWYgbmVlZGVkIGFuZCByZW1vdmUgdXMgKi8KPiArCWlmIChjcHVt
YXNrX3Rlc3RfY3B1KHNtcF9wcm9jZXNzb3JfaWQoKSwgdG9fY3B1bWFzayhhcmdzLT5tYXNrKSkp
IHsKPiArCQlsb2NhbF9pcnFfZGlzYWJsZSgpOwo+ICsJCWZsdXNoX3RsYl9mdW5jX2xvY2FsKGlu
Zm8pOwoKSSB0aGluayB0aGlzIGlzbid0IHRoZSBjb3JyZWN0IGZ1bmN0aW9uIGZvciBQViBndWVz
dHMuCgpJbiBmYWN0IGl0IHNob3VsZCBiZSBtdWNoIGVhc2llcjoganVzdCBkb24ndCBjbGVhciB0
aGUgb3duIGNwdSBmcm9tIHRoZQptYXNrLCB0aGF0J3MgYWxsIHdoYXQncyBuZWVkZWQuIFRoZSBo
eXBlcnZpc29yIGlzIGp1c3QgZmluZSBoYXZpbmcgdGhlCmN1cnJlbnQgY3B1IGluIHRoZSBtYXNr
IGFuZCBpdCB3aWxsIGRvIHRoZSByaWdodCB0aGluZy4KCgpKdWVyZ2VuCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0
Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qu
b3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6379DD40A4
	for <lists+xen-devel@lfdr.de>; Fri, 11 Oct 2019 15:10:17 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iIucV-0007oR-Kk; Fri, 11 Oct 2019 13:06:11 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=1MXO=YE=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1iIucT-0007oM-Dn
 for xen-devel@lists.xenproject.org; Fri, 11 Oct 2019 13:06:09 +0000
X-Inumbo-ID: e29c5cc0-ec27-11e9-beca-bc764e2007e4
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id e29c5cc0-ec27-11e9-beca-bc764e2007e4;
 Fri, 11 Oct 2019 13:06:06 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id D8D6328;
 Fri, 11 Oct 2019 06:06:05 -0700 (PDT)
Received: from [10.1.196.50] (e108454-lin.cambridge.arm.com [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 302043F6C4;
 Fri, 11 Oct 2019 06:06:05 -0700 (PDT)
To: Stefano Stabellini <sstabellini@kernel.org>
References: <20191010175238.4769-1-julien.grall@arm.com>
 <alpine.DEB.2.21.1910101706350.9081@sstabellini-ThinkPad-T480s>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <c427d166-f899-dd72-db41-0ffaafa75f6e@arm.com>
Date: Fri, 11 Oct 2019 14:06:04 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <alpine.DEB.2.21.1910101706350.9081@sstabellini-ThinkPad-T480s>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH for-4.13] xen/arm: mm: Allow generic xen
 page-tables helpers to be called early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: jgross@suse.com, xen-devel@lists.xenproject.org,
 Julien Grall <julien@xen.org>, Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgU3RlZmFubywKCk9uIDExLzEwLzIwMTkgMDE6MjcsIFN0ZWZhbm8gU3RhYmVsbGluaSB3cm90
ZToKPiBPbiBUaHUsIDEwIE9jdCAyMDE5LCBKdWxpZW4gR3JhbGwgd3JvdGU6Cj4+IFRoZSBjdXJy
ZW50IGltcGxlbWVudGF0aW9ucyBvZiB4ZW5fe21hcCwgdW5tYXB9X3RhYmxlKCkgZXhwZWN0Cj4+
IHttYXAsIHVubWFwfV9kb21haW5fcGFnZSgpIHRvIGJlIHVzYWJsZS4gVGhvc2UgaGVscGVycyBh
cmUgdXNlZCB0bwo+PiBtYXAvdW5tYXAgcGFnZSB0YWJsZXMgd2hpbGUgdXBkYXRlIFhlbiBwYWdl
LXRhYmxlcy4KPj4KPj4gU2luY2UgY29tbWl0IDAyMjM4N2VlMWEgInhlbi9hcm06IG1tOiBEb24n
dCBvcGVuLWNvZGUgWGVuIFBUIHVwZGF0ZSBpbgo+PiB7c2V0LCBjbGVhcn1fZml4bWFwKCkiLCBz
ZXR1cF9maXhtYXAoKSB3aWxsIG1ha2UgdXNlIG9mIHRoZSBoZWxwZXJzCj4+IG1lbnRpb25lZCBh
Ym92ZS4gV2hlbiBib290aW5nIFhlbiB1c2luZyBHUlVCLCBzZXR1cF9maXhtYXAoKSBtYXkgYmUg
dXNlZAo+PiBiZWZvcmUgbWFwX2RvbWFpbl9wYWdlKCkgY2FuIGJlIGNhbGxlZC4gVGhpcyB3aWxs
IHJlc3VsdCB0byBkYXRhIGFib3J0Ogo+Pgo+PiAoWEVOKSBEYXRhIEFib3J0IFRyYXAuIFN5bmRy
b21lPTB4NQo+PiAoWEVOKSBDUFUwOiBVbmV4cGVjdGVkIFRyYXA6IERhdGEgQWJvcnQKPj4KPj4g
Wy4uLl0KPj4KPj4gKFhFTikgWGVuIGNhbGwgdHJhY2U6Cj4+IChYRU4pICAgIFs8MDAwMDAwMDAw
MDI1YWI2Yz5dIG1tLmMjeGVuX3B0X3VwZGF0ZSsweDJiNC8weDU5YyAoUEMpCj4+IChYRU4pICAg
IFs8MDAwMDAwMDAwMDI1YWIyMD5dIG1tLmMjeGVuX3B0X3VwZGF0ZSsweDI2OC8weDU5YyAoTFIp
Cj4+IChYRU4pICAgIFs8MDAwMDAwMDAwMDI1YWU3MD5dIHNldF9maXhtYXArMHgxYy8weDJjCj4+
IChYRU4pICAgIFs8MDAwMDAwMDAwMDJhOWM5OD5dIGNvcHlfZnJvbV9wYWRkcisweDdjLzB4ZGMK
Pj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmE0YWUwPl0gaGFzX3hzbV9tYWdpYysweDE4LzB4MzQK
Pj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmE1YjVjPl0gYm9vdGZkdC5jI2Vhcmx5X3NjYW5fbm9k
ZSsweDM5OC8weDU2MAo+PiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyYTVkZTA+XSBkZXZpY2VfdHJl
ZV9mb3JfZWFjaF9ub2RlKzB4YmMvMHgxNDQKPj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmE1ZWQ0
Pl0gYm9vdF9mZHRfaW5mbysweDZjLzB4MjYwCj4+IChYRU4pICAgIFs8MDAwMDAwMDAwMDJhYzBk
MD5dIHN0YXJ0X3hlbisweDEwOC8weGM3NAo+PiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyMDA0NGM+
XSBhcm02NC9oZWFkLm8jcGFnaW5nKzB4NjAvMHg4OAo+Pgo+PiBEdXJpbmcgZWFybHkgYm9vdCwg
dGhlIHBhZ2UgdGFibGVzIGFyZSBlaXRoZXIgc3RhdGljYWxseSBhbGxvY2F0ZWQgaW4KPj4gWGVu
IGJpbmFyeSBvciBhbGxvY2F0ZWQgdmlhIGFsbG9jX2Jvb3RfcGFnZXMoKS4KPj4KPj4gRm9yIHN0
YXRpY2FsbHkgYWxsb2NhdGVkIHBhZ2UtdGFibGVzLCB0aGV5IHdpbGwgYWxyZWFkeSBiZSBtYXBw
ZWQgYXMKPj4gcGFydCBvZiBYZW4gYmluYXJ5LiBTbyB3ZSBjYW4gZWFzaWx5IGZpbmQgdGhlIHZp
cnR1YWwgYWRkcmVzcy4KPj4KPj4gRm9yIGR5bmFtaWNhbGx5IGFsbG9jYXRlZCBwYWdlLXRhYmxl
cywgd2UgbmVlZCB0byByZWx5Cj4+IG1hcF9kb21haW5fcGFnZSgpIHRvIGJlIGZ1bmN0aW9uYWxs
eSB3b3JraW5nLgo+Pgo+PiBGb3IgYXJtMzIsIHRoZSBjYWxsIHdpbGwgYmUgdXNhYmxlIG11Y2gg
YmVmb3JlIHBhZ2UgY2FuIGJlIGR5bmFtaWNhbGx5Cj4+IGFsbG9jYXRlZCAoc2VlIHNldHVwX3Bh
Z2V0YWJsZXMoKSkuIEZvciBhcm02NCwgdGhlIGNhbGwgd2lsbCBiZSB1c2FibGUKPj4gYWZ0ZXIg
c2V0dXBfeGVuaGVhcF9tYXBwaW5ncygpLgo+Pgo+PiBJbiBib3RoIGNhc2VzLCBtZW1vcnkgYXJl
IGdpdmVuIHRvIHRoZSBib290IGFsbG9jYXRvciBhZnRlcndhcmRzLiBTbyB3ZQo+PiBjYW4gcmVs
eSBvbiBtYXBfZG9tYWluX3BhZ2UoKSBmb3IgbWFwcGluZyBwYWdlIHRhYmxlcyBhbGxvY2F0ZWQK
Pj4gZHluYW1pY2FsbHkuCj4+Cj4+IFRoZSBoZWxwZXJzIHhlbl97bWFwLCB1bm1hcH1fdGFibGUo
KSBhcmUgbm93IHVwZGF0ZWQgdG8gdGFrZSBpbnRvCj4+IGFjY291bnQgdGhlIGNhc2Ugd2hlcmUg
cGFnZS10YWJsZXMgYXJlIHBhcnQgb2YgWGVuIGJpbmFyeS4KPj4KPj4gRml4ZXM6IDAyMjM4N2Vl
MWEgKCd4ZW4vYXJtOiBtbTogRG9uJ3Qgb3Blbi1jb2RlIFhlbiBQVCB1cGRhdGUgaW4ge3NldCwg
Y2xlYXJ9X2ZpeG1hcCgpJykKPj4gU2lnbmVkLW9mZi1ieTogSnVsaWVuIEdyYWxsIDxqdWxpZW4u
Z3JhbGxAYXJtLmNvbT4KPj4gUmVsZWFzZS1hY2tlZC1ieTogSnVlcmdlbiBHcm9zcyA8amdyb3Nz
QHN1c2UuY29tPgo+Pgo+PiAtLS0KPj4gICAgICBDaGFuZ2VzIGluIHYyOgo+PiAgICAgICAgICAt
IEFkZCBSYUIgSnVlcmdlbgo+PiAgICAgICAgICAtIFJld29yayB0aGUgY2hlY2sgdG8gYXZvaWQg
dHJ1bmNhdGlvbgo+PiAtLS0KPj4gICB4ZW4vYXJjaC9hcm0vbW0uYyB8IDI5ICsrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCj4+ICAgMSBmaWxlIGNoYW5nZWQsIDI5IGluc2VydGlvbnMoKykK
Pj4KPj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9tbS5jIGIveGVuL2FyY2gvYXJtL21tLmMK
Pj4gaW5kZXggYmUyM2FjZmUyNi4uYTY2MzdjZTM0NyAxMDA2NDQKPj4gLS0tIGEveGVuL2FyY2gv
YXJtL21tLmMKPj4gKysrIGIveGVuL2FyY2gvYXJtL21tLmMKPj4gQEAgLTk2NCwxMSArOTY0LDQw
IEBAIHN0YXRpYyBpbnQgY3JlYXRlX3hlbl90YWJsZShscGFlX3QgKmVudHJ5KQo+PiAgIAo+PiAg
IHN0YXRpYyBscGFlX3QgKnhlbl9tYXBfdGFibGUobWZuX3QgbWZuKQo+PiAgIHsKPj4gKyAgICAv
Kgo+PiArICAgICAqIFdlIG1heSByZXF1aXJlIHRvIG1hcCB0aGUgcGFnZSB0YWJsZSBiZWZvcmUg
bWFwX2RvbWFpbl9wYWdlKCkgaXMKPj4gKyAgICAgKiB1c2VhYmxlLiBUaGUgcmVxdWlyZW1lbnRz
IGhlcmUgaXMgaXQgbXVzdCBiZSB1c2VhYmxlIGFzIHNvb24gYXMKPj4gKyAgICAgKiBwYWdlLXRh
YmxlcyBhcmUgYWxsb2NhdGVkIGR5bmFtaWNhbGx5IHZpYSBhbGxvY19ib290X3BhZ2VzKCkuCj4+
ICsgICAgICoKPj4gKyAgICAgKiBXZSBuZWVkIHRvIGRvIHRoZSBjaGVjayBvbiBwaHlzaWNhbCBh
ZGRyZXNzIHJhdGhlciB0aGFuIHZpcnR1YWwKPj4gKyAgICAgKiBhZGRyZXNzIHRvIGF2b2lkIHRy
dW5jYXRpb24gb24gQXJtMzIuIFRoZXJlZm9yZSBpc19rZXJuZWwoKSBjYW5ub3QKPj4gKyAgICAg
KiBiZSB1c2VkLgo+PiArICAgICAqLwo+PiArICAgIGlmICggc3lzdGVtX3N0YXRlID09IFNZU19T
VEFURV9lYXJseV9ib290ICkKPj4gKyAgICB7Cj4+ICsgICAgICAgIGNvbnN0IG1mbl90IG1zdGFy
dCA9IHZpcnRfdG9fbWZuKF9zdGFydCk7Cj4+ICsgICAgICAgIGNvbnN0IG1mbl90IG1lbmQgPSB2
aXJ0X3RvX21mbihfZW5kKTsKPj4gKwo+PiArICAgICAgICBpZiAoIChtZm5feChtc3RhcnQpIDw9
IG1mbl94KG1mbikpICYmIChtZm5feChtZm4pIDwgbWZuX3gobWVuZCkpICkKPj4gKyAgICAgICAg
ewo+IAo+IFRoZSBwYXRjaCBpcyBnb29kLiBBY3R1YWxseSBJIG5vdGljZWQgdGhhdCB3ZSBhbHJl
YWR5IGhhdmUKPiBpc194ZW5fZml4ZWRfbWZuKCksIGxvb2tzIGxpa2UgaXQgaXMgbWFkZSBmb3Ig
dGhpcy4gSSB0aGluayB3ZSBzaG91bGQKPiB1c2UgaXQgaGVyZSwgZXhjZXB0IHRoYXQgaXNfeGVu
X2ZpeGVkX21mbiBoYXM6Cj4gCj4gICAgICAgKG1mbl90b19tYWRkcihtZm4pIDw9IHZpcnRfdG9f
bWFkZHIoJl9lbmQpKSkKPiAKPiBJIHRoaW5rIGl0IHNob3VsZCBhY3R1YWxseSBiZToKPiAKPiAg
ICAgICAobWZuX3RvX21hZGRyKG1mbikgPCB2aXJ0X3RvX21hZGRyKCZfZW5kKSkpCj4gCj4gTWF5
YmUgd2UgY291bGQgZml4IHRoYXQgYXQgdGhlIHNhbWUgdGltZSBpbiBvbmUgcGF0Y2g/IEhvd2V2
ZXIsIGl0IGlzCj4gdGhlIHNhbWUgZGVmaW5pdGlvbiBhcyBvbiB4ODYsIHNvIEkgZG9uJ3Qga25v
dyB3aGF0IGlzIGdvaW5nIG9uIHRoZXJlLgo+IAo+IAo+PiArICAgICAgICAgICAgdmFkZHJfdCBv
ZmZzZXQgPSBtZm5fdG9fbWFkZHIobWZuKSAtIG1mbl90b19tYWRkcihtc3RhcnQpOwo+PiArICAg
ICAgICAgICAgcmV0dXJuIChscGFlX3QgKikoWEVOX1ZJUlRfU1RBUlQgKyBvZmZzZXQpOwo+IAo+
IEkga25vdyB0aGlzIGlzIHNhZmUgaW4gdGhpcyBjYXNlIHRoYW5rcyB0byB0aGUgYGlmJyBhYm92
ZSwgc28gdGhlcmUgYXJlCj4gbm8gcmlza3MuIEJ1dCBpbiBnZW5lcmFsIGl0IGlzIG5vdCBhIGdy
ZWF0IGlkZWEgdG8gaGF2ZSBhIGhpZGRlbiA2NC1iaXQKPiB0byAzMi1iaXQgY2FzdCAoYWxzbyBp
dCBpcyBub3QgTUlTUkEgY29tcGxpYW50LikgSSB3b3VsZCBhZGQgYW4gZXhwbGljaXQKPiBjYXN0
OiA+Cj4gICAgdmFkZHJfdCBvZmZzZXQgPSAodmFkZHJfdCkobWZuX3RvX21hZGRyKG1mbikgLSBt
Zm5fdG9fbWFkZHIobXN0YXJ0KSk7CgpZb3Ugd291bGQgc3RpbGwgbmVlZCBhIGNvbW1lbnQgZm9y
IHRoaXMgY2FzZSBhcyBpdCBpcyB1bmNsZWFyIHdoeSB0aGUgY2FzdCBpcyAKbmVjZXNzYXJ5L3Nh
ZmUuIFNvIEkgZmVlbCBhIGNvbW1lbnQgd291bGQgYmUgc3VmZmljaWVudCBoZXJlOgoKLyoKICAq
IFRoZSBhZGRyZXNzIGJlbG9uZ3MgdG8gWGVuIGJpbmFyeSBhbmQgd2lsbCBhbHdheXMgZml0IGlu
IHZhZGRyX3QuCiAgKiBJdCBpcyB0aGVyZWZvcmUgZmluZSB0byBkZW1vdGUgdGhlIHR5cGUuCiAg
Ki8KCkNoZWVycywKCi0tIApKdWxpZW4gR3JhbGwKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9s
aXN0aW5mby94ZW4tZGV2ZWw=

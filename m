Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 4B868974C8
	for <lists+xen-devel@lfdr.de>; Wed, 21 Aug 2019 10:23:52 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i0LsT-0001z0-4r; Wed, 21 Aug 2019 08:21:57 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=BiIg=WR=amazon.de=prvs=129f3311c=wipawel@srs-us1.protection.inumbo.net>)
 id 1i0LsR-0001vz-BF
 for xen-devel@lists.xen.org; Wed, 21 Aug 2019 08:21:55 +0000
X-Inumbo-ID: b13bcef8-c3ec-11e9-adc2-12813bfff9fa
Received: from smtp-fw-4101.amazon.com (unknown [72.21.198.25])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id b13bcef8-c3ec-11e9-adc2-12813bfff9fa;
 Wed, 21 Aug 2019 08:21:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.de; i=@amazon.de; q=dns/txt; s=amazon201209;
 t=1566375696; x=1597911696;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version;
 bh=vReOtWQZJPcXrdN9qJItKSFxHc76IAEbDsTqNwkVAC4=;
 b=QiT76y5MTsomXfgcyCqBtPB7lHmEHj7owC6xCHsuTLBDIhiW0FrKIuzX
 wrDiimQNFZC6cQaOGpdLG9/ZvNiBqeFGgdvnY/UilgHiwQo4HjaKJJpBH
 9nEBcgoL1y2SMQV82y9KZlYvgSfZrnDCWito5ouch5p1Zm1MRfUOtW5nE E=;
X-IronPort-AV: E=Sophos;i="5.64,412,1559520000"; d="scan'208";a="780419097"
Received: from iad6-co-svc-p1-lb1-vlan3.amazon.com (HELO
 email-inbound-relay-2b-859fe132.us-west-2.amazon.com) ([10.124.125.6])
 by smtp-border-fw-out-4101.iad4.amazon.com with ESMTP;
 21 Aug 2019 08:21:35 +0000
Received: from EX13MTAUEA001.ant.amazon.com
 (pdx4-ws-svc-p6-lb7-vlan2.pdx.amazon.com [10.170.41.162])
 by email-inbound-relay-2b-859fe132.us-west-2.amazon.com (Postfix) with ESMTPS
 id 3D885221949; Wed, 21 Aug 2019 08:21:35 +0000 (UTC)
Received: from EX13D03EUC002.ant.amazon.com (10.43.164.60) by
 EX13MTAUEA001.ant.amazon.com (10.43.61.243) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Wed, 21 Aug 2019 08:21:19 +0000
Received: from EX13MTAUEB001.ant.amazon.com (10.43.60.96) by
 EX13D03EUC002.ant.amazon.com (10.43.164.60) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Wed, 21 Aug 2019 08:21:18 +0000
Received: from dev-dsk-wipawel-1a-0c4e6d58.eu-west-1.amazon.com (10.4.134.33)
 by mail-relay.amazon.com (10.43.60.129) with Microsoft SMTP Server id
 15.0.1367.3 via Frontend Transport; Wed, 21 Aug 2019 08:21:17 +0000
From: Pawel Wieczorkiewicz <wipawel@amazon.de>
To: <xen-devel@lists.xen.org>
Date: Wed, 21 Aug 2019 08:20:44 +0000
Message-ID: <20190821082056.91090-9-wipawel@amazon.de>
X-Mailer: git-send-email 2.16.5
In-Reply-To: <20190821082056.91090-1-wipawel@amazon.de>
References: <20190821082056.91090-1-wipawel@amazon.de>
MIME-Version: 1.0
Precedence: Bulk
Subject: [Xen-devel] [PATCH 08/20] livepatch-build: detect special section
 group sizes
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: wipawel@amazon.com, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ross Lagerwall <ross.lagerwall@citrix.com>, mpohlack@amazon.com,
 Pawel Wieczorkiewicz <wipawel@amazon.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGFyZC1jb2RpbmcgdGhlIHNwZWNpYWwgc2VjdGlvbiBncm91cCBzaXplcyBpcyB1bnJlbGlhYmxl
LiBJbnN0ZWFkLApkZXRlcm1pbmUgdGhlbSBkeW5hbWljYWxseSBieSBmaW5kaW5nIHRoZSByZWxh
dGVkIHN0cnVjdCBkZWZpbml0aW9ucwppbiB0aGUgRFdBUkYgbWV0YWRhdGEuCgpUaGlzIGlzIGEg
bGl2ZXBhdGNoIGJhY2twb3J0IG9mIGtwYXRjaCB1cHN0cmVhbSBjb21taXQgWzFdOgprcGF0Y2gt
YnVpbGQ6IGRldGVjdCBzcGVjaWFsIHNlY3Rpb24gZ3JvdXAgc2l6ZXMgMTcwNDQ5ODQ3MTM2YTQ4
YjE5ZmMKClhlbiBvbmx5IGRlYWxzIHdpdGggYWx0X2luc3RyLCBidWdfZnJhbWUgYW5kIGV4Y2Vw
dGlvbl90YWJsZV9lbnRyeQpzdHJ1Y3R1cmVzLCBzbyBzaXplcyBvZiB0aGVzZSBzdHJ1Y3R1cmVz
IGFyZSBvYnRhaW5lZCBmcm9tIHhlbi1zeW1zLgoKVGhpcyBjaGFuZ2UgaXMgbmVlZGVkIHNpbmNl
IHdpdGggcmVjZW50IFhlbiB0aGUgYWx0X2luc3RyIHN0cnVjdHVyZQpoYXMgY2hhbmdlZCBzaXpl
IGZyb20gMTIgdG8gMTQgYnl0ZXMuCgpbMV0gaHR0cHM6Ly9naXRodWIuY29tL2pwb2ltYm9lL2tw
YXRjaC9jb21taXQvMTcwNDQ5ODQ3MTM2YTQ4YjE5ZmNjZWIxOWMxZDRkMjU3ZDM4NmI1NgoKU2ln
bmVkLW9mZi1ieTogUGF3ZWwgV2llY3pvcmtpZXdpY3ogPHdpcGF3ZWxAYW1hem9uLmRlPgpSZXZp
ZXdlZC1ieTogQmpvZXJuIERvZWJlbCA8ZG9lYmVsQGFtYXpvbi5kZT4KUmV2aWV3ZWQtYnk6IE1h
cnRpbiBNYXplaW4gPGFtYXplaW5AYW1hem9uLmRlPgpSZXZpZXdlZC1ieTogUm9zcyBMYWdlcndh
bGwgPHJvc3MubGFnZXJ3YWxsQGNpdHJpeC5jb20+Ci0tLQogY3JlYXRlLWRpZmYtb2JqZWN0LmMg
fCA1MCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLQog
bGl2ZXBhdGNoLWJ1aWxkICAgICAgfCAyMiArKysrKysrKysrKysrKysrKysrKysrCiAyIGZpbGVz
IGNoYW5nZWQsIDYyIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L2NyZWF0ZS1kaWZmLW9iamVjdC5jIGIvY3JlYXRlLWRpZmYtb2JqZWN0LmMKaW5kZXggMGRmM2Zl
YS4uYzYxODNjMyAxMDA2NDQKLS0tIGEvY3JlYXRlLWRpZmYtb2JqZWN0LmMKKysrIGIvY3JlYXRl
LWRpZmYtb2JqZWN0LmMKQEAgLTk1OCwxMiArOTU4LDQyIEBAIHN0YXRpYyB2b2lkIGtwYXRjaF9t
YXJrX2NvbnN0YW50X2xhYmVsc19zYW1lKHN0cnVjdCBrcGF0Y2hfZWxmICprZWxmKQogCX0KIH0K
IAotc3RhdGljIGludCBidWdfZnJhbWVzXzBfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2VsZiAq
a2VsZiwgaW50IG9mZnNldCkgeyByZXR1cm4gODsgfQotc3RhdGljIGludCBidWdfZnJhbWVzXzFf
Z3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2VsZiAqa2VsZiwgaW50IG9mZnNldCkgeyByZXR1cm4g
ODsgfQotc3RhdGljIGludCBidWdfZnJhbWVzXzJfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2Vs
ZiAqa2VsZiwgaW50IG9mZnNldCkgeyByZXR1cm4gODsgfQotc3RhdGljIGludCBidWdfZnJhbWVz
XzNfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2VsZiAqa2VsZiwgaW50IG9mZnNldCkgeyByZXR1
cm4gMTY7IH0KLXN0YXRpYyBpbnQgZXhfdGFibGVfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2Vs
ZiAqa2VsZiwgaW50IG9mZnNldCkgeyByZXR1cm4gODsgfQotc3RhdGljIGludCBhbHRpbnN0cnVj
dGlvbnNfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3BhdGNoX2VsZiAqa2VsZiwgaW50IG9mZnNldCkgeyBy
ZXR1cm4gMTI7IH0KK3N0YXRpYyBpbnQgYnVnX2ZyYW1lc19ncm91cF9zaXplKHN0cnVjdCBrcGF0
Y2hfZWxmICprZWxmLCBpbnQgb2Zmc2V0KQoreworCXN0YXRpYyBpbnQgc2l6ZSA9IDA7CisJY2hh
ciAqc3RyOworCWlmICghc2l6ZSkgeworCQlzdHIgPSBnZXRlbnYoIkJVR19TVFJVQ1RfU0laRSIp
OworCQlzaXplID0gc3RyID8gYXRvaShzdHIpIDogODsKKwl9CisKKwlyZXR1cm4gc2l6ZTsKK30K
Kworc3RhdGljIGludCBleF90YWJsZV9ncm91cF9zaXplKHN0cnVjdCBrcGF0Y2hfZWxmICprZWxm
LCBpbnQgb2Zmc2V0KQoreworCXN0YXRpYyBpbnQgc2l6ZSA9IDA7CisJY2hhciAqc3RyOworCWlm
ICghc2l6ZSkgeworCQlzdHIgPSBnZXRlbnYoIkVYX1NUUlVDVF9TSVpFIik7CisJCXNpemUgPSBz
dHIgPyBhdG9pKHN0cikgOiA4OworCX0KKworCXJldHVybiBzaXplOworfQorCitzdGF0aWMgaW50
IGFsdGluc3RydWN0aW9uc19ncm91cF9zaXplKHN0cnVjdCBrcGF0Y2hfZWxmICprZWxmLCBpbnQg
b2Zmc2V0KQoreworCXN0YXRpYyBpbnQgc2l6ZSA9IDA7CisJY2hhciAqc3RyOworCWlmICghc2l6
ZSkgeworCQlzdHIgPSBnZXRlbnYoIkFMVF9TVFJVQ1RfU0laRSIpOworCQlzaXplID0gc3RyID8g
YXRvaShzdHIpIDogMTI7CisJfQorCisJbG9nX2RlYnVnKCJhbHRpbnN0cl9zaXplPSVkXG4iLCBz
aXplKTsKKwlyZXR1cm4gc2l6ZTsKK30KIAogLyoKICAqIFRoZSByZWxhIGdyb3VwcyBpbiB0aGUg
LmZpeHVwIHNlY3Rpb24gdmFyeSBpbiBzaXplLiAgVGhlIGJlZ2lubmluZyBvZiBlYWNoCkBAIC0x
MDE2LDE5ICsxMDQ2LDE5IEBAIHN0YXRpYyBpbnQgZml4dXBfZ3JvdXBfc2l6ZShzdHJ1Y3Qga3Bh
dGNoX2VsZiAqa2VsZiwgaW50IG9mZnNldCkKIHN0YXRpYyBzdHJ1Y3Qgc3BlY2lhbF9zZWN0aW9u
IHNwZWNpYWxfc2VjdGlvbnNbXSA9IHsKIAl7CiAJCS5uYW1lCQk9ICIuYnVnX2ZyYW1lcy4wIiwK
LQkJLmdyb3VwX3NpemUJPSBidWdfZnJhbWVzXzBfZ3JvdXBfc2l6ZSwKKwkJLmdyb3VwX3NpemUJ
PSBidWdfZnJhbWVzX2dyb3VwX3NpemUsCiAJfSwKIAl7CiAJCS5uYW1lCQk9ICIuYnVnX2ZyYW1l
cy4xIiwKLQkJLmdyb3VwX3NpemUJPSBidWdfZnJhbWVzXzFfZ3JvdXBfc2l6ZSwKKwkJLmdyb3Vw
X3NpemUJPSBidWdfZnJhbWVzX2dyb3VwX3NpemUsCiAJfSwKIAl7CiAJCS5uYW1lCQk9ICIuYnVn
X2ZyYW1lcy4yIiwKLQkJLmdyb3VwX3NpemUJPSBidWdfZnJhbWVzXzJfZ3JvdXBfc2l6ZSwKKwkJ
Lmdyb3VwX3NpemUJPSBidWdfZnJhbWVzX2dyb3VwX3NpemUsCiAJfSwKIAl7CiAJCS5uYW1lCQk9
ICIuYnVnX2ZyYW1lcy4zIiwKLQkJLmdyb3VwX3NpemUJPSBidWdfZnJhbWVzXzNfZ3JvdXBfc2l6
ZSwKKwkJLmdyb3VwX3NpemUJPSBidWdfZnJhbWVzX2dyb3VwX3NpemUsCiAJfSwKIAl7CiAJCS5u
YW1lCQk9ICIuZml4dXAiLApkaWZmIC0tZ2l0IGEvbGl2ZXBhdGNoLWJ1aWxkIGIvbGl2ZXBhdGNo
LWJ1aWxkCmluZGV4IDNjNGJmMTMuLjcwNjhmYWYgMTAwNzU1Ci0tLSBhL2xpdmVwYXRjaC1idWls
ZAorKysgYi9saXZlcGF0Y2gtYnVpbGQKQEAgLTMxNSw2ICszMTUsMjggQEAgaWYgWyAiJHtTS0lQ
fSIgIT0gImJ1aWxkIiBdOyB0aGVuCiAgICAgZWNobyAiUGVyZm9ybSBmdWxsIGluaXRpYWwgYnVp
bGQgd2l0aCAke0NQVVN9IENQVShzKS4uLiIKICAgICBidWlsZF9mdWxsCiAKKyAgICBlY2hvICJS
ZWFkaW5nIHNwZWNpYWwgc2VjdGlvbiBkYXRhIgorICAgICMgVXNpbmcgeGVuLXN5bXMgYnVpbHQg
aW4gdGhlIHByZXZpb3VzIHN0ZXAgYnkgYnVpbGRfZnVsbCgpLgorICAgIFNQRUNJQUxfVkFSUz0k
KHJlYWRlbGYgLXdpICIkT1VUUFVUL3hlbi1zeW1zIiB8CisgICAgICAgICAgICAgICBnYXdrIC0t
bm9uLWRlY2ltYWwtZGF0YSAnCisgICAgICAgICAgICAgICBCRUdJTiB7IGEgPSBiID0gZSA9IDAg
fQorICAgICAgICAgICAgICAgYSA9PSAwICYmIC9EV19BVF9uYW1lLiogYWx0X2luc3RyLyB7YSA9
IDE7IG5leHR9CisgICAgICAgICAgICAgICBiID09IDAgJiYgL0RXX0FUX25hbWUuKiBidWdfZnJh
bWUvIHtiID0gMTsgbmV4dH0KKyAgICAgICAgICAgICAgIGUgPT0gMCAmJiAvRFdfQVRfbmFtZS4q
IGV4Y2VwdGlvbl90YWJsZV9lbnRyeS8ge2UgPSAxOyBuZXh0fQorICAgICAgICAgICAgICAgYSA9
PSAxIHtwcmludGYoImV4cG9ydCBBTFRfU1RSVUNUX1NJWkU9JWRcbiIsICQ0KTsgYSA9IDJ9Cisg
ICAgICAgICAgICAgICBiID09IDEge3ByaW50ZigiZXhwb3J0IEJVR19TVFJVQ1RfU0laRT0lZFxu
IiwgJDQpOyBiID0gMn0KKyAgICAgICAgICAgICAgIGUgPT0gMSB7cHJpbnRmKCJleHBvcnQgRVhf
U1RSVUNUX1NJWkU9JWRcbiIsICQ0KTsgZSA9IDJ9CisgICAgICAgICAgICAgICBhID09IDIgJiYg
YiA9PSAyICYmIGUgPT0gMiB7ZXhpdH0nKQorICAgIFtbIC1uICRTUEVDSUFMX1ZBUlMgXV0gJiYg
ZXZhbCAiJFNQRUNJQUxfVkFSUyIKKyAgICBpZiBbWyAteiAkQUxUX1NUUlVDVF9TSVpFIF1dIHx8
IFtbIC16ICRCVUdfU1RSVUNUX1NJWkUgXV0gfHwgW1sgLXogJEVYX1NUUlVDVF9TSVpFIF1dOyB0
aGVuCisgICAgICAgIGRpZSAiY2FuJ3QgZmluZCBzcGVjaWFsIHN0cnVjdCBzaXplIgorICAgIGZp
CisgICAgZm9yIGkgaW4gJEFMVF9TVFJVQ1RfU0laRSAkQlVHX1NUUlVDVF9TSVpFICRFWF9TVFJV
Q1RfU0laRTsgZG8KKyAgICAgICAgaWYgW1sgISAkaSAtZ3QgMCBdXSB8fCBbWyAhICRpIC1sZSAx
NiBdXTsgdGhlbgorICAgICAgICAgICAgZGllICJpbnZhbGlkIHNwZWNpYWwgc3RydWN0IHNpemUg
JGkiCisgICAgICAgIGZpCisgICAgZG9uZQorCiAgICAgZWNobyAiQXBwbHkgcGF0Y2ggYW5kIGJ1
aWxkIHdpdGggJHtDUFVTfSBDUFUocykuLi4iCiAgICAgY2QgIiRTUkNESVIiIHx8IGRpZQogICAg
IHBhdGNoIC1zIC1OIC1wMSAtZiAtLWZ1eno9MCA8ICIkUEFUQ0hGSUxFIiB8fCBkaWUKLS0gCjIu
MTYuNQoKCgoKQW1hem9uIERldmVsb3BtZW50IENlbnRlciBHZXJtYW55IEdtYkgKS3JhdXNlbnN0
ci4gMzgKMTAxMTcgQmVybGluCkdlc2NoYWVmdHNmdWVocnVuZzogQ2hyaXN0aWFuIFNjaGxhZWdl
ciwgUmFsZiBIZXJicmljaApFaW5nZXRyYWdlbiBhbSBBbXRzZ2VyaWNodCBDaGFybG90dGVuYnVy
ZyB1bnRlciBIUkIgMTQ5MTczIEIKU2l0ejogQmVybGluClVzdC1JRDogREUgMjg5IDIzNyA4NzkK
CgoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1k
ZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8v
bGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

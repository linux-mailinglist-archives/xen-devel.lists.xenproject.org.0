Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7819736F70
	for <lists+xen-devel@lfdr.de>; Thu,  6 Jun 2019 11:05:47 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hYoIb-00073I-8O; Thu, 06 Jun 2019 09:03:05 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=/1VA=UF=citrix.com=roger.pau@srs-us1.protection.inumbo.net>)
 id 1hYoIZ-000725-Ij
 for xen-devel@lists.xenproject.org; Thu, 06 Jun 2019 09:03:03 +0000
X-Inumbo-ID: e163d51a-8839-11e9-bd7e-3f45b37e10cb
Received: from esa5.hc3370-68.iphmx.com (unknown [216.71.155.168])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id e163d51a-8839-11e9-bd7e-3f45b37e10cb;
 Thu, 06 Jun 2019 09:02:59 +0000 (UTC)
Authentication-Results: esa5.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=roger.pau@citrix.com;
 spf=SoftFail smtp.mailfrom=roger.pau@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 roger.pau@citrix.com) identity=pra; client-ip=162.221.158.21;
 receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="roger.pau@citrix.com"; x-conformance=sidf_compatible
Received-SPF: SoftFail (esa5.hc3370-68.iphmx.com: domain of
 roger.pau@citrix.com is inclined to not designate
 162.221.158.21 as permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="roger.pau@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 include:spf.citrix.com
 include:spf2.citrix.com include:ironport.citrix.com
 exists:%{i}._spf.mta.salesforce.com ~all"
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: K66O92O2H8dn91zcfRW0p3lAgXulLEthH+7TIQ8Tn/mg/Aw3ktrl2Ook3MeZxHCNa5gdUArcx8
 vTw14bnU33+lDCykHyq/sFYPy9zvwlRfct2OJyMnf8rOFHCCYloUKgMsmIdKD7fbMlXoSV1Quj
 ck2LHPKRJ+uWghPICLlc+On7pjg0uGFyOoOT7EJq2npi4tID7dr2vQo+AATEZ66kRzYv/cQgXr
 gzDRqb9wmm7wqbfUU6Rhm0mKNiXJNsJwCAtDZEm+pit8RZ+cSrgNIeZnvkbS8aD1em2ZU9FUym
 EKc=
X-SBRS: -0.9
X-MesageID: 1364765
X-Ironport-Server: esa5.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.63,558,1557201600"; 
   d="scan'208";a="1364765"
From: Roger Pau Monne <roger.pau@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 6 Jun 2019 11:01:46 +0200
Message-ID: <20190606090146.77381-13-roger.pau@citrix.com>
X-Mailer: git-send-email 2.20.1 (Apple Git-117)
In-Reply-To: <20190606090146.77381-1-roger.pau@citrix.com>
References: <20190606090146.77381-1-roger.pau@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 12/12] print: introduce a format specifier
 for pci_sbdf_t
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>,
 Brian Woods <brian.woods@amd.com>, Roger Pau Monne <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIG5ldyBmb3JtYXQgc3BlY2lmaWVyIGlzICclcHAnLCBhbmQgcHJpbnRzIGEgcGNpX3NiZGZf
dCB1c2luZyB0aGUKc2VnOmJ1czpkZXYuZnVuYyBmb3JtYXQuIFJlcGxhY2UgYWxsIFNCREZzIHBy
aW50ZWQgdXNpbmcKJyUwNHg6JTAyeDolMDJ4LiV1JyB0byB1c2UgdGhlIG5ldyBmb3JtYXQgc3Bl
Y2lmaWVyLgoKTm8gZnVuY3Rpb25hbCBjaGFuZ2UgaW50ZW5kZWQuCgpTaWduZWQtb2ZmLWJ5OiBS
b2dlciBQYXUgTW9ubsOpIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KLS0tCkNjOiBBbmRyZXcgQ29v
cGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29tPgpDYzogR2VvcmdlIER1bmxhcCA8R2Vvcmdl
LkR1bmxhcEBldS5jaXRyaXguY29tPgpDYzogSWFuIEphY2tzb24gPGlhbi5qYWNrc29uQGV1LmNp
dHJpeC5jb20+CkNjOiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+CkNjOiBKdWxpZW4g
R3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgpDYzogS29ucmFkIFJ6ZXN6dXRlayBXaWxrIDxr
b25yYWQud2lsa0BvcmFjbGUuY29tPgpDYzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGlu
aUBrZXJuZWwub3JnPgpDYzogVGltIERlZWdhbiA8dGltQHhlbi5vcmc+CkNjOiBXZWkgTGl1IDx3
bEB4ZW4ub3JnPgpDYzogU3VyYXZlZSBTdXRoaWt1bHBhbml0IDxzdXJhdmVlLnN1dGhpa3VscGFu
aXRAYW1kLmNvbT4KQ2M6IEJyaWFuIFdvb2RzIDxicmlhbi53b29kc0BhbWQuY29tPgpDYzogS2V2
aW4gVGlhbiA8a2V2aW4udGlhbkBpbnRlbC5jb20+Ci0tLQpDaGFuZ2VzIHNpbmNlIHYxOgogLSBV
c2UgYmFzZSA4IHRvIHByaW50IHRoZSBmdW5jdGlvbiBudW1iZXIuCiAtIFNvcnQgdGhlIGFkZGl0
aW9uIGluIHRoZSBwb2ludGVyIGZ1bmN0aW9uIGFscGhhYmV0aWNhbGx5LgotLS0KIGRvY3MvbWlz
Yy9wcmludGstZm9ybWF0cy50eHQgICAgICAgICAgICAgICAgfCAgIDUgKwogeGVuL2FyY2gveDg2
L2h2bS92bXNpLmMgICAgICAgICAgICAgICAgICAgICB8ICAxMCArLQogeGVuL2FyY2gveDg2L21z
aS5jICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAzNSArKystLS0KIHhlbi9jb21tb24vdnNw
cmludGYuYyAgICAgICAgICAgICAgICAgICAgICAgfCAgMTggKysrKwogeGVuL2RyaXZlcnMvcGFz
c3Rocm91Z2gvYW1kL2lvbW11X2FjcGkuYyAgICB8ICAxNyArKy0KIHhlbi9kcml2ZXJzL3Bhc3N0
aHJvdWdoL2FtZC9pb21tdV9jbWQuYyAgICAgfCAgIDUgKy0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL2FtZC9pb21tdV9kZXRlY3QuYyAgfCAgIDUgKy0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdo
L2FtZC9pb21tdV9pbml0LmMgICAgfCAgMTIgKy0tCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9h
bWQvaW9tbXVfaW50ci5jICAgIHwgICA4ICstCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQv
cGNpX2FtZF9pb21tdS5jIHwgIDI1ICsrLS0tCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9wY2ku
YyAgICAgICAgICAgICAgIHwgMTE0ICsrKysrKysrLS0tLS0tLS0tLS0tCiB4ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC92dGQvZG1hci5jICAgICAgICAgIHwgIDI1ICsrKy0tCiB4ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC92dGQvaW50cmVtYXAuYyAgICAgIHwgIDExICstCiB4ZW4vZHJpdmVycy9wYXNz
dGhyb3VnaC92dGQvaW9tbXUuYyAgICAgICAgIHwgIDgwICsrKysrKy0tLS0tLS0tCiB4ZW4vZHJp
dmVycy9wYXNzdGhyb3VnaC92dGQvcXVpcmtzLmMgICAgICAgIHwgIDIyICsrLS0KIHhlbi9kcml2
ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC91dGlscy5jICAgICAgICAgfCAgIDYgKy0KIHhlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL3g4Ni9hdHMuYyAgICAgICAgICAgfCAgMTMgKy0tCiB4ZW4vZHJpdmVycy92
cGNpL2hlYWRlci5jICAgICAgICAgICAgICAgICAgIHwgIDExICstCiB4ZW4vZHJpdmVycy92cGNp
L21zaS5jICAgICAgICAgICAgICAgICAgICAgIHwgICA2ICstCiB4ZW4vZHJpdmVycy92cGNpL21z
aXguYyAgICAgICAgICAgICAgICAgICAgIHwgIDI0ICsrLS0tCiAyMCBmaWxlcyBjaGFuZ2VkLCAx
OTAgaW5zZXJ0aW9ucygrKSwgMjYyIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RvY3MvbWlz
Yy9wcmludGstZm9ybWF0cy50eHQgYi9kb2NzL21pc2MvcHJpbnRrLWZvcm1hdHMudHh0CmluZGV4
IDA4MGY0OThmNjUuLjhmNjY2ZjY5NmEgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy9wcmludGstZm9y
bWF0cy50eHQKKysrIGIvZG9jcy9taXNjL3ByaW50ay1mb3JtYXRzLnR4dApAQCAtNDgsMyArNDgs
OCBAQCBEb21haW4gYW5kIHZDUFUgaW5mb3JtYXRpb246CiAgICAgICAgICAgICAgICBUaGUgZG9t
YWluIHBhcnQgYXMgYWJvdmUsIHdpdGggdGhlIHZjcHVfaWQgcHJpbnRlZCBpbiBkZWNpbWFsLgog
ICAgICAgICAgICAgICAgICBlLmcuICBkMHYxCiAgICAgICAgICAgICAgICAgICAgICAgIGRbSURM
RV12MAorCitQQ0k6CisKKyAgICAgICAlcHAgICAgIFBDSSBkZXZpY2UgYWRkcmVzcyBpbiBTOkI6
RC5GIGZvcm1hdCBmcm9tIGEgcGNpX3NiZGZfdC4KKyAgICAgICAgICAgICAgICAgZS5nLiAgMDAw
NDowMjowMC4wCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL3Ztc2kuYyBiL3hlbi9hcmNo
L3g4Ni9odm0vdm1zaS5jCmluZGV4IGFlYjVhNzAxMDQuLjcyOTBiZDU1M2QgMTAwNjQ0Ci0tLSBh
L3hlbi9hcmNoL3g4Ni9odm0vdm1zaS5jCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vdm1zaS5jCkBA
IC02ODYsMTAgKzY4Niw4IEBAIHN0YXRpYyBpbnQgdnBjaV9tc2lfdXBkYXRlKGNvbnN0IHN0cnVj
dCBwY2lfZGV2ICpwZGV2LCB1aW50MzJfdCBkYXRhLAogCiAgICAgICAgIGlmICggcmMgKQogICAg
ICAgICB7Ci0gICAgICAgICAgICBnZHByaW50ayhYRU5MT0dfRVJSLAotICAgICAgICAgICAgICAg
ICAgICAgIiUwNHg6JTAyeDolMDJ4LiV1OiBmYWlsZWQgdG8gYmluZCBQSVJRICV1OiAlZFxuIiwK
LSAgICAgICAgICAgICAgICAgICAgIHBkZXYtPnNlZywgcGRldi0+YnVzLCBQQ0lfU0xPVChwZGV2
LT5kZXZmbiksCi0gICAgICAgICAgICAgICAgICAgICBQQ0lfRlVOQyhwZGV2LT5kZXZmbiksIHBp
cnEgKyBpLCByYyk7CisgICAgICAgICAgICBnZHByaW50ayhYRU5MT0dfRVJSLCAiJXBwOiBmYWls
ZWQgdG8gYmluZCBQSVJRICV1OiAlZFxuIiwKKyAgICAgICAgICAgICAgICAgICAgICZwZGV2LT5z
YmRmLCBwaXJxICsgaSwgcmMpOwogICAgICAgICAgICAgd2hpbGUgKCBiaW5kLm1hY2hpbmVfaXJx
LS0gPiBwaXJxICkKICAgICAgICAgICAgICAgICBwdF9pcnFfZGVzdHJveV9iaW5kKHBkZXYtPmRv
bWFpbiwgJmJpbmQpOwogICAgICAgICAgICAgcmV0dXJuIHJjOwpAQCAtNzQzLDkgKzc0MSw3IEBA
IHN0YXRpYyBpbnQgdnBjaV9tc2lfZW5hYmxlKGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2LCB1
aW50MzJfdCBkYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbXNpX2lu
Zm8pOwogICAgIGlmICggcmMgKQogICAgIHsKLSAgICAgICAgZ2RwcmludGsoWEVOTE9HX0VSUiwg
IiUwNHg6JTAyeDolMDJ4LiV1OiBmYWlsZWQgdG8gbWFwIFBJUlE6ICVkXG4iLAotICAgICAgICAg
ICAgICAgICBwZGV2LT5zZWcsIHBkZXYtPmJ1cywgUENJX1NMT1QocGRldi0+ZGV2Zm4pLAotICAg
ICAgICAgICAgICAgICBQQ0lfRlVOQyhwZGV2LT5kZXZmbiksIHJjKTsKKyAgICAgICAgZ2Rwcmlu
dGsoWEVOTE9HX0VSUiwgIiVwcDogZmFpbGVkIHRvIG1hcCBQSVJROiAlZFxuIiwgJnBkZXYtPnNi
ZGYsIHJjKTsKICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIApkaWZmIC0tZ2l0IGEveGVuL2Fy
Y2gveDg2L21zaS5jIGIveGVuL2FyY2gveDg2L21zaS5jCmluZGV4IDlhMWNlMzNiNDIuLjM3MjYz
OTRmMDIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9tc2kuYworKysgYi94ZW4vYXJjaC94ODYv
bXNpLmMKQEAgLTQyOCw4ICs0MjgsOCBAQCBzdGF0aWMgYm9vbCBtc2lfc2V0X21hc2tfYml0KHN0
cnVjdCBpcnFfZGVzYyAqZGVzYywgYm9vbCBob3N0LCBib29sIGd1ZXN0KQogICAgICAgICAgICAg
ewogICAgICAgICAgICAgICAgIHBkZXYtPm1zaXgtPndhcm5lZCA9IGRvbWlkOwogICAgICAgICAg
ICAgICAgIHByaW50ayhYRU5MT0dfR19XQVJOSU5HCi0gICAgICAgICAgICAgICAgICAgICAgICJj
YW5ub3QgbWFzayBJUlEgJWQ6IG1hc2tpbmcgTVNJLVggb24gRG9tJWQncyAlMDR4OiUwMng6JTAy
eC4ldVxuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgZGVzYy0+aXJxLCBkb21pZCwgc2VnLCBi
dXMsIHNsb3QsIGZ1bmMpOworICAgICAgICAgICAgICAgICAgICAgICAiY2Fubm90IG1hc2sgSVJR
ICVkOiBtYXNraW5nIE1TSS1YIG9uIERvbSVkJ3MgJXBwXG4iLAorICAgICAgICAgICAgICAgICAg
ICAgICBkZXNjLT5pcnEsIGRvbWlkLCAmcGRldi0+c2JkZik7CiAgICAgICAgICAgICB9CiAgICAg
ICAgIH0KICAgICAgICAgcGRldi0+bXNpeC0+aG9zdF9tYXNrYWxsID0gbWFza2FsbDsKQEAgLTk4
NywxMSArOTg3LDExIEBAIHN0YXRpYyBpbnQgbXNpeF9jYXBhYmlsaXR5X2luaXQoc3RydWN0IHBj
aV9kZXYgKmRldiwKICAgICAgICAgICAgIHN0cnVjdCBkb21haW4gKmQgPSBkZXYtPmRvbWFpbiA/
OiBjdXJyZDsKIAogICAgICAgICAgICAgaWYgKCAhaXNfaGFyZHdhcmVfZG9tYWluKGN1cnJkKSB8
fCBkICE9IGN1cnJkICkKLSAgICAgICAgICAgICAgICBwcmludGsoIiVzIHVzZSBvZiBNU0ktWCBv
biAlMDR4OiUwMng6JTAyeC4ldSBieSBEb20lZFxuIiwKKyAgICAgICAgICAgICAgICBwcmludGso
IiVzIHVzZSBvZiBNU0ktWCBvbiAlcHAgYnkgJXBkXG4iLAogICAgICAgICAgICAgICAgICAgICAg
ICBpc19oYXJkd2FyZV9kb21haW4oY3VycmQpCiAgICAgICAgICAgICAgICAgICAgICAgID8gWEVO
TE9HX1dBUk5JTkcgIlBvdGVudGlhbGx5IGluc2VjdXJlIgogICAgICAgICAgICAgICAgICAgICAg
ICA6IFhFTkxPR19FUlIgIkluc2VjdXJlIiwKLSAgICAgICAgICAgICAgICAgICAgICAgc2VnLCBi
dXMsIHNsb3QsIGZ1bmMsIGQtPmRvbWFpbl9pZCk7CisgICAgICAgICAgICAgICAgICAgICAgICZk
ZXYtPnNiZGYsIGQpOwogICAgICAgICAgICAgaWYgKCAhaXNfaGFyZHdhcmVfZG9tYWluKGQpICYm
CiAgICAgICAgICAgICAgICAgIC8qIEFzc3VtZSBhIGRvbWFpbiB3aXRob3V0IG1lbW9yeSBoYXMg
bm8gbWFwcGluZ3MgeWV0LiAqLwogICAgICAgICAgICAgICAgICAoIWlzX2hhcmR3YXJlX2RvbWFp
bihjdXJyZCkgfHwgZC0+dG90X3BhZ2VzKSApCkBAIC0xMDQ2LDE4ICsxMDQ2LDE1IEBAIHN0YXRp
YyBpbnQgX19wY2lfZW5hYmxlX21zaShzdHJ1Y3QgbXNpX2luZm8gKm1zaSwgc3RydWN0IG1zaV9k
ZXNjICoqZGVzYykKICAgICBvbGRfZGVzYyA9IGZpbmRfbXNpX2VudHJ5KHBkZXYsIG1zaS0+aXJx
LCBQQ0lfQ0FQX0lEX01TSSk7CiAgICAgaWYgKCBvbGRfZGVzYyApCiAgICAgewotICAgICAgICBw
cmludGsoWEVOTE9HX0VSUiAiaXJxICVkIGFscmVhZHkgbWFwcGVkIHRvIE1TSSBvbiAlMDR4OiUw
Mng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgIG1zaS0+aXJxLCBtc2ktPnNlZywgbXNpLT5i
dXMsCi0gICAgICAgICAgICAgICBQQ0lfU0xPVChtc2ktPmRldmZuKSwgUENJX0ZVTkMobXNpLT5k
ZXZmbikpOworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiaXJxICVkIGFscmVhZHkgbWFwcGVk
IHRvIE1TSSBvbiAlcHBcbiIsCisgICAgICAgICAgICAgICBtc2ktPmlycSwgJnBkZXYtPnNiZGYp
OwogICAgICAgICByZXR1cm4gLUVFWElTVDsKICAgICB9CiAKICAgICBvbGRfZGVzYyA9IGZpbmRf
bXNpX2VudHJ5KHBkZXYsIC0xLCBQQ0lfQ0FQX0lEX01TSVgpOwogICAgIGlmICggb2xkX2Rlc2Mg
KQogICAgIHsKLSAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5HICJNU0ktWCBhbHJlYWR5IGlu
IHVzZSBvbiAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgIG1zaS0+c2VnLCBt
c2ktPmJ1cywKLSAgICAgICAgICAgICAgIFBDSV9TTE9UKG1zaS0+ZGV2Zm4pLCBQQ0lfRlVOQyht
c2ktPmRldmZuKSk7CisgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiTVNJLVggYWxyZWFk
eSBpbiB1c2Ugb24gJXBwXG4iLCAmcGRldi0+c2JkZik7CiAgICAgICAgIF9fcGNpX2Rpc2FibGVf
bXNpeChvbGRfZGVzYyk7CiAgICAgfQogCkBAIC0xMTE0LDE2ICsxMTExLDE1IEBAIHN0YXRpYyBp
bnQgX19wY2lfZW5hYmxlX21zaXgoc3RydWN0IG1zaV9pbmZvICptc2ksIHN0cnVjdCBtc2lfZGVz
YyAqKmRlc2MpCiAgICAgb2xkX2Rlc2MgPSBmaW5kX21zaV9lbnRyeShwZGV2LCBtc2ktPmlycSwg
UENJX0NBUF9JRF9NU0lYKTsKICAgICBpZiAoIG9sZF9kZXNjICkKICAgICB7Ci0gICAgICAgIHBy
aW50ayhYRU5MT0dfRVJSICJpcnEgJWQgYWxyZWFkeSBtYXBwZWQgdG8gTVNJLVggb24gJTA0eDol
MDJ4OiUwMnguJXVcbiIsCi0gICAgICAgICAgICAgICBtc2ktPmlycSwgbXNpLT5zZWcsIG1zaS0+
YnVzLCBzbG90LCBmdW5jKTsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgImlycSAlZCBhbHJl
YWR5IG1hcHBlZCB0byBNU0ktWCBvbiAlcHBcbiIsCisgICAgICAgICAgICAgICBtc2ktPmlycSwg
JnBkZXYtPnNiZGYpOwogICAgICAgICByZXR1cm4gLUVFWElTVDsKICAgICB9CiAKICAgICBvbGRf
ZGVzYyA9IGZpbmRfbXNpX2VudHJ5KHBkZXYsIC0xLCBQQ0lfQ0FQX0lEX01TSSk7CiAgICAgaWYg
KCBvbGRfZGVzYyApCiAgICAgewotICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIk1TSSBh
bHJlYWR5IGluIHVzZSBvbiAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgIG1z
aS0+c2VnLCBtc2ktPmJ1cywgc2xvdCwgZnVuYyk7CisgICAgICAgIHByaW50ayhYRU5MT0dfV0FS
TklORyAiTVNJIGFscmVhZHkgaW4gdXNlIG9uICVwcFxuIiwgJnBkZXYtPnNiZGYpOwogICAgICAg
ICBfX3BjaV9kaXNhYmxlX21zaShvbGRfZGVzYyk7CiAgICAgfQogCkBAIC0xMTcwLDkgKzExNjYs
OCBAQCBzdGF0aWMgdm9pZCBfX3BjaV9kaXNhYmxlX21zaXgoc3RydWN0IG1zaV9kZXNjICplbnRy
eSkKICAgICAgICAgd3JpdGVsKDEsIGVudHJ5LT5tYXNrX2Jhc2UgKyBQQ0lfTVNJWF9FTlRSWV9W
RUNUT1JfQ1RSTF9PRkZTRVQpOwogICAgIGVsc2UgaWYgKCAhKGNvbnRyb2wgJiBQQ0lfTVNJWF9G
TEFHU19NQVNLQUxMKSApCiAgICAgewotICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcKLSAg
ICAgICAgICAgICAgICJjYW5ub3QgZGlzYWJsZSBJUlEgJWQ6IG1hc2tpbmcgTVNJLVggb24gJTA0
eDolMDJ4OiUwMnguJXVcbiIsCi0gICAgICAgICAgICAgICBlbnRyeS0+aXJxLCBzZWcsIGJ1cywg
c2xvdCwgZnVuYyk7CisgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiY2Fubm90IGRpc2Fi
bGUgSVJRICVkOiBtYXNraW5nIE1TSS1YIG9uICVwcFxuIiwKKyAgICAgICAgICAgICAgIGVudHJ5
LT5pcnEsICZkZXYtPnNiZGYpOwogICAgICAgICBtYXNrYWxsID0gdHJ1ZTsKICAgICB9CiAgICAg
ZGV2LT5tc2l4LT5ob3N0X21hc2thbGwgPSBtYXNrYWxsOwpAQCAtMTMzOSw3ICsxMzM0LDYgQEAg
aW50IHBjaV9yZXN0b3JlX21zaV9zdGF0ZShzdHJ1Y3QgcGNpX2RldiAqcGRldikKICAgICBzdHJ1
Y3QgbXNpX2Rlc2MgKmVudHJ5LCAqdG1wOwogICAgIHN0cnVjdCBpcnFfZGVzYyAqZGVzYzsKICAg
ICBzdHJ1Y3QgbXNpX21zZyBtc2c7Ci0gICAgdTggc2xvdCA9IFBDSV9TTE9UKHBkZXYtPmRldmZu
KSwgZnVuYyA9IFBDSV9GVU5DKHBkZXYtPmRldmZuKTsKICAgICB1bnNpZ25lZCBpbnQgdHlwZSA9
IDAsIHBvcyA9IDA7CiAgICAgdTE2IGNvbnRyb2wgPSAwOwogCkBAIC0xMzY4LDkgKzEzNjIsOCBA
QCBpbnQgcGNpX3Jlc3RvcmVfbXNpX3N0YXRlKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgICAg
ICBpZiAoZGVzYy0+bXNpX2Rlc2MgIT0gZW50cnkpCiAgICAgICAgIHsKICAgICBib2d1czoKLSAg
ICAgICAgICAgIGRwcmludGsoWEVOTE9HX0VSUiwKLSAgICAgICAgICAgICAgICAgICAgIlJlc3Rv
cmUgTVNJIGZvciAlMDR4OiUwMng6JTAyeDoldSBlbnRyeSAldSBub3Qgc2V0P1xuIiwKLSAgICAg
ICAgICAgICAgICAgICAgcGRldi0+c2VnLCBwZGV2LT5idXMsIHNsb3QsIGZ1bmMsIGkpOworICAg
ICAgICAgICAgZHByaW50ayhYRU5MT0dfRVJSLCAiUmVzdG9yZSBNU0kgZm9yICVwcCBlbnRyeSAl
dSBub3Qgc2V0P1xuIiwKKyAgICAgICAgICAgICAgICAgICAgJnBkZXYtPnNiZGYsIGkpOwogICAg
ICAgICAgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZGVzYy0+bG9jaywgZmxhZ3MpOwogICAg
ICAgICAgICAgaWYgKCB0eXBlID09IFBDSV9DQVBfSURfTVNJWCApCiAgICAgICAgICAgICAgICAg
cGNpX2NvbmZfd3JpdGUxNihwZGV2LT5zYmRmLCBtc2l4X2NvbnRyb2xfcmVnKHBvcyksCmRpZmYg
LS1naXQgYS94ZW4vY29tbW9uL3ZzcHJpbnRmLmMgYi94ZW4vY29tbW9uL3ZzcHJpbnRmLmMKaW5k
ZXggMTgzZDNlZDRiYi4uNDM3MmJiYjhiNCAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi92c3ByaW50
Zi5jCisrKyBiL3hlbi9jb21tb24vdnNwcmludGYuYwpAQCAtMzk0LDYgKzM5NCwyMCBAQCBzdGF0
aWMgY2hhciAqcHJpbnRfdmNwdShjaGFyICpzdHIsIGNvbnN0IGNoYXIgKmVuZCwgY29uc3Qgc3Ry
dWN0IHZjcHUgKnYpCiAgICAgcmV0dXJuIG51bWJlcihzdHIgKyAxLCBlbmQsIHYtPnZjcHVfaWQs
IDEwLCAtMSwgLTEsIDApOwogfQogCitzdGF0aWMgY2hhciAqcHJpbnRfcGNpX2FkZHIoY2hhciAq
c3RyLCBjb25zdCBjaGFyICplbmQsIGNvbnN0IHBjaV9zYmRmX3QgKnNiZGYpCit7CisgICAgc3Ry
ID0gbnVtYmVyKHN0ciwgZW5kLCBzYmRmLT5zZWcsIDE2LCA0LCAtMSwgWkVST1BBRCk7CisgICAg
aWYgKCBzdHIgPCBlbmQgKQorICAgICAgICAqc3RyID0gJzonOworICAgIHN0ciA9IG51bWJlcihz
dHIgKyAxLCBlbmQsIHNiZGYtPmJ1cywgMTYsIDIsIC0xLCBaRVJPUEFEKTsKKyAgICBpZiAoIHN0
ciA8IGVuZCApCisgICAgICAgICpzdHIgPSAnOic7CisgICAgc3RyID0gbnVtYmVyKHN0ciArIDEs
IGVuZCwgc2JkZi0+ZGV2LCAxNiwgMiwgLTEsIFpFUk9QQUQpOworICAgIGlmICggc3RyIDwgZW5k
ICkKKyAgICAgICAgKnN0ciA9ICcuJzsKKyAgICByZXR1cm4gbnVtYmVyKHN0ciArIDEsIGVuZCwg
c2JkZi0+ZnVuYywgOCwgLTEsIC0xLCAwKTsKK30KKwogc3RhdGljIGNoYXIgKnBvaW50ZXIoY2hh
ciAqc3RyLCBjb25zdCBjaGFyICplbmQsIGNvbnN0IGNoYXIgKipmbXRfcHRyLAogICAgICAgICAg
ICAgICAgICAgICAgY29uc3Qgdm9pZCAqYXJnLCBpbnQgZmllbGRfd2lkdGgsIGludCBwcmVjaXNp
b24sCiAgICAgICAgICAgICAgICAgICAgICBpbnQgZmxhZ3MpCkBAIC00NzYsNiArNDkwLDEwIEBA
IHN0YXRpYyBjaGFyICpwb2ludGVyKGNoYXIgKnN0ciwgY29uc3QgY2hhciAqZW5kLCBjb25zdCBj
aGFyICoqZm10X3B0ciwKICAgICAgICAgfQogICAgIH0KIAorICAgIGNhc2UgJ3AnOiAvKiBQQ0kg
U0JERi4gKi8KKyAgICAgICAgKysqZm10X3B0cjsKKyAgICAgICAgcmV0dXJuIHByaW50X3BjaV9h
ZGRyKHN0ciwgZW5kLCBhcmcpOworCiAgICAgY2FzZSAncyc6IC8qIFN5bWJvbCBuYW1lIHdpdGgg
b2Zmc2V0IGFuZCBzaXplIChpZmYgb2Zmc2V0ICE9IDApICovCiAgICAgY2FzZSAnUyc6IC8qIFN5
bWJvbCBuYW1lIHVuY29uZGl0aW9uYWxseSB3aXRoIG9mZnNldCBhbmQgc2l6ZSAqLwogICAgIHsK
ZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9hY3BpLmMgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfYWNwaS5jCmluZGV4IDY0ZDEwNDgxZDcu
LjVkZTJiZmE3ZjMgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21t
dV9hY3BpLmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2FjcGkuYwpA
QCAtNzE3LDkgKzcxNyw4IEBAIHN0YXRpYyB1MTYgX19pbml0IHBhcnNlX2l2aGRfZGV2aWNlX3Nw
ZWNpYWwoCiAgICAgICAgIHJldHVybiAwOwogICAgIH0KIAotICAgIEFNRF9JT01NVV9ERUJVRygi
SVZIRCBTcGVjaWFsOiAlMDR4OiUwMng6JTAyeC4ldSB2YXJpZXR5ICUjeCBoYW5kbGUgJSN4XG4i
LAotICAgICAgICAgICAgICAgICAgICBzZWcsIFBDSV9CVVMoYmRmKSwgUENJX1NMT1QoYmRmKSwg
UENJX0ZVTkMoYmRmKSwKLSAgICAgICAgICAgICAgICAgICAgc3BlY2lhbC0+dmFyaWV0eSwgc3Bl
Y2lhbC0+aGFuZGxlKTsKKyAgICBBTURfSU9NTVVfREVCVUcoIklWSEQgU3BlY2lhbDogJXBwIHZh
cmlldHkgJSN4IGhhbmRsZSAlI3hcbiIsCisgICAgICAgICAgICAgICAgICAgICZQQ0lfU0JERjIo
c2VnLCBiZGYpLCBzcGVjaWFsLT52YXJpZXR5LCBzcGVjaWFsLT5oYW5kbGUpOwogICAgIGFkZF9p
dnJzX21hcHBpbmdfZW50cnkoYmRmLCBiZGYsIHNwZWNpYWwtPmhlYWRlci5kYXRhX3NldHRpbmcs
IGlvbW11KTsKIAogICAgIHN3aXRjaCAoIHNwZWNpYWwtPnZhcmlldHkgKQpAQCAtNzQyLDkgKzc0
MSw5IEBAIHN0YXRpYyB1MTYgX19pbml0IHBhcnNlX2l2aGRfZGV2aWNlX3NwZWNpYWwoCiAgICAg
ICAgIGlmICggaWR4IDwgbnJfaW9hcGljX3NiZGYgKQogICAgICAgICB7CiAgICAgICAgICAgICBB
TURfSU9NTVVfREVCVUcoIklWSEQ6IENvbW1hbmQgbGluZSBvdmVycmlkZSBwcmVzZW50IGZvciBJ
Ty1BUElDICUjeCIKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKElWUlM6ICUjeCBkZXZJ
RCAlMDR4OiUwMng6JTAyeC4ldSlcbiIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW9h
cGljX3NiZGZbaWR4XS5pZCwgc3BlY2lhbC0+aGFuZGxlLCBzZWcsCi0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgUENJX0JVUyhiZGYpLCBQQ0lfU0xPVChiZGYpLCBQQ0lfRlVOQyhiZGYpKTsK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKElWUlM6ICUjeCBkZXZJRCAlcHApXG4iLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvYXBpY19zYmRmW2lkeF0uaWQsIHNwZWNpYWwt
PmhhbmRsZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAmUENJX1NCREYyKHNlZywgYmRm
KSk7CiAgICAgICAgICAgICBicmVhazsKICAgICAgICAgfQogCkBAIC04MTQsOSArODEzLDkgQEAg
c3RhdGljIHUxNiBfX2luaXQgcGFyc2VfaXZoZF9kZXZpY2Vfc3BlY2lhbCgKICAgICAgICAgICAg
IGJyZWFrOwogICAgICAgICBjYXNlIEhQRVRfQ01ETDoKICAgICAgICAgICAgIEFNRF9JT01NVV9E
RUJVRygiSVZIRDogQ29tbWFuZCBsaW5lIG92ZXJyaWRlIHByZXNlbnQgZm9yIEhQRVQgJSN4ICIK
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKElWUlM6ICUjeCBkZXZJRCAlMDR4OiUwMng6
JTAyeC4ldSlcbiIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHBldF9zYmRmLmlkLCBz
cGVjaWFsLT5oYW5kbGUsIHNlZywgUENJX0JVUyhiZGYpLAotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFBDSV9TTE9UKGJkZiksIFBDSV9GVU5DKGJkZikpOworICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICIoSVZSUzogJSN4IGRldklEICVwcClcbiIsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaHBldF9zYmRmLmlkLCBzcGVjaWFsLT5oYW5kbGUsCisgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJlBDSV9TQkRGMihzZWcsIGJkZikpOwogICAgICAgICAgICAgYnJlYWs7CiAg
ICAgICAgIGNhc2UgSFBFVF9OT05FOgogICAgICAgICAgICAgLyogc2V0IGRldmljZSBpZCBvZiBo
cGV0ICovCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfY21k
LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfY21kLmMKaW5kZXggYWYzYTFm
Yjg2NS4uM2VlYjIxNGJhMyAxMDA2NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1k
L2lvbW11X2NtZC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9jbWQu
YwpAQCAtMjk2LDkgKzI5Niw4IEBAIHZvaWQgYW1kX2lvbW11X2ZsdXNoX2lvdGxiKHU4IGRldmZu
LCBjb25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldiwKIAogICAgIGlmICggIWlvbW11ICkKICAgICB7
Ci0gICAgICAgIEFNRF9JT01NVV9ERUJVRygiJXM6IENhbid0IGZpbmQgaW9tbXUgZm9yICUwNHg6
JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAgICAgICAgICAgX19mdW5jX18sIHBkZXYt
PnNlZywgcGRldi0+YnVzLAotICAgICAgICAgICAgICAgICAgICAgICAgUENJX1NMT1QocGRldi0+
ZGV2Zm4pLCBQQ0lfRlVOQyhwZGV2LT5kZXZmbikpOworICAgICAgICBBTURfSU9NTVVfREVCVUco
IiVzOiBDYW4ndCBmaW5kIGlvbW11IGZvciAlcHBcbiIsCisgICAgICAgICAgICAgICAgICAgICAg
ICBfX2Z1bmNfXywgJnBkZXYtPnNiZGYpOwogICAgICAgICByZXR1cm47CiAgICAgfQogCmRpZmYg
LS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfZGV0ZWN0LmMgYi94ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfZGV0ZWN0LmMKaW5kZXggMDY5ZGYxNTZkZS4u
OGJiZDBlZGQyMiAxMDA2NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11
X2RldGVjdC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9kZXRlY3Qu
YwpAQCAtMTUyLDkgKzE1Miw4IEBAIGludCBfX2luaXQgYW1kX2lvbW11X2RldGVjdF9vbmVfYWNw
aSgKIAogICAgIHJ0ID0gcGNpX3JvX2RldmljZShpb21tdS0+c2VnLCBidXMsIFBDSV9ERVZGTihk
ZXYsIGZ1bmMpKTsKICAgICBpZiAoIHJ0ICkKLSAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIKLSAg
ICAgICAgICAgICAgICJDb3VsZCBub3QgbWFyayBjb25maWcgc3BhY2Ugb2YgJTA0eDolMDJ4OiUw
MnguJXUgcmVhZC1vbmx5ICglZClcbiIsCi0gICAgICAgICAgICAgICBpb21tdS0+c2VnLCBidXMs
IGRldiwgZnVuYywgcnQpOworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiQ291bGQgbm90IG1h
cmsgY29uZmlnIHNwYWNlIG9mICVwcCByZWFkLW9ubHkgKCVkKVxuIiwKKyAgICAgICAgICAgICAg
ICZQQ0lfU0JERjIoaW9tbXUtPnNlZywgaW9tbXUtPmJkZiksIHJ0KTsKIAogICAgIGxpc3RfYWRk
X3RhaWwoJmlvbW11LT5saXN0LCAmYW1kX2lvbW11X2hlYWQpOwogICAgIHJ0ID0gMDsKZGlmZiAt
LWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9pbml0LmMgYi94ZW4vZHJp
dmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jCmluZGV4IGQxOTUzMTQ5M2IuLmZhNzk3
Y2Y5OTcgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9pbml0
LmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2luaXQuYwpAQCAtNzkz
LDkgKzc5Myw4IEBAIHN0YXRpYyBib29sX3QgX19pbml0IHNldF9pb21tdV9pbnRlcnJ1cHRfaGFu
ZGxlcihzdHJ1Y3QgYW1kX2lvbW11ICppb21tdSkKICAgICBwY2lkZXZzX3VubG9jaygpOwogICAg
IGlmICggIWlvbW11LT5tc2kuZGV2ICkKICAgICB7Ci0gICAgICAgIEFNRF9JT01NVV9ERUJVRygi
SU9NTVU6IG5vIHBkZXYgZm9yICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAg
ICAgICAgICAgaW9tbXUtPnNlZywgUENJX0JVUyhpb21tdS0+YmRmKSwKLSAgICAgICAgICAgICAg
ICAgICAgICAgIFBDSV9TTE9UKGlvbW11LT5iZGYpLCBQQ0lfRlVOQyhpb21tdS0+YmRmKSk7Cisg
ICAgICAgIEFNRF9JT01NVV9ERUJVRygiSU9NTVU6IG5vIHBkZXYgZm9yICVwcFxuIiwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICZQQ0lfU0JERjIoaW9tbXUtPnNlZywgaW9tbXUtPmJkZikpOwog
ICAgICAgICByZXR1cm4gMDsKICAgICB9CiAgICAgY29udHJvbCA9IHBjaV9jb25mX3JlYWQxNihQ
Q0lfU0JERjIoaW9tbXUtPnNlZywgaW9tbXUtPmJkZiksCkBAIC04MzQsOSArODMzLDYgQEAgc3Rh
dGljIGJvb2xfdCBfX2luaXQgc2V0X2lvbW11X2ludGVycnVwdF9oYW5kbGVyKHN0cnVjdCBhbWRf
aW9tbXUgKmlvbW11KQogc3RhdGljIHZvaWQgYW1kX2lvbW11X2VycmF0dW1fNzQ2X3dvcmthcm91
bmQoc3RydWN0IGFtZF9pb21tdSAqaW9tbXUpCiB7CiAgICAgdTMyIHZhbHVlOwotICAgIHU4IGJ1
cyA9IFBDSV9CVVMoaW9tbXUtPmJkZik7Ci0gICAgdTggZGV2ID0gUENJX1NMT1QoaW9tbXUtPmJk
Zik7Ci0gICAgdTggZnVuYyA9IFBDSV9GVU5DKGlvbW11LT5iZGYpOwogCiAgICAgaWYgKCAoYm9v
dF9jcHVfZGF0YS54ODYgIT0gMHgxNSkgfHwKICAgICAgICAgIChib290X2NwdV9kYXRhLng4Nl9t
b2RlbCA8IDB4MTApIHx8CkBAIC04NTQsOCArODUwLDggQEAgc3RhdGljIHZvaWQgYW1kX2lvbW11
X2VycmF0dW1fNzQ2X3dvcmthcm91bmQoc3RydWN0IGFtZF9pb21tdSAqaW9tbXUpCiAKICAgICBw
Y2lfY29uZl93cml0ZTMyKFBDSV9TQkRGMihpb21tdS0+c2VnLCBpb21tdS0+YmRmKSwgMHhmNCwg
dmFsdWUgfCAoMSA8PCAyKSk7CiAgICAgcHJpbnRrKFhFTkxPR19JTkZPCi0gICAgICAgICAgICJB
TUQtVmk6IEFwcGx5aW5nIGVycmF0dW0gNzQ2IHdvcmthcm91bmQgZm9yIElPTU1VIGF0ICUwNHg6
JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICBpb21tdS0+c2VnLCBidXMsIGRldiwgZnVuYyk7
CisgICAgICAgICAgICJBTUQtVmk6IEFwcGx5aW5nIGVycmF0dW0gNzQ2IHdvcmthcm91bmQgZm9y
IElPTU1VIGF0ICVwcFxuIiwKKyAgICAgICAgICAgJlBDSV9TQkRGMihpb21tdS0+c2VnLCBpb21t
dS0+YmRmKSk7CiAKICAgICAvKiBDbGVhciB0aGUgZW5hYmxlIHdyaXRpbmcgYml0ICovCiAgICAg
cGNpX2NvbmZfd3JpdGUzMihQQ0lfU0JERjIoaW9tbXUtPnNlZywgaW9tbXUtPmJkZiksIDB4ZjAs
IDB4OTApOwpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2lu
dHIuYyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9pbnRyLmMKaW5kZXggZGEz
YzNjMWE0NC4uNGQ2M2QzZmFkNSAxMDA2NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gv
YW1kL2lvbW11X2ludHIuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVf
aW50ci5jCkBAIC01MTEsOCArNTExLDcgQEAgc3RhdGljIHN0cnVjdCBhbWRfaW9tbXUgKl9maW5k
X2lvbW11X2Zvcl9kZXZpY2UoaW50IHNlZywgaW50IGJkZikKICAgICBpZiAoIGlvbW11ICkKICAg
ICAgICAgcmV0dXJuIGlvbW11OwogCi0gICAgQU1EX0lPTU1VX0RFQlVHKCJObyBJT01NVSBmb3Ig
TVNJIGRldiA9ICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAgICAgICBzZWcs
IFBDSV9CVVMoYmRmKSwgUENJX1NMT1QoYmRmKSwgUENJX0ZVTkMoYmRmKSk7CisgICAgQU1EX0lP
TU1VX0RFQlVHKCJObyBJT01NVSBmb3IgTVNJIGRldiA9ICVwcFxuIiwgJlBDSV9TQkRGMihzZWcs
IGJkZikpOwogICAgIHJldHVybiBFUlJfUFRSKC1FSU5WQUwpOwogfQogCkBAIC02ODcsMTAgKzY4
Niw3IEBAIHN0YXRpYyBpbnQgZHVtcF9pbnRyZW1hcF9tYXBwaW5nKHUxNiBzZWcsIHN0cnVjdCBp
dnJzX21hcHBpbmdzICppdnJzX21hcHBpbmcpCiAgICAgaWYgKCAhaXZyc19tYXBwaW5nICkKICAg
ICAgICAgcmV0dXJuIDA7CiAKLSAgICBwcmludGsoIiAgJTA0eDolMDJ4OiUwMng6JXU6XG4iLCBz
ZWcsCi0gICAgICAgICAgIFBDSV9CVVMoaXZyc19tYXBwaW5nLT5kdGVfcmVxdWVzdG9yX2lkKSwK
LSAgICAgICAgICAgUENJX1NMT1QoaXZyc19tYXBwaW5nLT5kdGVfcmVxdWVzdG9yX2lkKSwKLSAg
ICAgICAgICAgUENJX0ZVTkMoaXZyc19tYXBwaW5nLT5kdGVfcmVxdWVzdG9yX2lkKSk7CisgICAg
cHJpbnRrKCIgICVwcDpcbiIsICZQQ0lfU0JERjIoc2VnLCBpdnJzX21hcHBpbmctPmR0ZV9yZXF1
ZXN0b3JfaWQpKTsKIAogICAgIHNwaW5fbG9ja19pcnFzYXZlKCYoaXZyc19tYXBwaW5nLT5pbnRy
ZW1hcF9sb2NrKSwgZmxhZ3MpOwogICAgIGR1bXBfaW50cmVtYXBfdGFibGUoaXZyc19tYXBwaW5n
LT5pbnRyZW1hcF90YWJsZSk7CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9h
bWQvcGNpX2FtZF9pb21tdS5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL3BjaV9hbWRf
aW9tbXUuYwppbmRleCA2ZGRlYjc5MGEwLi4xZDcwN2FkNzhjIDEwMDY0NAotLS0gYS94ZW4vZHJp
dmVycy9wYXNzdGhyb3VnaC9hbWQvcGNpX2FtZF9pb21tdS5jCisrKyBiL3hlbi9kcml2ZXJzL3Bh
c3N0aHJvdWdoL2FtZC9wY2lfYW1kX2lvbW11LmMKQEAgLTUyLDkgKzUyLDggQEAgc3RydWN0IGFt
ZF9pb21tdSAqZmluZF9pb21tdV9mb3JfZGV2aWNlKGludCBzZWcsIGludCBiZGYpCiAgICAgICAg
ICAgICAgICAgdG1wLmR0ZV9yZXF1ZXN0b3JfaWQgPSBiZGY7CiAgICAgICAgICAgICBpdnJzX21h
cHBpbmdzW2JkZl0gPSB0bXA7CiAKLSAgICAgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAi
JTA0eDolMDJ4OiUwMnguJXUgbm90IGZvdW5kIGluIEFDUEkgdGFibGVzOyIKLSAgICAgICAgICAg
ICAgICAgICAiIHVzaW5nIHNhbWUgSU9NTVUgYXMgZnVuY3Rpb24gMFxuIiwKLSAgICAgICAgICAg
ICAgICAgICBzZWcsIFBDSV9CVVMoYmRmKSwgUENJX1NMT1QoYmRmKSwgUENJX0ZVTkMoYmRmKSk7
CisgICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIiVwcCBub3QgZm91bmQgaW4gQUNQ
SSB0YWJsZXM7IgorICAgICAgICAgICAgICAgICAgICIgdXNpbmcgc2FtZSBJT01NVSBhcyBmdW5j
dGlvbiAwXG4iLCAmUENJX1NCREYyKHNlZywgYmRmKSk7CiAKICAgICAgICAgICAgIC8qIHdyaXRl
IGlvbW11IGZpZWxkIGxhc3QgKi8KICAgICAgICAgICAgIGl2cnNfbWFwcGluZ3NbYmRmXS5pb21t
dSA9IGl2cnNfbWFwcGluZ3NbYmQwXS5pb21tdTsKQEAgLTMyNCw5ICszMjMsOCBAQCBzdGF0aWMg
aW50IHJlYXNzaWduX2RldmljZShzdHJ1Y3QgZG9tYWluICpzb3VyY2UsIHN0cnVjdCBkb21haW4g
KnRhcmdldCwKICAgICAgICAgcmV0dXJuIHJjOwogCiAgICAgYW1kX2lvbW11X3NldHVwX2RvbWFp
bl9kZXZpY2UodGFyZ2V0LCBpb21tdSwgZGV2Zm4sIHBkZXYpOwotICAgIEFNRF9JT01NVV9ERUJV
RygiUmUtYXNzaWduICUwNHg6JTAyeDolMDJ4LiV1IGZyb20gZG9tJWQgdG8gZG9tJWRcbiIsCi0g
ICAgICAgICAgICAgICAgICAgIHBkZXYtPnNlZywgcGRldi0+YnVzLCBQQ0lfU0xPVChkZXZmbiks
IFBDSV9GVU5DKGRldmZuKSwKLSAgICAgICAgICAgICAgICAgICAgc291cmNlLT5kb21haW5faWQs
IHRhcmdldC0+ZG9tYWluX2lkKTsKKyAgICBBTURfSU9NTVVfREVCVUcoIlJlLWFzc2lnbiAlcHAg
ZnJvbSBkb20lZCB0byBkb20lZFxuIiwKKyAgICAgICAgICAgICAgICAgICAgJnBkZXYtPnNiZGYs
IHNvdXJjZS0+ZG9tYWluX2lkLCB0YXJnZXQtPmRvbWFpbl9pZCk7CiAKICAgICByZXR1cm4gMDsK
IH0KQEAgLTQzMSwxNSArNDI5LDEyIEBAIHN0YXRpYyBpbnQgYW1kX2lvbW11X2FkZF9kZXZpY2Uo
dTggZGV2Zm4sIHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgICAgICBpZiAoIHBkZXYtPnR5cGUg
PT0gREVWX1RZUEVfUENJX0hPU1RfQlJJREdFICYmCiAgICAgICAgICAgICAgaXNfaGFyZHdhcmVf
ZG9tYWluKHBkZXYtPmRvbWFpbikgKQogICAgICAgICB7Ci0gICAgICAgICAgICBBTURfSU9NTVVf
REVCVUcoIlNraXBwaW5nIGhvc3QgYnJpZGdlICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHBkZXYtPnNlZywgcGRldi0+YnVzLCBQQ0lfU0xPVChkZXZm
biksCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgUENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAg
ICAgICAgIEFNRF9JT01NVV9ERUJVRygiU2tpcHBpbmcgaG9zdCBicmlkZ2UgJXBwXG4iLCAmcGRl
di0+c2JkZik7CiAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgfQogCi0gICAgICAgIEFN
RF9JT01NVV9ERUJVRygiTm8gaW9tbXUgZm9yICUwNHg6JTAyeDolMDJ4LiV1OyBjYW5ub3QgYmUg
aGFuZGVkIHRvIGQlZFxuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgIHBkZXYtPnNlZywgcGRl
di0+YnVzLCBQQ0lfU0xPVChkZXZmbiksIFBDSV9GVU5DKGRldmZuKSwKLSAgICAgICAgICAgICAg
ICAgICAgICAgIHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkKTsKKyAgICAgICAgQU1EX0lPTU1VX0RF
QlVHKCJObyBpb21tdSBmb3IgJXBwOyBjYW5ub3QgYmUgaGFuZGVkIHRvIGQlZFxuIiwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICZwZGV2LT5zYmRmLCBwZGV2LT5kb21haW4tPmRvbWFpbl9pZCk7
CiAgICAgICAgIHJldHVybiAtRU5PREVWOwogICAgIH0KIApAQCAtNDU4LDEwICs0NTMsOCBAQCBz
dGF0aWMgaW50IGFtZF9pb21tdV9yZW1vdmVfZGV2aWNlKHU4IGRldmZuLCBzdHJ1Y3QgcGNpX2Rl
diAqcGRldikKICAgICBpb21tdSA9IGZpbmRfaW9tbXVfZm9yX2RldmljZShwZGV2LT5zZWcsIGJk
Zik7CiAgICAgaWYgKCAhaW9tbXUgKQogICAgIHsKLSAgICAgICAgQU1EX0lPTU1VX0RFQlVHKCJG
YWlsIHRvIGZpbmQgaW9tbXUuIgotICAgICAgICAgICAgICAgICAgICAgICAgIiAlMDR4OiUwMng6
JTAyeC4ldSBjYW5ub3QgYmUgcmVtb3ZlZCBmcm9tIGRvbSVkXG4iLAotICAgICAgICAgICAgICAg
ICAgICAgICAgcGRldi0+c2VnLCBwZGV2LT5idXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMo
ZGV2Zm4pLAotICAgICAgICAgICAgICAgICAgICAgICAgcGRldi0+ZG9tYWluLT5kb21haW5faWQp
OworICAgICAgICBBTURfSU9NTVVfREVCVUcoIkZhaWwgdG8gZmluZCBpb21tdS4gJXBwIGNhbm5v
dCBiZSByZW1vdmVkIGZyb20gJXBkXG4iLAorICAgICAgICAgICAgICAgICAgICAgICAgJnBkZXYt
PnNiZGYsIHBkZXYtPmRvbWFpbik7CiAgICAgICAgIHJldHVybiAtRU5PREVWOwogICAgIH0KIApk
aWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMgYi94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9wY2kuYwppbmRleCBkM2ZmYWFmODU4Li5mYWY1Y2NkZDk1IDEwMDY0NAotLS0g
YS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9wY2kuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC9wY2kuYwpAQCAtMjM4LDExICsyMzgsNyBAQCBzdGF0aWMgdm9pZCBjaGVja19wZGV2KGNv
bnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgIChQQ0lfU1RBVFVTX1BBUklUWSB8IFBDSV9T
VEFUVVNfU0lHX1RBUkdFVF9BQk9SVCB8IFwKICAgICAgUENJX1NUQVRVU19SRUNfVEFSR0VUX0FC
T1JUIHwgUENJX1NUQVRVU19SRUNfTUFTVEVSX0FCT1JUIHwgXAogICAgICBQQ0lfU1RBVFVTX1NJ
R19TWVNURU1fRVJST1IgfCBQQ0lfU1RBVFVTX0RFVEVDVEVEX1BBUklUWSkKLSAgICB1MTYgc2Vn
ID0gcGRldi0+c2VnOwotICAgIHU4IGJ1cyA9IHBkZXYtPmJ1czsKLSAgICB1OCBkZXYgPSBQQ0lf
U0xPVChwZGV2LT5kZXZmbik7Ci0gICAgdTggZnVuYyA9IFBDSV9GVU5DKHBkZXYtPmRldmZuKTsK
LSAgICB1MTYgdmFsOworICAgICB1MTYgdmFsOwogCiAgICAgaWYgKCBjb21tYW5kX21hc2sgKQog
ICAgIHsKQEAgLTI1Miw4ICsyNDgsOCBAQCBzdGF0aWMgdm9pZCBjaGVja19wZGV2KGNvbnN0IHN0
cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgICAgICB2YWwgPSBwY2lfY29uZl9yZWFkMTYocGRldi0+
c2JkZiwgUENJX1NUQVRVUyk7CiAgICAgICAgIGlmICggdmFsICYgUENJX1NUQVRVU19DSEVDSyAp
CiAgICAgICAgIHsKLSAgICAgICAgICAgIHByaW50ayhYRU5MT0dfSU5GTyAiJTA0eDolMDJ4OiUw
MnguJXUgc3RhdHVzICUwNHggLT4gJTA0eFxuIiwKLSAgICAgICAgICAgICAgICAgICBzZWcsIGJ1
cywgZGV2LCBmdW5jLCB2YWwsIHZhbCAmIH5QQ0lfU1RBVFVTX0NIRUNLKTsKKyAgICAgICAgICAg
IHByaW50ayhYRU5MT0dfSU5GTyAiJXBwIHN0YXR1cyAlMDR4IC0+ICUwNHhcbiIsCisgICAgICAg
ICAgICAgICAgICAgJnBkZXYtPnNiZGYsIHZhbCwgdmFsICYgflBDSV9TVEFUVVNfQ0hFQ0spOwog
ICAgICAgICAgICAgcGNpX2NvbmZfd3JpdGUxNihwZGV2LT5zYmRmLCBQQ0lfU1RBVFVTLCB2YWwg
JiBQQ0lfU1RBVFVTX0NIRUNLKTsKICAgICAgICAgfQogICAgIH0KQEAgLTI3MCw5ICsyNjYsOCBA
QCBzdGF0aWMgdm9pZCBjaGVja19wZGV2KGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAg
ICAgICB2YWwgPSBwY2lfY29uZl9yZWFkMTYocGRldi0+c2JkZiwgUENJX1NFQ19TVEFUVVMpOwog
ICAgICAgICBpZiAoIHZhbCAmIFBDSV9TVEFUVVNfQ0hFQ0sgKQogICAgICAgICB7Ci0gICAgICAg
ICAgICBwcmludGsoWEVOTE9HX0lORk8KLSAgICAgICAgICAgICAgICAgICAiJTA0eDolMDJ4OiUw
MnguJXUgc2Vjb25kYXJ5IHN0YXR1cyAlMDR4IC0+ICUwNHhcbiIsCi0gICAgICAgICAgICAgICAg
ICAgc2VnLCBidXMsIGRldiwgZnVuYywgdmFsLCB2YWwgJiB+UENJX1NUQVRVU19DSEVDSyk7Cisg
ICAgICAgICAgICBwcmludGsoWEVOTE9HX0lORk8gIiVwcCBzZWNvbmRhcnkgc3RhdHVzICUwNHgg
LT4gJTA0eFxuIiwKKyAgICAgICAgICAgICAgICAgICAmcGRldi0+c2JkZiwgdmFsLCB2YWwgJiB+
UENJX1NUQVRVU19DSEVDSyk7CiAgICAgICAgICAgICBwY2lfY29uZl93cml0ZTE2KHBkZXYtPnNi
ZGYsIFBDSV9TRUNfU1RBVFVTLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgJiBQ
Q0lfU1RBVFVTX0NIRUNLKTsKICAgICAgICAgfQpAQCAtNDExLDggKzQwNiw4IEBAIHN0YXRpYyBz
dHJ1Y3QgcGNpX2RldiAqYWxsb2NfcGRldihzdHJ1Y3QgcGNpX3NlZyAqcHNlZywgdTggYnVzLCB1
OCBkZXZmbikKICAgICAgICAgICAgIGJyZWFrOwogCiAgICAgICAgIGRlZmF1bHQ6Ci0gICAgICAg
ICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIiUwNHg6JTAyeDolMDJ4LiV1OiB1bmtub3duIHR5
cGUgJWRcbiIsCi0gICAgICAgICAgICAgICAgICAgcHNlZy0+bnIsIGJ1cywgUENJX1NMT1QoZGV2
Zm4pLCBQQ0lfRlVOQyhkZXZmbiksIHBkZXYtPnR5cGUpOworICAgICAgICAgICAgcHJpbnRrKFhF
TkxPR19XQVJOSU5HICIlcHA6IHVua25vd24gdHlwZSAlZFxuIiwKKyAgICAgICAgICAgICAgICAg
ICAmcGRldi0+c2JkZiwgcGRldi0+dHlwZSk7CiAgICAgICAgICAgICBicmVhazsKICAgICB9CiAK
QEAgLTY0NCw5ICs2MzksOSBAQCB1bnNpZ25lZCBpbnQgcGNpX3NpemVfbWVtX2JhcihwY2lfc2Jk
Zl90IHNiZGYsIHVuc2lnbmVkIGludCBwb3MsCiAgICAgICAgIGlmICggZmxhZ3MgJiBQQ0lfQkFS
X0xBU1QgKQogICAgICAgICB7CiAgICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcKLSAg
ICAgICAgICAgICAgICAgICAiJXNkZXZpY2UgJTA0eDolMDJ4OiUwMnguJXUgd2l0aCA2NC1iaXQg
JXNCQVIgaW4gbGFzdCBzbG90XG4iLAotICAgICAgICAgICAgICAgICAgIChmbGFncyAmIFBDSV9C
QVJfVkYpID8gIlNSLUlPViAiIDogIiIsIHNiZGYuc2VnLCBzYmRmLmJ1cywKLSAgICAgICAgICAg
ICAgICAgICBzYmRmLmRldiwgc2JkZi5mdW5jLCAoZmxhZ3MgJiBQQ0lfQkFSX1ZGKSA/ICJ2ZiAi
IDogIiIpOworICAgICAgICAgICAgICAgICAgICIlc2RldmljZSAlcHAgd2l0aCA2NC1iaXQgJXNC
QVIgaW4gbGFzdCBzbG90XG4iLAorICAgICAgICAgICAgICAgICAgIChmbGFncyAmIFBDSV9CQVJf
VkYpID8gIlNSLUlPViAiIDogIiIsICZzYmRmLAorICAgICAgICAgICAgICAgICAgIChmbGFncyAm
IFBDSV9CQVJfVkYpID8gInZmICIgOiAiIik7CiAgICAgICAgICAgICAqcHNpemUgPSAwOwogICAg
ICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgIH0KQEAgLTc1MCw5ICs3NDUsOCBAQCBpbnQgcGNp
X2FkZF9kZXZpY2UodTE2IHNlZywgdTggYnVzLCB1OCBkZXZmbiwKICAgICAgICAgICAgICAgICAg
ICAgIFBDSV9CQVNFX0FERFJFU1NfU1BBQ0VfSU8gKQogICAgICAgICAgICAgICAgIHsKICAgICAg
ICAgICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5HCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAiU1ItSU9WIGRldmljZSAlMDR4OiUwMng6JTAyeC4ldSB3aXRoIHZmIEJBUiV1Igot
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBpbiBJTyBzcGFjZVxuIiwKLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHNlZywgYnVzLCBzbG90LCBmdW5jLCBpKTsKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICJTUi1JT1YgZGV2aWNlICVwcCB3aXRoIHZmIEJBUiV1IGluIElPIHNwYWNl
XG4iLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBkZXYtPnNiZGYsIGkpOwogICAgICAg
ICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg
ICAgcmV0ID0gcGNpX3NpemVfbWVtX2JhcihzYmRmLCBpZHgsIE5VTEwsICZwZGV2LT52Zl9ybGVu
W2ldLApAQCAtNzY0LDEwICs3NTgsOCBAQCBpbnQgcGNpX2FkZF9kZXZpY2UodTE2IHNlZywgdTgg
YnVzLCB1OCBkZXZmbiwKICAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICBlbHNlCi0g
ICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcKLSAgICAgICAgICAgICAgICAgICAiU1It
SU9WIGRldmljZSAlMDR4OiUwMng6JTAyeC4ldSBoYXMgaXRzIHZpcnR1YWwiCi0gICAgICAgICAg
ICAgICAgICAgIiBmdW5jdGlvbnMgYWxyZWFkeSBlbmFibGVkICglMDR4KVxuIiwKLSAgICAgICAg
ICAgICAgICAgICBzZWcsIGJ1cywgc2xvdCwgZnVuYywgY3RybCk7CisgICAgICAgICAgICBwcmlu
dGsoWEVOTE9HX1dBUk5JTkcgIlNSLUlPViBkZXZpY2UgJXBwIGhhcyBpdHMgdmlydHVhbCIKKyAg
ICAgICAgICAgICAgICAgICAiIGZ1bmN0aW9ucyBhbHJlYWR5IGVuYWJsZWQgKCUwNHgpXG4iLCAm
cGRldi0+c2JkZiwgY3RybCk7CiAgICAgfQogCiAgICAgY2hlY2tfcGRldihwZGV2KTsKQEAgLTc5
NCwxNSArNzg2LDE0IEBAIG91dDoKICAgICBwY2lkZXZzX3VubG9jaygpOwogICAgIGlmICggIXJl
dCApCiAgICAgewotICAgICAgICBwcmludGsoWEVOTE9HX0RFQlVHICJQQ0kgYWRkICVzICUwNHg6
JTAyeDolMDJ4LiV1XG4iLCBwZGV2X3R5cGUsCi0gICAgICAgICAgICAgICBzZWcsIGJ1cywgc2xv
dCwgZnVuYyk7CisgICAgICAgIHByaW50ayhYRU5MT0dfREVCVUcgIlBDSSBhZGQgJXMgJXBwXG4i
LCBwZGV2X3R5cGUsICAmcGRldi0+c2JkZik7CiAgICAgICAgIHdoaWxlICggcGRldi0+cGhhbnRv
bV9zdHJpZGUgKQogICAgICAgICB7CiAgICAgICAgICAgICBmdW5jICs9IHBkZXYtPnBoYW50b21f
c3RyaWRlOwogICAgICAgICAgICAgaWYgKCBQQ0lfU0xPVChmdW5jKSApCiAgICAgICAgICAgICAg
ICAgYnJlYWs7Ci0gICAgICAgICAgICBwcmludGsoWEVOTE9HX0RFQlVHICJQQ0kgcGhhbnRvbSAl
MDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgICAgICBzZWcsIGJ1cywgc2xvdCwg
ZnVuYyk7CisgICAgICAgICAgICBwcmludGsoWEVOTE9HX0RFQlVHICJQQ0kgcGhhbnRvbSAlcHBc
biIsCisgICAgICAgICAgICAgICAgICAgJlBDSV9TQkRGKHNlZywgYnVzLCBzbG90LCBmdW5jKSk7
CiAgICAgICAgIH0KICAgICB9CiAgICAgcmV0dXJuIHJldDsKQEAgLTgzMSw5ICs4MjIsOCBAQCBp
bnQgcGNpX3JlbW92ZV9kZXZpY2UodTE2IHNlZywgdTggYnVzLCB1OCBkZXZmbikKICAgICAgICAg
ICAgIGlmICggcGRldi0+ZG9tYWluICkKICAgICAgICAgICAgICAgICBsaXN0X2RlbCgmcGRldi0+
ZG9tYWluX2xpc3QpOwogICAgICAgICAgICAgcGNpX2NsZWFudXBfbXNpKHBkZXYpOworICAgICAg
ICAgICAgcHJpbnRrKFhFTkxPR19ERUJVRyAiUENJIHJlbW92ZSBkZXZpY2UgJXBwXG4iLCAmcGRl
di0+c2JkZik7CiAgICAgICAgICAgICBmcmVlX3BkZXYocHNlZywgcGRldik7Ci0gICAgICAgICAg
ICBwcmludGsoWEVOTE9HX0RFQlVHICJQQ0kgcmVtb3ZlIGRldmljZSAlMDR4OiUwMng6JTAyeC4l
dVxuIiwKLSAgICAgICAgICAgICAgICAgICBzZWcsIGJ1cywgUENJX1NMT1QoZGV2Zm4pLCBQQ0lf
RlVOQyhkZXZmbikpOwogICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIH0KIApAQCAtOTA3LDkg
Kzg5Nyw4IEBAIGludCBwY2lfcmVsZWFzZV9kZXZpY2VzKHN0cnVjdCBkb21haW4gKmQpCiAgICAg
ICAgIGJ1cyA9IHBkZXYtPmJ1czsKICAgICAgICAgZGV2Zm4gPSBwZGV2LT5kZXZmbjsKICAgICAg
ICAgaWYgKCBkZWFzc2lnbl9kZXZpY2UoZCwgcGRldi0+c2VnLCBidXMsIGRldmZuKSApCi0gICAg
ICAgICAgICBwcmludGsoImRvbWFpbiAlZDogZGVhc3NpZ24gZGV2aWNlICglMDR4OiUwMng6JTAy
eC4ldSkgZmFpbGVkIVxuIiwKLSAgICAgICAgICAgICAgICAgICBkLT5kb21haW5faWQsIHBkZXYt
PnNlZywgYnVzLAotICAgICAgICAgICAgICAgICAgIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMo
ZGV2Zm4pKTsKKyAgICAgICAgICAgIHByaW50aygiZG9tYWluICVkOiBkZWFzc2lnbiBkZXZpY2Ug
KCVwcCkgZmFpbGVkIVxuIiwKKyAgICAgICAgICAgICAgICAgICBkLT5kb21haW5faWQsICZwZGV2
LT5zYmRmKTsKICAgICB9CiAgICAgcGNpZGV2c191bmxvY2soKTsKIApAQCAtMTA1Niw4ICsxMDQ1
LDggQEAgc3RhdGljIGludCBfX2luaXQgX3NjYW5fcGNpX2RldmljZXMoc3RydWN0IHBjaV9zZWcg
KnBzZWcsIHZvaWQgKmFyZykKICAgICAgICAgICAgICAgICBwZGV2ID0gYWxsb2NfcGRldihwc2Vn
LCBidXMsIFBDSV9ERVZGTihkZXYsIGZ1bmMpKTsKICAgICAgICAgICAgICAgICBpZiAoICFwZGV2
ICkKICAgICAgICAgICAgICAgICB7Ci0gICAgICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0df
V0FSTklORyAiJTA0eDolMDJ4OiUwMnguJXU6IGFsbG9jX3BkZXYgZmFpbGVkXG4iLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcHNlZy0+bnIsIGJ1cywgZGV2LCBmdW5jKTsKKyAgICAgICAg
ICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5HICIlcHA6IGFsbG9jX3BkZXYgZmFpbGVk
XG4iLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgJlBDSV9TQkRGKHBzZWctPm5yLCBidXMs
IGRldiwgZnVuYykpOwogICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKICAgICAg
ICAgICAgICAgICB9CiAKQEAgLTEwOTgsOSArMTA4Nyw4IEBAIHN0YXRpYyB2b2lkIF9faHdkb21f
aW5pdCBzZXR1cF9vbmVfaHdkb21fZGV2aWNlKGNvbnN0IHN0cnVjdCBzZXR1cF9od2RvbSAqY3R4
dCwKICAgICAgICAgZXJyID0gY3R4dC0+aGFuZGxlcihkZXZmbiwgcGRldik7CiAgICAgICAgIGlm
ICggZXJyICkKICAgICAgICAgewotICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgInNldHVw
ICUwNHg6JTAyeDolMDJ4LiV1IGZvciBkJWQgZmFpbGVkICglZClcbiIsCi0gICAgICAgICAgICAg
ICAgICAgcGRldi0+c2VnLCBwZGV2LT5idXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2
Zm4pLAotICAgICAgICAgICAgICAgICAgIGN0eHQtPmQtPmRvbWFpbl9pZCwgZXJyKTsKKyAgICAg
ICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJzZXR1cCAlcHAgZm9yIGQlZCBmYWlsZWQgKCVkKVxu
IiwKKyAgICAgICAgICAgICAgICAgICAmcGRldi0+c2JkZiwgY3R4dC0+ZC0+ZG9tYWluX2lkLCBl
cnIpOwogICAgICAgICAgICAgaWYgKCBkZXZmbiA9PSBwZGV2LT5kZXZmbiApCiAgICAgICAgICAg
ICAgICAgcmV0dXJuOwogICAgICAgICB9CkBAIC0xMTQxLDkgKzExMjksOCBAQCBzdGF0aWMgaW50
IF9faHdkb21faW5pdCBfc2V0dXBfaHdkb21fcGNpX2RldmljZXMoc3RydWN0IHBjaV9zZWcgKnBz
ZWcsIHZvaWQgKmFyZwogICAgICAgICAgICAgICAgIHBkZXYtPmRvbWFpbiA9IGRvbV94ZW47CiAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICBlbHNlIGlmICggcGRldi0+ZG9tYWluICE9IGN0eHQt
PmQgKQotICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiRG9tJWQgb3duaW5n
ICUwNHg6JTAyeDolMDJ4LiV1P1xuIiwKLSAgICAgICAgICAgICAgICAgICAgICAgcGRldi0+ZG9t
YWluLT5kb21haW5faWQsIHBzZWctPm5yLCBidXMsCi0gICAgICAgICAgICAgICAgICAgICAgIFBD
SV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgICAgICAgICBwcmludGso
WEVOTE9HX1dBUk5JTkcgIkRvbSVkIG93bmluZyAlcHA/XG4iLAorICAgICAgICAgICAgICAgICAg
ICAgICBwZGV2LT5kb21haW4tPmRvbWFpbl9pZCwgJnBkZXYtPnNiZGYpOwogCiAgICAgICAgICAg
ICBpZiAoIGlvbW11X3ZlcmJvc2UgKQogICAgICAgICAgICAgewpAQCAtMTI3OSwxMCArMTI2Niw4
IEBAIHN0YXRpYyBpbnQgX2R1bXBfcGNpX2RldmljZXMoc3RydWN0IHBjaV9zZWcgKnBzZWcsIHZv
aWQgKmFyZykKIAogICAgIGxpc3RfZm9yX2VhY2hfZW50cnkgKCBwZGV2LCAmcHNlZy0+YWxsZGV2
c19saXN0LCBhbGxkZXZzX2xpc3QgKQogICAgIHsKLSAgICAgICAgcHJpbnRrKCIlMDR4OiUwMng6
JTAyeC4ldSAtIGRvbSAlLTNkIC0gbm9kZSAlLTNkIC0gTVNJcyA8ICIsCi0gICAgICAgICAgICAg
ICBwc2VnLT5uciwgcGRldi0+YnVzLAotICAgICAgICAgICAgICAgUENJX1NMT1QocGRldi0+ZGV2
Zm4pLCBQQ0lfRlVOQyhwZGV2LT5kZXZmbiksCi0gICAgICAgICAgICAgICBwZGV2LT5kb21haW4g
PyBwZGV2LT5kb21haW4tPmRvbWFpbl9pZCA6IC0xLAorICAgICAgICBwcmludGsoIiVwcCAtIGRv
bSAlLTNkIC0gbm9kZSAlLTNkIC0gTVNJcyA8ICIsCisgICAgICAgICAgICAgICAmcGRldi0+c2Jk
ZiwgcGRldi0+ZG9tYWluID8gcGRldi0+ZG9tYWluLT5kb21haW5faWQgOiAtMSwKICAgICAgICAg
ICAgICAgIChwZGV2LT5ub2RlICE9IE5VTUFfTk9fTk9ERSkgPyBwZGV2LT5ub2RlIDogLTEpOwog
ICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5ICggbXNpLCAmcGRldi0+bXNpX2xpc3QsIGxpc3Qg
KQogICAgICAgICAgICAgICAgcHJpbnRrKCIlZCAiLCBtc2ktPmlycSk7CkBAIC0xMzQ3LDggKzEz
MzIsOCBAQCBzdGF0aWMgaW50IGlvbW11X2FkZF9kZXZpY2Uoc3RydWN0IHBjaV9kZXYgKnBkZXYp
CiAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgcmMgPSBoZC0+cGxhdGZvcm1fb3BzLT5h
ZGRfZGV2aWNlKGRldmZuLCBwY2lfdG9fZGV2KHBkZXYpKTsKICAgICAgICAgaWYgKCByYyApCi0g
ICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIklPTU1VOiBhZGQgJTA0eDolMDJ4OiUw
MnguJXUgZmFpbGVkICglZClcbiIsCi0gICAgICAgICAgICAgICAgICAgcGRldi0+c2VnLCBwZGV2
LT5idXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLCByYyk7CisgICAgICAgICAg
ICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIklPTU1VOiBhZGQgJXBwIGZhaWxlZCAoJWQpXG4iLAor
ICAgICAgICAgICAgICAgICAgICZwZGV2LT5zYmRmLCByYyk7CiAgICAgfQogfQogCkBAIC0xMzky
LDggKzEzNzcsNyBAQCBzdGF0aWMgaW50IGlvbW11X3JlbW92ZV9kZXZpY2Uoc3RydWN0IHBjaV9k
ZXYgKnBkZXYpCiAgICAgICAgIGlmICggIXJjICkKICAgICAgICAgICAgIGNvbnRpbnVlOwogCi0g
ICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJJT01NVTogcmVtb3ZlICUwNHg6JTAyeDolMDJ4LiV1
IGZhaWxlZCAoJWQpXG4iLAotICAgICAgICAgICAgICAgcGRldi0+c2VnLCBwZGV2LT5idXMsIFBD
SV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLCByYyk7CisgICAgICAgIHByaW50ayhYRU5M
T0dfRVJSICJJT01NVTogcmVtb3ZlICVwcCBmYWlsZWQgKCVkKVxuIiwgJnBkZXYtPnNiZGYsIHJj
KTsKICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIApAQCAtMTQ2Myw5ICsxNDQ3LDggQEAgc3Rh
dGljIGludCBhc3NpZ25fZGV2aWNlKHN0cnVjdCBkb21haW4gKmQsIHUxNiBzZWcsIHU4IGJ1cywg
dTggZGV2Zm4sIHUzMiBmbGFnKQogICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIHJjID0gaGQt
PnBsYXRmb3JtX29wcy0+YXNzaWduX2RldmljZShkLCBkZXZmbiwgcGNpX3RvX2RldihwZGV2KSwg
ZmxhZyk7CiAgICAgICAgIGlmICggcmMgKQotICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19HX1dB
Uk5JTkcgImQlZDogYXNzaWduICUwNHg6JTAyeDolMDJ4LiV1IGZhaWxlZCAoJWQpXG4iLAotICAg
ICAgICAgICAgICAgICAgIGQtPmRvbWFpbl9pZCwgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwg
UENJX0ZVTkMoZGV2Zm4pLAotICAgICAgICAgICAgICAgICAgIHJjKTsKKyAgICAgICAgICAgIHBy
aW50ayhYRU5MT0dfR19XQVJOSU5HICJkJWQ6IGFzc2lnbiAlcHAgZmFpbGVkICglZClcbiIsCisg
ICAgICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkLCAmUENJX1NCREYzKHNlZywgYnVzLCBkZXZm
biksIHJjKTsKICAgICB9CiAKICBkb25lOgpAQCAtMTUwMSw4ICsxNDg0LDggQEAgaW50IGRlYXNz
aWduX2RldmljZShzdHJ1Y3QgZG9tYWluICpkLCB1MTYgc2VnLCB1OCBidXMsIHU4IGRldmZuKQog
ICAgICAgICBpZiAoICFyZXQgKQogICAgICAgICAgICAgY29udGludWU7CiAKLSAgICAgICAgcHJp
bnRrKFhFTkxPR19HX0VSUiAiZCVkOiBkZWFzc2lnbiAlMDR4OiUwMng6JTAyeC4ldSBmYWlsZWQg
KCVkKVxuIiwKLSAgICAgICAgICAgICAgIGQtPmRvbWFpbl9pZCwgc2VnLCBidXMsIFBDSV9TTE9U
KGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLCByZXQpOworICAgICAgICBwcmludGsoWEVOTE9HX0df
RVJSICJkJWQ6IGRlYXNzaWduICVwcCBmYWlsZWQgKCVkKVxuIiwKKyAgICAgICAgICAgICAgIGQt
PmRvbWFpbl9pZCwgJlBDSV9TQkRGMyhzZWcsIGJ1cywgZGV2Zm4pLCByZXQpOwogICAgICAgICBy
ZXR1cm4gcmV0OwogICAgIH0KIApAQCAtMTUxMSw5ICsxNDk0LDggQEAgaW50IGRlYXNzaWduX2Rl
dmljZShzdHJ1Y3QgZG9tYWluICpkLCB1MTYgc2VnLCB1OCBidXMsIHU4IGRldmZuKQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY2lfdG9fZGV2KHBkZXYpKTsK
ICAgICBpZiAoIHJldCApCiAgICAgewotICAgICAgICBkcHJpbnRrKFhFTkxPR19HX0VSUiwKLSAg
ICAgICAgICAgICAgICAiZCVkOiBkZWFzc2lnbiBkZXZpY2UgKCUwNHg6JTAyeDolMDJ4LiV1KSBm
YWlsZWRcbiIsCi0gICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkLCBzZWcsIGJ1cywgUENJX1NM
T1QoZGV2Zm4pLCBQQ0lfRlVOQyhkZXZmbikpOworICAgICAgICBkcHJpbnRrKFhFTkxPR19HX0VS
UiwgImQlZDogZGVhc3NpZ24gZGV2aWNlICglcHApIGZhaWxlZFxuIiwKKyAgICAgICAgICAgICAg
ICBkLT5kb21haW5faWQsICZwZGV2LT5zYmRmKTsKICAgICAgICAgcmV0dXJuIHJldDsKICAgICB9
CiAKQEAgLTE1OTAsMTAgKzE1NzIsOCBAQCB2b2lkIGlvbW11X2Rldl9pb3RsYl9mbHVzaF90aW1l
b3V0KHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgIF9wY2lfaGlk
ZV9kZXZpY2UocGRldik7CiAKICAgICBpZiAoICFkLT5pc19zaHV0dGluZ19kb3duICYmIHByaW50
a19yYXRlbGltaXQoKSApCi0gICAgICAgIHByaW50ayhYRU5MT0dfRVJSCi0gICAgICAgICAgICAg
ICAiZG9tJWQ6IEFUUyBkZXZpY2UgJTA0eDolMDJ4OiUwMnguJXUgZmx1c2ggZmFpbGVkXG4iLAot
ICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkLCBwZGV2LT5zZWcsIHBkZXYtPmJ1cywgUENJX1NM
T1QocGRldi0+ZGV2Zm4pLAotICAgICAgICAgICAgICAgUENJX0ZVTkMocGRldi0+ZGV2Zm4pKTsK
KyAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgImRvbSVkOiBBVFMgZGV2aWNlICVwcCBmbHVzaCBm
YWlsZWRcbiIsCisgICAgICAgICAgICAgICBkLT5kb21haW5faWQsICZwZGV2LT5zYmRmKTsKICAg
ICBpZiAoICFpc19oYXJkd2FyZV9kb21haW4oZCkgKQogICAgICAgICBkb21haW5fY3Jhc2goZCk7
CiAKQEAgLTE2ODIsOSArMTY2Miw4IEBAIGludCBpb21tdV9kb19wY2lfZG9tY3RsKAogICAgICAg
ICB7CiAgICAgICAgICAgICBpZiAoIHJldCApCiAgICAgICAgICAgICB7Ci0gICAgICAgICAgICAg
ICAgcHJpbnRrKFhFTkxPR19HX0lORk8KLSAgICAgICAgICAgICAgICAgICAgICAgIiUwNHg6JTAy
eDolMDJ4LiV1IGFscmVhZHkgYXNzaWduZWQsIG9yIG5vbi1leGlzdGVudFxuIiwKLSAgICAgICAg
ICAgICAgICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4p
KTsKKyAgICAgICAgICAgICAgICBwcmludGsoWEVOTE9HX0dfSU5GTyAiJXBwIGFscmVhZHkgYXNz
aWduZWQsIG9yIG5vbi1leGlzdGVudFxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgJlBDSV9T
QkRGMyhzZWcsIGJ1cywgZGV2Zm4pKTsKICAgICAgICAgICAgICAgICByZXQgPSAtRUlOVkFMOwog
ICAgICAgICAgICAgfQogICAgICAgICAgICAgYnJlYWs7CkBAIC0xNjk2LDkgKzE2NzUsOCBAQCBp
bnQgaW9tbXVfZG9fcGNpX2RvbWN0bCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJoIiwgdV9kb21jdGwpOwogICAgICAgICBlbHNlIGlmICggcmV0ICkK
ICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIlhFTl9ET01DVExfYXNzaWduX2Rldmlj
ZTogIgotICAgICAgICAgICAgICAgICAgICJhc3NpZ24gJTA0eDolMDJ4OiUwMnguJXUgdG8gZG9t
JWQgZmFpbGVkICglZClcbiIsCi0gICAgICAgICAgICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9U
KGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLAotICAgICAgICAgICAgICAgICAgIGQtPmRvbWFpbl9p
ZCwgcmV0KTsKKyAgICAgICAgICAgICAgICAgICAiYXNzaWduICVwcCB0byBkb20lZCBmYWlsZWQg
KCVkKVxuIiwKKyAgICAgICAgICAgICAgICAgICAmUENJX1NCREYzKHNlZywgYnVzLCBkZXZmbiks
IGQtPmRvbWFpbl9pZCwgcmV0KTsKIAogICAgICAgICBicmVhazsKIApAQCAtMTczMiwxMCArMTcx
MCw4IEBAIGludCBpb21tdV9kb19wY2lfZG9tY3RsKAogICAgICAgICByZXQgPSBkZWFzc2lnbl9k
ZXZpY2UoZCwgc2VnLCBidXMsIGRldmZuKTsKICAgICAgICAgcGNpZGV2c191bmxvY2soKTsKICAg
ICAgICAgaWYgKCByZXQgKQotICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19HX0VSUgotICAgICAg
ICAgICAgICAgICAgICJkZWFzc2lnbiAlMDR4OiUwMng6JTAyeC4ldSBmcm9tIGRvbSVkIGZhaWxl
ZCAoJWQpXG4iLAotICAgICAgICAgICAgICAgICAgIHNlZywgYnVzLCBQQ0lfU0xPVChkZXZmbiks
IFBDSV9GVU5DKGRldmZuKSwKLSAgICAgICAgICAgICAgICAgICBkLT5kb21haW5faWQsIHJldCk7
CisgICAgICAgICAgICBwcmludGsoWEVOTE9HX0dfRVJSICJkZWFzc2lnbiAlcHAgZnJvbSBkb20l
ZCBmYWlsZWQgKCVkKVxuIiwKKyAgICAgICAgICAgICAgICAgICAmUENJX1NCREYzKHNlZywgYnVz
LCBkZXZmbiksIGQtPmRvbWFpbl9pZCwgcmV0KTsKIAogICAgICAgICBicmVhazsKIApkaWZmIC0t
Z2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2RtYXIuYyBiL3hlbi9kcml2ZXJzL3Bh
c3N0aHJvdWdoL3Z0ZC9kbWFyLmMKaW5kZXggOWM5NGRlYWMwYi4uNGMwZDJmNjY3MiAxMDA2NDQK
LS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2RtYXIuYworKysgYi94ZW4vZHJpdmVy
cy9wYXNzdGhyb3VnaC92dGQvZG1hci5jCkBAIC0zNjEsOSArMzYxLDggQEAgc3RhdGljIGludCBf
X2luaXQgYWNwaV9wYXJzZV9kZXZfc2NvcGUoCiAgICAgICAgICAgICBzdWJfYnVzID0gcGNpX2Nv
bmZfcmVhZDgoUENJX1NCREYoc2VnLCBidXMsIHBhdGgtPmRldiwgcGF0aC0+Zm4pLAogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBDSV9TVUJPUkRJTkFURV9CVVMpOwogICAg
ICAgICAgICAgaWYgKCBpb21tdV92ZXJib3NlICkKLSAgICAgICAgICAgICAgICBwcmludGsoVlRE
UFJFRklYCi0gICAgICAgICAgICAgICAgICAgICAgICIgYnJpZGdlOiAlMDR4OiUwMng6JTAyeC4l
dSBzdGFydD0leCBzZWM9JXggc3ViPSV4XG4iLAotICAgICAgICAgICAgICAgICAgICAgICBzZWcs
IGJ1cywgcGF0aC0+ZGV2LCBwYXRoLT5mbiwKKyAgICAgICAgICAgICAgICBwcmludGsoVlREUFJF
RklYICIgYnJpZGdlOiAlcHAgc3RhcnQ9JXggc2VjPSV4IHN1Yj0leFxuIiwKKyAgICAgICAgICAg
ICAgICAgICAgICAgJlBDSV9TQkRGKHNlZywgYnVzLCBwYXRoLT5kZXYsIHBhdGgtPmZuKSwKICAg
ICAgICAgICAgICAgICAgICAgICAgYWNwaV9zY29wZS0+YnVzLCBzZWNfYnVzLCBzdWJfYnVzKTsK
IAogICAgICAgICAgICAgZG1hcl9zY29wZV9hZGRfYnVzZXMoc2NvcGUsIHNlY19idXMsIHN1Yl9i
dXMpOwpAQCAtMzcxLDggKzM3MCw4IEBAIHN0YXRpYyBpbnQgX19pbml0IGFjcGlfcGFyc2VfZGV2
X3Njb3BlKAogCiAgICAgICAgIGNhc2UgQUNQSV9ETUFSX1NDT1BFX1RZUEVfSFBFVDoKICAgICAg
ICAgICAgIGlmICggaW9tbXVfdmVyYm9zZSApCi0gICAgICAgICAgICAgICAgcHJpbnRrKFZURFBS
RUZJWCAiIE1TSSBIUEVUOiAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgICAg
ICAgICAgc2VnLCBidXMsIHBhdGgtPmRldiwgcGF0aC0+Zm4pOworICAgICAgICAgICAgICAgIHBy
aW50ayhWVERQUkVGSVggIiBNU0kgSFBFVDogJXBwXG4iLAorICAgICAgICAgICAgICAgICAgICAg
ICAmUENJX1NCREYoc2VnLCBidXMsIHBhdGgtPmRldiwgcGF0aC0+Zm4pKTsKIAogICAgICAgICAg
ICAgaWYgKCBkcmhkICkKICAgICAgICAgICAgIHsKQEAgLTM5Myw4ICszOTIsOCBAQCBzdGF0aWMg
aW50IF9faW5pdCBhY3BpX3BhcnNlX2Rldl9zY29wZSgKIAogICAgICAgICBjYXNlIEFDUElfRE1B
Ul9TQ09QRV9UWVBFX0VORFBPSU5UOgogICAgICAgICAgICAgaWYgKCBpb21tdV92ZXJib3NlICkK
LSAgICAgICAgICAgICAgICBwcmludGsoVlREUFJFRklYICIgZW5kcG9pbnQ6ICUwNHg6JTAyeDol
MDJ4LiV1XG4iLAotICAgICAgICAgICAgICAgICAgICAgICBzZWcsIGJ1cywgcGF0aC0+ZGV2LCBw
YXRoLT5mbik7CisgICAgICAgICAgICAgICAgcHJpbnRrKFZURFBSRUZJWCAiIGVuZHBvaW50OiAl
cHBcbiIsCisgICAgICAgICAgICAgICAgICAgICAgICZQQ0lfU0JERihzZWcsIGJ1cywgcGF0aC0+
ZGV2LCBwYXRoLT5mbikpOwogCiAgICAgICAgICAgICBpZiAoIGRyaGQgKQogICAgICAgICAgICAg
ewpAQCAtNDA3LDggKzQwNiw4IEBAIHN0YXRpYyBpbnQgX19pbml0IGFjcGlfcGFyc2VfZGV2X3Nj
b3BlKAogCiAgICAgICAgIGNhc2UgQUNQSV9ETUFSX1NDT1BFX1RZUEVfSU9BUElDOgogICAgICAg
ICAgICAgaWYgKCBpb21tdV92ZXJib3NlICkKLSAgICAgICAgICAgICAgICBwcmludGsoVlREUFJF
RklYICIgSU9BUElDOiAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgICAgICAg
ICAgc2VnLCBidXMsIHBhdGgtPmRldiwgcGF0aC0+Zm4pOworICAgICAgICAgICAgICAgIHByaW50
ayhWVERQUkVGSVggIiBJT0FQSUM6ICVwcFxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgJlBD
SV9TQkRGKHNlZywgYnVzLCBwYXRoLT5kZXYsIHBhdGgtPmZuKSk7CiAKICAgICAgICAgICAgIGlm
ICggZHJoZCApCiAgICAgICAgICAgICB7CkBAIC01MzcsOCArNTM2LDggQEAgYWNwaV9wYXJzZV9v
bmVfZHJoZChzdHJ1Y3QgYWNwaV9kbWFyX2hlYWRlciAqaGVhZGVyKQogCiAgICAgICAgICAgICBp
ZiAoICFwY2lfZGV2aWNlX2RldGVjdChkcmhkLT5zZWdtZW50LCBiLCBkLCBmKSApCiAgICAgICAg
ICAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5HIFZURFBSRUZJWAotICAgICAgICAgICAgICAg
ICAgICAgICAiIE5vbi1leGlzdGVudCBkZXZpY2UgKCUwNHg6JTAyeDolMDJ4LiV1KSBpbiB0aGlz
IERSSEQncyBzY29wZSFcbiIsCi0gICAgICAgICAgICAgICAgICAgICAgIGRyaGQtPnNlZ21lbnQs
IGIsIGQsIGYpOworICAgICAgICAgICAgICAgICAgICAgICAiIE5vbi1leGlzdGVudCBkZXZpY2Ug
KCVwcCkgaW4gdGhpcyBEUkhEJ3Mgc2NvcGUhXG4iLAorICAgICAgICAgICAgICAgICAgICAgICAm
UENJX1NCREYoZHJoZC0+c2VnbWVudCwgYiwgZCwgZikpOwogICAgICAgICB9CiAKICAgICAgICAg
YWNwaV9yZWdpc3Rlcl9kcmhkX3VuaXQoZG1hcnUpOwpAQCAtNTc0LDkgKzU3Myw5IEBAIHN0YXRp
YyBpbnQgcmVnaXN0ZXJfb25lX3JtcnIoc3RydWN0IGFjcGlfcm1ycl91bml0ICpybXJydSkKICAg
ICAgICAgaWYgKCBwY2lfZGV2aWNlX2RldGVjdChybXJydS0+c2VnbWVudCwgYiwgZCwgZikgPT0g
MCApCiAgICAgICAgIHsKICAgICAgICAgICAgIGRwcmludGsoWEVOTE9HX1dBUk5JTkcgVlREUFJF
RklYLAotICAgICAgICAgICAgICAgICAgICAiIE5vbi1leGlzdGVudCBkZXZpY2UgKCUwNHg6JTAy
eDolMDJ4LiV1KSBpcyByZXBvcnRlZCIKKyAgICAgICAgICAgICAgICAgICAgIiBOb24tZXhpc3Rl
bnQgZGV2aWNlICglcHApIGlzIHJlcG9ydGVkIgogICAgICAgICAgICAgICAgICAgICAiIGluIFJN
UlIgKCUiUFJJeDY0IiwgJSJQUkl4NjQiKSdzIHNjb3BlIVxuIiwKLSAgICAgICAgICAgICAgICAg
ICAgcm1ycnUtPnNlZ21lbnQsIGIsIGQsIGYsCisgICAgICAgICAgICAgICAgICAgICZQQ0lfU0JE
RihybXJydS0+c2VnbWVudCwgYiwgZCwgZiksCiAgICAgICAgICAgICAgICAgICAgIHJtcnJ1LT5i
YXNlX2FkZHJlc3MsIHJtcnJ1LT5lbmRfYWRkcmVzcyk7CiAgICAgICAgICAgICBpZ25vcmUgPSB0
cnVlOwogICAgICAgICB9CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQv
aW50cmVtYXAuYyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9pbnRyZW1hcC5jCmluZGV4
IGRmMGU4YWM1Y2IuLjliODZmYThiYjcgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL3Z0ZC9pbnRyZW1hcC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9pbnRy
ZW1hcC5jCkBAIC01MjQsMTYgKzUyNCwxMyBAQCBzdGF0aWMgdm9pZCBzZXRfbXNpX3NvdXJjZV9p
ZChzdHJ1Y3QgcGNpX2RldiAqcGRldiwgc3RydWN0IGlyZW1hcF9lbnRyeSAqaXJlKQogICAgICAg
ICB9CiAgICAgICAgIGVsc2UKICAgICAgICAgICAgIGRwcmludGsoWEVOTE9HX1dBUk5JTkcgVlRE
UFJFRklYLAotICAgICAgICAgICAgICAgICAgICAiZCVkOiBubyB1cHN0cmVhbSBicmlkZ2UgZm9y
ICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAgICAgICBwZGV2LT5kb21haW4t
PmRvbWFpbl9pZCwKLSAgICAgICAgICAgICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZu
KSwgUENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgICAgICAgICAgICAgImQlZDogbm8gdXBzdHJl
YW0gYnJpZGdlIGZvciAlcHBcbiIsCisgICAgICAgICAgICAgICAgICAgIHBkZXYtPmRvbWFpbi0+
ZG9tYWluX2lkLCAmcGRldi0+c2JkZik7CiAgICAgICAgIGJyZWFrOwogCiAgICAgZGVmYXVsdDoK
LSAgICAgICAgZHByaW50ayhYRU5MT0dfV0FSTklORyBWVERQUkVGSVgsCi0gICAgICAgICAgICAg
ICAgImQlZDogdW5rbm93bigldSk6ICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAg
ICAgIHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkLCBwZGV2LT50eXBlLAotICAgICAgICAgICAgICAg
IHNlZywgYnVzLCBQQ0lfU0xPVChkZXZmbiksIFBDSV9GVU5DKGRldmZuKSk7CisgICAgICAgIGRw
cmludGsoWEVOTE9HX1dBUk5JTkcgVlREUFJFRklYLCAiZCVkOiB1bmtub3duKCV1KTogJXBwXG4i
LAorICAgICAgICAgICAgICAgIHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkLCBwZGV2LT50eXBlLCAm
cGRldi0+c2JkZik7CiAgICAgICAgIGJyZWFrOwogICAgfQogfQpkaWZmIC0tZ2l0IGEveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvdnRkL2lvbW11LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92
dGQvaW9tbXUuYwppbmRleCA0Y2FmNjNjN2ZhLi5jODRjNTNlNzZiIDEwMDY0NAotLS0gYS94ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC92dGQvaW9tbXUuYwpAQCAtODgyLDI3ICs4ODIsMjQgQEAgc3RhdGljIGludCBpb21tdV9w
YWdlX2ZhdWx0X2RvX29uZShzdHJ1Y3QgaW9tbXUgKmlvbW11LCBpbnQgdHlwZSwKICAgICB7CiAg
ICAgY2FzZSBETUFfUkVNQVA6CiAgICAgICAgIHByaW50ayhYRU5MT0dfR19XQVJOSU5HIFZURFBS
RUZJWAotICAgICAgICAgICAgICAgIkRNQVI6WyVzXSBSZXF1ZXN0IGRldmljZSBbJTA0eDolMDJ4
OiUwMnguJXVdICIKKyAgICAgICAgICAgICAgICJETUFSOlslc10gUmVxdWVzdCBkZXZpY2UgWyVw
cF0gIgogICAgICAgICAgICAgICAgImZhdWx0IGFkZHIgJSJQUkl4NjQiLCBpb21tdSByZWcgPSAl
cFxuIiwKICAgICAgICAgICAgICAgICh0eXBlID8gIkRNQSBSZWFkIiA6ICJETUEgV3JpdGUiKSwK
LSAgICAgICAgICAgICAgIHNlZywgUENJX0JVUyhzb3VyY2VfaWQpLCBQQ0lfU0xPVChzb3VyY2Vf
aWQpLAotICAgICAgICAgICAgICAgUENJX0ZVTkMoc291cmNlX2lkKSwgYWRkciwgaW9tbXUtPnJl
Zyk7CisgICAgICAgICAgICAgICAmUENJX1NCREYyKHNlZywgc291cmNlX2lkKSwgYWRkciwgaW9t
bXUtPnJlZyk7CiAgICAgICAgIGtpbmQgPSAiRE1BUiI7CiAgICAgICAgIGJyZWFrOwogICAgIGNh
c2UgSU5UUl9SRU1BUDoKICAgICAgICAgcHJpbnRrKFhFTkxPR19HX1dBUk5JTkcgVlREUFJFRklY
Ci0gICAgICAgICAgICAgICAiSU5UUi1SRU1BUDogUmVxdWVzdCBkZXZpY2UgWyUwNHg6JTAyeDol
MDJ4LiV1XSAiCisgICAgICAgICAgICAgICAiSU5UUi1SRU1BUDogUmVxdWVzdCBkZXZpY2UgWyVw
cF0gIgogICAgICAgICAgICAgICAgImZhdWx0IGluZGV4ICUiUFJJeDY0IiwgaW9tbXUgcmVnID0g
JXBcbiIsCi0gICAgICAgICAgICAgICBzZWcsIFBDSV9CVVMoc291cmNlX2lkKSwgUENJX1NMT1Qo
c291cmNlX2lkKSwKLSAgICAgICAgICAgICAgIFBDSV9GVU5DKHNvdXJjZV9pZCksIGFkZHIgPj4g
NDgsIGlvbW11LT5yZWcpOworICAgICAgICAgICAgICAgJlBDSV9TQkRGMihzZWcsIHNvdXJjZV9p
ZCksIGFkZHIgPj4gNDgsIGlvbW11LT5yZWcpOwogICAgICAgICBraW5kID0gIklOVFItUkVNQVAi
OwogICAgICAgICBicmVhazsKICAgICBkZWZhdWx0OgogICAgICAgICBwcmludGsoWEVOTE9HX0df
V0FSTklORyBWVERQUkVGSVgKLSAgICAgICAgICAgICAgICJVTktOT1dOOiBSZXF1ZXN0IGRldmlj
ZSBbJTA0eDolMDJ4OiUwMnguJXVdICIKKyAgICAgICAgICAgICAgICJVTktOT1dOOiBSZXF1ZXN0
IGRldmljZSBbJXBwXSAiCiAgICAgICAgICAgICAgICAiZmF1bHQgYWRkciAlIlBSSXg2NCIsIGlv
bW11IHJlZyA9ICVwXG4iLAotICAgICAgICAgICAgICAgc2VnLCBQQ0lfQlVTKHNvdXJjZV9pZCks
IFBDSV9TTE9UKHNvdXJjZV9pZCksCi0gICAgICAgICAgICAgICBQQ0lfRlVOQyhzb3VyY2VfaWQp
LCBhZGRyLCBpb21tdS0+cmVnKTsKKyAgICAgICAgICAgICAgICZQQ0lfU0JERjIoc2VnLCBzb3Vy
Y2VfaWQpLCBhZGRyLCBpb21tdS0+cmVnKTsKICAgICAgICAga2luZCA9ICJVTktOT1dOIjsKICAg
ICAgICAgYnJlYWs7CiAgICAgfQpAQCAtMTM1NCwxMSArMTM1MSw5IEBAIGludCBkb21haW5fY29u
dGV4dF9tYXBwaW5nX29uZSgKICAgICAgICAgewogICAgICAgICAgICAgaWYgKCBwZGV2LT5kb21h
aW4gIT0gZG9tYWluICkKICAgICAgICAgICAgIHsKLSAgICAgICAgICAgICAgICBwcmludGsoWEVO
TE9HX0dfSU5GTyBWVERQUkVGSVgKLSAgICAgICAgICAgICAgICAgICAgICAgImQlZDogJTA0eDol
MDJ4OiUwMnguJXUgb3duZWQgYnkgZCVkISIsCi0gICAgICAgICAgICAgICAgICAgICAgIGRvbWFp
bi0+ZG9tYWluX2lkLAotICAgICAgICAgICAgICAgICAgICAgICBzZWcsIGJ1cywgUENJX1NMT1Qo
ZGV2Zm4pLCBQQ0lfRlVOQyhkZXZmbiksCi0gICAgICAgICAgICAgICAgICAgICAgIHBkZXYtPmRv
bWFpbiA/IHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkIDogLTEpOworICAgICAgICAgICAgICAgIHBy
aW50ayhYRU5MT0dfR19JTkZPIFZURFBSRUZJWCAiJXBkOiAlcHAgb3duZWQgYnkgJXBkISIsCisg
ICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbiwgJlBDSV9TQkRGMyhzZWcsIGJ1cywgZGV2Zm4p
LAorICAgICAgICAgICAgICAgICAgICAgICBwZGV2LT5kb21haW4gPzogTlVMTCk7CiAgICAgICAg
ICAgICAgICAgcmVzID0gLUVJTlZBTDsKICAgICAgICAgICAgIH0KICAgICAgICAgfQpAQCAtMTM3
MCwxOCArMTM2NSwxNSBAQCBpbnQgZG9tYWluX2NvbnRleHRfbWFwcGluZ19vbmUoCiAgICAgICAg
ICAgICBpZiAoIGNkb21haW4gPCAwICkKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBw
cmludGsoWEVOTE9HX0dfV0FSTklORyBWVERQUkVGSVgKLSAgICAgICAgICAgICAgICAgICAgICAg
ImQlZDogJTA0eDolMDJ4OiUwMnguJXUgbWFwcGVkLCBidXQgY2FuJ3QgZmluZCBvd25lciFcbiIs
Ci0gICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+ZG9tYWluX2lkLAotICAgICAgICAgICAg
ICAgICAgICAgICBzZWcsIGJ1cywgUENJX1NMT1QoZGV2Zm4pLCBQQ0lfRlVOQyhkZXZmbikpOwor
ICAgICAgICAgICAgICAgICAgICAgICAiJXBkOiAlcHAgbWFwcGVkLCBidXQgY2FuJ3QgZmluZCBv
d25lciFcbiIsCisgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbiwgJlBDSV9TQkRGMyhzZWcs
IGJ1cywgZGV2Zm4pKTsKICAgICAgICAgICAgICAgICByZXMgPSAtRUlOVkFMOwogICAgICAgICAg
ICAgfQogICAgICAgICAgICAgZWxzZSBpZiAoIGNkb21haW4gIT0gZG9tYWluLT5kb21haW5faWQg
KQogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfR19JTkZPIFZU
RFBSRUZJWAotICAgICAgICAgICAgICAgICAgICAgICAiZCVkOiAlMDR4OiUwMng6JTAyeC4ldSBh
bHJlYWR5IG1hcHBlZCB0byBkJWQhIiwKLSAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluLT5k
b21haW5faWQsCi0gICAgICAgICAgICAgICAgICAgICAgIHNlZywgYnVzLCBQQ0lfU0xPVChkZXZm
biksIFBDSV9GVU5DKGRldmZuKSwKLSAgICAgICAgICAgICAgICAgICAgICAgY2RvbWFpbik7Cisg
ICAgICAgICAgICAgICAgICAgICAgICIlcGQ6ICVwcCBhbHJlYWR5IG1hcHBlZCB0byBkJWQhIiwK
KyAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluLCAmUENJX1NCREYzKHNlZywgYnVzLCBkZXZm
biksIGNkb21haW4pOwogICAgICAgICAgICAgICAgIHJlcyA9IC1FSU5WQUw7CiAgICAgICAgICAg
ICB9CiAgICAgICAgIH0KQEAgLTE0OTYsOSArMTQ4OCw4IEBAIHN0YXRpYyBpbnQgZG9tYWluX2Nv
bnRleHRfbWFwcGluZyhzdHJ1Y3QgZG9tYWluICpkb21haW4sIHU4IGRldmZuLAogICAgIHsKICAg
ICBjYXNlIERFVl9UWVBFX1BDSV9IT1NUX0JSSURHRToKICAgICAgICAgaWYgKCBpb21tdV9kZWJ1
ZyApCi0gICAgICAgICAgICBwcmludGsoVlREUFJFRklYICJkJWQ6SG9zdGJyaWRnZTogc2tpcCAl
MDR4OiUwMng6JTAyeC4ldSBtYXBcbiIsCi0gICAgICAgICAgICAgICAgICAgZG9tYWluLT5kb21h
aW5faWQsIHNlZywgYnVzLAotICAgICAgICAgICAgICAgICAgIFBDSV9TTE9UKGRldmZuKSwgUENJ
X0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgICAgIHByaW50ayhWVERQUkVGSVggIiVwZDpIb3N0YnJp
ZGdlOiBza2lwICVwcCBtYXBcbiIsCisgICAgICAgICAgICAgICAgICAgZG9tYWluLCAmUENJX1NC
REYzKHNlZywgYnVzLCBkZXZmbikpOwogICAgICAgICBpZiAoICFpc19oYXJkd2FyZV9kb21haW4o
ZG9tYWluKSApCiAgICAgICAgICAgICByZXR1cm4gLUVQRVJNOwogICAgICAgICBicmVhazsKQEAg
LTE1MTAsOSArMTUwMSw4IEBAIHN0YXRpYyBpbnQgZG9tYWluX2NvbnRleHRfbWFwcGluZyhzdHJ1
Y3QgZG9tYWluICpkb21haW4sIHU4IGRldmZuLAogCiAgICAgY2FzZSBERVZfVFlQRV9QQ0llX0VO
RFBPSU5UOgogICAgICAgICBpZiAoIGlvbW11X2RlYnVnICkKLSAgICAgICAgICAgIHByaW50ayhW
VERQUkVGSVggImQlZDpQQ0llOiBtYXAgJTA0eDolMDJ4OiUwMnguJXVcbiIsCi0gICAgICAgICAg
ICAgICAgICAgZG9tYWluLT5kb21haW5faWQsIHNlZywgYnVzLAotICAgICAgICAgICAgICAgICAg
IFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgICAgIHByaW50ayhW
VERQUkVGSVggIiVwZDpQQ0llOiBtYXAgJXBwXG4iLAorICAgICAgICAgICAgICAgICAgIGRvbWFp
biwgJlBDSV9TQkRGMyhzZWcsIGJ1cywgZGV2Zm4pKTsKICAgICAgICAgcmV0ID0gZG9tYWluX2Nv
bnRleHRfbWFwcGluZ19vbmUoZG9tYWluLCBkcmhkLT5pb21tdSwgYnVzLCBkZXZmbiwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGRldik7CiAgICAgICAgIGlmICgg
IXJldCAmJiBkZXZmbiA9PSBwZGV2LT5kZXZmbiAmJiBhdHNfZGV2aWNlKHBkZXYsIGRyaGQpID4g
MCApCkBAIC0xNTIyLDkgKzE1MTIsOCBAQCBzdGF0aWMgaW50IGRvbWFpbl9jb250ZXh0X21hcHBp
bmcoc3RydWN0IGRvbWFpbiAqZG9tYWluLCB1OCBkZXZmbiwKIAogICAgIGNhc2UgREVWX1RZUEVf
UENJOgogICAgICAgICBpZiAoIGlvbW11X2RlYnVnICkKLSAgICAgICAgICAgIHByaW50ayhWVERQ
UkVGSVggImQlZDpQQ0k6IG1hcCAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAg
ICAgICBkb21haW4tPmRvbWFpbl9pZCwgc2VnLCBidXMsCi0gICAgICAgICAgICAgICAgICAgUENJ
X1NMT1QoZGV2Zm4pLCBQQ0lfRlVOQyhkZXZmbikpOworICAgICAgICAgICAgcHJpbnRrKFZURFBS
RUZJWCAiJXBkOlBDSTogbWFwICVwcFxuIiwKKyAgICAgICAgICAgICAgICAgICBkb21haW4sICZQ
Q0lfU0JERjMoc2VnLCBidXMsIGRldmZuKSk7CiAKICAgICAgICAgcmV0ID0gZG9tYWluX2NvbnRl
eHRfbWFwcGluZ19vbmUoZG9tYWluLCBkcmhkLT5pb21tdSwgYnVzLCBkZXZmbiwKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGRldik7CkBAIC0xNTUwLDkgKzE1Mzks
OCBAQCBzdGF0aWMgaW50IGRvbWFpbl9jb250ZXh0X21hcHBpbmcoc3RydWN0IGRvbWFpbiAqZG9t
YWluLCB1OCBkZXZmbiwKICAgICAgICAgYnJlYWs7CiAKICAgICBkZWZhdWx0OgotICAgICAgICBk
cHJpbnRrKFhFTkxPR19FUlIgVlREUFJFRklYLCAiZCVkOnVua25vd24oJXUpOiAlMDR4OiUwMng6
JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgICBkb21haW4tPmRvbWFpbl9pZCwgcGRldi0+dHlw
ZSwKLSAgICAgICAgICAgICAgICBzZWcsIGJ1cywgUENJX1NMT1QoZGV2Zm4pLCBQQ0lfRlVOQyhk
ZXZmbikpOworICAgICAgICBkcHJpbnRrKFhFTkxPR19FUlIgVlREUFJFRklYLCAiJXBkOnVua25v
d24oJXUpOiAlcHBcbiIsCisgICAgICAgICAgICAgICAgZG9tYWluLCBwZGV2LT50eXBlLCAmUENJ
X1NCREYzKHNlZywgYnVzLCBkZXZmbikpOwogICAgICAgICByZXQgPSAtRUlOVkFMOwogICAgICAg
ICBicmVhazsKICAgICB9CkBAIC0xNjQ3LDkgKzE2MzUsOCBAQCBzdGF0aWMgaW50IGRvbWFpbl9j
b250ZXh0X3VubWFwKHN0cnVjdCBkb21haW4gKmRvbWFpbiwgdTggZGV2Zm4sCiAgICAgewogICAg
IGNhc2UgREVWX1RZUEVfUENJX0hPU1RfQlJJREdFOgogICAgICAgICBpZiAoIGlvbW11X2RlYnVn
ICkKLSAgICAgICAgICAgIHByaW50ayhWVERQUkVGSVggImQlZDpIb3N0YnJpZGdlOiBza2lwICUw
NHg6JTAyeDolMDJ4LiV1IHVubWFwXG4iLAotICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+ZG9t
YWluX2lkLCBzZWcsIGJ1cywKLSAgICAgICAgICAgICAgICAgICBQQ0lfU0xPVChkZXZmbiksIFBD
SV9GVU5DKGRldmZuKSk7CisgICAgICAgICAgICBwcmludGsoVlREUFJFRklYICIlcGQ6SG9zdGJy
aWRnZTogc2tpcCAlcHAgdW5tYXBcbiIsCisgICAgICAgICAgICAgICAgICAgZG9tYWluLCAmUENJ
X1NCREYzKHNlZywgYnVzLCBkZXZmbikpOwogICAgICAgICBpZiAoICFpc19oYXJkd2FyZV9kb21h
aW4oZG9tYWluKSApCiAgICAgICAgICAgICByZXR1cm4gLUVQRVJNOwogICAgICAgICBnb3RvIG91
dDsKQEAgLTE2NjEsOSArMTY0OCw4IEBAIHN0YXRpYyBpbnQgZG9tYWluX2NvbnRleHRfdW5tYXAo
c3RydWN0IGRvbWFpbiAqZG9tYWluLCB1OCBkZXZmbiwKIAogICAgIGNhc2UgREVWX1RZUEVfUENJ
ZV9FTkRQT0lOVDoKICAgICAgICAgaWYgKCBpb21tdV9kZWJ1ZyApCi0gICAgICAgICAgICBwcmlu
dGsoVlREUFJFRklYICJkJWQ6UENJZTogdW5tYXAgJTA0eDolMDJ4OiUwMnguJXVcbiIsCi0gICAg
ICAgICAgICAgICAgICAgZG9tYWluLT5kb21haW5faWQsIHNlZywgYnVzLAotICAgICAgICAgICAg
ICAgICAgIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgICAgIHBy
aW50ayhWVERQUkVGSVggIiVwZDpQQ0llOiB1bm1hcCAlcHBcbiIsCisgICAgICAgICAgICAgICAg
ICAgZG9tYWluLCAmUENJX1NCREYzKHNlZywgYnVzLCBkZXZmbikpOwogICAgICAgICByZXQgPSBk
b21haW5fY29udGV4dF91bm1hcF9vbmUoZG9tYWluLCBpb21tdSwgYnVzLCBkZXZmbik7CiAgICAg
ICAgIGlmICggIXJldCAmJiBkZXZmbiA9PSBwZGV2LT5kZXZmbiAmJiBhdHNfZGV2aWNlKHBkZXYs
IGRyaGQpID4gMCApCiAgICAgICAgICAgICBkaXNhYmxlX2F0c19kZXZpY2UocGRldik7CkBAIC0x
NjcyLDggKzE2NTgsOCBAQCBzdGF0aWMgaW50IGRvbWFpbl9jb250ZXh0X3VubWFwKHN0cnVjdCBk
b21haW4gKmRvbWFpbiwgdTggZGV2Zm4sCiAKICAgICBjYXNlIERFVl9UWVBFX1BDSToKICAgICAg
ICAgaWYgKCBpb21tdV9kZWJ1ZyApCi0gICAgICAgICAgICBwcmludGsoVlREUFJFRklYICJkJWQ6
UENJOiB1bm1hcCAlMDR4OiUwMng6JTAyeC4ldVxuIiwKLSAgICAgICAgICAgICAgICAgICBkb21h
aW4tPmRvbWFpbl9pZCwgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4p
KTsKKyAgICAgICAgICAgIHByaW50ayhWVERQUkVGSVggIiVwZDpQQ0k6IHVubWFwICVwcFxuIiwK
KyAgICAgICAgICAgICAgICAgICBkb21haW4sICZQQ0lfU0JERjMoc2VnLCBidXMsIGRldmZuKSk7
CiAgICAgICAgIHJldCA9IGRvbWFpbl9jb250ZXh0X3VubWFwX29uZShkb21haW4sIGlvbW11LCBi
dXMsIGRldmZuKTsKICAgICAgICAgaWYgKCByZXQgKQogICAgICAgICAgICAgYnJlYWs7CkBAIC0x
Njk4LDkgKzE2ODQsOCBAQCBzdGF0aWMgaW50IGRvbWFpbl9jb250ZXh0X3VubWFwKHN0cnVjdCBk
b21haW4gKmRvbWFpbiwgdTggZGV2Zm4sCiAgICAgICAgIGJyZWFrOwogCiAgICAgZGVmYXVsdDoK
LSAgICAgICAgZHByaW50ayhYRU5MT0dfRVJSIFZURFBSRUZJWCwgImQlZDp1bmtub3duKCV1KTog
JTA0eDolMDJ4OiUwMnguJXVcbiIsCi0gICAgICAgICAgICAgICAgZG9tYWluLT5kb21haW5faWQs
IHBkZXYtPnR5cGUsCi0gICAgICAgICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwg
UENJX0ZVTkMoZGV2Zm4pKTsKKyAgICAgICAgZHByaW50ayhYRU5MT0dfRVJSIFZURFBSRUZJWCwg
IiVwZDp1bmtub3duKCV1KTogJXBwXG4iLAorICAgICAgICAgICAgICAgIGRvbWFpbiwgcGRldi0+
dHlwZSwgJlBDSV9TQkRGMyhzZWcsIGJ1cywgZGV2Zm4pKTsKICAgICAgICAgcmV0ID0gLUVJTlZB
TDsKICAgICAgICAgZ290byBvdXQ7CiAgICAgfQpAQCAtMjQ5NywxMiArMjQ4MiwxMSBAQCBzdGF0
aWMgaW50IGludGVsX2lvbW11X2Fzc2lnbl9kZXZpY2UoCiAgICAgICAgICAgICBib29sX3QgcmVs
YXhlZCA9ICEhKGZsYWcgJiBYRU5fRE9NQ1RMX0RFVl9SRE1fUkVMQVhFRCk7CiAKICAgICAgICAg
ICAgIHByaW50ayhYRU5MT0dfR1VFU1QgIiVzIiBWVERQUkVGSVgKLSAgICAgICAgICAgICAgICAg
ICAiIEl0J3MgJXMgdG8gYXNzaWduICUwNHg6JTAyeDolMDJ4LiV1IgotICAgICAgICAgICAgICAg
ICAgICIgd2l0aCBzaGFyZWQgUk1SUiBhdCAlIlBSSXg2NCIgZm9yIERvbSVkLlxuIiwKKyAgICAg
ICAgICAgICAgICAgICAiIEl0J3MgJXMgdG8gYXNzaWduICVwcCIKKyAgICAgICAgICAgICAgICAg
ICAiIHdpdGggc2hhcmVkIFJNUlIgYXQgJSJQUkl4NjQiIGZvciAlcGQuXG4iLAogICAgICAgICAg
ICAgICAgICAgIHJlbGF4ZWQgPyBYRU5MT0dfV0FSTklORyA6IFhFTkxPR19FUlIsCiAgICAgICAg
ICAgICAgICAgICAgcmVsYXhlZCA/ICJyaXNreSIgOiAiZGlzYWxsb3dlZCIsCi0gICAgICAgICAg
ICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLAotICAg
ICAgICAgICAgICAgICAgIHJtcnItPmJhc2VfYWRkcmVzcywgZC0+ZG9tYWluX2lkKTsKKyAgICAg
ICAgICAgICAgICAgICAmUENJX1NCREYzKHNlZywgYnVzLCBkZXZmbiksIHJtcnItPmJhc2VfYWRk
cmVzcywgZCk7CiAgICAgICAgICAgICBpZiAoICFyZWxheGVkICkKICAgICAgICAgICAgICAgICBy
ZXR1cm4gLUVQRVJNOwogICAgICAgICB9CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC92dGQvcXVpcmtzLmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvcXVpcmtzLmMK
aW5kZXggYjZlMmQzMTNmMC4uNDU4MDIzOWFhNiAxMDA2NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFz
c3Rocm91Z2gvdnRkL3F1aXJrcy5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9x
dWlya3MuYwpAQCAtNDE3LDggKzQxNyw2IEBAIHZvaWQgcGNpX3Z0ZF9xdWlyayhjb25zdCBzdHJ1
Y3QgcGNpX2RldiAqcGRldikKIHsKICAgICBpbnQgc2VnID0gcGRldi0+c2VnOwogICAgIGludCBi
dXMgPSBwZGV2LT5idXM7Ci0gICAgaW50IGRldiA9IFBDSV9TTE9UKHBkZXYtPmRldmZuKTsKLSAg
ICBpbnQgZnVuYyA9IFBDSV9GVU5DKHBkZXYtPmRldmZuKTsKICAgICBpbnQgcG9zOwogICAgIGJv
b2xfdCBmZjsKICAgICB1MzIgdmFsLCB2YWwyOwpAQCAtNDQyLDggKzQ0MCw3IEBAIHZvaWQgcGNp
X3Z0ZF9xdWlyayhjb25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldikKICAgICBjYXNlIDB4M2MyODog
LyogU2FuZHlicmlkZ2UgKi8KICAgICAgICAgdmFsID0gcGNpX2NvbmZfcmVhZDMyKHBkZXYtPnNi
ZGYsIDB4MUFDKTsKICAgICAgICAgcGNpX2NvbmZfd3JpdGUzMihwZGV2LT5zYmRmLCAweDFBQywg
dmFsIHwgKDEgPDwgMzEpKTsKLSAgICAgICAgcHJpbnRrKFhFTkxPR19JTkZPICJNYXNrZWQgVlQt
ZCBlcnJvciBzaWduYWxpbmcgb24gJTA0eDolMDJ4OiUwMnguJXVcbiIsCi0gICAgICAgICAgICAg
ICBzZWcsIGJ1cywgZGV2LCBmdW5jKTsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19JTkZPICJNYXNr
ZWQgVlQtZCBlcnJvciBzaWduYWxpbmcgb24gJXBwXG4iLCAmcGRldi0+c2JkZik7CiAgICAgICAg
IGJyZWFrOwogCiAgICAgLyogVHlsZXJzYnVyZyAoRVApL0JveGJvcm8gKE1QKSBjaGlwc2V0cyAo
TkhNLUVQL0VYLCBXU00tRVAvRVgpICovCkBAIC00NzgsOCArNDc1LDcgQEAgdm9pZCBwY2lfdnRk
X3F1aXJrKGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgICAgICAgICAgZmYgPSBwY2ll
X2Flcl9nZXRfZmlybXdhcmVfZmlyc3QocGRldik7CiAgICAgICAgIGlmICggIXBvcyApCiAgICAg
ICAgIHsKLSAgICAgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiJTA0eDolMDJ4OiUwMngu
JXUgd2l0aG91dCBBRVIgY2FwYWJpbGl0eT9cbiIsCi0gICAgICAgICAgICAgICAgICAgc2VnLCBi
dXMsIGRldiwgZnVuYyk7CisgICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgIiVwcCB3
aXRob3V0IEFFUiBjYXBhYmlsaXR5P1xuIiwgJnBkZXYtPnNiZGYpOwogICAgICAgICAgICAgYnJl
YWs7CiAgICAgICAgIH0KIApAQCAtNTAyLDggKzQ5OCw3IEBAIHZvaWQgcGNpX3Z0ZF9xdWlyayhj
b25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldikKICAgICAgICAgdmFsID0gcGNpX2NvbmZfcmVhZDMy
KHBkZXYtPnNiZGYsIDB4MjBjKTsKICAgICAgICAgcGNpX2NvbmZfd3JpdGUzMihwZGV2LT5zYmRm
LCAweDIwYywgdmFsIHwgKDEgPDwgNCkpOwogCi0gICAgICAgIHByaW50ayhYRU5MT0dfSU5GTyAi
JXMgVVIgc2lnbmFsaW5nIG9uICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAg
YWN0aW9uLCBzZWcsIGJ1cywgZGV2LCBmdW5jKTsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19JTkZP
ICIlcyBVUiBzaWduYWxpbmcgb24gJXBwXG4iLCBhY3Rpb24sICZwZGV2LT5zYmRmKTsKICAgICAg
ICAgYnJlYWs7CiAKICAgICBjYXNlIDB4MDA0MDogY2FzZSAweDAwNDQ6IGNhc2UgMHgwMDQ4OiAv
KiBOZWhhbGVtL1dlc3RtZXJlICovCkBAIC01MjgsMTYgKzUyMywxNSBAQCB2b2lkIHBjaV92dGRf
cXVpcmsoY29uc3Qgc3RydWN0IHBjaV9kZXYgKnBkZXYpCiAgICAgICAgICAgICB7CiAgICAgICAg
ICAgICAgICAgX19zZXRfYml0KDB4MWM4ICogOCArIDIwLCB2YSk7CiAgICAgICAgICAgICAgICAg
aW91bm1hcCh2YSk7Ci0gICAgICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19JTkZPICJNYXNrZWQg
VVIgc2lnbmFsaW5nIG9uICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAgICAgICAgICAgICAg
ICAgICBzZWcsIGJ1cywgZGV2LCBmdW5jKTsKKyAgICAgICAgICAgICAgICBwcmludGsoWEVOTE9H
X0lORk8gIk1hc2tlZCBVUiBzaWduYWxpbmcgb24gJXBwXG4iLCAmcGRldi0+c2JkZik7CiAgICAg
ICAgICAgICB9CiAgICAgICAgICAgICBlbHNlCi0gICAgICAgICAgICAgICAgcHJpbnRrKFhFTkxP
R19FUlIgIkNvdWxkIG5vdCBtYXAgJSJQUklwYWRkciIgZm9yICUwNHg6JTAyeDolMDJ4LiV1XG4i
LAotICAgICAgICAgICAgICAgICAgICAgICBwYSwgc2VnLCBidXMsIGRldiwgZnVuYyk7CisgICAg
ICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgIkNvdWxkIG5vdCBtYXAgJSJQUklwYWRkciIg
Zm9yICVwcFxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgcGEsICZwZGV2LT5zYmRmKTsKICAg
ICAgICAgfQogICAgICAgICBlbHNlCi0gICAgICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcg
IkJvZ3VzIERNSUJBUiAlIyJQUkl4NjQiIG9uICUwNHg6JTAyeDolMDJ4LiV1XG4iLAotICAgICAg
ICAgICAgICAgICAgIGJhciwgc2VnLCBidXMsIGRldiwgZnVuYyk7CisgICAgICAgICAgICBwcmlu
dGsoWEVOTE9HX1dBUk5JTkcgIkJvZ3VzIERNSUJBUiAlIyJQUkl4NjQiIG9uICVwcFxuIiwKKyAg
ICAgICAgICAgICAgICAgICBiYXIsICZwZGV2LT5zYmRmKTsKICAgICAgICAgYnJlYWs7CiAgICAg
fQogfQpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL3V0aWxzLmMgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvdXRpbHMuYwppbmRleCA5NGE2ZTRlZWM5Li42ODMw
NGE2MWU4IDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvdXRpbHMuYwor
KysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvdXRpbHMuYwpAQCAtOTUsOSArOTUsOSBA
QCB2b2lkIHByaW50X3Z0ZF9lbnRyaWVzKHN0cnVjdCBpb21tdSAqaW9tbXUsIGludCBidXMsIGlu
dCBkZXZmbiwgdTY0IGdtZm4pCiAgICAgdTY0ICpsLCB2YWw7CiAgICAgdTMyIGxfaW5kZXgsIGxl
dmVsOwogCi0gICAgcHJpbnRrKCJwcmludF92dGRfZW50cmllczogaW9tbXUgIyV1IGRldiAlMDR4
OiUwMng6JTAyeC4ldSBnbWZuICUiUFJJX2dmbiJcbiIsCi0gICAgICAgICAgIGlvbW11LT5pbmRl
eCwgaW9tbXUtPmludGVsLT5kcmhkLT5zZWdtZW50LCBidXMsCi0gICAgICAgICAgIFBDSV9TTE9U
KGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pLCBnbWZuKTsKKyAgICBwcmludGsoInByaW50X3Z0ZF9l
bnRyaWVzOiBpb21tdSAjJXUgZGV2ICVwcCBnbWZuICUiUFJJX2dmbiJcbiIsCisgICAgICAgICAg
IGlvbW11LT5pbmRleCwgJlBDSV9TQkRGMyhpb21tdS0+aW50ZWwtPmRyaGQtPnNlZ21lbnQsIGJ1
cywgZGV2Zm4pLAorICAgICAgICAgICBnbWZuKTsKIAogICAgIGlmICggaW9tbXUtPnJvb3RfbWFk
ZHIgPT0gMCApCiAgICAgewpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gveDg2
L2F0cy5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gveDg2L2F0cy5jCmluZGV4IDNlZWE3Zjg5
ZmMuLmRjMDU4NGI0MjMgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3g4Ni9h
dHMuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC94ODYvYXRzLmMKQEAgLTMxLDggKzMx
LDcgQEAgaW50IGVuYWJsZV9hdHNfZGV2aWNlKHN0cnVjdCBwY2lfZGV2ICpwZGV2LCBzdHJ1Y3Qg
bGlzdF9oZWFkICphdHNfbGlzdCkKICAgICBCVUdfT04oIXBvcyk7CiAKICAgICBpZiAoIGlvbW11
X3ZlcmJvc2UgKQotICAgICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLCAiJTA0eDolMDJ4OiUwMngu
JXU6IEFUUyBjYXBhYmlsaXR5IGZvdW5kXG4iLAotICAgICAgICAgICAgICAgIHNlZywgYnVzLCBQ
Q0lfU0xPVChkZXZmbiksIFBDSV9GVU5DKGRldmZuKSk7CisgICAgICAgIGRwcmludGsoWEVOTE9H
X0lORk8sICIlcHA6IEFUUyBjYXBhYmlsaXR5IGZvdW5kXG4iLCAmcGRldi0+c2JkZik7CiAKICAg
ICB2YWx1ZSA9IHBjaV9jb25mX3JlYWQxNihwZGV2LT5zYmRmLCBwb3MgKyBBVFNfUkVHX0NUTCk7
CiAgICAgaWYgKCB2YWx1ZSAmIEFUU19FTkFCTEUgKQpAQCAtNjMsOSArNjIsOCBAQCBpbnQgZW5h
YmxlX2F0c19kZXZpY2Uoc3RydWN0IHBjaV9kZXYgKnBkZXYsIHN0cnVjdCBsaXN0X2hlYWQgKmF0
c19saXN0KQogICAgIH0KIAogICAgIGlmICggaW9tbXVfdmVyYm9zZSApCi0gICAgICAgIGRwcmlu
dGsoWEVOTE9HX0lORk8sICIlMDR4OiUwMng6JTAyeC4ldTogQVRTICVzIGVuYWJsZWRcbiIsCi0g
ICAgICAgICAgICAgICAgc2VnLCBidXMsIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4p
LAotICAgICAgICAgICAgICAgIHBvcyA/ICJpcyIgOiAid2FzIik7CisgICAgICAgIGRwcmludGso
WEVOTE9HX0lORk8sICIlcHA6IEFUUyAlcyBlbmFibGVkXG4iLAorICAgICAgICAgICAgICAgICZw
ZGV2LT5zYmRmLCBwb3MgPyAiaXMiIDogIndhcyIpOwogCiAgICAgcmV0dXJuIHBvczsKIH0KQEAg
LTczLDggKzcxLDYgQEAgaW50IGVuYWJsZV9hdHNfZGV2aWNlKHN0cnVjdCBwY2lfZGV2ICpwZGV2
LCBzdHJ1Y3QgbGlzdF9oZWFkICphdHNfbGlzdCkKIHZvaWQgZGlzYWJsZV9hdHNfZGV2aWNlKHN0
cnVjdCBwY2lfZGV2ICpwZGV2KQogewogICAgIHUzMiB2YWx1ZTsKLSAgICB1MTYgc2VnID0gcGRl
di0+c2VnOwotICAgIHU4IGJ1cyA9IHBkZXYtPmJ1cywgZGV2Zm4gPSBwZGV2LT5kZXZmbjsKIAog
ICAgIEJVR19PTighcGRldi0+YXRzLmNhcF9wb3MpOwogCkBAIC04NSw2ICs4MSw1IEBAIHZvaWQg
ZGlzYWJsZV9hdHNfZGV2aWNlKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQogICAgIGxpc3RfZGVsKCZw
ZGV2LT5hdHMubGlzdCk7CiAKICAgICBpZiAoIGlvbW11X3ZlcmJvc2UgKQotICAgICAgICBkcHJp
bnRrKFhFTkxPR19JTkZPLCAiJTA0eDolMDJ4OiUwMnguJXU6IEFUUyBpcyBkaXNhYmxlZFxuIiwK
LSAgICAgICAgICAgICAgICBzZWcsIGJ1cywgUENJX1NMT1QoZGV2Zm4pLCBQQ0lfRlVOQyhkZXZm
bikpOworICAgICAgICBkcHJpbnRrKFhFTkxPR19JTkZPLCAiJXBwOiBBVFMgaXMgZGlzYWJsZWRc
biIsICZwZGV2LT5zYmRmKTsKIH0KZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3ZwY2kvaGVhZGVy
LmMgYi94ZW4vZHJpdmVycy92cGNpL2hlYWRlci5jCmluZGV4IDIzZjA2ZTY0MDMuLmRkZGE4ODEz
NjYgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3ZwY2kvaGVhZGVyLmMKKysrIGIveGVuL2RyaXZl
cnMvdnBjaS9oZWFkZXIuYwpAQCAtMzU1LDcgKzM1NSw2IEBAIHN0YXRpYyB2b2lkIGJhcl93cml0
ZShjb25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldiwgdW5zaWduZWQgaW50IHJlZywKICAgICAgICAg
ICAgICAgICAgICAgICB1aW50MzJfdCB2YWwsIHZvaWQgKmRhdGEpCiB7CiAgICAgc3RydWN0IHZw
Y2lfYmFyICpiYXIgPSBkYXRhOwotICAgIHVpbnQ4X3Qgc2xvdCA9IFBDSV9TTE9UKHBkZXYtPmRl
dmZuKSwgZnVuYyA9IFBDSV9GVU5DKHBkZXYtPmRldmZuKTsKICAgICBib29sIGhpID0gZmFsc2U7
CiAKICAgICBpZiAoIGJhci0+dHlwZSA9PSBWUENJX0JBUl9NRU02NF9ISSApCkBAIC0zNzIsOSAr
MzcxLDggQEAgc3RhdGljIHZvaWQgYmFyX3dyaXRlKGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2
LCB1bnNpZ25lZCBpbnQgcmVnLAogICAgICAgICAvKiBJZiB0aGUgdmFsdWUgd3JpdHRlbiBpcyB0
aGUgY3VycmVudCBvbmUgYXZvaWQgcHJpbnRpbmcgYSB3YXJuaW5nLiAqLwogICAgICAgICBpZiAo
IHZhbCAhPSAodWludDMyX3QpKGJhci0+YWRkciA+PiAoaGkgPyAzMiA6IDApKSApCiAgICAgICAg
ICAgICBncHJpbnRrKFhFTkxPR19XQVJOSU5HLAotICAgICAgICAgICAgICAgICAgICAiJTA0eDol
MDJ4OiUwMnguJXU6IGlnbm9yZWQgQkFSICVsdSB3cml0ZSB3aXRoIG1lbW9yeSBkZWNvZGluZyBl
bmFibGVkXG4iLAotICAgICAgICAgICAgICAgICAgICBwZGV2LT5zZWcsIHBkZXYtPmJ1cywgc2xv
dCwgZnVuYywKLSAgICAgICAgICAgICAgICAgICAgYmFyIC0gcGRldi0+dnBjaS0+aGVhZGVyLmJh
cnMgKyBoaSk7CisgICAgICAgICAgICAgICAgICAgICIlcHA6IGlnbm9yZWQgQkFSICVsdSB3cml0
ZSB3aXRoIG1lbW9yeSBkZWNvZGluZyBlbmFibGVkXG4iLAorICAgICAgICAgICAgICAgICAgICAm
cGRldi0+c2JkZiwgYmFyIC0gcGRldi0+dnBjaS0+aGVhZGVyLmJhcnMgKyBoaSk7CiAgICAgICAg
IHJldHVybjsKICAgICB9CiAKQEAgLTQwMiwxNSArNDAwLDE0IEBAIHN0YXRpYyB2b2lkIHJvbV93
cml0ZShjb25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldiwgdW5zaWduZWQgaW50IHJlZywKIHsKICAg
ICBzdHJ1Y3QgdnBjaV9oZWFkZXIgKmhlYWRlciA9ICZwZGV2LT52cGNpLT5oZWFkZXI7CiAgICAg
c3RydWN0IHZwY2lfYmFyICpyb20gPSBkYXRhOwotICAgIHVpbnQ4X3Qgc2xvdCA9IFBDSV9TTE9U
KHBkZXYtPmRldmZuKSwgZnVuYyA9IFBDSV9GVU5DKHBkZXYtPmRldmZuKTsKICAgICB1aW50MTZf
dCBjbWQgPSBwY2lfY29uZl9yZWFkMTYocGRldi0+c2JkZiwgUENJX0NPTU1BTkQpOwogICAgIGJv
b2wgbmV3X2VuYWJsZWQgPSB2YWwgJiBQQ0lfUk9NX0FERFJFU1NfRU5BQkxFOwogCiAgICAgaWYg
KCAoY21kICYgUENJX0NPTU1BTkRfTUVNT1JZKSAmJiBoZWFkZXItPnJvbV9lbmFibGVkICYmIG5l
d19lbmFibGVkICkKICAgICB7CiAgICAgICAgIGdwcmludGsoWEVOTE9HX1dBUk5JTkcsCi0gICAg
ICAgICAgICAgICAgIiUwNHg6JTAyeDolMDJ4LiV1OiBpZ25vcmVkIFJPTSBCQVIgd3JpdGUgd2l0
aCBtZW1vcnkgZGVjb2RpbmcgZW5hYmxlZFxuIiwKLSAgICAgICAgICAgICAgICBwZGV2LT5zZWcs
IHBkZXYtPmJ1cywgc2xvdCwgZnVuYyk7CisgICAgICAgICAgICAgICAgIiVwcDogaWdub3JlZCBS
T00gQkFSIHdyaXRlIHdpdGggbWVtb3J5IGRlY29kaW5nIGVuYWJsZWRcbiIsCisgICAgICAgICAg
ICAgICAgJnBkZXYtPnNiZGYpOwogICAgICAgICByZXR1cm47CiAgICAgfQogCmRpZmYgLS1naXQg
YS94ZW4vZHJpdmVycy92cGNpL21zaS5jIGIveGVuL2RyaXZlcnMvdnBjaS9tc2kuYwppbmRleCA2
Mjk3MmI0NDBhLi5iOTMyYjgzYWJiIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy92cGNpL21zaS5j
CisrKyBiL3hlbi9kcml2ZXJzL3ZwY2kvbXNpLmMKQEAgLTI5MCw4ICsyOTAsNyBAQCB2b2lkIHZw
Y2lfZHVtcF9tc2kodm9pZCkKICAgICAgICAgICAgIG1zaSA9IHBkZXYtPnZwY2ktPm1zaTsKICAg
ICAgICAgICAgIGlmICggbXNpICYmIG1zaS0+ZW5hYmxlZCApCiAgICAgICAgICAgICB7Ci0gICAg
ICAgICAgICAgICAgcHJpbnRrKCIlMDR4OiUwMng6JTAyeC4ldSBNU0lcbiIsIHBkZXYtPnNlZywg
cGRldi0+YnVzLAotICAgICAgICAgICAgICAgICAgICAgICBQQ0lfU0xPVChwZGV2LT5kZXZmbiks
IFBDSV9GVU5DKHBkZXYtPmRldmZuKSk7CisgICAgICAgICAgICAgICAgcHJpbnRrKCIlcHAgTVNJ
XG4iLCAmcGRldi0+c2JkZik7CiAKICAgICAgICAgICAgICAgICBwcmludGsoIiAgZW5hYmxlZDog
JWQgNjQtYml0OiAlZCIsCiAgICAgICAgICAgICAgICAgICAgICAgIG1zaS0+ZW5hYmxlZCwgbXNp
LT5hZGRyZXNzNjQpOwpAQCAtMzA4LDggKzMwNyw3IEBAIHZvaWQgdnBjaV9kdW1wX21zaSh2b2lk
KQogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIGludCByYzsKIAotICAgICAgICAgICAg
ICAgIHByaW50aygiJTA0eDolMDJ4OiUwMnguJXUgTVNJLVhcbiIsIHBkZXYtPnNlZywgcGRldi0+
YnVzLAotICAgICAgICAgICAgICAgICAgICAgICBQQ0lfU0xPVChwZGV2LT5kZXZmbiksIFBDSV9G
VU5DKHBkZXYtPmRldmZuKSk7CisgICAgICAgICAgICAgICAgcHJpbnRrKCIlcHAgTVNJLVhcbiIs
ICZwZGV2LT5zYmRmKTsKIAogICAgICAgICAgICAgICAgIHByaW50aygiICBlbnRyaWVzOiAldSBt
YXNrYWxsOiAlZCBlbmFibGVkOiAlZFxuIiwKICAgICAgICAgICAgICAgICAgICAgICAgbXNpeC0+
bWF4X2VudHJpZXMsIG1zaXgtPm1hc2tlZCwgbXNpeC0+ZW5hYmxlZCk7CmRpZmYgLS1naXQgYS94
ZW4vZHJpdmVycy92cGNpL21zaXguYyBiL3hlbi9kcml2ZXJzL3ZwY2kvbXNpeC5jCmluZGV4IDM4
YzFlN2U1ZGQuLjY0ZGQwYTkyOWMgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3ZwY2kvbXNpeC5j
CisrKyBiL3hlbi9kcml2ZXJzL3ZwY2kvbXNpeC5jCkBAIC00MiwxNSArNDIsMTQgQEAgc3RhdGlj
IHVpbnQzMl90IGNvbnRyb2xfcmVhZChjb25zdCBzdHJ1Y3QgcGNpX2RldiAqcGRldiwgdW5zaWdu
ZWQgaW50IHJlZywKIHN0YXRpYyBpbnQgdXBkYXRlX2VudHJ5KHN0cnVjdCB2cGNpX21zaXhfZW50
cnkgKmVudHJ5LAogICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IHBjaV9kZXYg
KnBkZXYsIHVuc2lnbmVkIGludCBucikKIHsKLSAgICB1aW50OF90IHNsb3QgPSBQQ0lfU0xPVChw
ZGV2LT5kZXZmbiksIGZ1bmMgPSBQQ0lfRlVOQyhwZGV2LT5kZXZmbik7CiAgICAgaW50IHJjID0g
dnBjaV9tc2l4X2FyY2hfZGlzYWJsZV9lbnRyeShlbnRyeSwgcGRldik7CiAKICAgICAvKiBJZ25v
cmUgRU5PRU5ULCBpdCBtZWFucyB0aGUgZW50cnkgd2Fzbid0IHNldHVwLiAqLwogICAgIGlmICgg
cmMgJiYgcmMgIT0gLUVOT0VOVCApCiAgICAgewogICAgICAgICBncHJpbnRrKFhFTkxPR19XQVJO
SU5HLAotICAgICAgICAgICAgICAgICIlMDR4OiUwMng6JTAyeC4ldTogdW5hYmxlIHRvIGRpc2Fi
bGUgZW50cnkgJXUgZm9yIHVwZGF0ZTogJWRcbiIsCi0gICAgICAgICAgICAgICAgcGRldi0+c2Vn
LCBwZGV2LT5idXMsIHNsb3QsIGZ1bmMsIG5yLCByYyk7CisgICAgICAgICAgICAgICAgIiVwcDog
dW5hYmxlIHRvIGRpc2FibGUgZW50cnkgJXUgZm9yIHVwZGF0ZTogJWRcbiIsCisgICAgICAgICAg
ICAgICAgJnBkZXYtPnNiZGYsIG5yLCByYyk7CiAgICAgICAgIHJldHVybiByYzsKICAgICB9CiAK
QEAgLTU5LDkgKzU4LDggQEAgc3RhdGljIGludCB1cGRhdGVfZW50cnkoc3RydWN0IHZwY2lfbXNp
eF9lbnRyeSAqZW50cnksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBWUENJX01TSVhfVEFCTEUpKTsKICAgICBpZiAoIHJjICkKICAgICB7Ci0g
ICAgICAgIGdwcmludGsoWEVOTE9HX1dBUk5JTkcsCi0gICAgICAgICAgICAgICAgIiUwNHg6JTAy
eDolMDJ4LiV1OiB1bmFibGUgdG8gZW5hYmxlIGVudHJ5ICV1OiAlZFxuIiwKLSAgICAgICAgICAg
ICAgICBwZGV2LT5zZWcsIHBkZXYtPmJ1cywgc2xvdCwgZnVuYywgbnIsIHJjKTsKKyAgICAgICAg
Z3ByaW50ayhYRU5MT0dfV0FSTklORywgIiVwcDogdW5hYmxlIHRvIGVuYWJsZSBlbnRyeSAldTog
JWRcbiIsCisgICAgICAgICAgICAgICAgJnBkZXYtPnNiZGYsIG5yLCByYyk7CiAgICAgICAgIC8q
IEVudHJ5IGlzIGxpa2VseSBub3QgcHJvcGVybHkgY29uZmlndXJlZC4gKi8KICAgICAgICAgcmV0
dXJuIHJjOwogICAgIH0KQEAgLTcyLDcgKzcwLDYgQEAgc3RhdGljIGludCB1cGRhdGVfZW50cnko
c3RydWN0IHZwY2lfbXNpeF9lbnRyeSAqZW50cnksCiBzdGF0aWMgdm9pZCBjb250cm9sX3dyaXRl
KGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2LCB1bnNpZ25lZCBpbnQgcmVnLAogICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50MzJfdCB2YWwsIHZvaWQgKmRhdGEpCiB7Ci0gICAgdWludDhf
dCBzbG90ID0gUENJX1NMT1QocGRldi0+ZGV2Zm4pLCBmdW5jID0gUENJX0ZVTkMocGRldi0+ZGV2
Zm4pOwogICAgIHN0cnVjdCB2cGNpX21zaXggKm1zaXggPSBkYXRhOwogICAgIGJvb2wgbmV3X21h
c2tlZCA9IHZhbCAmIFBDSV9NU0lYX0ZMQUdTX01BU0tBTEw7CiAgICAgYm9vbCBuZXdfZW5hYmxl
ZCA9IHZhbCAmIFBDSV9NU0lYX0ZMQUdTX0VOQUJMRTsKQEAgLTEzMyw5ICsxMzAsOCBAQCBzdGF0
aWMgdm9pZCBjb250cm9sX3dyaXRlKGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2LCB1bnNpZ25l
ZCBpbnQgcmVnLAogICAgICAgICAgICAgICAgIC8qIElnbm9yZSBub24tcHJlc2VudCBlbnRyeS4g
Ki8KICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgIGRlZmF1bHQ6Ci0gICAgICAg
ICAgICAgICAgZ3ByaW50ayhYRU5MT0dfV0FSTklORywKLSAgICAgICAgICAgICAgICAgICAgICAg
ICIlMDR4OiUwMng6JTAyeC4ldTogdW5hYmxlIHRvIGRpc2FibGUgZW50cnkgJXU6ICVkXG4iLAot
ICAgICAgICAgICAgICAgICAgICAgICAgcGRldi0+c2VnLCBwZGV2LT5idXMsIHNsb3QsIGZ1bmMs
IGksIHJjKTsKKyAgICAgICAgICAgICAgICBncHJpbnRrKFhFTkxPR19XQVJOSU5HLCAiJXBwOiB1
bmFibGUgdG8gZGlzYWJsZSBlbnRyeSAldTogJWRcbiIsCisgICAgICAgICAgICAgICAgICAgICAg
ICAmcGRldi0+c2JkZiwgaSwgcmMpOwogICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAg
ICAgIH0KICAgICAgICAgfQpAQCAtMTgwLDggKzE3Niw3IEBAIHN0YXRpYyBib29sIGFjY2Vzc19h
bGxvd2VkKGNvbnN0IHN0cnVjdCBwY2lfZGV2ICpwZGV2LCB1bnNpZ25lZCBsb25nIGFkZHIsCiAg
ICAgICAgIHJldHVybiB0cnVlOwogCiAgICAgZ3ByaW50ayhYRU5MT0dfV0FSTklORywKLSAgICAg
ICAgICAgICIlMDR4OiUwMng6JTAyeC4ldTogdW5hbGlnbmVkIG9yIGludmFsaWQgc2l6ZSBNU0kt
WCB0YWJsZSBhY2Nlc3NcbiIsCi0gICAgICAgICAgICBwZGV2LT5zZWcsIHBkZXYtPmJ1cywgUENJ
X1NMT1QocGRldi0+ZGV2Zm4pLCBQQ0lfRlVOQyhwZGV2LT5kZXZmbikpOworICAgICAgICAgICAg
IiVwcDogdW5hbGlnbmVkIG9yIGludmFsaWQgc2l6ZSBNU0ktWCB0YWJsZSBhY2Nlc3NcbiIsICZw
ZGV2LT5zYmRmKTsKIAogICAgIHJldHVybiBmYWxzZTsKIH0KQEAgLTQzMSwxMCArNDI2LDkgQEAg
aW50IHZwY2lfbWFrZV9tc2l4X2hvbGUoY29uc3Qgc3RydWN0IHBjaV9kZXYgKnBkZXYpCiAgICAg
ICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgIHB1dF9nZm4oZCwgc3RhcnQpOwogICAg
ICAgICAgICAgICAgIGdwcmludGsoWEVOTE9HX1dBUk5JTkcsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAiJTA0eDolMDJ4OiUwMnguJXU6IGV4aXN0aW5nIG1hcHBpbmcgKG1mbjogJSIgUFJJX21m
bgorICAgICAgICAgICAgICAgICAgICAgICAgIiVwcDogZXhpc3RpbmcgbWFwcGluZyAobWZuOiAl
IiBQUklfbWZuCiAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZTogJWQpIGF0ICUjbHggY2xv
YmJlcnMgTVNJWCBNTUlPIGFyZWFcbiIsCi0gICAgICAgICAgICAgICAgICAgICAgICBwZGV2LT5z
ZWcsIHBkZXYtPmJ1cywgUENJX1NMT1QocGRldi0+ZGV2Zm4pLAotICAgICAgICAgICAgICAgICAg
ICAgICAgUENJX0ZVTkMocGRldi0+ZGV2Zm4pLCBtZm5feChtZm4pLCB0LCBzdGFydCk7CisgICAg
ICAgICAgICAgICAgICAgICAgICAmcGRldi0+c2JkZiwgbWZuX3gobWZuKSwgdCwgc3RhcnQpOwog
ICAgICAgICAgICAgICAgIHJldHVybiAtRUVYSVNUOwogICAgICAgICAgICAgfQogICAgICAgICAg
ICAgcHV0X2dmbihkLCBzdGFydCk7Ci0tIAoyLjIwLjEgKEFwcGxlIEdpdC0xMTcpCgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxp
bmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5w
cm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

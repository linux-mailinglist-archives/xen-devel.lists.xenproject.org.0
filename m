Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CFDAF3D1E9
	for <lists+xen-devel@lfdr.de>; Tue, 11 Jun 2019 18:11:42 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hajKt-0000NB-AI; Tue, 11 Jun 2019 16:09:23 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=XVUa=UK=gmail.com=andrii.anisov@srs-us1.protection.inumbo.net>)
 id 1hajKr-0000N6-Ct
 for xen-devel@lists.xenproject.org; Tue, 11 Jun 2019 16:09:21 +0000
X-Inumbo-ID: 4440cc03-8c63-11e9-8980-bc764e045a96
Received: from mail-lf1-x144.google.com (unknown [2a00:1450:4864:20::144])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 4440cc03-8c63-11e9-8980-bc764e045a96;
 Tue, 11 Jun 2019 16:09:19 +0000 (UTC)
Received: by mail-lf1-x144.google.com with SMTP id z15so7049764lfh.13
 for <xen-devel@lists.xenproject.org>; Tue, 11 Jun 2019 09:09:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-language:content-transfer-encoding;
 bh=u84TswYEUYAfVYFko8ddhOSiN+GH7dy3LSe6VZmZap8=;
 b=FmAP46VvbnyP5mULjdViN3fNUrEATjiu3J6V62veqlr/HVSMJc1PsKwQS83g9199sA
 hvVy/twj70eJs/GLeKtooDd1uzY8Z/0iMsHTouzdCwz/G/fhJSUlQLgIzKwWGden5yGX
 onTlrzUsEoJVdonW6DrCCv9Aq8PTxnah4cxWarRyKSBTz4ugR9E8u2zQlaxR8Rg9blK0
 zpY+N57zVkZ3fd9wEGs1JW9skyZfLFnLPZbxEwX0sRSs4GSRv9URVYtJxr6flGQwWZvx
 2UPhKTQUc7mEAKdEG8Xt/Ytr18haSu0g0nujDWad88Sk6IKZabPO7Kni2btfzsQiiI3t
 8DlQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=u84TswYEUYAfVYFko8ddhOSiN+GH7dy3LSe6VZmZap8=;
 b=IF+UDagl1Yj34okGdB+aw0LFzQIXOM8NtVO0RJWitkUdJlFzLDb5wl5A3FNjbxy6dw
 pUrV4vp6BSJm/XMGLHdOFX2fkSDVpJA3no9B2QBltOY9zi3/q3XqtpbW1C5uJoEJEeUP
 sKMkq3Uyr7z18vqPgD1+rXYMoSht8shs23asCwRQoZrE7bF+e/m5rcxY/vICEEfM2iXA
 Dw4Bwcv61yq7IZgsB9YUwXj+2hVO84Sv6d/VsrsQUhMptD/v12IDIb909VSQPqlLcuj0
 /+wL4+t4U8i8t3LUHHsee6MMm/MQzgdCAWwk10DQOWBkyUewJsdaRDh0NgOjFPBRQ/v0
 fhkg==
X-Gm-Message-State: APjAAAURMV8rGAD85NcZID/qaxRHb4Cwu6zVfMIoXsgyuUu1TCgX8oQV
 0YLWlFBGBZqlGhjJMDrYpLs=
X-Google-Smtp-Source: APXvYqw9IbTHLERzLJkbXcXRlfclDrlIhqRWxx9ZLv1jW2YFG1OBnHncXm/ySHBYEIefZUjxJNwn4g==
X-Received: by 2002:ac2:5324:: with SMTP id f4mr21024487lfh.156.1560269357875; 
 Tue, 11 Jun 2019 09:09:17 -0700 (PDT)
Received: from [10.17.180.34] (ll-22.209.223.85.sovam.net.ua. [85.223.209.22])
 by smtp.gmail.com with ESMTPSA id
 f1sm2567734ljf.48.2019.06.11.09.09.15
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 11 Jun 2019 09:09:16 -0700 (PDT)
To: Jan Beulich <JBeulich@suse.com>
References: <1558721577-13958-1-git-send-email-andrii.anisov@gmail.com>
 <1558721577-13958-3-git-send-email-andrii.anisov@gmail.com>
 <5CFA734902000078002364C0@prv1-mh.provo.novell.com>
From: Andrii Anisov <andrii.anisov@gmail.com>
Message-ID: <25ea00e0-c5fc-6606-f3f5-12001675bb60@gmail.com>
Date: Tue, 11 Jun 2019 19:09:14 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
MIME-Version: 1.0
In-Reply-To: <5CFA734902000078002364C0@prv1-mh.provo.novell.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v3] xen: introduce
 VCPUOP_register_runstate_phys_memory_area hypercall
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wei.liu2@citrix.com>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <Ian.Jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>,
 xen-devel <xen-devel@lists.xenproject.org>,
 "andrii_anisov@epam.com" <andrii_anisov@epam.com>,
 Roger Pau Monne <roger.pau@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGVsbG8gSmFuLAoKT24gMDcuMDYuMTkgMTc6MjMsIEphbiBCZXVsaWNoIHdyb3RlOgo+Pj4+IE9u
IDI0LjA1LjE5IGF0IDIwOjEyLCA8YW5kcmlpLmFuaXNvdkBnbWFpbC5jb20+IHdyb3RlOgo+PiBG
cm9tOiBBbmRyaWkgQW5pc292IDxhbmRyaWlfYW5pc292QGVwYW0uY29tPgo+Pgo+PiBFeGlzdGlu
ZyBpbnRlcmZhY2UgdG8gcmVnaXN0ZXIgcnVuc3RhdGUgYXJlIHdpdGggaXRzIHZpcnR1YWwgYWRk
cmVzcwo+PiBpcyBwcm9uZSB0byBpc3N1ZXMgd2hpY2ggYmVjYW1lIG1vcmUgb2J2aW91cyB3aXRo
IEtQVEkgZW5hYmxlbWVudCBpbgo+PiBndWVzdHMuIFRoZSBuYXR1cmUgb2YgdGhvc2UgaXNzdWVz
IGlzIHRoZSBmYWN0IHRoYXQgdGhlIGd1ZXN0IGNvdWxkCj4+IGJlIGludGVycnVwdGVkIGJ5IHRo
ZSBoeXBlcnZpc29yIGF0IGFueSB0aW1lLCBhbmQgdGhlcmUgaXMgbm8gZ3VhcmFudGVlCj4+IHRv
IGhhdmUgdGhlIHJlZ2lzdGVyZWQgdmlydHVhbCBhZGRyZXNzIHRyYW5zbGF0ZWQgd2l0aCB0aGUg
Y3VycmVudGx5Cj4+IGF2YWlsYWJsZSBndWVzdCdzIHBhZ2UgdGFibGVzLiBCZWZvcmUgdGhlIEtQ
VEkgc3VjaCBhIHNpdHVhdGlvbiB3YXMKPj4gcG9zc2libGUgaW4gY2FzZSB0aGUgZ3Vlc3QgaXMg
Y2F1Z2h0IGluIHRoZSBtaWRkbGUgb2YgUFQgcHJvY2Vzc2luZwo+PiAoZS5nLiBzdXBlcnBhZ2Ug
c2hhdHRlcmluZykuIFdpdGggdGhlIEtQVEkgdGhpcyBoYXBwZW5zIGFsc28gd2hlbiB0aGUKPj4g
Z3Vlc3QgcnVucyB1c2Vyc3BhY2UsIHNvIGhhcyBhIHByZXR0eSBoaWdoIHByb2JhYmlsaXR5Lgo+
IAo+IEV4Y2VwdCB3aGVuIHRoZXJlJ3Mgbm8gbmVlZCBmb3IgS1BUSSBpbiB0aGUgZ3Vlc3QgaW4g
dGhlIGZpcnN0IHBsYWNlLAo+IGFzIGlzIHRoZSBjYXNlIGZvciB4ODYtNjQgUFYgZ3Vlc3RzLiBJ
IHRoaW5rIHRoaXMgaXMgd29ydGh3aGlsZSBjbGFyaWZ5aW5nLgo+IAo+PiBTbyBpdCB3YXMgYWdy
ZWVkIHRvIHJlZ2lzdGVyIHJ1bnN0YXRlIHdpdGggdGhlIGd1ZXN0J3MgcGh5c2ljYWwgYWRkcmVz
cwo+PiBzbyB0aGF0IGl0cyBtYXBwaW5nIGlzIHBlcm1hbmVudCBmcm9tIHRoZSBoeXBlcnZpc29y
IHBvaW50IG9mIHZpZXcuIFsxXQo+Pgo+PiBUaGUgaHlwZXJjYWxsIGVtcGxveXMgdGhlIHNhbWUg
dmNwdV9yZWdpc3Rlcl9ydW5zdGF0ZV9tZW1vcnlfYXJlYQo+PiBzdHJ1Y3R1cmUgZm9yIHRoZSBp
bnRlcmZhY2UsIGJ1dCByZXF1aXJlcyBhIHJlZ2lzdGVyZWQgYXJlYSB0byBub3QKPj4gY3Jvc3Mg
YSBwYWdlIGJvdW5kYXJ5Lgo+Pgo+PiBbMV0gaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9h
cmNoaXZlcy9odG1sL3hlbi1kZXZlbC8yMDE5LTAyL21zZzAwNDE2Lmh0bWwKPj4KPj4gU2lnbmVk
LW9mZi1ieTogQW5kcmlpIEFuaXNvdiA8YW5kcmlpX2FuaXNvdkBlcGFtLmNvbT4KPiAKPiBJIHdv
dWxkIGhhdmUgcmVhbGx5IGhvcGVkIHRoYXQgeW91IHdvdWxkIG91dGxpbmUgdGhlIGludGVuZGVk
IGludGVyYWN0aW9uCj4gYmV0d2VlbiBib3RoIGludGVyZmFjZXMsCgpJJ2Qgc3VwcG9zZSBubyBz
cGVjaWZpYyBpbnRlcmFjdGlvbiBiZXR3ZWVuIGludGVyZmFjZXMuIEkgaGFyZGx5IGltYWdpbmUg
cmVhbGlzdGljIHVzZS1jYXNlcyB3aGVyZSB0aGlzIG1pZ2h0IGJlIG5lZWRlZC4KCj4gc3VjaCB0
aGF0IHdoaWxlIHJldmlld2luZyBvbmUgY2FuIGp1ZGdlIHdoZXRoZXIKPiB5b3UncmUgYWN0dWFs
bHkgbWF0Y2hpbmcgdGhlIGdvYWwuIEkgdGhpbmsgaXQgaXMgYWN0dWFsbHkgbWFuZGF0b3J5IHRv
IG1ha2UKPiBleHBsaWNpdCBpbiB0aGUgcHVibGljIGhlYWRlciB3aGF0IGxldmVsIG9mIG1peGlu
ZyBpcyBwZXJtaXR0ZWQsIHdoYXQgaXMgbm90Cj4gcGVybWl0dGVkLCBhbmQgd2hhdCBtaXggb2Yg
cmVxdWVzdHMgaXMgc2ltcGx5IHVuZGVmaW5lZC4+IAo+IEluIHBhcnRpY3VsYXIsIHdoaWxlIHdl
IGRpZCB3b3JrIG91dCBkdXJpbmcgcHJpb3IgZGlzY3Vzc2lvbnMgdGhhdCBzb21lCj4gbGV2ZWwg
b2YgbWl4aW5nIGhhcyB0byBiZSBwZXJtaXR0ZWQsIEknbSB1bmNvbnZpbmNlZCB0aGF0IGFyYml0
cmFyeQo+IG1peGluZyBoYXMgdG8gYmUgYWxsb3dlZC4gRm9yIGV4YW1wbGUsIHN3aXRjaGluZyBm
cm9tIG9uZSBtb2RlbCB0bwo+IGFub3RoZXIgY291bGQgYmUgcGVybWl0dGVkIG9ubHkgd2l0aCBq
dXN0IGEgc2luZ2xlIGFjdGl2ZSB2Q1BVLiBUaGlzCj4gbWlnaHQgYWxsb3cgdG8gZG8gYXdheSBh
Z2FpbiB3aXRoIHRoZSBydW5zdGF0ZV9pbl91c2UgZmllbGQgeW91IGFkZC4KCldlbGwsIG15IHBv
aW50IGhlcmUgaXMgdG8gbGVmdCBpdCBhcyBpcywgbWF5YmUgYWRkIG1vcmUgZG9jdW1lbnRhdGlv
bi4gSWYgb25lIGxpa2VzIHNob290aW5nIGhpcyBsZWcsIHdlIHNob3VsZCBvbmx5IGNhcmUgYWJv
dXQgYXZvaWRpbmcgcmljb2NoZXQgaGFybXMgaHlwZXJ2aXNvciBvciBvdGhlciBndWVzdHMuCklm
IHlvdSBkaXNhZ3JlZSwgcGxlYXNlIHN1Z2dlc3QgeW91ciBpbnRlcmFjdGlvbiBtb2RlbCwgSSds
bCBiZSBoYXBweSB0byBpbXBsZW1lbnQgaXQuCgo+IAo+PiAtLS0gYS94ZW4vYXJjaC9hcm0vZG9t
YWluLmMKPj4gKysrIGIveGVuL2FyY2gvYXJtL2RvbWFpbi5jCj4+IEBAIC0yNzQsMTcgKzI3NCwx
NSBAQCBzdGF0aWMgdm9pZCBjdHh0X3N3aXRjaF90byhzdHJ1Y3QgdmNwdSAqbikKPj4gICAgICAg
dmlydF90aW1lcl9yZXN0b3JlKG4pOwo+PiAgIH0KPj4gICAKPj4gLS8qIFVwZGF0ZSBwZXItVkNQ
VSBndWVzdCBydW5zdGF0ZSBzaGFyZWQgbWVtb3J5IGFyZWEgKGlmIHJlZ2lzdGVyZWQpLiAqLwo+
PiAtc3RhdGljIHZvaWQgdXBkYXRlX3J1bnN0YXRlX2FyZWEoc3RydWN0IHZjcHUgKnYpCj4+ICtz
dGF0aWMgdm9pZCB1cGRhdGVfcnVuc3RhdGVfYnlfZ3ZhZGRyKHN0cnVjdCB2Y3B1ICp2KQo+PiAg
IHsKPj4gICAgICAgdm9pZCBfX3VzZXIgKmd1ZXN0X2hhbmRsZSA9IE5VTEw7Cj4+ICAgCj4+IC0g
ICAgaWYgKCBndWVzdF9oYW5kbGVfaXNfbnVsbChydW5zdGF0ZV9ndWVzdCh2KSkgKQo+PiAtICAg
ICAgICByZXR1cm47Cj4+ICsgICAgQVNTRVJUKCFndWVzdF9oYW5kbGVfaXNfbnVsbChydW5zdGF0
ZV9ndWVzdF92aXJ0KHYpKSk7Cj4+ICAgCj4+ICAgICAgIGlmICggVk1fQVNTSVNUKHYtPmRvbWFp
biwgcnVuc3RhdGVfdXBkYXRlX2ZsYWcpICkKPj4gICAgICAgewo+PiAtICAgICAgICBndWVzdF9o
YW5kbGUgPSAmdi0+cnVuc3RhdGVfZ3Vlc3QucC0+c3RhdGVfZW50cnlfdGltZSArIDE7Cj4+ICsg
ICAgICAgIGd1ZXN0X2hhbmRsZSA9ICZ2LT5ydW5zdGF0ZV9ndWVzdC52aXJ0LnAtPnN0YXRlX2Vu
dHJ5X3RpbWUgKyAxOwo+PiAgICAgICAgICAgZ3Vlc3RfaGFuZGxlLS07Cj4+ICAgICAgICAgICB2
LT5ydW5zdGF0ZS5zdGF0ZV9lbnRyeV90aW1lIHw9IFhFTl9SVU5TVEFURV9VUERBVEU7Cj4+ICAg
ICAgICAgICBfX3Jhd19jb3B5X3RvX2d1ZXN0KGd1ZXN0X2hhbmRsZSwKPj4gQEAgLTI5Miw3ICsy
OTAsNyBAQCBzdGF0aWMgdm9pZCB1cGRhdGVfcnVuc3RhdGVfYXJlYShzdHJ1Y3QgdmNwdSAqdikK
Pj4gICAgICAgICAgIHNtcF93bWIoKTsKPj4gICAgICAgfQo+PiAgIAo+PiAtICAgIF9fY29weV90
b19ndWVzdChydW5zdGF0ZV9ndWVzdCh2KSwgJnYtPnJ1bnN0YXRlLCAxKTsKPj4gKyAgICBfX2Nv
cHlfdG9fZ3Vlc3QocnVuc3RhdGVfZ3Vlc3RfdmlydCh2KSwgJnYtPnJ1bnN0YXRlLCAxKTsKPiAK
PiBJbiBhIHByaW9yIHZlcnNpb24geW91IGRpZCB0aGUgbWVjaGFuaWNhbCBwYXJ0IG9mIGFkanVz
dGluZyB0aGUgVkEtYmFzZWQKPiBjb2RlIGluIGEgcHJlcmVxIHBhdGNoLCBhaWRpbmcgcmV2aWV3
LiBJcyB0aGVyZSBhIHBhcnRpY3VsYXIgcmVhc29uIHlvdQo+IGZvbGRlZCBldmVyeXRoaW5nIGlu
dG8gb25lIHBhdGNoIG5vdz8KCkkgc2lsZW50bHkgZm9sbG93ZWQgc3VnZ2VzdGlvbiBmcm9tIEdl
b3JnZSBbMV0uIEFueSBvYmplY3Rpb25zPwoKPiAKPj4gQEAgLTMwMyw2ICszMDEsNTMgQEAgc3Rh
dGljIHZvaWQgdXBkYXRlX3J1bnN0YXRlX2FyZWEoc3RydWN0IHZjcHUgKnYpCj4+ICAgICAgIH0K
Pj4gICB9Cj4+ICAgCj4+ICtzdGF0aWMgdm9pZCB1cGRhdGVfcnVuc3RhdGVfYnlfZ3BhZGRyKHN0
cnVjdCB2Y3B1ICp2KQo+PiArewo+PiArICAgIHN0cnVjdCB2Y3B1X3J1bnN0YXRlX2luZm8gKnJ1
bnN0YXRlID0KPj4gKyAgICAgICAgICAgIChzdHJ1Y3QgdmNwdV9ydW5zdGF0ZV9pbmZvICopdi0+
cnVuc3RhdGVfZ3Vlc3QucGh5czsKPiAKPiBXaGF0J3MgdGhlIGNhc3QgZm9yIGhlcmU/Cj4gCj4+
IEBAIC0xNjE0LDYgKzE2MTMsOTIgQEAgYm9vbCB1cGRhdGVfcnVuc3RhdGVfYXJlYShzdHJ1Y3Qg
dmNwdSAqdikKPj4gICAgICAgcmV0dXJuIHJjOwo+PiAgIH0KPj4gICAKPj4gK3N0YXRpYyBib29s
IHVwZGF0ZV9ydW5zdGF0ZV9ieV9ncGFkZHJfbmF0aXZlKHN0cnVjdCB2Y3B1ICp2KQo+PiArewo+
PiArICAgIHN0cnVjdCB2Y3B1X3J1bnN0YXRlX2luZm8gKnJ1bnN0YXRlID0KPj4gKyAgICAgICAg
ICAgIChzdHJ1Y3QgdmNwdV9ydW5zdGF0ZV9pbmZvICopdi0+cnVuc3RhdGVfZ3Vlc3QucGh5czsK
Pj4gKwo+PiArICAgIEFTU0VSVChydW5zdGF0ZSAhPSBOVUxMKTsKPj4gKwo+PiArICAgIGlmICgg
Vk1fQVNTSVNUKHYtPmRvbWFpbiwgcnVuc3RhdGVfdXBkYXRlX2ZsYWcpICkKPj4gKyAgICB7Cj4+
ICsgICAgICAgIHJ1bnN0YXRlLT5zdGF0ZV9lbnRyeV90aW1lIHw9IFhFTl9SVU5TVEFURV9VUERB
VEU7Cj4+ICsgICAgICAgIHNtcF93bWIoKTsKPj4gKyAgICAgICAgdi0+cnVuc3RhdGUuc3RhdGVf
ZW50cnlfdGltZSB8PSBYRU5fUlVOU1RBVEVfVVBEQVRFOwo+PiArICAgIH0KPj4gKwo+PiArICAg
IG1lbWNweSh2LT5ydW5zdGF0ZV9ndWVzdC5waHlzLCAmdi0+cnVuc3RhdGUsIHNpemVvZih2LT5y
dW5zdGF0ZSkpOwo+PiArCj4+ICsgICAgaWYgKCBWTV9BU1NJU1Qodi0+ZG9tYWluLCBydW5zdGF0
ZV91cGRhdGVfZmxhZykgKQo+PiArICAgIHsKPj4gKyAgICAgICAgcnVuc3RhdGUtPnN0YXRlX2Vu
dHJ5X3RpbWUgJj0gflhFTl9SVU5TVEFURV9VUERBVEU7Cj4+ICsgICAgICAgIHNtcF93bWIoKTsK
Pj4gKyAgICAgICAgdi0+cnVuc3RhdGUuc3RhdGVfZW50cnlfdGltZSAmPSB+WEVOX1JVTlNUQVRF
X1VQREFURTsKPj4gKyAgICB9Cj4+ICsKPj4gKyAgICByZXR1cm4gdHJ1ZTsKPj4gK30KPiAKPiBJ
IGNhbid0IGhlbHAgdGhpbmtpbmcgdGhhdCB0aGlzIG1hdGNoZXMgdGhlIEFybSBjb2RlLiBDYW4g
Y29tbW9uIHRoaW5ncwo+IHBsZWFzZSBiZSBwdXQgaW4gY29tbW9uIGNvZGU/IEkgbWF5IGJlIGFz
a2luZyB0b28gbXVjaCwgYnV0IGlmIHRoZQo+IHByZS1leGlzdGluZyBpbXBsZW1lbnRhdGlvbnMg
YXJlIHNpbWlsYXIgZW5vdWdoIChJIGRpZG4ndCBjaGVjaykgcGVyaGFwcwo+IHRoZXkgY291bGQg
YmUgZm9sZGVkIGluIGEgZmlyc3Qgc3RlcCwgdG9vPwoKVGhlIHByb2JsZW0gdGhvdWdodCB0byBi
ZSB0aGUgaW50ZXJmYWNlOiBvbiB4ODYgdXBkYXRlX3J1bnN0YXRlX2FyZWEoKSByZXR1cm5zIGJv
b2wsIGJ1dCBvbiBBUk0gaXQgaXMgdm9pZC4KQnV0IGZvciB0aGUgY29tbW9uIGZ1bmN0aW9uIHVw
ZGF0ZV9ydW5zdGF0ZV9ieV9ncGFkZHJffm5hdGl2ZX4oKSBpdCB3b3VsZCBub3QgYmUgYSBwcm9i
bGVtLCBiZWNhdXNlIHdlIHdpbGwgcmV0dXJuIHByb3BlciBib29sIGZyb20gdGhlIHJlZmFjdG9y
ZWQgdXBkYXRlX3J1bnN0YXRlX2FyZWEoKS4KVGhhbmsgeW91IGZvciB0aGUgcG9pbnQuCgo+IAo+
PiArc3RhdGljIGJvb2wgdXBkYXRlX3J1bnN0YXRlX2J5X2dwYWRkcl9jb21wYXQoc3RydWN0IHZj
cHUgKnYpCj4+ICt7Cj4+ICsgICAgc3RydWN0IGNvbXBhdF92Y3B1X3J1bnN0YXRlX2luZm8gKnJ1
bnN0YXRlID0KPj4gKyAgICAgICAgICAgIChzdHJ1Y3QgY29tcGF0X3ZjcHVfcnVuc3RhdGVfaW5m
byAqKXYtPnJ1bnN0YXRlX2d1ZXN0LnBoeXM7Cj4+ICsKPj4gKyAgICBBU1NFUlQocnVuc3RhdGUg
IT0gTlVMTCk7Cj4+ICsKPj4gKyAgICBpZiAoIFZNX0FTU0lTVCh2LT5kb21haW4sIHJ1bnN0YXRl
X3VwZGF0ZV9mbGFnKSApCj4+ICsgICAgewo+PiArICAgICAgICBydW5zdGF0ZS0+c3RhdGVfZW50
cnlfdGltZSB8PSBYRU5fUlVOU1RBVEVfVVBEQVRFOwo+PiArICAgICAgICBzbXBfd21iKCk7Cj4+
ICsgICAgICAgIHYtPnJ1bnN0YXRlLnN0YXRlX2VudHJ5X3RpbWUgfD0gWEVOX1JVTlNUQVRFX1VQ
REFURTsKPj4gKyAgICB9Cj4+ICsKPj4gKyAgICB7Cj4+ICsgICAgICAgIHN0cnVjdCBjb21wYXRf
dmNwdV9ydW5zdGF0ZV9pbmZvIGluZm87Cj4+ICsgICAgICAgIFhMQVRfdmNwdV9ydW5zdGF0ZV9p
bmZvKCZpbmZvLCAmdi0+cnVuc3RhdGUpOwo+PiArICAgICAgICBtZW1jcHkodi0+cnVuc3RhdGVf
Z3Vlc3QucGh5cywgJmluZm8sIHNpemVvZihpbmZvKSk7Cj4+ICsgICAgfQo+PiArICAgIGVsc2UK
Pj4gKyAgICAgICAgbWVtY3B5KHYtPnJ1bnN0YXRlX2d1ZXN0LnBoeXMsICZ2LT5ydW5zdGF0ZSwg
c2l6ZW9mKHYtPnJ1bnN0YXRlKSk7Cj4gCj4gVGhpcyAiZWxzZSIgZG9lcyBub3Qgc2VlbSB0byBi
ZSBwYWlyZWQgd2l0aCBhbiBpZigpLiBEb2VzIHRoaXMgYnVpbGQKPiBhdCBhbGw/CgpUaGlzIHBh
cnRpY3VsYXIgLSBub3QhCkFuZCBpdCBpcyByZWFsbHkgc3RyYW5nZSwgSSByZW1lbWJlciBJIGNo
ZWNrZWQgcGF0Y2ggY29tcGlsYXRpb24gZm9yIHg4Ni4gTG9va2luZyB0aHJvdWdoIGdpdCByZWZs
b2cgdG8gcmVhbGl6ZSBhdCB3aGF0IGFtZW5kIGl0IGJlY2FtZSBicm9rZW4uCkJ1dCBhbHNvIEkg
ZG8gbm90IGNvbXBsZXRlbHkgdW5kZXJzdGFuZCB0aGUgbWVhbmluZyBvZiAiX2NvbXBhdCIgYW5k
IGlmIGl0IHNob3VsZCBiZSBzdXBwb3J0ZWQgaGVyZT8KCj4gCj4+IC0tLSBhL3hlbi9hcmNoL3g4
Ni94ODZfNjQvZG9tYWluLmMKPj4gKysrIGIveGVuL2FyY2gveDg2L3g4Nl82NC9kb21haW4uYwo+
PiBAQCAtMTIsNiArMTIsOCBAQAo+PiAgIENIRUNLX3ZjcHVfZ2V0X3BoeXNpZDsKPj4gICAjdW5k
ZWYgeGVuX3ZjcHVfZ2V0X3BoeXNpZAo+PiAgIAo+PiArZXh0ZXJuIHZvaWQgZGlzY2FyZF9ydW5z
dGF0ZV9hcmVhKHN0cnVjdCB2Y3B1ICp2KTsKPiAKPiBObywgdGhpcyBpcyBub3QgYWxsb3dlZC4g
VGhlIGRlY2xhcmF0aW9uIG11c3QgYmUgdmlzaWJsZSB0byBib3RoIGNvbnN1bWVyCj4gYW5kIHBy
b2R1Y2VyLCBzbyB0aGF0IHdoZW4gZWl0aGVyIHNpZGUgaXMgY2hhbmdlZCB0aGluZ3Mgd29uJ3Qg
YnVpbGQgdW50aWwKPiB0aGUgb3RoZXIgc2lkZSBnZXRzIGNoYW5nZWQgdG9vLgo+IAo+PiBAQCAt
MzUsOCArMzcsMTYgQEAgYXJjaF9jb21wYXRfdmNwdV9vcCgKPj4gICAgICAgICAgICAgICAgIWNv
bXBhdF9oYW5kbGVfb2theShhcmVhLmFkZHIuaCwgMSkgKQo+PiAgICAgICAgICAgICAgIGJyZWFr
Owo+PiAgIAo+PiArICAgICAgICB3aGlsZSggeGNoZygmdi0+cnVuc3RhdGVfaW5fdXNlLCAxKSA9
PSAwKTsKPiAKPiBBdCB0aGUgdmVyeSBsZWFzdCBzdWNoIGxvb3BzIHdhbnQgYSBjcHVfcmVsYXgo
KSBpbiB0aGVpciBib2RpZXMuCj4gQnV0IHRoaXMgYmVpbmcgb24gYSBoeXBlcmNhbGwgcGF0aCAt
IGFyZSB0aGVyZSB0aGVvcmV0aWNhbCBndWFyYW50ZWVzCj4gdGhhdCBhIGd1ZXN0IGNhbid0IGFi
dXNlIHRoaXMgdG8gbG9jayB1cCBhIENQVT8KPiAKPiBGdXJ0aGVybW9yZSBJIGRvbid0IHVuZGVy
c3RhbmQgaG93IHRoaXMgaXMgc3VwcG9zZWQgdG8gd29yayBpbgo+IHRoZSBmaXJzdCBwbGFjZS4g
VGhlIGZpcnN0IHhjaGcoKSB3aWxsIHN0b3JlIDEsIG5vIG1hdHRlciB3aGF0LiBUaHVzCj4gb24g
dGhlIHNlY29uZCBpdGVyYXRpb24geW91J2xsIGZpbmQgdGhlIHdhbnRlZCB2YWx1ZSB1bmxlc3Mg
dGhlCj4gb3RoZXIgc2lkZSBzdG9yZWQgMC4gWWV0IHRoZSBvdGhlciBzaWRlIGlzIGEgc2ltcGxl
IHhjaGcoKSB0b28uCj4gSGVuY2UgaXRzIGZpcnN0IGF0dGVtcHQgd291bGQgZmFpbCwgYnV0IGl0
cyBzZWNvbmQgYXR0ZW1wdCAod2hpY2gKPiB3ZSBkaWRuJ3QgZXhpdCB0aGUgY3JpdGljYWwgcmVn
aW9uIGhlcmUgeWV0KSB3b3VsZCBzdWNjZWVkLgo+IAo+IEFsc28gLSBzdHlsZS4KCldpbGwgbGVh
dmUgdGhpcyBwYXJ0IGZvciBsb2NraW5nIGlzc3VlIGRpc2N1c3Npb24uCgo+IAo+PiAtLS0gYS94
ZW4vY29tbW9uL2RvbWFpbi5jCj4+ICsrKyBiL3hlbi9jb21tb24vZG9tYWluLmMKPj4gQEAgLTY5
OCw2ICs2OTgsNzQgQEAgaW50IHJjdV9sb2NrX2xpdmVfcmVtb3RlX2RvbWFpbl9ieV9pZChkb21p
ZF90IGRvbSwgc3RydWN0IGRvbWFpbiAqKmQpCj4+ICAgICAgIHJldHVybiAwOwo+PiAgIH0KPj4g
ICAKPj4gK3N0YXRpYyB2b2lkIHVubWFwX3J1bnN0YXRlX2FyZWEoc3RydWN0IHZjcHUgKnYpCj4+
ICt7Cj4+ICsgICAgbWZuX3QgbWZuOwo+PiArCj4+ICsgICAgaWYgKCAhIHYtPnJ1bnN0YXRlX2d1
ZXN0LnBoeXMgKQo+IAo+IFN0cmF5IGJsYW5rIGFmdGVyICEgLgoKT0suCgo+IAo+PiArICAgICAg
ICByZXR1cm47Cj4+ICsKPj4gKyAgICBtZm4gPSBkb21haW5fcGFnZV9tYXBfdG9fbWZuKHYtPnJ1
bnN0YXRlX2d1ZXN0LnBoeXMpOwo+PiArCj4+ICsgICAgdW5tYXBfZG9tYWluX3BhZ2VfZ2xvYmFs
KCh2b2lkICopCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgodW5zaWduZWQgbG9u
Zyl2LT5ydW5zdGF0ZV9ndWVzdC5waHlzICYKPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFBBR0VfTUFTSykpOwo+PiArCj4+ICsgICAgdi0+cnVuc3RhdGVfZ3Vlc3QucGh5cyA9IE5V
TEw7Cj4gCj4gSSB0aGluayB5b3Ugd291bGQgYmV0dGVyIHN0b3JlIE5VTEwgYmVmb3JlIHVubWFw
cGluZy4KCkRvIHlvdSBtZWFuIHVzaW5nIGxvY2FsIHZhcmlhYmxlIHRvIHBhc3MgYWRkcmVzcyB0
byB1bm1hcF9kb21haW5fcGFnZV9nbG9iYWwoKSwgYW5kIHNldHRpbmcgdi0+cnVuc3RhdGVfZ3Vl
c3QucGh5cyB0byBOVUxMIHByaW9yIHRvIHVubWFwPwoKPiAKPj4gQEAgLTczNCw3ICs4MDIsMTAg
QEAgaW50IGRvbWFpbl9raWxsKHN0cnVjdCBkb21haW4gKmQpCj4+ICAgICAgICAgICBpZiAoIGNw
dXBvb2xfbW92ZV9kb21haW4oZCwgY3B1cG9vbDApICkKPj4gICAgICAgICAgICAgICByZXR1cm4g
LUVSRVNUQVJUOwo+PiAgICAgICAgICAgZm9yX2VhY2hfdmNwdSAoIGQsIHYgKQo+PiArICAgICAg
ICB7Cj4+ICsgICAgICAgICAgICBkaXNjYXJkX3J1bnN0YXRlX2FyZWFfbG9ja2VkKHYpOwo+PiAg
ICAgICAgICAgICAgIHVubWFwX3ZjcHVfaW5mbyh2KTsKPj4gKyAgICAgICAgfQo+IAo+IFdoYXQg
aXMgdGhlICJsb2NrZWQiIGFzcGVjdCBoZXJlIGFib3V0PyBUaGUgZ3Vlc3QgaXRzZWxmIGlzIGRl
YWQgKGkuZS4KPiBmdWxseSBwYXVzZWQpIGF0IHRoaXMgcG9pbnQsIGlzbid0IGl0PyBBbmQgaXQg
d29uJ3QgZXZlciBiZSB1bnBhdXNlZAo+IGFnYWluLgoKWW91IGFyZSByaWdodC4gQWxsIHZjcHVz
IGhlcmUgYXJlIHN0b3BwZWQuIFdlIGNhbiBkaXNjYXJkIHJ1bnN0YXRlIGFyZWEgd2l0aG91dCBs
b2NraW5nLgoKPiAKPj4gLS0tIGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLmgKPj4gKysrIGIveGVu
L2luY2x1ZGUveGVuL3NjaGVkLmgKPj4gQEAgLTE2MywxNyArMTYzLDMxIEBAIHN0cnVjdCB2Y3B1
Cj4+ICAgICAgIHZvaWQgICAgICAgICAgICAqc2NoZWRfcHJpdjsgICAgLyogc2NoZWR1bGVyLXNw
ZWNpZmljIGRhdGEgKi8KPj4gICAKPj4gICAgICAgc3RydWN0IHZjcHVfcnVuc3RhdGVfaW5mbyBy
dW5zdGF0ZTsKPj4gKwo+PiArICAgIGVudW0gewo+PiArICAgICAgICBSVU5TVEFURV9OT05FID0g
MCwKPj4gKyAgICAgICAgUlVOU1RBVEVfUEFERFIgPSAxLAo+PiArICAgICAgICBSVU5TVEFURV9W
QUREUiA9IDIsCj4+ICsgICAgfSBydW5zdGF0ZV9ndWVzdF90eXBlOwo+PiArCj4+ICsgICAgdW5z
aWduZWQgbG9uZyBydW5zdGF0ZV9pbl91c2U7Cj4gCj4gV2h5ICJ1bnNpZ25lZCBsb25nIj8gSXNu
J3QgYSBib29sIGFsbCB5b3UgbmVlZD8KCkJvb2wgc2hvdWxkIGJlIGVub3VnaC4gQnV0IGl0IHNl
ZW1zIHdlIHdpbGwgaGF2ZSBhIGxvY2sgaGVyZS4KCj4gQWxzbyB0aGVzZSB3b3VsZCBub3cgYWxs
IHdhbnQgdG8gYmUgZ3JvdXBlZCBpbiBhIHN1Yi1zdHJ1Y3R1cmUgbmFtZWQKPiAicnVuc3RhdGUi
LCByYXRoZXIgdGhhbiBoYXZpbmcgInJ1bnN0YXRlXyIgcHJlZml4ZXMuCgpNZW1iZXIgYHJ1bnN0
YXRlYCBoYXMgYWxyZWFkeSBhIHR5cGUgb2YgYHN0cnVjdCB2Y3B1X3J1bnN0YXRlX2luZm9gIHdo
aWNoIGlzIGFuIGludGVyZmFjZSB0eXBlLgpgcnVuc3RhdGVfZ3Vlc3RgIGlzIGEgdW5pb24uIEkn
ZCBub3QgbGlrZSBtb3ZpbmcgYHJ1bnN0YXRlX2d1ZXN0YCB1bmlvbiBpbnRvIGFub3RoZXIgc3Vi
c3RydWN0dXJlLiBCZWNhdXNlIHdlIHdvdWxkIGhhdmUgbG9uZyBsaW5lcyBsaWtlIGB2LT5zdHJ1
Y3QucnVuc3RhdGVfZ3Vlc3QudmlydC5wLT5zdGF0ZV9lbnRyeV90aW1lYC4KCj4gCj4+ICsgICAg
ICAgIHZvaWQqICAgcGh5czsKPiAKPiBCYWQgb3JkZXJpbmcgYmV0d2VlbiAqIGFuZCB0aGUgYmxh
bmtzLiBUaGVyZSBvdWdodCB0byBiZSBhIGJsYW5rCj4gYWhlYWQgb2YgdGhlICosIGFuZCBJIGRv
bid0IHNlZSB3aHkgeW91IG5lZWQgYW55IGFmdGVyIGl0LgoKT0suCgoKWzFdIGh0dHBzOi8vbGlz
dHMueGVucHJvamVjdC5vcmcvYXJjaGl2ZXMvaHRtbC94ZW4tZGV2ZWwvMjAxOS0wNS9tc2cwMDU5
OS5odG1sCgotLSAKU2luY2VyZWx5LApBbmRyaWkgQW5pc292LgoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4t
ZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

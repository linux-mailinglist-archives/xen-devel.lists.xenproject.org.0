Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E75BBD5074
	for <lists+xen-devel@lfdr.de>; Sat, 12 Oct 2019 16:39:40 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iJIVX-0000YQ-Sf; Sat, 12 Oct 2019 14:36:35 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=QqvL=YF=invisiblethingslab.com=marmarek@srs-us1.protection.inumbo.net>)
 id 1iJIVW-0000Y8-Bv
 for xen-devel@lists.xenproject.org; Sat, 12 Oct 2019 14:36:34 +0000
X-Inumbo-ID: adbfc236-ecfd-11e9-bbab-bc764e2007e4
Received: from new1-smtp.messagingengine.com (unknown [66.111.4.221])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id adbfc236-ecfd-11e9-bbab-bc764e2007e4;
 Sat, 12 Oct 2019 14:36:29 +0000 (UTC)
Received: from compute7.internal (compute7.nyi.internal [10.202.2.47])
 by mailnew.nyi.internal (Postfix) with ESMTP id 93BB25916;
 Sat, 12 Oct 2019 10:36:29 -0400 (EDT)
Received: from mailfrontend2 ([10.202.2.163])
 by compute7.internal (MEProxy); Sat, 12 Oct 2019 10:36:29 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
 messagingengine.com; h=cc:content-transfer-encoding:content-type
 :date:from:in-reply-to:message-id:mime-version:references
 :subject:to:x-me-proxy:x-me-proxy:x-me-sender:x-me-sender
 :x-sasl-enc; s=fm1; bh=2tq+EVixw2b0GMKGNXgcN3F/3xwOoxlJnB+6cPiUc
 fY=; b=L0PZjdmOEq9VoeoAAD5bKWKzcQqI/EdCaEh7iXKU6TcsULet/uZbpFGbN
 GHJW3IM6FOXEURI0FOjEE4gSHISUZAPUL75qhelqzayod+cEHlH6ViTk/R50bCWj
 9i4mYoIiMbtFWgwf96p5Whht4NZIOnSXhQmcCDQvv8aGBvdQ4H0EqXKfdJC4pRBr
 PBMoB1++tVXEBN7yBr9gpUO11Ft8CwXJZ1Kt8nimW/Fj/MaZjwGMytALxrJsw3T9
 XR8kbDVLMZrspZLFOLulnf+uhcJZv0aBBibkZM47EssnGglfaTgG5kgTWCHKT0fQ
 HyPpNLygqiQuLg9G59+SsBn3blvCw==
X-ME-Sender: <xms:7eShXYEydjKTwZGRp02DMCln8DEAv9IudpePRUWOyQKptXA42PSp0w>
X-ME-Proxy-Cause: gggruggvucftvghtrhhoucdtuddrgedufedrieejgdejlecutefuodetggdotefrodftvf
 curfhrohhfihhlvgemucfhrghsthforghilhdpqfgfvfdpuffrtefokffrpgfnqfghnecu
 uegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmdenuc
 fjughrpefhvffufffkofgjfhggtgfgsehtkeertdertdejnecuhfhrohhmpeforghrvghk
 ucforghrtgiihihkohifshhkihdqifpkrhgvtghkihcuoehmrghrmhgrrhgvkhesihhnvh
 hishhisghlvghthhhinhhgshhlrggsrdgtohhmqeenucfkphepledurdeihedrfeegrdef
 feenucfrrghrrghmpehmrghilhhfrhhomhepmhgrrhhmrghrvghksehinhhvihhsihgslh
 gvthhhihhnghhslhgrsgdrtghomhenucevlhhushhtvghrufhiiigvpedt
X-ME-Proxy: <xmx:7eShXYvdpyibXeiJMChAMPefj_RWoQMa2orXFrWt27PNbj2nlD6aOw>
 <xmx:7eShXXs6duWDV_8T6d1-Rid_YwImR-UYb0PMaDYuyo3MO3siIeY5nw>
 <xmx:7eShXWBEiWqxtFs5deVwsadTfQZyUWdJvtwzE4pt4FhPiwKMY0hAGw>
 <xmx:7eShXVSBVaaCn9MNR_5PiWOeU7sYIi8x8MTSZsE3BOTleV73TbRyuA>
Received: from localhost.localdomain (ip5b412221.dynamic.kabel-deutschland.de
 [91.65.34.33])
 by mail.messagingengine.com (Postfix) with ESMTPA id 0F367D6005D;
 Sat, 12 Oct 2019 10:36:27 -0400 (EDT)
From: =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>
To: xen-devel@lists.xenproject.org
Date: Sat, 12 Oct 2019 16:36:09 +0200
Message-Id: <bf29c0ca9c1622e980883f11030e21f013312d3e.1570890895.git-series.marmarek@invisiblethingslab.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.39cf5c05f6ef01e3793327a459cad5d884dc0a9c.1570890895.git-series.marmarek@invisiblethingslab.com>
References: <cover.39cf5c05f6ef01e3793327a459cad5d884dc0a9c.1570890895.git-series.marmarek@invisiblethingslab.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 2/2] xen/efi: optionally call
 SetVirtualAddressMap()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

U29tZSBVRUZJIGltcGxlbWVudGF0aW9ucyBhcmUgbm90IGhhcHB5IGFib3V0IHJ1bm5pbmcgaW4g
MToxIGFkZHJlc3NpbmcsCmJ1dCByZWFsbHkgdmlydHVhbCBhZGRyZXNzIHNwYWNlLiBTcGVjaWZp
Y2FsbHksIHNvbWUgYWNjZXNzCkVmaUJvb3RTZXJ2aWNlc3tDb2RlLERhdGF9LCBvciBldmVuIHRv
dGFsbHkgdW5tYXBwZWQgYXJlYXMuIEV4YW1wbGUKY3Jhc2ggb2YgR2V0VmFyaWFibGUoKSBjYWxs
IG9uIFRoaW5rcGFkIFc1NDA6CgogICAgWGVuIGNhbGwgdHJhY2U6CiAgICAgICBbPDAwMDAwMDAw
MDAwMDAwODA+XSAwMDAwMDAwMDAwMDAwMDgwCiAgICAgICBbPDhjMmIwMzk4ZTAwMDBkYWE+XSA4
YzJiMDM5OGUwMDAwZGFhCgogICAgUGFnZXRhYmxlIHdhbGsgZnJvbSBmZmZmZmZmZjg1ODQ4M2Ex
OgogICAgICAgTDRbMHgxZmZdID0gMDAwMDAwMDAwMDAwMDAwMCBmZmZmZmZmZmZmZmZmZmZmCgog
ICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgUGFuaWMgb24g
Q1BVIDA6CiAgICBGQVRBTCBQQUdFIEZBVUxUCiAgICBbZXJyb3JfY29kZT0wMDAyXQogICAgRmF1
bHRpbmcgbGluZWFyIGFkZHJlc3M6IGZmZmZmZmZmODU4NDgzYTEKICAgICoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKCkZpeCB0aGlzIGJ5IGNhbGxpbmcgU2V0VmlydHVh
bEFkZHJlc3NNYXAoKSBydW50aW1lIHNlcnZpY2UsIGdpdmluZyBpdAoxOjEgbWFwIGZvciBhcmVh
cyBtYXJrZWQgYXMgbmVlZGVkIGR1cmluZyBydW50aW1lLiBUaGUgYWRkcmVzcyBzcGFjZSBpbgp3
aGljaCBFRkkgcnVudGltZSBzZXJ2aWNlcyBhcmUgY2FsbGVkIGlzIHVuY2hhbmdlZCwgYnV0IFVF
RkkgdmlldyBvZiBpdAptYXkgYmUuClNldFZpcnR1YWxBZGRyZXNzTWFwKCkgY2FuIGJlIGNhbGxl
ZCBvbmx5IG9uY2UsIGhlbmNlIGl0J3MgaW5jb21wYXRpYmxlCndpdGgga2V4ZWMuIEZvciB0aGlz
IHJlYXNvbiwgbWFrZSBpdCBhbiBvcHRpb25hbCBmZWF0dXJlLCBkZXBlbmRpbmcgb24KIUtFWEVD
LiBBbmQgdG8gbm90IGluZmxhdGUgbnVtYmVyIG9mIHN1cHBvcnRlZCBjb25maWd1cmF0aW9ucywg
aGlkZSBpdApiZWhpbmQgRVhQRVJULgoKU2lnbmVkLW9mZi1ieTogTWFyZWsgTWFyY3p5a293c2tp
LUfDs3JlY2tpIDxtYXJtYXJla0BpbnZpc2libGV0aGluZ3NsYWIuY29tPgotLS0KQ2hhbmdlcyBp
biB2MjoKIC0gY2FsbCAgU2V0VmlydHVhbEFkZHJlc3NNYXAoKSBiZWZvcmUgYWRqdXN0aW5nIGVm
aSBwb2ludGVyczsgZXNwZWNpYWxseQogICBlZmlfbWVtbWFwIGF0IHRoaXMgcG9pbnQgc3RpbGwg
bmVlZHMgdG8gdXNlIHBoeXNpY2FsIGFkZHJlc3MsIG5vdCBhCiAgIGRpcmVjdG1hcCBvbmUKLS0t
CiB4ZW4vY29tbW9uL0tjb25maWcgICAgfCAxMyArKysrKysrKysrKysrCiB4ZW4vY29tbW9uL2Vm
aS9ib290LmMgfCAyOCArKysrKysrKysrKysrKysrKysrKysrKysrKy0tCiAyIGZpbGVzIGNoYW5n
ZWQsIDM5IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVuL2Nv
bW1vbi9LY29uZmlnIGIveGVuL2NvbW1vbi9LY29uZmlnCmluZGV4IDE2ODI5ZjYuLmZlOThmOGEg
MTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vS2NvbmZpZworKysgYi94ZW4vY29tbW9uL0tjb25maWcK
QEAgLTg4LDYgKzg4LDE5IEBAIGNvbmZpZyBLRVhFQwogCiAJICBJZiB1bnN1cmUsIHNheSBZLgog
Citjb25maWcgU0VUX1ZJUlRVQUxfQUREUkVTU19NQVAKKyAgICBib29sICJFRkk6IGNhbGwgU2V0
VmlydHVhbEFkZHJlc3NNYXAoKSIgaWYgRVhQRVJUID0gInkiCisgICAgZGVmYXVsdCBuCisgICAg
ZGVwZW5kcyBvbiAhS0VYRUMKKyAgICAtLS1oZWxwLS0tCisgICAgICBDYWxsIEVGSSBTZXRWaXJ0
dWFsQWRkcmVzc01hcCgpIHJ1bnRpbWUgc2VydmljZSB0byBzZXR1cCBtZW1vcnkgbWFwIGZvcgor
ICAgICAgZnVydGhlciBydW50aW1lIHNlcnZpY2VzLiBBY2NvcmRpbmcgdG8gVUVGSSBzcGVjLCBp
dCBpc24ndCBzdHJpY3RseQorICAgICAgbmVjZXNzYXJ5LCBidXQgbWFueSBVRUZJIGltcGxlbWVu
dGF0aW9ucyBtaXNiZWhhdmUgd2hlbiB0aGlzIGNhbGwgaXMKKyAgICAgIG1pc3NpbmcuIE9uIHRo
ZSBvdGhlciBoYW5kLCB0aGlzIGNhbGwgY2FuIGJlIG1hZGUgb25seSBvbmNlLCB3aGljaCBtYWtl
cworICAgICAgaXQgaW5jb21wYXRpYmxlIHdpdGgga2V4ZWMgKGtleGVjLWluZyB0aGlzIFhlbiBm
cm9tIG90aGVyIFhlbiBvciBMaW51eCkuCisKKyAgICAgIElmIHVuc3VzZXIsIHNheSBOLgorCiBj
b25maWcgWEVOT1BST0YKIAlkZWZfYm9vbCB5CiAJcHJvbXB0ICJYZW4gT3Byb2ZpbGUgU3VwcG9y
dCIgaWYgRVhQRVJUID0gInkiCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL2VmaS9ib290LmMgYi94
ZW4vY29tbW9uL2VmaS9ib290LmMKaW5kZXggY2RkZjNkZS4uNmVhYWJkNCAxMDA2NDQKLS0tIGEv
eGVuL2NvbW1vbi9lZmkvYm9vdC5jCisrKyBiL3hlbi9jb21tb24vZWZpL2Jvb3QuYwpAQCAtMTA1
NiwxMSArMTA1NiwxNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgZWZpX3NldF9nb3BfbW9kZShFRklf
R1JBUEhJQ1NfT1VUUFVUX1BST1RPQ09MICpnb3AsIFVJTlROIGdvcAogICAgICAgICBlZmlfYXJj
aF92aWRlb19pbml0KGdvcCwgaW5mb19zaXplLCBtb2RlX2luZm8pOwogfQogCisjZGVmaW5lIElO
VkFMSURfVklSVFVBTF9BRERSRVNTICgweEJBQUFEVUwgPDwgXAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgKEVGSV9QQUdFX1NISUZUICsgQklUU19QRVJfTE9ORyAtIDMyKSkKKwog
c3RhdGljIHZvaWQgX19pbml0IGVmaV9leGl0X2Jvb3QoRUZJX0hBTkRMRSBJbWFnZUhhbmRsZSwg
RUZJX1NZU1RFTV9UQUJMRSAqU3lzdGVtVGFibGUpCiB7CiAgICAgRUZJX1NUQVRVUyBzdGF0dXM7
CiAgICAgVUlOVE4gaW5mb19zaXplID0gMCwgbWFwX2tleTsKICAgICBib29sIHJldHJ5OworI2lm
ZGVmIENPTkZJR19TRVRfVklSVFVBTF9BRERSRVNTX01BUAorICAgIHVuc2lnbmVkIGludCBpOwor
I2VuZGlmCiAKICAgICBlZmlfYnMtPkdldE1lbW9yeU1hcCgmaW5mb19zaXplLCBOVUxMLCAmbWFw
X2tleSwKICAgICAgICAgICAgICAgICAgICAgICAgICAmZWZpX21kZXNjX3NpemUsICZtZGVzY192
ZXIpOwpAQCAtMTA5NCw2ICsxMTAwLDI2IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBlZmlfZXhpdF9i
b290KEVGSV9IQU5ETEUgSW1hZ2VIYW5kbGUsIEVGSV9TWVNURU1fVEFCTEUgKlN5c3RlCiAgICAg
aWYgKCBFRklfRVJST1Ioc3RhdHVzKSApCiAgICAgICAgIFByaW50RXJyTWVzZyhMIkNhbm5vdCBl
eGl0IGJvb3Qgc2VydmljZXMiLCBzdGF0dXMpOwogCisjaWZkZWYgQ09ORklHX1NFVF9WSVJUVUFM
X0FERFJFU1NfTUFQCisgICAgZm9yICggaSA9IDA7IGkgPCBlZmlfbWVtbWFwX3NpemU7IGkgKz0g
ZWZpX21kZXNjX3NpemUgKQorICAgIHsKKyAgICAgICAgRUZJX01FTU9SWV9ERVNDUklQVE9SICpk
ZXNjID0gZWZpX21lbW1hcCArIGk7CisKKyAgICAgICAgaWYgKCBkZXNjLT5BdHRyaWJ1dGUgJiBF
RklfTUVNT1JZX1JVTlRJTUUgKQorICAgICAgICAgICAgZGVzYy0+VmlydHVhbFN0YXJ0ID0gZGVz
Yy0+UGh5c2ljYWxTdGFydDsKKyAgICAgICAgZWxzZQorICAgICAgICAgICAgZGVzYy0+VmlydHVh
bFN0YXJ0ID0gSU5WQUxJRF9WSVJUVUFMX0FERFJFU1M7CisgICAgfQorICAgIHN0YXR1cyA9IGVm
aV9ycy0+U2V0VmlydHVhbEFkZHJlc3NNYXAoZWZpX21lbW1hcF9zaXplLCBlZmlfbWRlc2Nfc2l6
ZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1kZXNjX3Zlciwg
ZWZpX21lbW1hcCk7CisgICAgaWYgKCBzdGF0dXMgIT0gRUZJX1NVQ0NFU1MgKQorICAgIHsKKyAg
ICAgICAgcHJpbnRrKFhFTkxPR19FUlIgIkVGSTogU2V0VmlydHVhbEFkZHJlc3NNYXAoKSBmYWls
ZWQgKCUjbHgpLCBkaXNhYmxpbmcgcnVudGltZSBzZXJ2aWNlc1xuIiwKKyAgICAgICAgICAgICAg
IHN0YXR1cyk7CisgICAgICAgIF9fY2xlYXJfYml0KEVGSV9SUywgJmVmaV9mbGFncyk7CisgICAg
fQorI2VuZGlmCisKICAgICAvKiBBZGp1c3QgcG9pbnRlcnMgaW50byBFRkkuICovCiAgICAgZWZp
X2N0ID0gKHZvaWQgKillZmlfY3QgKyBESVJFQ1RNQVBfVklSVF9TVEFSVDsKICAgICBlZmlfbWVt
bWFwID0gKHZvaWQgKillZmlfbWVtbWFwICsgRElSRUNUTUFQX1ZJUlRfU1RBUlQ7CkBAIC0xNDYw
LDggKzE0ODYsNiBAQCBzdGF0aWMgYm9vbCBfX2luaXQgcnRfcmFuZ2VfdmFsaWQodW5zaWduZWQg
bG9uZyBzbWZuLCB1bnNpZ25lZCBsb25nIGVtZm4pCiAgICAgcmV0dXJuIHRydWU7CiB9CiAKLSNk
ZWZpbmUgSU5WQUxJRF9WSVJUVUFMX0FERFJFU1MgKDB4QkFBQURVTCA8PCBcCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAoRUZJX1BBR0VfU0hJRlQgKyBCSVRTX1BFUl9MT05HIC0g
MzIpKQogCiB2b2lkIF9faW5pdCBlZmlfaW5pdF9tZW1vcnkodm9pZCkKIHsKLS0gCmdpdC1zZXJp
ZXMgMC45LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Clhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0
dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

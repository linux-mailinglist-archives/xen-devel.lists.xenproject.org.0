Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id A0E966BB4C8
	for <lists+xen-devel@lfdr.de>; Wed, 15 Mar 2023 14:35:45 +0100 (CET)
Received: from list by lists.xenproject.org with outflank-mailman.510070.787085 (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1pcRHp-0005UE-UB; Wed, 15 Mar 2023 13:35:25 +0000
X-Outflank-Mailman: Message body and most headers restored to incoming version
Received: by outflank-mailman (output) from mailman id 510070.787085; Wed, 15 Mar 2023 13:35:25 +0000
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1pcRHp-0005S4-RD; Wed, 15 Mar 2023 13:35:25 +0000
Received: by outflank-mailman (input) for mailman id 510070;
 Wed, 15 Mar 2023 13:35:24 +0000
Received: from se1-gles-sth1-in.inumbo.com ([159.253.27.254]
 helo=se1-gles-sth1.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.92) (envelope-from
 <SRS0=KrYV=7H=arm.com=Bertrand.Marquis@srs-se1.protection.inumbo.net>)
 id 1pcRHo-0005Ry-1x
 for xen-devel@lists.xenproject.org; Wed, 15 Mar 2023 13:35:24 +0000
Received: from EUR05-AM6-obe.outbound.protection.outlook.com
 (mail-am6eur05on20615.outbound.protection.outlook.com
 [2a01:111:f400:7e1b::615])
 by se1-gles-sth1.inumbo.com (Halon) with ESMTPS
 id 3c773d94-c336-11ed-87f5-c1b5be75604c;
 Wed, 15 Mar 2023 14:35:23 +0100 (CET)
Received: from AS8P250CA0002.EURP250.PROD.OUTLOOK.COM (2603:10a6:20b:330::7)
 by AS8PR08MB6151.eurprd08.prod.outlook.com (2603:10a6:20b:290::22) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6178.29; Wed, 15 Mar
 2023 13:35:20 +0000
Received: from AM7EUR03FT064.eop-EUR03.prod.protection.outlook.com
 (2603:10a6:20b:330:cafe::8c) by AS8P250CA0002.outlook.office365.com
 (2603:10a6:20b:330::7) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6178.29 via Frontend
 Transport; Wed, 15 Mar 2023 13:35:20 +0000
Received: from 64aa7808-outbound-1.mta.getcheckrecipient.com (63.35.35.123) by
 AM7EUR03FT064.mail.protection.outlook.com (100.127.140.127) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.6199.16 via Frontend Transport; Wed, 15 Mar 2023 13:35:20 +0000
Received: ("Tessian outbound cfb430c87a1e:v135");
 Wed, 15 Mar 2023 13:35:20 +0000
Received: from 45d86a252c31.1
 by 64aa7808-outbound-1.mta.getcheckrecipient.com id
 8D9EFAF0-7F10-4B23-8047-DE3DAC5434DF.1; 
 Wed, 15 Mar 2023 13:35:13 +0000
Received: from EUR04-DB3-obe.outbound.protection.outlook.com
 by 64aa7808-outbound-1.mta.getcheckrecipient.com with ESMTPS id 45d86a252c31.1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384);
 Wed, 15 Mar 2023 13:35:13 +0000
Received: from AM6PR08MB3784.eurprd08.prod.outlook.com (2603:10a6:20b:85::25)
 by DB9PR08MB7698.eurprd08.prod.outlook.com (2603:10a6:10:391::17)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6178.29; Wed, 15 Mar
 2023 13:35:09 +0000
Received: from AM6PR08MB3784.eurprd08.prod.outlook.com
 ([fe80::806c:fd65:92cf:7b7a]) by AM6PR08MB3784.eurprd08.prod.outlook.com
 ([fe80::806c:fd65:92cf:7b7a%7]) with mapi id 15.20.6178.029; Wed, 15 Mar 2023
 13:35:09 +0000
X-BeenThere: xen-devel@lists.xenproject.org
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Errors-To: xen-devel-bounces@lists.xenproject.org
Precedence: list
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>
X-Inumbo-ID: 3c773d94-c336-11ed-87f5-c1b5be75604c
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=armh.onmicrosoft.com;
 s=selector2-armh-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ig39s/5VCvRhs9Cl9UaDEJJ+PLFNJ3a8bhlm1OziBdk=;
 b=Qv6Dv3ccxlwt1dcAdXBeTlhfe7FR084nOT4o425jhPoMDBhMQbTSqviX1kmHi8Mexh1UqK3CvKnynEShbbR1hz/6lh+G6rajVKWUlGV3i6Gs+CaEUzhI5iq9uShpnze9dkOKGR0zcmZmzA0wS6yVvlJcohOFeAZcZ6hgEo4mcVo=
X-MS-Exchange-Authentication-Results: spf=pass (sender IP is 63.35.35.123)
 smtp.mailfrom=arm.com; dkim=pass (signature was verified)
 header.d=armh.onmicrosoft.com;dmarc=pass action=none header.from=arm.com;
Received-SPF: Pass (protection.outlook.com: domain of arm.com designates
 63.35.35.123 as permitted sender) receiver=protection.outlook.com;
 client-ip=63.35.35.123; helo=64aa7808-outbound-1.mta.getcheckrecipient.com;
 pr=C
X-CheckRecipientChecked: true
X-CR-MTA-CID: 1438832be683daa9
X-CR-MTA-TID: 64aa7808
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=O0pDNjtj2V6jQfAa33qzptcCAtBcdMCR5gH1ANGH3hSPWngJnBm4o0HGvMo261PsMlF8SDJsyDfhWhV39GcXd6dK3TKsI3NSF2mZH5ZmJ6maqV0GGaNUss/5wl1K9Mv9CX2HqzHTNJ4oeVFF+MA7F8cHvSTgljriz57utsTFbAoLQ42E8feGrhX6G8stSRsT3nMFbJNNx8etVx9V4QfE4UG2COgeINk5e2e8k9Gw1MWlXIxfrWtnXTppR6wi37SHwqrOQcn08wsh5s66X76b7usu50Jli0+tDwaiGbgUxmHLj2w6wJ1MefyOTsXkwB5zOptbBwK7Bu7PWAt/Jr1M4w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=ig39s/5VCvRhs9Cl9UaDEJJ+PLFNJ3a8bhlm1OziBdk=;
 b=SLF7cnDg7lODUFpaLkpaS7bOi4mDz3zWw7GW0s59LkgvkcLeK+R+AyTYW8ZMACcfl0pxgdRD4W+Z37RS6yJk/mVrZ09prq+uEbO3DtZjcfwKwm8JjR+yJ93ENyXZvSXfoPgEv4FGRsuYGRMA8JAXp7azn+/IRsyfIqQZ9HKvtvrPHhO4h6rq7VdFXrVelfEgXBu7ZcIMeI9Qocj+dzvYIfJn1Lr+3gT+ZZXxe1DV8SEYSro4HflNqvlIAs3UAWMmJAcZ4QwdQf41yrGFo7nPZssynU8jItqcou3oG6mUgfGaW3QBlBrTWN8GpATr2RXzqNX7qaUkd6AezjGzqhmBCg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=arm.com; dmarc=pass action=none header.from=arm.com; dkim=pass
 header.d=arm.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=armh.onmicrosoft.com;
 s=selector2-armh-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ig39s/5VCvRhs9Cl9UaDEJJ+PLFNJ3a8bhlm1OziBdk=;
 b=Qv6Dv3ccxlwt1dcAdXBeTlhfe7FR084nOT4o425jhPoMDBhMQbTSqviX1kmHi8Mexh1UqK3CvKnynEShbbR1hz/6lh+G6rajVKWUlGV3i6Gs+CaEUzhI5iq9uShpnze9dkOKGR0zcmZmzA0wS6yVvlJcohOFeAZcZ6hgEo4mcVo=
From: Bertrand Marquis <Bertrand.Marquis@arm.com>
To: Jens Wiklander <jens.wiklander@linaro.org>
CC: Xen-devel <xen-devel@lists.xenproject.org>, Marc Bonnici
	<Marc.Bonnici@arm.com>, Achin Gupta <Achin.Gupta@arm.com>, Volodymyr Babchuk
	<volodymyr_babchuk@epam.com>, Stefano Stabellini <sstabellini@kernel.org>,
	Julien Grall <julien@xen.org>
Subject: Re: [XEN PATCH v7 20/20] xen/arm: ffa: support sharing large memory
 ranges
Thread-Topic: [XEN PATCH v7 20/20] xen/arm: ffa: support sharing large memory
 ranges
Thread-Index: AQHZRtMi7cJr1K8N4EOHc07/hf6cda77v+AAgAAaQoCAAB4WAA==
Date: Wed, 15 Mar 2023 13:35:09 +0000
Message-ID: <333E414C-CC5C-4217-B04F-D65A164D6802@arm.com>
References: <cover.1677079671.git.jens.wiklander@linaro.org>
 <5a48b7c7a56b83138932850eb7f94f90604168e4.1677079672.git.jens.wiklander@linaro.org>
 <D9FBF922-1941-401B-9794-45641A02FC19@arm.com>
 <CAHUa44FUHKqzSY1V0WV7-=LQEJTUuBFt_hLGsMbtgRsCtPuQTA@mail.gmail.com>
In-Reply-To:
 <CAHUa44FUHKqzSY1V0WV7-=LQEJTUuBFt_hLGsMbtgRsCtPuQTA@mail.gmail.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
x-mailer: Apple Mail (2.3731.400.51.1.1)
Authentication-Results-Original: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=arm.com;
x-ms-traffictypediagnostic:
	AM6PR08MB3784:EE_|DB9PR08MB7698:EE_|AM7EUR03FT064:EE_|AS8PR08MB6151:EE_
X-MS-Office365-Filtering-Correlation-Id: cd310684-1cc5-4de3-c01c-08db255a1f2e
x-checkrecipientrouted: true
nodisclaimer: true
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam-Untrusted: BCL:0;
X-Microsoft-Antispam-Message-Info-Original:
 j86/7ojEfBJ18LHKsEuk2dwFEqiZXo7Kxb2STwVccVqTFHvjzLF6N7zhlmSfgmBMqa7yDlx8OSBTPY0LZxwkaAl6jiqocy5wNHbSD7WfaoGBVf3ssO/PmksSsZOtvuxmltbf/TMTUoCliDCVwW3rg9Lp4ISTIHcVRDBvFwC1jNm+MB6Vwy+iAbd7gM/27Rwp8sCk4cHfDPt8NQ4uzbDFLDdP2Fi8U0xhiTxJgBbYDFNIrYSvfVgzvObnctiGXkaPYqblCqW2u3Tus0WP9JzeCh6BS6lOJf3Ii2oNUvZN9x1aIJsOcZ/WbU71b1Ol5q5+XYcdVvw/IbyJGbZCQ40AaEM75CBesue1X7SUZ4eyMC2HX8FD16ctY0dHBGHGADYZwwrpSJ2+1ppQYID14OB0J+KADW3QdPqC5rD9ncjQwPi6ojNqtnW1RsvjWIuIgMLiaQmGOCAhKM8FBxkleDL9yoU5RTVHWUSta5KuJd8vFXqWPGy6R95t1WM3AvFuWzPd2eWrVHuom2Iwb86Ysa5lySDanV0Hozdw5cHFR6R4OAomh1EK1Hx5PJ2EAFtPH+X5cxUhPVYXI07U0OXSECf0u9f5Kkoyh6jMYdol1zxud6NXvQKycwuGiPZIPxVyUTpv6qcQH085KkLs98dOcj4Y2neh/vKAZWCeZZPuT0V5o+OC5ru6tVjJlGoQPnTc9BnoV2F25RY8lU8WKLi/zrxwvcITCrczzCiRb7ZgPyB+OcQ=
X-Forefront-Antispam-Report-Untrusted:
 CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:AM6PR08MB3784.eurprd08.prod.outlook.com;PTR:;CAT:NONE;SFS:(13230025)(4636009)(346002)(366004)(39860400002)(376002)(396003)(136003)(451199018)(66446008)(478600001)(91956017)(66476007)(64756008)(76116006)(8676002)(66946007)(6916009)(66556008)(4326008)(30864003)(122000001)(36756003)(38070700005)(38100700002)(86362001)(8936002)(5660300002)(33656002)(41300700001)(316002)(54906003)(6512007)(6506007)(71200400001)(186003)(53546011)(6486002)(83380400001)(2616005)(66899018)(2906002)(45980500001);DIR:OUT;SFP:1101;
Content-Type: text/plain; charset="utf-8"
Content-ID: <DAB11EA0931CFE43B5E862A40AD1C8D3@eurprd08.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB9PR08MB7698
Original-Authentication-Results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=arm.com;
X-EOPAttributedMessage: 0
X-MS-Exchange-Transport-CrossTenantHeadersStripped:
 AM7EUR03FT064.eop-EUR03.prod.protection.outlook.com
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id-Prvs:
	fd6b8cf3-fe8c-4bbb-c8fb-08db255a1887
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info:
	ggB98UaWkYdJz+Tr7G/C3jp0BmRLKnS81MFM4qUW9SYVpVYX7nsuwTyb32nvRA+mgEuJ7kw/Ar8NyiHHbDCuuzq07AZd2KtTg315inZeZ1gyzPcZEd35kmeMqpIGMCOHtD5Uh6zpDvHw+Kkc5hbZOFyz5M+WJ82r07SYS1CXV98WqngoGdN/8jsDcsOVkU7HYqADUHgaW90PFvpQVsqjrInJ+UzS3iHdguDUySauPwo62gBoGeibGlbqMVAMk8BN9w8qmEeiET8Oa9qXQ1CqWwdPxKbgX/QEEjP9VBh1U/xk69Hp70RGAYfGuQ0YveBXXag2B+0QhrPIgTmB6hyu6TDLkf4KQqsA4tunVRy9NkVMt10vkiPbZDEVtdGxYspSQZkwylCED093honmZdkvxVBUuf9oJRhWE7ZqGUQS++VkHOGyduyDkqvObcOvHtBLOzvo953GCti/VoAFj6/STCtu38jG8RhYb1ILN0FAUNdzUhRvElRRMnfcmtwIl8Z/pEzkrc7VAuS4LOEGbXpniL0HfU3vjeIEOG1S3D6uC2bdW0k/mBgnUmYGpVL4Hs9iyIUDcZFd0LedTEhsUjlpXNmt8LECSeTveRhNfC0KLq+Mdy2pVnYO59G+hvKBmUa8E4AkbfrUVnJMywe7JflKDlXQCFjDwkiF2gk0HzJL4lpfUP/awjeHDY0S/Ak7bqCIk+/7ljGlITtWz+tIhc19Pg==
X-Forefront-Antispam-Report:
	CIP:63.35.35.123;CTRY:IE;LANG:en;SCL:1;SRV:;IPV:CAL;SFV:NSPM;H:64aa7808-outbound-1.mta.getcheckrecipient.com;PTR:ec2-63-35-35-123.eu-west-1.compute.amazonaws.com;CAT:NONE;SFS:(13230025)(4636009)(376002)(346002)(136003)(39860400002)(396003)(451199018)(36840700001)(40470700004)(46966006)(82740400003)(356005)(30864003)(186003)(8936002)(6862004)(2906002)(36860700001)(2616005)(86362001)(5660300002)(53546011)(66899018)(81166007)(6506007)(26005)(41300700001)(6512007)(82310400005)(70206006)(70586007)(33656002)(316002)(54906003)(4326008)(8676002)(478600001)(83380400001)(336012)(47076005)(36756003)(40480700001)(40460700003)(6486002);DIR:OUT;SFP:1101;
X-OriginatorOrg: arm.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 15 Mar 2023 13:35:20.2249
 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: cd310684-1cc5-4de3-c01c-08db255a1f2e
X-MS-Exchange-CrossTenant-Id: f34e5979-57d9-4aaa-ad4d-b122a662184d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=f34e5979-57d9-4aaa-ad4d-b122a662184d;Ip=[63.35.35.123];Helo=[64aa7808-outbound-1.mta.getcheckrecipient.com]
X-MS-Exchange-CrossTenant-AuthSource:
	AM7EUR03FT064.eop-EUR03.prod.protection.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Anonymous
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AS8PR08MB6151

SGkgSmVucywNCg0KPiBPbiAxNSBNYXIgMjAyMywgYXQgMTI6NDcsIEplbnMgV2lrbGFuZGVyIDxq
ZW5zLndpa2xhbmRlckBsaW5hcm8ub3JnPiB3cm90ZToNCj4gDQo+IEhpIEJlcnRyYW5kLA0KPiAN
Cj4gT24gV2VkLCBNYXIgMTUsIDIwMjMgYXQgMTE6MTPigK9BTSBCZXJ0cmFuZCBNYXJxdWlzDQo+
IDxCZXJ0cmFuZC5NYXJxdWlzQGFybS5jb20+IHdyb3RlOg0KPj4gDQo+PiBIaSBKZW5zLA0KPj4g
DQo+Pj4gT24gMjIgRmViIDIwMjMsIGF0IDE2OjMzLCBKZW5zIFdpa2xhbmRlciA8amVucy53aWts
YW5kZXJAbGluYXJvLm9yZz4gd3JvdGU6DQo+Pj4gDQo+Pj4gQWRkcyBzdXBwb3J0IGZvciBzaGFy
aW5nIGxhcmdlIG1lbW9yeSByYW5nZXMgdHJhbnNtaXR0ZWQgaW4gZnJhZ21lbnRzDQo+Pj4gdXNp
bmcgRkZBX01FTV9GUkFHX1RYLg0KPj4+IA0KPj4+IFRoZSBpbXBsZW1lbnRhdGlvbiBpcyB0aGUg
YmFyZSBtaW5pbXVtIHRvIGJlIGFibGUgdG8gY29tbXVuaWNhdGUgd2l0aA0KPj4+IE9QLVRFRSBy
dW5uaW5nIGFzIGFuIFNQTUMgYXQgUy1FTDEuDQo+Pj4gDQo+Pj4gQWRkcyBhIGNoZWNrIHRoYXQg
dGhlIFNQIHN1cHBvcnRzIHRoZSBuZWVkZWQgRkYtQSBmZWF0dXJlDQo+Pj4gRkZBX01FTV9GUkFH
X1RYLg0KPj4+IA0KPj4+IFNpZ25lZC1vZmYtYnk6IEplbnMgV2lrbGFuZGVyIDxqZW5zLndpa2xh
bmRlckBsaW5hcm8ub3JnPg0KPj4+IC0tLQ0KPj4+IHhlbi9hcmNoL2FybS90ZWUvZmZhLmMgfCAy
NTQgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0NCj4+PiAxIGZpbGUg
Y2hhbmdlZCwgMjQwIGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQ0KPj4+IA0KPj4+IGRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vdGVlL2ZmYS5jIGIveGVuL2FyY2gvYXJtL3RlZS9mZmEu
Yw0KPj4+IGluZGV4IDM1NTdlZGM0NTVkMC4uNzJjMDI0OWQ4Y2FkIDEwMDY0NA0KPj4+IC0tLSBh
L3hlbi9hcmNoL2FybS90ZWUvZmZhLmMNCj4+PiArKysgYi94ZW4vYXJjaC9hcm0vdGVlL2ZmYS5j
DQo+Pj4gQEAgLTMyNiw2ICszMjYsNyBAQCBzdHJ1Y3QgZmZhX2N0eCB7DQo+Pj4gICAgdWludDMy
X3QgZ3Vlc3RfdmVyczsNCj4+PiAgICBib29sIHR4X2lzX21pbmU7DQo+Pj4gICAgYm9vbCBpbnRl
cnJ1cHRlZDsNCj4+PiArICAgIHN0cnVjdCBsaXN0X2hlYWQgZnJhZ19saXN0Ow0KPj4+ICAgIHN0
cnVjdCBsaXN0X2hlYWQgc2htX2xpc3Q7DQo+Pj4gICAgdW5zaWduZWQgaW50IHNobV9jb3VudDsN
Cj4+PiAgICBzcGlubG9ja190IGxvY2s7DQo+Pj4gQEAgLTM0MCw2ICszNDEsMTggQEAgc3RydWN0
IGZmYV9zaG1fbWVtIHsNCj4+PiAgICBzdHJ1Y3QgcGFnZV9pbmZvICpwYWdlc1tdOw0KPj4+IH07
DQo+PiANCj4+IFdlIHN0YXJ0IHRvIGhhdmUgYSBsb3Qgb2YgZmllbGRzIGhlcmUuDQo+PiBJdCBt
aWdodCBiZSB1c2VmdWwgdG8gaGF2ZSBzb21lIHF1aWNrIGRvY3VtZW50YXRpb24NCj4+IGluIGNv
bW1lbnQgaGVyZSBhcyBzb21lIG5hbWVzIGFyZSBhIGJpdCBnZW5lcmljLg0KPj4gRm9yIGV4YW1w
bGUgImZyYWdfbGlzdCIgZG9lcyBub3Qgc2F5IG11Y2guDQo+IA0KPiBJJ2xsIGFkZCBzb21lIGNv
bW1lbnRzLg0KPiANCj4+IA0KPj4+IA0KPj4+ICtzdHJ1Y3QgbWVtX2ZyYWdfc3RhdGUgew0KPj4+
ICsgICAgc3RydWN0IGxpc3RfaGVhZCBsaXN0Ow0KPj4+ICsgICAgc3RydWN0IGZmYV9zaG1fbWVt
ICpzaG07DQo+Pj4gKyAgICB1aW50MzJfdCByYW5nZV9jb3VudDsNCj4+PiArICAgIHVuc2lnbmVk
IGludCBjdXJyZW50X3BhZ2VfaWR4Ow0KPj4+ICsgICAgdW5zaWduZWQgaW50IGZyYWdfb2Zmc2V0
Ow0KPj4+ICsgICAgdW5zaWduZWQgaW50IHJhbmdlX29mZnNldDsNCj4+PiArICAgIGNvbnN0IHVp
bnQ4X3QgKmJ1ZjsNCj4+PiArICAgIHVuc2lnbmVkIGludCBidWZfc2l6ZTsNCj4+PiArICAgIHN0
cnVjdCBmZmFfYWRkcmVzc19yYW5nZSByYW5nZTsNCj4+PiArfTsNCj4+IA0KPj4gc2FtZSBoZXJl
LCBhdCBhIGZpcnN0IGdsYW5jZSBpdCBpcyBub3QgcXVpdGUgY2xlYXIgd2h5DQo+PiBhIGZyYWdt
ZW50IG5lZWRzIHRoYXQgbXVjaCBpbmZvLiBTb21lIHNlZW0gdG8gb25seQ0KPj4gYmUgbmVlZGVk
IGR1cmluZyB0aGUgdHJhbnNhY3Rpb24gYnV0IGRvIG5vdCBuZWVkIHRvIGJlIHNhdmVkLg0KPiAN
Cj4gVGhpcyBzdHJ1Y3QgaXMgb25seSB1c2VkIGR1cmluZyB0aGUgdHJhbnNhY3Rpb24sIHNvIHRo
aXMgaXMgZnJlZWQgb25jZQ0KPiB0aGUgZW50aXJlIG1lbW9yeSB0cmFuc2FjdGlvbiBkZXNjcmlw
dG9yIGhhcyBiZWVuIHByb2Nlc3NlZC4NCj4gDQo+PiANCj4+PiArDQo+Pj4gLyogTmVnb3RpYXRl
ZCBGRi1BIHZlcnNpb24gdG8gdXNlIHdpdGggdGhlIFNQTUMgKi8NCj4+PiBzdGF0aWMgdWludDMy
X3QgZmZhX3ZlcnNpb24gX19yb19hZnRlcl9pbml0Ow0KPj4+IA0KPj4+IEBAIC01MTIsNiArNTI1
LDM2IEBAIHN0YXRpYyBpbnQzMl90IGZmYV9tZW1fc2hhcmUodWludDMyX3QgdG90X2xlbiwgdWlu
dDMyX3QgZnJhZ19sZW4sDQo+Pj4gICAgfQ0KPj4+IH0NCj4+PiANCj4+PiArc3RhdGljIGludDMy
X3QgZmZhX21lbV9mcmFnX3R4KHVpbnQ2NF90IGhhbmRsZSwgdWludDMyX3QgZnJhZ19sZW4sDQo+
Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCBzZW5kZXJfaWQpDQo+
Pj4gK3sNCj4+PiArICAgIHN0cnVjdCBhcm1fc21jY2NfMV8yX3JlZ3MgYXJnID0gew0KPj4+ICsg
ICAgICAgIC5hMCA9IEZGQV9NRU1fRlJBR19UWCwNCj4+PiArICAgICAgICAuYTEgPSBoYW5kbGUg
JiBVSU5UMzJfTUFYLA0KPj4+ICsgICAgICAgIC5hMiA9IGhhbmRsZSA+PiAzMiwNCj4+PiArICAg
ICAgICAuYTMgPSBmcmFnX2xlbiwNCj4+PiArICAgICAgICAuYTQgPSAodWludDMyX3Qpc2VuZGVy
X2lkIDw8IDE2LA0KPj4+ICsgICAgfTsNCj4+PiArICAgIHN0cnVjdCBhcm1fc21jY2NfMV8yX3Jl
Z3MgcmVzcDsNCj4+PiArDQo+Pj4gKyAgICBhcm1fc21jY2NfMV8yX3NtYygmYXJnLCAmcmVzcCk7
DQo+Pj4gKw0KPj4+ICsgICAgc3dpdGNoICggcmVzcC5hMCApDQo+Pj4gKyAgICB7DQo+Pj4gKyAg
ICBjYXNlIEZGQV9FUlJPUjoNCj4+PiArICAgICAgICBpZiAoIHJlc3AuYTIgKQ0KPj4+ICsgICAg
ICAgICAgICByZXR1cm4gcmVzcC5hMjsNCj4+PiArICAgICAgICBlbHNlDQo+Pj4gKyAgICAgICAg
ICAgIHJldHVybiBGRkFfUkVUX05PVF9TVVBQT1JURUQ7DQo+Pj4gKyAgICBjYXNlIEZGQV9TVUND
RVNTXzMyOg0KPj4+ICsgICAgICAgIHJldHVybiBGRkFfUkVUX09LOw0KPj4+ICsgICAgY2FzZSBG
RkFfTUVNX0ZSQUdfUlg6DQo+Pj4gKyAgICAgICAgcmV0dXJuIHJlc3AuYTM7DQo+Pj4gKyAgICBk
ZWZhdWx0Og0KPj4+ICsgICAgICAgICAgICByZXR1cm4gRkZBX1JFVF9OT1RfU1VQUE9SVEVEOw0K
Pj4+ICsgICAgfQ0KPj4+ICt9DQo+Pj4gKw0KPj4+IHN0YXRpYyBpbnQzMl90IGZmYV9tZW1fcmVj
bGFpbSh1aW50MzJfdCBoYW5kbGVfbG8sIHVpbnQzMl90IGhhbmRsZV9oaSwNCj4+PiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBmbGFncykNCj4+PiB7DQo+Pj4gQEAgLTU4
Niw2ICs2MjksMTQgQEAgc3RhdGljIHZvaWQgc2V0X3JlZ3Nfc3VjY2VzcyhzdHJ1Y3QgY3B1X3Vz
ZXJfcmVncyAqcmVncywgdWludDMyX3QgdzIsDQo+Pj4gICAgc2V0X3JlZ3MocmVncywgRkZBX1NV
Q0NFU1NfMzIsIDAsIHcyLCB3MywgMCwgMCwgMCwgMCk7DQo+Pj4gfQ0KPj4+IA0KPj4+ICtzdGF0
aWMgdm9pZCBzZXRfcmVnc19mcmFnX3J4KHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzLCB1aW50
MzJfdCBoYW5kbGVfbG8sDQo+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMy
X3QgaGFuZGxlX2hpLCB1aW50MzJfdCBmcmFnX29mZnNldCwNCj4+PiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1aW50MTZfdCBzZW5kZXJfaWQpDQo+Pj4gK3sNCj4+PiArICAgIHNldF9y
ZWdzKHJlZ3MsIEZGQV9NRU1fRlJBR19SWCwgaGFuZGxlX2xvLCBoYW5kbGVfaGksIGZyYWdfb2Zm
c2V0LA0KPj4+ICsgICAgICAgICAgICAgKHVpbnQzMl90KXNlbmRlcl9pZCA8PCAxNiwgMCwgMCwg
MCk7DQo+Pj4gK30NCj4+PiArDQo+Pj4gc3RhdGljIHZvaWQgaGFuZGxlX3ZlcnNpb24oc3RydWN0
IGNwdV91c2VyX3JlZ3MgKnJlZ3MpDQo+Pj4gew0KPj4+ICAgIHN0cnVjdCBkb21haW4gKmQgPSBj
dXJyZW50LT5kb21haW47DQo+Pj4gQEAgLTk1NSw2ICsxMDA2LDggQEAgc3RhdGljIGludCBzaGFy
ZV9zaG0oc3RydWN0IGZmYV9zaG1fbWVtICpzaG0pDQo+Pj4gICAgcGFkZHJfdCBsYXN0X3BhOw0K
Pj4+ICAgIHVuc2lnbmVkIGludCBuOw0KPj4+ICAgIHBhZGRyX3QgcGE7DQo+Pj4gKyAgICBib29s
IGZpcnN0Ow0KPj4+ICsgICAgaW50IHJldDsNCj4+PiANCj4+PiAgICBBU1NFUlQoc3Bpbl9pc19s
b2NrZWQoJmZmYV90eF9idWZmZXJfbG9jaykpOw0KPj4+ICAgIGlmICggIXNobS0+cGFnZV9jb3Vu
dCApDQo+Pj4gQEAgLTk5NCwxMyArMTA0NywyMyBAQCBzdGF0aWMgaW50IHNoYXJlX3NobShzdHJ1
Y3QgZmZhX3NobV9tZW0gKnNobSkNCj4+PiANCj4+PiAgICB0b3RfbGVuID0gQUREUl9SQU5HRV9P
RkZTRVQoZGVzY3ItPm1lbV9hY2Nlc3NfY291bnQsIHJlZ2lvbl9jb3VudCwNCj4+PiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uX2Rlc2NyLT5hZGRyZXNzX3JhbmdlX2NvdW50
KTsNCj4+PiAtICAgIGlmICggdG90X2xlbiA+IG1heF9mcmFnX2xlbiApDQo+Pj4gLSAgICAgICAg
cmV0dXJuIEZGQV9SRVRfTk9UX1NVUFBPUlRFRDsNCj4+PiANCj4+PiArICAgIC8qDQo+Pj4gKyAg
ICAgKiBTaGFyaW5nIG1lbW9yeSB3aXRoIHNlY3VyZSB3b3JsZCBtYXkgaGF2ZSB0byBiZSBkb25l
IHdpdGggbXVsdGlwbGUNCj4+PiArICAgICAqIGNhbGxzIGRlcGVuZGluZyBvbiBob3cgbWFueSBh
ZGRyZXNzIHJhbmdlcyB3aWxsIGJlIG5lZWRlZC4gSWYgd2UncmUNCj4+PiArICAgICAqIHNoYXJp
bmcgcGh5c2ljYWxseSBjb250aWd1b3VzIG1lbW9yeSB3ZSB3aWxsIG9ubHkgbmVlZCBvbmUgcmFu
Z2UgYnV0DQo+Pj4gKyAgICAgKiB3ZSB3aWxsIGFsc28gbmVlZCB0byBkZWFsIHdpdGggdGhlIHdv
cnN0IGNhc2Ugd2hlcmUgYWxsIHBoeXNpY2FsDQo+Pj4gKyAgICAgKiBwYWdlcyBhcmUgbm9uLWNv
bnRpZ3VvdXMuIEZvciB0aGUgZmlyc3QgYmF0Y2ggb2YgYWRkcmVzcyByYW5nZXMgd2UNCj4+PiAr
ICAgICAqIGNhbGwgZmZhX21lbV9zaGFyZSgpIGFuZCBmb3IgYWxsIHRoYXQgZm9sbG93cyBmZmFf
bWVtX2ZyYWdfdHgoKS4NCj4+PiArICAgICAqDQo+Pj4gKyAgICAgKiBXZSB1c2UgZnJhZ19sZW4g
dG8ga2VlcCB0cmFjayBvZiBob3cgZmFyIGludG8gdGhlIHRyYW5zbWl0IGJ1ZmZlciB3ZQ0KPj4+
ICsgICAgICogaGF2ZSBnb25lLg0KPj4+ICsgICAgICovDQo+Pj4gICAgYWRkcl9yYW5nZSA9IHJl
Z2lvbl9kZXNjci0+YWRkcmVzc19yYW5nZV9hcnJheTsNCj4+PiAgICBmcmFnX2xlbiA9IEFERFJf
UkFOR0VfT0ZGU0VUKGRlc2NyLT5tZW1fYWNjZXNzX2NvdW50LCByZWdpb25fY291bnQsIDEpOw0K
Pj4+ICAgIGxhc3RfcGEgPSBwYWdlX3RvX21hZGRyKHNobS0+cGFnZXNbMF0pOw0KPj4+ICAgIGlu
aXRfcmFuZ2UoYWRkcl9yYW5nZSwgbGFzdF9wYSk7DQo+Pj4gKyAgICBmaXJzdCA9IHRydWU7DQo+
Pj4gICAgZm9yICggbiA9IDE7IG4gPCBzaG0tPnBhZ2VfY291bnQ7IGxhc3RfcGEgPSBwYSwgbisr
ICkNCj4+PiAgICB7DQo+Pj4gICAgICAgIHBhID0gcGFnZV90b19tYWRkcihzaG0tPnBhZ2VzW25d
KTsNCj4+PiBAQCAtMTAxMCwxMiArMTA3MywzNCBAQCBzdGF0aWMgaW50IHNoYXJlX3NobShzdHJ1
Y3QgZmZhX3NobV9tZW0gKnNobSkNCj4+PiAgICAgICAgICAgIGNvbnRpbnVlOw0KPj4+ICAgICAg
ICB9DQo+Pj4gDQo+Pj4gLSAgICAgICAgZnJhZ19sZW4gKz0gc2l6ZW9mKCphZGRyX3JhbmdlKTsN
Cj4+PiAtICAgICAgICBhZGRyX3JhbmdlKys7DQo+Pj4gKyAgICAgICAgaWYgKCBmcmFnX2xlbiA9
PSBtYXhfZnJhZ19sZW4gKQ0KPj4+ICsgICAgICAgIHsNCj4+PiArICAgICAgICAgICAgaWYgKCBm
aXJzdCApDQo+Pj4gKyAgICAgICAgICAgIHsNCj4+PiArICAgICAgICAgICAgICAgIHJldCA9IGZm
YV9tZW1fc2hhcmUodG90X2xlbiwgZnJhZ19sZW4sIDAsIDAsICZzaG0tPmhhbmRsZSk7DQo+Pj4g
KyAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlOw0KPj4+ICsgICAgICAgICAgICB9DQo+Pj4g
KyAgICAgICAgICAgIGVsc2UNCj4+PiArICAgICAgICAgICAgew0KPj4+ICsgICAgICAgICAgICAg
ICAgcmV0ID0gZmZhX21lbV9mcmFnX3R4KHNobS0+aGFuZGxlLCBmcmFnX2xlbiwgc2htLT5zZW5k
ZXJfaWQpOw0KPj4+ICsgICAgICAgICAgICB9DQo+Pj4gKyAgICAgICAgICAgIGlmICggcmV0IDw9
IDAgKQ0KPj4+ICsgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4+PiArICAgICAgICAgICAg
ZnJhZ19sZW4gPSBzaXplb2YoKmFkZHJfcmFuZ2UpOw0KPj4+ICsgICAgICAgICAgICBhZGRyX3Jh
bmdlID0gYnVmOw0KPj4+ICsgICAgICAgIH0NCj4+PiArICAgICAgICBlbHNlDQo+Pj4gKyAgICAg
ICAgew0KPj4+ICsgICAgICAgICAgICBmcmFnX2xlbiArPSBzaXplb2YoKmFkZHJfcmFuZ2UpOw0K
Pj4+ICsgICAgICAgICAgICBhZGRyX3JhbmdlKys7DQo+Pj4gKyAgICAgICAgfQ0KPj4+ICAgICAg
ICBpbml0X3JhbmdlKGFkZHJfcmFuZ2UsIHBhKTsNCj4+PiAgICB9DQo+Pj4gDQo+Pj4gLSAgICBy
ZXR1cm4gZmZhX21lbV9zaGFyZSh0b3RfbGVuLCBmcmFnX2xlbiwgMCwgMCwgJnNobS0+aGFuZGxl
KTsNCj4+PiArICAgIGlmICggZmlyc3QgKQ0KPj4+ICsgICAgICAgIHJldHVybiBmZmFfbWVtX3No
YXJlKHRvdF9sZW4sIGZyYWdfbGVuLCAwLCAwLCAmc2htLT5oYW5kbGUpOw0KPj4+ICsgICAgZWxz
ZQ0KPj4+ICsgICAgICAgIHJldHVybiBmZmFfbWVtX2ZyYWdfdHgoc2htLT5oYW5kbGUsIGZyYWdf
bGVuLCBzaG0tPnNlbmRlcl9pZCk7DQo+Pj4gfQ0KPj4+IA0KPj4+IHN0YXRpYyBpbnQgcmVhZF9t
ZW1fdHJhbnNhY3Rpb24odWludDMyX3QgZmZhX3ZlcnMsIGNvbnN0IHZvaWQgKmJ1Ziwgc2l6ZV90
IGJsZW4sDQo+Pj4gQEAgLTEwOTIsOCArMTE3Nyw1MyBAQCBzdGF0aWMgaW50IHJlYWRfbWVtX3Ry
YW5zYWN0aW9uKHVpbnQzMl90IGZmYV92ZXJzLCBjb25zdCB2b2lkICpidWYsIHNpemVfdCBibGVu
LA0KPj4+ICAgIHJldHVybiAwOw0KPj4+IH0NCj4+PiANCj4+PiArc3RhdGljIGludCBhZGRfbWVt
X3NoYXJlX2ZyYWcoc3RydWN0IG1lbV9mcmFnX3N0YXRlICpzLCB1bnNpZ25lZCBpbnQgb2ZmcywN
Cj4+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGZyYWdfbGVu
KQ0KPj4+ICt7DQo+Pj4gKyAgICBzdHJ1Y3QgZG9tYWluICpkID0gY3VycmVudC0+ZG9tYWluOw0K
Pj4+ICsgICAgdW5zaWduZWQgaW50IG8gPSBvZmZzOw0KPj4+ICsgICAgdW5zaWduZWQgaW50IGw7
DQo+Pj4gKyAgICBpbnQgcmV0Ow0KPj4+ICsNCj4+PiArICAgIGlmICggZnJhZ19sZW4gPCBvICkN
Cj4+PiArICAgICAgICByZXR1cm4gRkZBX1JFVF9JTlZBTElEX1BBUkFNRVRFUlM7DQo+Pj4gKw0K
Pj4+ICsgICAgLyogRmlsbCB1cCB0aGUgZmlyc3Qgc3RydWN0IGZmYV9hZGRyZXNzX3JhbmdlICov
DQo+Pj4gKyAgICBsID0gbWluX3QodW5zaWduZWQgaW50LCBmcmFnX2xlbiAtIG8sIHNpemVvZihz
LT5yYW5nZSkgLSBzLT5yYW5nZV9vZmZzZXQpOw0KPj4+ICsgICAgbWVtY3B5KCh1aW50OF90ICop
JnMtPnJhbmdlICsgcy0+cmFuZ2Vfb2Zmc2V0LCBzLT5idWYgKyBvLCBsKTsNCj4+PiArICAgIHMt
PnJhbmdlX29mZnNldCArPSBsOw0KPj4+ICsgICAgbyArPSBsOw0KPj4+ICsgICAgaWYgKCBzLT5y
YW5nZV9vZmZzZXQgIT0gc2l6ZW9mKHMtPnJhbmdlKSApDQo+Pj4gKyAgICAgICAgZ290byBvdXQ7
DQo+Pj4gKyAgICBzLT5yYW5nZV9vZmZzZXQgPSAwOw0KPj4+ICsNCj4+PiArICAgIHdoaWxlICgg
dHJ1ZSApDQo+Pj4gKyAgICB7DQo+Pj4gKyAgICAgICAgcmV0ID0gZ2V0X3NobV9wYWdlcyhkLCBz
LT5zaG0sICZzLT5yYW5nZSwgMSwgcy0+Y3VycmVudF9wYWdlX2lkeCwNCj4+PiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZzLT5jdXJyZW50X3BhZ2VfaWR4KTsNCj4+PiArICAgICAgICBp
ZiAoIHJldCApDQo+Pj4gKyAgICAgICAgICAgIHJldHVybiByZXQ7DQo+Pj4gKyAgICAgICAgaWYg
KCBzLT5yYW5nZV9jb3VudCA9PSAxICkNCj4+PiArICAgICAgICAgICAgcmV0dXJuIDA7DQo+Pj4g
KyAgICAgICAgcy0+cmFuZ2VfY291bnQtLTsNCj4+PiArICAgICAgICBpZiAoIGZyYWdfbGVuIC0g
byA8IHNpemVvZihzLT5yYW5nZSkgKQ0KPj4+ICsgICAgICAgICAgICBicmVhazsNCj4+PiArICAg
ICAgICBtZW1jcHkoJnMtPnJhbmdlLCBzLT5idWYgKyBvLCBzaXplb2Yocy0+cmFuZ2UpKTsNCj4+
PiArICAgICAgICBvICs9IHNpemVvZihzLT5yYW5nZSk7DQo+Pj4gKyAgICB9DQo+Pj4gKw0KPj4+
ICsgICAgLyogQ29sbGVjdCBhbnkgcmVtYWluaW5nIGJ5dGVzIGZvciB0aGUgbmV4dCBzdHJ1Y3Qg
ZmZhX2FkZHJlc3NfcmFuZ2UgKi8NCj4+PiArICAgIHMtPnJhbmdlX29mZnNldCA9IGZyYWdfbGVu
IC0gbzsNCj4+PiArICAgIG1lbWNweSgmcy0+cmFuZ2UsIHMtPmJ1ZiArIG8sIGZyYWdfbGVuIC0g
byk7DQo+Pj4gK291dDoNCj4+PiArICAgIHMtPmZyYWdfb2Zmc2V0ICs9IGZyYWdfbGVuOw0KPj4+
ICsNCj4+PiArICAgIHJldHVybiBzLT5mcmFnX29mZnNldDsNCj4+PiArfQ0KPj4+ICsNCj4+PiBz
dGF0aWMgdm9pZCBoYW5kbGVfbWVtX3NoYXJlKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQ0K
Pj4+IHsNCj4+PiArICAgIHN0YXRpYyB1aW50NjRfdCBuZXh0X2hhbmRsZSA9IEZGQV9IQU5ETEVf
SFlQX0ZMQUc7DQo+Pj4gICAgdWludDMyX3QgdG90X2xlbiA9IGdldF91c2VyX3JlZyhyZWdzLCAx
KTsNCj4+PiAgICB1aW50MzJfdCBmcmFnX2xlbiA9IGdldF91c2VyX3JlZyhyZWdzLCAyKTsNCj4+
PiAgICB1aW50NjRfdCBhZGRyID0gZ2V0X3VzZXJfcmVnKHJlZ3MsIDMpOw0KPj4+IEBAIC0xMTI4
LDEzICsxMjU4LDYgQEAgc3RhdGljIHZvaWQgaGFuZGxlX21lbV9zaGFyZShzdHJ1Y3QgY3B1X3Vz
ZXJfcmVncyAqcmVncykNCj4+PiAgICAgICAgZ290byBvdXRfc2V0X3JldDsNCj4+PiAgICB9DQo+
Pj4gDQo+Pj4gLSAgICAvKiBXZSBjdXJyZW50bHkgb25seSBzdXBwb3J0IGEgc2luZ2xlIGZyYWdt
ZW50ICovDQo+Pj4gLSAgICBpZiAoIGZyYWdfbGVuICE9IHRvdF9sZW4gKQ0KPj4+IC0gICAgew0K
Pj4+IC0gICAgICAgIHJldCA9IEZGQV9SRVRfTk9UX1NVUFBPUlRFRDsNCj4+PiAtICAgICAgICBn
b3RvIG91dF9zZXRfcmV0Ow0KPj4+IC0gICAgfQ0KPj4+IC0NCj4+PiAgICBzcGluX2xvY2soJmN0
eC0+bG9jayk7DQo+Pj4gDQo+Pj4gICAgaWYgKCBmcmFnX2xlbiA+IGN0eC0+cGFnZV9jb3VudCAq
IEZGQV9QQUdFX1NJWkUgKQ0KPj4+IEBAIC0xMTk1LDExICsxMzE4LDQxIEBAIHN0YXRpYyB2b2lk
IGhhbmRsZV9tZW1fc2hhcmUoc3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MpDQo+Pj4gICAgaWYg
KCAhc2htICkNCj4+PiAgICB7DQo+Pj4gICAgICAgIHJldCA9IEZGQV9SRVRfTk9fTUVNT1JZOw0K
Pj4+IC0gICAgICAgIGdvdG8gb3V0X3VubG9jazsNCj4+PiArICAgICAgICBnb3RvIG91dDsNCj4+
IA0KPj4gV2h5IGlzIHRoaXMgY2hhbmdlZCA/DQo+PiBZb3Ugc3RpbGwgaGF2ZSBubyBzaG0gaGVy
ZSBzbyBjYWxsIGZyZWVfc2hhX3NobSBkb2VzIG5vdCBtYWtlIHNlbnNlDQo+IA0KPiBHb29kIGNh
dGNoLCBJJ2xsIGZpeCBpdC4NCj4gDQo+PiANCj4+PiAgICB9DQo+Pj4gICAgc2htLT5zZW5kZXJf
aWQgPSB0cmFucy5zZW5kZXJfaWQ7DQo+Pj4gICAgc2htLT5lcF9pZCA9IHJlYWRfYXRvbWljKCZt
ZW1fYWNjZXNzLT5hY2Nlc3NfcGVybS5lbmRwb2ludF9pZCk7DQo+Pj4gDQo+Pj4gKyAgICBpZiAo
IGZyYWdfbGVuICE9IHRvdF9sZW4gKQ0KPj4+ICsgICAgew0KPj4+ICsgICAgICAgIHN0cnVjdCBt
ZW1fZnJhZ19zdGF0ZSAqcyA9IHh6YWxsb2Moc3RydWN0IG1lbV9mcmFnX3N0YXRlKTsNCj4+PiAr
DQo+Pj4gKyAgICAgICAgaWYgKCAhcyApDQo+Pj4gKyAgICAgICAgew0KPj4+ICsgICAgICAgICAg
ICByZXQgPSBGRkFfUkVUX05PX01FTU9SWTsNCj4+PiArICAgICAgICAgICAgZ290byBvdXQ7DQo+
Pj4gKyAgICAgICAgfQ0KPj4+ICsgICAgICAgIHMtPnNobSA9IHNobTsNCj4+PiArICAgICAgICBz
LT5yYW5nZV9jb3VudCA9IHJhbmdlX2NvdW50Ow0KPj4+ICsgICAgICAgIHMtPmJ1ZiA9IGN0eC0+
dHg7DQo+Pj4gKyAgICAgICAgcy0+YnVmX3NpemUgPSBmZmFfcGFnZV9jb3VudCAqIEZGQV9QQUdF
X1NJWkU7DQo+Pj4gKyAgICAgICAgcmV0ID0gYWRkX21lbV9zaGFyZV9mcmFnKHMsIHNpemVvZigq
cmVnaW9uX2Rlc2NyKSAgKyByZWdpb25fb2ZmcywNCj4+PiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZnJhZ19sZW4pOw0KPj4+ICsgICAgICAgIGlmICggcmV0IDw9IDAgKQ0KPj4+
ICsgICAgICAgIHsNCj4+PiArICAgICAgICAgICAgeGZyZWUocyk7DQo+Pj4gKyAgICAgICAgICAg
IGlmICggcmV0IDwgMCApDQo+Pj4gKyAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4+PiArICAg
ICAgICB9DQo+Pj4gKyAgICAgICAgZWxzZQ0KPj4+ICsgICAgICAgIHsNCj4+PiArICAgICAgICAg
ICAgc2htLT5oYW5kbGUgPSBuZXh0X2hhbmRsZSsrOw0KPj4+ICsgICAgICAgICAgICB1aW50NjRf
dG9fcmVncGFpcigmaGFuZGxlX2hpLCAmaGFuZGxlX2xvLCBzaG0tPmhhbmRsZSk7DQo+Pj4gKyAg
ICAgICAgICAgIGxpc3RfYWRkX3RhaWwoJnMtPmxpc3QsICZjdHgtPmZyYWdfbGlzdCk7DQo+Pj4g
KyAgICAgICAgfQ0KPj4+ICsgICAgICAgIGdvdG8gb3V0X3VubG9jazsNCj4+PiArICAgIH0NCj4+
PiArDQo+Pj4gICAgLyoNCj4+PiAgICAgKiBDaGVjayB0aGF0IHRoZSBDb21wb3NpdGUgbWVtb3J5
IHJlZ2lvbiBkZXNjcmlwdG9yIGZpdHMuDQo+Pj4gICAgICovDQo+Pj4gQEAgLTEyMzgsNyArMTM5
MSw3NSBAQCBvdXRfdW5sb2NrOg0KPj4+ICAgIHNwaW5fdW5sb2NrKCZjdHgtPmxvY2spOw0KPj4+
IA0KPj4+IG91dF9zZXRfcmV0Og0KPj4+IC0gICAgaWYgKCByZXQgPT0gMCkNCj4+PiArICAgIGlm
ICggcmV0ID4gMCApDQo+Pj4gKyAgICAgICAgICAgIHNldF9yZWdzX2ZyYWdfcngocmVncywgaGFu
ZGxlX2xvLCBoYW5kbGVfaGksIHJldCwgdHJhbnMuc2VuZGVyX2lkKTsNCj4+PiArICAgIGVsc2Ug
aWYgKCByZXQgPT0gMCkNCj4+PiArICAgICAgICAgICAgc2V0X3JlZ3Nfc3VjY2VzcyhyZWdzLCBo
YW5kbGVfbG8sIGhhbmRsZV9oaSk7DQo+Pj4gKyAgICBlbHNlDQo+Pj4gKyAgICAgICAgICAgIHNl
dF9yZWdzX2Vycm9yKHJlZ3MsIHJldCk7DQo+Pj4gK30NCj4+PiArDQo+Pj4gK3N0YXRpYyBzdHJ1
Y3QgbWVtX2ZyYWdfc3RhdGUgKmZpbmRfZnJhZ19zdGF0ZShzdHJ1Y3QgZmZhX2N0eCAqY3R4LA0K
Pj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDY0
X3QgaGFuZGxlKQ0KPj4+ICt7DQo+Pj4gKyAgICBzdHJ1Y3QgbWVtX2ZyYWdfc3RhdGUgKnM7DQo+
Pj4gKw0KPj4+ICsgICAgbGlzdF9mb3JfZWFjaF9lbnRyeShzLCAmY3R4LT5mcmFnX2xpc3QsIGxp
c3QpDQo+Pj4gKyAgICAgICAgaWYgKCBzLT5zaG0tPmhhbmRsZSA9PSBoYW5kbGUgKQ0KPj4+ICsg
ICAgICAgICAgICByZXR1cm4gczsNCj4+PiArDQo+Pj4gKyAgICByZXR1cm4gTlVMTDsNCj4+PiAr
fQ0KPj4+ICsNCj4+PiArc3RhdGljIHZvaWQgaGFuZGxlX21lbV9mcmFnX3R4KHN0cnVjdCBjcHVf
dXNlcl9yZWdzICpyZWdzKQ0KPj4+ICt7DQo+Pj4gKyAgICBzdHJ1Y3QgZG9tYWluICpkID0gY3Vy
cmVudC0+ZG9tYWluOw0KPj4+ICsgICAgc3RydWN0IGZmYV9jdHggKmN0eCA9IGQtPmFyY2gudGVl
Ow0KPj4+ICsgICAgdWludDMyX3QgZnJhZ19sZW4gPSBnZXRfdXNlcl9yZWcocmVncywgMyk7DQo+
Pj4gKyAgICB1aW50MzJfdCBoYW5kbGVfbG8gPSBnZXRfdXNlcl9yZWcocmVncywgMSk7DQo+Pj4g
KyAgICB1aW50MzJfdCBoYW5kbGVfaGkgPSBnZXRfdXNlcl9yZWcocmVncywgMik7DQo+Pj4gKyAg
ICB1aW50NjRfdCBoYW5kbGUgPSByZWdwYWlyX3RvX3VpbnQ2NChoYW5kbGVfaGksIGhhbmRsZV9s
byk7DQo+Pj4gKyAgICBzdHJ1Y3QgbWVtX2ZyYWdfc3RhdGUgKnM7DQo+Pj4gKyAgICB1aW50MTZf
dCBzZW5kZXJfaWQgPSAwOw0KPj4+ICsgICAgaW50IHJldDsNCj4+PiArDQo+Pj4gKyAgICBzcGlu
X2xvY2soJmN0eC0+bG9jayk7DQo+Pj4gKyAgICBzID0gZmluZF9mcmFnX3N0YXRlKGN0eCwgaGFu
ZGxlKTsNCj4+PiArICAgIGlmICggIXMgKQ0KPj4+ICsgICAgew0KPj4+ICsgICAgICAgIHJldCA9
IEZGQV9SRVRfSU5WQUxJRF9QQVJBTUVURVJTOw0KPj4+ICsgICAgICAgIGdvdG8gb3V0Ow0KPj4+
ICsgICAgfQ0KPj4+ICsgICAgc2VuZGVyX2lkID0gcy0+c2htLT5zZW5kZXJfaWQ7DQo+Pj4gKw0K
Pj4+ICsgICAgaWYgKCBmcmFnX2xlbiA+IHMtPmJ1Zl9zaXplICkNCj4+PiArICAgIHsNCj4+PiAr
ICAgICAgICByZXQgPSBGRkFfUkVUX0lOVkFMSURfUEFSQU1FVEVSUzsNCj4+PiArICAgICAgICBn
b3RvIG91dDsNCj4+PiArICAgIH0NCj4+PiArDQo+Pj4gKyAgICByZXQgPSBhZGRfbWVtX3NoYXJl
X2ZyYWcocywgMCwgZnJhZ19sZW4pOw0KPj4+ICsgICAgaWYgKCByZXQgPT0gMCApDQo+Pj4gKyAg
ICB7DQo+Pj4gKyAgICAgICAgLyogTm90ZSB0aGF0IHNoYXJlX3NobSgpIHVzZXMgb3VyIHR4IGJ1
ZmZlciAqLw0KPj4+ICsgICAgICAgIHNwaW5fbG9jaygmZmZhX3R4X2J1ZmZlcl9sb2NrKTsNCj4+
PiArICAgICAgICByZXQgPSBzaGFyZV9zaG0ocy0+c2htKTsNCj4+PiArICAgICAgICBzcGluX3Vu
bG9jaygmZmZhX3R4X2J1ZmZlcl9sb2NrKTsNCj4+PiArICAgICAgICBpZiAoIHJldCA9PSAwICkN
Cj4+PiArICAgICAgICAgICAgbGlzdF9hZGRfdGFpbCgmcy0+c2htLT5saXN0LCAmY3R4LT5zaG1f
bGlzdCk7DQo+Pj4gKyAgICAgICAgZWxzZQ0KPj4+ICsgICAgICAgICAgICBmcmVlX2ZmYV9zaG1f
bWVtKGN0eCwgcy0+c2htKTsNCj4+PiArICAgIH0NCj4+PiArICAgIGVsc2UgaWYgKCByZXQgPCAw
ICkNCj4+PiArICAgICAgICBmcmVlX2ZmYV9zaG1fbWVtKGN0eCwgcy0+c2htKTsNCj4+IA0KPj4g
DQo+PiBJZiB0aGVyZSBpcyBub3QgZXJyb3IgdGhlIHN0dWZmIGFsbG9jYXRlZCBhcmUga2VwdCBi
dXQgaSBkbyBub3Qgc2VlDQo+PiB3aGVyZS93aGVuIHRoZXkgd291bGQgYmUgZnJlZWQgb3IgdXNl
ZC4NCj4+IENvdWxkIHlvdSBleHBsYWluIHdoeSB3ZSBuZWVkIHRvIHNhdmUgYWxsIHRob3NlID8N
Cj4gDQo+IHMtPnNobSBpcyB0aGUgZmluYWwgc2hhcmVkIG1lbW9yeSBvYmplY3Qgd2hpY2ggaXMg
YWRkZWQgdG8gdGhlIGxpc3Qgb2YNCj4gc2hhcmVkIG1lbW9yeSBvYmplY3RzIHdoZW4gdGhlIHRy
YW5zYWN0aW9uIGlzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuDQo+IFRoZSBmcmFnbWVudCBzdGF0
ZSwgcywgaXMga2VwdCBhcyBsb25nIGFzIHRoZSB0cmFuc2FjdGlvbiBpcyBvbmdvaW5nLg0KPiBP
bmNlIHRoZSB0cmFuc2FjdGlvbiBpcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IG9yIGR1ZSB0byBh
IGZhaWx1cmUNCj4gaXQncyBmcmVlZC4NCj4gDQo+IFRoZSBzcGVjaWZpY2F0aW9uIGRvZXNuJ3Qg
c2F5IHdoYXQgdG8gZG8gaWYgYW4gaW52YWxpZCBmcmFnX2xlbiBpcw0KPiBkZXRlY3RlZCwgZXhj
ZXB0IHRoYXQgd2Ugc2hvdWxkIHJldHVybiBGRkFfUkVUX0lOVkFMSURfUEFSQU1FVEVSUy4NCj4g
Q3VycmVudGx5LCB3ZSBqdXN0IHJldHVybiBhbiBlcnJvciwgYnV0IGtlZXAgdGhlIHN0YXRlLiBB
bm90aGVyIG9wdGlvbg0KPiBpcyB0byBmcmVlIHRoZSBzdGF0ZSBpbnN0ZWFkIHNpbmNlIHRoZSBj
YWxsZXIgbWlnaHQgaGF2ZSBsb3N0IHRyYWNrIG9mDQo+IHRoZSBzdGF0ZS4NCg0KVGhlcmUgaXMg
bm8gc29sdXRpb24gZm9yIHRoZSBjbGllbnQgdG8gImNvbnRpbnVlIiBhbnl3YXkgc28gSSB0aGlu
ayB3ZSBzaG91bGQNCnByb3Blcmx5IGNsZWFudXAgaW4gYWxsIGV4aXQgY29uZGl0aW9ucy4NCg0K
Q2hlZXJzDQpCZXJ0cmFuZA0KDQo+IA0KPiBUaGFua3MsDQo+IEplbnMNCj4gDQo+PiANCj4+IENo
ZWVycw0KPj4gQmVydHJhbmQNCj4+IA0KPj4+ICsgICAgbGlzdF9kZWwoJnMtPmxpc3QpOw0KPj4+
ICsgICAgeGZyZWUocyk7DQo+Pj4gK291dDoNCj4+PiArICAgIHNwaW5fdW5sb2NrKCZjdHgtPmxv
Y2spOw0KPj4+ICsNCj4+PiArICAgIGlmICggcmV0ID4gMCApDQo+Pj4gKyAgICAgICAgICAgIHNl
dF9yZWdzX2ZyYWdfcngocmVncywgaGFuZGxlX2xvLCBoYW5kbGVfaGksIHJldCwgc2VuZGVyX2lk
KTsNCj4+PiArICAgIGVsc2UgaWYgKCByZXQgPT0gMCkNCj4+PiAgICAgICAgICAgIHNldF9yZWdz
X3N1Y2Nlc3MocmVncywgaGFuZGxlX2xvLCBoYW5kbGVfaGkpOw0KPj4+ICAgIGVsc2UNCj4+PiAg
ICAgICAgICAgIHNldF9yZWdzX2Vycm9yKHJlZ3MsIHJldCk7DQo+Pj4gQEAgLTEzNTcsNiArMTU3
OCw5IEBAIHN0YXRpYyBib29sIGZmYV9oYW5kbGVfY2FsbChzdHJ1Y3QgY3B1X3VzZXJfcmVncyAq
cmVncykNCj4+PiAgICAgICAgZWxzZQ0KPj4+ICAgICAgICAgICAgc2V0X3JlZ3Nfc3VjY2Vzcyhy
ZWdzLCAwLCAwKTsNCj4+PiAgICAgICAgcmV0dXJuIHRydWU7DQo+Pj4gKyAgICBjYXNlIEZGQV9N
RU1fRlJBR19UWDoNCj4+PiArICAgICAgICBoYW5kbGVfbWVtX2ZyYWdfdHgocmVncyk7DQo+Pj4g
KyAgICAgICAgcmV0dXJuIHRydWU7DQo+Pj4gDQo+Pj4gICAgZGVmYXVsdDoNCj4+PiAgICAgICAg
Z3ByaW50ayhYRU5MT0dfRVJSLCAiZmZhOiB1bmhhbmRsZWQgZmlkIDB4JXhcbiIsIGZpZCk7DQo+
Pj4gQEAgLTEzOTYsNiArMTYyMCw3IEBAIHN0YXRpYyBpbnQgZmZhX2RvbWFpbl9pbml0KHN0cnVj
dCBkb21haW4gKmQpDQo+Pj4gICAgICAgIH0NCj4+PiAgICB9DQo+Pj4gDQo+Pj4gKyAgICBJTklU
X0xJU1RfSEVBRCgmY3R4LT5mcmFnX2xpc3QpOw0KPj4+ICAgIElOSVRfTElTVF9IRUFEKCZjdHgt
PnNobV9saXN0KTsNCj4+PiANCj4+PiAgICBkLT5hcmNoLnRlZSA9IGN0eDsNCj4+PiBAQCAtMTU2
MCw2ICsxNzg1LDcgQEAgc3RhdGljIGJvb2wgZmZhX3Byb2JlKHZvaWQpDQo+Pj4gI2VuZGlmDQo+
Pj4gICAgICAgICAhY2hlY2tfbWFuZGF0b3J5X2ZlYXR1cmUoRkZBX1JYVFhfVU5NQVApIHx8DQo+
Pj4gICAgICAgICAhY2hlY2tfbWFuZGF0b3J5X2ZlYXR1cmUoRkZBX01FTV9TSEFSRV8zMikgfHwN
Cj4+PiArICAgICAgICAgIWNoZWNrX21hbmRhdG9yeV9mZWF0dXJlKEZGQV9NRU1fRlJBR19UWCkg
fHwNCj4+PiAgICAgICAgICFjaGVja19tYW5kYXRvcnlfZmVhdHVyZShGRkFfTUVNX1JFQ0xBSU0p
IHx8DQo+Pj4gICAgICAgICAhY2hlY2tfbWFuZGF0b3J5X2ZlYXR1cmUoRkZBX01TR19TRU5EX0RJ
UkVDVF9SRVFfMzIpICkNCj4+PiAgICAgICAgcmV0dXJuIGZhbHNlOw0KPj4+IC0tDQo+Pj4gMi4z
NC4xDQoNCg0K


Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7571F1103FB
	for <lists+xen-devel@lfdr.de>; Tue,  3 Dec 2019 19:07:15 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1icCX2-0001lR-5P; Tue, 03 Dec 2019 18:04:16 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=G+tL=ZZ=gmail.com=julien.grall.oss@srs-us1.protection.inumbo.net>)
 id 1icCWz-0001ku-Uv
 for xen-devel@lists.xenproject.org; Tue, 03 Dec 2019 18:04:13 +0000
X-Inumbo-ID: 500aa318-15f7-11ea-a55d-bc764e2007e4
Received: from mail-wr1-f68.google.com (unknown [209.85.221.68])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 500aa318-15f7-11ea-a55d-bc764e2007e4;
 Tue, 03 Dec 2019 18:04:13 +0000 (UTC)
Received: by mail-wr1-f68.google.com with SMTP id a15so4848233wrf.9
 for <xen-devel@lists.xenproject.org>; Tue, 03 Dec 2019 10:04:13 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=uQ+7bo1IW5T3oM24BCn1TapPvBNb2fxuowBouklWzKE=;
 b=UWjndZl3J4xVwhr1y6BIkJszDA8uzwFVtwQf28Vt648/YVhsSwUe/AogHeQtQt9eXS
 75nNipueNRqp8g202Rgyia+rG+Gi3E/qqOnMG0ulPm5wjVjC4MoPoV1XnJ0C2pMIn9od
 8IFNgaZTZ7+UiF/56n6LSPhPdAl9/vZSUYAoiJgcSlLQL9atloPUZoWBBB/AQbZWEE5t
 Tph2yGCxG7JR3goOtV1BbYeCV1/rslY5eEPDHqjoXzxUCSz6UeS8/gcSCSakj6zPRF+X
 4DWtwlFJR5H697BUznVieFbwtRQLugnVjFNpsSGrcG6/ltJJoCwqylQUX1TklN4Q/8Uq
 zhIg==
X-Gm-Message-State: APjAAAV+j9/3jb+4Om3ktqmUoKgBNkjHIYINuS0tmHeHFB+dqNkK8ta6
 JXOJGoccpdcf0wocfElfr3U=
X-Google-Smtp-Source: APXvYqzNYNuaKnr4quXRGnNyGkyLn8Jd9B16jNKSoFc4Knv6sAQEn/lHHpv5Tm9LmVZNmrldjO3Z2w==
X-Received: by 2002:adf:fa87:: with SMTP id h7mr6407625wrr.172.1575396252775; 
 Tue, 03 Dec 2019 10:04:12 -0800 (PST)
Received: from a483e7b01a66.ant.amazon.com (54-240-197-233.amazon.com.
 [54.240.197.233])
 by smtp.gmail.com with ESMTPSA id c72sm4024821wmd.11.2019.12.03.10.04.11
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Tue, 03 Dec 2019 10:04:12 -0800 (PST)
To: Jeff Kubascik <jeff.kubascik@dornerworks.com>,
 xen-devel@lists.xenproject.org
References: <20191126211324.122736-1-jeff.kubascik@dornerworks.com>
From: Julien Grall <julien@xen.org>
Message-ID: <4bb351b7-a7b0-4491-fdc5-265724457359@xen.org>
Date: Tue, 3 Dec 2019 18:04:10 +0000
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0)
 Gecko/20100101 Thunderbird/68.2.2
MIME-Version: 1.0
In-Reply-To: <20191126211324.122736-1-jeff.kubascik@dornerworks.com>
Content-Language: en-GB
Subject: Re: [Xen-devel] [PATCH v2] xen/arm: remove physical timer offset
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stewart Hildebrand <Stewart.Hildebrand@dornerworks.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGksCgpPbiAyNi8xMS8yMDE5IDIxOjEzLCBKZWZmIEt1YmFzY2lrIHdyb3RlOgo+IFRoZSBwaHlz
aWNhbCB0aW1lciB0cmFwcyBhcHBseSBhbiBvZmZzZXQgc28gdGhhdCB0aW1lIHN0YXJ0cyBhdCAw
IGZvcgo+IHRoZSBndWVzdC4gSG93ZXZlciwgdGhpcyBvZmZzZXQgaXMgbm90IGN1cnJlbnRseSBh
cHBsaWVkIHRvIHRoZSBwaHlzaWNhbAo+IGNvdW50ZXIuIFBlciB0aGUgQVJNdjggUmVmZXJlbmNl
IE1hbnVhbCAoQVJNIERESSAwNDg3RS5hKSwgc2VjdGlvbgo+IEQxMS4yLjQgVGltZXJzLCB0aGUg
Ik9mZnNldCIgYmV0d2VlbiB0aGUgY291bnRlciBhbmQgdGltZXIgc2hvdWxkIGJlCj4gemVybyBm
b3IgYSBwaHlzaWNhbCB0aW1lci4gVGhpcyByZW1vdmVzIHRoZSBvZmZzZXQgdG8gbWFrZSB0aGUg
dGltZXIgYW5kCj4gY291bnRlciBjb25zaXN0ZW50Lgo+IAo+IEZ1cnRoZXJtb3JlLCBzZWN0aW9u
IEQxMS4yLjQgc3BlY2lmaWVzIHRoYXQgdGhlIHZhbHVlcyBpbiB0aGUgVGltZXJWYWx1ZQo+IHZp
ZXcgb2YgdGhlIHRpbWVycyBhcmUgc2lnbmVkIGluIHN0YW5kYXJkIHR3bydzIGNvbXBsZW1lbnQg
Zm9ybS4gV2hlbgo+IHdyaXRpbmcgdG8gdGhlIFRpbWVyVmFsdWUgcmVnaXN0ZXIsIGl0IHNob3Vs
ZCBiZSBzaWduZWQgZXh0ZW5kZWQgYXMKPiBkZXNjcmliZWQgYnkgdGhlIGVxdWF0aW9uCj4gCj4g
ICAgQ29tcGFyZVZhbHVlID0gKENvdW50ZXJbNjM6MF0gKyBTaWduRXh0ZW5kKFRpbWVyVmFsdWUp
KVs2MzowXQoKSSBhbSBhIGJpdCBjb25mdXNlZCwgaXMgaXQgYSBuZXcgYnVnIGludHJvZHVjZWQg
YnkgdGhlIGNoYW5nZSBvciAKcHJldmlvdXNseSBleGlzdGluZz8gSWYgdGhlIGxhdHRlciwgdGhl
biBJIHRoaW5rIHRoaXMgc2hvdWxkIGJlIG1vZGlmaWVkIAppbiBhIHNlcGFyYXRlIHBhdGNoLgoK
PiAKPiBTaWduZWQtb2ZmLWJ5OiBKZWZmIEt1YmFzY2lrIDxqZWZmLmt1YmFzY2lrQGRvcm5lcndv
cmtzLmNvbT4KPiAtLS0KPiBDaGFuZ2VzIGluIHYyOgo+IC0gVXBkYXRlIGNvbW1pdCBtZXNzYWdl
IHRvIHNwZWNpZnkgcmVmZXJlbmNlIG1hbnVhbCB2ZXJzaW9uIGFuZCBzZWN0aW9uCj4gLSBDaGFu
Z2UgcGh5c2ljYWwgdGltZXIgY3ZhbCB0byBob2xkIGhhcmR3YXJlIHZhbHVlCgpJIHRoaW5rIHRo
aXMgY2hhbmdlIHNob3VsZCBiZSBleHBsYWluZWQgaW4gdGhlIGNvbW1pdCBtZXNzYWdlLgoKPiAt
IE1ha2Ugc3VyZSB0byBzaWduIGV4dGVuZCBUaW1lclZhbHVlIG9uIHdyaXRlcy4gVGhpcyB3YXMg
ZG9uZSBieSBmaXJzdAo+ICAgIGNhc3RpbmcgdGhlIHIgcG9pbnRlciB0byAoaW50MzJfdCAqKSwg
ZGVyZWZlcmVuY2luZyBpdCwgdGhlbiBjYXN0aW5nCj4gICAgdG8gdWludDY0X3QuIFBsZWFzZSBs
ZXQgbWUga25vdyBpZiB0aGVyZSBpcyBhIG1vcmUgY29ycmVjdCB3YXkgdG8gZG8KPiAgICB0aGlz
Cj4gLS0tCj4gICB4ZW4vYXJjaC9hcm0vdnRpbWVyLmMgICAgICAgIHwgMjEgKysrKysrKysrLS0t
LS0tLS0tLS0tCj4gICB4ZW4vaW5jbHVkZS9hc20tYXJtL2RvbWFpbi5oIHwgIDMgLS0tCj4gICAy
IGZpbGVzIGNoYW5nZWQsIDkgaW5zZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25zKC0pCj4gCj4gZGlm
ZiAtLWdpdCBhL3hlbi9hcmNoL2FybS92dGltZXIuYyBiL3hlbi9hcmNoL2FybS92dGltZXIuYwo+
IGluZGV4IGU2YWViZGFjOWUuLmViMTJhMDhhY2YgMTAwNjQ0Cj4gLS0tIGEveGVuL2FyY2gvYXJt
L3Z0aW1lci5jCj4gKysrIGIveGVuL2FyY2gvYXJtL3Z0aW1lci5jCj4gQEAgLTYyLDcgKzYyLDYg
QEAgc3RhdGljIHZvaWQgdmlydF90aW1lcl9leHBpcmVkKHZvaWQgKmRhdGEpCj4gICAKPiAgIGlu
dCBkb21haW5fdnRpbWVyX2luaXQoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9hcmNoX2Rv
bWFpbmNvbmZpZyAqY29uZmlnKQo+ICAgewo+IC0gICAgZC0+YXJjaC5waHlzX3RpbWVyX2Jhc2Uu
b2Zmc2V0ID0gTk9XKCk7Cj4gICAgICAgZC0+YXJjaC52aXJ0X3RpbWVyX2Jhc2Uub2Zmc2V0ID0g
UkVBRF9TWVNSRUc2NChDTlRQQ1RfRUwwKTsKPiAgICAgICBkLT50aW1lX29mZnNldF9zZWNvbmRz
ID0gdGlja3NfdG9fbnMoZC0+YXJjaC52aXJ0X3RpbWVyX2Jhc2Uub2Zmc2V0IC0gYm9vdF9jb3Vu
dCk7Cj4gICAgICAgZG9fZGl2KGQtPnRpbWVfb2Zmc2V0X3NlY29uZHMsIDEwMDAwMDAwMDApOwoK
SSB0aGluayB5b3UgbmVlZCB0byB1cGRhdGUgdGhlIGluaXRpYWxpemF0aW9uIG9mIGN2YWwgdG8g
YXZvaWQgc3RvcmluZyAKbnMuIEJ1dCBDVE5QX0NWQUxfRUwwIGlzIHJlc2V0IHRvIGEgdW5rbm93
biB2YWx1ZSBhdCByZWJvb3QsIHNvIHdlIApzaG91bGQgbm90IG5lZWQgdG8gc2V0IGEgdmFsdWUg
YXQgYWxsIGFzIHRoZSBndWVzdCB3b3VsZCBoYXZlIHRvIHNldCBpdC4KCj4gQEAgLTE4NSw3ICsx
ODQsNyBAQCBzdGF0aWMgYm9vbCB2dGltZXJfY250cF9jdGwoc3RydWN0IGNwdV91c2VyX3JlZ3Mg
KnJlZ3MsIHVpbnQzMl90ICpyLCBib29sIHJlYWQpCj4gICAgICAgICAgIGlmICggdi0+YXJjaC5w
aHlzX3RpbWVyLmN0bCAmIENOVHhfQ1RMX0VOQUJMRSApCj4gICAgICAgICAgIHsKPiAgICAgICAg
ICAgICAgIHNldF90aW1lcigmdi0+YXJjaC5waHlzX3RpbWVyLnRpbWVyLAo+IC0gICAgICAgICAg
ICAgICAgICAgICAgdi0+YXJjaC5waHlzX3RpbWVyLmN2YWwgKyB2LT5kb21haW4tPmFyY2gucGh5
c190aW1lcl9iYXNlLm9mZnNldCk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICB0aWNrc190b19u
cyh2LT5hcmNoLnBoeXNfdGltZXIuY3ZhbCAtIGJvb3RfY291bnQpKTsKCmN2YWwgbWF5IGJlIHNt
YWxsZXIgdGhhbiBib290X2NvdW50LiBJbiB0aGF0IGNhc2UsIHdlIHdpbGwgc2V0IHRoZSB0aW1l
ciAKdG8gZXhwaXJlIGEgdmVyeSBsb25nIHRpbWUuIFRoaXMgaXMgbm90IHRoZSBleHBlY3RlZCBi
ZWhhdmlvciBmcm9tIHRoZSAKZ3Vlc3QuCgpJbnN0ZWFkLCB3ZSBzaG91bGQgZWl0aGVyIHVzZSAw
IHRvIGNyZWF0ZSB0aGUgdGltZXIgb3IgY2FsbCAKcGh5c190aW1lcl9leHBpcmVkIGRpcmVjdGx5
LgoKPiAgICAgICAgICAgfQo+ICAgICAgICAgICBlbHNlCj4gICAgICAgICAgICAgICBzdG9wX3Rp
bWVyKCZ2LT5hcmNoLnBoeXNfdGltZXIudGltZXIpOwo+IEBAIC0xOTcsMjYgKzE5NiwyNSBAQCBz
dGF0aWMgYm9vbCB2dGltZXJfY250cF90dmFsKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzLCB1
aW50MzJfdCAqciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCByZWFkKQo+
ICAgewo+ICAgICAgIHN0cnVjdCB2Y3B1ICp2ID0gY3VycmVudDsKPiAtICAgIHNfdGltZV90IG5v
dzsKPiArICAgIHVpbnQ2NF90IGNudHBjdDsKPiAgIAo+ICAgICAgIGlmICggIUFDQ0VTU19BTExP
V0VEKHJlZ3MsIEVMMFBURU4pICkKPiAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ICAgCj4gLSAg
ICBub3cgPSBOT1coKSAtIHYtPmRvbWFpbi0+YXJjaC5waHlzX3RpbWVyX2Jhc2Uub2Zmc2V0Owo+
ICsgICAgY250cGN0ID0gZ2V0X2N5Y2xlcygpOwo+ICAgCj4gICAgICAgaWYgKCByZWFkICkKPiAg
ICAgICB7Cj4gLSAgICAgICAgKnIgPSAodWludDMyX3QpKG5zX3RvX3RpY2tzKHYtPmFyY2gucGh5
c190aW1lci5jdmFsIC0gbm93KSAmIDB4ZmZmZmZmZmZ1bGwpOwo+ICsgICAgICAgICpyID0gKHVp
bnQzMl90KSgodi0+YXJjaC5waHlzX3RpbWVyLmN2YWwgLSBjbnRwY3QpICYgMHhmZmZmZmZmZnVs
bCk7Cj4gICAgICAgfQo+ICAgICAgIGVsc2UKPiAgICAgICB7Cj4gLSAgICAgICAgdi0+YXJjaC5w
aHlzX3RpbWVyLmN2YWwgPSBub3cgKyB0aWNrc190b19ucygqcik7Cj4gKyAgICAgICAgdi0+YXJj
aC5waHlzX3RpbWVyLmN2YWwgPSBjbnRwY3QgKyAodWludDY0X3QpKCooKGludDMyX3QgKilyKSk7
CgpJIHdvdWxkIHByZWZlciAodWludDY0X3QpKGludDMyX3QpKnIuCgo+ICAgICAgICAgICBpZiAo
IHYtPmFyY2gucGh5c190aW1lci5jdGwgJiBDTlR4X0NUTF9FTkFCTEUgKQo+ICAgICAgICAgICB7
Cj4gICAgICAgICAgICAgICB2LT5hcmNoLnBoeXNfdGltZXIuY3RsICY9IH5DTlR4X0NUTF9QRU5E
SU5HOwo+ICAgICAgICAgICAgICAgc2V0X3RpbWVyKCZ2LT5hcmNoLnBoeXNfdGltZXIudGltZXIs
Cj4gLSAgICAgICAgICAgICAgICAgICAgICB2LT5hcmNoLnBoeXNfdGltZXIuY3ZhbCArCj4gLSAg
ICAgICAgICAgICAgICAgICAgICB2LT5kb21haW4tPmFyY2gucGh5c190aW1lcl9iYXNlLm9mZnNl
dCk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICB0aWNrc190b19ucyh2LT5hcmNoLnBoeXNfdGlt
ZXIuY3ZhbCAtIGJvb3RfY291bnQpKTsKPiAgICAgICAgICAgfQo+ICAgICAgIH0KPiAgICAgICBy
ZXR1cm4gdHJ1ZTsKPiBAQCAtMjMyLDE3ICsyMzAsMTYgQEAgc3RhdGljIGJvb2wgdnRpbWVyX2Nu
dHBfY3ZhbChzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncywgdWludDY0X3QgKnIsCj4gICAKPiAg
ICAgICBpZiAoIHJlYWQgKQo+ICAgICAgIHsKPiAtICAgICAgICAqciA9IG5zX3RvX3RpY2tzKHYt
PmFyY2gucGh5c190aW1lci5jdmFsKTsKPiArICAgICAgICAqciA9IHYtPmFyY2gucGh5c190aW1l
ci5jdmFsOwo+ICAgICAgIH0KPiAgICAgICBlbHNlCj4gICAgICAgewo+IC0gICAgICAgIHYtPmFy
Y2gucGh5c190aW1lci5jdmFsID0gdGlja3NfdG9fbnMoKnIpOwo+ICsgICAgICAgIHYtPmFyY2gu
cGh5c190aW1lci5jdmFsID0gKnI7Cj4gICAgICAgICAgIGlmICggdi0+YXJjaC5waHlzX3RpbWVy
LmN0bCAmIENOVHhfQ1RMX0VOQUJMRSApCj4gICAgICAgICAgIHsKPiAgICAgICAgICAgICAgIHYt
PmFyY2gucGh5c190aW1lci5jdGwgJj0gfkNOVHhfQ1RMX1BFTkRJTkc7Cj4gICAgICAgICAgICAg
ICBzZXRfdGltZXIoJnYtPmFyY2gucGh5c190aW1lci50aW1lciwKPiAtICAgICAgICAgICAgICAg
ICAgICAgIHYtPmFyY2gucGh5c190aW1lci5jdmFsICsKPiAtICAgICAgICAgICAgICAgICAgICAg
IHYtPmRvbWFpbi0+YXJjaC5waHlzX3RpbWVyX2Jhc2Uub2Zmc2V0KTsKPiArICAgICAgICAgICAg
ICAgICAgICAgIHRpY2tzX3RvX25zKHYtPmFyY2gucGh5c190aW1lci5jdmFsIC0gYm9vdF9jb3Vu
dCkpOwo+ICAgICAgICAgICB9Cj4gICAgICAgfQo+ICAgICAgIHJldHVybiB0cnVlOwo+IGRpZmYg
LS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL2RvbWFpbi5oIGIveGVuL2luY2x1ZGUvYXNtLWFy
bS9kb21haW4uaAo+IGluZGV4IDg2ZWJkZDJiY2YuLjE2YTcxNTBhOTUgMTAwNjQ0Cj4gLS0tIGEv
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaAo+ICsrKyBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKPiBAQCAtNjUsOSArNjUsNiBAQCBzdHJ1Y3QgYXJjaF9kb21haW4KPiAgICAgICAg
ICAgUkVMTUVNX2RvbmUsCj4gICAgICAgfSByZWxtZW07Cj4gICAKPiAtICAgIHN0cnVjdCB7Cj4g
LSAgICAgICAgdWludDY0X3Qgb2Zmc2V0Owo+IC0gICAgfSBwaHlzX3RpbWVyX2Jhc2U7Cj4gICAg
ICAgc3RydWN0IHsKPiAgICAgICAgICAgdWludDY0X3Qgb2Zmc2V0Owo+ICAgICAgIH0gdmlydF90
aW1lcl9iYXNlOwo+IAoKQ2hlZXJzLAoKLS0gCkp1bGllbiBHcmFsbAoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApY
ZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

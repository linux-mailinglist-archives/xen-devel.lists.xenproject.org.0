Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E5B071C68A
	for <lists+xen-devel@lfdr.de>; Tue, 14 May 2019 12:02:08 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hQUCe-0000vk-27; Tue, 14 May 2019 09:58:32 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=zxYt=TO=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hQUCd-0000vf-6K
 for xen-devel@lists.xen.org; Tue, 14 May 2019 09:58:31 +0000
X-Inumbo-ID: d27b664e-762e-11e9-8980-bc764e045a96
Received: from foss.arm.com (unknown [217.140.101.70])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTP
 id d27b664e-762e-11e9-8980-bc764e045a96;
 Tue, 14 May 2019 09:58:28 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.72.51.249])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 06FB5374;
 Tue, 14 May 2019 02:58:28 -0700 (PDT)
Received: from [10.1.196.50] (e108454-lin.cambridge.arm.com [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id E38323F703;
 Tue, 14 May 2019 02:58:25 -0700 (PDT)
To: Andrii Anisov <andrii.anisov@gmail.com>, xen-devel@lists.xen.org
References: <1556007026-31057-1-git-send-email-andrii.anisov@gmail.com>
 <1556007026-31057-3-git-send-email-andrii.anisov@gmail.com>
 <e248dae9-c91c-c735-ea16-9bcb70c65e9d@arm.com>
 <959c8975-ec44-a788-25b3-84ee17520abc@gmail.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <24f3e2b1-4889-1780-0e48-0c909f555997@arm.com>
Date: Tue, 14 May 2019 10:58:24 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <959c8975-ec44-a788-25b3-84ee17520abc@gmail.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v2 2/2] xen: implement
 VCPUOP_register_runstate_phys_memory_area
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Jan Beulich <JBeulich@suse.com>, xen-devel@lists.xenproject.org,
 Wei Liu <wei.liu2@citrix.com>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

CgpPbiAxMy8wNS8yMDE5IDEzOjMwLCBBbmRyaWkgQW5pc292IHdyb3RlOgo+IAo+IAo+IE9uIDA4
LjA1LjE5IDE4OjQwLCBKdWxpZW4gR3JhbGwgd3JvdGU6Cj4+PiBkaWZmIC0tZ2l0IGEveGVuL2Fy
Y2gvYXJtL2RvbWFpbi5jIGIveGVuL2FyY2gvYXJtL2RvbWFpbi5jCj4+PiBpbmRleCA2ZGM2MzNl
Li44ZTI0ZTYzIDEwMDY0NAo+Pgo+Pj4gwqAgewo+Pj4gLcKgwqDCoCB2b2lkIF9fdXNlciAqZ3Vl
c3RfaGFuZGxlID0gTlVMTDsKPj4+ICvCoMKgwqAgaWYgKCAhZ3Vlc3RfaGFuZGxlX2lzX251bGwo
cnVuc3RhdGVfZ3Vlc3QodikpICkKPj4+ICvCoMKgwqAgewo+Pj4gK8KgwqDCoMKgwqDCoMKgIHZv
aWQgX191c2VyICpndWVzdF9oYW5kbGUgPSBOVUxMOwo+Pj4gK8KgwqDCoMKgwqDCoMKgIGlmICgg
Vk1fQVNTSVNUKHYtPmRvbWFpbiwgcnVuc3RhdGVfdXBkYXRlX2ZsYWcpICkKPj4+ICvCoMKgwqDC
oMKgwqDCoCB7Cj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBndWVzdF9oYW5kbGUgPSAmdi0+
cnVuc3RhdGVfZ3Vlc3QucC0+c3RhdGVfZW50cnlfdGltZSArIDE7Cj4+PiArwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoCBndWVzdF9oYW5kbGUtLTsKPj4+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHYt
PnJ1bnN0YXRlLnN0YXRlX2VudHJ5X3RpbWUgfD0gWEVOX1JVTlNUQVRFX1VQREFURTsKPj4+ICvC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIF9fcmF3X2NvcHlfdG9fZ3Vlc3QoZ3Vlc3RfaGFuZGxlLAo+
Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgICh2b2lkICopKCZ2LT5ydW5zdGF0ZS5zdGF0ZV9lbnRyeV90aW1lICsgMSkgCj4+
PiAtIDEsCj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqAgMSk7Cj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBzbXBfd21i
KCk7Cj4+PiArwqDCoMKgwqDCoMKgwqAgfQo+Pj4gLcKgwqDCoCBpZiAoIGd1ZXN0X2hhbmRsZV9p
c19udWxsKHJ1bnN0YXRlX2d1ZXN0KHYpKSApCj4+PiAtwqDCoMKgwqDCoMKgwqAgcmV0dXJuOwo+
Pj4gK8KgwqDCoMKgwqDCoMKgIF9fY29weV90b19ndWVzdChydW5zdGF0ZV9ndWVzdCh2KSwgJnYt
PnJ1bnN0YXRlLCAxKTsKPj4+IC3CoMKgwqAgaWYgKCBWTV9BU1NJU1Qodi0+ZG9tYWluLCBydW5z
dGF0ZV91cGRhdGVfZmxhZykgKQo+Pj4gLcKgwqDCoCB7Cj4+PiAtwqDCoMKgwqDCoMKgwqAgZ3Vl
c3RfaGFuZGxlID0gJnYtPnJ1bnN0YXRlX2d1ZXN0LnAtPnN0YXRlX2VudHJ5X3RpbWUgKyAxOwo+
Pj4gLcKgwqDCoMKgwqDCoMKgIGd1ZXN0X2hhbmRsZS0tOwo+Pj4gLcKgwqDCoMKgwqDCoMKgIHYt
PnJ1bnN0YXRlLnN0YXRlX2VudHJ5X3RpbWUgfD0gWEVOX1JVTlNUQVRFX1VQREFURTsKPj4+IC3C
oMKgwqDCoMKgwqDCoCBfX3Jhd19jb3B5X3RvX2d1ZXN0KGd1ZXN0X2hhbmRsZSwKPj4+IC3CoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgKHZvaWQg
KikoJnYtPnJ1bnN0YXRlLnN0YXRlX2VudHJ5X3RpbWUgKyAxKSAtIDEsIAo+Pj4gMSk7Cj4+PiAt
wqDCoMKgwqDCoMKgwqAgc21wX3dtYigpOwo+Pj4gK8KgwqDCoMKgwqDCoMKgIGlmICggZ3Vlc3Rf
aGFuZGxlICkKPj4+ICvCoMKgwqDCoMKgwqDCoCB7Cj4+PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCB2LT5ydW5zdGF0ZS5zdGF0ZV9lbnRyeV90aW1lICY9IH5YRU5fUlVOU1RBVEVfVVBEQVRFOwo+
Pj4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqAgc21wX3dtYigpOwo+Pj4gK8KgwqDCoMKgwqDCoMKg
wqDCoMKgwqAgX19yYXdfY29weV90b19ndWVzdChndWVzdF9oYW5kbGUsCj4+PiArwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgKHZv
aWQgKikoJnYtPnJ1bnN0YXRlLnN0YXRlX2VudHJ5X3RpbWUgKyAxKSAKPj4+IC0gMSwKPj4+ICvC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCAxKTsKPj4+ICvCoMKgwqDCoMKgwqDCoCB9Cj4+PiDCoMKgwqDCoMKgIH0KPj4+IC3CoMKg
wqAgX19jb3B5X3RvX2d1ZXN0KHJ1bnN0YXRlX2d1ZXN0KHYpLCAmdi0+cnVuc3RhdGUsIDEpOwo+
Pj4gLQo+Pj4gLcKgwqDCoCBpZiAoIGd1ZXN0X2hhbmRsZSApCj4+PiArwqDCoMKgIHNwaW5fbG9j
aygmdi0+bWFwcGVkX3J1bnN0YXRlX2xvY2spOwo+Pj4gK8KgwqDCoCBpZiAoIHYtPm1hcHBlZF9y
dW5zdGF0ZSApCj4+Cj4+IFRoZSBjb2RlIGxvb2tzIGEgYml0IG9kZCB0byBtZSwgeW91IHNlZW0g
dG8gYWxsb3cgYSBndWVzdCB0byBwcm92aWRlIDIgCj4+IHJ1bnN0YXRlIGFyZWFzOiBvbmUgdXNp
bmcgZ3Vlc3QgdmlydHVhbCBhZGRyZXNzIHRoZSBvdGhlciB1c2luZyBndWVzdCBwaHlzaWNhbCAK
Pj4gYWRkcmVzcy4KPj4KPj4gSXQgd291bGQgYmUgYmVzdCBpZiB3ZSBwcmV2ZW50IGEgZ3Vlc3Qg
dG8gbWl4IG1hdGNoIHRoZW0uIAo+IAo+IEZpcnN0bHkgSSB0dXJuZWQgdG8gaW1wbGVtZW50aW5n
IGluIHRoYXQgd2F5LCBidXQgdGhlIGxvY2tpbmcgYW5kIGRlY2lzc2lvbnMgCj4gY29kZSBiZWNv
bWUgcmVhbGx5IHVnbHkgYW5kIGNvbXBsZXggd2hpbGUgdHJ5aW5nIHRvIGNvdmVyICdndWVzdCdz
IG1pc2JlaGF2aW9yJyAKPiBzY2VuYXJpb3MuCgpJIHRoaW5rIGl0IGlzIHBvc3NpYmxlIHRvIGhh
dmUgYSBzaW1wbGUgdmVyc2lvbiB0YWtpbmcgdGhlIGRlY2lzaW9uIG9uIHdoaWNoIAptZXRob2Qg
dG8gdXNlLiBZb3UgY2FuIGVpdGhlciB1c2UgdGhlIHNwaW5fbG9jayB0byBwcm90ZWN0IGV2ZXJ5
dGhpbmcgb3IgdXNlIApzb21ldGhpbmcgbGlrZToKCnVwZGF0ZV9ydW5zdGF0ZV9hcmVhKCk6Cgpp
ZiAoIHhjaGcoJnYtPnJ1bnN0YXRlX2luX3VzZSwgMSkgKQogICByZXR1cm47Cgpzd2l0Y2ggKCB2
LT5ydW5zdGF0ZV90eXBlICkKewpHVkFERFI6CiAgICB1cGRhdGVfcnVuc3RhdGVfYnlfZ3ZhZGRy
KCk7CkdQQUREUjoKICAgIHVwZGF0ZV9ydW5zdGF0ZV9ieV9ncGFkZHIoKTsKfQoKeGNoZygmdi0+
cnVuc3RhdGVfaW5fdXNlLCAwKTsKCnJlZ2lzdGVyaW5nIGFuIGFyZWEKCndoaWxlICggeGNoZygm
di0+cnVuc3RhdGVfaW5fdXNlLCAxKSApOwovKiBDbGVhbi11cCBhbmQgcmVnaXN0ZXJpbmcgdGhl
IGFyZWEgKi8KCj4gCj4+IElPVywgaWYgdGhlIGd1ZXN0IHByb3ZpZGUgYSBwaHlzaWNhbCBhZGRy
ZXNzIGZpcnN0LCB0aGVuICphbGwqIHRoZSBjYWxsIHNob3VsZCAKPj4gYmUgcGh5c2ljYWwgYWRk
cmVzcy4gQWx0ZXJuYXRpdmVseSB0aGlzIGNvdWxkIGJlIGEgcGVyIHZDUFUgZGVjaXNpb24uCj4g
Cj4gSSBndWVzcyB3ZSBzaG91bGQgYWdyZWUgd2hhdCB0byBpbXBsZW1lbnQgZmlyc3QuCgpJIHRo
aW5rIHRoZXJlIGFyZSBhbiBhZ3JlZW1lbnQgdGhhdCB0aGUgdHdvIG1ldGhvZHMgc2hvdWxkIG5v
dCBiZSB1c2VkIHRvZ2V0aGVyLgoKWy4uXQoKPj4+IGRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9h
c20tYXJtL2RvbWFpbi5oIGIveGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaAo+Pj4gaW5kZXgg
MzEyZmVjOC4uM2ZiNmVhMiAxMDA2NDQKPj4+IC0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9t
YWluLmgKPj4+ICsrKyBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKPj4+IEBAIC0yMTcs
NiArMjE3LDggQEAgdm9pZCB2Y3B1X3Nob3dfZXhlY3V0aW9uX3N0YXRlKHN0cnVjdCB2Y3B1ICop
Owo+Pj4gwqAgdm9pZCB2Y3B1X3Nob3dfcmVnaXN0ZXJzKGNvbnN0IHN0cnVjdCB2Y3B1ICopOwo+
Pj4gwqAgdm9pZCB2Y3B1X3N3aXRjaF90b19hYXJjaDY0X21vZGUoc3RydWN0IHZjcHUgKik7Cj4+
PiArdm9pZCB1cGRhdGVfcnVuc3RhdGVfYXJlYShzdHJ1Y3QgdmNwdSAqKTsKPj4+ICsKPj4+IMKg
IC8qCj4+PiDCoMKgICogRHVlIHRvIHRoZSByZXN0cmljdGlvbiBvZiBHSUN2MywgdGhlIG51bWJl
ciBvZiB2Q1BVcyBpbiBBRkYwIGlzCj4+PiDCoMKgICogbGltaXRlZCB0byAxNiwgdGh1cyBvbmx5
IHRoZSBmaXJzdCA0IGJpdHMgb2YgQUZGMCBhcmUgbGVnYWwuIFdlIHdpbGwKPj4+IGRpZmYgLS1n
aXQgYS94ZW4vaW5jbHVkZS94ZW4vZG9tYWluLmggYi94ZW4vaW5jbHVkZS94ZW4vZG9tYWluLmgK
Pj4+IGluZGV4IGQxYmZjODIuLmVjZGRjZmUgMTAwNjQ0Cj4+PiAtLS0gYS94ZW4vaW5jbHVkZS94
ZW4vZG9tYWluLmgKPj4+ICsrKyBiL3hlbi9pbmNsdWRlL3hlbi9kb21haW4uaAo+Pj4gQEAgLTEx
OCw0ICsxMTgsNiBAQCBzdHJ1Y3Qgdm51bWFfaW5mbyB7Cj4+PiDCoCB2b2lkIHZudW1hX2Rlc3Ry
b3koc3RydWN0IHZudW1hX2luZm8gKnZudW1hKTsKPj4+ICtzdHJ1Y3QgdmNwdV9yZWdpc3Rlcl9y
dW5zdGF0ZV9tZW1vcnlfYXJlYTsKPj4+ICsKPj4+IMKgICNlbmRpZiAvKiBfX1hFTl9ET01BSU5f
SF9fICovCj4+PiBkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLmggYi94ZW4vaW5j
bHVkZS94ZW4vc2NoZWQuaAo+Pj4gaW5kZXggNzQ4YmIwZi4uMmFmZTMxYyAxMDA2NDQKPj4+IC0t
LSBhL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC5oCj4+PiArKysgYi94ZW4vaW5jbHVkZS94ZW4vc2No
ZWQuaAo+Pj4gQEAgLTE2MywxNSArMTYzLDIzIEBAIHN0cnVjdCB2Y3B1Cj4+PiDCoMKgwqDCoMKg
IHZvaWTCoMKgwqDCoMKgwqDCoMKgwqDCoMKgICpzY2hlZF9wcml2O8KgwqDCoCAvKiBzY2hlZHVs
ZXItc3BlY2lmaWMgZGF0YSAqLwo+Pj4gwqDCoMKgwqDCoCBzdHJ1Y3QgdmNwdV9ydW5zdGF0ZV9p
bmZvIHJ1bnN0YXRlOwo+Pj4gKwo+Pj4gK8KgwqDCoCBzcGlubG9ja190wqDCoMKgwqDCoCBtYXBw
ZWRfcnVuc3RhdGVfbG9jazsKPj4+ICsKPj4+IMKgICNpZm5kZWYgQ09ORklHX0NPTVBBVAo+Pj4g
wqAgIyBkZWZpbmUgcnVuc3RhdGVfZ3Vlc3QodikgKCh2KS0+cnVuc3RhdGVfZ3Vlc3QpCj4+PiDC
oMKgwqDCoMKgIFhFTl9HVUVTVF9IQU5ETEUodmNwdV9ydW5zdGF0ZV9pbmZvX3QpIHJ1bnN0YXRl
X2d1ZXN0OyAvKiBndWVzdCBhZGRyZXNzICovCj4+PiArwqDCoMKgIHZjcHVfcnVuc3RhdGVfaW5m
b190ICptYXBwZWRfcnVuc3RhdGU7Cj4+PiDCoCAjZWxzZQo+Pj4gwqAgIyBkZWZpbmUgcnVuc3Rh
dGVfZ3Vlc3QodikgKCh2KS0+cnVuc3RhdGVfZ3Vlc3QubmF0aXZlKQo+Pj4gwqDCoMKgwqDCoCB1
bmlvbiB7Cj4+PiDCoMKgwqDCoMKgwqDCoMKgwqAgWEVOX0dVRVNUX0hBTkRMRSh2Y3B1X3J1bnN0
YXRlX2luZm9fdCkgbmF0aXZlOwo+Pj4gwqDCoMKgwqDCoMKgwqDCoMKgIFhFTl9HVUVTVF9IQU5E
TEUodmNwdV9ydW5zdGF0ZV9pbmZvX2NvbXBhdF90KSBjb21wYXQ7Cj4+PiDCoMKgwqDCoMKgIH0g
cnVuc3RhdGVfZ3Vlc3Q7IC8qIGd1ZXN0IGFkZHJlc3MgKi8KPj4+ICvCoMKgwqAgdW5pb24gewo+
Pj4gK8KgwqDCoMKgwqDCoMKgIHZjcHVfcnVuc3RhdGVfaW5mb190KiBuYXRpdmU7Cj4+PiArwqDC
oMKgwqDCoMKgwqAgdmNwdV9ydW5zdGF0ZV9pbmZvX2NvbXBhdF90KiBjb21wYXQ7Cj4+PiArwqDC
oMKgIH0gbWFwcGVkX3J1bnN0YXRlOyAvKiBndWVzdCBhZGRyZXNzICovCj4+ID4gVGhlIGNvbWJp
bmF0aW9uIG9mIG1hcHBlZF9ydW5zdGF0ZSBhbmQgcnVuc3RhdGVfZ3Vlc3QgaXMgYSBiaXQgY29u
ZnVzaW5nLiBJIAo+PiB0aGluayB5b3Ugd2FudCB0byByZXdvcmsgdGhlIGludGVyZmFjZSB0byBz
aG93IHRoYXQgb25seSBvbmUgaXMgcG9zc2libGUgYXQgCj4+IHRoZSB0aW1lIGFuZCBtYWtlIGNs
ZWFyIHdoaWNoIG9uZSBpcyB1c2VkIGJ5IHdoby4gTWF5YmU6Cj4gCj4gQXMgSSBzYWlkIGJlZm9y
ZSwgSU1PIGNvdXBsaW5nIHRob3NlIGludGVyZmFjZXMgbWFrZXMgdGhlIGNvZGUgY29tcGxpY2F0
ZWQgYW5kIAo+IHVnbHkuCgpXZWxsLCBJIGNhbid0IHNlZSBob3cgaXQgY2FuIGJlIHVnbHkgKHNl
ZSBteSBleGFtcGxlIGFib3ZlKS4KCkNoZWVycywKCi0tIApKdWxpZW4gR3JhbGwKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5n
IGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJv
amVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

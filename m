Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 839C918F2C
	for <lists+xen-devel@lfdr.de>; Thu,  9 May 2019 19:31:31 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hOmph-0001nu-JO; Thu, 09 May 2019 17:27:49 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=fgKw=TJ=oracle.com=ankur.a.arora@srs-us1.protection.inumbo.net>)
 id 1hOmpf-0001n4-Ow
 for xen-devel@lists.xenproject.org; Thu, 09 May 2019 17:27:47 +0000
X-Inumbo-ID: c211a887-727f-11e9-8980-bc764e045a96
Received: from userp2130.oracle.com (unknown [156.151.31.86])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id c211a887-727f-11e9-8980-bc764e045a96;
 Thu, 09 May 2019 17:27:45 +0000 (UTC)
Received: from pps.filterd (userp2130.oracle.com [127.0.0.1])
 by userp2130.oracle.com (8.16.0.27/8.16.0.27) with SMTP id x49HJRsh151800;
 Thu, 9 May 2019 17:27:44 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=oracle.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-transfer-encoding; s=corp-2018-07-02;
 bh=iWLMbsiTJyORKcVPc67NdIhjZ2dc7OJHEnWet4Ub5Kw=;
 b=UUhgHrqUJgZ3v9UuVkW2DqgDOyDIWCs+T4FiLAWvwDYYvcQRUMbYqDwbOKwEuEd1zlA4
 78TMJzClr18NPm5bRYYUEW5YqF0rwhRxrWUL9aUqWa7fAlCV6p9FZifQ6IIvxx3MH40R
 e99M9cLzy3zKhdV/WINfvGwqfnMpaXnPdvJkXrck7RIQsPe3RTXUyUQh4OUvQm/YBVsA
 uRo+4Pu8nZAjKvzHeQdidgFZ/qIGFw+RPvjsNULDAJe5anjEIHqLkB36jCM39vLIEGDO
 c1s5XVLXyP2UqMqApeSVTaNa1Mxdcde4yjccnHI09DrN9f2u5E5KQAXcV+EwrdhG7DzN FA== 
Received: from aserp3030.oracle.com (aserp3030.oracle.com [141.146.126.71])
 by userp2130.oracle.com with ESMTP id 2s94bgcep8-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
 Thu, 09 May 2019 17:27:44 +0000
Received: from pps.filterd (aserp3030.oracle.com [127.0.0.1])
 by aserp3030.oracle.com (8.16.0.27/8.16.0.27) with SMTP id x49HP7IS119737;
 Thu, 9 May 2019 17:25:43 GMT
Received: from aserv0121.oracle.com (aserv0121.oracle.com [141.146.126.235])
 by aserp3030.oracle.com with ESMTP id 2scpy5t22t-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
 Thu, 09 May 2019 17:25:43 +0000
Received: from abhmp0008.oracle.com (abhmp0008.oracle.com [141.146.116.14])
 by aserv0121.oracle.com (8.14.4/8.13.8) with ESMTP id x49HPhCr019337;
 Thu, 9 May 2019 17:25:43 GMT
Received: from aa1-ca-oracle-com.ca.oracle.com (/10.156.75.204)
 by default (Oracle Beehive Gateway v4.0)
 with ESMTP ; Thu, 09 May 2019 10:25:42 -0700
From: Ankur Arora <ankur.a.arora@oracle.com>
To: linux-kernel@vger.kernel.org, xen-devel@lists.xenproject.org
Date: Thu,  9 May 2019 10:25:34 -0700
Message-Id: <20190509172540.12398-11-ankur.a.arora@oracle.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190509172540.12398-1-ankur.a.arora@oracle.com>
References: <20190509172540.12398-1-ankur.a.arora@oracle.com>
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=nai engine=5900 definitions=9252
 signatures=668686
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 suspectscore=2
 malwarescore=0
 phishscore=0 bulkscore=0 spamscore=0 mlxscore=0 mlxlogscore=999
 adultscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.0.1-1810050000 definitions=main-1905090100
X-Proofpoint-Virus-Version: vendor=nai engine=5900 definitions=9252
 signatures=668686
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0
 priorityscore=1501 malwarescore=0
 suspectscore=2 phishscore=0 bulkscore=0 spamscore=0 clxscore=1015
 lowpriorityscore=0 mlxscore=0 impostorscore=0 mlxlogscore=999 adultscore=0
 classifier=spam adjust=0 reason=mlx scancount=1 engine=8.0.1-1810050000
 definitions=main-1905090100
Subject: [Xen-devel] [RFC PATCH 10/16] xen/balloon: support ballooning in
 xenhost_t
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: jgross@suse.com, sstabellini@kernel.org, konrad.wilk@oracle.com,
 ankur.a.arora@oracle.com, pbonzini@redhat.com, boris.ostrovsky@oracle.com,
 joao.m.martins@oracle.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

WGVuIGJhbGxvb25pbmcgdXNlcyBob2xsb3cgc3RydWN0IHBhZ2VzICh3aXRoIHRoZSB1bmRlcmx5
aW5nIEdGTnMgYmVpbmcKcG9wdWxhdGVkL3VucG9wdWxhdGVkIHZpYSBoeXBlcmNhbGxzKSB3aGlj
aCBhcmUgdXNlZCBieSB0aGUgZ3JhbnQgbG9naWMKdG8gbWFwIGdyYW50cyBmcm9tIG90aGVyIGRv
bWFpbnMuCgpUaGlzIHBhdGNoIGFsbG93cyB0aGUgZGVmYXVsdCB4ZW5ob3N0IHRvIHByb3ZpZGUg
YW4gYWx0ZXJuYXRlIGJhbGxvb25pbmcKYWxsb2NhdGlvbiBtZWNoYW5pc20uIFRoaXMgaXMgZXhw
ZWN0ZWQgdG8gYmUgdXNlZnVsIGZvciBsb2NhbCB4ZW5ob3N0cwoodHlwZSB4ZW5ob3N0X3IwKSBi
ZWNhdXNlIHVubGlrZSBYZW4sIHdoZXJlIHRoZXJlIGlzIGFuIGV4dGVybmFsCmh5cGVydmlzb3Ig
d2hpY2ggY2FuIGNoYW5nZSB0aGUgbWVtb3J5IHVuZGVybmVhdGggYSBHRk4sIHRoYXQgaXMgbm90
CnBvc3NpYmxlIHdoZW4gdGhlIGh5cGVydmlzb3IgaXMgcnVubmluZyBpbiB0aGUgc2FtZSBhZGRy
ZXNzIHNwYWNlCmFzIHRoZSBlbnRpdHkgZG9pbmcgdGhlIGJhbGxvb25pbmcuCgpDby1kZXZlbG9w
ZWQtYnk6IEFua3VyIEFyb3JhIDxhbmt1ci5hLmFyb3JhQG9yYWNsZS5jb20+ClNpZ25lZC1vZmYt
Ynk6IEpvYW8gTWFydGlucyA8am9hby5tLm1hcnRpbnNAb3JhY2xlLmNvbT4KU2lnbmVkLW9mZi1i
eTogQW5rdXIgQXJvcmEgPGFua3VyLmEuYXJvcmFAb3JhY2xlLmNvbT4KLS0tCiBhcmNoL3g4Ni94
ZW4vZW5saWdodGVuX2h2bS5jICAgICAgIHwgIDcgKysrKysrKwogYXJjaC94ODYveGVuL2VubGln
aHRlbl9wdi5jICAgICAgICB8ICA4ICsrKysrKysrCiBkcml2ZXJzL3hlbi9iYWxsb29uLmMgICAg
ICAgICAgICAgIHwgMTkgKysrKysrKysrKysrKysrKy0tLQogZHJpdmVycy94ZW4vZ3JhbnQtdGFi
bGUuYyAgICAgICAgICB8ICA0ICsrLS0KIGRyaXZlcnMveGVuL3ByaXZjbWQuYyAgICAgICAgICAg
ICAgfCAgNCArKy0tCiBkcml2ZXJzL3hlbi94ZW4tc2VsZmJhbGxvb24uYyAgICAgIHwgIDIgKysK
IGRyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfY2xpZW50LmMgfCAgNiArKystLS0KIGRyaXZlcnMv
eGVuL3hsYXRlX21tdS5jICAgICAgICAgICAgfCAgNCArKy0tCiBpbmNsdWRlL3hlbi9iYWxsb29u
LmggICAgICAgICAgICAgIHwgIDQgKystLQogaW5jbHVkZS94ZW4veGVuaG9zdC5oICAgICAgICAg
ICAgICB8IDE5ICsrKysrKysrKysrKysrKysrKysKIDEwIGZpbGVzIGNoYW5nZWQsIDYzIGluc2Vy
dGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2FyY2gveDg2L3hlbi9lbmxp
Z2h0ZW5faHZtLmMgYi9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX2h2bS5jCmluZGV4IGVmZTQ4M2Nl
ZWI5YS4uYTM3MWJiOWVlNDc4IDEwMDY0NAotLS0gYS9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX2h2
bS5jCisrKyBiL2FyY2gveDg2L3hlbi9lbmxpZ2h0ZW5faHZtLmMKQEAgLTEzMCw5ICsxMzAsMTYg
QEAgeGVuaG9zdF9vcHNfdCB4aF9odm1fb3BzID0gewogCS5zZXR1cF9zaGFyZWRfaW5mbyA9IHhl
bl9odm1faW5pdF9zaGFyZWRfaW5mbywKIAkucmVzZXRfc2hhcmVkX2luZm8gPSB4ZW5faHZtX3Jl
c2V0X3NoYXJlZF9pbmZvLAogCS5wcm9iZV92Y3B1X2lkID0geGVuX2h2bV9wcm9iZV92Y3B1X2lk
LAorCisJLyogV2UganVzdCB1c2UgdGhlIGRlZmF1bHQgbWV0aG9kIG9mIGJhbGxvb25pbmcuICov
CisJLmFsbG9jX2JhbGxvb25lZF9wYWdlcyA9IE5VTEwsCisJLmZyZWVfYmFsbG9vbmVkX3BhZ2Vz
ID0gTlVMTCwKIH07CiAKIHhlbmhvc3Rfb3BzX3QgeGhfaHZtX25lc3RlZF9vcHMgPSB7CisJLyog
TmVzdGVkIHhlbmhvc3RzLCBhcmUgZGlzYWxsb3dlZCBiYWxsb29uaW5nICovCisJLmFsbG9jX2Jh
bGxvb25lZF9wYWdlcyA9IE5VTEwsCisJLmZyZWVfYmFsbG9vbmVkX3BhZ2VzID0gTlVMTCwKIH07
CiAKIHN0YXRpYyB2b2lkIF9faW5pdCBpbml0X2h2bV9wdl9pbmZvKHZvaWQpCmRpZmYgLS1naXQg
YS9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX3B2LmMgYi9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX3B2
LmMKaW5kZXggNzdiMWEwZDRhZWYyLi4yZTk0ZTAyY2RiYjQgMTAwNjQ0Ci0tLSBhL2FyY2gveDg2
L3hlbi9lbmxpZ2h0ZW5fcHYuYworKysgYi9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX3B2LmMKQEAg
LTEyNDcsMTEgKzEyNDcsMTkgQEAgeGVuaG9zdF9vcHNfdCB4aF9wdl9vcHMgPSB7CiAJLnJlc2V0
X3NoYXJlZF9pbmZvID0geGVuX3B2X3Jlc2V0X3NoYXJlZF9pbmZvLAogCiAJLnByb2JlX3ZjcHVf
aWQgPSB4ZW5fcHZfcHJvYmVfdmNwdV9pZCwKKworCS8qIFdlIGp1c3QgdXNlIHRoZSBkZWZhdWx0
IG1ldGhvZCBvZiBiYWxsb29uaW5nLiAqLworCS5hbGxvY19iYWxsb29uZWRfcGFnZXMgPSBOVUxM
LAorCS5mcmVlX2JhbGxvb25lZF9wYWdlcyA9IE5VTEwsCiB9OwogCiB4ZW5ob3N0X29wc190IHho
X3B2X25lc3RlZF9vcHMgPSB7CiAJLmNwdWlkX2Jhc2UgPSB4ZW5fcHZfbmVzdGVkX2NwdWlkX2Jh
c2UsCiAJLnNldHVwX2h5cGVyY2FsbF9wYWdlID0gTlVMTCwKKworCS8qIE5lc3RlZCB4ZW5ob3N0
cywgYXJlIGRpc2FsbG93ZWQgYmFsbG9vbmluZyAqLworCS5hbGxvY19iYWxsb29uZWRfcGFnZXMg
PSBOVUxMLAorCS5mcmVlX2JhbGxvb25lZF9wYWdlcyA9IE5VTEwsCiB9OwogCiAvKiBGaXJzdCBD
IGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBYZW4gYm9vdCAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy94ZW4vYmFsbG9vbi5jIGIvZHJpdmVycy94ZW4vYmFsbG9vbi5jCmluZGV4IDVlZjRkNmFkOTIw
ZC4uMDhiZWNmNTc0NzQzIDEwMDY0NAotLS0gYS9kcml2ZXJzL3hlbi9iYWxsb29uLmMKKysrIGIv
ZHJpdmVycy94ZW4vYmFsbG9vbi5jCkBAIC02Myw2ICs2Myw3IEBACiAjaW5jbHVkZSA8YXNtL3Rs
Yi5oPgogCiAjaW5jbHVkZSA8eGVuL2ludGVyZmFjZS94ZW4uaD4KKyNpbmNsdWRlIDx4ZW4veGVu
aG9zdC5oPgogI2luY2x1ZGUgPGFzbS94ZW4vaHlwZXJ2aXNvci5oPgogI2luY2x1ZGUgPGFzbS94
ZW4vaHlwZXJjYWxsLmg+CiAKQEAgLTU4MywxMiArNTg0LDIxIEBAIHN0YXRpYyBpbnQgYWRkX2Jh
bGxvb25lZF9wYWdlcyhpbnQgbnJfcGFnZXMpCiAgKiBAcGFnZXM6IHBhZ2VzIHJldHVybmVkCiAg
KiBAcmV0dXJuIDAgb24gc3VjY2VzcywgZXJyb3Igb3RoZXJ3aXNlCiAgKi8KLWludCBhbGxvY194
ZW5iYWxsb29uZWRfcGFnZXMoaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKQoraW50
IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdlcyh4ZW5ob3N0X3QgKnhoLCBpbnQgbnJfcGFnZXMsIHN0
cnVjdCBwYWdlICoqcGFnZXMpCiB7CiAJaW50IHBnbm8gPSAwOwogCXN0cnVjdCBwYWdlICpwYWdl
OwogCWludCByZXQ7CiAKKwkvKgorCSAqIHhlbm1lbSB0cmFuc2FjdGlvbnMgZm9yIHJlbW90ZSB4
ZW5ob3N0IGFyZSBkaXNhbGxvd2VkLgorCSAqLworCWlmICh4aC0+dHlwZSA9PSB4ZW5ob3N0X3Iy
KQorCQlyZXR1cm4gLUVJTlZBTDsKKworCWlmICh4aC0+b3BzLT5hbGxvY19iYWxsb29uZWRfcGFn
ZXMpCisJCXJldHVybiB4aC0+b3BzLT5hbGxvY19iYWxsb29uZWRfcGFnZXMoeGgsIG5yX3BhZ2Vz
LCBwYWdlcyk7CisKIAltdXRleF9sb2NrKCZiYWxsb29uX211dGV4KTsKIAogCWJhbGxvb25fc3Rh
dHMudGFyZ2V0X3VucG9wdWxhdGVkICs9IG5yX3BhZ2VzOwpAQCAtNjIwLDcgKzYzMCw3IEBAIGlu
dCBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMoaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBh
Z2VzKQogCXJldHVybiAwOwogIG91dF91bmRvOgogCW11dGV4X3VubG9jaygmYmFsbG9vbl9tdXRl
eCk7Ci0JZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMocGdubywgcGFnZXMpOworCWZyZWVfeGVuYmFs
bG9vbmVkX3BhZ2VzKHhoLCBwZ25vLCBwYWdlcyk7CiAJcmV0dXJuIHJldDsKIH0KIEVYUE9SVF9T
WU1CT0woYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKTsKQEAgLTYzMCwxMCArNjQwLDEzIEBAIEVY
UE9SVF9TWU1CT0woYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKTsKICAqIEBucl9wYWdlczogTnVt
YmVyIG9mIHBhZ2VzCiAgKiBAcGFnZXM6IHBhZ2VzIHRvIHJldHVybgogICovCi12b2lkIGZyZWVf
eGVuYmFsbG9vbmVkX3BhZ2VzKGludCBucl9wYWdlcywgc3RydWN0IHBhZ2UgKipwYWdlcykKK3Zv
aWQgZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMoeGVuaG9zdF90ICp4aCwgaW50IG5yX3BhZ2VzLCBz
dHJ1Y3QgcGFnZSAqKnBhZ2VzKQogewogCWludCBpOwogCisJaWYgKHhoLT5vcHMtPmZyZWVfYmFs
bG9vbmVkX3BhZ2VzKQorCQlyZXR1cm4geGgtPm9wcy0+ZnJlZV9iYWxsb29uZWRfcGFnZXMoeGgs
IG5yX3BhZ2VzLCBwYWdlcyk7CisKIAltdXRleF9sb2NrKCZiYWxsb29uX211dGV4KTsKIAogCWZv
ciAoaSA9IDA7IGkgPCBucl9wYWdlczsgaSsrKSB7CmRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi9n
cmFudC10YWJsZS5jIGIvZHJpdmVycy94ZW4vZ3JhbnQtdGFibGUuYwppbmRleCA5OGFmMjU5ZDBk
NGYuLmVjOTA3Njk5MDdhNCAxMDA2NDQKLS0tIGEvZHJpdmVycy94ZW4vZ3JhbnQtdGFibGUuYwor
KysgYi9kcml2ZXJzL3hlbi9ncmFudC10YWJsZS5jCkBAIC04MDQsNyArODA0LDcgQEAgaW50IGdu
dHRhYl9hbGxvY19wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpCiB7CiAJ
aW50IHJldDsKIAotCXJldCA9IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgcGFn
ZXMpOworCXJldCA9IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdlcyh4aF9kZWZhdWx0LCBucl9wYWdl
cywgcGFnZXMpOwogCWlmIChyZXQgPCAwKQogCQlyZXR1cm4gcmV0OwogCkBAIC04MzksNyArODM5
LDcgQEAgRVhQT1JUX1NZTUJPTF9HUEwoZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZhdGUpOwogdm9p
ZCBnbnR0YWJfZnJlZV9wYWdlcyhpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpCiB7
CiAJZ250dGFiX3BhZ2VzX2NsZWFyX3ByaXZhdGUobnJfcGFnZXMsIHBhZ2VzKTsKLQlmcmVlX3hl
bmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgcGFnZXMpOworCWZyZWVfeGVuYmFsbG9vbmVkX3Bh
Z2VzKHhoX2RlZmF1bHQsIG5yX3BhZ2VzLCBwYWdlcyk7CiB9CiBFWFBPUlRfU1lNQk9MX0dQTChn
bnR0YWJfZnJlZV9wYWdlcyk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3ByaXZjbWQuYyBi
L2RyaXZlcnMveGVuL3ByaXZjbWQuYwppbmRleCBiNTU0MWY4NjI3MjAuLjg4Y2Q5OWU0ZjVjMSAx
MDA2NDQKLS0tIGEvZHJpdmVycy94ZW4vcHJpdmNtZC5jCisrKyBiL2RyaXZlcnMveGVuL3ByaXZj
bWQuYwpAQCAtNDI3LDcgKzQyNyw3IEBAIHN0YXRpYyBpbnQgYWxsb2NfZW1wdHlfcGFnZXMoc3Ry
dWN0IHZtX2FyZWFfc3RydWN0ICp2bWEsIGludCBudW1wZ3MpCiAJaWYgKHBhZ2VzID09IE5VTEwp
CiAJCXJldHVybiAtRU5PTUVNOwogCi0JcmMgPSBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMobnVt
cGdzLCBwYWdlcyk7CisJcmMgPSBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMoeGhfZGVmYXVsdCwg
bnVtcGdzLCBwYWdlcyk7CiAJaWYgKHJjICE9IDApIHsKIAkJcHJfd2FybigiJXMgQ291bGQgbm90
IGFsbG9jICVkIHBmbnMgcmM6JWRcbiIsIF9fZnVuY19fLAogCQkJbnVtcGdzLCByYyk7CkBAIC05
MjgsNyArOTI4LDcgQEAgc3RhdGljIHZvaWQgcHJpdmNtZF9jbG9zZShzdHJ1Y3Qgdm1fYXJlYV9z
dHJ1Y3QgKnZtYSkKIAogCXJjID0geGVuX3VubWFwX2RvbWFpbl9nZm5fcmFuZ2Uodm1hLCBudW1n
Zm5zLCBwYWdlcyk7CiAJaWYgKHJjID09IDApCi0JCWZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKG51
bXBncywgcGFnZXMpOworCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyh4aF9kZWZhdWx0LCBudW1w
Z3MsIHBhZ2VzKTsKIAllbHNlCiAJCXByX2NyaXQoInVuYWJsZSB0byB1bm1hcCBNRk4gcmFuZ2U6
IGxlYWtpbmcgJWQgcGFnZXMuIHJjPSVkXG4iLAogCQkJbnVtcGdzLCByYyk7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL3hlbi94ZW4tc2VsZmJhbGxvb24uYyBiL2RyaXZlcnMveGVuL3hlbi1zZWxmYmFs
bG9vbi5jCmluZGV4IDI0NmY2MTIyYzllZS4uODNhMzk5NWEzM2UzIDEwMDY0NAotLS0gYS9kcml2
ZXJzL3hlbi94ZW4tc2VsZmJhbGxvb24uYworKysgYi9kcml2ZXJzL3hlbi94ZW4tc2VsZmJhbGxv
b24uYwpAQCAtNzQsNiArNzQsOCBAQAogI2luY2x1ZGUgPGxpbnV4L21tYW4uaD4KICNpbmNsdWRl
IDxsaW51eC93b3JrcXVldWUuaD4KICNpbmNsdWRlIDxsaW51eC9kZXZpY2UuaD4KKyNpbmNsdWRl
IDx4ZW4vaW50ZXJmYWNlL3hlbi5oPgorI2luY2x1ZGUgPHhlbi94ZW5ob3N0Lmg+CiAjaW5jbHVk
ZSA8eGVuL2JhbGxvb24uaD4KICNpbmNsdWRlIDx4ZW4vdG1lbS5oPgogI2luY2x1ZGUgPHhlbi94
ZW4uaD4KZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfY2xpZW50LmMgYi9k
cml2ZXJzL3hlbi94ZW5idXMveGVuYnVzX2NsaWVudC5jCmluZGV4IGYwY2Y0Nzc2NTcyNi4uNTc0
OGZiYWYwMjM4IDEwMDY0NAotLS0gYS9kcml2ZXJzL3hlbi94ZW5idXMveGVuYnVzX2NsaWVudC5j
CisrKyBiL2RyaXZlcnMveGVuL3hlbmJ1cy94ZW5idXNfY2xpZW50LmMKQEAgLTU2Myw3ICs1NjMs
NyBAQCBzdGF0aWMgaW50IHhlbmJ1c19tYXBfcmluZ192YWxsb2NfaHZtKHN0cnVjdCB4ZW5idXNf
ZGV2aWNlICpkZXYsCiAJaWYgKCFub2RlKQogCQlyZXR1cm4gLUVOT01FTTsKIAotCWVyciA9IGFs
bG9jX3hlbmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgbm9kZS0+aHZtLnBhZ2VzKTsKKwllcnIg
PSBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMoeGhfZGVmYXVsdCwgbnJfcGFnZXMsIG5vZGUtPmh2
bS5wYWdlcyk7CiAJaWYgKGVycikKIAkJZ290byBvdXRfZXJyOwogCkBAIC02MDIsNyArNjAyLDcg
QEAgc3RhdGljIGludCB4ZW5idXNfbWFwX3JpbmdfdmFsbG9jX2h2bShzdHJ1Y3QgeGVuYnVzX2Rl
dmljZSAqZGV2LAogCQkJIGFkZHIsIG5yX3BhZ2VzKTsKICBvdXRfZnJlZV9iYWxsb29uZWRfcGFn
ZXM6CiAJaWYgKCFsZWFrZWQpCi0JCWZyZWVfeGVuYmFsbG9vbmVkX3BhZ2VzKG5yX3BhZ2VzLCBu
b2RlLT5odm0ucGFnZXMpOworCQlmcmVlX3hlbmJhbGxvb25lZF9wYWdlcyh4aF9kZWZhdWx0LCBu
cl9wYWdlcywgbm9kZS0+aHZtLnBhZ2VzKTsKICBvdXRfZXJyOgogCWtmcmVlKG5vZGUpOwogCXJl
dHVybiBlcnI7CkBAIC04NDksNyArODQ5LDcgQEAgc3RhdGljIGludCB4ZW5idXNfdW5tYXBfcmlu
Z192ZnJlZV9odm0oc3RydWN0IHhlbmJ1c19kZXZpY2UgKmRldiwgdm9pZCAqdmFkZHIpCiAJCQkg
ICAgICAgaW5mby5hZGRycyk7CiAJaWYgKCFydikgewogCQl2dW5tYXAodmFkZHIpOwotCQlmcmVl
X3hlbmJhbGxvb25lZF9wYWdlcyhucl9wYWdlcywgbm9kZS0+aHZtLnBhZ2VzKTsKKwkJZnJlZV94
ZW5iYWxsb29uZWRfcGFnZXMoeGhfZGVmYXVsdCwgbnJfcGFnZXMsIG5vZGUtPmh2bS5wYWdlcyk7
CiAJfQogCWVsc2UKIAkJV0FSTigxLCAiTGVha2luZyAlcCwgc2l6ZSAldSBwYWdlKHMpXG4iLCB2
YWRkciwgbnJfcGFnZXMpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4veGxhdGVfbW11LmMgYi9k
cml2ZXJzL3hlbi94bGF0ZV9tbXUuYwppbmRleCBlN2RmNjVkMzJjOTEuLmYyNWE4MGE0MDc2YiAx
MDA2NDQKLS0tIGEvZHJpdmVycy94ZW4veGxhdGVfbW11LmMKKysrIGIvZHJpdmVycy94ZW4veGxh
dGVfbW11LmMKQEAgLTIzMyw3ICsyMzMsNyBAQCBpbnQgX19pbml0IHhlbl94bGF0ZV9tYXBfYmFs
bG9vbmVkX3BhZ2VzKHhlbl9wZm5fdCAqKmdmbnMsIHZvaWQgKip2aXJ0LAogCQlrZnJlZShwYWdl
cyk7CiAJCXJldHVybiAtRU5PTUVNOwogCX0KLQlyYyA9IGFsbG9jX3hlbmJhbGxvb25lZF9wYWdl
cyhucl9wYWdlcywgcGFnZXMpOworCXJjID0gYWxsb2NfeGVuYmFsbG9vbmVkX3BhZ2VzKHhoX2Rl
ZmF1bHQsIG5yX3BhZ2VzLCBwYWdlcyk7CiAJaWYgKHJjKSB7CiAJCXByX3dhcm4oIiVzIENvdWxk
bid0IGJhbGxvb24gYWxsb2MgJWxkIHBhZ2VzIHJjOiVkXG4iLCBfX2Z1bmNfXywKIAkJCW5yX3Bh
Z2VzLCByYyk7CkBAIC0yNTAsNyArMjUwLDcgQEAgaW50IF9faW5pdCB4ZW5feGxhdGVfbWFwX2Jh
bGxvb25lZF9wYWdlcyh4ZW5fcGZuX3QgKipnZm5zLCB2b2lkICoqdmlydCwKIAlpZiAoIXZhZGRy
KSB7CiAJCXByX3dhcm4oIiVzIENvdWxkbid0IG1hcCAlbGQgcGFnZXMgcmM6JWRcbiIsIF9fZnVu
Y19fLAogCQkJbnJfcGFnZXMsIHJjKTsKLQkJZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMobnJfcGFn
ZXMsIHBhZ2VzKTsKKwkJZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMoeGhfZGVmYXVsdCwgbnJfcGFn
ZXMsIHBhZ2VzKTsKIAkJa2ZyZWUocGFnZXMpOwogCQlrZnJlZShwZm5zKTsKIAkJcmV0dXJuIC1F
Tk9NRU07CmRpZmYgLS1naXQgYS9pbmNsdWRlL3hlbi9iYWxsb29uLmggYi9pbmNsdWRlL3hlbi9i
YWxsb29uLmgKaW5kZXggNDkxNGI5M2EyM2YyLi5lOGZiNWE1ZWY0OTAgMTAwNjQ0Ci0tLSBhL2lu
Y2x1ZGUveGVuL2JhbGxvb24uaAorKysgYi9pbmNsdWRlL3hlbi9iYWxsb29uLmgKQEAgLTI0LDgg
KzI0LDggQEAgZXh0ZXJuIHN0cnVjdCBiYWxsb29uX3N0YXRzIGJhbGxvb25fc3RhdHM7CiAKIHZv
aWQgYmFsbG9vbl9zZXRfbmV3X3RhcmdldCh1bnNpZ25lZCBsb25nIHRhcmdldCk7CiAKLWludCBh
bGxvY194ZW5iYWxsb29uZWRfcGFnZXMoaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2Vz
KTsKLXZvaWQgZnJlZV94ZW5iYWxsb29uZWRfcGFnZXMoaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFn
ZSAqKnBhZ2VzKTsKK2ludCBhbGxvY194ZW5iYWxsb29uZWRfcGFnZXMoeGVuaG9zdF90ICp4aCwg
aW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2VzKTsKK3ZvaWQgZnJlZV94ZW5iYWxsb29u
ZWRfcGFnZXMoeGVuaG9zdF90ICp4aCwgaW50IG5yX3BhZ2VzLCBzdHJ1Y3QgcGFnZSAqKnBhZ2Vz
KTsKIAogc3RydWN0IGRldmljZTsKICNpZmRlZiBDT05GSUdfWEVOX1NFTEZCQUxMT09OSU5HCmRp
ZmYgLS1naXQgYS9pbmNsdWRlL3hlbi94ZW5ob3N0LmggYi9pbmNsdWRlL3hlbi94ZW5ob3N0LmgK
aW5kZXggYzlkYWJmNzM5ZmY4Li45ZTA4NjI3YTllM2UgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUveGVu
L3hlbmhvc3QuaAorKysgYi9pbmNsdWRlL3hlbi94ZW5ob3N0LmgKQEAgLTE5OCw2ICsxOTgsMjUg
QEAgdHlwZWRlZiBzdHJ1Y3QgeGVuaG9zdF9vcHMgewogCSAqIGdldCBhY2Nlc3NlZCB2aWEgcHZf
b3BzLmlycS4qIGFuZCB0aGUgZXZ0Y2huIGxvZ2ljLgogCSAqLwogCXZvaWQgKCpwcm9iZV92Y3B1
X2lkKSh4ZW5ob3N0X3QgKnhlbmhvc3QsIGludCBjcHUpOworCisJLyoKKwkgKiBXZSBvbmx5IHdh
bnQgdG8gZG8gYmFsbG9vbmluZyB3aXRoIHRoZSBkZWZhdWx0IHhlbmhvc3QgLS0gdHdvCisJICog
aHlwZXJ2aXNvcnMgbWFuYWdpbmcgYSBndWVzdCdzIG1lbW9yeSBpcyB1bmxpa2VseSB0byBsZWFk
IGFueXdoZXJlCisJICogZ29vZCBhbmQgeGVuYmFsbG9vbmVkIGZyYW1lcyBvYnRhaW5lZCBmcm9t
IHRoZSBkZWZhdWx0IHhlbmhvc3QgY2FuCisJICogYmUganVzdCBhcyB3ZWxsIHBvcHVsYXRlZCBi
eSB0aGUgcmVtb3RlIHhlbmhvc3QgKHdoaWNoIGlzIHdoYXQgd2UKKwkgKiB3aWxsIG5lZWQgaXQg
Zm9yLikKKwkgKgorCSAqIHhlbmhvc3RfcjE6IHVuY2hhbmdlZCBmcm9tIGJlZm9yZS4KKwkgKiB4
ZW5ob3N0X3IyOiBkaXNhbGxvd2VkLgorCSAqIHhlbmhvc3RfcjA6IGZvciBhIGxvY2FsIHhlbmhv
c3QsIHVubGlrZSBYZW4sIHRoZXJlJ3Mgbm8gZXh0ZXJuYWwgZW50aXR5CisJICogIHdoaWNoIGNh
biByZW1hcCBwYWdlcywgc28gdGhlIGJhbGxvb24gYWxvY2F0aW9uIGhlcmUganVzdCByZXR1cm5z
IHBhZ2UtMC4KKwkgKiAgV2hlbiB0aGUgYWxsb2NhdGVkIHBhZ2UgaXMgdXNlZCAoaW4gR05UVEFC
T1BfbWFwX2dyYW50X3JlZiksIHdlIGZpeCB0aGlzCisJICogIHVwIGJ5IHJldHVybmluZyB0aGUg
Y29ycmVjdCBwYWdlLgorCSAqLworCisJaW50ICgqYWxsb2NfYmFsbG9vbmVkX3BhZ2VzKSh4ZW5o
b3N0X3QgKnhoLCBpbnQgbnJfcGFnZXMsIHN0cnVjdCBwYWdlICoqcGFnZXMpOworCXZvaWQgKCpm
cmVlX2JhbGxvb25lZF9wYWdlcykoeGVuaG9zdF90ICp4aCwgaW50IG5yX3BhZ2VzLCBzdHJ1Y3Qg
cGFnZSAqKnBhZ2VzKTsKKwogfSB4ZW5ob3N0X29wc190OwogCiBleHRlcm4geGVuaG9zdF90ICp4
aF9kZWZhdWx0LCAqeGhfcmVtb3RlOwotLSAKMi4yMC4xCgoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2
ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWls
bWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

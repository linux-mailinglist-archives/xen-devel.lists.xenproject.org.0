Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 55445396B7
	for <lists+xen-devel@lfdr.de>; Fri,  7 Jun 2019 22:21:15 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hZLIQ-0007jZ-6o; Fri, 07 Jun 2019 20:17:06 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Ezar=UG=gmail.com=amittomer25@srs-us1.protection.inumbo.net>)
 id 1hZLIO-0007jU-Sp
 for xen-devel@lists.xenproject.org; Fri, 07 Jun 2019 20:17:04 +0000
X-Inumbo-ID: 36451464-8961-11e9-8980-bc764e045a96
Received: from mail-pg1-x543.google.com (unknown [2607:f8b0:4864:20::543])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 36451464-8961-11e9-8980-bc764e045a96;
 Fri, 07 Jun 2019 20:17:03 +0000 (UTC)
Received: by mail-pg1-x543.google.com with SMTP id e6so1708948pgd.9
 for <xen-devel@lists.xenproject.org>; Fri, 07 Jun 2019 13:17:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=ly5R+H10S5abdlkuxBh62hCykSR5MjUgLJv/9fngX3o=;
 b=iVcxuC8ZHBzyx1B13nnzjSTVHfPBrLzRvgifmo6ryxfOZthK0W1RFBwmGmAowOohG8
 oFjSXuOXrd5TNYf5quhLWKvwyGBBPdyUQofQUcZJfEb6Bzzs7BwewgGFBYwioHgjj2YM
 adn4q57D4+Q2MXNtJOFt5mdoLEz2HnFoypg2ghxxcBzOTZj60sbbqBCWIyYgmUJ12hsJ
 H6PyBQaIP7+3U9hbnhMnKZ9OA9hy8hAQ7lzqS9Eqcjt1Yo2zhlAuy+m718D/kCePpIni
 qOu5qrdNgKGc2E7WGpRLmU53H3AViVnkXCiH3i9kaY6AYpjpIMrUKLUt4Iqv/mviHapH
 VKlQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=ly5R+H10S5abdlkuxBh62hCykSR5MjUgLJv/9fngX3o=;
 b=IMPeXLuaoHcZgN5ua1LqLK2SevXLJb3kAPeiWH6ATopFfa1NtO6gY5V02d9nUyE9dj
 KyU1izirPxPAN+XmKIYheU9h+04VLJsXdxjlpcSVrr7eoV/9atZ3K7mSktNVytZm8meh
 Nkp1IsJumTfaS5320HLSqqeH2AQhkG4gtz9sXVGVpMDSzEonUwVaCEXrxWA7Yl+Pc3gg
 dNxb7xPPA+FcMVt4hON0Qp35ocK3QrVi4NibFEbxuAEkMhZQT0wvVvWKdkchOgnJPp5K
 ydj8jR2u0pOImEhRdKGSkPo5JrQOzFnFPntWrjj6bzKoAIH9VzQlCjcdj2mEfUQW5n2P
 QACg==
X-Gm-Message-State: APjAAAXx3DpMQZFq0IL/eVlXy90LBY0YBt/SnxDqC/3bDaHH/2hd+wx5
 xRuW0JKSbJ0yZYJ6VauBPGy9y73N
X-Google-Smtp-Source: APXvYqwZH0/pAriyuJ3WXSz13BdJwuBnxFLz9hL1xibqc6kcBcGhSIeRVn+u43w9QFxVvKfhh18eiw==
X-Received: by 2002:a62:3287:: with SMTP id y129mr4707152pfy.251.1559938621744; 
 Fri, 07 Jun 2019 13:17:01 -0700 (PDT)
Received: from localhost.localdomain ([223.233.80.237])
 by smtp.gmail.com with ESMTPSA id a12sm4407502pgq.0.2019.06.07.13.16.58
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Fri, 07 Jun 2019 13:17:00 -0700 (PDT)
From: Amit Singh Tomar <amittomer25@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Sat,  8 Jun 2019 01:46:36 +0530
Message-Id: <1559938596-5696-3-git-send-email-amittomer25@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1559938596-5696-1-git-send-email-amittomer25@gmail.com>
References: <1559938596-5696-1-git-send-email-amittomer25@gmail.com>
Subject: [Xen-devel] [RFC PATCH 2/2] xen/arm: Add UART driver for i.MX8MQ SoC
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: andre.przywara@arm.com, julien.grall@arm.com, sstabellini@kernel.org,
 peng.fan@nxp.com, Amit Singh Tomar <amittomer25@gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBwYXRjaCBhZGRzIGRyaXZlciBmb3IgVUFSVCBjb250cm9sbGVyIGZvdW5kIG9uIGkuTVg4
TVEgU29DCmFuZCBpdCBoYXMgYmVlbiB0ZXN0ZWQgb24gbml0cm9nZW44bSBib2FyZC4KCkNvbnRy
b2xsZXIgcmVnaXN0ZXIgZGVmaW5hdGlvbiBhbmQgc29tZSBvdGhlciByZWZlcmVuY2VzIGhhcyBk
cmF3biBmcm9tIExpbnV4Cmtlcm5lbCBkcml2ZXJbMV0gdjUuMi4KClsxXTpodHRwczovL2dpdGh1
Yi5jb20vdG9ydmFsZHMvbGludXgvYmxvYi9tYXN0ZXIvZHJpdmVycy90dHkvc2VyaWFsL2lteC5j
CgpTaWduZWQtb2ZmLWJ5OiBBbWl0IFNpbmdoIFRvbWFyIDxhbWl0dG9tZXIyNUBnbWFpbC5jb20+
Ci0tLQogeGVuL2RyaXZlcnMvY2hhci9LY29uZmlnICAgICAgIHwgICA4ICsrCiB4ZW4vZHJpdmVy
cy9jaGFyL01ha2VmaWxlICAgICAgfCAgIDEgKwogeGVuL2RyaXZlcnMvY2hhci9pbXg4bXEtdWFy
dC5jIHwgMzA2ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCiAzIGZp
bGVzIGNoYW5nZWQsIDMxNSBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgeGVuL2Ry
aXZlcnMvY2hhci9pbXg4bXEtdWFydC5jCgpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvY2hhci9L
Y29uZmlnIGIveGVuL2RyaXZlcnMvY2hhci9LY29uZmlnCmluZGV4IGI1NzIzMDUuLmY4MjJhZjUg
MTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL2NoYXIvS2NvbmZpZworKysgYi94ZW4vZHJpdmVycy9j
aGFyL0tjb25maWcKQEAgLTEyLDYgKzEyLDE0IEBAIGNvbmZpZyBIQVNfQ0FERU5DRV9VQVJUCiAJ
ICBUaGlzIHNlbGVjdHMgdGhlIFhpbGlueCBaeW5xIENhZGVuY2UgVUFSVC4gSWYgeW91IGhhdmUg
YSBYaWxpbnggWnlucQogCSAgYmFzZWQgYm9hcmQsIHNheSBZLgogCitjb25maWcgSEFTX0lNWDhN
UQorICAgICAgICBib29sICJpLk1YOE1RIFVBUlQgIgorICAgICAgICBkZWZhdWx0IHkKKyAgICAg
ICAgZGVwZW5kcyBvbiBBUk1fNjQKKyAgICAgICAgaGVscAorICAgICAgICAgIFRoaXMgc2VsZWN0
cyB0aGUgTlhQIGkuTVggVUFSVC4gSWYgeW91IGhhdmUgYSBOWFAgaS5NWDhNUQorICAgICAgICAg
IGJhc2VkIGJvYXJkLCBzYXkgWS4KKwogY29uZmlnIEhBU19NVkVCVQogCWJvb2wgIk1hcnZlbGwg
TVZFQlUgVUFSVCBkcml2ZXIiCiAJZGVmYXVsdCB5CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9j
aGFyL01ha2VmaWxlIGIveGVuL2RyaXZlcnMvY2hhci9NYWtlZmlsZQppbmRleCA3YzY0NmQ3Li5h
YTFiYjI5IDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9jaGFyL01ha2VmaWxlCisrKyBiL3hlbi9k
cml2ZXJzL2NoYXIvTWFrZWZpbGUKQEAgLTEsNiArMSw3IEBACiBvYmoteSArPSBjb25zb2xlLm8K
IG9iai0kKENPTkZJR19IQVNfTlMxNjU1MCkgKz0gbnMxNjU1MC5vCiBvYmotJChDT05GSUdfSEFT
X0NBREVOQ0VfVUFSVCkgKz0gY2FkZW5jZS11YXJ0Lm8KK29iai0kKENPTkZJR19IQVNfSU1YOE1R
KSArPSBpbXg4bXEtdWFydC5vCiBvYmotJChDT05GSUdfSEFTX1BMMDExKSArPSBwbDAxMS5vCiBv
YmotJChDT05GSUdfSEFTX0VYWU5PUzQyMTApICs9IGV4eW5vczQyMTAtdWFydC5vCiBvYmotJChD
T05GSUdfSEFTX01FU09OKSArPSBtZXNvbi11YXJ0Lm8KZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJz
L2NoYXIvaW14OG1xLXVhcnQuYyBiL3hlbi9kcml2ZXJzL2NoYXIvaW14OG1xLXVhcnQuYwpuZXcg
ZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi45MGZkNjQ5Ci0tLSAvZGV2L251bGwKKysr
IGIveGVuL2RyaXZlcnMvY2hhci9pbXg4bXEtdWFydC5jCkBAIC0wLDAgKzEsMzA2IEBACisvKgor
ICogeGVuL2RyaXZlcnMvY2hhci9pbXg4bXEtdWFydC5jCisgKgorICogRHJpdmVyIGZvciBpLk1Y
OE1RIFVBUlQuCisgKgorICogQ29weXJpZ2h0IChjKSAyMDE5LCBBbWl0IFNpbmdoIFRvbWFyIDxh
bWl0dG9tZXIyNUBnbWFpbC5jb20+LgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3
YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKKyAqIG1vZGlmeSBpdCB1bmRlciB0
aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYworICogTGlj
ZW5zZSwgdmVyc2lvbiAyLCBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRh
dGlvbi4KKyAqCisgKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhh
dCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91
dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklU
TkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQorICogR2VuZXJhbCBQ
dWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgorICoKKyAqIFlvdSBzaG91bGQgaGF2ZSBy
ZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYworICogTGljZW5zZSBhbG9u
ZyB3aXRoIHRoaXMgcHJvZ3JhbTsgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNl
bnNlcy8+LgorICovCisKKyNpbmNsdWRlIDx4ZW4vaXJxLmg+CisjaW5jbHVkZSA8eGVuL3Nlcmlh
bC5oPgorI2luY2x1ZGUgPHhlbi92bWFwLmg+CisjaW5jbHVkZSA8YXNtL2lvLmg+CisjaW5jbHVk
ZSA8eGVuL2RlbGF5Lmg+CisjaW5jbHVkZSA8eGVuL2NvbnNvbGUuaD4KKworLyogUmVnaXN0ZXIg
ZGVmaW5pdGlvbnMgKi8KKyNkZWZpbmUgVVJYRCAgICAweDAgIC8qIFJlY2VpdmVyIFJlZ2lzdGVy
ICovCisjZGVmaW5lIFVUWEQgICAgMHg0MCAvKiBUcmFuc21pdHRlciBSZWdpc3RlciAqLworI2Rl
ZmluZSBVQ1IxICAgIDB4ODAgLyogQ29udHJvbCBSZWdpc3RlciAxICovCisjZGVmaW5lIFVDUjIg
ICAgMHg4NCAvKiBDb250cm9sIFJlZ2lzdGVyIDIgKi8KKyNkZWZpbmUgVUNSNCAgICAweDhjIC8q
IENvbnRyb2wgUmVnaXN0ZXIgNCAqLworI2RlZmluZSBVU1IxICAgIDB4OTQgLyogU3RhdHVzIFJl
Z2lzdGVyIDEgKi8KKyNkZWZpbmUgVVNSMiAgICAweDk4IC8qIFN0YXR1cyBSZWdpc3RlciAyICov
CisjZGVmaW5lIFVCSVIgICAgMHhhNCAvKiBCUk0gSW5jcmVtZW50YWwgUmVnaXN0ZXIgKi8KKyNk
ZWZpbmUgVUJNUiAgICAweGE4IC8qIEJSTSBNb2R1bGF0b3IgUmVnaXN0ZXIgKi8KKyNkZWZpbmUg
VVRTICAgICAweGI0IC8qIFVBUlQgVGVzdCBSZWdpc3RlciAqLworCisvKiBVQVJUIENvbnRyb2wg
UmVnaXN0ZXIgQml0IEZpZWxkcyAqLworI2RlZmluZSAgVUNSMV9BREVOICAgICAgKDE8PDE1KSAv
KiBBdXRvIGRlY3RlY3QgaW50ZXJydXB0ICovCisjZGVmaW5lICBVQ1IxX1RSRFlFTiAgICAoMTw8
MTMpIC8qIFRyYW5zbWl0dGVyIHJlYWR5IGludGVycnVwdCBlbmFibGUgKi8KKyNkZWZpbmUgIFVD
UjFfSURFTiAgICAgICgxPDwxMikgLyogSWRsZSBjb25kaXRpb24gaW50ZXJydXB0ICovCisjZGVm
aW5lICBVQ1IxX1JSRFlFTiAgICAoMTw8OSkgIC8qIFJlY3YgcmVhZHkgaW50ZXJydXB0IGVuYWJs
ZSAqLworI2RlZmluZSAgVUNSMV9UWE1QVFlFTiAgKDE8PDYpICAvKiBUcmFuc2ltaXR0ZXIgZW1w
dHkgaW50ZXJydXB0IGVuYWJsZSAqLworI2RlZmluZSAgVUNSMV9SVFNERU4gICAgKDE8PDUpICAv
KiBSVFMgZGVsdGEgaW50ZXJydXB0IGVuYWJsZSAqLworI2RlZmluZSAgVUNSMV9URE1BRU4gICAg
KDE8PDMpICAvKiBUcmFuc21pdHRlciByZWFkeSBETUEgZW5hYmxlICovCisjZGVmaW5lICBVQ1Ix
X1VBUlRFTiAgICAoMTw8MCkgIC8qIFVBUlQgZW5hYmxlZCAqLworCisjZGVmaW5lIFVDUjJfVFhF
TiAgICAgICAoMTw8MikgIC8qIFRyYW5zbWl0dGVyIGVuYWJsZWQgKi8KKyNkZWZpbmUgVUNSMl9S
WEVOICAgICAgICgxPDwxKSAgLyogUmVjZWl2ZXIgZW5hYmxlZCAqLworI2RlZmluZSBVQ1IyX0lS
VFMgICAgICAgKDE8PDE0KSAvKiBJZ25vcmUgUlRTIHBpbiAqLworI2RlZmluZSBVQ1IyX1NSU1Qg
ICAgICAgKDE8PDApICAvKiBTVyByZXNldCAqLworI2RlZmluZSBVQ1IyX1dTICAgICAgICAgKDE8
PDUpICAvKiBXb3JkIHNpemUgKi8KKyNkZWZpbmUgVUNSNF9UQ0VOICAgICAgICgxPDwzKSAgLyog
VHJhbnNtaXQgY29tcGxldGUgaW50ZXJydXB0IGVuYWJsZSAqLworI2RlZmluZSBVQ1I0X0RSRU4g
ICAgICAgKDE8PDApICAvKiBSZWN2IGRhdGEgcmVhZHkgaW50ZXJydXB0IGVuYWJsZSAqLworCisj
ZGVmaW5lIFVUU19UWEVNUFRZICAgICAoMTw8NikgIC8qIFR4RklGTyBlbXB0eSAqLworI2RlZmlu
ZSBVVFNfUlhFTVBUWSAgICAgKDE8PDUpICAvKiBSeEZJRk8gZW1wdHkgKi8KKyNkZWZpbmUgVVRT
X1RYRlVMTCAgICAgICgxPDw0KSAgLyogVHhGSUZPIGZ1bGwgKi8KKworI2RlZmluZSBVU1IxX1RS
RFkgICAgICAgKDE8PDEzKSAvKiBUcmFuc21pdHRlciByZWFkeSBpbnRlcnJ1cHQvZG1hIGZsYWcg
Ki8KKyNkZWZpbmUgVVNSMV9SUkRZICAgICAgICgxPDw5KSAgLyogUmVjZWl2ZXIgcmVhZHkgaW50
ZXJydXB0L2RtYSBmbGFnICovCisKKyNkZWZpbmUgVVNSMl9UWERDICAgICAgICgxPDwzKSAgLyog
VHJhbnNtaXR0ZXIgY29tcGxldGUgKi8KKworI2RlZmluZSBUWEZJRk9fU0laRSAgICAgMzIKKwor
I2RlZmluZSBzZXRiaXRzKGFkZHIsIHNldCkgICAgICB3cml0ZWwoKHJlYWRsKGFkZHIpIHwgKHNl
dCkpLCAoYWRkcikpCisjZGVmaW5lIGNscmJpdHMoYWRkciwgY2xlYXIpICAgIHdyaXRlbCgocmVh
ZGwoYWRkcikgJiB+KGNsZWFyKSksIChhZGRyKSkKKworc3RhdGljIHN0cnVjdCBpbXg4bXFfdWFy
dCB7CisgICAgdW5zaWduZWQgaW50IGlycTsKKyAgICB2b2lkIF9faW9tZW0gKnJlZ3M7CisgICAg
c3RydWN0IGlycWFjdGlvbiBpcnFhY3Rpb247CisgICAgc3RydWN0IHZ1YXJ0X2luZm8gdnVhcnQ7
Cit9IGlteDhtcV9jb207CisKK3N0YXRpYyB2b2lkIGlteDhtcV91YXJ0X2ludGVycnVwdChpbnQg
aXJxLCB2b2lkICpkYXRhLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQoreworICAgIHN0cnVjdCBzZXJpYWxfcG9ydCAqcG9y
dCA9IGRhdGE7CisgICAgc3RydWN0IGlteDhtcV91YXJ0ICp1YXJ0ID0gcG9ydC0+dWFydDsKKyAg
ICB1aW50MzJfdCBzdDEgPSByZWFkbCh1YXJ0LT5yZWdzICsgVVNSMSk7CisgICAgdWludDMyX3Qg
c3QyID0gcmVhZGwodWFydC0+cmVncyArIFVTUjIpOworCisgICAgaWYgKCBzdDEgJiAoVVNSMV9S
UkRZKSApCisgICAgICAgIHNlcmlhbF9yeF9pbnRlcnJ1cHQocG9ydCwgcmVncyk7CisKKyAgICBp
ZiAoIChzdDEgJiBVU1IxX1RSRFkpIHx8IChzdDIgJiBVU1IyX1RYREMpICkKKyAgICAgICAgc2Vy
aWFsX3R4X2ludGVycnVwdChwb3J0LCByZWdzKTsKK30KKworc3RhdGljIHZvaWQgc2V0X2JhdWRy
YXRlKHN0cnVjdCBpbXg4bXFfdWFydCAqdWFydCkKK3sKKyAgICAvKiBOZWVkZWQgZm9yIGF1dG9t
YXRpYyBiYXVkIHJhdGUgZGV0ZWN0aW9uICovCisgICAgd3JpdGVsKDB4ZiwgdWFydC0+cmVncyAr
IFVCSVIpOworICAgIHdyaXRlbCgoMjUwMDAwMDAgLyAoMiAqIDExNTIwMCkpLCB1YXJ0LT5yZWdz
ICsgVUJNUik7CisgICAgd3JpdGVsKChVQ1IyX1dTIHwgVUNSMl9JUlRTIHwgVUNSMl9SWEVOIHwg
VUNSMl9UWEVOIHwgVUNSMl9TUlNUKSwKKyAgICAgICAgICAgIHVhcnQtPnJlZ3MgKyBVQ1IyKTsg
ICAKKyAgICB3cml0ZWwoVUNSMV9VQVJURU4sIHVhcnQtPnJlZ3MgKyBVQ1IxKTsKK30KKworc3Rh
dGljIHZvaWQgX19pbml0IGlteDhtcV91YXJ0X2luaXRfcHJlaXJxKHN0cnVjdCBzZXJpYWxfcG9y
dCAqcG9ydCkKK3sKKyAgICBzdHJ1Y3QgaW14OG1xX3VhcnQgKnVhcnQgPSBwb3J0LT51YXJ0Owor
CisgICAgY2xyYml0cyh1YXJ0LT5yZWdzICsgVUNSMSwKKyAgICAgICAgICAgIFVDUjFfQURFTiB8
IFVDUjFfSURFTiB8IFVDUjFfUlJEWUVOIHwgVUNSMV9SVFNERU4pOworCisgICAgLyogRGlzYWJs
ZSByZWNlaXZlciAqLworICAgIGNscmJpdHModWFydC0+cmVncyArIFVDUjIsIFVDUjJfUlhFTik7
Cit9CisKK3N0YXRpYyB2b2lkIF9faW5pdCBpbXg4bXFfdWFydF9pbml0X3Bvc3RpcnEoc3RydWN0
IHNlcmlhbF9wb3J0ICpwb3J0KQoreworICAgIHN0cnVjdCBpbXg4bXFfdWFydCAqdWFydCA9IHBv
cnQtPnVhcnQ7CisKKyAgICB1YXJ0LT5pcnFhY3Rpb24uaGFuZGxlciA9IGlteDhtcV91YXJ0X2lu
dGVycnVwdDsKKyAgICB1YXJ0LT5pcnFhY3Rpb24ubmFtZSAgICA9ICJpbXg4bXFfdWFydCI7Cisg
ICAgdWFydC0+aXJxYWN0aW9uLmRldl9pZCAgPSBwb3J0OworCisgICAgaWYgKCBzZXR1cF9pcnEo
dWFydC0+aXJxLCAwLCAmdWFydC0+aXJxYWN0aW9uKSAhPSAwICkKKyAgICB7CisgICAgICAgIHBy
aW50aygiRmFpbGVkIHRvIGFsbG9jYXRlZCBpbXg4bXFfdWFydCBJUlEgJWRcbiIsIHVhcnQtPmly
cSk7CisgICAgICAgIHJldHVybjsKKyAgICB9CisKKyAgICBzZXRiaXRzKHVhcnQtPnJlZ3MgKyBV
Q1IxLAorICAgICAgICAgICAgVUNSMV9BREVOIHwgVUNSMV9UUkRZRU4gfCBVQ1IxX0lERU4gCisg
ICAgICAgICAgICB8IFVDUjFfUlJEWUVOIHwgVUNSMV9UWE1QVFlFTiB8IFVDUjFfUlRTREVOKTsK
KyAgICAvKiBFbmFibGUgcmVjZWl2ZXIgKi8KKyAgICBzZXRiaXRzKHVhcnQtPnJlZ3MgKyBVQ1Iy
LCBVQ1IyX1JYRU4pOworICAgIC8qIEdlbmVyYWxseSB3ZSBkbyBzb2Z0IHJlc2V0IGluIHByZWly
cSBzdGFnZSBidXQgaGVyZSByZXNldCBkb2VzIGVtcHR5IHRoZQorICAgICAgIFR4IEZJRk8gYW5k
IHRyaWdnZXJzIFR4IGludGVycnVwdCB3aGljaCBzaG91bGQgYmUgZW5hYmxlZCBieSBub3cKKyAg
ICAqLworICAgIGNscmJpdHModWFydC0+cmVncyArIFVDUjIsIFVDUjJfU1JTVCk7CisgICAgd2hp
bGUgKCEocmVhZGwodWFydC0+cmVncyArIFVDUjIpICYgVUNSMl9TUlNUKSkKKyAgICA7CisKKyAg
ICBzZXRfYmF1ZHJhdGUodWFydCk7Cit9CisKK3N0YXRpYyB2b2lkIGlteDhtcV91YXJ0X3N1c3Bl
bmQoc3RydWN0IHNlcmlhbF9wb3J0ICpwb3J0KQoreworICAgIEJVRygpOworfQorCitzdGF0aWMg
dm9pZCBpbXg4bXFfdWFydF9yZXN1bWUoc3RydWN0IHNlcmlhbF9wb3J0ICpwb3J0KQoreworICAg
IEJVRygpOworfQorCitzdGF0aWMgdm9pZCBpbXg4bXFfdWFydF9wdXRjKHN0cnVjdCBzZXJpYWxf
cG9ydCAqcG9ydCwgY2hhciBjKQoreworICAgIHN0cnVjdCBpbXg4bXFfdWFydCAqdWFydCA9IHBv
cnQtPnVhcnQ7CisKKyAgICB3cml0ZWwoYywgdWFydC0+cmVncyArIFVUWEQpOworfQorCitzdGF0
aWMgaW50IGlteDhtcV91YXJ0X3R4X3JlYWR5KHN0cnVjdCBzZXJpYWxfcG9ydCAqcG9ydCkKK3sK
KyAgICBzdHJ1Y3QgaW14OG1xX3VhcnQgKnVhcnQgPSBwb3J0LT51YXJ0OworICAgIHVpbnQzMl90
IHJlZzsKKworICAgIHJlZyA9IHJlYWRsKHVhcnQtPnJlZ3MgKyBVVFMpOworCisgICAgaWYoIHJl
ZyAmIFVUU19UWEVNUFRZKQorICAgICAgICByZXR1cm4gVFhGSUZPX1NJWkU7CisgICAgaWYgKCBy
ZWcgJiBVVFNfVFhGVUxMKQorICAgICAgICByZXR1cm4gMDsKKworICAgIHJldHVybiAxOworfQor
CitzdGF0aWMgdm9pZCBpbXg4bXFfdWFydF9zdG9wX3R4KHN0cnVjdCBzZXJpYWxfcG9ydCAqcG9y
dCkKK3sKKworICAgIHN0cnVjdCBpbXg4bXFfdWFydCAqdWFydCA9IHBvcnQtPnVhcnQ7CisgICAg
CisgICAgc2V0Yml0cyh1YXJ0LT5yZWdzICsgVUNSMSwgVUNSMV9SUkRZRU4pOworICAgIGNscmJp
dHModWFydC0+cmVncyArIFVDUjEsIChVQ1IxX1RYTVBUWUVOIHwgVUNSMV9URE1BRU4pKTsKKyAg
ICBjbHJiaXRzKHVhcnQtPnJlZ3MgKyBVQ1I0LCBVQ1I0X1RDRU4pOworfQorCitzdGF0aWMgdm9p
ZCBpbXg4bXFfdWFydF9zdGFydF90eChzdHJ1Y3Qgc2VyaWFsX3BvcnQgKnBvcnQpCit7CisgICAg
c3RydWN0IGlteDhtcV91YXJ0ICp1YXJ0ID0gcG9ydC0+dWFydDsKKworICAgIGNscmJpdHModWFy
dC0+cmVncyArIFVDUjQsIFVDUjRfRFJFTik7CisgICAgY2xyYml0cyh1YXJ0LT5yZWdzICsgVUNS
MSwgVUNSMV9URE1BRU4gfCBVQ1IxX1JSRFlFTik7CisgICAgc2V0Yml0cyh1YXJ0LT5yZWdzICsg
VUNSMiwgVUNSMl9UWEVOIHwgVUNSMl9SWEVOKTsKKyAgICBzZXRiaXRzKHVhcnQtPnJlZ3MgKyBV
Q1IxLCBVQ1IxX1RYTVBUWUVOKTsKK30KKworCitzdGF0aWMgaW50IF9faW5pdCBpbXg4bXFfaXJx
KHN0cnVjdCBzZXJpYWxfcG9ydCAqcG9ydCkKK3sKKyAgICBzdHJ1Y3QgaW14OG1xX3VhcnQgKnVh
cnQgPSBwb3J0LT51YXJ0OworCisgICAgcmV0dXJuIHVhcnQtPmlycTsKK30KKworc3RhdGljIGNv
bnN0IHN0cnVjdCB2dWFydF9pbmZvICppbXg4bXFfdnVhcnRfaW5mbyhzdHJ1Y3Qgc2VyaWFsX3Bv
cnQgKnBvcnQpCit7CisgICAgc3RydWN0IGlteDhtcV91YXJ0ICp1YXJ0ID0gcG9ydC0+dWFydDsK
KworICAgIHJldHVybiAmdWFydC0+dnVhcnQ7Cit9CisKK3N0YXRpYyBpbnQgaW14OG1xX3VhcnRf
Z2V0YyhzdHJ1Y3Qgc2VyaWFsX3BvcnQgKnBvcnQsIGNoYXIgKmMpCit7CisgICAgc3RydWN0IGlt
eDhtcV91YXJ0ICp1YXJ0ID0gcG9ydC0+dWFydDsKKworICAgIGlmICggKHJlYWRsKHVhcnQtPnJl
Z3MgKyBVVFMpICYgVVRTX1JYRU1QVFkpICkKKyAgICAgICAgcmV0dXJuIDA7CisKKyAgICAqYyA9
IHJlYWRsKHVhcnQtPnJlZ3MgKyBVUlhEKSAmIDB4ZmY7CisKKyAgICByZXR1cm4gMTsKK30KKwor
c3RhdGljIHN0cnVjdCB1YXJ0X2RyaXZlciBfX3JlYWRfbW9zdGx5IGlteDhtcV91YXJ0X2RyaXZl
ciA9IHsKKyAgICAuaW5pdF9wcmVpcnEgID0gaW14OG1xX3VhcnRfaW5pdF9wcmVpcnEsCisgICAg
LmluaXRfcG9zdGlycSA9IGlteDhtcV91YXJ0X2luaXRfcG9zdGlycSwKKyAgICAuZW5kYm9vdCAg
ICAgID0gTlVMTCwKKyAgICAuc3VzcGVuZCAgICAgID0gaW14OG1xX3VhcnRfc3VzcGVuZCwKKyAg
ICAucmVzdW1lICAgICAgID0gaW14OG1xX3VhcnRfcmVzdW1lLAorICAgIC5wdXRjICAgICAgICAg
PSBpbXg4bXFfdWFydF9wdXRjLAorICAgIC5nZXRjICAgICAgICAgPSBpbXg4bXFfdWFydF9nZXRj
LAorICAgIC50eF9yZWFkeSAgICAgPSBpbXg4bXFfdWFydF90eF9yZWFkeSwKKyAgICAuc3RvcF90
eCAgICAgID0gaW14OG1xX3VhcnRfc3RvcF90eCwKKyAgICAuc3RhcnRfdHggICAgID0gaW14OG1x
X3VhcnRfc3RhcnRfdHgsCisgICAgLmlycSAgICAgICAgICA9IGlteDhtcV9pcnEsCisgICAgLnZ1
YXJ0X2luZm8gICA9IGlteDhtcV92dWFydF9pbmZvLAorfTsKKworc3RhdGljIGludCBfX2luaXQg
aW14OG1xX3VhcnRfaW5pdChzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgKmRldiwgY29uc3Qgdm9pZCAq
ZGF0YSkKK3sKKyAgICBjb25zdCBjaGFyICpjb25maWcgPSBkYXRhOworICAgIHN0cnVjdCBpbXg4
bXFfdWFydCAqdWFydDsKKyAgICBpbnQgcmVzOworICAgIHU2NCBhZGRyLCBzaXplOworCisgICAg
aWYgKCBzdHJjbXAoY29uZmlnLCAiIikgKQorICAgICAgICBwcmludGsoIldBUk5JTkc6IFVBUlQg
Y29uZmlndXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkXG4iKTsKKworICAgIHVhcnQgPSAmaW14OG1x
X2NvbTsKKworICAgIHJlcyA9IGR0X2RldmljZV9nZXRfYWRkcmVzcyhkZXYsIDAsICZhZGRyLCAm
c2l6ZSk7CisgICAgaWYgKCByZXMgKQorICAgIHsKKyAgICAgICAgcHJpbnRrKCJpbXg4bXEzNzAw
OiBVbmFibGUgdG8gcmV0cmlldmUgdGhlIGJhc2UgYWRkcmVzcyBvZiB0aGUgVUFSVFxuIik7Cisg
ICAgICAgIHJldHVybiByZXM7CisgICAgfQorCisgICAgcmVzID0gcGxhdGZvcm1fZ2V0X2lycShk
ZXYsIDApOworICAgIGlmICggcmVzIDwgMCApCisgICAgeworICAgICAgICBwcmludGsoImlteDht
cTogVW5hYmxlIHRvIHJldHJpZXZlIHRoZSBJUlFcbiIpOworICAgICAgICByZXR1cm4gLUVJTlZB
TDsKKyAgICB9CisKKyAgICB1YXJ0LT5pcnEgID0gcmVzOworCisgICAgdWFydC0+cmVncyA9IGlv
cmVtYXBfbm9jYWNoZShhZGRyLCBzaXplKTsKKyAgICBpZiAoICF1YXJ0LT5yZWdzICkKKyAgICB7
CisgICAgICAgIHByaW50aygiaW14OG1xMzcwMDogVW5hYmxlIHRvIG1hcCB0aGUgVUFSVCBtZW1v
cnlcbiIpOworICAgICAgICByZXR1cm4gLUVOT01FTTsKKyAgICB9CisgICAKKyAgICB1YXJ0LT52
dWFydC5iYXNlX2FkZHIgPSBhZGRyOworICAgIHVhcnQtPnZ1YXJ0LnNpemUgPSBzaXplOworICAg
IHVhcnQtPnZ1YXJ0LmRhdGFfb2ZmID0gVUNSMTsKKyAgICB1YXJ0LT52dWFydC5zdGF0dXNfb2Zm
ID0gVVRTOworICAgIHVhcnQtPnZ1YXJ0LnN0YXR1cyA9IFVTUjE7CisKKyAgICAvKiBSZWdpc3Rl
ciB3aXRoIGdlbmVyaWMgc2VyaWFsIGRyaXZlci4gKi8KKyAgICBzZXJpYWxfcmVnaXN0ZXJfdWFy
dChTRVJITkRfRFRVQVJULCAmaW14OG1xX3VhcnRfZHJpdmVyLCB1YXJ0KTsKKworICAgIGR0X2Rl
dmljZV9zZXRfdXNlZF9ieShkZXYsIERPTUlEX1hFTik7CisKKyAgICByZXR1cm4gMDsKK30KKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkdF9kZXZpY2VfbWF0Y2ggaW14OG1xX2R0X21hdGNoW10gX19p
bml0Y29uc3QgPQoreworICAgIERUX01BVENIX0NPTVBBVElCTEUoImZzbCxpbXg2cS11YXJ0Iiks
CisgICAgRFRfTUFUQ0hfQ09NUEFUSUJMRSgiZnNsLGlteDhtcS11YXJ0IiksCisgICAgeyAvKiBz
ZW50aW5lbCAqLyB9LAorfTsKKworRFRfREVWSUNFX1NUQVJUKGlteDhtcSwgIk5YUCBpbXg4bXEg
VUFSVCIsIERFVklDRV9TRVJJQUwpCisgICAgLmR0X21hdGNoID0gaW14OG1xX2R0X21hdGNoLAor
ICAgIC5pbml0ID0gaW14OG1xX3VhcnRfaW5pdCwKK0RUX0RFVklDRV9FTkQKKworLyoKKyAqIExv
Y2FsIHZhcmlhYmxlczoKKyAqIG1vZGU6IEMKKyAqIGMtZmlsZS1zdHlsZTogIkJTRCIKKyAqIGMt
YmFzaWMtb2Zmc2V0OiA0CisgKiBpbmRlbnQtdGFicy1tb2RlOiBuaWwKKyAqIEVuZDoKKyAqLwot
LSAKMi43LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpo
dHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

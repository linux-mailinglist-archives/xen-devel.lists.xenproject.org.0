Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 5FD8BB7FE6
	for <lists+xen-devel@lfdr.de>; Thu, 19 Sep 2019 19:20:17 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iB03I-0000tC-4c; Thu, 19 Sep 2019 17:17:08 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=vwgP=XO=citrix.com=anthony.perard@srs-us1.protection.inumbo.net>)
 id 1iB03G-0000ss-8M
 for xen-devel@lists.xenproject.org; Thu, 19 Sep 2019 17:17:06 +0000
X-Inumbo-ID: 4c605964-db01-11e9-a337-bc764e2007e4
Received: from esa3.hc3370-68.iphmx.com (unknown [216.71.145.155])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 4c605964-db01-11e9-a337-bc764e2007e4;
 Thu, 19 Sep 2019 17:17:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568913424;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=4anWEIAxyS+Xid9vj3B3eTP68Z1g0RchEBW0hcaqr+k=;
 b=MYTYxbW9FWL/flBAHKYcJyXX1ae56K125pYOXcECv9AmFqNuRlR8vgWX
 xdO5KyKC8K8xCWqNNzlZv27Tt0QG705RReHtWAkmCWA04idGDA+9oOWxw
 tZzvFJxElGjaHQAEo1WqlS/WDsR+ku+pwXoFwKfyoS2UmUqIbzp2md9qH 8=;
Authentication-Results: esa3.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=anthony.perard@citrix.com;
 spf=Pass smtp.mailfrom=anthony.perard@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 anthony.perard@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa3.hc3370-68.iphmx.com: domain of
 anthony.perard@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: YXFkbCCEOGV410H9Rt0nMie0ITnI4uyAkvu4k3ZTXu2jrY7EmTn0pbjLnLgn6E1tDpRU00Y8FS
 DF7xA/6Jjtl3QIytUV+8R4S4imYqSs6wO2Qo9QStGwCoYtZ6mL8kLVCJT5343EyGyBMktZgtIm
 g0Dkzxk8a3cisI6kr75gN8Zm5thEYerw56AoYqkVEmvACiYA6fn+f1hjz1t55EwhLLuNvQgq16
 V5FLfkLzwHmdZEaXQHL9OFYKgm7JOOfBkBDlJff3nhO7N39FhKrbPfjyDkfuwLsGp+TEtWg9iw
 qfk=
X-SBRS: 2.7
X-MesageID: 5804915
X-Ironport-Server: esa3.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,524,1559534400"; 
   d="scan'208";a="5804915"
From: Anthony PERARD <anthony.perard@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 19 Sep 2019 18:16:29 +0100
Message-ID: <20190919171656.899649-10-anthony.perard@citrix.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20190919171656.899649-1-anthony.perard@citrix.com>
References: <20190919171656.899649-1-anthony.perard@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 09/35] libxl: Deprecate
 libxl__domain_{unpause, resume}
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Anthony PERARD <anthony.perard@citrix.com>, Ian
 Jackson <ian.jackson@eu.citrix.com>, Wei Liu <wl@xen.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlc2UgdHdvIGZ1bmN0aW9ucyBhcmUgdXNlZCBmcm9tIG1hbnkgcGxhY2VzIGluIGxpYnhsIGFu
ZCBuZWVkIHRvCmNoYW5nZSB0byBiZSBhYmxlIHRvIGFjY29tb2RhdGUgbGlieGxfX2V2X3FtcCBj
YWxscyBhbmQgdGh1cyBuZWVkcyB0bwpiZSBhc3luY2hyb25vdXMuCgooVGhlcmUgaXMgYWxzbyBs
aWJ4bF9fZG9tYWluX3Jlc3VtZV9kZXZpY2VfbW9kZWwgaW4gdGhlIG1peC4pCgpBIGxhdGVyIHBh
dGNoIHdpbGwgaW50cm9kdWNlIGEgbmV3IGxpYnhsX19kb21haW5fcmVzdW1lIGFuZApsaWJ4bF9f
ZG9tYWluX3VucGF1c2Ugd2hpY2ggd2lsbCBtYWtlIHVzZSBvZiBsaWJ4bF9fZXZfcW1wLgoKU2ln
bmVkLW9mZi1ieTogQW50aG9ueSBQRVJBUkQgPGFudGhvbnkucGVyYXJkQGNpdHJpeC5jb20+CkFj
a2VkLWJ5OiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUuY2l0cml4LmNvbT4KLS0tCiB0b29s
cy9saWJ4bC9saWJ4bF9jb2xvX3Jlc3RvcmUuYyB8ICA0ICsrLS0KIHRvb2xzL2xpYnhsL2xpYnhs
X2NvbG9fc2F2ZS5jICAgIHwgIDQgKystLQogdG9vbHMvbGlieGwvbGlieGxfZG0uYyAgICAgICAg
ICAgfCAgMiArLQogdG9vbHMvbGlieGwvbGlieGxfZG9tX3N1c3BlbmQuYyAgfCAgNiArKystLS0K
IHRvb2xzL2xpYnhsL2xpYnhsX2RvbWFpbi5jICAgICAgIHwgIDggKysrKy0tLS0KIHRvb2xzL2xp
YnhsL2xpYnhsX2ludGVybmFsLmggICAgIHwgMTIgKysrKysrKystLS0tCiB0b29scy9saWJ4bC9s
aWJ4bF9yZW11cy5jICAgICAgICB8ICAyICstCiA3IGZpbGVzIGNoYW5nZWQsIDIxIGluc2VydGlv
bnMoKyksIDE3IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX2Nv
bG9fcmVzdG9yZS5jIGIvdG9vbHMvbGlieGwvbGlieGxfY29sb19yZXN0b3JlLmMKaW5kZXggYWFh
NzA1NTJiOGM0Li5hYTM2NTY3MGZiMTQgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX2Nv
bG9fcmVzdG9yZS5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2NvbG9fcmVzdG9yZS5jCkBAIC0x
MjQsNyArMTI0LDcgQEAgc3RhdGljIHZvaWQgY29sb19yZXN1bWVfdm0obGlieGxfX2VnYyAqZWdj
LAogICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgIH0KICAgICAgICAgfQotICAg
ICAgICByYyA9IGxpYnhsX19kb21haW5fcmVzdW1lKGdjLCBjcnMtPmRvbWlkLCAwKTsKKyAgICAg
ICAgcmMgPSBsaWJ4bF9fZG9tYWluX3Jlc3VtZV9kZXByZWNhdGVkKGdjLCBjcnMtPmRvbWlkLCAw
KTsKICAgICAgICAgaWYgKHJjKQogICAgICAgICAgICAgTE9HRChFUlJPUiwgY3JzLT5kb21pZCwg
ImNhbm5vdCByZXN1bWUgc2Vjb25kYXJ5IHZtIik7CiAKQEAgLTg1Myw3ICs4NTMsNyBAQCBzdGF0
aWMgdm9pZCBjb2xvX3VucGF1c2Vfc3ZtKGxpYnhsX19lZ2MgKmVnYywKICAgICBFR0NfR0M7CiAK
ICAgICAvKiBXZSBoYXZlIGVuYWJsZWQgc2Vjb25kYXJ5IHZtJ3MgbG9nZGlydHksIHNvIHdlIGNh
biB1bnBhdXNlIGl0IG5vdyAqLwotICAgIHJjID0gbGlieGxfX2RvbWFpbl91bnBhdXNlKGdjLCBk
b21pZCk7CisgICAgcmMgPSBsaWJ4bF9fZG9tYWluX3VucGF1c2VfZGVwcmVjYXRlZChnYywgZG9t
aWQpOwogICAgIGlmIChyYykgewogICAgICAgICBMT0dEKEVSUk9SLCBkb21pZCwgImNhbm5vdCB1
bnBhdXNlIHNlY29uZGFyeSB2bSIpOwogICAgICAgICBnb3RvIG91dDsKZGlmZiAtLWdpdCBhL3Rv
b2xzL2xpYnhsL2xpYnhsX2NvbG9fc2F2ZS5jIGIvdG9vbHMvbGlieGwvbGlieGxfY29sb19zYXZl
LmMKaW5kZXggMWQyNjFhMTYzOWY3Li5iNDdmMDM4ZjZlNmUgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xp
YnhsL2xpYnhsX2NvbG9fc2F2ZS5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2NvbG9fc2F2ZS5j
CkBAIC00NzAsNyArNDcwLDcgQEAgc3RhdGljIHZvaWQgY29sb19wcmVyZXN1bWVfY2IobGlieGxf
X2VnYyAqZWdjLAogICAgIH0KIAogICAgIC8qIFJlc3VtZXMgdGhlIGRvbWFpbiBhbmQgdGhlIGRl
dmljZSBtb2RlbCAqLwotICAgIGlmIChsaWJ4bF9fZG9tYWluX3Jlc3VtZShnYywgZHNzLT5kb21p
ZCwgLyogRmFzdCBTdXNwZW5kICovMSkpIHsKKyAgICBpZiAobGlieGxfX2RvbWFpbl9yZXN1bWVf
ZGVwcmVjYXRlZChnYywgZHNzLT5kb21pZCwgLyogRmFzdCBTdXNwZW5kICovMSkpIHsKICAgICAg
ICAgTE9HRChFUlJPUiwgZHNzLT5kb21pZCwgImNhbm5vdCByZXN1bWUgcHJpbWFyeSB2bSIpOwog
ICAgICAgICBnb3RvIG91dDsKICAgICB9CkBAIC00ODAsNyArNDgwLDcgQEAgc3RhdGljIHZvaWQg
Y29sb19wcmVyZXN1bWVfY2IobGlieGxfX2VnYyAqZWdjLAogICAgICAqIG5vIGRpc2sgbWlncmF0
aW9uLgogICAgICAqLwogICAgIGlmIChjc3MtPnBhdXNlZCkgewotICAgICAgICByYyA9IGxpYnhs
X19kb21haW5fdW5wYXVzZShnYywgZHNzLT5kb21pZCk7CisgICAgICAgIHJjID0gbGlieGxfX2Rv
bWFpbl91bnBhdXNlX2RlcHJlY2F0ZWQoZ2MsIGRzcy0+ZG9taWQpOwogICAgICAgICBpZiAocmMp
IHsKICAgICAgICAgICAgIExPR0QoRVJST1IsIGRzcy0+ZG9taWQsICJjYW5ub3QgdW5wYXVzZSBw
cmltYXJ5IHZtIik7CiAgICAgICAgICAgICBnb3RvIG91dDsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xp
YnhsL2xpYnhsX2RtLmMgYi90b29scy9saWJ4bC9saWJ4bF9kbS5jCmluZGV4IGJiNTMzOTc4NGVh
OC4uMjQ2YzU3MDEyMWQzIDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF9kbS5jCisrKyBi
L3Rvb2xzL2xpYnhsL2xpYnhsX2RtLmMKQEAgLTI0MDQsNyArMjQwNCw3IEBAIHN0YXRpYyB2b2lk
IHN0dWJkb21fcHZxZW11X2NiKGxpYnhsX19lZ2MgKmVnYywKICAgICAgICAgZ290byBvdXQ7CiAg
ICAgfQogCi0gICAgcmMgPSBsaWJ4bF9fZG9tYWluX3VucGF1c2UoZ2MsIGRtX2RvbWlkKTsKKyAg
ICByYyA9IGxpYnhsX19kb21haW5fdW5wYXVzZV9kZXByZWNhdGVkKGdjLCBkbV9kb21pZCk7CiAg
ICAgaWYgKHJjKSBnb3RvIG91dDsKIAogICAgIHNkc3MtPnhzd2FpdC5hbyA9IGFvOwpkaWZmIC0t
Z2l0IGEvdG9vbHMvbGlieGwvbGlieGxfZG9tX3N1c3BlbmQuYyBiL3Rvb2xzL2xpYnhsL2xpYnhs
X2RvbV9zdXNwZW5kLmMKaW5kZXggZDFhZjNhNjU3MzAzLi4yNDYwMDIxZTVhNTkgMTAwNjQ0Ci0t
LSBhL3Rvb2xzL2xpYnhsL2xpYnhsX2RvbV9zdXNwZW5kLmMKKysrIGIvdG9vbHMvbGlieGwvbGli
eGxfZG9tX3N1c3BlbmQuYwpAQCAtNDIxLDcgKzQyMSw3IEBAIHN0YXRpYyB2b2lkIGRvbWFpbl9z
dXNwZW5kX2NhbGxiYWNrX2NvbW1vbl9kb25lKGxpYnhsX19lZ2MgKmVnYywKIAogLyo9PT09PT09
PT09PT09PT09PT09PT09PSBEb21haW4gcmVzdW1lID09PT09PT09PT09PT09PT09PT09PT09PSov
CiAKLWludCBsaWJ4bF9fZG9tYWluX3Jlc3VtZV9kZXZpY2VfbW9kZWwobGlieGxfX2djICpnYywg
dWludDMyX3QgZG9taWQpCitpbnQgbGlieGxfX2RvbWFpbl9yZXN1bWVfZGV2aWNlX21vZGVsX2Rl
cHJlY2F0ZWQobGlieGxfX2djICpnYywgdWludDMyX3QgZG9taWQpCiB7CiAgICAgY29uc3QgY2hh
ciAqcGF0aCwgKnN0YXRlOwogCkBAIC00NDksNyArNDQ5LDcgQEAgaW50IGxpYnhsX19kb21haW5f
cmVzdW1lX2RldmljZV9tb2RlbChsaWJ4bF9fZ2MgKmdjLCB1aW50MzJfdCBkb21pZCkKICAgICBy
ZXR1cm4gMDsKIH0KIAotaW50IGxpYnhsX19kb21haW5fcmVzdW1lKGxpYnhsX19nYyAqZ2MsIHVp
bnQzMl90IGRvbWlkLCBpbnQgc3VzcGVuZF9jYW5jZWwpCitpbnQgbGlieGxfX2RvbWFpbl9yZXN1
bWVfZGVwcmVjYXRlZChsaWJ4bF9fZ2MgKmdjLCB1aW50MzJfdCBkb21pZCwgaW50IHN1c3BlbmRf
Y2FuY2VsKQogewogICAgIGludCByYyA9IDA7CiAKQEAgLTQ2MCw3ICs0NjAsNyBAQCBpbnQgbGli
eGxfX2RvbWFpbl9yZXN1bWUobGlieGxfX2djICpnYywgdWludDMyX3QgZG9taWQsIGludCBzdXNw
ZW5kX2NhbmNlbCkKICAgICB9CiAKICAgICBpZiAodHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9I
Vk0pIHsKLSAgICAgICAgcmMgPSBsaWJ4bF9fZG9tYWluX3Jlc3VtZV9kZXZpY2VfbW9kZWwoZ2Ms
IGRvbWlkKTsKKyAgICAgICAgcmMgPSBsaWJ4bF9fZG9tYWluX3Jlc3VtZV9kZXZpY2VfbW9kZWxf
ZGVwcmVjYXRlZChnYywgZG9taWQpOwogICAgICAgICBpZiAocmMpIHsKICAgICAgICAgICAgIExP
R0QoRVJST1IsIGRvbWlkLCAiZmFpbGVkIHRvIHJlc3VtZSBkZXZpY2UgbW9kZWw6JWQiLCByYyk7
CiAgICAgICAgICAgICBnb3RvIG91dDsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX2Rv
bWFpbi5jIGIvdG9vbHMvbGlieGwvbGlieGxfZG9tYWluLmMKaW5kZXggZjJkNWM4NjQyN2FkLi44
MDc5N2M1ZWQyMWMgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX2RvbWFpbi5jCisrKyBi
L3Rvb2xzL2xpYnhsL2xpYnhsX2RvbWFpbi5jCkBAIC0xNzgsNyArMTc4LDcgQEAgaW50IGxpYnhs
X2RvbWFpbl9yZXN1bWUobGlieGxfY3R4ICpjdHgsIHVpbnQzMl90IGRvbWlkLCBpbnQgc3VzcGVu
ZF9jYW5jZWwsCiAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaWJ4bF9hc3luY29wX2hv
dyAqYW9faG93KQogewogICAgIEFPX0NSRUFURShjdHgsIGRvbWlkLCBhb19ob3cpOwotICAgIGlu
dCByYyA9IGxpYnhsX19kb21haW5fcmVzdW1lKGdjLCBkb21pZCwgc3VzcGVuZF9jYW5jZWwpOwor
ICAgIGludCByYyA9IGxpYnhsX19kb21haW5fcmVzdW1lX2RlcHJlY2F0ZWQoZ2MsIGRvbWlkLCBz
dXNwZW5kX2NhbmNlbCk7CiAgICAgbGlieGxfX2FvX2NvbXBsZXRlKGVnYywgYW8sIHJjKTsKICAg
ICByZXR1cm4gQU9fSU5QUk9HUkVTUzsKIH0KQEAgLTU5Myw3ICs1OTMsNyBAQCBpbnQgbGlieGxf
ZG9tYWluX2NvcmVfZHVtcChsaWJ4bF9jdHggKmN0eCwgdWludDMyX3QgZG9taWQsCiAgICAgcmV0
dXJuIEFPX0lOUFJPR1JFU1M7CiB9CiAKLWludCBsaWJ4bF9fZG9tYWluX3VucGF1c2UobGlieGxf
X2djICpnYywgbGlieGxfZG9taWQgZG9taWQpCitpbnQgbGlieGxfX2RvbWFpbl91bnBhdXNlX2Rl
cHJlY2F0ZWQobGlieGxfX2djICpnYywgbGlieGxfZG9taWQgZG9taWQpCiB7CiAgICAgaW50IHIs
IHJjOwogCkBAIC02MDQsNyArNjA0LDcgQEAgaW50IGxpYnhsX19kb21haW5fdW5wYXVzZShsaWJ4
bF9fZ2MgKmdjLCBsaWJ4bF9kb21pZCBkb21pZCkKICAgICB9CiAKICAgICBpZiAodHlwZSA9PSBM
SUJYTF9ET01BSU5fVFlQRV9IVk0pIHsKLSAgICAgICAgcmMgPSBsaWJ4bF9fZG9tYWluX3Jlc3Vt
ZV9kZXZpY2VfbW9kZWwoZ2MsIGRvbWlkKTsKKyAgICAgICAgcmMgPSBsaWJ4bF9fZG9tYWluX3Jl
c3VtZV9kZXZpY2VfbW9kZWxfZGVwcmVjYXRlZChnYywgZG9taWQpOwogICAgICAgICBpZiAocmMg
PCAwKSB7CiAgICAgICAgICAgICBMT0dEKEVSUk9SLCBkb21pZCwKICAgICAgICAgICAgICAgICAg
IkZhaWxlZCB0byB1bnBhdXNlIGRldmljZSBtb2RlbCBmb3IgZG9tYWluOiAlZCIsIHJjKTsKQEAg
LTYyOCw3ICs2MjgsNyBAQCBpbnQgbGlieGxfZG9tYWluX3VucGF1c2UobGlieGxfY3R4ICpjdHgs
IHVpbnQzMl90IGRvbWlkLAogICAgIEFPX0NSRUFURShjdHgsIGRvbWlkLCBhb19ob3cpOwogICAg
IGludCByYyA9IDA7CiAKLSAgICByYyA9IGxpYnhsX19kb21haW5fdW5wYXVzZShnYywgZG9taWQp
OworICAgIHJjID0gbGlieGxfX2RvbWFpbl91bnBhdXNlX2RlcHJlY2F0ZWQoZ2MsIGRvbWlkKTsK
ICAgICBpZiAocmMpIGdvdG8gb3V0OwogCiAgICAgbGlieGxfX2FvX2NvbXBsZXRlKGVnYywgYW8s
IHJjKTsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX2ludGVybmFsLmggYi90b29scy9s
aWJ4bC9saWJ4bF9pbnRlcm5hbC5oCmluZGV4IGY1ZjIzNGJlN2UzYy4uZGI4ODYwNTA3YjE4IDEw
MDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF9pbnRlcm5hbC5oCisrKyBiL3Rvb2xzL2xpYnhs
L2xpYnhsX2ludGVybmFsLmgKQEAgLTEzMTUsNyArMTMxNSw4IEBAIF9oaWRkZW4gaW50IGxpYnhs
X19kb21haW5fcmVuYW1lKGxpYnhsX19nYyAqZ2MsIHVpbnQzMl90IGRvbWlkLAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqb2xkX25hbWUsIGNvbnN0IGNoYXIg
Km5ld19uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeHNfdHJhbnNhY3Rp
b25fdCB0cmFucyk7CiAKLV9oaWRkZW4gaW50IGxpYnhsX19kb21haW5fcmVzdW1lX2RldmljZV9t
b2RlbChsaWJ4bF9fZ2MgKmdjLCB1aW50MzJfdCBkb21pZCk7CisvKiBEZXByZWNhdGVkLCB1c2Ug
bGlieGxfX2RtX3Jlc3VtZSBpbnN0ZWFkLiAqLworX2hpZGRlbiBpbnQgbGlieGxfX2RvbWFpbl9y
ZXN1bWVfZGV2aWNlX21vZGVsX2RlcHJlY2F0ZWQobGlieGxfX2djICpnYywgdWludDMyX3QgZG9t
aWQpOwogCiBfaGlkZGVuIGNvbnN0IGNoYXIgKmxpYnhsX191c2VyZGF0YV9wYXRoKGxpYnhsX19n
YyAqZ2MsIHVpbnQzMl90IGRvbWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb25zdCBjaGFyICp1c2VyZGF0YV91c2VyaWQsCkBAIC0xMzMyLDggKzEzMzMsMTIg
QEAgX2hpZGRlbiBpbnQgbGlieGxfX3VzZXJkYXRhX3N0b3JlKGxpYnhsX19nYyAqZ2MsIHVpbnQz
Ml90IGRvbWlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIg
KnVzZXJkYXRhX3VzZXJpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25z
dCB1aW50OF90ICpkYXRhLCBpbnQgZGF0YWxlbik7CiAKLV9oaWRkZW4gaW50IGxpYnhsX19kb21h
aW5fcmVzdW1lKGxpYnhsX19nYyAqZ2MsIHVpbnQzMl90IGRvbWlkLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgaW50IHN1c3BlbmRfY2FuY2VsKTsKKy8qIERlcHJlY2F0ZWQsIHVz
ZSBsaWJ4bF9fZG9tYWluX3Jlc3VtZSBpbnN0ZWFkICovCitfaGlkZGVuIGludCBsaWJ4bF9fZG9t
YWluX3Jlc3VtZV9kZXByZWNhdGVkKGxpYnhsX19nYyAqZ2MsIHVpbnQzMl90IGRvbWlkLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgc3VzcGVuZF9jYW5j
ZWwpOworLyogRGVwcmVjYXRlZCwgdXNlIGxpYnhsX19kb21haW5fdW5wYXVzZSBpbnN0ZWFkICov
CitfaGlkZGVuIGludCBsaWJ4bF9fZG9tYWluX3VucGF1c2VfZGVwcmVjYXRlZChsaWJ4bF9fZ2Mg
KiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnhsX2Rv
bWlkIGRvbWlkKTsKIAogLyogcmV0dXJucyAwIG9yIDEsIG9yIGEgbGlieGwgZXJyb3IgY29kZSAq
LwogX2hpZGRlbiBpbnQgbGlieGxfX2RvbWFpbl9wdmNvbnRyb2xfYXZhaWxhYmxlKGxpYnhsX19n
YyAqZ2MsIHVpbnQzMl90IGRvbWlkKTsKQEAgLTQxMDQsNyArNDEwOSw2IEBAIF9oaWRkZW4gdm9p
ZCBsaWJ4bF9fcmVtdXNfdGVhcmRvd24obGlieGxfX2VnYyAqZWdjLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBpbnQgcmMpOwogX2hpZGRlbiB2b2lkIGxpYnhsX19yZW11c19y
ZXN0b3JlX3NldHVwKGxpYnhsX19lZ2MgKmVnYywKICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBsaWJ4bF9fZG9tYWluX2NyZWF0ZV9zdGF0ZSAqZGNzKTsKLV9oaWRkZW4g
aW50IGxpYnhsX19kb21haW5fdW5wYXVzZShsaWJ4bF9fZ2MgKiwgbGlieGxfZG9taWQgZG9taWQp
OwogCiAKIC8qCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9yZW11cy5jIGIvdG9vbHMv
bGlieGwvbGlieGxfcmVtdXMuYwppbmRleCAyOWE0NzgzOGM4ZTYuLjYzMzhhMWJhZTVhNSAxMDA2
NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfcmVtdXMuYworKysgYi90b29scy9saWJ4bC9saWJ4
bF9yZW11cy5jCkBAIC0yNjcsNyArMjY3LDcgQEAgc3RhdGljIHZvaWQgcmVtdXNfZGV2aWNlc19w
cmVyZXN1bWVfY2IobGlieGxfX2VnYyAqZWdjLAogICAgICAgICBnb3RvIG91dDsKIAogICAgIC8q
IFJlc3VtZXMgdGhlIGRvbWFpbiBhbmQgdGhlIGRldmljZSBtb2RlbCAqLwotICAgIHJjID0gbGli
eGxfX2RvbWFpbl9yZXN1bWUoZ2MsIGRzcy0+ZG9taWQsIC8qIEZhc3QgU3VzcGVuZCAqLzEpOwor
ICAgIHJjID0gbGlieGxfX2RvbWFpbl9yZXN1bWVfZGVwcmVjYXRlZChnYywgZHNzLT5kb21pZCwg
LyogRmFzdCBTdXNwZW5kICovMSk7CiAgICAgaWYgKHJjKQogICAgICAgICBnb3RvIG91dDsKIAot
LSAKQW50aG9ueSBQRVJBUkQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9q
ZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVu
LWRldmVs

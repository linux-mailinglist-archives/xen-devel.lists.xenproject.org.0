Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E2DB010D453
	for <lists+xen-devel@lfdr.de>; Fri, 29 Nov 2019 11:43:38 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iadii-00030a-83; Fri, 29 Nov 2019 10:41:52 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=mjd+=ZV=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iadif-00030Q-Ue
 for xen-devel@lists.xenproject.org; Fri, 29 Nov 2019 10:41:49 +0000
X-Inumbo-ID: d8cfe96c-1294-11ea-9db0-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id d8cfe96c-1294-11ea-9db0-bc764e2007e4;
 Fri, 29 Nov 2019 10:41:49 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id A8224AEB3;
 Fri, 29 Nov 2019 10:41:48 +0000 (UTC)
To: "DOZ, MARC (ext)" <marc.doz.external@atos.net>
References: <AM0PR02MB4385A7921A8F857539C71241D3460@AM0PR02MB4385.eurprd02.prod.outlook.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <8e1dd854-b5d0-b433-50f1-0bfb1ec6b31a@suse.com>
Date: Fri, 29 Nov 2019 11:41:57 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <AM0PR02MB4385A7921A8F857539C71241D3460@AM0PR02MB4385.eurprd02.prod.outlook.com>
Content-Language: en-US
Subject: Re: [Xen-devel] bug suspcion and proposed modification when
 xen-pciback failed to map an irq (-19) to a domU
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMjkuMTEuMjAxOSAwOTo1OCwgIERPWiwgTUFSQyAoZXh0KSAgd3JvdGU6Cj4gSGVsbG8sCj4g
Cj4gSSB3b3VsZCBsaWtlIHRvIHBhcmF2aXJ0dWFsaXplIHNldmVyYWwgaW5zdGFuY2VzIG9mIGEg
bWluaW1hbCBMaW51eCBzb2x1dGlvbiB3aXRoIHhlbi4gR3Vlc3QgT1MgaGF2ZSBhIFBDSSBwYXNz
dGhyb3VnaCBhY2Nlc3Mgb24gIHRoZSBldGhlcm5ldCBpbnRlcmZhY2VzLgo+IEkgdXNlIGEgcHZv
cHMga2VybmVsIDQuNC4xMjIgLCB4ZW4gNC4xMS4yIGFuZCBhbiB4ODYgcGxhdGZvcm0uIE15IGhh
cmR3YXJlIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCBJT01NVSBidXQgSSBkb2Vzbid0IG5lZWQg
aGFyZCBzZWdtZW50YXRpb24gYmV0d2VlbiBPUyB3aXRoIHRoaXMgcGxhdGZvcm0uCj4gCj4gSSBn
b3QgYSBidWcgd2hlbiB0aGUgRXRoZXJuZXQgZHJpdmVyIGNvbmZpZ3VyZXMgdGhlIE1TSSBmb3Ig
YSBkb21VIGZyb20gYSBkb21VLgo+IHBjaWJhY2sgMDAwMDowMDoxNC4zOiB4ZW4gbWFwIGlycSBm
YWlsZWQgLTE5IGZvciAxIGRvbWFpbgo+IAo+IFBsZWFzZSBmaW5kIHRoZSBidWcgZGVzY3JpcHRp
b24gYW5kIG1heWJlIGEgc29sdXRpb24gOgo+IAo+IDEpIGRvbTEgaXMgY29uZmlndXJlZCB0byB1
c2UgMDAwMDowMDoxNC4zCj4gaW4gZmlsZSAvZXRjL3hlbi9kb20xIDoKPiAgcGNpPVsnMDA6MTQu
MyxwZXJtaXNzaXZlPTEsc2VpemU9MSxtc2l0cmFuc2xhdGU9MSddCj4gYW5kIGtlcm5lbCBib290
cGFyYW0gaW5jbHVkZSAiaW9tbXU9c29mdCIKPiAKPiAyKSB4ZW4tcGNpYmFjayBpcyBsb2FkZWQg
aW4gZG9tMCA6Cj4+IG1vZHByb2JlIHhlbi1wY2liYWNrIHBhc3N0aHJvdWdoPTEgaGlkZT0nKDAw
MDA6MDA6MTQuMyknCj4+IHhsIHBjaS1hc3NpZ25hYmxlLWxpc3QKPiAgMDAwMDowMDoxNC4zCj4g
Cj4gKHhlbi1wY2liYWNrIGlzIG5vdCBsb2FkZWQgaW4gZG9tMSkKPiAKPiAzKSBYZW4gZGVidWcg
dGVybWluYWwgcHJpbnQgdGhhdCBhbGwgdGhlIFBDSSBkZXZpY2VzIGFyZSBsaW5rZWQgdG8gZG9t
MCBiZWZvcmUgYW5kIGFmdGVyIHhlbi1wY2liYWNrIHByb2JpbmcKPiAgLi4uCj4gIChYRU4pIDAw
MDA6MDA6MTQuMyAtIGRvbSAwICAgLSBub2RlIC0xICAtIE1TSXMgPCA+Cj4gIC4uLgo+IAo+IDQp
IG5vIGVycm9yIGFyZSBkZXRlY3RlZCB3aGVuIEkgc3RhcnQgZG9tMQoKSSB0aGluayBpZiB5b3Ug
cmV0cnkgd2l0aCBjdXJyZW50IG1hc3RlciBvciBzdGFnaW5nLCB5b3UnbGwgZmluZCB0aGlzCmNo
YW5nZWQuCgo+PiB4bCBjcmVhdGUgL2V0Yy94ZW4vZG9tMQo+IG9yIHdpdGgKPj4geGwgcGNpLWF0
dGFjaCBkb20xIDAwOjE0LjMKPiAKPiA1KSBGb3IgZWFjaCBFdGhlcm5ldCBkZXZpY2UgSSBzZWUg
dGhlIGZvbGxvd2luZyBjYWxsIHRvIHRoZSBoeXBlcnZpc29yCj4gIC0geGNfZG9tYWluX2lvbWVt
X3Blcm1pc3Npb24KPiAgLSB4Y19kb21haW5faW9wb3J0X3Blcm1pc3Npb24KPiAgLSB4Y19kb21h
aW5faW9tZW1fcGVybWlzc2lvbgo+ICAtIHhjX3BoeXNkZXZfbWFwX3BpcnEKPiAgLSB4Y19kb21h
aW5faXJxX3Blcm1pc3Npb24KPiAgLSB4Y19hc3NpZ25fZGV2aWNlCj4gCj4gbm9uZSBvZiB0aGVt
IHVwZGF0ZSB0aGUgcGRldi0+ZG9tYWluIG9yIHRoZSBwZGV2LT5kb21haW4tPmRvbWFpbl9pZCBv
ZiB0aGUgcGRldiBlbGVtZW50IGxpbmtlZCB3aXRoIHRoZSBiZmQgMDAwMDowMDoxNC4zIChkZXZm
biAxNjMpCj4gCj4gNikgWGVuIGRlYnVnIHRlcm1pbmFsIHByaW50cyBhZ2FpbiB0aGF0IGFsbCB0
aGUgIFBDSSBkZXZpY2VzIGFyZSBsaW5rZWQgdG8gZG9tMAo+ICAuLi4KPiAgKFhFTikgMDAwMDow
MDoxNC4zIC0gZG9tIDAgICAtIG5vZGUgLTEgIC0gTVNJcyA8ID4KPiAgLi4uCj4gCj4gSSBndWVz
cyB0aGF0IHRoaXMgaXMgbm9ybWFsIGJlY2F1c2UgRG9tMCB3aWxsIGFsbG93IGRvbTEgdG8gY29u
ZmlndXJlIHRoZSBkZXZpY2UgKElSUSAmIERNQSkgdGhhbmtzIHRvIHhlbi1wY2liYWNrLiBDb3Vs
ZCB5b3UgY29uZmlybSBtZSB0aGlzIGFzc2VydGlvbiA/Cj4gCj4gNykgV2hlbiB0aGUgRXRoZXJu
ZXQgZHJpdmVyIChpZ2IpIG9mIGRvbTEgY29uZmlndXJlIE1TSS4geGVuIGZhaWxlZCB0byBtYXAg
TVNJIGlycXMgYmVjYXVzZSBtYXBfZG9tYWluX3BpcnEgY2FsbCBwY2lfZ2V0X3BkZXZfYnlfZG9t
YWluIHdpdGggZG9tYWluX2lkIDEgYW5kIHRoZSBkZXZpY2UgaXMgbGlua2VkIHdpdGggZG9tYWlu
X2lkIDAKPj4gbW9kcHJvYmUgaWdiCj4gIGlnYjogQ29weXJpZ2h0IChjKSAyMDA3LTIwMTQgSW50
ZWwgQ29ycG9yYXRpb24uCj4gIGlnYiAwMDAwOjAwOjE0LjM6IGVuYWJsaW5nIGRldmljZSAoMDAw
MCAtPiAwMDAyKQo+ICBpZ2IgMDAwMDowMDoxNC4zOiBYZW4gUENJIG1hcHBlZCBHU0kyMyB0byBJ
UlEyNQo+ICBlbl9pbml0ZG9tX3NldHVwX21zaV9pcnFzOnhlbiBtYXAgaXJxIG1hcF9pcnEuZG9t
aWQgMywgbWFwX2lycS50eXBlIDMgIG1hcF9pcnEuaW5kZXggLTEgLCBtYXBfaXJxLnBpcnEgLTEK
PiAgeGVuX2luaXRkb21fc2V0dXBfbXNpX2lycXM6eGVuIG1hcCBpcnEgbWFwX2lycS5idXMgMCwg
bWFwX2lycS5kZXZmbiAxNjMKPiAgcGNpYmFjayAwMDAwOjAwOjE0LjM6ICAgUENJX0NBUF9JRF9N
U0lYCj4gICAgICAgICAgcGNpX3NlZ19zdXBwb3J0ZWQKPiAKPiBUaGVyZSxIWVBFUlZJU09SX3Bo
eXNkZXZfb3AgYW5kICBQSFlTREVWT1BfbWFwX3BpcnEgIGNhbGwgbWFwX2RvbWFpbl9waXJxIDoK
PiAgKFhFTikgICAgICAgICAgbWFwX2RvbWFpbl9waXJxLS0+IGNhbGwgcGNpX2dldF9wZGV2X2J5
X2RvbWFpbgo+ICAoWEVOKSAgICAgICAgICBwY2lfZ2V0X3BkZXZfYnlfZG9tYWluLS0+Cj4gIChY
RU4pICAgICAgICAgICAgICAgICAgICAgICAgICBkb21haW4tPmRvbWFpbl9pZCAxCj4gIChYRU4p
ICAgICAgICAgICAgICAgICAgICAgICAgICBzZWcgMCBidXMgMCBkZXZmbiAxNjMKPiAgLi4uCj4g
Cj4gVW5mb3J0dW5hdGVseSB0aGUgZGV2aWNlIGlzIGFscmVhZHkgbWFwcGVkIHRvIGRvbWFpbiAw
IGFuZCBwY2lfZ2V0X3BkZXZfYnlfZG9tYWluIGRvbid0IGZvdW5kIHRoZSBkZXZpY2UgLi4uIFNv
IG1hcF9kb21haW5fcGlycSAmIEhZUEVSVklTT1JfcGh5c2Rldl9vcCByZXR1cm4gLTE5IDoKPiAg
cGNpYmFjayAwMDAwOjAwOjE0LjM6IHhlbiBtYXAgaXJxIGZhaWxlZCAtMTkgZm9yIDIgZG9tYWlu
Cj4gCj4gSSBkb24ndCBmaW5kIGFueSBoeXBlcnZpc29yIHN5c2NhbGwgYWJsZSB0byBhc3NpZ24g
bXkgZGV2aWNlIHRvIGEgZG9tVS4KPiB4Y19hc3NpZ25fZGV2aWNlIGlzIGNhbmNlbGxlZCBiZWNh
dXNlIGlvbW11IGlzIGRpc2FibGVkLgo+IGxpYnhsX3BjaS5jOjExMzc6ZG9fcGNpX2FkZDogRG9t
YWluIDM6ZG9fcGNpX2FkZCAtLT4gY2FsbCB4Y19hc3NpZ25fZGV2aWNlCj4gIC0+IGh5cGVydmlz
b3IgY2FsbCBhcmNoX2RvX2RvbWN0bC0tPiBpb21tdV9kb19kb21jdGwtLT4gQ0FOQ0VMTEVECgpB
bmQgaW50ZW50aW9uYWxseSBzby4KCj4gVG8gc29sdmUgbXkgaXNzdWUgLCBJIGp1c3QgbmVlZCB0
byByZXBsYWNlIGluIG1hcF9kb21haW5fcGlycSBpbiB4ZW4vYXJjaC94ODYvaXJxLmMKPiAgcGRl
diA9IHBjaV9nZXRfcGRldl9ieV9kb21haW4oZCwgbXNpLT5zZWcsIG1zaS0+YnVzLCBtc2ktPmRl
dmZuKTsKPiBieQo+ICBwZGV2ID0gcGNpX2dldF9wZGV2KG1zaS0+c2VnLCBtc2ktPmJ1cywgbXNp
LT5kZXZmbik7Cj4gCj4gV2l0aCB0aGlzICJmaXgiIGluIFhlbiwgZG9tMSBjYW4gdXNlIHRoZSBl
dGhlcm5ldCBkZXZpY2UgYW5kIGl0cyBNU0kgdGhhdCBJIHNlZSBpbiAvcHJvYy9pbnRlcnJ1cHQK
CkV4Y2VwdCB0aGF0IHRoaXMgaXMgbm90IGEgImZpeCIsIGJ1dCB0aGUgaW50cm9kdWN0aW9uIG9m
IGEgc2VjdXJpdHkKdnVsbmVyYWJpbGl0eSAocGVybWl0dGluZyBpbnRlcnJ1cHQgc2V0dXAgb24g
dW4tb3duZWQgZGV2aWNlcykuIFNlZQpYU0EtMjM3LCB3aGljaCBhY3R1YWxseSBjaGFuZ2VkIGl0
IGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24gb2YKd2hhdCB5b3UncmUgcHJvcG9zaW5nLgoKSmFu
CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2
ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xp
c3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

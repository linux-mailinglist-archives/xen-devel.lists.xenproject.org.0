Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3CBBE45AA6
	for <lists+xen-devel@lfdr.de>; Fri, 14 Jun 2019 12:41:04 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hbjb4-0002m9-W9; Fri, 14 Jun 2019 10:38:14 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y8Mf=UN=citrix.com=anthony.perard@srs-us1.protection.inumbo.net>)
 id 1hbjb3-0002lG-6J
 for xen-devel@lists.xenproject.org; Fri, 14 Jun 2019 10:38:13 +0000
X-Inumbo-ID: 813336ec-8e90-11e9-85da-3b146665613f
Received: from esa3.hc3370-68.iphmx.com (unknown [216.71.145.155])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 813336ec-8e90-11e9-85da-3b146665613f;
 Fri, 14 Jun 2019 10:38:11 +0000 (UTC)
Authentication-Results: esa3.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=anthony.perard@citrix.com;
 spf=Pass smtp.mailfrom=anthony.perard@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 anthony.perard@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa3.hc3370-68.iphmx.com: domain of
 anthony.perard@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="anthony.perard@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="anthony.perard@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: LQ3Xs+FckjuDEppubsJzf4Ia8O+hxAZzOWIu6xNCHdQmtS/wNlPORRnkjlKFTFhxlUtVjRsPa1
 ec5Cd0t0e191qEFJ00JgtCTVNW0HbryO+and2yQE2nTYGhzaN+aSjIGb34dO8HB6nZSx7GE+mL
 ed0phQx6mZTxGFtiL7BtaA1U2pYk4ph77E6R+tX9uvw3e5bNCFwsjMMdhjR51rWMc8DXEhoQ1F
 ORXaR4BqFnszp4IUbc17zxvV/ZvdN7qy+TqdcPbp0f1BFs2esXXj3NEAbQlOPiy5QE+zM7mFii
 pp4=
X-SBRS: 2.7
X-MesageID: 1744469
X-Ironport-Server: esa3.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.63,373,1557201600"; 
   d="scan'208";a="1744469"
From: Anthony PERARD <anthony.perard@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Fri, 14 Jun 2019 11:38:00 +0100
Message-ID: <20190614103801.22619-9-anthony.perard@citrix.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190614103801.22619-1-anthony.perard@citrix.com>
References: <20190614103801.22619-1-anthony.perard@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v2 8/9] libxl: Move qmp_parameters_* prototypes
 to libxl_internal.h
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Anthony PERARD <anthony.perard@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Wei Liu <wl@xen.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Li4gYW5kIHJlbmFtZSB0aGVtIHRvIGxpYnhsX19xbXBfcGFyYW1fKi4KClRoaXMgaXMgdG8gYWxs
b3cgb3RoZXIgZmlsZXMgdGhhbiBsaWJ4bF9xbXAuYyB0byBtYWtlIFFNUCBjYWxscyB3aXRoCnBh
cmFtZXRlcnMuCgpTaWduZWQtb2ZmLWJ5OiBBbnRob255IFBFUkFSRCA8YW50aG9ueS5wZXJhcmRA
Y2l0cml4LmNvbT4KQWNrZWQtYnk6IElhbiBKYWNrc29uIDxpYW4uamFja3NvbkBldS5jaXRyaXgu
Y29tPgotLS0KIHRvb2xzL2xpYnhsL2xpYnhsX2ludGVybmFsLmggfCAxNSArKysrKysrKwogdG9v
bHMvbGlieGwvbGlieGxfcW1wLmMgICAgICB8IDc1ICsrKysrKysrKysrKysrKysrLS0tLS0tLS0t
LS0tLS0tLS0tLQogMiBmaWxlcyBjaGFuZ2VkLCA1MSBpbnNlcnRpb25zKCspLCAzOSBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9pbnRlcm5hbC5oIGIvdG9vbHMv
bGlieGwvbGlieGxfaW50ZXJuYWwuaAppbmRleCAyYzI0NzZiNTViLi4yZGM1YTMxNzU1IDEwMDY0
NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF9pbnRlcm5hbC5oCisrKyBiL3Rvb2xzL2xpYnhsL2xp
YnhsX2ludGVybmFsLmgKQEAgLTQ3MCw2ICs0NzAsMjEgQEAgc3RydWN0IGxpYnhsX19ldl9xbXAg
ewogICAgIGludCBtc2dfaWQ7CiB9OwogCisvKiBRTVAgcGFyYW1ldGVycyBoZWxwZXJzICovCisK
K19oaWRkZW4gdm9pZCBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9zdHJpbmcobGlieGxfX2djICpnYywK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfX2pzb25fb2Jq
ZWN0ICoqcGFyYW0sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKnMpOworX2hpZGRlbiB2b2lkIGxpYnhsX19xbXBf
cGFyYW1fYWRkX2Jvb2wobGlieGxfX2djICpnYywKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGxpYnhsX19qc29uX29iamVjdCAqKnBhcmFtLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhciAqbmFtZSwgYm9vbCBiKTsKK19oaWRk
ZW4gdm9pZCBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9pbnRlZ2VyKGxpYnhsX19nYyAqZ2MsCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJ4bF9fanNvbl9vYmplY3Qg
KipwYXJhbSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0
IGNoYXIgKm5hbWUsIGNvbnN0IGludCBpKTsKKyNkZWZpbmUgUU1QX1BBUkFNRVRFUlNfU1BSSU5U
RihhcmdzLCBuYW1lLCBmb3JtYXQsIC4uLikgXAorICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX3N0
cmluZyhnYywgYXJncywgbmFtZSwgXAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBH
Q1NQUklOVEYoZm9ybWF0LCBfX1ZBX0FSR1NfXykpCisKIAogLyoKICAqIGV2Z2VuIHN0cnVjdHVy
ZXMsIHdoaWNoIGFyZSB0aGUgc3RhdGUgd2UgdXNlIGZvciBnZW5lcmF0aW5nCmRpZmYgLS1naXQg
YS90b29scy9saWJ4bC9saWJ4bF9xbXAuYyBiL3Rvb2xzL2xpYnhsL2xpYnhsX3FtcC5jCmluZGV4
IDQyYzhhYjhkOGQuLmI2YTY5MWQ5ZmMgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX3Ft
cC5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX3FtcC5jCkBAIC03NTIsOSArNzUyLDkgQEAgc3Rh
dGljIHZvaWQgcW1wX3BhcmFtZXRlcnNfY29tbW9uX2FkZChsaWJ4bF9fZ2MgKmdjLAogICAgIGZs
ZXhhcnJheV9hcHBlbmQoKCpwYXJhbSktPnUubWFwLCBhcmcpOwogfQogCi1zdGF0aWMgdm9pZCBx
bXBfcGFyYW1ldGVyc19hZGRfc3RyaW5nKGxpYnhsX19nYyAqZ2MsCi0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGxpYnhsX19qc29uX29iamVjdCAqKnBhcmFtLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lLCBjb25zdCBj
aGFyICphcmd1bWVudCkKK3ZvaWQgbGlieGxfX3FtcF9wYXJhbV9hZGRfc3RyaW5nKGxpYnhsX19n
YyAqZ2MsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJ4bF9fanNvbl9vYmpl
Y3QgKipwYXJhbSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIg
Km5hbWUsIGNvbnN0IGNoYXIgKmFyZ3VtZW50KQogewogICAgIGxpYnhsX19qc29uX29iamVjdCAq
b2JqOwogCkBAIC03NjQsOSArNzY0LDkgQEAgc3RhdGljIHZvaWQgcW1wX3BhcmFtZXRlcnNfYWRk
X3N0cmluZyhsaWJ4bF9fZ2MgKmdjLAogICAgIHFtcF9wYXJhbWV0ZXJzX2NvbW1vbl9hZGQoZ2Ms
IHBhcmFtLCBuYW1lLCBvYmopOwogfQogCi1zdGF0aWMgdm9pZCBxbXBfcGFyYW1ldGVyc19hZGRf
Ym9vbChsaWJ4bF9fZ2MgKmdjLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
bGlieGxfX2pzb25fb2JqZWN0ICoqcGFyYW0sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb25zdCBjaGFyICpuYW1lLCBib29sIGIpCit2b2lkIGxpYnhsX19xbXBfcGFyYW1f
YWRkX2Jvb2wobGlieGxfX2djICpnYywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBs
aWJ4bF9fanNvbl9vYmplY3QgKipwYXJhbSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBjaGFyICpuYW1lLCBib29sIGIpCiB7CiAgICAgbGlieGxfX2pzb25fb2JqZWN0ICpv
Ymo7CiAKQEAgLTc3NSw5ICs3NzUsOSBAQCBzdGF0aWMgdm9pZCBxbXBfcGFyYW1ldGVyc19hZGRf
Ym9vbChsaWJ4bF9fZ2MgKmdjLAogICAgIHFtcF9wYXJhbWV0ZXJzX2NvbW1vbl9hZGQoZ2MsIHBh
cmFtLCBuYW1lLCBvYmopOwogfQogCi1zdGF0aWMgdm9pZCBxbXBfcGFyYW1ldGVyc19hZGRfaW50
ZWdlcihsaWJ4bF9fZ2MgKmdjLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgbGlieGxfX2pzb25fb2JqZWN0ICoqcGFyYW0sCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb25zdCBjaGFyICpuYW1lLCBjb25zdCBpbnQgaSkKK3ZvaWQgbGlieGxf
X3FtcF9wYXJhbV9hZGRfaW50ZWdlcihsaWJ4bF9fZ2MgKmdjLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxpYnhsX19qc29uX29iamVjdCAqKnBhcmFtLAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKm5hbWUsIGNvbnN0IGludCBpKQogewog
ICAgIGxpYnhsX19qc29uX29iamVjdCAqb2JqOwogCkBAIC03ODcsOSArNzg3LDYgQEAgc3RhdGlj
IHZvaWQgcW1wX3BhcmFtZXRlcnNfYWRkX2ludGVnZXIobGlieGxfX2djICpnYywKICAgICBxbXBf
cGFyYW1ldGVyc19jb21tb25fYWRkKGdjLCBwYXJhbSwgbmFtZSwgb2JqKTsKIH0KIAotI2RlZmlu
ZSBRTVBfUEFSQU1FVEVSU19TUFJJTlRGKGFyZ3MsIG5hbWUsIGZvcm1hdCwgLi4uKSBcCi0gICAg
cW1wX3BhcmFtZXRlcnNfYWRkX3N0cmluZyhnYywgYXJncywgbmFtZSwgR0NTUFJJTlRGKGZvcm1h
dCwgX19WQV9BUkdTX18pKQotCiAvKgogICogQVBJCiAgKi8KQEAgLTk0Myw3ICs5NDAsNyBAQCBp
bnQgbGlieGxfX3FtcF9ydW5fY29tbWFuZF9mbGV4YXJyYXkobGlieGxfX2djICpnYywgaW50IGRv
bWlkLAogICAgIGZvciAoaSA9IDA7IGkgPCBhcnJheS0+Y291bnQ7IGkgKz0gMikgewogICAgICAg
ICBmbGV4YXJyYXlfZ2V0KGFycmF5LCBpLCAmbmFtZSk7CiAgICAgICAgIGZsZXhhcnJheV9nZXQo
YXJyYXksIGkgKyAxLCAmdmFsdWUpOwotICAgICAgICBxbXBfcGFyYW1ldGVyc19hZGRfc3RyaW5n
KGdjLCAmYXJncywgKGNoYXIgKiluYW1lLCAoY2hhciAqKXZhbHVlKTsKKyAgICAgICAgbGlieGxf
X3FtcF9wYXJhbV9hZGRfc3RyaW5nKGdjLCAmYXJncywgKGNoYXIgKiluYW1lLCAoY2hhciAqKXZh
bHVlKTsKICAgICB9CiAKICAgICByZXR1cm4gcW1wX3J1bl9jb21tYW5kKGdjLCBkb21pZCwgY21k
LCBhcmdzLCBOVUxMLCBOVUxMKTsKQEAgLTk2NSwxMCArOTYyLDEwIEBAIGludCBsaWJ4bF9fcW1w
X3BjaV9hZGQobGlieGxfX2djICpnYywgaW50IGRvbWlkLCBsaWJ4bF9kZXZpY2VfcGNpICpwY2lk
ZXYpCiAgICAgaWYgKCFob3N0YWRkcikKICAgICAgICAgcmV0dXJuIC0xOwogCi0gICAgcW1wX3Bh
cmFtZXRlcnNfYWRkX3N0cmluZyhnYywgJmFyZ3MsICJkcml2ZXIiLCAieGVuLXBjaS1wYXNzdGhy
b3VnaCIpOworICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX3N0cmluZyhnYywgJmFyZ3MsICJkcml2
ZXIiLCAieGVuLXBjaS1wYXNzdGhyb3VnaCIpOwogICAgIFFNUF9QQVJBTUVURVJTX1NQUklOVEYo
JmFyZ3MsICJpZCIsIFBDSV9QVF9RREVWX0lELAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
cGNpZGV2LT5idXMsIHBjaWRldi0+ZGV2LCBwY2lkZXYtPmZ1bmMpOwotICAgIHFtcF9wYXJhbWV0
ZXJzX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAiaG9zdGFkZHIiLCBob3N0YWRkcik7CisgICAgbGli
eGxfX3FtcF9wYXJhbV9hZGRfc3RyaW5nKGdjLCAmYXJncywgImhvc3RhZGRyIiwgaG9zdGFkZHIp
OwogICAgIGlmIChwY2lkZXYtPnZkZXZmbikgewogICAgICAgICBRTVBfUEFSQU1FVEVSU19TUFJJ
TlRGKCZhcmdzLCAiYWRkciIsICIleC4leCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgUENJX1NMT1QocGNpZGV2LT52ZGV2Zm4pLCBQQ0lfRlVOQyhwY2lkZXYtPnZkZXZmbikpOwpA
QCAtOTg0LDcgKzk4MSw3IEBAIGludCBsaWJ4bF9fcW1wX3BjaV9hZGQobGlieGxfX2djICpnYywg
aW50IGRvbWlkLCBsaWJ4bF9kZXZpY2VfcGNpICpwY2lkZXYpCiAgICAgICogcmVhc29uIHRvIHNl
dCB0aGUgZmxhZyBzbyB0aGlzIGlzIG9rLgogICAgICAqLwogICAgIGlmIChwY2lkZXYtPnBlcm1p
c3NpdmUpCi0gICAgICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9ib29sKGdjLCAmYXJncywgInBlcm1p
c3NpdmUiLCB0cnVlKTsKKyAgICAgICAgbGlieGxfX3FtcF9wYXJhbV9hZGRfYm9vbChnYywgJmFy
Z3MsICJwZXJtaXNzaXZlIiwgdHJ1ZSk7CiAKICAgICByYyA9IHFtcF9zeW5jaHJvbm91c19zZW5k
KHFtcCwgImRldmljZV9hZGQiLCBhcmdzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
TlVMTCwgTlVMTCwgcW1wLT50aW1lb3V0KTsKQEAgLTEwMDEsNyArOTk4LDcgQEAgc3RhdGljIGlu
dCBxbXBfZGV2aWNlX2RlbChsaWJ4bF9fZ2MgKmdjLCBpbnQgZG9taWQsIGNoYXIgKmlkKQogewog
ICAgIGxpYnhsX19qc29uX29iamVjdCAqYXJncyA9IE5VTEw7CiAKLSAgICBxbXBfcGFyYW1ldGVy
c19hZGRfc3RyaW5nKGdjLCAmYXJncywgImlkIiwgaWQpOworICAgIGxpYnhsX19xbXBfcGFyYW1f
YWRkX3N0cmluZyhnYywgJmFyZ3MsICJpZCIsIGlkKTsKICAgICByZXR1cm4gcW1wX3J1bl9jb21t
YW5kKGdjLCBkb21pZCwgImRldmljZV9kZWwiLCBhcmdzLCBOVUxMLCBOVUxMKTsKIH0KIApAQCAt
MTAyMyw3ICsxMDIwLDcgQEAgaW50IGxpYnhsX19xbXBfcmVzdG9yZShsaWJ4bF9fZ2MgKmdjLCBp
bnQgZG9taWQsIGNvbnN0IGNoYXIgKnN0YXRlX2ZpbGUpCiB7CiAgICAgbGlieGxfX2pzb25fb2Jq
ZWN0ICphcmdzID0gTlVMTDsKIAotICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmcoZ2MsICZh
cmdzLCAiZmlsZW5hbWUiLCBzdGF0ZV9maWxlKTsKKyAgICBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9z
dHJpbmcoZ2MsICZhcmdzLCAiZmlsZW5hbWUiLCBzdGF0ZV9maWxlKTsKIAogICAgIHJldHVybiBx
bXBfcnVuX2NvbW1hbmQoZ2MsIGRvbWlkLCAieGVuLWxvYWQtZGV2aWNlcy1zdGF0ZSIsIGFyZ3Ms
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVUxMLCBOVUxMKTsKQEAgLTEwMzUsMTAgKzEw
MzIsMTAgQEAgc3RhdGljIGludCBxbXBfY2hhbmdlKGxpYnhsX19nYyAqZ2MsIGxpYnhsX19xbXBf
aGFuZGxlciAqcW1wLAogICAgIGxpYnhsX19qc29uX29iamVjdCAqYXJncyA9IE5VTEw7CiAgICAg
aW50IHJjID0gMDsKIAotICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAi
ZGV2aWNlIiwgZGV2aWNlKTsKLSAgICBxbXBfcGFyYW1ldGVyc19hZGRfc3RyaW5nKGdjLCAmYXJn
cywgInRhcmdldCIsIHRhcmdldCk7CisgICAgbGlieGxfX3FtcF9wYXJhbV9hZGRfc3RyaW5nKGdj
LCAmYXJncywgImRldmljZSIsIGRldmljZSk7CisgICAgbGlieGxfX3FtcF9wYXJhbV9hZGRfc3Ry
aW5nKGdjLCAmYXJncywgInRhcmdldCIsIHRhcmdldCk7CiAgICAgaWYgKGFyZykgewotICAgICAg
ICBxbXBfcGFyYW1ldGVyc19hZGRfc3RyaW5nKGdjLCAmYXJncywgImFyZyIsIGFyZyk7CisgICAg
ICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX3N0cmluZyhnYywgJmFyZ3MsICJhcmciLCBhcmcpOwog
ICAgIH0KIAogICAgIHJjID0gcW1wX3N5bmNocm9ub3VzX3NlbmQocW1wLCAiY2hhbmdlIiwgYXJn
cywKQEAgLTEwNTYsNyArMTA1Myw3IEBAIGludCBsaWJ4bF9fcW1wX3NldF9nbG9iYWxfZGlydHlf
bG9nKGxpYnhsX19nYyAqZ2MsIGludCBkb21pZCwgYm9vbCBlbmFibGUpCiB7CiAgICAgbGlieGxf
X2pzb25fb2JqZWN0ICphcmdzID0gTlVMTDsKIAotICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9ib29s
KGdjLCAmYXJncywgImVuYWJsZSIsIGVuYWJsZSk7CisgICAgbGlieGxfX3FtcF9wYXJhbV9hZGRf
Ym9vbChnYywgJmFyZ3MsICJlbmFibGUiLCBlbmFibGUpOwogCiAgICAgcmV0dXJuIHFtcF9ydW5f
Y29tbWFuZChnYywgZG9taWQsICJ4ZW4tc2V0LWdsb2JhbC1kaXJ0eS1sb2ciLCBhcmdzLAogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwgTlVMTCk7CkBAIC0xMDczLDggKzEwNzAsOCBA
QCBpbnQgbGlieGxfX3FtcF9pbnNlcnRfY2Ryb20obGlieGxfX2djICpnYywgaW50IGRvbWlkLAog
ICAgIGlmIChkaXNrLT5mb3JtYXQgPT0gTElCWExfRElTS19GT1JNQVRfRU1QVFkpIHsKICAgICAg
ICAgcmV0dXJuIHFtcF9ydW5fY29tbWFuZChnYywgZG9taWQsICJlamVjdCIsIGFyZ3MsIE5VTEws
IE5VTEwpOwogICAgIH0gZWxzZSB7Ci0gICAgICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmco
Z2MsICZhcmdzLCAidGFyZ2V0IiwgZGlzay0+cGRldl9wYXRoKTsKLSAgICAgICAgcW1wX3BhcmFt
ZXRlcnNfYWRkX3N0cmluZyhnYywgJmFyZ3MsICJhcmciLAorICAgICAgICBsaWJ4bF9fcW1wX3Bh
cmFtX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAidGFyZ2V0IiwgZGlzay0+cGRldl9wYXRoKTsKKyAg
ICAgICAgbGlieGxfX3FtcF9wYXJhbV9hZGRfc3RyaW5nKGdjLCAmYXJncywgImFyZyIsCiAgICAg
ICAgICAgICBsaWJ4bF9fcWVtdV9kaXNrX2Zvcm1hdF9zdHJpbmcoZGlzay0+Zm9ybWF0KSk7CiAg
ICAgICAgIHJldHVybiBxbXBfcnVuX2NvbW1hbmQoZ2MsIGRvbWlkLCAiY2hhbmdlIiwgYXJncywg
TlVMTCwgTlVMTCk7CiAgICAgfQpAQCAtMTA4NCw3ICsxMDgxLDcgQEAgaW50IGxpYnhsX19xbXBf
Y3B1X2FkZChsaWJ4bF9fZ2MgKmdjLCBpbnQgZG9taWQsIGludCBpZHgpCiB7CiAgICAgbGlieGxf
X2pzb25fb2JqZWN0ICphcmdzID0gTlVMTDsKIAotICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9pbnRl
Z2VyKGdjLCAmYXJncywgImlkIiwgaWR4KTsKKyAgICBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9pbnRl
Z2VyKGdjLCAmYXJncywgImlkIiwgaWR4KTsKIAogICAgIHJldHVybiBxbXBfcnVuX2NvbW1hbmQo
Z2MsIGRvbWlkLCAiY3B1LWFkZCIsIGFyZ3MsIE5VTEwsIE5VTEwpOwogfQpAQCAtMTE0MiwxMCAr
MTEzOSwxMCBAQCBpbnQgbGlieGxfX3FtcF9uYmRfc2VydmVyX3N0YXJ0KGxpYnhsX19nYyAqZ2Ms
IGludCBkb21pZCwKICAgICAgKiAgIH0KICAgICAgKiB9CiAgICAgICovCi0gICAgcW1wX3BhcmFt
ZXRlcnNfYWRkX3N0cmluZyhnYywgJmRhdGEsICJob3N0IiwgaG9zdCk7Ci0gICAgcW1wX3BhcmFt
ZXRlcnNfYWRkX3N0cmluZyhnYywgJmRhdGEsICJwb3J0IiwgcG9ydCk7CisgICAgbGlieGxfX3Ft
cF9wYXJhbV9hZGRfc3RyaW5nKGdjLCAmZGF0YSwgImhvc3QiLCBob3N0KTsKKyAgICBsaWJ4bF9f
cW1wX3BhcmFtX2FkZF9zdHJpbmcoZ2MsICZkYXRhLCAicG9ydCIsIHBvcnQpOwogCi0gICAgcW1w
X3BhcmFtZXRlcnNfYWRkX3N0cmluZyhnYywgJmFkZHIsICJ0eXBlIiwgImluZXQiKTsKKyAgICBs
aWJ4bF9fcW1wX3BhcmFtX2FkZF9zdHJpbmcoZ2MsICZhZGRyLCAidHlwZSIsICJpbmV0Iik7CiAg
ICAgcW1wX3BhcmFtZXRlcnNfY29tbW9uX2FkZChnYywgJmFkZHIsICJkYXRhIiwgZGF0YSk7CiAK
ICAgICBxbXBfcGFyYW1ldGVyc19jb21tb25fYWRkKGdjLCAmYXJncywgImFkZHIiLCBhZGRyKTsK
QEAgLTExNTcsOCArMTE1NCw4IEBAIGludCBsaWJ4bF9fcW1wX25iZF9zZXJ2ZXJfYWRkKGxpYnhs
X19nYyAqZ2MsIGludCBkb21pZCwgY29uc3QgY2hhciAqZGlzaykKIHsKICAgICBsaWJ4bF9fanNv
bl9vYmplY3QgKmFyZ3MgPSBOVUxMOwogCi0gICAgcW1wX3BhcmFtZXRlcnNfYWRkX3N0cmluZyhn
YywgJmFyZ3MsICJkZXZpY2UiLCBkaXNrKTsKLSAgICBxbXBfcGFyYW1ldGVyc19hZGRfYm9vbChn
YywgJmFyZ3MsICJ3cml0YWJsZSIsIHRydWUpOworICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX3N0
cmluZyhnYywgJmFyZ3MsICJkZXZpY2UiLCBkaXNrKTsKKyAgICBsaWJ4bF9fcW1wX3BhcmFtX2Fk
ZF9ib29sKGdjLCAmYXJncywgIndyaXRhYmxlIiwgdHJ1ZSk7CiAKICAgICByZXR1cm4gcW1wX3J1
bl9jb21tYW5kKGdjLCBkb21pZCwgIm5iZC1zZXJ2ZXItYWRkIiwgYXJncywgTlVMTCwgTlVMTCk7
CiB9CkBAIC0xMTY3LDggKzExNjQsOCBAQCBpbnQgbGlieGxfX3FtcF9zdGFydF9yZXBsaWNhdGlv
bihsaWJ4bF9fZ2MgKmdjLCBpbnQgZG9taWQsIGJvb2wgcHJpbWFyeSkKIHsKICAgICBsaWJ4bF9f
anNvbl9vYmplY3QgKmFyZ3MgPSBOVUxMOwogCi0gICAgcW1wX3BhcmFtZXRlcnNfYWRkX2Jvb2wo
Z2MsICZhcmdzLCAiZW5hYmxlIiwgdHJ1ZSk7Ci0gICAgcW1wX3BhcmFtZXRlcnNfYWRkX2Jvb2wo
Z2MsICZhcmdzLCAicHJpbWFyeSIsIHByaW1hcnkpOworICAgIGxpYnhsX19xbXBfcGFyYW1fYWRk
X2Jvb2woZ2MsICZhcmdzLCAiZW5hYmxlIiwgdHJ1ZSk7CisgICAgbGlieGxfX3FtcF9wYXJhbV9h
ZGRfYm9vbChnYywgJmFyZ3MsICJwcmltYXJ5IiwgcHJpbWFyeSk7CiAKICAgICByZXR1cm4gcW1w
X3J1bl9jb21tYW5kKGdjLCBkb21pZCwgInhlbi1zZXQtcmVwbGljYXRpb24iLCBhcmdzLCBOVUxM
LCBOVUxMKTsKIH0KQEAgLTExODksOCArMTE4Niw4IEBAIGludCBsaWJ4bF9fcW1wX3N0b3BfcmVw
bGljYXRpb24obGlieGxfX2djICpnYywgaW50IGRvbWlkLCBib29sIHByaW1hcnkpCiB7CiAgICAg
bGlieGxfX2pzb25fb2JqZWN0ICphcmdzID0gTlVMTDsKIAotICAgIHFtcF9wYXJhbWV0ZXJzX2Fk
ZF9ib29sKGdjLCAmYXJncywgImVuYWJsZSIsIGZhbHNlKTsKLSAgICBxbXBfcGFyYW1ldGVyc19h
ZGRfYm9vbChnYywgJmFyZ3MsICJwcmltYXJ5IiwgcHJpbWFyeSk7CisgICAgbGlieGxfX3FtcF9w
YXJhbV9hZGRfYm9vbChnYywgJmFyZ3MsICJlbmFibGUiLCBmYWxzZSk7CisgICAgbGlieGxfX3Ft
cF9wYXJhbV9hZGRfYm9vbChnYywgJmFyZ3MsICJwcmltYXJ5IiwgcHJpbWFyeSk7CiAKICAgICBy
ZXR1cm4gcW1wX3J1bl9jb21tYW5kKGdjLCBkb21pZCwgInhlbi1zZXQtcmVwbGljYXRpb24iLCBh
cmdzLCBOVUxMLCBOVUxMKTsKIH0KQEAgLTEyMDUsMTEgKzEyMDIsMTEgQEAgaW50IGxpYnhsX19x
bXBfeF9ibG9ja2Rldl9jaGFuZ2UobGlieGxfX2djICpnYywgaW50IGRvbWlkLCBjb25zdCBjaGFy
ICpwYXJlbnQsCiB7CiAgICAgbGlieGxfX2pzb25fb2JqZWN0ICphcmdzID0gTlVMTDsKIAotICAg
IHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAicGFyZW50IiwgcGFyZW50KTsK
KyAgICBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAicGFyZW50IiwgcGFy
ZW50KTsKICAgICBpZiAoY2hpbGQpCi0gICAgICAgIHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmco
Z2MsICZhcmdzLCAiY2hpbGQiLCBjaGlsZCk7CisgICAgICAgIGxpYnhsX19xbXBfcGFyYW1fYWRk
X3N0cmluZyhnYywgJmFyZ3MsICJjaGlsZCIsIGNoaWxkKTsKICAgICBpZiAobm9kZSkKLSAgICAg
ICAgcW1wX3BhcmFtZXRlcnNfYWRkX3N0cmluZyhnYywgJmFyZ3MsICJub2RlIiwgbm9kZSk7Cisg
ICAgICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX3N0cmluZyhnYywgJmFyZ3MsICJub2RlIiwgbm9k
ZSk7CiAKICAgICByZXR1cm4gcW1wX3J1bl9jb21tYW5kKGdjLCBkb21pZCwgIngtYmxvY2tkZXYt
Y2hhbmdlIiwgYXJncywgTlVMTCwgTlVMTCk7CiB9CkBAIC0xMjQ2LDcgKzEyNDMsNyBAQCBpbnQg
bGlieGxfX3FtcF9obXAobGlieGxfX2djICpnYywgaW50IGRvbWlkLCBjb25zdCBjaGFyICpjb21t
YW5kX2xpbmUsCiB7CiAgICAgbGlieGxfX2pzb25fb2JqZWN0ICphcmdzID0gTlVMTDsKIAotICAg
IHFtcF9wYXJhbWV0ZXJzX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAiY29tbWFuZC1saW5lIiwgY29t
bWFuZF9saW5lKTsKKyAgICBsaWJ4bF9fcW1wX3BhcmFtX2FkZF9zdHJpbmcoZ2MsICZhcmdzLCAi
Y29tbWFuZC1saW5lIiwgY29tbWFuZF9saW5lKTsKIAogICAgIHJldHVybiBxbXBfcnVuX2NvbW1h
bmQoZ2MsIGRvbWlkLCAiaHVtYW4tbW9uaXRvci1jb21tYW5kIiwgYXJncywKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGhtcF9jYWxsYmFjaywgb3V0cHV0KTsKQEAgLTEzODMsNyArMTM4MCw3
IEBAIHN0YXRpYyB2b2lkIGRtX3N0YXRlX2ZkX3JlYWR5KGxpYnhsX19lZ2MgKmVnYywgbGlieGxf
X2V2X3FtcCAqZXYsCiAgICAgICogdGhlIHNhdmUgb3BlcmF0aW9uIGlzIGZvciBhIGxpdmUgbWln
cmF0aW9uIHJhdGhlciB0aGFuIGZvciB0YWtpbmcgYQogICAgICAqIHNuYXBzaG90LiAqLwogICAg
IGlmIChxbXBfZXZfcWVtdV9jb21wYXJlX3ZlcnNpb24oZXYsIDIsIDExLCAwKSA+PSAwKQotICAg
ICAgICBxbXBfcGFyYW1ldGVyc19hZGRfYm9vbChnYywgJmFyZ3MsICJsaXZlIiwgZHNwcy0+bGl2
ZSk7CisgICAgICAgIGxpYnhsX19xbXBfcGFyYW1fYWRkX2Jvb2woZ2MsICZhcmdzLCAibGl2ZSIs
IGRzcHMtPmxpdmUpOwogICAgIFFNUF9QQVJBTUVURVJTX1NQUklOVEYoJmFyZ3MsICJmaWxlbmFt
ZSIsICIvZGV2L2Zkc2V0LyVkIiwgZmRzZXQpOwogICAgIHJjID0gbGlieGxfX2V2X3FtcF9zZW5k
KGdjLCBldiwgInhlbi1zYXZlLWRldmljZXMtc3RhdGUiLCBhcmdzKTsKICAgICBpZiAocmMpCi0t
IApBbnRob255IFBFUkFSRAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2pl
Y3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4t
ZGV2ZWw=

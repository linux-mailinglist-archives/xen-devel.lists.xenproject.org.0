Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CE37B118D08
	for <lists+xen-devel@lfdr.de>; Tue, 10 Dec 2019 16:51:27 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iehlF-0003lW-IU; Tue, 10 Dec 2019 15:49:17 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=A1/D=2A=gmail.com=rosbrookn@srs-us1.protection.inumbo.net>)
 id 1iehlD-0003k7-TJ
 for xen-devel@lists.xenproject.org; Tue, 10 Dec 2019 15:49:15 +0000
X-Inumbo-ID: 782e1cf4-1b64-11ea-b6f1-bc764e2007e4
Received: from mail-qk1-x741.google.com (unknown [2607:f8b0:4864:20::741])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 782e1cf4-1b64-11ea-b6f1-bc764e2007e4;
 Tue, 10 Dec 2019 15:48:11 +0000 (UTC)
Received: by mail-qk1-x741.google.com with SMTP id d71so8822618qkc.0
 for <xen-devel@lists.xenproject.org>; Tue, 10 Dec 2019 07:48:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=63i23Fqk9zJzsRQoamhJmJqI3J1g9w1MAzTUDB82EsI=;
 b=OwbYslkS/hyng3+/gu1ow7IOBeO3g5AI0oFF6X5wiULuLq2InVdLdcLblGvJGu1EOU
 PALr1UvjRJ1mKo5iLPWvDmS6HuzF1obcsJ9Tzekmt6TGzSETmlsoEKzBsjiOlJdcmoGa
 yUilHGDmqdhRNbHSUxhCcT8h6kOVKWQcDgU24DmUvtkquP9FnmuQTmB0tMXuzj/WJLoi
 KOqi6jFSaZQWjS7iN5804ZWVY018wr2avEr7EMfOSvNkSRUSAGV1QsOe9tcvfgrru1Bu
 lVPGnUoTwIADgGurtJg83gt6NXntiNnjG4UsAIxTj7GkEJmtrID+TmIl1TDTlL0tzhaY
 mcNQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=63i23Fqk9zJzsRQoamhJmJqI3J1g9w1MAzTUDB82EsI=;
 b=Z3t714Xm9y6YPkRszJKwkBbsMSiP0zAXhsodbNr8ZaDID1X9MoLHQJuaasoQHgqM3J
 OC38toBtJKDE5+cYrCbATgQRvomv9rlwUnNpwnxPqtmYZAzSk0TyAEHk10CzC2lfo7ws
 ryvrNHYRgZiv7oTNxHSnrSZOzr8hE/ipu+nQLK9Pj7Jz9PxTAL+/y5kGtAmY0pJuXT1d
 qL+sfoiJ+kM/mfPcM7uJFi17i8aLyqB+Jxuv2QrDM5rm2/9AZrXnFWCVheBklJJ+h1hO
 6ZGypFB6/zSvgphba5vxzK+k7qkrX2rWidQF0jiK9L/C678rDIqXXlUSwQpo9uNvewoA
 XPpg==
X-Gm-Message-State: APjAAAV3K2iuX5XsEc5tEmmjDucFL6ziVg4X+aUWjnu1Kca6AXPjWuNf
 /L2yUEQozkr9SyBNKVos4lc1uHsl
X-Google-Smtp-Source: APXvYqxQT5wDJ3AzP4IjeXru8NEH728v60DDBd6/LkzptpR5VkeI4+KQWQSmwi5lCy3fiNIkeQprBQ==
X-Received: by 2002:a37:6e86:: with SMTP id
 j128mr27504148qkc.265.1575992890591; 
 Tue, 10 Dec 2019 07:48:10 -0800 (PST)
Received: from five.crux.rad.ainfosec.com (209-217-208-226.northland.net.
 [209.217.208.226])
 by smtp.googlemail.com with ESMTPSA id m29sm1247848qtf.1.2019.12.10.07.48.09
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 10 Dec 2019 07:48:09 -0800 (PST)
From: Nick Rosbrook <rosbrookn@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 10 Dec 2019 10:47:32 -0500
Message-Id: <67ce148341ae0823584777d15b0c6c4e6c74bddd.1575990937.git.rosbrookn@ainfosec.com>
X-Mailer: git-send-email 2.19.1
In-Reply-To: <cover.1575990937.git.rosbrookn@ainfosec.com>
References: <cover.1575990937.git.rosbrookn@ainfosec.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v3 17/22] golang/xenlight: implement array C to
 Go marshaling
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Nick Rosbrook <rosbrookn@ainfosec.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, kerriganb@ainfosec.com,
 George Dunlap <george.dunlap@citrix.com>, Wei Liu <wl@xen.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogTmljayBSb3Nicm9vayA8cm9zYnJvb2tuQGFpbmZvc2VjLmNvbT4KClNpZ25lZC1vZmYt
Ynk6IE5pY2sgUm9zYnJvb2sgPHJvc2Jyb29rbkBhaW5mb3NlYy5jb20+Ci0tLQogdG9vbHMvZ29s
YW5nL3hlbmxpZ2h0L2dlbmdvdHlwZXMucHkgIHwgIDM5ICsrKy0KIHRvb2xzL2dvbGFuZy94ZW5s
aWdodC9oZWxwZXJzLmdlbi5nbyB8IDMwMCArKysrKysrKysrKysrKysrKysrKysrKysrKysKIDIg
ZmlsZXMgY2hhbmdlZCwgMzM4IGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1n
aXQgYS90b29scy9nb2xhbmcveGVubGlnaHQvZ2VuZ290eXBlcy5weSBiL3Rvb2xzL2dvbGFuZy94
ZW5saWdodC9nZW5nb3R5cGVzLnB5CmluZGV4IGI2OGMxYWE2NmIuLmVlOWFhZjllZmYgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL2dvbGFuZy94ZW5saWdodC9nZW5nb3R5cGVzLnB5CisrKyBiL3Rvb2xzL2dv
bGFuZy94ZW5saWdodC9nZW5nb3R5cGVzLnB5CkBAIC0yNTIsNyArMjUyLDcgQEAgZGVmIHhlbmxp
Z2h0X2dvbGFuZ19kZWZpbmVfZnJvbV9DKHR5ID0gTm9uZSk6CiAgICAgZm9yIGYgaW4gdHkuZmll
bGRzOgogICAgICAgICBpZiBmLnR5cGUudHlwZW5hbWUgaXMgbm90IE5vbmU6CiAgICAgICAgICAg
ICBpZiBpc2luc3RhbmNlKGYudHlwZSwgaWRsLkFycmF5KToKLSAgICAgICAgICAgICAgICAjIFRP
RE8KKyAgICAgICAgICAgICAgICBib2R5ICs9IHhlbmxpZ2h0X2dvbGFuZ19hcnJheV9mcm9tX0Mo
ZikKICAgICAgICAgICAgICAgICBjb250aW51ZQogCiAgICAgICAgICAgICBib2R5ICs9IHhlbmxp
Z2h0X2dvbGFuZ19jb252ZXJ0X2Zyb21fQyhmKQpAQCAtMzk5LDYgKzM5OSw0MyBAQCBkZWYgeGVu
bGlnaHRfZ29sYW5nX3VuaW9uX2Zyb21fQyh0eSA9IE5vbmUsIHVuaW9uX25hbWUgPSAnJywgc3Ry
dWN0X25hbWUgPSAnJyk6CiAKICAgICByZXR1cm4gKHMsZXh0cmFzKQogCitkZWYgeGVubGlnaHRf
Z29sYW5nX2FycmF5X2Zyb21fQyh0eSA9IE5vbmUpOgorICAgICIiIgorICAgIENvbnZlcnQgQyBh
cnJheSB0byBHbyBzbGljZSB1c2luZyB0aGUgbWV0aG9kCisgICAgZGVzY3JpYmVkIGhlcmU6CisK
KyAgICBodHRwczovL2dpdGh1Yi5jb20vZ29sYW5nL2dvL3dpa2kvY2dvI3R1cm5pbmctYy1hcnJh
eXMtaW50by1nby1zbGljZXMKKyAgICAiIiIKKyAgICBzID0gJycKKworICAgIGdvdHlwZW5hbWUg
PSB4ZW5saWdodF9nb2xhbmdfZm10X25hbWUodHkudHlwZS5lbGVtX3R5cGUudHlwZW5hbWUpCisg
ICAgZ29uYW1lICAgICA9IHhlbmxpZ2h0X2dvbGFuZ19mbXRfbmFtZSh0eS5uYW1lKQorICAgIGN0
eXBlbmFtZSAgPSB0eS50eXBlLmVsZW1fdHlwZS50eXBlbmFtZQorICAgIGNuYW1lICAgICAgPSB0
eS5uYW1lCisgICAgY3NsaWNlICAgICA9ICdje30nLmZvcm1hdChnb25hbWUpCisgICAgY2xlbnZh
ciAgICA9IHR5LnR5cGUubGVudmFyLm5hbWUKKyAgICBnb2xlbnZhciAgID0geGVubGlnaHRfZ29s
YW5nX2ZtdF9uYW1lKGNsZW52YXIsZXhwb3J0ZWQ9RmFsc2UpCisKKyAgICBzICs9ICd7fSA6PSBp
bnQoeGMue30pXG4nLmZvcm1hdChnb2xlbnZhciwgY2xlbnZhcikKKyAgICBzICs9ICd7fSA6PSAn
LmZvcm1hdChjc2xpY2UpCisgICAgcyArPScoKlsxPDwyOF1DLnt9KSh1bnNhZmUuUG9pbnRlcih4
Yy57fSkpWzp7fTp7fV1cbicuZm9ybWF0KGN0eXBlbmFtZSwgY25hbWUsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29sZW52
YXIsIGdvbGVudmFyKQorICAgIHMgKz0gJ3gue30gPSBtYWtlKFtde30sIHt9KVxuJy5mb3JtYXQo
Z29uYW1lLCBnb3R5cGVuYW1lLCBnb2xlbnZhcikKKyAgICBzICs9ICdmb3IgaSwgdiA6PSByYW5n
ZSB7fSB7e1xuJy5mb3JtYXQoY3NsaWNlKQorCisgICAgaXNfZW51bSA9IGlzaW5zdGFuY2UodHku
dHlwZS5lbGVtX3R5cGUsaWRsLkVudW1lcmF0aW9uKQorICAgIGlmIGdvdHlwZW5hbWUgaW4gZ29f
YnVpbHRpbl90eXBlcyBvciBpc19lbnVtOgorICAgICAgICBzICs9ICd4Lnt9W2ldID0ge30odilc
bicuZm9ybWF0KGdvbmFtZSwgZ290eXBlbmFtZSkKKyAgICBlbHNlOgorICAgICAgICBzICs9ICd2
YXIgZSB7fVxuJy5mb3JtYXQoZ290eXBlbmFtZSkKKyAgICAgICAgcyArPSAnaWYgZXJyIDo9IGUu
ZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHtcbicKKyAgICAgICAgcyArPSAncmV0dXJuIGVyciB9XG4n
CisgICAgICAgIHMgKz0gJ3gue31baV0gPSBlXG4nLmZvcm1hdChnb25hbWUpCisKKyAgICBzICs9
ICd9XG4nCisKKyAgICByZXR1cm4gcworCiBkZWYgeGVubGlnaHRfZ29sYW5nX2ZtdF9uYW1lKG5h
bWUsIGV4cG9ydGVkID0gVHJ1ZSk6CiAgICAgIiIiCiAgICAgVGFrZSBhIGdpdmVuIHR5cGUgbmFt
ZSBhbmQgcmV0dXJuIGFuCmRpZmYgLS1naXQgYS90b29scy9nb2xhbmcveGVubGlnaHQvaGVscGVy
cy5nZW4uZ28gYi90b29scy9nb2xhbmcveGVubGlnaHQvaGVscGVycy5nZW4uZ28KaW5kZXggZTZl
ZWUyMzRjMC4uMmY5MTdjYWM1OCAxMDA2NDQKLS0tIGEvdG9vbHMvZ29sYW5nL3hlbmxpZ2h0L2hl
bHBlcnMuZ2VuLmdvCisrKyBiL3Rvb2xzL2dvbGFuZy94ZW5saWdodC9oZWxwZXJzLmdlbi5nbwpA
QCAtMjYzLDYgKzI2MywxNiBAQCBmdW5jICh4ICpTY2hlZFBhcmFtcykgZnJvbUMoeGMgKkMubGli
eGxfc2NoZWRfcGFyYW1zKSBlcnJvciB7CiAKIGZ1bmMgKHggKlZjcHVTY2hlZFBhcmFtcykgZnJv
bUMoeGMgKkMubGlieGxfdmNwdV9zY2hlZF9wYXJhbXMpIGVycm9yIHsKIAl4LlNjaGVkID0gU2No
ZWR1bGVyKHhjLnNjaGVkKQorCW51bVZjcHVzIDo9IGludCh4Yy5udW1fdmNwdXMpCisJY1ZjcHVz
IDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9zY2hlZF9wYXJhbXMpKHVuc2FmZS5Qb2ludGVyKHhjLnZj
cHVzKSlbOm51bVZjcHVzOm51bVZjcHVzXQorCXguVmNwdXMgPSBtYWtlKFtdU2NoZWRQYXJhbXMs
IG51bVZjcHVzKQorCWZvciBpLCB2IDo9IHJhbmdlIGNWY3B1cyB7CisJCXZhciBlIFNjaGVkUGFy
YW1zCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQlyZXR1cm4gZXJy
CisJCX0KKwkJeC5WY3B1c1tpXSA9IGUKKwl9CiAKIAlyZXR1cm4gbmlsCiB9CkBAIC0yODIsNiAr
MjkyLDEyIEBAIGZ1bmMgKHggKkRvbWFpblNjaGVkUGFyYW1zKSBmcm9tQyh4YyAqQy5saWJ4bF9k
b21haW5fc2NoZWRfcGFyYW1zKSBlcnJvciB7CiAKIGZ1bmMgKHggKlZub2RlSW5mbykgZnJvbUMo
eGMgKkMubGlieGxfdm5vZGVfaW5mbykgZXJyb3IgewogCXguTWVta2IgPSB1aW50NjQoeGMubWVt
a2IpCisJbnVtRGlzdGFuY2VzIDo9IGludCh4Yy5udW1fZGlzdGFuY2VzKQorCWNEaXN0YW5jZXMg
Oj0gKCpbMSA8PCAyOF1DLnVpbnQzMl90KSh1bnNhZmUuUG9pbnRlcih4Yy5kaXN0YW5jZXMpKVs6
bnVtRGlzdGFuY2VzOm51bURpc3RhbmNlc10KKwl4LkRpc3RhbmNlcyA9IG1ha2UoW111aW50MzIs
IG51bURpc3RhbmNlcykKKwlmb3IgaSwgdiA6PSByYW5nZSBjRGlzdGFuY2VzIHsKKwkJeC5EaXN0
YW5jZXNbaV0gPSB1aW50MzIodikKKwl9CiAJeC5Qbm9kZSA9IHVpbnQzMih4Yy5wbm9kZSkKIAlp
ZiBlcnIgOj0geC5WY3B1cy5mcm9tQygmeGMudmNwdXMpOyBlcnIgIT0gbmlsIHsKIAkJcmV0dXJu
IGVycgpAQCAtMzA4LDYgKzMyNCwyNiBAQCBmdW5jICh4ICpEb21haW5CdWlsZEluZm8pIGZyb21D
KHhjICpDLmxpYnhsX2RvbWFpbl9idWlsZF9pbmZvKSBlcnJvciB7CiAJaWYgZXJyIDo9IHguTm9k
ZW1hcC5mcm9tQygmeGMubm9kZW1hcCk7IGVyciAhPSBuaWwgewogCQlyZXR1cm4gZXJyCiAJfQor
CW51bVZjcHVIYXJkQWZmaW5pdHkgOj0gaW50KHhjLm51bV92Y3B1X2hhcmRfYWZmaW5pdHkpCisJ
Y1ZjcHVIYXJkQWZmaW5pdHkgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX2JpdG1hcCkodW5zYWZlLlBv
aW50ZXIoeGMudmNwdV9oYXJkX2FmZmluaXR5KSlbOm51bVZjcHVIYXJkQWZmaW5pdHk6bnVtVmNw
dUhhcmRBZmZpbml0eV0KKwl4LlZjcHVIYXJkQWZmaW5pdHkgPSBtYWtlKFtdQml0bWFwLCBudW1W
Y3B1SGFyZEFmZmluaXR5KQorCWZvciBpLCB2IDo9IHJhbmdlIGNWY3B1SGFyZEFmZmluaXR5IHsK
KwkJdmFyIGUgQml0bWFwCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJ
CQlyZXR1cm4gZXJyCisJCX0KKwkJeC5WY3B1SGFyZEFmZmluaXR5W2ldID0gZQorCX0KKwludW1W
Y3B1U29mdEFmZmluaXR5IDo9IGludCh4Yy5udW1fdmNwdV9zb2Z0X2FmZmluaXR5KQorCWNWY3B1
U29mdEFmZmluaXR5IDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9iaXRtYXApKHVuc2FmZS5Qb2ludGVy
KHhjLnZjcHVfc29mdF9hZmZpbml0eSkpWzpudW1WY3B1U29mdEFmZmluaXR5Om51bVZjcHVTb2Z0
QWZmaW5pdHldCisJeC5WY3B1U29mdEFmZmluaXR5ID0gbWFrZShbXUJpdG1hcCwgbnVtVmNwdVNv
ZnRBZmZpbml0eSkKKwlmb3IgaSwgdiA6PSByYW5nZSBjVmNwdVNvZnRBZmZpbml0eSB7CisJCXZh
ciBlIEJpdG1hcAorCQlpZiBlcnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0
dXJuIGVycgorCQl9CisJCXguVmNwdVNvZnRBZmZpbml0eVtpXSA9IGUKKwl9CiAJaWYgZXJyIDo9
IHguTnVtYVBsYWNlbWVudC5mcm9tQygmeGMubnVtYV9wbGFjZW1lbnQpOyBlcnIgIT0gbmlsIHsK
IAkJcmV0dXJuIGVycgogCX0KQEAgLTMzMCw2ICszNjYsMTYgQEAgZnVuYyAoeCAqRG9tYWluQnVp
bGRJbmZvKSBmcm9tQyh4YyAqQy5saWJ4bF9kb21haW5fYnVpbGRfaW5mbykgZXJyb3IgewogCQly
ZXR1cm4gZXJyCiAJfQogCXguQmxrZGV2U3RhcnQgPSBDLkdvU3RyaW5nKHhjLmJsa2Rldl9zdGFy
dCkKKwludW1WbnVtYU5vZGVzIDo9IGludCh4Yy5udW1fdm51bWFfbm9kZXMpCisJY1ZudW1hTm9k
ZXMgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX3Zub2RlX2luZm8pKHVuc2FmZS5Qb2ludGVyKHhjLnZu
dW1hX25vZGVzKSlbOm51bVZudW1hTm9kZXM6bnVtVm51bWFOb2Rlc10KKwl4LlZudW1hTm9kZXMg
PSBtYWtlKFtdVm5vZGVJbmZvLCBudW1WbnVtYU5vZGVzKQorCWZvciBpLCB2IDo9IHJhbmdlIGNW
bnVtYU5vZGVzIHsKKwkJdmFyIGUgVm5vZGVJbmZvCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsg
ZXJyICE9IG5pbCB7CisJCQlyZXR1cm4gZXJyCisJCX0KKwkJeC5WbnVtYU5vZGVzW2ldID0gZQor
CX0KIAl4Lk1heEdyYW50RnJhbWVzID0gdWludDMyKHhjLm1heF9ncmFudF9mcmFtZXMpCiAJeC5N
YXhNYXB0cmFja0ZyYW1lcyA9IHVpbnQzMih4Yy5tYXhfbWFwdHJhY2tfZnJhbWVzKQogCXguRGV2
aWNlTW9kZWxWZXJzaW9uID0gRGV2aWNlTW9kZWxWZXJzaW9uKHhjLmRldmljZV9tb2RlbF92ZXJz
aW9uKQpAQCAtMzUyLDYgKzM5OCwzMiBAQCBmdW5jICh4ICpEb21haW5CdWlsZEluZm8pIGZyb21D
KHhjICpDLmxpYnhsX2RvbWFpbl9idWlsZF9pbmZvKSBlcnJvciB7CiAJaWYgZXJyIDo9IHguU2No
ZWRQYXJhbXMuZnJvbUMoJnhjLnNjaGVkX3BhcmFtcyk7IGVyciAhPSBuaWwgewogCQlyZXR1cm4g
ZXJyCiAJfQorCW51bUlvcG9ydHMgOj0gaW50KHhjLm51bV9pb3BvcnRzKQorCWNJb3BvcnRzIDo9
ICgqWzEgPDwgMjhdQy5saWJ4bF9pb3BvcnRfcmFuZ2UpKHVuc2FmZS5Qb2ludGVyKHhjLmlvcG9y
dHMpKVs6bnVtSW9wb3J0czpudW1Jb3BvcnRzXQorCXguSW9wb3J0cyA9IG1ha2UoW11Jb3BvcnRS
YW5nZSwgbnVtSW9wb3J0cykKKwlmb3IgaSwgdiA6PSByYW5nZSBjSW9wb3J0cyB7CisJCXZhciBl
IElvcG9ydFJhbmdlCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQly
ZXR1cm4gZXJyCisJCX0KKwkJeC5Jb3BvcnRzW2ldID0gZQorCX0KKwludW1JcnFzIDo9IGludCh4
Yy5udW1faXJxcykKKwljSXJxcyA6PSAoKlsxIDw8IDI4XUMudWludDMyX3QpKHVuc2FmZS5Qb2lu
dGVyKHhjLmlycXMpKVs6bnVtSXJxczpudW1JcnFzXQorCXguSXJxcyA9IG1ha2UoW111aW50MzIs
IG51bUlycXMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY0lycXMgeworCQl4LklycXNbaV0gPSB1aW50
MzIodikKKwl9CisJbnVtSW9tZW0gOj0gaW50KHhjLm51bV9pb21lbSkKKwljSW9tZW0gOj0gKCpb
MSA8PCAyOF1DLmxpYnhsX2lvbWVtX3JhbmdlKSh1bnNhZmUuUG9pbnRlcih4Yy5pb21lbSkpWzpu
dW1Jb21lbTpudW1Jb21lbV0KKwl4LklvbWVtID0gbWFrZShbXUlvbWVtUmFuZ2UsIG51bUlvbWVt
KQorCWZvciBpLCB2IDo9IHJhbmdlIGNJb21lbSB7CisJCXZhciBlIElvbWVtUmFuZ2UKKwkJaWYg
ZXJyIDo9IGUuZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQorCQl4
LklvbWVtW2ldID0gZQorCX0KIAlpZiBlcnIgOj0geC5DbGFpbU1vZGUuZnJvbUMoJnhjLmNsYWlt
X21vZGUpOyBlcnIgIT0gbmlsIHsKIAkJcmV0dXJuIGVycgogCX0KQEAgLTgzMSwxMSArOTAzLDMz
IEBAIGZ1bmMgKHggKkRldmljZVZkaXNwbCkgZnJvbUMoeGMgKkMubGlieGxfZGV2aWNlX3ZkaXNw
bCkgZXJyb3IgewogCXguQmFja2VuZERvbW5hbWUgPSBDLkdvU3RyaW5nKHhjLmJhY2tlbmRfZG9t
bmFtZSkKIAl4LkRldmlkID0gRGV2aWQoeGMuZGV2aWQpCiAJeC5CZUFsbG9jID0gYm9vbCh4Yy5i
ZV9hbGxvYykKKwludW1Db25uZWN0b3JzIDo9IGludCh4Yy5udW1fY29ubmVjdG9ycykKKwljQ29u
bmVjdG9ycyA6PSAoKlsxIDw8IDI4XUMubGlieGxfY29ubmVjdG9yX3BhcmFtKSh1bnNhZmUuUG9p
bnRlcih4Yy5jb25uZWN0b3JzKSlbOm51bUNvbm5lY3RvcnM6bnVtQ29ubmVjdG9yc10KKwl4LkNv
bm5lY3RvcnMgPSBtYWtlKFtdQ29ubmVjdG9yUGFyYW0sIG51bUNvbm5lY3RvcnMpCisJZm9yIGks
IHYgOj0gcmFuZ2UgY0Nvbm5lY3RvcnMgeworCQl2YXIgZSBDb25uZWN0b3JQYXJhbQorCQlpZiBl
cnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJuIGVycgorCQl9CisJCXgu
Q29ubmVjdG9yc1tpXSA9IGUKKwl9CiAKIAlyZXR1cm4gbmlsCiB9CiAKIGZ1bmMgKHggKlZzbmRQ
YXJhbXMpIGZyb21DKHhjICpDLmxpYnhsX3ZzbmRfcGFyYW1zKSBlcnJvciB7CisJbnVtU2FtcGxl
UmF0ZXMgOj0gaW50KHhjLm51bV9zYW1wbGVfcmF0ZXMpCisJY1NhbXBsZVJhdGVzIDo9ICgqWzEg
PDwgMjhdQy51aW50MzJfdCkodW5zYWZlLlBvaW50ZXIoeGMuc2FtcGxlX3JhdGVzKSlbOm51bVNh
bXBsZVJhdGVzOm51bVNhbXBsZVJhdGVzXQorCXguU2FtcGxlUmF0ZXMgPSBtYWtlKFtddWludDMy
LCBudW1TYW1wbGVSYXRlcykKKwlmb3IgaSwgdiA6PSByYW5nZSBjU2FtcGxlUmF0ZXMgeworCQl4
LlNhbXBsZVJhdGVzW2ldID0gdWludDMyKHYpCisJfQorCW51bVNhbXBsZUZvcm1hdHMgOj0gaW50
KHhjLm51bV9zYW1wbGVfZm9ybWF0cykKKwljU2FtcGxlRm9ybWF0cyA6PSAoKlsxIDw8IDI4XUMu
bGlieGxfdnNuZF9wY21fZm9ybWF0KSh1bnNhZmUuUG9pbnRlcih4Yy5zYW1wbGVfZm9ybWF0cykp
WzpudW1TYW1wbGVGb3JtYXRzOm51bVNhbXBsZUZvcm1hdHNdCisJeC5TYW1wbGVGb3JtYXRzID0g
bWFrZShbXVZzbmRQY21Gb3JtYXQsIG51bVNhbXBsZUZvcm1hdHMpCisJZm9yIGksIHYgOj0gcmFu
Z2UgY1NhbXBsZUZvcm1hdHMgeworCQl4LlNhbXBsZUZvcm1hdHNbaV0gPSBWc25kUGNtRm9ybWF0
KHYpCisJfQogCXguQ2hhbm5lbHNNaW4gPSB1aW50MzIoeGMuY2hhbm5lbHNfbWluKQogCXguQ2hh
bm5lbHNNYXggPSB1aW50MzIoeGMuY2hhbm5lbHNfbWF4KQogCXguQnVmZmVyU2l6ZSA9IHVpbnQz
Mih4Yy5idWZmZXJfc2l6ZSkKQEAgLTg1OCw2ICs5NTIsMTYgQEAgZnVuYyAoeCAqVnNuZFBjbSkg
ZnJvbUMoeGMgKkMubGlieGxfdnNuZF9wY20pIGVycm9yIHsKIAlpZiBlcnIgOj0geC5QYXJhbXMu
ZnJvbUMoJnhjLnBhcmFtcyk7IGVyciAhPSBuaWwgewogCQlyZXR1cm4gZXJyCiAJfQorCW51bVZz
bmRTdHJlYW1zIDo9IGludCh4Yy5udW1fdnNuZF9zdHJlYW1zKQorCWNTdHJlYW1zIDo9ICgqWzEg
PDwgMjhdQy5saWJ4bF92c25kX3N0cmVhbSkodW5zYWZlLlBvaW50ZXIoeGMuc3RyZWFtcykpWzpu
dW1Wc25kU3RyZWFtczpudW1Wc25kU3RyZWFtc10KKwl4LlN0cmVhbXMgPSBtYWtlKFtdVnNuZFN0
cmVhbSwgbnVtVnNuZFN0cmVhbXMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY1N0cmVhbXMgeworCQl2
YXIgZSBWc25kU3RyZWFtCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJ
CQlyZXR1cm4gZXJyCisJCX0KKwkJeC5TdHJlYW1zW2ldID0gZQorCX0KIAogCXJldHVybiBuaWwK
IH0KQEAgLTg3MSw2ICs5NzUsMTYgQEAgZnVuYyAoeCAqRGV2aWNlVnNuZCkgZnJvbUMoeGMgKkMu
bGlieGxfZGV2aWNlX3ZzbmQpIGVycm9yIHsKIAlpZiBlcnIgOj0geC5QYXJhbXMuZnJvbUMoJnhj
LnBhcmFtcyk7IGVyciAhPSBuaWwgewogCQlyZXR1cm4gZXJyCiAJfQorCW51bVZzbmRQY21zIDo9
IGludCh4Yy5udW1fdnNuZF9wY21zKQorCWNQY21zIDo9ICgqWzEgPDwgMjhdQy5saWJ4bF92c25k
X3BjbSkodW5zYWZlLlBvaW50ZXIoeGMucGNtcykpWzpudW1Wc25kUGNtczpudW1Wc25kUGNtc10K
Kwl4LlBjbXMgPSBtYWtlKFtdVnNuZFBjbSwgbnVtVnNuZFBjbXMpCisJZm9yIGksIHYgOj0gcmFu
Z2UgY1BjbXMgeworCQl2YXIgZSBWc25kUGNtCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJy
ICE9IG5pbCB7CisJCQlyZXR1cm4gZXJyCisJCX0KKwkJeC5QY21zW2ldID0gZQorCX0KIAogCXJl
dHVybiBuaWwKIH0KQEAgLTg4Miw2ICs5OTYsMTU2IEBAIGZ1bmMgKHggKkRvbWFpbkNvbmZpZykg
ZnJvbUMoeGMgKkMubGlieGxfZG9tYWluX2NvbmZpZykgZXJyb3IgewogCWlmIGVyciA6PSB4LkJJ
bmZvLmZyb21DKCZ4Yy5iX2luZm8pOyBlcnIgIT0gbmlsIHsKIAkJcmV0dXJuIGVycgogCX0KKwlu
dW1EaXNrcyA6PSBpbnQoeGMubnVtX2Rpc2tzKQorCWNEaXNrcyA6PSAoKlsxIDw8IDI4XUMubGli
eGxfZGV2aWNlX2Rpc2spKHVuc2FmZS5Qb2ludGVyKHhjLmRpc2tzKSlbOm51bURpc2tzOm51bURp
c2tzXQorCXguRGlza3MgPSBtYWtlKFtdRGV2aWNlRGlzaywgbnVtRGlza3MpCisJZm9yIGksIHYg
Oj0gcmFuZ2UgY0Rpc2tzIHsKKwkJdmFyIGUgRGV2aWNlRGlzaworCQlpZiBlcnIgOj0gZS5mcm9t
Qygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJuIGVycgorCQl9CisJCXguRGlza3NbaV0gPSBl
CisJfQorCW51bU5pY3MgOj0gaW50KHhjLm51bV9uaWNzKQorCWNOaWNzIDo9ICgqWzEgPDwgMjhd
Qy5saWJ4bF9kZXZpY2VfbmljKSh1bnNhZmUuUG9pbnRlcih4Yy5uaWNzKSlbOm51bU5pY3M6bnVt
Tmljc10KKwl4Lk5pY3MgPSBtYWtlKFtdRGV2aWNlTmljLCBudW1OaWNzKQorCWZvciBpLCB2IDo9
IHJhbmdlIGNOaWNzIHsKKwkJdmFyIGUgRGV2aWNlTmljCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2
KTsgZXJyICE9IG5pbCB7CisJCQlyZXR1cm4gZXJyCisJCX0KKwkJeC5OaWNzW2ldID0gZQorCX0K
KwludW1QY2lkZXZzIDo9IGludCh4Yy5udW1fcGNpZGV2cykKKwljUGNpZGV2cyA6PSAoKlsxIDw8
IDI4XUMubGlieGxfZGV2aWNlX3BjaSkodW5zYWZlLlBvaW50ZXIoeGMucGNpZGV2cykpWzpudW1Q
Y2lkZXZzOm51bVBjaWRldnNdCisJeC5QY2lkZXZzID0gbWFrZShbXURldmljZVBjaSwgbnVtUGNp
ZGV2cykKKwlmb3IgaSwgdiA6PSByYW5nZSBjUGNpZGV2cyB7CisJCXZhciBlIERldmljZVBjaQor
CQlpZiBlcnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJuIGVycgorCQl9
CisJCXguUGNpZGV2c1tpXSA9IGUKKwl9CisJbnVtUmRtcyA6PSBpbnQoeGMubnVtX3JkbXMpCisJ
Y1JkbXMgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX2RldmljZV9yZG0pKHVuc2FmZS5Qb2ludGVyKHhj
LnJkbXMpKVs6bnVtUmRtczpudW1SZG1zXQorCXguUmRtcyA9IG1ha2UoW11EZXZpY2VSZG0sIG51
bVJkbXMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY1JkbXMgeworCQl2YXIgZSBEZXZpY2VSZG0KKwkJ
aWYgZXJyIDo9IGUuZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQor
CQl4LlJkbXNbaV0gPSBlCisJfQorCW51bUR0ZGV2cyA6PSBpbnQoeGMubnVtX2R0ZGV2cykKKwlj
RHRkZXZzIDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9kZXZpY2VfZHRkZXYpKHVuc2FmZS5Qb2ludGVy
KHhjLmR0ZGV2cykpWzpudW1EdGRldnM6bnVtRHRkZXZzXQorCXguRHRkZXZzID0gbWFrZShbXURl
dmljZUR0ZGV2LCBudW1EdGRldnMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY0R0ZGV2cyB7CisJCXZh
ciBlIERldmljZUR0ZGV2CisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJ
CQlyZXR1cm4gZXJyCisJCX0KKwkJeC5EdGRldnNbaV0gPSBlCisJfQorCW51bVZmYnMgOj0gaW50
KHhjLm51bV92ZmJzKQorCWNWZmJzIDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9kZXZpY2VfdmZiKSh1
bnNhZmUuUG9pbnRlcih4Yy52ZmJzKSlbOm51bVZmYnM6bnVtVmZic10KKwl4LlZmYnMgPSBtYWtl
KFtdRGV2aWNlVmZiLCBudW1WZmJzKQorCWZvciBpLCB2IDo9IHJhbmdlIGNWZmJzIHsKKwkJdmFy
IGUgRGV2aWNlVmZiCisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQly
ZXR1cm4gZXJyCisJCX0KKwkJeC5WZmJzW2ldID0gZQorCX0KKwludW1Wa2JzIDo9IGludCh4Yy5u
dW1fdmticykKKwljVmticyA6PSAoKlsxIDw8IDI4XUMubGlieGxfZGV2aWNlX3ZrYikodW5zYWZl
LlBvaW50ZXIoeGMudmticykpWzpudW1Wa2JzOm51bVZrYnNdCisJeC5Wa2JzID0gbWFrZShbXURl
dmljZVZrYiwgbnVtVmticykKKwlmb3IgaSwgdiA6PSByYW5nZSBjVmticyB7CisJCXZhciBlIERl
dmljZVZrYgorCQlpZiBlcnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJu
IGVycgorCQl9CisJCXguVmtic1tpXSA9IGUKKwl9CisJbnVtVnRwbXMgOj0gaW50KHhjLm51bV92
dHBtcykKKwljVnRwbXMgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX2RldmljZV92dHBtKSh1bnNhZmUu
UG9pbnRlcih4Yy52dHBtcykpWzpudW1WdHBtczpudW1WdHBtc10KKwl4LlZ0cG1zID0gbWFrZShb
XURldmljZVZ0cG0sIG51bVZ0cG1zKQorCWZvciBpLCB2IDo9IHJhbmdlIGNWdHBtcyB7CisJCXZh
ciBlIERldmljZVZ0cG0KKwkJaWYgZXJyIDo9IGUuZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJ
CXJldHVybiBlcnIKKwkJfQorCQl4LlZ0cG1zW2ldID0gZQorCX0KKwludW1QOVMgOj0gaW50KHhj
Lm51bV9wOXMpCisJY1A5UyA6PSAoKlsxIDw8IDI4XUMubGlieGxfZGV2aWNlX3A5KSh1bnNhZmUu
UG9pbnRlcih4Yy5wOXMpKVs6bnVtUDlTOm51bVA5U10KKwl4LlA5UyA9IG1ha2UoW11EZXZpY2VQ
OSwgbnVtUDlTKQorCWZvciBpLCB2IDo9IHJhbmdlIGNQOVMgeworCQl2YXIgZSBEZXZpY2VQOQor
CQlpZiBlcnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJuIGVycgorCQl9
CisJCXguUDlTW2ldID0gZQorCX0KKwludW1QdmNhbGxzaWZzIDo9IGludCh4Yy5udW1fcHZjYWxs
c2lmcykKKwljUHZjYWxsc2lmcyA6PSAoKlsxIDw8IDI4XUMubGlieGxfZGV2aWNlX3B2Y2FsbHNp
ZikodW5zYWZlLlBvaW50ZXIoeGMucHZjYWxsc2lmcykpWzpudW1QdmNhbGxzaWZzOm51bVB2Y2Fs
bHNpZnNdCisJeC5QdmNhbGxzaWZzID0gbWFrZShbXURldmljZVB2Y2FsbHNpZiwgbnVtUHZjYWxs
c2lmcykKKwlmb3IgaSwgdiA6PSByYW5nZSBjUHZjYWxsc2lmcyB7CisJCXZhciBlIERldmljZVB2
Y2FsbHNpZgorCQlpZiBlcnIgOj0gZS5mcm9tQygmdik7IGVyciAhPSBuaWwgeworCQkJcmV0dXJu
IGVycgorCQl9CisJCXguUHZjYWxsc2lmc1tpXSA9IGUKKwl9CisJbnVtVmRpc3BscyA6PSBpbnQo
eGMubnVtX3ZkaXNwbHMpCisJY1ZkaXNwbHMgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX2RldmljZV92
ZGlzcGwpKHVuc2FmZS5Qb2ludGVyKHhjLnZkaXNwbHMpKVs6bnVtVmRpc3BsczpudW1WZGlzcGxz
XQorCXguVmRpc3BscyA9IG1ha2UoW11EZXZpY2VWZGlzcGwsIG51bVZkaXNwbHMpCisJZm9yIGks
IHYgOj0gcmFuZ2UgY1ZkaXNwbHMgeworCQl2YXIgZSBEZXZpY2VWZGlzcGwKKwkJaWYgZXJyIDo9
IGUuZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQorCQl4LlZkaXNw
bHNbaV0gPSBlCisJfQorCW51bVZzbmRzIDo9IGludCh4Yy5udW1fdnNuZHMpCisJY1ZzbmRzIDo9
ICgqWzEgPDwgMjhdQy5saWJ4bF9kZXZpY2VfdnNuZCkodW5zYWZlLlBvaW50ZXIoeGMudnNuZHMp
KVs6bnVtVnNuZHM6bnVtVnNuZHNdCisJeC5Wc25kcyA9IG1ha2UoW11EZXZpY2VWc25kLCBudW1W
c25kcykKKwlmb3IgaSwgdiA6PSByYW5nZSBjVnNuZHMgeworCQl2YXIgZSBEZXZpY2VWc25kCisJ
CWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQlyZXR1cm4gZXJyCisJCX0K
KwkJeC5Wc25kc1tpXSA9IGUKKwl9CisJbnVtQ2hhbm5lbHMgOj0gaW50KHhjLm51bV9jaGFubmVs
cykKKwljQ2hhbm5lbHMgOj0gKCpbMSA8PCAyOF1DLmxpYnhsX2RldmljZV9jaGFubmVsKSh1bnNh
ZmUuUG9pbnRlcih4Yy5jaGFubmVscykpWzpudW1DaGFubmVsczpudW1DaGFubmVsc10KKwl4LkNo
YW5uZWxzID0gbWFrZShbXURldmljZUNoYW5uZWwsIG51bUNoYW5uZWxzKQorCWZvciBpLCB2IDo9
IHJhbmdlIGNDaGFubmVscyB7CisJCXZhciBlIERldmljZUNoYW5uZWwKKwkJaWYgZXJyIDo9IGUu
ZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQorCQl4LkNoYW5uZWxz
W2ldID0gZQorCX0KKwludW1Vc2JjdHJscyA6PSBpbnQoeGMubnVtX3VzYmN0cmxzKQorCWNVc2Jj
dHJscyA6PSAoKlsxIDw8IDI4XUMubGlieGxfZGV2aWNlX3VzYmN0cmwpKHVuc2FmZS5Qb2ludGVy
KHhjLnVzYmN0cmxzKSlbOm51bVVzYmN0cmxzOm51bVVzYmN0cmxzXQorCXguVXNiY3RybHMgPSBt
YWtlKFtdRGV2aWNlVXNiY3RybCwgbnVtVXNiY3RybHMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY1Vz
YmN0cmxzIHsKKwkJdmFyIGUgRGV2aWNlVXNiY3RybAorCQlpZiBlcnIgOj0gZS5mcm9tQygmdik7
IGVyciAhPSBuaWwgeworCQkJcmV0dXJuIGVycgorCQl9CisJCXguVXNiY3RybHNbaV0gPSBlCisJ
fQorCW51bVVzYmRldnMgOj0gaW50KHhjLm51bV91c2JkZXZzKQorCWNVc2JkZXZzIDo9ICgqWzEg
PDwgMjhdQy5saWJ4bF9kZXZpY2VfdXNiZGV2KSh1bnNhZmUuUG9pbnRlcih4Yy51c2JkZXZzKSlb
Om51bVVzYmRldnM6bnVtVXNiZGV2c10KKwl4LlVzYmRldnMgPSBtYWtlKFtdRGV2aWNlVXNiZGV2
LCBudW1Vc2JkZXZzKQorCWZvciBpLCB2IDo9IHJhbmdlIGNVc2JkZXZzIHsKKwkJdmFyIGUgRGV2
aWNlVXNiZGV2CisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQlyZXR1
cm4gZXJyCisJCX0KKwkJeC5Vc2JkZXZzW2ldID0gZQorCX0KIAl4Lk9uUG93ZXJvZmYgPSBBY3Rp
b25PblNodXRkb3duKHhjLm9uX3Bvd2Vyb2ZmKQogCXguT25SZWJvb3QgPSBBY3Rpb25PblNodXRk
b3duKHhjLm9uX3JlYm9vdCkKIAl4Lk9uV2F0Y2hkb2cgPSBBY3Rpb25PblNodXRkb3duKHhjLm9u
X3dhdGNoZG9nKQpAQCAtMTAxNSw2ICsxMjc5LDE2IEBAIGZ1bmMgKHggKlZkaXNwbGluZm8pIGZy
b21DKHhjICpDLmxpYnhsX3ZkaXNwbGluZm8pIGVycm9yIHsKIAl4LkRldmlkID0gRGV2aWQoeGMu
ZGV2aWQpCiAJeC5TdGF0ZSA9IGludCh4Yy5zdGF0ZSkKIAl4LkJlQWxsb2MgPSBib29sKHhjLmJl
X2FsbG9jKQorCW51bUNvbm5lY3RvcnMgOj0gaW50KHhjLm51bV9jb25uZWN0b3JzKQorCWNDb25u
ZWN0b3JzIDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9jb25uZWN0b3JpbmZvKSh1bnNhZmUuUG9pbnRl
cih4Yy5jb25uZWN0b3JzKSlbOm51bUNvbm5lY3RvcnM6bnVtQ29ubmVjdG9yc10KKwl4LkNvbm5l
Y3RvcnMgPSBtYWtlKFtdQ29ubmVjdG9yaW5mbywgbnVtQ29ubmVjdG9ycykKKwlmb3IgaSwgdiA6
PSByYW5nZSBjQ29ubmVjdG9ycyB7CisJCXZhciBlIENvbm5lY3RvcmluZm8KKwkJaWYgZXJyIDo9
IGUuZnJvbUMoJnYpOyBlcnIgIT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQorCQl4LkNvbm5l
Y3RvcnNbaV0gPSBlCisJfQogCiAJcmV0dXJuIG5pbAogfQpAQCAtMTAyNyw2ICsxMzAxLDE2IEBA
IGZ1bmMgKHggKlN0cmVhbWluZm8pIGZyb21DKHhjICpDLmxpYnhsX3N0cmVhbWluZm8pIGVycm9y
IHsKIH0KIAogZnVuYyAoeCAqUGNtaW5mbykgZnJvbUMoeGMgKkMubGlieGxfcGNtaW5mbykgZXJy
b3IgeworCW51bVZzbmRTdHJlYW1zIDo9IGludCh4Yy5udW1fdnNuZF9zdHJlYW1zKQorCWNTdHJl
YW1zIDo9ICgqWzEgPDwgMjhdQy5saWJ4bF9zdHJlYW1pbmZvKSh1bnNhZmUuUG9pbnRlcih4Yy5z
dHJlYW1zKSlbOm51bVZzbmRTdHJlYW1zOm51bVZzbmRTdHJlYW1zXQorCXguU3RyZWFtcyA9IG1h
a2UoW11TdHJlYW1pbmZvLCBudW1Wc25kU3RyZWFtcykKKwlmb3IgaSwgdiA6PSByYW5nZSBjU3Ry
ZWFtcyB7CisJCXZhciBlIFN0cmVhbWluZm8KKwkJaWYgZXJyIDo9IGUuZnJvbUMoJnYpOyBlcnIg
IT0gbmlsIHsKKwkJCXJldHVybiBlcnIKKwkJfQorCQl4LlN0cmVhbXNbaV0gPSBlCisJfQogCiAJ
cmV0dXJuIG5pbAogfQpAQCAtMTAzOCw2ICsxMzIyLDE2IEBAIGZ1bmMgKHggKlZzbmRpbmZvKSBm
cm9tQyh4YyAqQy5saWJ4bF92c25kaW5mbykgZXJyb3IgewogCXguRnJvbnRlbmRJZCA9IHVpbnQz
Mih4Yy5mcm9udGVuZF9pZCkKIAl4LkRldmlkID0gRGV2aWQoeGMuZGV2aWQpCiAJeC5TdGF0ZSA9
IGludCh4Yy5zdGF0ZSkKKwludW1Wc25kUGNtcyA6PSBpbnQoeGMubnVtX3ZzbmRfcGNtcykKKwlj
UGNtcyA6PSAoKlsxIDw8IDI4XUMubGlieGxfcGNtaW5mbykodW5zYWZlLlBvaW50ZXIoeGMucGNt
cykpWzpudW1Wc25kUGNtczpudW1Wc25kUGNtc10KKwl4LlBjbXMgPSBtYWtlKFtdUGNtaW5mbywg
bnVtVnNuZFBjbXMpCisJZm9yIGksIHYgOj0gcmFuZ2UgY1BjbXMgeworCQl2YXIgZSBQY21pbmZv
CisJCWlmIGVyciA6PSBlLmZyb21DKCZ2KTsgZXJyICE9IG5pbCB7CisJCQlyZXR1cm4gZXJyCisJ
CX0KKwkJeC5QY21zW2ldID0gZQorCX0KIAogCXJldHVybiBuaWwKIH0KQEAgLTEwNTgsNiArMTM1
MiwxMiBAQCBmdW5jICh4ICpWa2JpbmZvKSBmcm9tQyh4YyAqQy5saWJ4bF92a2JpbmZvKSBlcnJv
ciB7CiBmdW5jICh4ICpOdW1haW5mbykgZnJvbUMoeGMgKkMubGlieGxfbnVtYWluZm8pIGVycm9y
IHsKIAl4LlNpemUgPSB1aW50NjQoeGMuc2l6ZSkKIAl4LkZyZWUgPSB1aW50NjQoeGMuZnJlZSkK
KwludW1EaXN0cyA6PSBpbnQoeGMubnVtX2Rpc3RzKQorCWNEaXN0cyA6PSAoKlsxIDw8IDI4XUMu
dWludDMyX3QpKHVuc2FmZS5Qb2ludGVyKHhjLmRpc3RzKSlbOm51bURpc3RzOm51bURpc3RzXQor
CXguRGlzdHMgPSBtYWtlKFtddWludDMyLCBudW1EaXN0cykKKwlmb3IgaSwgdiA6PSByYW5nZSBj
RGlzdHMgeworCQl4LkRpc3RzW2ldID0gdWludDMyKHYpCisJfQogCiAJcmV0dXJuIG5pbAogfQot
LSAKMi4xOS4xCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcK
aHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

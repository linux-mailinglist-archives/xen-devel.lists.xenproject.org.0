Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 634668326B
	for <lists+xen-devel@lfdr.de>; Tue,  6 Aug 2019 15:12:37 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1huzDk-0003gF-Hq; Tue, 06 Aug 2019 13:09:44 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=jalH=WC=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1huzDj-0003fv-0L
 for xen-devel@lists.xenproject.org; Tue, 06 Aug 2019 13:09:43 +0000
X-Inumbo-ID: 73927de2-b84b-11e9-911d-8b8cdfecc82c
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 73927de2-b84b-11e9-911d-8b8cdfecc82c;
 Tue, 06 Aug 2019 13:09:41 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 06984B636;
 Tue,  6 Aug 2019 13:09:41 +0000 (UTC)
From: Jan Beulich <jbeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <5a4d4a61-a543-c657-8458-cbc6b5a8a633@suse.com>
Message-ID: <eca36271-656a-ba89-134d-937a9d0bb403@suse.com>
Date: Tue, 6 Aug 2019 15:09:41 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <5a4d4a61-a543-c657-8458-cbc6b5a8a633@suse.com>
Content-Language: en-US
Subject: [Xen-devel] [PATCH v5 06/10] AMD/IOMMU: don't blindly allocate
 interrupt remapping tables
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 Brian Woods <brian.woods@amd.com>,
 Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QUNQSSB0YWJsZXMgYXJlIGZyZWUgdG8gbGlzdCBmYXIgbW9yZSBkZXZpY2UgY29vcmRpbmF0ZXMg
dGhhbiB0aGVyZSBhcmUKYWN0dWFsIGRldmljZXMuIEJ5IGRlbGF5aW5nIHRoZSB0YWJsZSBhbGxv
Y2F0aW9ucyBmb3IgbW9zdCBjYXNlcywgYW5kCmRvaW5nIHRoZW0gb25seSB3aGVuIGFuIGFjdHVh
bCBkZXZpY2UgaXMga25vd24gdG8gYmUgcHJlc2VudCBhdCBhIGdpdmVuCnBvc2l0aW9uLCBvdmVy
YWxsIG1lbW9yeSB1c2VkIGZvciB0aGUgdGFibGVzIGdvZXMgZG93biBmcm9tIG92ZXIgNTAwawpw
YWdlcyB0byBqdXN0IG92ZXIgMWsgb25lcy4KClRhYmxlcyBjb250aW51ZSB0byBnZXQgYWxsb2Nh
dGVkIHJpZ2h0IGF3YXkgZm9yIHNwZWNpYWwgZW50cmllcwooSU8tQVBJQywgSFBFVCkgYXMgd2Vs
bCBhcyBmb3IgYWxpYXMgSURzLiBXaGlsZSBpbiB0aGUgZm9ybWVyIGNhc2UKdGhhdCdzIHNpbXBs
eSBiZWNhdXNlIHRoZXJlIG1heSBub3QgYmUgYW55IGRldmljZSBhdCBhIGdpdmVuIHBvc2l0aW9u
LAppbiB0aGUgbGF0dGVyIGNhc2UgdGhpcyBpcyB0byBhdm9pZCBoYXZpbmcgdG8gaW50cm9kdWNl
IHJlZi1jb3VudGluZyBvZgp0YWJsZSB1c2FnZS4KClRoZSBjaGFuZ2UgaW52b2x2ZXMgaW52b2tp
bmcKaXRlcmF0ZV9pdnJzX21hcHBpbmdzKGFtZF9pb21tdV9zZXR1cF9kZXZpY2VfdGFibGUpIGEg
c2Vjb25kIHRpbWUsCmJlY2F1c2UgdGhlIGZ1bmN0aW9uIG5vdyB3YW50cyB0byBiZSBhYmxlIHRv
IGZpbmQgUENJIGRldmljZXMsIHdoaWNoCmlzbid0IHBvc3NpYmxlIHlldCB3aGVuIElPTU1VIHNl
dHVwIGhhcHBlbnMgdmVyeSBlYXJseSBkdXJpbmcgeDJBUElDCm1vZGUgc2V0dXAuIEluIHRoaXMg
Y29udGV4dCBhbWRfaW9tbXVfaW5pdF9pbnRlcnJ1cHQoKSBnZXRzIHJlbmFtZWQgYXMKd2VsbC4K
ClRoZSBsb2dpYyBhZGp1c3RpbmcgYSBEVEUncyBpbnRlcnJ1cHQgcmVtYXBwaW5nIGF0dHJpYnV0
ZXMgYWxzbyBnZXRzCmNoYW5nZWQsIHN1Y2ggdGhhdCB0aGUgbGFjayBvZiBhbiBJUlQgd291bGQg
cmVzdWx0IGluIHRhcmdldCBhYm9ydGVkCnJhdGhlciB0aGFuIG5vdCByZW1hcHBlZCBpbnRlcnJ1
cHRzIChzaG91bGQgYW55IG9jY3VyKS4KCk5vdGUgdGhhdCBmb3Igbm93IHBoYW50b20gZnVuY3Rp
b25zIGdldCBzZXBhcmF0ZSBJUlRzIGFsbG9jYXRlZCwgYXMgd2FzCnRoZSBjYXNlIGJlZm9yZS4K
ClNpZ25lZC1vZmYtYnk6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4KLS0tCnY1OiBO
ZXcuCi0tLQpUQkQ6IFRoaXMgcmV0YWlucyBwcmlvciAoYnV0IHN1c3BpY2lvdXMpIGJlaGF2aW9y
IG9mIG5vdCBjYWxsaW5nCiAgICAgIGFtZF9pb21tdV9zZXRfaW50cmVtYXBfdGFibGUoKSBmb3Ig
ImludmFsaWQiIElWUlMgbWFwcGluZyBlbnRyaWVzLgogICAgICBTaW5jZSBEVEUuSVY9MCBtZWFu
cyB1bi1yZW1hcHBlZCBpbnRlcnJ1cHRzLCBJIHdvbmRlciBpZiB0aGlzIG5lZWRzCiAgICAgIGNo
YW5naW5nLgoKQmFja3BvcnRpbmcgbm90ZTogVGhpcyBkZXBlbmRzIG9uIGI1ZmJlODExOTYgImlv
bW11IC8geDg2OiBtb3ZlIGNhbGwgdG8Kc2Nhbl9wY2lfZGV2aWNlcygpIG91dCBvZiB2ZW5kb3Ig
Y29kZSIhCgotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfYWNwaS5jCisr
KyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9hY3BpLmMKQEAgLTUzLDcgKzUz
LDggQEAgdW5pb24gYWNwaV9pdmhkX2RldmljZSB7CiAgfTsKICAKICBzdGF0aWMgdm9pZCBfX2lu
aXQgYWRkX2l2cnNfbWFwcGluZ19lbnRyeSgKLSAgICB1MTYgYmRmLCB1MTYgYWxpYXNfaWQsIHU4
IGZsYWdzLCBzdHJ1Y3QgYW1kX2lvbW11ICppb21tdSkKKyAgICB1aW50MTZfdCBiZGYsIHVpbnQx
Nl90IGFsaWFzX2lkLCB1aW50OF90IGZsYWdzLCBib29sIGFsbG9jX2lydCwKKyAgICBzdHJ1Y3Qg
YW1kX2lvbW11ICppb21tdSkKICB7CiAgICAgIHN0cnVjdCBpdnJzX21hcHBpbmdzICppdnJzX21h
cHBpbmdzID0gZ2V0X2l2cnNfbWFwcGluZ3MoaW9tbXUtPnNlZyk7CiAgCkBAIC02OSwyNyArNzAs
MzIgQEAgc3RhdGljIHZvaWQgX19pbml0IGFkZF9pdnJzX21hcHBpbmdfZW50cgogICAgICBpZiAo
IGlvbW11LT5iZGYgPT0gYmRmICkKICAgICAgICAgIHJldHVybjsKICAKLSAgICBpZiAoICFpdnJz
X21hcHBpbmdzW2FsaWFzX2lkXS5pbnRyZW1hcF90YWJsZSApCisgICAgLyogQWxsb2NhdGUgaW50
ZXJydXB0IHJlbWFwcGluZyB0YWJsZSBpZiBuZWVkZWQuICovCisgICAgaWYgKCBpb21tdV9pbnRy
ZW1hcCAmJiAhaXZyc19tYXBwaW5nc1thbGlhc19pZF0uaW50cmVtYXBfdGFibGUgKQogICAgICB7
Ci0gICAgICAgICAvKiBhbGxvY2F0ZSBwZXItZGV2aWNlIGludGVycnVwdCByZW1hcHBpbmcgdGFi
bGUgKi8KLSAgICAgICAgIGlmICggYW1kX2lvbW11X3BlcmRldl9pbnRyZW1hcCApCi0gICAgICAg
ICAgICAgaXZyc19tYXBwaW5nc1thbGlhc19pZF0uaW50cmVtYXBfdGFibGUgPQotICAgICAgICAg
ICAgICAgICBhbWRfaW9tbXVfYWxsb2NfaW50cmVtYXBfdGFibGUoCi0gICAgICAgICAgICAgICAg
ICAgICBpb21tdSwKLSAgICAgICAgICAgICAgICAgICAgICZpdnJzX21hcHBpbmdzW2FsaWFzX2lk
XS5pbnRyZW1hcF9pbnVzZSk7Ci0gICAgICAgICBlbHNlCi0gICAgICAgICB7Ci0gICAgICAgICAg
ICAgaWYgKCBzaGFyZWRfaW50cmVtYXBfdGFibGUgPT0gTlVMTCAgKQotICAgICAgICAgICAgICAg
ICBzaGFyZWRfaW50cmVtYXBfdGFibGUgPSBhbWRfaW9tbXVfYWxsb2NfaW50cmVtYXBfdGFibGUo
Ci0gICAgICAgICAgICAgICAgICAgICBpb21tdSwKLSAgICAgICAgICAgICAgICAgICAgICZzaGFy
ZWRfaW50cmVtYXBfaW51c2UpOwotICAgICAgICAgICAgIGl2cnNfbWFwcGluZ3NbYWxpYXNfaWRd
LmludHJlbWFwX3RhYmxlID0gc2hhcmVkX2ludHJlbWFwX3RhYmxlOwotICAgICAgICAgICAgIGl2
cnNfbWFwcGluZ3NbYWxpYXNfaWRdLmludHJlbWFwX2ludXNlID0gc2hhcmVkX2ludHJlbWFwX2lu
dXNlOwotICAgICAgICAgfQotCi0gICAgICAgICBpZiAoICFpdnJzX21hcHBpbmdzW2FsaWFzX2lk
XS5pbnRyZW1hcF90YWJsZSApCi0gICAgICAgICAgICAgcGFuaWMoIk5vIG1lbW9yeSBmb3IgJTA0
eDolMDJ4OiUwMnguJXUncyBJUlRcbiIsIGlvbW11LT5zZWcsCi0gICAgICAgICAgICAgICAgICAg
UENJX0JVUyhhbGlhc19pZCksIFBDSV9TTE9UKGFsaWFzX2lkKSwgUENJX0ZVTkMoYWxpYXNfaWQp
KTsKKyAgICAgICAgaWYgKCAhYW1kX2lvbW11X3BlcmRldl9pbnRyZW1hcCApCisgICAgICAgIHsK
KyAgICAgICAgICAgIGlmICggIXNoYXJlZF9pbnRyZW1hcF90YWJsZSApCisgICAgICAgICAgICAg
ICAgc2hhcmVkX2ludHJlbWFwX3RhYmxlID0gYW1kX2lvbW11X2FsbG9jX2ludHJlbWFwX3RhYmxl
KAorICAgICAgICAgICAgICAgICAgICBpb21tdSwgJnNoYXJlZF9pbnRyZW1hcF9pbnVzZSk7CisK
KyAgICAgICAgICAgIGlmICggIXNoYXJlZF9pbnRyZW1hcF90YWJsZSApCisgICAgICAgICAgICAg
ICAgcGFuaWMoIk5vIG1lbW9yeSBmb3Igc2hhcmVkIElSVFxuIik7CisKKyAgICAgICAgICAgIGl2
cnNfbWFwcGluZ3NbYWxpYXNfaWRdLmludHJlbWFwX3RhYmxlID0gc2hhcmVkX2ludHJlbWFwX3Rh
YmxlOworICAgICAgICAgICAgaXZyc19tYXBwaW5nc1thbGlhc19pZF0uaW50cmVtYXBfaW51c2Ug
PSBzaGFyZWRfaW50cmVtYXBfaW51c2U7CisgICAgICAgIH0KKyAgICAgICAgZWxzZSBpZiAoIGFs
bG9jX2lydCApCisgICAgICAgIHsKKyAgICAgICAgICAgIGl2cnNfbWFwcGluZ3NbYWxpYXNfaWRd
LmludHJlbWFwX3RhYmxlID0KKyAgICAgICAgICAgICAgICBhbWRfaW9tbXVfYWxsb2NfaW50cmVt
YXBfdGFibGUoCisgICAgICAgICAgICAgICAgICAgIGlvbW11LCAmaXZyc19tYXBwaW5nc1thbGlh
c19pZF0uaW50cmVtYXBfaW51c2UpOworCisgICAgICAgICAgICBpZiAoICFpdnJzX21hcHBpbmdz
W2FsaWFzX2lkXS5pbnRyZW1hcF90YWJsZSApCisgICAgICAgICAgICAgICAgcGFuaWMoIk5vIG1l
bW9yeSBmb3IgJTA0eDolMDJ4OiUwMnguJXUncyBJUlRcbiIsCisgICAgICAgICAgICAgICAgICAg
ICAgaW9tbXUtPnNlZywgUENJX0JVUyhhbGlhc19pZCksIFBDSV9TTE9UKGFsaWFzX2lkKSwKKyAg
ICAgICAgICAgICAgICAgICAgICBQQ0lfRlVOQyhhbGlhc19pZCkpOworICAgICAgICB9CiAgICAg
IH0KICAKICAgICAgaXZyc19tYXBwaW5nc1thbGlhc19pZF0udmFsaWQgPSB0cnVlOwpAQCAtNDMz
LDcgKzQzOSw4IEBAIHN0YXRpYyB1MTYgX19pbml0IHBhcnNlX2l2aGRfZGV2aWNlX3NlbGUKICAg
ICAgICAgIHJldHVybiAwOwogICAgICB9CiAgCi0gICAgYWRkX2l2cnNfbWFwcGluZ19lbnRyeShi
ZGYsIGJkZiwgc2VsZWN0LT5oZWFkZXIuZGF0YV9zZXR0aW5nLCBpb21tdSk7CisgICAgYWRkX2l2
cnNfbWFwcGluZ19lbnRyeShiZGYsIGJkZiwgc2VsZWN0LT5oZWFkZXIuZGF0YV9zZXR0aW5nLCBm
YWxzZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvbW11KTsKICAKICAgICAgcmV0dXJu
IHNpemVvZigqc2VsZWN0KTsKICB9CkBAIC00NzksNyArNDg2LDcgQEAgc3RhdGljIHUxNiBfX2lu
aXQgcGFyc2VfaXZoZF9kZXZpY2VfcmFuZwogIAogICAgICBmb3IgKCBiZGYgPSBmaXJzdF9iZGY7
IGJkZiA8PSBsYXN0X2JkZjsgYmRmKysgKQogICAgICAgICAgYWRkX2l2cnNfbWFwcGluZ19lbnRy
eShiZGYsIGJkZiwgcmFuZ2UtPnN0YXJ0LmhlYWRlci5kYXRhX3NldHRpbmcsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaW9tbXUpOworICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGZhbHNlLCBpb21tdSk7CiAgCiAgICAgIHJldHVybiBkZXZfbGVuZ3RoOwogIH0KQEAgLTUx
Myw3ICs1MjAsOCBAQCBzdGF0aWMgdTE2IF9faW5pdCBwYXJzZV9pdmhkX2RldmljZV9hbGlhCiAg
CiAgICAgIEFNRF9JT01NVV9ERUJVRygiIERldl9JZCBBbGlhczogJSN4XG4iLCBhbGlhc19pZCk7
CiAgCi0gICAgYWRkX2l2cnNfbWFwcGluZ19lbnRyeShiZGYsIGFsaWFzX2lkLCBhbGlhcy0+aGVh
ZGVyLmRhdGFfc2V0dGluZywgaW9tbXUpOworICAgIGFkZF9pdnJzX21hcHBpbmdfZW50cnkoYmRm
LCBhbGlhc19pZCwgYWxpYXMtPmhlYWRlci5kYXRhX3NldHRpbmcsIHRydWUsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICBpb21tdSk7CiAgCiAgICAgIHJldHVybiBkZXZfbGVuZ3RoOwogIH0K
QEAgLTU2OCw3ICs1NzYsNyBAQCBzdGF0aWMgdTE2IF9faW5pdCBwYXJzZV9pdmhkX2RldmljZV9h
bGlhCiAgCiAgICAgIGZvciAoIGJkZiA9IGZpcnN0X2JkZjsgYmRmIDw9IGxhc3RfYmRmOyBiZGYr
KyApCiAgICAgICAgICBhZGRfaXZyc19tYXBwaW5nX2VudHJ5KGJkZiwgYWxpYXNfaWQsIHJhbmdl
LT5hbGlhcy5oZWFkZXIuZGF0YV9zZXR0aW5nLAotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGlvbW11KTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlLCBpb21tdSk7
CiAgCiAgICAgIHJldHVybiBkZXZfbGVuZ3RoOwogIH0KQEAgLTU5Myw3ICs2MDEsNyBAQCBzdGF0
aWMgdTE2IF9faW5pdCBwYXJzZV9pdmhkX2RldmljZV9leHRlCiAgICAgICAgICByZXR1cm4gMDsK
ICAgICAgfQogIAotICAgIGFkZF9pdnJzX21hcHBpbmdfZW50cnkoYmRmLCBiZGYsIGV4dC0+aGVh
ZGVyLmRhdGFfc2V0dGluZywgaW9tbXUpOworICAgIGFkZF9pdnJzX21hcHBpbmdfZW50cnkoYmRm
LCBiZGYsIGV4dC0+aGVhZGVyLmRhdGFfc2V0dGluZywgZmFsc2UsIGlvbW11KTsKICAKICAgICAg
cmV0dXJuIGRldl9sZW5ndGg7CiAgfQpAQCAtNjQwLDcgKzY0OCw3IEBAIHN0YXRpYyB1MTYgX19p
bml0IHBhcnNlX2l2aGRfZGV2aWNlX2V4dGUKICAKICAgICAgZm9yICggYmRmID0gZmlyc3RfYmRm
OyBiZGYgPD0gbGFzdF9iZGY7IGJkZisrICkKICAgICAgICAgIGFkZF9pdnJzX21hcHBpbmdfZW50
cnkoYmRmLCBiZGYsIHJhbmdlLT5leHRlbmRlZC5oZWFkZXIuZGF0YV9zZXR0aW5nLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlvbW11KTsKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBmYWxzZSwgaW9tbXUpOwogIAogICAgICByZXR1cm4gZGV2X2xlbmd0aDsKICB9CkBA
IC03MzMsNyArNzQxLDggQEAgc3RhdGljIHUxNiBfX2luaXQgcGFyc2VfaXZoZF9kZXZpY2Vfc3Bl
YwogICAgICBBTURfSU9NTVVfREVCVUcoIklWSEQgU3BlY2lhbDogJTA0eDolMDJ4OiUwMnguJXUg
dmFyaWV0eSAlI3ggaGFuZGxlICUjeFxuIiwKICAgICAgICAgICAgICAgICAgICAgIHNlZywgUENJ
X0JVUyhiZGYpLCBQQ0lfU0xPVChiZGYpLCBQQ0lfRlVOQyhiZGYpLAogICAgICAgICAgICAgICAg
ICAgICAgc3BlY2lhbC0+dmFyaWV0eSwgc3BlY2lhbC0+aGFuZGxlKTsKLSAgICBhZGRfaXZyc19t
YXBwaW5nX2VudHJ5KGJkZiwgYmRmLCBzcGVjaWFsLT5oZWFkZXIuZGF0YV9zZXR0aW5nLCBpb21t
dSk7CisgICAgYWRkX2l2cnNfbWFwcGluZ19lbnRyeShiZGYsIGJkZiwgc3BlY2lhbC0+aGVhZGVy
LmRhdGFfc2V0dGluZywgdHJ1ZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvbW11KTsK
ICAKICAgICAgc3dpdGNoICggc3BlY2lhbC0+dmFyaWV0eSApCiAgICAgIHsKLS0tIGEveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2luaXQuYworKysgYi94ZW4vZHJpdmVycy9wYXNz
dGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jCkBAIC0zMCw2ICszMCw3IEBACiAgI2luY2x1ZGUgPHhl
bi9kZWxheS5oPgogIAogIHN0YXRpYyBpbnQgX19pbml0ZGF0YSBucl9hbWRfaW9tbXVzOworc3Rh
dGljIGJvb2wgX19pbml0ZGF0YSBwY2lfaW5pdDsKICAKICBzdGF0aWMgdm9pZCBkb19hbWRfaW9t
bXVfaXJxKHVuc2lnbmVkIGxvbmcgZGF0YSk7CiAgc3RhdGljIERFQ0xBUkVfU09GVElSUV9UQVNL
TEVUKGFtZF9pb21tdV9pcnFfdGFza2xldCwgZG9fYW1kX2lvbW11X2lycSwgMCk7CkBAIC0xMjQ3
LDE3ICsxMjQ4LDIwIEBAIHN0YXRpYyBpbnQgX19pbml0IGFtZF9pb21tdV9zZXR1cF9kZXZpY2UK
ICAKICAgICAgQlVHX09OKCAoaXZyc19iZGZfZW50cmllcyA9PSAwKSApOwogIAotICAgIC8qIGFs
bG9jYXRlICdkZXZpY2UgdGFibGUnIG9uIGEgNEsgYm91bmRhcnkgKi8KLSAgICBkZXZpY2VfdGFi
bGUuYWxsb2Nfc2l6ZSA9IFBBR0VfU0laRSA8PAotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZ2V0X29yZGVyX2Zyb21fYnl0ZXMoCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQ
QUdFX0FMSUdOKGl2cnNfYmRmX2VudHJpZXMgKgotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgSU9NTVVfREVWX1RBQkxFX0VOVFJZX1NJWkUpKTsKLSAgICBkZXZpY2VfdGFibGUuZW50cmll
cyA9IGRldmljZV90YWJsZS5hbGxvY19zaXplIC8KLSAgICAgICAgICAgICAgICAgICAgICAgICAg
IElPTU1VX0RFVl9UQUJMRV9FTlRSWV9TSVpFOwotCi0gICAgZGV2aWNlX3RhYmxlLmJ1ZmZlciA9
IGFsbG9jYXRlX2J1ZmZlcihkZXZpY2VfdGFibGUuYWxsb2Nfc2l6ZSwKLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEZXZpY2UgVGFibGUiKTsKLSAgICBpZiAgKCBk
ZXZpY2VfdGFibGUuYnVmZmVyID09IE5VTEwgKQorICAgIGlmICggIWRldmljZV90YWJsZS5idWZm
ZXIgKQorICAgIHsKKyAgICAgICAgLyogYWxsb2NhdGUgJ2RldmljZSB0YWJsZScgb24gYSA0SyBi
b3VuZGFyeSAqLworICAgICAgICBkZXZpY2VfdGFibGUuYWxsb2Nfc2l6ZSA9IFBBR0VfU0laRSA8
PAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldF9vcmRlcl9mcm9tX2J5dGVz
KAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBBR0VfQUxJR04oaXZyc19iZGZf
ZW50cmllcyAqCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU9NTVVfREVWX1RB
QkxFX0VOVFJZX1NJWkUpKTsKKyAgICAgICAgZGV2aWNlX3RhYmxlLmVudHJpZXMgPSBkZXZpY2Vf
dGFibGUuYWxsb2Nfc2l6ZSAvCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU9NTVVf
REVWX1RBQkxFX0VOVFJZX1NJWkU7CisKKyAgICAgICAgZGV2aWNlX3RhYmxlLmJ1ZmZlciA9IGFs
bG9jYXRlX2J1ZmZlcihkZXZpY2VfdGFibGUuYWxsb2Nfc2l6ZSwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRGV2aWNlIFRhYmxlIik7CisgICAgfQorICAg
IGlmICggIWRldmljZV90YWJsZS5idWZmZXIgKQogICAgICAgICAgcmV0dXJuIC1FTk9NRU07CiAg
CiAgICAgIC8qIEFkZCBkZXZpY2UgdGFibGUgZW50cmllcyAqLwpAQCAtMTI2NiwxMyArMTI3MCw0
NiBAQCBzdGF0aWMgaW50IF9faW5pdCBhbWRfaW9tbXVfc2V0dXBfZGV2aWNlCiAgICAgICAgICBp
ZiAoIGl2cnNfbWFwcGluZ3NbYmRmXS52YWxpZCApCiAgICAgICAgICB7CiAgICAgICAgICAgICAg
dm9pZCAqZHRlOworICAgICAgICAgICAgY29uc3Qgc3RydWN0IHBjaV9kZXYgKnBkZXYgPSBOVUxM
OwogIAogICAgICAgICAgICAgIC8qIGFkZCBkZXZpY2UgdGFibGUgZW50cnkgKi8KICAgICAgICAg
ICAgICBkdGUgPSBkZXZpY2VfdGFibGUuYnVmZmVyICsgKGJkZiAqIElPTU1VX0RFVl9UQUJMRV9F
TlRSWV9TSVpFKTsKICAgICAgICAgICAgICBpb21tdV9kdGVfYWRkX2RldmljZV9lbnRyeShkdGUs
ICZpdnJzX21hcHBpbmdzW2JkZl0pOwogIAorICAgICAgICAgICAgaWYgKCBpb21tdV9pbnRyZW1h
cCAmJgorICAgICAgICAgICAgICAgICBpdnJzX21hcHBpbmdzW2JkZl0uZHRlX3JlcXVlc3Rvcl9p
ZCA9PSBiZGYgJiYKKyAgICAgICAgICAgICAgICAgIWl2cnNfbWFwcGluZ3NbYmRmXS5pbnRyZW1h
cF90YWJsZSApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgaWYgKCAhcGNpX2luaXQg
KQorICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKKyAgICAgICAgICAgICAgICBwY2lkZXZz
X2xvY2soKTsKKyAgICAgICAgICAgICAgICBwZGV2ID0gcGNpX2dldF9wZGV2KHNlZywgUENJX0JV
UyhiZGYpLCBQQ0lfREVWRk4yKGJkZikpOworICAgICAgICAgICAgICAgIHBjaWRldnNfdW5sb2Nr
KCk7CisgICAgICAgICAgICB9CisKKyAgICAgICAgICAgIGlmICggcGRldiApCisgICAgICAgICAg
ICB7CisgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHJlcV9pZCA9IGJkZjsKKworICAgICAg
ICAgICAgICAgIGRvIHsKKyAgICAgICAgICAgICAgICAgICAgaXZyc19tYXBwaW5nc1tyZXFfaWRd
LmludHJlbWFwX3RhYmxlID0KKyAgICAgICAgICAgICAgICAgICAgICAgIGFtZF9pb21tdV9hbGxv
Y19pbnRyZW1hcF90YWJsZSgKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdnJzX21hcHBp
bmdzW2JkZl0uaW9tbXUsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgJml2cnNfbWFwcGlu
Z3NbcmVxX2lkXS5pbnRyZW1hcF9pbnVzZSk7CisgICAgICAgICAgICAgICAgICAgIGlmICggIWl2
cnNfbWFwcGluZ3NbcmVxX2lkXS5pbnRyZW1hcF90YWJsZSApCisgICAgICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gLUVOT01FTTsKKworICAgICAgICAgICAgICAgICAgICBpZiAoICFwZGV2LT5w
aGFudG9tX3N0cmlkZSApCisgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKKyAgICAgICAg
ICAgICAgICAgICAgcmVxX2lkICs9IHBkZXYtPnBoYW50b21fc3RyaWRlOworICAgICAgICAgICAg
ICAgIH0gd2hpbGUgKCBQQ0lfU0xPVChyZXFfaWQpID09IHBkZXYtPnNiZGYuZGV2ICk7CisgICAg
ICAgICAgICB9CisKICAgICAgICAgICAgICBhbWRfaW9tbXVfc2V0X2ludHJlbWFwX3RhYmxlKAot
ICAgICAgICAgICAgICAgIGR0ZSwgdmlydF90b19tYWRkcihpdnJzX21hcHBpbmdzW2JkZl0uaW50
cmVtYXBfdGFibGUpLAorICAgICAgICAgICAgICAgIGR0ZSwKKyAgICAgICAgICAgICAgICBpdnJz
X21hcHBpbmdzW2JkZl0uaW50cmVtYXBfdGFibGUKKyAgICAgICAgICAgICAgICA/IHZpcnRfdG9f
bWFkZHIoaXZyc19tYXBwaW5nc1tiZGZdLmludHJlbWFwX3RhYmxlKQorICAgICAgICAgICAgICAg
IDogMCwKICAgICAgICAgICAgICAgICAgaW9tbXVfaW50cmVtYXApOwogICAgICAgICAgfQogICAg
ICB9CkBAIC0xNDA1LDcgKzE0NDIsOCBAQCBpbnQgX19pbml0IGFtZF9pb21tdV9pbml0KGJvb2wg
eHQpCiAgICAgIGlmICggcmMgKQogICAgICAgICAgZ290byBlcnJvcl9vdXQ7CiAgCi0gICAgLyog
YWxsb2NhdGUgYW5kIGluaXRpYWxpemUgYSBnbG9iYWwgZGV2aWNlIHRhYmxlIHNoYXJlZCBieSBh
bGwgaW9tbXVzICovCisgICAgLyogQWxsb2NhdGUgYW5kIGluaXRpYWxpemUgZGV2aWNlIHRhYmxl
KHMpLiAqLworICAgIHBjaV9pbml0ID0gIXh0OwogICAgICByYyA9IGl0ZXJhdGVfaXZyc19tYXBw
aW5ncyhhbWRfaW9tbXVfc2V0dXBfZGV2aWNlX3RhYmxlKTsKICAgICAgaWYgKCByYyApCiAgICAg
ICAgICBnb3RvIGVycm9yX291dDsKQEAgLTE0MjQsNyArMTQ2Miw3IEBAIGludCBfX2luaXQgYW1k
X2lvbW11X2luaXQoYm9vbCB4dCkKICAgICAgICAgIC8qCiAgICAgICAgICAgKiBTZXR0aW5nIHVw
IG9mIHRoZSBJT01NVSBpbnRlcnJ1cHRzIGNhbm5vdCBvY2N1ciB5ZXQgYXQgdGhlICh2ZXJ5CiAg
ICAgICAgICAgKiBlYXJseSkgdGltZSB3ZSBnZXQgaGVyZSB3aGVuIGVuYWJsaW5nIHgyQVBJQyBt
b2RlLiBTdXBwcmVzcyBpdAotICAgICAgICAgKiBoZXJlLCBhbmQgZG8gaXQgZXhwbGljaXRseSBp
biBhbWRfaW9tbXVfaW5pdF9pbnRlcnJ1cHQoKS4KKyAgICAgICAgICogaGVyZSwgYW5kIGRvIGl0
IGV4cGxpY2l0bHkgaW4gYW1kX2lvbW11X2luaXRfbGF0ZSgpLgogICAgICAgICAgICovCiAgICAg
ICAgICByYyA9IGFtZF9pb21tdV9pbml0X29uZShpb21tdSwgIXh0KTsKICAgICAgICAgIGlmICgg
cmMgKQpAQCAtMTQzOCwxMSArMTQ3NiwxNiBAQCBlcnJvcl9vdXQ6CiAgICAgIHJldHVybiByYzsK
ICB9CiAgCi1pbnQgX19pbml0IGFtZF9pb21tdV9pbml0X2ludGVycnVwdCh2b2lkKQoraW50IF9f
aW5pdCBhbWRfaW9tbXVfaW5pdF9sYXRlKHZvaWQpCiAgewogICAgICBzdHJ1Y3QgYW1kX2lvbW11
ICppb21tdTsKICAgICAgaW50IHJjID0gMDsKICAKKyAgICAvKiBGdXJ0aGVyIGluaXRpYWxpemUg
dGhlIGRldmljZSB0YWJsZShzKS4gKi8KKyAgICBwY2lfaW5pdCA9IHRydWU7CisgICAgaWYgKCBp
b21tdV9pbnRyZW1hcCApCisgICAgICAgIHJjID0gaXRlcmF0ZV9pdnJzX21hcHBpbmdzKGFtZF9p
b21tdV9zZXR1cF9kZXZpY2VfdGFibGUpOworCiAgICAgIGZvcl9lYWNoX2FtZF9pb21tdSAoIGlv
bW11ICkKICAgICAgewogICAgICAgICAgc3RydWN0IGlycV9kZXNjICpkZXNjOwotLS0gYS94ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfaW50ci5jCisrKyBiL3hlbi9kcml2ZXJzL3Bh
c3N0aHJvdWdoL2FtZC9pb21tdV9pbnRyLmMKQEAgLTc4OSw3ICs3ODksNyBAQCB2b2lkIGFtZF9p
b21tdV9yZWFkX21zaV9mcm9tX2lyZSgKICAgICAgfQogIH0KICAKLWludCBfX2luaXQgYW1kX2lv
bW11X2ZyZWVfaW50cmVtYXBfdGFibGUoCitpbnQgYW1kX2lvbW11X2ZyZWVfaW50cmVtYXBfdGFi
bGUoCiAgICAgIGNvbnN0IHN0cnVjdCBhbWRfaW9tbXUgKmlvbW11LCBzdHJ1Y3QgaXZyc19tYXBw
aW5ncyAqaXZyc19tYXBwaW5nKQogIHsKICAgICAgdm9pZCAqKnRibHA7CkBAIC04MTQsNyArODE0
LDcgQEAgaW50IF9faW5pdCBhbWRfaW9tbXVfZnJlZV9pbnRyZW1hcF90YWJsZQogICAgICByZXR1
cm4gMDsKICB9CiAgCi12b2lkICpfX2luaXQgYW1kX2lvbW11X2FsbG9jX2ludHJlbWFwX3RhYmxl
KAordm9pZCAqYW1kX2lvbW11X2FsbG9jX2ludHJlbWFwX3RhYmxlKAogICAgICBjb25zdCBzdHJ1
Y3QgYW1kX2lvbW11ICppb21tdSwgdW5zaWduZWQgbG9uZyAqKmludXNlX21hcCkKICB7CiAgICAg
IHVuc2lnbmVkIGludCBvcmRlciA9IGludHJlbWFwX3RhYmxlX29yZGVyKGlvbW11KTsKLS0tIGEv
eGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X21hcC5jCisrKyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9tYXAuYwpAQCAtMTE2LDggKzExNiw5IEBAIHZvaWQgX19p
bml0IGFtZF9pb21tdV9zZXRfaW50cmVtYXBfdGFibGUKICAgICAgc3RydWN0IGFtZF9pb21tdV9k
dGUgKmR0ZSwgdWludDY0X3QgaW50cmVtYXBfcHRyLCBib29sIHZhbGlkKQogIHsKICAgICAgZHRl
LT5pdF9yb290ID0gaW50cmVtYXBfcHRyID4+IDY7Ci0gICAgZHRlLT5pbnRfdGFiX2xlbiA9IElP
TU1VX0lOVFJFTUFQX09SREVSOwotICAgIGR0ZS0+aW50X2N0bCA9IElPTU1VX0RFVl9UQUJMRV9J
TlRfQ09OVFJPTF9UUkFOU0xBVEVEOworICAgIGR0ZS0+aW50X3RhYl9sZW4gPSBpbnRyZW1hcF9w
dHIgPyBJT01NVV9JTlRSRU1BUF9PUkRFUiA6IDA7CisgICAgZHRlLT5pbnRfY3RsID0gaW50cmVt
YXBfcHRyID8gSU9NTVVfREVWX1RBQkxFX0lOVF9DT05UUk9MX1RSQU5TTEFURUQKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgOiBJT01NVV9ERVZfVEFCTEVfSU5UX0NPTlRST0xfQUJP
UlRFRDsKICAgICAgZHRlLT5pZyA9IGZhbHNlOyAvKiB1bm1hcHBlZCBpbnRlcnJ1cHRzIHJlc3Vs
dCBpbiBpL28gcGFnZSBmYXVsdHMgKi8KICAgICAgZHRlLT5pdiA9IHZhbGlkOwogIH0KLS0tIGEv
eGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL3BjaV9hbWRfaW9tbXUuYworKysgYi94ZW4vZHJp
dmVycy9wYXNzdGhyb3VnaC9hbWQvcGNpX2FtZF9pb21tdS5jCkBAIC0xNjUsNyArMTY1LDcgQEAg
c3RhdGljIGludCBfX2luaXQgaW92X2RldGVjdCh2b2lkKQogICAgICBpZiAoICFpb21tdV9lbmFi
bGUgJiYgIWlvbW11X2ludHJlbWFwICkKICAgICAgICAgIHJldHVybiAwOwogIAotICAgIGlmICgg
KGluaXRfZG9uZSA/IGFtZF9pb21tdV9pbml0X2ludGVycnVwdCgpCisgICAgaWYgKCAoaW5pdF9k
b25lID8gYW1kX2lvbW11X2luaXRfbGF0ZSgpCiAgICAgICAgICAgICAgICAgICAgICA6IGFtZF9p
b21tdV9pbml0KGZhbHNlKSkgIT0gMCApCiAgICAgIHsKICAgICAgICAgIHByaW50aygiQU1ELVZp
OiBFcnJvciBpbml0aWFsaXphdGlvblxuIik7CkBAIC00MjksNiArNDI5LDcgQEAgc3RhdGljIGlu
dCBhbWRfaW9tbXVfYWRkX2RldmljZSh1OCBkZXZmbgogIHsKICAgICAgc3RydWN0IGFtZF9pb21t
dSAqaW9tbXU7CiAgICAgIHUxNiBiZGY7CisgICAgc3RydWN0IGl2cnNfbWFwcGluZ3MgKml2cnNf
bWFwcGluZ3M7CiAgCiAgICAgIGlmICggIXBkZXYtPmRvbWFpbiApCiAgICAgICAgICByZXR1cm4g
LUVJTlZBTDsKQEAgLTQ1OCw2ICs0NTksMzIgQEAgc3RhdGljIGludCBhbWRfaW9tbXVfYWRkX2Rl
dmljZSh1OCBkZXZmbgogICAgICAgICAgcmV0dXJuIC1FTk9ERVY7CiAgICAgIH0KICAKKyAgICBp
dnJzX21hcHBpbmdzID0gZ2V0X2l2cnNfbWFwcGluZ3MocGRldi0+c2VnKTsKKyAgICBiZGYgPSBQ
Q0lfQkRGMihwZGV2LT5idXMsIGRldmZuKTsKKyAgICBpZiAoICFpdnJzX21hcHBpbmdzIHx8Cisg
ICAgICAgICAhaXZyc19tYXBwaW5nc1tpdnJzX21hcHBpbmdzW2JkZl0uZHRlX3JlcXVlc3Rvcl9p
ZF0udmFsaWQgKQorICAgICAgICByZXR1cm4gLUVQRVJNOworCisgICAgaWYgKCBpb21tdV9pbnRy
ZW1hcCAmJgorICAgICAgICAgaXZyc19tYXBwaW5nc1tiZGZdLmR0ZV9yZXF1ZXN0b3JfaWQgPT0g
YmRmICYmCisgICAgICAgICAhaXZyc19tYXBwaW5nc1tiZGZdLmludHJlbWFwX3RhYmxlICkKKyAg
ICB7CisgICAgICAgIGl2cnNfbWFwcGluZ3NbYmRmXS5pbnRyZW1hcF90YWJsZSA9CisgICAgICAg
ICAgICBhbWRfaW9tbXVfYWxsb2NfaW50cmVtYXBfdGFibGUoCisgICAgICAgICAgICAgICAgaW9t
bXUsICZpdnJzX21hcHBpbmdzW2JkZl0uaW50cmVtYXBfaW51c2UpOworICAgICAgICBpZiAoICFp
dnJzX21hcHBpbmdzW2JkZl0uaW50cmVtYXBfdGFibGUgKQorICAgICAgICAgICAgcmV0dXJuIC1F
Tk9NRU07CisKKyAgICAgICAgYW1kX2lvbW11X3NldF9pbnRyZW1hcF90YWJsZSgKKyAgICAgICAg
ICAgIGlvbW11LT5kZXZfdGFibGUuYnVmZmVyICsgKGJkZiAqIElPTU1VX0RFVl9UQUJMRV9FTlRS
WV9TSVpFKSwKKyAgICAgICAgICAgIGl2cnNfbWFwcGluZ3NbYmRmXS5pbnRyZW1hcF90YWJsZQor
ICAgICAgICAgICAgPyB2aXJ0X3RvX21hZGRyKGl2cnNfbWFwcGluZ3NbYmRmXS5pbnRyZW1hcF90
YWJsZSkKKyAgICAgICAgICAgIDogMCwKKyAgICAgICAgICAgIGlvbW11X2ludHJlbWFwKTsKKwor
ICAgICAgICBhbWRfaW9tbXVfZmx1c2hfZGV2aWNlKGlvbW11LCBiZGYpOworICAgIH0KKwogICAg
ICBhbWRfaW9tbXVfc2V0dXBfZG9tYWluX2RldmljZShwZGV2LT5kb21haW4sIGlvbW11LCBkZXZm
biwgcGRldik7CiAgICAgIHJldHVybiAwOwogIH0KQEAgLTQ2Niw2ICs0OTMsOCBAQCBzdGF0aWMg
aW50IGFtZF9pb21tdV9yZW1vdmVfZGV2aWNlKHU4IGRlCiAgewogICAgICBzdHJ1Y3QgYW1kX2lv
bW11ICppb21tdTsKICAgICAgdTE2IGJkZjsKKyAgICBzdHJ1Y3QgaXZyc19tYXBwaW5ncyAqaXZy
c19tYXBwaW5nczsKKwogICAgICBpZiAoICFwZGV2LT5kb21haW4gKQogICAgICAgICAgcmV0dXJu
IC1FSU5WQUw7CiAgCkBAIC00ODEsNiArNTEwLDE0IEBAIHN0YXRpYyBpbnQgYW1kX2lvbW11X3Jl
bW92ZV9kZXZpY2UodTggZGUKICAgICAgfQogIAogICAgICBhbWRfaW9tbXVfZGlzYWJsZV9kb21h
aW5fZGV2aWNlKHBkZXYtPmRvbWFpbiwgaW9tbXUsIGRldmZuLCBwZGV2KTsKKworICAgIGl2cnNf
bWFwcGluZ3MgPSBnZXRfaXZyc19tYXBwaW5ncyhwZGV2LT5zZWcpOworICAgIGJkZiA9IFBDSV9C
REYyKHBkZXYtPmJ1cywgZGV2Zm4pOworICAgIGlmICggYW1kX2lvbW11X3BlcmRldl9pbnRyZW1h
cCAmJgorICAgICAgICAgaXZyc19tYXBwaW5nc1tiZGZdLmR0ZV9yZXF1ZXN0b3JfaWQgPT0gYmRm
ICYmCisgICAgICAgICBpdnJzX21hcHBpbmdzW2JkZl0uaW50cmVtYXBfdGFibGUgKQorICAgICAg
ICBhbWRfaW9tbXVfZnJlZV9pbnRyZW1hcF90YWJsZShpb21tdSwgJml2cnNfbWFwcGluZ3NbYmRm
XSk7CisKICAgICAgcmV0dXJuIDA7CiAgfQogIAotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2h2
bS9zdm0vYW1kLWlvbW11LXByb3RvLmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vc3Zt
L2FtZC1pb21tdS1wcm90by5oCkBAIC01MCw3ICs1MCw3IEBAIHZvaWQgZ2V0X2lvbW11X2ZlYXR1
cmVzKHN0cnVjdCBhbWRfaW9tbXUKICAvKiBhbWQtaW9tbXUtaW5pdCBmdW5jdGlvbnMgKi8KICBp
bnQgYW1kX2lvbW11X3ByZXBhcmUoYm9vbCB4dCk7CiAgaW50IGFtZF9pb21tdV9pbml0KGJvb2wg
eHQpOwotaW50IGFtZF9pb21tdV9pbml0X2ludGVycnVwdCh2b2lkKTsKK2ludCBhbWRfaW9tbXVf
aW5pdF9sYXRlKHZvaWQpOwogIGludCBhbWRfaW9tbXVfdXBkYXRlX2l2cnNfbWFwcGluZ19hY3Bp
KHZvaWQpOwogIGludCBpb3ZfYWRqdXN0X2lycV9hZmZpbml0aWVzKHZvaWQpOwogIAoKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

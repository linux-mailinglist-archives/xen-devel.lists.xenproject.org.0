Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E9403B1B21
	for <lists+xen-devel@lfdr.de>; Fri, 13 Sep 2019 11:51:00 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8iBK-0002GW-Er; Fri, 13 Sep 2019 09:47:58 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Qndu=XI=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1i8iBI-0002FB-Iz
 for xen-devel@lists.xenproject.org; Fri, 13 Sep 2019 09:47:56 +0000
X-Inumbo-ID: 8af63b62-d60b-11e9-a337-bc764e2007e4
Received: from esa3.hc3370-68.iphmx.com (unknown [216.71.145.155])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 8af63b62-d60b-11e9-a337-bc764e2007e4;
 Fri, 13 Sep 2019 09:47:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568368068;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=fgoZLPrXZJnKRh1u8ZJ6ZzZF9exZGd7aGvwLwgUkfZU=;
 b=B1pkQRD49U3c0geh4cQLIo5ihs7QoKJXGjcPHc2G6CuW4Cz4okS0KRfC
 92nI2zUc33iHKm0xO7cYrYI1RaSOkyQRGMGuUzK5NQtcDmv2B70RuZq9k
 WQr0s0k89ZDh5gx7E38EFYJF6UNJ+NY1F1p6Mfy1JMn3F/dBZWdN0XKbD M=;
Authentication-Results: esa3.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa3.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: vxyJwyRp6Rc6K+Czwh7XatPkvyUCu+eT2ReLlltwdHb/wPQKWD99gJULGH8pQhFAWEVAD7WlQl
 nQnWLAPRZxlloJ5HIpeJ4kOyhM0iSsmG0u6NmJU0ZOg6zf/3+LAWfTx6/ngv12t0X8UcXNx04S
 wExtCyO+p4htiQ3M6vCgHHU6W/CjEYsu0q+IbS7DMDK5pTPrkwNwGNB5k/sbv4HBWnSTmBZatU
 qXlytDz+3c6SQehUc2rNK1B+/uVTdXaG86pWpe6UGMe+EP0FQ3TUwr3cotOejNAUHmpCzTkzu1
 CKQ=
X-SBRS: 2.7
X-MesageID: 5528290
X-Ironport-Server: esa3.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,500,1559534400"; 
   d="scan'208";a="5528290"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Fri, 13 Sep 2019 10:47:38 +0100
Message-ID: <20190913094741.31451-4-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190913094741.31451-1-paul.durrant@citrix.com>
References: <20190913094741.31451-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v10 3/6] sysctl / libxl: report whether
 IOMMU/HAP page table sharing is supported
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>, Wei
 Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Paul Durrant <paul.durrant@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>,
 Anthony PERARD <anthony.perard@citrix.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBwYXRjaCBkZWZpbmVzIGEgbmV3IGJpdCByZXBvcnRlZCBpbiB0aGUgaHdfY2FwIGZpZWxk
IG9mIHN0cnVjdAp4ZW5fc3lzY3RsX3BoeXNpbmZvIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIHBs
YXRmb3JtIHN1cHBvcnRzIHNoYXJpbmcgb2YKSEFQIHBhZ2UgdGFibGVzIChpLmUuIHRoZSBQMk0p
IHdpdGggdGhlIElPTU1VLiBUaGlzIGluZm9ybXMgdGhlIHRvb2xzdGFjawp3aGV0aGVyIHRoZSBk
b21haW4gbmVlZHMgZXh0cmEgbWVtb3J5IHRvIHN0b3JlIGRpc2NyZXRlIElPTU1VIHBhZ2UgdGFi
bGVzCm9yIG5vdC4KCk5PVEU6IFRoaXMgcGF0Y2ggbWFrZXMgc3VyZSBpb21tdV9oYXBfcHRfc2hh
cmVkIGlzIGNsZWFyIGlmIEhBUCBpcyBub3QKICAgICAgc3VwcG9ydGVkIG9yIHRoZSBJT01NVSBp
cyBkaXNhYmxlZCwgYW5kIGRlZmluZXMgaXQgdG8gZmFsc2UgaWYKICAgICAgIUNPTkZJR19IVk0u
CgpTaWduZWQtb2ZmLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWwuZHVycmFudEBjaXRyaXguY29tPgpB
Y2tlZC1ieTogQ2hyaXN0aWFuIExpbmRpZyA8Y2hyaXN0aWFuLmxpbmRpZ0BjaXRyaXguY29tPgot
LS0KQ2M6IElhbiBKYWNrc29uIDxpYW4uamFja3NvbkBldS5jaXRyaXguY29tPgpDYzogV2VpIExp
dSA8d2xAeGVuLm9yZz4KQ2M6IEFudGhvbnkgUEVSQVJEIDxhbnRob255LnBlcmFyZEBjaXRyaXgu
Y29tPgpDYzogQW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KQ2M6IEdl
b3JnZSBEdW5sYXAgPEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4KQ2M6IEphbiBCZXVsaWNo
IDxqYmV1bGljaEBzdXNlLmNvbT4KQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5j
b20+CkNjOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNsZS5jb20+CkNj
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+CkNjOiBUaW0gRGVl
Z2FuIDx0aW1AeGVuLm9yZz4KQ2M6IENocmlzdGlhbiBMaW5kaWcgPGNocmlzdGlhbi5saW5kaWdA
Y2l0cml4LmNvbT4KQ2M6IERhdmlkIFNjb3R0IDxkYXZlQHJlY29pbC5vcmc+CkNjOiAiUm9nZXIg
UGF1IE1vbm7DqSIgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgpDYzogU3VyYXZlZSBTdXRoaWt1bHBh
bml0IDxzdXJhdmVlLnN1dGhpa3VscGFuaXRAYW1kLmNvbT4KQ2M6IEtldmluIFRpYW4gPGtldmlu
LnRpYW5AaW50ZWwuY29tPgoKdjEwOgogLSBTZXQgZmxhZyBpbiBjb21tb24gY29kZSAod2hpY2gg
bWVhbnMgY2xlYXJpbmcgaW9tbXVfaGFwX3B0X3NoYXJlIGlmCiAgIEhBUCBjYW5ub3QgYmUgZW5h
YmxlZCBvciBpcyBjb25maWd1cmVkIG91dCkuCgp2OToKIC0gTmV3IGluIHY5Ci0tLQogdG9vbHMv
bGlieGwvbGlieGwuYyAgICAgICAgICAgICAgICAgICAgICB8ICAyICsrCiB0b29scy9saWJ4bC9s
aWJ4bC5oICAgICAgICAgICAgICAgICAgICAgIHwgIDcgKysrKysrKwogdG9vbHMvbGlieGwvbGli
eGxfdHlwZXMuaWRsICAgICAgICAgICAgICB8ICAxICsKIHRvb2xzL29jYW1sL2xpYnMveGMveGVu
Y3RybC5tbCAgICAgICAgICAgfCAgMSArCiB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxp
ICAgICAgICAgIHwgIDMgKystCiB0b29scy94bC94bF9pbmZvLmMgICAgICAgICAgICAgICAgICAg
ICAgIHwgIDUgKysrLS0KIHhlbi9hcmNoL3g4Ni9odm0vaHZtLmMgICAgICAgICAgICAgICAgICAg
fCAyNSArKysrKysrKysrKysrKysrKy0tLS0tLS0KIHhlbi9jb21tb24vc3lzY3RsLmMgICAgICAg
ICAgICAgICAgICAgICAgfCAgMiArKwogeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11
X2luaXQuYyB8ICA1ICsrKystCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9pb21tdS5jICAgICAg
ICAgIHwgMTggKysrKysrKysrKysrKysrKy0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9p
b21tdS5jICAgICAgfCAgNiArKysrKy0KIHhlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaCAgICAg
ICAgICAgICAgfCAgNiArKysrKy0KIHhlbi9pbmNsdWRlL3hlbi9pb21tdS5oICAgICAgICAgICAg
ICAgICAgfCAgOCArKysrKysrLQogMTMgZmlsZXMgY2hhbmdlZCwgNzQgaW5zZXJ0aW9ucygrKSwg
MTUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGwuYyBiL3Rvb2xz
L2xpYnhsL2xpYnhsLmMKaW5kZXggNTcwNzNjMDZkNS4uYTBkODQyODFkMCAxMDA2NDQKLS0tIGEv
dG9vbHMvbGlieGwvbGlieGwuYworKysgYi90b29scy9saWJ4bC9saWJ4bC5jCkBAIC00MDIsNiAr
NDAyLDggQEAgaW50IGxpYnhsX2dldF9waHlzaW5mbyhsaWJ4bF9jdHggKmN0eCwgbGlieGxfcGh5
c2luZm8gKnBoeXNpbmZvKQogICAgIHBoeXNpbmZvLT5jYXBfaGFwID0gISEoeGNwaHlzaW5mby5j
YXBhYmlsaXRpZXMgJiBYRU5fU1lTQ1RMX1BIWVNDQVBfaGFwKTsKICAgICBwaHlzaW5mby0+Y2Fw
X3NoYWRvdyA9CiAgICAgICAgICEhKHhjcGh5c2luZm8uY2FwYWJpbGl0aWVzICYgWEVOX1NZU0NU
TF9QSFlTQ0FQX3NoYWRvdyk7CisgICAgcGh5c2luZm8tPmNhcF9pb21tdV9oYXBfcHRfc2hhcmUg
PQorICAgICAgICAhISh4Y3BoeXNpbmZvLmNhcGFiaWxpdGllcyAmIFhFTl9TWVNDVExfUEhZU0NB
UF9pb21tdV9oYXBfcHRfc2hhcmUpOwogCiAgICAgR0NfRlJFRTsKICAgICByZXR1cm4gMDsKZGlm
ZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsLmggYi90b29scy9saWJ4bC9saWJ4bC5oCmluZGV4
IDQ2NmRmMmNkZjUuLjgxNjlkNDRiZGEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsLmgK
KysrIGIvdG9vbHMvbGlieGwvbGlieGwuaApAQCAtNDAxLDYgKzQwMSwxMyBAQAogICovCiAjZGVm
aW5lIExJQlhMX0hBVkVfUEhZU0lORk9fQ0FQX0hBUF9TSEFET1cgMQogCisvKgorICogTElCWExf
SEFWRV9QSFlTSU5GT19DQVBfSU9NTVVfSEFQX1BUX1NIQVJFIGluZGljYXRlcyB0aGF0IGxpYnhs
X3BoeXNpbmZvCisgKiBoYXMgYSBjYXBfaW9tbXVfaGFwX3B0X3NoYXJlIGZpZWxkIHRoYXQgaW5k
aWNhdGVzIHdoZXRoZXIgdGhlIGhhcmR3YXJlCisgKiBzdXBwb3J0cyBzaGFyaW5nIHRoZSBJT01N
VSBhbmQgSEFQIHBhZ2UgdGFibGVzLgorICovCisjZGVmaW5lIExJQlhMX0hBVkVfUEhZU0lORk9f
Q0FQX0lPTU1VX0hBUF9QVF9TSEFSRSAxCisKIC8qCiAgKiBsaWJ4bCBBQkkgY29tcGF0aWJpbGl0
eQogICoKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX3R5cGVzLmlkbCBiL3Rvb2xzL2xp
YnhsL2xpYnhsX3R5cGVzLmlkbAppbmRleCA2ZjQzMWJhZWMyLi43MjUzZDZlMGZiIDEwMDY0NAot
LS0gYS90b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwKKysrIGIvdG9vbHMvbGlieGwvbGlieGxf
dHlwZXMuaWRsCkBAIC0xMDI3LDYgKzEwMjcsNyBAQCBsaWJ4bF9waHlzaW5mbyA9IFN0cnVjdCgi
cGh5c2luZm8iLCBbCiAgICAgKCJjYXBfaHZtX2RpcmVjdGlvIiwgYm9vbCksICMgTm8gbG9uZ2Vy
IEhWTSBzcGVjaWZpYwogICAgICgiY2FwX2hhcCIsIGJvb2wpLAogICAgICgiY2FwX3NoYWRvdyIs
IGJvb2wpLAorICAgICgiY2FwX2lvbW11X2hhcF9wdF9zaGFyZSIsIGJvb2wpLAogICAgIF0sIGRp
cj1ESVJfT1VUKQogCiBsaWJ4bF9jb25uZWN0b3JpbmZvID0gU3RydWN0KCJjb25uZWN0b3JpbmZv
IiwgWwpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sIGIvdG9vbHMv
b2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sCmluZGV4IDM1ZGRkYmJkOWMuLmRlNGJhZTYwMTIgMTAw
NjQ0Ci0tLSBhL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbAorKysgYi90b29scy9vY2Ft
bC9saWJzL3hjL3hlbmN0cmwubWwKQEAgLTExMCw2ICsxMTAsNyBAQCB0eXBlIHBoeXNpbmZvX2Nh
cF9mbGFnID0KIAl8IENBUF9EaXJlY3RJTwogCXwgQ0FQX0hBUAogCXwgQ0FQX1NoYWRvdworCXwg
Q0FQX0lPTU1VX0hBUF9QVF9TSEFSRQogCiB0eXBlIHBoeXNpbmZvID0KIHsKZGlmZiAtLWdpdCBh
L3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkgYi90b29scy9vY2FtbC9saWJzL3hjL3hl
bmN0cmwubWxpCmluZGV4IDBkZDU1ZTlkOGIuLmM4ODVlNzU4OTUgMTAwNjQ0Ci0tLSBhL3Rvb2xz
L29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkKKysrIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5j
dHJsLm1saQpAQCAtNTcsNyArNTcsNiBAQCB0eXBlIGRvbWFpbl9jcmVhdGVfZmxhZyA9CiAgIHwg
Q0RGX09PU19PRkYKICAgfCBDREZfWFNfRE9NQUlOCiAgIHwgQ0RGX0lPTU1VCi0KIHR5cGUgZG9t
Y3RsX2NyZWF0ZV9jb25maWcgPSB7CiAgIHNzaWRyZWY6IGludDMyOwogICBoYW5kbGU6IHN0cmlu
ZzsKQEAgLTk1LDYgKzk0LDggQEAgdHlwZSBwaHlzaW5mb19jYXBfZmxhZyA9CiAgIHwgQ0FQX0Rp
cmVjdElPCiAgIHwgQ0FQX0hBUAogICB8IENBUF9TaGFkb3cKKyAgfCBDQVBfSU9NTVVfSEFQX1BU
X1NIQVJFCisKIHR5cGUgcGh5c2luZm8gPSB7CiAgIHRocmVhZHNfcGVyX2NvcmUgOiBpbnQ7CiAg
IGNvcmVzX3Blcl9zb2NrZXQgOiBpbnQ7CmRpZmYgLS1naXQgYS90b29scy94bC94bF9pbmZvLmMg
Yi90b29scy94bC94bF9pbmZvLmMKaW5kZXggMTQ4YzQ3NDBhZS4uYmZiY2E5Mzk5NyAxMDA2NDQK
LS0tIGEvdG9vbHMveGwveGxfaW5mby5jCisrKyBiL3Rvb2xzL3hsL3hsX2luZm8uYwpAQCAtMjEw
LDEzICsyMTAsMTQgQEAgc3RhdGljIHZvaWQgb3V0cHV0X3BoeXNpbmZvKHZvaWQpCiAgICAgICAg
ICBpbmZvLmh3X2NhcFs0XSwgaW5mby5od19jYXBbNV0sIGluZm8uaHdfY2FwWzZdLCBpbmZvLmh3
X2NhcFs3XQogICAgICAgICApOwogCi0gICAgbWF5YmVfcHJpbnRmKCJ2aXJ0X2NhcHMgICAgICAg
ICAgICAgIDolcyVzJXMlcyVzJXNcbiIsCisgICAgbWF5YmVfcHJpbnRmKCJ2aXJ0X2NhcHMgICAg
ICAgICAgICAgIDolcyVzJXMlcyVzJXMlc1xuIiwKICAgICAgICAgIGluZm8uY2FwX3B2ID8gIiBw
diIgOiAiIiwKICAgICAgICAgIGluZm8uY2FwX2h2bSA/ICIgaHZtIiA6ICIiLAogICAgICAgICAg
aW5mby5jYXBfaHZtICYmIGluZm8uY2FwX2h2bV9kaXJlY3RpbyA/ICIgaHZtX2RpcmVjdGlvIiA6
ICIiLAogICAgICAgICAgaW5mby5jYXBfcHYgJiYgaW5mby5jYXBfaHZtX2RpcmVjdGlvID8gIiBw
dl9kaXJlY3RpbyIgOiAiIiwKICAgICAgICAgIGluZm8uY2FwX2hhcCA/ICIgaGFwIiA6ICIiLAot
ICAgICAgICAgaW5mby5jYXBfc2hhZG93ID8gIiBzaGFkb3ciIDogIiIKKyAgICAgICAgIGluZm8u
Y2FwX3NoYWRvdyA/ICIgc2hhZG93IiA6ICIiLAorICAgICAgICAgaW5mby5jYXBfaW9tbXVfaGFw
X3B0X3NoYXJlID8gIiBpb21tdV9oYXBfcHRfc2hhcmUiIDogIiIKICAgICAgICAgKTsKIAogICAg
IHZpbmZvID0gbGlieGxfZ2V0X3ZlcnNpb25faW5mbyhjdHgpOwpkaWZmIC0tZ2l0IGEveGVuL2Fy
Y2gveDg2L2h2bS9odm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMKaW5kZXggMzgzMWM2ZDRj
MS4uZWQ4MjcyY2Y5MyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2h2bS9odm0uYworKysgYi94
ZW4vYXJjaC94ODYvaHZtL2h2bS5jCkBAIC0xNDIsNiArMTQyLDIyIEBAIHN0YXRpYyBzdHJ1Y3Qg
bm90aWZpZXJfYmxvY2sgY3B1X25mYiA9IHsKICAgICAubm90aWZpZXJfY2FsbCA9IGNwdV9jYWxs
YmFjawogfTsKIAorc3RhdGljIGJvb2wgX19pbml0IGhhcF9zdXBwb3J0ZWQoY29uc3Qgc3RydWN0
IGh2bV9mdW5jdGlvbl90YWJsZSAqZm5zKQoreworICAgIGlmICggIWZucy0+aGFwX3N1cHBvcnRl
ZCApCisgICAgeworICAgICAgICBwcmludGsoIkhWTTogSGFyZHdhcmUgQXNzaXN0ZWQgUGFnaW5n
IChIQVApIG5vdCBkZXRlY3RlZFxuIik7CisgICAgICAgIHJldHVybiBmYWxzZTsKKyAgICB9Cisg
ICAgZWxzZSBpZiAoICFvcHRfaGFwX2VuYWJsZWQgKQorICAgIHsKKyAgICAgICAgcHJpbnRrKCJI
Vk06IEhhcmR3YXJlIEFzc2lzdGVkIFBhZ2luZyAoSEFQKSBkZXRlY3RlZCBidXQgZGlzYWJsZWRc
biIpOworICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgfQorCisgICAgcmV0dXJuIHRydWU7Cit9
CisKIHN0YXRpYyBpbnQgX19pbml0IGh2bV9lbmFibGUodm9pZCkKIHsKICAgICBjb25zdCBzdHJ1
Y3QgaHZtX2Z1bmN0aW9uX3RhYmxlICpmbnMgPSBOVUxMOwpAQCAtMTU4LDEzICsxNzQsOCBAQCBz
dGF0aWMgaW50IF9faW5pdCBodm1fZW5hYmxlKHZvaWQpCiAgICAgaHZtX2VuYWJsZWQgPSAxOwog
CiAgICAgcHJpbnRrKCJIVk06ICVzIGVuYWJsZWRcbiIsIGZucy0+bmFtZSk7Ci0gICAgaWYgKCAh
Zm5zLT5oYXBfc3VwcG9ydGVkICkKLSAgICAgICAgcHJpbnRrKCJIVk06IEhhcmR3YXJlIEFzc2lz
dGVkIFBhZ2luZyAoSEFQKSBub3QgZGV0ZWN0ZWRcbiIpOwotICAgIGVsc2UgaWYgKCAhb3B0X2hh
cF9lbmFibGVkICkKLSAgICB7Ci0gICAgICAgIGh2bV9mdW5jcy5oYXBfc3VwcG9ydGVkID0gMDsK
LSAgICAgICAgcHJpbnRrKCJIVk06IEhhcmR3YXJlIEFzc2lzdGVkIFBhZ2luZyAoSEFQKSBkZXRl
Y3RlZCBidXQgZGlzYWJsZWRcbiIpOwotICAgIH0KKyAgICBpZiAoICFoYXBfc3VwcG9ydGVkKGZu
cykgKQorICAgICAgICBpb21tdV9oYXBfcHRfc2hhcmUgPSBmYWxzZTsKICAgICBlbHNlCiAgICAg
ewogICAgICAgICBwcmludGsoIkhWTTogSGFyZHdhcmUgQXNzaXN0ZWQgUGFnaW5nIChIQVApIGRl
dGVjdGVkXG4iKTsKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vc3lzY3RsLmMgYi94ZW4vY29tbW9u
L3N5c2N0bC5jCmluZGV4IDkyYjRlYTBkMjEuLmVmODQwZmNiNzYgMTAwNjQ0Ci0tLSBhL3hlbi9j
b21tb24vc3lzY3RsLmMKKysrIGIveGVuL2NvbW1vbi9zeXNjdGwuYwpAQCAtMjY5LDYgKzI2OSw4
IEBAIGxvbmcgZG9fc3lzY3RsKFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX3N5c2N0bF90KSB1
X3N5c2N0bCkKICAgICAgICAgYXJjaF9kb19waHlzaW5mbyhwaSk7CiAgICAgICAgIGlmICggaW9t
bXVfZW5hYmxlZCApCiAgICAgICAgICAgICBwaS0+Y2FwYWJpbGl0aWVzIHw9IFhFTl9TWVNDVExf
UEhZU0NBUF9kaXJlY3RpbzsKKyAgICAgICAgaWYgKCBpb21tdV9oYXBfcHRfc2hhcmUgKQorICAg
ICAgICAgICAgcGktPmNhcGFiaWxpdGllcyB8PSBYRU5fU1lTQ1RMX1BIWVNDQVBfaW9tbXVfaGFw
X3B0X3NoYXJlOwogCiAgICAgICAgIGlmICggY29weV90b19ndWVzdCh1X3N5c2N0bCwgb3AsIDEp
ICkKICAgICAgICAgICAgIHJldCA9IC1FRkFVTFQ7CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1k
L2lvbW11X2luaXQuYwppbmRleCBiYjVhM2U1N2M5Li4yZTAxMWQ0ZTQzIDEwMDY0NAotLS0gYS94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jCisrKyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9pbml0LmMKQEAgLTE0MDEsMTIgKzE0MDEsMTUgQEAgaW50
IF9faW5pdCBhbWRfaW9tbXVfaW5pdChib29sIHh0KQogICAgIGlmICggcmMgKQogICAgICAgICBn
b3RvIGVycm9yX291dDsKIAorI2lmbmRlZiBpb21tdV9oYXBfcHRfc2hhcmUKICAgICAvKgogICAg
ICAqIERpc2FibGUgc2hhcmluZyBIQVAgcGFnZSB0YWJsZXMgd2l0aCBBTUQgSU9NTVUsCiAgICAg
ICogc2luY2UgaXQgb25seSBzdXBwb3J0cyBwMm1fcmFtX3J3LCBhbmQgdGhpcyB3b3VsZAogICAg
ICAqIHByZXZlbnQgZG9pbmcgSU8gdG8vZnJvbSBtYXBwZWQgZ3JhbnQgZnJhbWVzLgogICAgICAq
LwotICAgIGlvbW11X2hhcF9wdF9zaGFyZSA9IDA7CisgICAgaW9tbXVfaGFwX3B0X3NoYXJlID0g
ZmFsc2U7CisjZW5kaWYKKwogICAgIHByaW50ayhYRU5MT0dfREVCVUcgIkFNRC1WaTogRGlzYWJs
ZWQgSEFQIG1lbW9yeSBtYXAgc2hhcmluZyB3aXRoIElPTU1VXG4iKTsKIAogICAgIC8qIHBlciBp
b21tdSBpbml0aWFsaXphdGlvbiAgKi8KZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL2lvbW11LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9pb21tdS5jCmluZGV4IDA5Y2U5
ZDkyOTQuLmJkZjEyZjg1ZTYgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lv
bW11LmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYwpAQCAtNDksNyArNDks
MTEgQEAgaW50OF90IF9faHdkb21faW5pdGRhdGEgaW9tbXVfaHdkb21fcmVzZXJ2ZWQgPSAtMTsK
ICAqIGRlZmF1bHQgdW50aWwgd2UgZmluZCBhIGdvb2Qgc29sdXRpb24gdG8gcmVzb2x2ZSBpdC4K
ICAqLwogYm9vbF90IF9fcmVhZF9tb3N0bHkgaW9tbXVfaW50cG9zdDsKLWJvb2xfdCBfX3JlYWRf
bW9zdGx5IGlvbW11X2hhcF9wdF9zaGFyZSA9IDE7CisKKyNpZm5kZWYgaW9tbXVfaGFwX3B0X3No
YXJlCitib29sIF9fcmVhZF9tb3N0bHkgaW9tbXVfaGFwX3B0X3NoYXJlID0gdHJ1ZTsKKyNlbmRp
ZgorCiBib29sX3QgX19yZWFkX21vc3RseSBpb21tdV9kZWJ1ZzsKIGJvb2xfdCBfX3JlYWRfbW9z
dGx5IGFtZF9pb21tdV9wZXJkZXZfaW50cmVtYXAgPSAxOwogCkBAIC0xMDMsNyArMTA3LDE0IEBA
IHN0YXRpYyBpbnQgX19pbml0IHBhcnNlX2lvbW11X3BhcmFtKGNvbnN0IGNoYXIgKnMpCiAgICAg
ICAgIGVsc2UgaWYgKCAodmFsID0gcGFyc2VfYm9vbGVhbigiZG9tMC1zdHJpY3QiLCBzLCBzcykp
ID49IDAgKQogICAgICAgICAgICAgaW9tbXVfaHdkb21fc3RyaWN0ID0gdmFsOwogICAgICAgICBl
bHNlIGlmICggKHZhbCA9IHBhcnNlX2Jvb2xlYW4oInNoYXJlcHQiLCBzLCBzcykpID49IDAgKQor
ICAgICAgICB7CisjaWZuZGVmIGlvbW11X2hhcF9wdF9zaGFyZQogICAgICAgICAgICAgaW9tbXVf
aGFwX3B0X3NoYXJlID0gdmFsOworI2Vsc2UKKyAgICAgICAgICAgIGlmICh2YWwgIT0gaW9tbXVf
aGFwX3B0X3NoYXJlKQorICAgICAgICAgICAgICAgIHJjID0gLUVJTlZBTDsKKyNlbmRpZgorICAg
ICAgICB9CiAgICAgICAgIGVsc2UKICAgICAgICAgICAgIHJjID0gLUVJTlZBTDsKIApAQCAtNTEx
LDcgKzUyMiwxMiBAQCBpbnQgX19pbml0IGlvbW11X3NldHVwKHZvaWQpCiAgICAgICAgIGlvbW11
X2VuYWJsZWQgPSAocmMgPT0gMCk7CiAgICAgfQogICAgIGlmICggIWlvbW11X2VuYWJsZWQgKQor
ICAgIHsKICAgICAgICAgaW9tbXVfaW50cmVtYXAgPSAwOworI2lmbmRlZiBpb21tdV9oYXBfcHRf
c2hhcmUKKyAgICAgICAgaW9tbXVfaGFwX3B0X3NoYXJlID0gZmFsc2U7CisjZW5kaWYKKyAgICB9
CiAKICAgICBpZiAoIChmb3JjZV9pb21tdSAmJiAhaW9tbXVfZW5hYmxlZCkgfHwKICAgICAgICAg
IChmb3JjZV9pbnRyZW1hcCAmJiAhaW9tbXVfaW50cmVtYXApICkKZGlmZiAtLWdpdCBhL3hlbi9k
cml2ZXJzL3Bhc3N0aHJvdWdoL3Z0ZC9pb21tdS5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gv
dnRkL2lvbW11LmMKaW5kZXggN2ZmYWZkYzA2NS4uYTczODFhNzQ0OSAxMDA2NDQKLS0tIGEveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2lvbW11LmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Ro
cm91Z2gvdnRkL2lvbW11LmMKQEAgLTE4OTgsNiArMTg5OCw3IEBAIGludCBpb21tdV9wdGVfZmx1
c2goc3RydWN0IGRvbWFpbiAqZCwgdWludDY0X3QgZGZuLCB1aW50NjRfdCAqcHRlLAogICAgIHJl
dHVybiByYzsKIH0KIAorI2lmbmRlZiBpb21tdV9oYXBfcHRfc2hhcmUKIHN0YXRpYyBpbnQgX19p
bml0IHZ0ZF9lcHRfcGFnZV9jb21wYXRpYmxlKHN0cnVjdCB2dGRfaW9tbXUgKmlvbW11KQogewog
ICAgIHU2NCBlcHRfY2FwLCB2dGRfY2FwID0gaW9tbXUtPmNhcDsKQEAgLTE5MTAsNiArMTkxMSw3
IEBAIHN0YXRpYyBpbnQgX19pbml0IHZ0ZF9lcHRfcGFnZV9jb21wYXRpYmxlKHN0cnVjdCB2dGRf
aW9tbXUgKmlvbW11KQogICAgIHJldHVybiAoZXB0X2hhc18ybWIoZXB0X2NhcCkgJiYgb3B0X2hh
cF8ybWIpID09IGNhcF9zcHNfMm1iKHZ0ZF9jYXApICYmCiAgICAgICAgICAgIChlcHRfaGFzXzFn
YihlcHRfY2FwKSAmJiBvcHRfaGFwXzFnYikgPT0gY2FwX3Nwc18xZ2IodnRkX2NhcCk7CiB9Cisj
ZW5kaWYKIAogLyoKICAqIHNldCBWVC1kIHBhZ2UgdGFibGUgZGlyZWN0b3J5IHRvIEVQVCB0YWJs
ZSBpZiBhbGxvd2VkCkBAIC0yMzA5LDggKzIzMTEsMTAgQEAgc3RhdGljIGludCBfX2luaXQgdnRk
X3NldHVwKHZvaWQpCiAgICAgICAgIGlmICggIWNhcF9pbnRyX3Bvc3QoaW9tbXUtPmNhcCkgfHwg
IWlvbW11X2ludHJlbWFwIHx8ICFjcHVfaGFzX2N4MTYgKQogICAgICAgICAgICAgaW9tbXVfaW50
cG9zdCA9IDA7CiAKKyNpZm5kZWYgaW9tbXVfaGFwX3B0X3NoYXJlCiAgICAgICAgIGlmICggIXZ0
ZF9lcHRfcGFnZV9jb21wYXRpYmxlKGlvbW11KSApCi0gICAgICAgICAgICBpb21tdV9oYXBfcHRf
c2hhcmUgPSAwOworICAgICAgICAgICAgaW9tbXVfaGFwX3B0X3NoYXJlID0gZmFsc2U7CisjZW5k
aWYKIAogICAgICAgICByZXQgPSBpb21tdV9zZXRfaW50ZXJydXB0KGRyaGQpOwogICAgICAgICBp
ZiAoIHJldCApCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3RsLmggYi94ZW4v
aW5jbHVkZS9wdWJsaWMvc3lzY3RsLmgKaW5kZXggZTMyNDQ0MmY5Mi4uMmJlMDEzZGU1YiAxMDA2
NDQKLS0tIGEveGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oCisrKyBiL3hlbi9pbmNsdWRlL3B1
YmxpYy9zeXNjdGwuaApAQCAtOTYsOSArOTYsMTMgQEAgc3RydWN0IHhlbl9zeXNjdGxfdGJ1Zl9v
cCB7CiAvKiBUaGUgcGxhdGZvcm0gc3VwcG9ydHMgc29mdHdhcmUgcGFnaW5nLiAqLwogI2RlZmlu
ZSBfWEVOX1NZU0NUTF9QSFlTQ0FQX3NoYWRvdyAgICAgICA0CiAjZGVmaW5lIFhFTl9TWVNDVExf
UEhZU0NBUF9zaGFkb3cgICAgICAgICgxdTw8X1hFTl9TWVNDVExfUEhZU0NBUF9zaGFkb3cpCisv
KiBUaGUgcGxhdGZvcm0gc3VwcG9ydHMgc2hhcmluZyBvZiBIQVAgcGFnZSB0YWJsZXMgd2l0aCB0
aGUgSU9NTVUuICovCisjZGVmaW5lIF9YRU5fU1lTQ1RMX1BIWVNDQVBfaW9tbXVfaGFwX3B0X3No
YXJlIDUKKyNkZWZpbmUgWEVOX1NZU0NUTF9QSFlTQ0FQX2lvbW11X2hhcF9wdF9zaGFyZSAgXAor
ICAgICgxdSA8PCBfWEVOX1NZU0NUTF9QSFlTQ0FQX2lvbW11X2hhcF9wdF9zaGFyZSkKIAogLyog
TWF4IFhFTl9TWVNDVExfUEhZU0NBUF8qIGNvbnN0YW50LiAgVXNlZCBmb3IgQUJJIGNoZWNraW5n
LiAqLwotI2RlZmluZSBYRU5fU1lTQ1RMX1BIWVNDQVBfTUFYIFhFTl9TWVNDVExfUEhZU0NBUF9z
aGFkb3cKKyNkZWZpbmUgWEVOX1NZU0NUTF9QSFlTQ0FQX01BWCBYRU5fU1lTQ1RMX1BIWVNDQVBf
aGFwX3B0X3NoYXJlCiAKIHN0cnVjdCB4ZW5fc3lzY3RsX3BoeXNpbmZvIHsKICAgICB1aW50MzJf
dCB0aHJlYWRzX3Blcl9jb3JlOwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL2lvbW11Lmgg
Yi94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAppbmRleCBhYjI1OGI4NDhiLi5hNTE5ZjRkODdiIDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4v
aW9tbXUuaApAQCAtNTUsNyArNTUsMTMgQEAgc3RhdGljIGlubGluZSBib29sX3QgZGZuX2VxKGRm
bl90IHgsIGRmbl90IHkpCiBleHRlcm4gYm9vbF90IGlvbW11X2VuYWJsZSwgaW9tbXVfZW5hYmxl
ZDsKIGV4dGVybiBib29sX3QgZm9yY2VfaW9tbXUsIGlvbW11X3ZlcmJvc2UsIGlvbW11X2lnZng7
CiBleHRlcm4gYm9vbF90IGlvbW11X3Nub29wLCBpb21tdV9xaW52YWwsIGlvbW11X2ludHJlbWFw
LCBpb21tdV9pbnRwb3N0OwotZXh0ZXJuIGJvb2xfdCBpb21tdV9oYXBfcHRfc2hhcmU7CisKKyNp
ZmRlZiBDT05GSUdfSFZNCitleHRlcm4gYm9vbCBpb21tdV9oYXBfcHRfc2hhcmU7CisjZWxzZQor
I2RlZmluZSBpb21tdV9oYXBfcHRfc2hhcmUgZmFsc2UKKyNlbmRpZgorCiBleHRlcm4gYm9vbF90
IGlvbW11X2RlYnVnOwogZXh0ZXJuIGJvb2xfdCBhbWRfaW9tbXVfcGVyZGV2X2ludHJlbWFwOwog
Ci0tIAoyLjIwLjEuMi5nYjIxZWJiNjcxCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMu
eGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL3hlbi1kZXZlbA==

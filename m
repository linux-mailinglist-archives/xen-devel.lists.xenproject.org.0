Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BFEB7BCB78
	for <lists+xen-devel@lfdr.de>; Tue, 24 Sep 2019 17:33:36 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iCmmb-0007wh-GC; Tue, 24 Sep 2019 15:31:17 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7zL=XT=gmail.com=olekstysh@srs-us1.protection.inumbo.net>)
 id 1iCmmZ-0007w5-VM
 for xen-devel@lists.xenproject.org; Tue, 24 Sep 2019 15:31:15 +0000
X-Inumbo-ID: 4c6f58e6-dee0-11e9-bf31-bc764e2007e4
Received: from mail-lj1-x241.google.com (unknown [2a00:1450:4864:20::241])
 by localhost (Halon) with ESMTPS
 id 4c6f58e6-dee0-11e9-bf31-bc764e2007e4;
 Tue, 24 Sep 2019 15:30:55 +0000 (UTC)
Received: by mail-lj1-x241.google.com with SMTP id l21so2358121lje.4
 for <xen-devel@lists.xenproject.org>; Tue, 24 Sep 2019 08:30:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=DrzTrZ/qnICiIH+wPomi5xqO8UIxGT+AUn3v3IM2ulg=;
 b=dO+KRciAASWiYHfB13nbiaml9Xjn4GpuQ5UDxN8pjZluEksYWjbLnve/VoApSK1Su3
 DsuXD/vOaRz+7oYQIbf8/Fl/U7AkzKGjrJxnqXDYyVFV7FKsRXNvqJ2Rk9hJbG5fIKjR
 6ZJjfcp/zeuzEmRDwcfo/hjTHDLgxrlU57eBaNpnjr84ZtYoUeYZq0wkWxZP0pvtlVxX
 YhfZmEL8guJoheFzzqj2p+0m/1cxDcW7WIIAvEDQLFubNTmX/h9/WjwH+c1asbemQkLf
 zalnLbmDnPYj/U2x1HlOkSWIv7CxV+wO6hQhjCnYSBUwfGCIxPOaT5Mop49o1VQiOjIZ
 6fPg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=DrzTrZ/qnICiIH+wPomi5xqO8UIxGT+AUn3v3IM2ulg=;
 b=bDuhTJevJucqLmYm+yGc/TMqufghVNKXn1SMB33Odhcd2qb3ij6xSg4xeRP1eeKz6g
 Kmwu4ZwRuPDXeMUcnkgqNrFPFgVo9b5UkQmy9uMirRrYRTLjMXJSSLYAPAJxy8MRWzkV
 4gHdb0KNhJGJyPCBF5PH2ELZT2kV+kJVvIyGPA8KYQoBiX+njuG2mz5Ow1Ee0MzXzFoM
 l1MzCXUnL++qNUC18/oMi/Kgcl72CFYXXPuHvm2DtjQUF/E8heUjdmf3FQg6k+PRe1sc
 aV7DpD3puJv49rrxa0m7Hq4sadPrKKxw8udeKISOF7UmrF9W7aymFVqqm7LjhnV/uK+l
 6rfA==
X-Gm-Message-State: APjAAAVCRB/2vIPKBarE0SkpqDzCD2hvl1+5S0o/gPr/oHbtR5RSrJdN
 ouN3IP9MG/Ih8M2MD6dXVtMrWCcWki8=
X-Google-Smtp-Source: APXvYqykQIRaDNSy/2QhVoqUOcT4TJ1HacgneLc/5LdyKjHU9Z738bm99dRaesHhfSDIulUjxoV1JQ==
X-Received: by 2002:a05:651c:1132:: with SMTP id
 e18mr2445509ljo.33.1569339054185; 
 Tue, 24 Sep 2019 08:30:54 -0700 (PDT)
Received: from otyshchenko.kyiv.epam.com (ll-74.141.223.85.sovam.net.ua.
 [85.223.141.74])
 by smtp.gmail.com with ESMTPSA id z128sm525818lfa.1.2019.09.24.08.30.53
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Tue, 24 Sep 2019 08:30:53 -0700 (PDT)
From: Oleksandr Tyshchenko <olekstysh@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 24 Sep 2019 18:30:24 +0300
Message-Id: <1569339027-19484-6-git-send-email-olekstysh@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1569339027-19484-1-git-send-email-olekstysh@gmail.com>
References: <1569339027-19484-1-git-send-email-olekstysh@gmail.com>
Subject: [Xen-devel] [PATCH V5 5/8] iommu/arm: Add lightweight iommu_fwspec
 support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>, julien.grall@arm.com,
 sstabellini@kernel.org, volodymyr_babchuk@epam.com,
 Jan Beulich <jbeulich@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtvQGVwYW0uY29t
PgoKV2UgbmVlZCB0byBoYXZlIHNvbWUgYWJzdHJhY3Qgd2F5IHRvIGFkZCBuZXcgZGV2aWNlIHRv
IHRoZSBJT01NVQpiYXNlZCBvbiB0aGUgZ2VuZXJpYyBJT01NVSBEVCBiaW5kaW5ncyBbMV0gd2hp
Y2ggY2FuIGJlIHVzZWQgZm9yCmJvdGggRFQgKHJpZ2h0IG5vdykgYW5kIEFDUEkgKGluIGZ1dHVy
ZSkuCgpGb3IgdGhhdCByZWFzb24gd2UgY2FuIGJvcnJvdyB0aGUgaWRlYSB1c2VkIGluIExpbnV4
IHRoZXNlIGRheXMKY2FsbGVkICJpb21tdV9md3NwZWMiLiBIYXZpbmcgdGhpcyBpbiwgaXQgd2ls
bCBiZSBwb3NzaWJsZQp0byBjb25maWd1cmUgSU9NTVUgbWFzdGVyIGludGVyZmFjZXMgb2YgdGhl
IGRldmljZSAoZGV2aWNlIElEcykKZnJvbSBhIHNpbmdsZSBjb21tb24gcGxhY2UgYW5kIGF2b2lk
IGtlZXBpbmcgYWxtb3N0IGlkZW50aWNhbCBsb29rLXVwCmltcGxlbWVudGF0aW9ucyBpbiBlYWNo
IElPTU1VIGRyaXZlci4KClRoZXJlIGlzIG5vIG5lZWQgdG8gcG9ydCB0aGUgd2hvbGUgaW1wbGVt
ZW50YXRpb24gb2YgImlvbW11X2Z3c3BlYyIKdG8gWGVuLCB3ZSBjb3VsZCwgcHJvYmFibHksIGVu
ZCB1cCB3aXRoIGEgbXVjaCBzaW1wbGVyIHNvbHV0aW9uLApzb21lICJzdHJpcHBlZCBkb3duIiB2
ZXJzaW9uIHdoaWNoIGZpdHMgb3VyIHJlcXVpcmVtZW50cy4KClNvLCB0aGlzIHBhdGNoIGFkZHMg
dGhlIGZvbGxvd2luZzoKMS4gQSBjb21tb24gc3RydWN0dXJlICJpb21tdV9md3NwZWMiIHRvIGhv
bGQgdGhlIHRoZSBwZXItZGV2aWNlCiAgIGZpcm13YXJlIGRhdGEKMi4gTmV3IG1lbWJlciAiaW9t
bXVfZndzcGVjIiBvZiBzdHJ1Y3QgZGV2aWNlCjMuIEZ1bmN0aW9ucy9oZWxwZXJzIHRvIGRlYWwg
d2l0aCAiZGV2LT5pb21tdV9md3NwZWMiCgpJdCBzaG91bGQgYmUgbm90ZWQgdGhhdCBpbiBjb21w
YXJpc29uIG9mIHRoZSBvcmlnaW5hbCAiaW9tbXVfZndzcGVjIgpYZW4ncyB2YXJpYW50IGRvZXNu
J3QgY29udGFpbiBzb21lIGZpZWxkcywgd2hpY2ggYXJlIG5vdCByZWFsbHkKbmVlZGVkIGF0IHRo
ZSBtb21lbnQgKG9wcywgZmxhZykgYW5kICJpb21tdV9md25vZGUiIGZpZWxkIHdhcyByZXBsYWNl
ZApieSAiaW9tbXVfZGV2IiB0byBhdm9pZCBwb3J0aW5nIGEgbG90IG9mIGNvZGUgKHRvIHN1cHBv
cnQgImZ3bm9kZV9oYW5kbGUiKQp3aXRoIGxpdHRsZSBiZW5lZml0LgoKVGhlICJpb21tdV9md3Nw
ZWMiIHN1cHBvcnQgaXMgYmFzZWQgb24gdGhlIExpbnV4J3MgY29tbWl0OgpmNzRjMmJiOTg3NzZl
MmRlNTA4ZjRkNjA3Y2Q1MTk4NzMwNjUxMThlICJMaW51eCA1LjMtcmM4IgoKU3Vic2VxdWVudCBw
YXRjaGVzIHdpbGwgdXNlIG9mIHRoYXQgc3VwcG9ydC4KClsxXSBodHRwczovL3d3dy5rZXJuZWwu
b3JnL2RvYy9Eb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3MvaW9tbXUvaW9tbXUudHh0
CgpTaWduZWQtb2ZmLWJ5OiBPbGVrc2FuZHIgVHlzaGNoZW5rbyA8b2xla3NhbmRyX3R5c2hjaGVu
a29AZXBhbS5jb20+CkNDOiBKdWxpZW4gR3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgpDQzog
SmFuIEJldWxpY2ggPGpiZXVsaWNoQHN1c2UuY29tPgoKLS0tCkNoYW5nZXMgVjQgLT4gVjU6CiAg
ICAtIG1vZGlmaWVkIHN0cnVjdCBpb21tdV9md3NwZWMgdG8gdXNlIGZsZXhpYmxlIGFycmF5ICh1
aW50MzJfdCBpZHNbXSkKICAgIC0gbW9kaWZpZWQgdG8gdXNlIHh6YWxsb2NfZmxleF9zdHJ1Y3Qo
KSBvbiB0aGUgZmlyc3QgYWxsb2NhdGlvbgogICAgLSBhZGRlZCAiY29uc3QiIHRvIHVpbnQzMl90
ICppZHMgaW4gaW9tbXVfZndzcGVjX2FkZF9pZHMoKQoKQ2hhbmdlcyBWMyAtPiBWNDoKICAgIC0g
bW9kaWZpZWQgaW9tbXVfZndzcGVjX2FkZF9pZHMoKSB0byB1c2UgbmV3IGltcGxlbWVudGF0aW9u
IG9mCiAgICAgIHhyZWFsbG9jX2ZsZXhfc3RydWN0KCkKICAgIC0gbWVudGlvbmVkIGV4YWN0IExp
bnV4IHZlcnNpb24gd2UgYXJlIGJhc2VkIG9uCiAgICAtIGZpeGVkIEdyYW1tYXRpY2FsIGVycm9y
CgpDaGFuZ2VzIFYyIC0+IFYzOgogICAgLSBhZGRlZCBDb3B5cmlnaHQgZnJvbSBMaW51eAogICAg
LSBvcmRlcmVkIHRoZSBoZWFkZXJzIGFscGhhYmV0aWNhbGx5CiAgICAtIHJlbW92ZWQgY2hlY2sg
Zm9yIG5vdCBhIE5VTEwgYmVmb3JlIGNhbGxpbmcgeGZyZWUoKQogICAgLSB1c2VkIHVuc2lnbmVk
IGZvciB2YXJpYWJsZXMgd2hpY2ggY2FuJ3QgYmUgbmVnYXRpdmUKICAgIC0gcmVtb3ZlZCAjaW5j
bHVkZSA8YXNtL2lvbW11X2Z3c3BlYy5oPiBmcm9tIGlvbW11LmgKICAgIC0gYWRkZWQgY2hlY2sg
dG8gaW9tbXVfZndzcGVjX2luaXQoKSB0byBub3QgYWxsb3cgb3ZlcnJpZGluZwogICAgLSBjbGFy
aWZpZWQgY29tbWVudHMgaW4gY29kZQogICAgLSBtb2RpZmllZCBpb21tdV9md3NwZWNfYWRkX2lk
cygpIHRvIHVzZSB0eXBlLXNhZmUgeHJlYWxsb2NfZmxleF9zdHJ1Y3QoKQotLS0KIHhlbi9kcml2
ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmlsZSAgICAgICB8ICAyICstCiB4ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9hcm0vaW9tbXVfZndzcGVjLmMgfCA5NyArKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysKIHhlbi9pbmNsdWRlL2FzbS1hcm0vZGV2aWNlLmggICAgICAgICAgICAgICB8ICAx
ICsKIHhlbi9pbmNsdWRlL2FzbS1hcm0vaW9tbXVfZndzcGVjLmggICAgICAgICB8IDY4ICsrKysr
KysrKysrKysrKysrKysrKwogNCBmaWxlcyBjaGFuZ2VkLCAxNjcgaW5zZXJ0aW9ucygrKSwgMSBk
ZWxldGlvbigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2Fy
bS9pb21tdV9md3NwZWMuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IHhlbi9pbmNsdWRlL2FzbS1hcm0v
aW9tbXVfZndzcGVjLmgKCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0v
TWFrZWZpbGUgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vTWFrZWZpbGUKaW5kZXggNGFi
Yjg3YS4uNWZiYWQ0NSAxMDA2NDQKLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL01h
a2VmaWxlCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmlsZQpAQCAtMSwy
ICsxLDIgQEAKLW9iai15ICs9IGlvbW11Lm8gaW9tbXVfaGVscGVycy5vCitvYmoteSArPSBpb21t
dS5vIGlvbW11X2hlbHBlcnMubyBpb21tdV9md3NwZWMubwogb2JqLSQoQ09ORklHX0FSTV9TTU1V
KSArPSBzbW11Lm8KZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21t
dV9md3NwZWMuYyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21tdV9md3NwZWMuYwpu
ZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi44Yzk3YzdjCi0tLSAvZGV2L251bGwK
KysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lvbW11X2Z3c3BlYy5jCkBAIC0wLDAg
KzEsOTcgQEAKKy8qCisgKiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaW9tbXVfZndzcGVj
LmMKKyAqCisgKiBDb250YWlucyBmdW5jdGlvbnMgdG8gbWFpbnRhaW4gcGVyLWRldmljZSBmaXJt
d2FyZSBkYXRhCisgKgorICogQmFzZWQgb24gTGludXgncyBpb21tdV9md3NwZWMgc3VwcG9ydCB5
b3UgY2FuIGZpbmQgYXQ6CisgKiAgICBkcml2ZXJzL2lvbW11L2lvbW11LmMKKyAqCisgKiBDb3B5
cmlnaHQgKEMpIDIwMDctMjAwOCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICog
Q29weXJpZ2h0IChDKSAyMDE5IEVQQU0gU3lzdGVtcyBJbmMuCisgKgorICogVGhpcyBwcm9ncmFt
IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgorICogbW9k
aWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgR05VIEdlbmVyYWwg
UHVibGljCisgKiBMaWNlbnNlLCB2ZXJzaW9uIDIsIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBT
b2Z0d2FyZSBGb3VuZGF0aW9uLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBp
biB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogYnV0IFdJVEhPVVQgQU5ZIFdB
UlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqIE1FUkNIQU5U
QUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05V
CisgKiBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICogWW91
IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljCisg
KiBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBJZiBub3QsIHNlZSA8aHR0cDovL3d3
dy5nbnUub3JnL2xpY2Vuc2VzLz4uCisgKi8KKworI2luY2x1ZGUgPHhlbi9pb21tdS5oPgorI2lu
Y2x1ZGUgPHhlbi9saWIuaD4KKworI2luY2x1ZGUgPGFzbS9kZXZpY2UuaD4KKyNpbmNsdWRlIDxh
c20vaW9tbXVfZndzcGVjLmg+CisKK2ludCBpb21tdV9md3NwZWNfaW5pdChzdHJ1Y3QgZGV2aWNl
ICpkZXYsIHN0cnVjdCBkZXZpY2UgKmlvbW11X2RldikKK3sKKyAgICBzdHJ1Y3QgaW9tbXVfZndz
cGVjICpmd3NwZWMgPSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYpOworCisgICAgaWYgKCBmd3Nw
ZWMgKQorICAgIHsKKyAgICAgICAgLyogV2UgZXhwZWN0IHRoZSBkZXZpY2UgdG8gYmUgcHJvdGVj
dGVkIGJ5IG9ubHkgb25lIElPTU1VLiAqLworICAgICAgICBpZiAoIGZ3c3BlYy0+aW9tbXVfZGV2
ICE9IGlvbW11X2RldiApCisgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKKworICAgICAgICBy
ZXR1cm4gMDsKKyAgICB9CisKKyAgICAvKgorICAgICAqIEFsbG9jYXRlIHdpdGggaWRzWzFdIHRv
IGF2b2lkIHRoZSByZS1hbGxvY2F0aW9uIGluIHRoZSBjb21tb24gY2FzZQorICAgICAqIHdoZXJl
IGEgZGV2aWNlIGhhcyBhIHNpbmdsZSBkZXZpY2UgSUQuCisgICAgICovCisgICAgZndzcGVjID0g
eHphbGxvY19mbGV4X3N0cnVjdChzdHJ1Y3QgaW9tbXVfZndzcGVjLCBpZHMsIDEpOworICAgIGlm
ICggIWZ3c3BlYyApCisgICAgICAgIHJldHVybiAtRU5PTUVNOworCisgICAgZndzcGVjLT5pb21t
dV9kZXYgPSBpb21tdV9kZXY7CisgICAgZGV2X2lvbW11X2Z3c3BlY19zZXQoZGV2LCBmd3NwZWMp
OworCisgICAgcmV0dXJuIDA7Cit9CisKK3ZvaWQgaW9tbXVfZndzcGVjX2ZyZWUoc3RydWN0IGRl
dmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpb21tdV9md3NwZWMgKmZ3c3BlYyA9IGRldl9pb21t
dV9md3NwZWNfZ2V0KGRldik7CisKKyAgICB4ZnJlZShmd3NwZWMpOworICAgIGRldl9pb21tdV9m
d3NwZWNfc2V0KGRldiwgTlVMTCk7Cit9CisKK2ludCBpb21tdV9md3NwZWNfYWRkX2lkcyhzdHJ1
Y3QgZGV2aWNlICpkZXYsIGNvbnN0IHVpbnQzMl90ICppZHMsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgdW5zaWduZWQgaW50IG51bV9pZHMpCit7CisgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAq
ZndzcGVjID0gZGV2X2lvbW11X2Z3c3BlY19nZXQoZGV2KTsKKyAgICB1bnNpZ25lZCBpbnQgaTsK
KworICAgIGlmICggIWZ3c3BlYyApCisgICAgICAgIHJldHVybiAtRUlOVkFMOworCisgICAgZndz
cGVjID0geHJlYWxsb2NfZmxleF9zdHJ1Y3QoZndzcGVjLCBpZHMsIGZ3c3BlYy0+bnVtX2lkcyAr
IG51bV9pZHMpOworICAgIGlmICggIWZ3c3BlYyApCisgICAgICAgIHJldHVybiAtRU5PTUVNOwor
CisgICAgZGV2X2lvbW11X2Z3c3BlY19zZXQoZGV2LCBmd3NwZWMpOworCisgICAgZm9yICggaSA9
IDA7IGkgPCBudW1faWRzOyBpKysgKQorICAgICAgICBmd3NwZWMtPmlkc1tmd3NwZWMtPm51bV9p
ZHMgKyBpXSA9IGlkc1tpXTsKKworICAgIGZ3c3BlYy0+bnVtX2lkcyArPSBudW1faWRzOworCisg
ICAgcmV0dXJuIDA7Cit9CisKKy8qCisgKiBMb2NhbCB2YXJpYWJsZXM6CisgKiBtb2RlOiBDCisg
KiBjLWZpbGUtc3R5bGU6ICJCU0QiCisgKiBjLWJhc2ljLW9mZnNldDogNAorICogaW5kZW50LXRh
YnMtbW9kZTogbmlsCisgKiBFbmQ6CisgKi8KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS1h
cm0vZGV2aWNlLmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL2RldmljZS5oCmluZGV4IGVlMWMzYmMu
LmVlN2NmZjIgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZGV2aWNlLmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLWFybS9kZXZpY2UuaApAQCAtMTgsNiArMTgsNyBAQCBzdHJ1Y3QgZGV2
aWNlCiAgICAgc3RydWN0IGR0X2RldmljZV9ub2RlICpvZl9ub2RlOyAvKiBVc2VkIGJ5IGRyaXZl
cnMgaW1wb3J0ZWQgZnJvbSBMaW51eCAqLwogI2VuZGlmCiAgICAgc3RydWN0IGRldl9hcmNoZGF0
YSBhcmNoZGF0YTsKKyAgICBzdHJ1Y3QgaW9tbXVfZndzcGVjICppb21tdV9md3NwZWM7IC8qIHBl
ci1kZXZpY2UgSU9NTVUgaW5zdGFuY2UgZGF0YSAqLwogfTsKIAogdHlwZWRlZiBzdHJ1Y3QgZGV2
aWNlIGRldmljZV90OwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLWFybS9pb21tdV9md3Nw
ZWMuaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vaW9tbXVfZndzcGVjLmgKbmV3IGZpbGUgbW9kZSAx
MDA2NDQKaW5kZXggMDAwMDAwMC4uNWNkYjUzZgotLS0gL2Rldi9udWxsCisrKyBiL3hlbi9pbmNs
dWRlL2FzbS1hcm0vaW9tbXVfZndzcGVjLmgKQEAgLTAsMCArMSw2OCBAQAorLyoKKyAqIHhlbi9p
bmNsdWRlL2FzbS1hcm0vaW9tbXVfZndzcGVjLmgKKyAqCisgKiBDb250YWlucyBhIGNvbW1vbiBz
dHJ1Y3R1cmUgdG8gaG9sZCB0aGUgcGVyLWRldmljZSBmaXJtd2FyZSBkYXRhIGFuZAorICogZGVj
bGFyYXRpb24gb2YgZnVuY3Rpb25zIHVzZWQgdG8gbWFpbnRhaW4gdGhhdCBkYXRhCisgKgorICog
QmFzZWQgb24gTGludXgncyBpb21tdV9md3NwZWMgc3VwcG9ydCB5b3UgY2FuIGZpbmQgYXQ6Cisg
KiAgICBpbmNsdWRlL2xpbnV4L2lvbW11LmgKKyAqCisgKiBDb3B5cmlnaHQgKEMpIDIwMDctMjAw
OCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogQ29weXJpZ2h0IChDKSAyMDE5
IEVQQU0gU3lzdGVtcyBJbmMuCisgKgorICogVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7
IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgorICogbW9kaWZ5IGl0IHVuZGVyIHRoZSB0
ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljCisgKiBMaWNlbnNl
LCB2ZXJzaW9uIDIsIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9u
LgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0
IHdpbGwgYmUgdXNlZnVsLAorICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2
ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNT
IEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCisgKiBHZW5lcmFsIFB1Ymxp
YyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICogWW91IHNob3VsZCBoYXZlIHJlY2Vp
dmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljCisgKiBMaWNlbnNlIGFsb25nIHdp
dGggdGhpcyBwcm9ncmFtOyBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2Vz
Lz4uCisgKi8KKworI2lmbmRlZiBfX0FSQ0hfQVJNX0lPTU1VX0ZXU1BFQ19IX18KKyNkZWZpbmUg
X19BUkNIX0FSTV9JT01NVV9GV1NQRUNfSF9fCisKKy8qIHBlci1kZXZpY2UgSU9NTVUgaW5zdGFu
Y2UgZGF0YSAqLworc3RydWN0IGlvbW11X2Z3c3BlYyB7CisgICAgLyogdGhpcyBkZXZpY2UncyBJ
T01NVSAqLworICAgIHN0cnVjdCBkZXZpY2UgKmlvbW11X2RldjsKKyAgICAvKiBJT01NVSBkcml2
ZXIgcHJpdmF0ZSBkYXRhIGZvciB0aGlzIGRldmljZSAqLworICAgIHZvaWQgKmlvbW11X3ByaXY7
CisgICAgLyogbnVtYmVyIG9mIGFzc29jaWF0ZWQgZGV2aWNlIElEcyAqLworICAgIHVuc2lnbmVk
IGludCBudW1faWRzOworICAgIC8qIElEcyB3aGljaCB0aGlzIGRldmljZSBtYXkgcHJlc2VudCB0
byB0aGUgSU9NTVUgKi8KKyAgICB1aW50MzJfdCBpZHNbXTsKK307CisKK2ludCBpb21tdV9md3Nw
ZWNfaW5pdChzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVjdCBkZXZpY2UgKmlvbW11X2Rldik7Cit2
b2lkIGlvbW11X2Z3c3BlY19mcmVlKHN0cnVjdCBkZXZpY2UgKmRldik7CitpbnQgaW9tbXVfZndz
cGVjX2FkZF9pZHMoc3RydWN0IGRldmljZSAqZGV2LCBjb25zdCB1aW50MzJfdCAqaWRzLAorICAg
ICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBudW1faWRzKTsKKworc3RhdGljIGlu
bGluZSBzdHJ1Y3QgaW9tbXVfZndzcGVjICpkZXZfaW9tbXVfZndzcGVjX2dldChzdHJ1Y3QgZGV2
aWNlICpkZXYpCit7CisgICAgcmV0dXJuIGRldi0+aW9tbXVfZndzcGVjOworfQorCitzdGF0aWMg
aW5saW5lIHZvaWQgZGV2X2lvbW11X2Z3c3BlY19zZXQoc3RydWN0IGRldmljZSAqZGV2LAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBpb21tdV9md3NwZWMg
KmZ3c3BlYykKK3sKKyAgICBkZXYtPmlvbW11X2Z3c3BlYyA9IGZ3c3BlYzsKK30KKworI2VuZGlm
IC8qIF9fQVJDSF9BUk1fSU9NTVVfRldTUEVDX0hfXyAqLworCisvKgorICogTG9jYWwgdmFyaWFi
bGVzOgorICogbW9kZTogQworICogYy1maWxlLXN0eWxlOiAiQlNEIgorICogYy1iYXNpYy1vZmZz
ZXQ6IDQKKyAqIHRhYi13aWR0aDogNAorICogaW5kZW50LXRhYnMtbW9kZTogbmlsCisgKiBFbmQ6
CisgKi8KLS0gCjIuNy40CgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVj
dC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1k
ZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0B53A144DD
	for <lists+xen-devel@lfdr.de>; Mon,  6 May 2019 09:00:54 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hNXYX-0001ti-OG; Mon, 06 May 2019 06:56:57 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=XZcu=TG=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1hNXYV-0001ss-SB
 for xen-devel@lists.xenproject.org; Mon, 06 May 2019 06:56:55 +0000
X-Inumbo-ID: 21347ddc-6fcc-11e9-843c-bc764e045a96
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 21347ddc-6fcc-11e9-843c-bc764e045a96;
 Mon, 06 May 2019 06:56:53 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 74DD2AECE;
 Mon,  6 May 2019 06:56:51 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Mon,  6 May 2019 08:56:09 +0200
Message-Id: <20190506065644.7415-11-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190506065644.7415-1-jgross@suse.com>
References: <20190506065644.7415-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH RFC V2 10/45] xen/sched: switch
 vcpu_schedule_lock to item_schedule_lock
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Tim Deegan <tim@xen.org>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wei.liu2@citrix.com>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Dario Faggioli <dfaggioli@suse.com>,
 Julien Grall <julien.grall@arm.com>, Meng Xu <mengxu@cis.upenn.edu>,
 Jan Beulich <jbeulich@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

UmVuYW1lIHZjcHVfc2NoZWR1bGVfW3VuXWxvY2tbX2lycV0oKSB0byBpdGVtX3NjaGVkdWxlX1t1
bl1sb2NrW19pcnFdKCkKYW5kIGxldCBpdCB0YWtlIGEgc2NoZWRfaXRlbSBwb2ludGVyIGluc3Rl
YWQgb2YgYSB2Y3B1IHBvaW50ZXIgYXMKcGFyYW1ldGVyLgoKU2lnbmVkLW9mZi1ieTogSnVlcmdl
biBHcm9zcyA8amdyb3NzQHN1c2UuY29tPgotLS0KIHhlbi9jb21tb24vc2NoZWRfY3JlZGl0LmMg
IHwgMTcgKysrKysrKysrLS0tLS0tLS0KIHhlbi9jb21tb24vc2NoZWRfY3JlZGl0Mi5jIHwgNDAg
KysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tCiB4ZW4vY29tbW9uL3NjaGVk
X251bGwuYyAgICB8IDE0ICsrKysrKystLS0tLS0tCiB4ZW4vY29tbW9uL3NjaGVkX3J0LmMgICAg
ICB8IDE1ICsrKysrKystLS0tLS0tLQogeGVuL2NvbW1vbi9zY2hlZHVsZS5jICAgICAgfCA0NyAr
KysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiB4ZW4vaW5jbHVk
ZS94ZW4vc2NoZWQtaWYuaCB8IDEyICsrKysrKy0tLS0tLQogNiBmaWxlcyBjaGFuZ2VkLCA3MyBp
bnNlcnRpb25zKCspLCA3MiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL3Nj
aGVkX2NyZWRpdC5jIGIveGVuL2NvbW1vbi9zY2hlZF9jcmVkaXQuYwppbmRleCBlODM2OWIzNjQ4
Li5kZTRmYWNlMmJjIDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdC5jCisrKyBi
L3hlbi9jb21tb24vc2NoZWRfY3JlZGl0LmMKQEAgLTk0MCw3ICs5NDAsOCBAQCBfX2NzY2hlZF92
Y3B1X2FjY3Rfc3RvcF9sb2NrZWQoc3RydWN0IGNzY2hlZF9wcml2YXRlICpwcnYsCiBzdGF0aWMg
dm9pZAogY3NjaGVkX3ZjcHVfYWNjdChzdHJ1Y3QgY3NjaGVkX3ByaXZhdGUgKnBydiwgdW5zaWdu
ZWQgaW50IGNwdSkKIHsKLSAgICBzdHJ1Y3QgY3NjaGVkX2l0ZW0gKiBjb25zdCBzdmMgPSBDU0NI
RURfSVRFTShjdXJyZW50LT5zY2hlZF9pdGVtKTsKKyAgICBzdHJ1Y3Qgc2NoZWRfaXRlbSAqY3Vy
cml0ZW0gPSBjdXJyZW50LT5zY2hlZF9pdGVtOworICAgIHN0cnVjdCBjc2NoZWRfaXRlbSAqIGNv
bnN0IHN2YyA9IENTQ0hFRF9JVEVNKGN1cnJpdGVtKTsKICAgICBjb25zdCBzdHJ1Y3Qgc2NoZWR1
bGVyICpvcHMgPSBwZXJfY3B1KHNjaGVkdWxlciwgY3B1KTsKIAogICAgIEFTU0VSVCggY3VycmVu
dC0+cHJvY2Vzc29yID09IGNwdSApOwpAQCAtOTc2LDcgKzk3Nyw3IEBAIGNzY2hlZF92Y3B1X2Fj
Y3Qoc3RydWN0IGNzY2hlZF9wcml2YXRlICpwcnYsIHVuc2lnbmVkIGludCBjcHUpCiAgICAgewog
ICAgICAgICB1bnNpZ25lZCBpbnQgbmV3X2NwdTsKICAgICAgICAgdW5zaWduZWQgbG9uZyBmbGFn
czsKLSAgICAgICAgc3BpbmxvY2tfdCAqbG9jayA9IHZjcHVfc2NoZWR1bGVfbG9ja19pcnFzYXZl
KGN1cnJlbnQsICZmbGFncyk7CisgICAgICAgIHNwaW5sb2NrX3QgKmxvY2sgPSBpdGVtX3NjaGVk
dWxlX2xvY2tfaXJxc2F2ZShjdXJyaXRlbSwgJmZsYWdzKTsKIAogICAgICAgICAvKgogICAgICAg
ICAgKiBJZiBpdCdzIGJlZW4gYWN0aXZlIGEgd2hpbGUsIGNoZWNrIGlmIHdlJ2QgYmUgYmV0dGVy
IG9mZgpAQCAtOTg1LDcgKzk4Niw3IEBAIGNzY2hlZF92Y3B1X2FjY3Qoc3RydWN0IGNzY2hlZF9w
cml2YXRlICpwcnYsIHVuc2lnbmVkIGludCBjcHUpCiAgICAgICAgICAqLwogICAgICAgICBuZXdf
Y3B1ID0gX2NzY2hlZF9jcHVfcGljayhvcHMsIGN1cnJlbnQsIDApOwogCi0gICAgICAgIHZjcHVf
c2NoZWR1bGVfdW5sb2NrX2lycXJlc3RvcmUobG9jaywgZmxhZ3MsIGN1cnJlbnQpOworICAgICAg
ICBpdGVtX3NjaGVkdWxlX3VubG9ja19pcnFyZXN0b3JlKGxvY2ssIGZsYWdzLCBjdXJyaXRlbSk7
CiAKICAgICAgICAgaWYgKCBuZXdfY3B1ICE9IGNwdSApCiAgICAgICAgIHsKQEAgLTEwMzcsMTkg
KzEwMzgsMTkgQEAgY3NjaGVkX2l0ZW1faW5zZXJ0KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9w
cywgc3RydWN0IHNjaGVkX2l0ZW0gKml0ZW0pCiAgICAgQlVHX09OKCBpc19pZGxlX3ZjcHUodmMp
ICk7CiAKICAgICAvKiBjc2NoZWRfcmVzX3BpY2soKSBsb29rcyBpbiB2Yy0+cHJvY2Vzc29yJ3Mg
cnVucSwgc28gd2UgbmVlZCB0aGUgbG9jay4gKi8KLSAgICBsb2NrID0gdmNwdV9zY2hlZHVsZV9s
b2NrX2lycSh2Yyk7CisgICAgbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAK
ICAgICBpdGVtLT5yZXMgPSBjc2NoZWRfcmVzX3BpY2sob3BzLCBpdGVtKTsKICAgICB2Yy0+cHJv
Y2Vzc29yID0gaXRlbS0+cmVzLT5wcm9jZXNzb3I7CiAKICAgICBzcGluX3VubG9ja19pcnEobG9j
ayk7CiAKLSAgICBsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2Yyk7CisgICAgbG9jayA9
IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAKICAgICBpZiAoICFfX3ZjcHVfb25fcnVu
cShzdmMpICYmIHZjcHVfcnVubmFibGUodmMpICYmICF2Yy0+aXNfcnVubmluZyApCiAgICAgICAg
IHJ1bnFfaW5zZXJ0KHN2Yyk7CiAKLSAgICB2Y3B1X3NjaGVkdWxlX3VubG9ja19pcnEobG9jaywg
dmMpOworICAgIGl0ZW1fc2NoZWR1bGVfdW5sb2NrX2lycShsb2NrLCBpdGVtKTsKIAogICAgIFND
SEVEX1NUQVRfQ1JBTksodmNwdV9pbnNlcnQpOwogfQpAQCAtMjE0NSwxMiArMjE0NiwxMiBAQCBj
c2NoZWRfZHVtcChjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpvcHMpCiAgICAgICAgICAgICBzcGlu
bG9ja190ICpsb2NrOwogCiAgICAgICAgICAgICBzdmMgPSBsaXN0X2VudHJ5KGl0ZXJfc3ZjLCBz
dHJ1Y3QgY3NjaGVkX2l0ZW0sIGFjdGl2ZV92Y3B1X2VsZW0pOwotICAgICAgICAgICAgbG9jayA9
IHZjcHVfc2NoZWR1bGVfbG9jayhzdmMtPnZjcHUpOworICAgICAgICAgICAgbG9jayA9IGl0ZW1f
c2NoZWR1bGVfbG9jayhzdmMtPnZjcHUtPnNjaGVkX2l0ZW0pOwogCiAgICAgICAgICAgICBwcmlu
dGsoIlx0JTNkOiAiLCArK2xvb3ApOwogICAgICAgICAgICAgY3NjaGVkX2R1bXBfdmNwdShzdmMp
OwogCi0gICAgICAgICAgICB2Y3B1X3NjaGVkdWxlX3VubG9jayhsb2NrLCBzdmMtPnZjcHUpOwor
ICAgICAgICAgICAgaXRlbV9zY2hlZHVsZV91bmxvY2sobG9jaywgc3ZjLT52Y3B1LT5zY2hlZF9p
dGVtKTsKICAgICAgICAgfQogICAgIH0KIApkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zY2hlZF9j
cmVkaXQyLmMgYi94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdDIuYwppbmRleCBkZjBlNzI4MmNlLi42
MTA2MjkzYjNmIDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdDIuYworKysgYi94
ZW4vY29tbW9uL3NjaGVkX2NyZWRpdDIuYwpAQCAtMTcxLDcgKzE3MSw3IEBACiAgKiAtIHJ1bnF1
ZXVlIGxvY2sKICAqICArIGl0IGlzIHBlci1ydW5xdWV1ZSwgc286CiAgKiAgICogY3B1cyBpbiBh
IHJ1bnF1ZXVlIHRha2UgdGhlIHJ1bnF1ZXVlIGxvY2ssIHdoZW4gdXNpbmcKLSAqICAgICBwY3B1
X3NjaGVkdWxlX2xvY2soKSAvIHZjcHVfc2NoZWR1bGVfbG9jaygpIChhbmQgZnJpZW5kcyksCisg
KiAgICAgcGNwdV9zY2hlZHVsZV9sb2NrKCkgLyBpdGVtX3NjaGVkdWxlX2xvY2soKSAoYW5kIGZy
aWVuZHMpLAogICogICAqIGEgY3B1IG1heSAodHJ5IHRvKSB0YWtlIGEgInJlbW90ZSIgcnVucXVl
dWUgbG9jaywgZS5nLiwgZm9yCiAgKiAgICAgbG9hZCBiYWxhbmNpbmc7CiAgKiAgKyBzZXJpYWxp
emVzIHJ1bnF1ZXVlIG9wZXJhdGlvbnMgKHJlbW92aW5nIGFuZCBpbnNlcnRpbmcgdmNwdXMpOwpA
QCAtMTg5MCw3ICsxODkwLDcgQEAgdW5wYXJrX3BhcmtlZF92Y3B1cyhjb25zdCBzdHJ1Y3Qgc2No
ZWR1bGVyICpvcHMsIHN0cnVjdCBsaXN0X2hlYWQgKnZjcHVzKQogICAgICAgICB1bnNpZ25lZCBs
b25nIGZsYWdzOwogICAgICAgICBzX3RpbWVfdCBub3c7CiAKLSAgICAgICAgbG9jayA9IHZjcHVf
c2NoZWR1bGVfbG9ja19pcnFzYXZlKHN2Yy0+dmNwdSwgJmZsYWdzKTsKKyAgICAgICAgbG9jayA9
IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnFzYXZlKHN2Yy0+dmNwdS0+c2NoZWRfaXRlbSwgJmZsYWdz
KTsKIAogICAgICAgICBfX2NsZWFyX2JpdChfVlBGX3BhcmtlZCwgJnN2Yy0+dmNwdS0+cGF1c2Vf
ZmxhZ3MpOwogICAgICAgICBpZiAoIHVubGlrZWx5KHN2Yy0+ZmxhZ3MgJiBDU0ZMQUdfc2NoZWR1
bGVkKSApCkBAIC0xOTIzLDcgKzE5MjMsNyBAQCB1bnBhcmtfcGFya2VkX3ZjcHVzKGNvbnN0IHN0
cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IGxpc3RfaGVhZCAqdmNwdXMpCiAgICAgICAgIH0K
ICAgICAgICAgbGlzdF9kZWxfaW5pdCgmc3ZjLT5wYXJrZWRfZWxlbSk7CiAKLSAgICAgICAgdmNw
dV9zY2hlZHVsZV91bmxvY2tfaXJxcmVzdG9yZShsb2NrLCBmbGFncywgc3ZjLT52Y3B1KTsKKyAg
ICAgICAgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJxcmVzdG9yZShsb2NrLCBmbGFncywgc3ZjLT52
Y3B1LT5zY2hlZF9pdGVtKTsKICAgICB9CiB9CiAKQEAgLTIxNjIsNyArMjE2Miw3IEBAIGNzY2hl
ZDJfY29udGV4dF9zYXZlZChjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpvcHMsIHN0cnVjdCBzY2hl
ZF9pdGVtICppdGVtKQogewogICAgIHN0cnVjdCB2Y3B1ICp2YyA9IGl0ZW0tPnZjcHU7CiAgICAg
c3RydWN0IGNzY2hlZDJfaXRlbSAqIGNvbnN0IHN2YyA9IGNzY2hlZDJfaXRlbShpdGVtKTsKLSAg
ICBzcGlubG9ja190ICpsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2Yyk7CisgICAgc3Bp
bmxvY2tfdCAqbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAgICAgc190aW1l
X3Qgbm93ID0gTk9XKCk7CiAgICAgTElTVF9IRUFEKHdlcmVfcGFya2VkKTsKIApAQCAtMjE5NCw3
ICsyMTk0LDcgQEAgY3NjaGVkMl9jb250ZXh0X3NhdmVkKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIg
Km9wcywgc3RydWN0IHNjaGVkX2l0ZW0gKml0ZW0pCiAgICAgZWxzZSBpZiAoICFpc19pZGxlX3Zj
cHUodmMpICkKICAgICAgICAgdXBkYXRlX2xvYWQob3BzLCBzdmMtPnJxZCwgc3ZjLCAtMSwgbm93
KTsKIAotICAgIHZjcHVfc2NoZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2Yyk7CisgICAgaXRlbV9z
Y2hlZHVsZV91bmxvY2tfaXJxKGxvY2ssIGl0ZW0pOwogCiAgICAgdW5wYXJrX3BhcmtlZF92Y3B1
cyhvcHMsICZ3ZXJlX3BhcmtlZCk7CiB9CkBAIC0yODQ3LDE0ICsyODQ3LDE0IEBAIGNzY2hlZDJf
ZG9tX2NudGwoCiAgICAgICAgICAgICBmb3JfZWFjaF92Y3B1ICggZCwgdiApCiAgICAgICAgICAg
ICB7CiAgICAgICAgICAgICAgICAgc3RydWN0IGNzY2hlZDJfaXRlbSAqc3ZjID0gY3NjaGVkMl9p
dGVtKHYtPnNjaGVkX2l0ZW0pOwotICAgICAgICAgICAgICAgIHNwaW5sb2NrX3QgKmxvY2sgPSB2
Y3B1X3NjaGVkdWxlX2xvY2soc3ZjLT52Y3B1KTsKKyAgICAgICAgICAgICAgICBzcGlubG9ja190
ICpsb2NrID0gaXRlbV9zY2hlZHVsZV9sb2NrKHN2Yy0+dmNwdS0+c2NoZWRfaXRlbSk7CiAKICAg
ICAgICAgICAgICAgICBBU1NFUlQoc3ZjLT5ycWQgPT0gYzJycWQob3BzLCBzdmMtPnZjcHUtPnBy
b2Nlc3NvcikpOwogCiAgICAgICAgICAgICAgICAgc3ZjLT53ZWlnaHQgPSBzZG9tLT53ZWlnaHQ7
CiAgICAgICAgICAgICAgICAgdXBkYXRlX21heF93ZWlnaHQoc3ZjLT5ycWQsIHN2Yy0+d2VpZ2h0
LCBvbGRfd2VpZ2h0KTsKIAotICAgICAgICAgICAgICAgIHZjcHVfc2NoZWR1bGVfdW5sb2NrKGxv
Y2ssIHN2Yy0+dmNwdSk7CisgICAgICAgICAgICAgICAgaXRlbV9zY2hlZHVsZV91bmxvY2sobG9j
aywgc3ZjLT52Y3B1LT5zY2hlZF9pdGVtKTsKICAgICAgICAgICAgIH0KICAgICAgICAgfQogICAg
ICAgICAvKiBDYXAgKi8KQEAgLTI4ODUsNyArMjg4NSw3IEBAIGNzY2hlZDJfZG9tX2NudGwoCiAg
ICAgICAgICAgICBmb3JfZWFjaF92Y3B1ICggZCwgdiApCiAgICAgICAgICAgICB7CiAgICAgICAg
ICAgICAgICAgc3ZjID0gY3NjaGVkMl9pdGVtKHYtPnNjaGVkX2l0ZW0pOwotICAgICAgICAgICAg
ICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2soc3ZjLT52Y3B1KTsKKyAgICAgICAgICAgICAg
ICBsb2NrID0gaXRlbV9zY2hlZHVsZV9sb2NrKHN2Yy0+dmNwdS0+c2NoZWRfaXRlbSk7CiAgICAg
ICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAgICAgKiBUb28gc21hbGwgcXVvdGFzIHdvdWxk
IGluIHRoZW9yeSBjYXVzZSBhIGxvdCBvZiBvdmVyaGVhZCwKICAgICAgICAgICAgICAgICAgKiB3
aGljaCB0aGVuIHdvbid0IGhhcHBlbiBiZWNhdXNlLCBpbiBjc2NoZWQyX3J1bnRpbWUoKSwKQEAg
LTI4OTMsNyArMjg5Myw3IEBAIGNzY2hlZDJfZG9tX2NudGwoCiAgICAgICAgICAgICAgICAgICov
CiAgICAgICAgICAgICAgICAgc3ZjLT5idWRnZXRfcXVvdGEgPSBtYXgoc2RvbS0+dG90X2J1ZGdl
dCAvIHNkb20tPm5yX3ZjcHVzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIENTQ0hFRDJfTUlOX1RJTUVSKTsKLSAgICAgICAgICAgICAgICB2Y3B1X3NjaGVkdWxlX3Vu
bG9jayhsb2NrLCBzdmMtPnZjcHUpOworICAgICAgICAgICAgICAgIGl0ZW1fc2NoZWR1bGVfdW5s
b2NrKGxvY2ssIHN2Yy0+dmNwdS0+c2NoZWRfaXRlbSk7CiAgICAgICAgICAgICB9CiAKICAgICAg
ICAgICAgIGlmICggc2RvbS0+Y2FwID09IDAgKQpAQCAtMjkyOCw3ICsyOTI4LDcgQEAgY3NjaGVk
Ml9kb21fY250bCgKICAgICAgICAgICAgICAgICBmb3JfZWFjaF92Y3B1ICggZCwgdiApCiAgICAg
ICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICBzdmMgPSBjc2NoZWQyX2l0ZW0odi0+
c2NoZWRfaXRlbSk7Ci0gICAgICAgICAgICAgICAgICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xv
Y2soc3ZjLT52Y3B1KTsKKyAgICAgICAgICAgICAgICAgICAgbG9jayA9IGl0ZW1fc2NoZWR1bGVf
bG9jayhzdmMtPnZjcHUtPnNjaGVkX2l0ZW0pOwogICAgICAgICAgICAgICAgICAgICBpZiAoIHYt
PmlzX3J1bm5pbmcgKQogICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgY3B1ID0gdi0+cHJvY2Vzc29yOwpAQCAtMjk1OSw3ICsyOTU5LDcg
QEAgY3NjaGVkMl9kb21fY250bCgKICAgICAgICAgICAgICAgICAgICAgICAgIGNwdV9yYWlzZV9z
b2Z0aXJxKGNwdSwgU0NIRURVTEVfU09GVElSUSk7CiAgICAgICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgICAgICAgc3ZjLT5idWRnZXQgPSAwOwotICAgICAgICAgICAgICAgICAgICB2
Y3B1X3NjaGVkdWxlX3VubG9jayhsb2NrLCBzdmMtPnZjcHUpOworICAgICAgICAgICAgICAgICAg
ICBpdGVtX3NjaGVkdWxlX3VubG9jayhsb2NrLCBzdmMtPnZjcHUtPnNjaGVkX2l0ZW0pOwogICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KIApAQCAtMjk3NSwxMiArMjk3NSwxMiBAQCBj
c2NoZWQyX2RvbV9jbnRsKAogICAgICAgICAgICAgZm9yX2VhY2hfdmNwdSAoIGQsIHYgKQogICAg
ICAgICAgICAgewogICAgICAgICAgICAgICAgIHN0cnVjdCBjc2NoZWQyX2l0ZW0gKnN2YyA9IGNz
Y2hlZDJfaXRlbSh2LT5zY2hlZF9pdGVtKTsKLSAgICAgICAgICAgICAgICBzcGlubG9ja190ICps
b2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrKHN2Yy0+dmNwdSk7CisgICAgICAgICAgICAgICAgc3Bp
bmxvY2tfdCAqbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9jayhzdmMtPnZjcHUtPnNjaGVkX2l0ZW0p
OwogCiAgICAgICAgICAgICAgICAgc3ZjLT5idWRnZXQgPSBTVElNRV9NQVg7CiAgICAgICAgICAg
ICAgICAgc3ZjLT5idWRnZXRfcXVvdGEgPSAwOwogCi0gICAgICAgICAgICAgICAgdmNwdV9zY2hl
ZHVsZV91bmxvY2sobG9jaywgc3ZjLT52Y3B1KTsKKyAgICAgICAgICAgICAgICBpdGVtX3NjaGVk
dWxlX3VubG9jayhsb2NrLCBzdmMtPnZjcHUtPnNjaGVkX2l0ZW0pOwogICAgICAgICAgICAgfQog
ICAgICAgICAgICAgc2RvbS0+Y2FwID0gMDsKICAgICAgICAgICAgIC8qCkBAIC0zMTE5LDE5ICsz
MTE5LDE5IEBAIGNzY2hlZDJfaXRlbV9pbnNlcnQoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3Bz
LCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaXRlbSkKICAgICBBU1NFUlQobGlzdF9lbXB0eSgmc3ZjLT5y
dW5xX2VsZW0pKTsKIAogICAgIC8qIGNzY2hlZDJfcmVzX3BpY2soKSBleHBlY3RzIHRoZSBwY3B1
IGxvY2sgdG8gYmUgaGVsZCAqLwotICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxKHZj
KTsKKyAgICBsb2NrID0gaXRlbV9zY2hlZHVsZV9sb2NrX2lycShpdGVtKTsKIAogICAgIGl0ZW0t
PnJlcyA9IGNzY2hlZDJfcmVzX3BpY2sob3BzLCBpdGVtKTsKICAgICB2Yy0+cHJvY2Vzc29yID0g
aXRlbS0+cmVzLT5wcm9jZXNzb3I7CiAKICAgICBzcGluX3VubG9ja19pcnEobG9jayk7CiAKLSAg
ICBsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2Yyk7CisgICAgbG9jayA9IGl0ZW1fc2No
ZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAKICAgICAvKiBBZGQgdmNwdSB0byBydW5xdWV1ZSBvZiBp
bml0aWFsIHByb2Nlc3NvciAqLwogICAgIHJ1bnFfYXNzaWduKG9wcywgdmMpOwogCi0gICAgdmNw
dV9zY2hlZHVsZV91bmxvY2tfaXJxKGxvY2ssIHZjKTsKKyAgICBpdGVtX3NjaGVkdWxlX3VubG9j
a19pcnEobG9jaywgaXRlbSk7CiAKICAgICBzZG9tLT5ucl92Y3B1cysrOwogCkBAIC0zMTYxLDEx
ICszMTYxLDExIEBAIGNzY2hlZDJfaXRlbV9yZW1vdmUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAq
b3BzLCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaXRlbSkKICAgICBTQ0hFRF9TVEFUX0NSQU5LKHZjcHVf
cmVtb3ZlKTsKIAogICAgIC8qIFJlbW92ZSBmcm9tIHJ1bnF1ZXVlICovCi0gICAgbG9jayA9IHZj
cHVfc2NoZWR1bGVfbG9ja19pcnEodmMpOworICAgIGxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tf
aXJxKGl0ZW0pOwogCiAgICAgcnVucV9kZWFzc2lnbihvcHMsIHZjKTsKIAotICAgIHZjcHVfc2No
ZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2Yyk7CisgICAgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJx
KGxvY2ssIGl0ZW0pOwogCiAgICAgc3ZjLT5zZG9tLT5ucl92Y3B1cy0tOwogfQpAQCAtMzc0OSwx
MiArMzc0OSwxMiBAQCBjc2NoZWQyX2R1bXAoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzKQog
ICAgICAgICAgICAgc3RydWN0IGNzY2hlZDJfaXRlbSAqIGNvbnN0IHN2YyA9IGNzY2hlZDJfaXRl
bSh2LT5zY2hlZF9pdGVtKTsKICAgICAgICAgICAgIHNwaW5sb2NrX3QgKmxvY2s7CiAKLSAgICAg
ICAgICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2soc3ZjLT52Y3B1KTsKKyAgICAgICAgICAg
IGxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2soc3ZjLT52Y3B1LT5zY2hlZF9pdGVtKTsKIAogICAg
ICAgICAgICAgcHJpbnRrKCJcdCUzZDogIiwgKytsb29wKTsKICAgICAgICAgICAgIGNzY2hlZDJf
ZHVtcF92Y3B1KHBydiwgc3ZjKTsKIAotICAgICAgICAgICAgdmNwdV9zY2hlZHVsZV91bmxvY2so
bG9jaywgc3ZjLT52Y3B1KTsKKyAgICAgICAgICAgIGl0ZW1fc2NoZWR1bGVfdW5sb2NrKGxvY2ss
IHN2Yy0+dmNwdS0+c2NoZWRfaXRlbSk7CiAgICAgICAgIH0KICAgICB9CiAKZGlmZiAtLWdpdCBh
L3hlbi9jb21tb24vc2NoZWRfbnVsbC5jIGIveGVuL2NvbW1vbi9zY2hlZF9udWxsLmMKaW5kZXgg
YTljZmExNjNiOS4uNjIwOTI1ZThjZSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9zY2hlZF9udWxs
LmMKKysrIGIveGVuL2NvbW1vbi9zY2hlZF9udWxsLmMKQEAgLTMxNyw3ICszMTcsNyBAQCBwaWNr
X3JlcyhzdHJ1Y3QgbnVsbF9wcml2YXRlICpwcnYsIHN0cnVjdCBzY2hlZF9pdGVtICppdGVtKQog
ICAgICAqIGFsbCB0aGUgcENQVXMgYXJlIGJ1c3kuCiAgICAgICoKICAgICAgKiBJbiBmYWN0LCB0
aGVyZSBtdXN0IGFsd2F5cyBiZSBzb21ldGhpbmcgc2FuZSBpbiB2LT5wcm9jZXNzb3IsIG9yCi0g
ICAgICogdmNwdV9zY2hlZHVsZV9sb2NrKCkgYW5kIGZyaWVuZHMgd29uJ3Qgd29yay4gVGhpcyBp
cyBub3QgYSBwcm9ibGVtLAorICAgICAqIGl0ZW1fc2NoZWR1bGVfbG9jaygpIGFuZCBmcmllbmRz
IHdvbid0IHdvcmsuIFRoaXMgaXMgbm90IGEgcHJvYmxlbSwKICAgICAgKiBhcyB3ZSB3aWxsIGFj
dHVhbGx5IGFzc2lnbiB0aGUgdkNQVSB0byB0aGUgcENQVSB3ZSByZXR1cm4gZnJvbSBoZXJlLAog
ICAgICAqIG9ubHkgaWYgdGhlIHBDUFUgaXMgZnJlZS4KICAgICAgKi8KQEAgLTQyOCw3ICs0Mjgs
NyBAQCBzdGF0aWMgdm9pZCBudWxsX2l0ZW1faW5zZXJ0KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIg
Km9wcywKIAogICAgIEFTU0VSVCghaXNfaWRsZV92Y3B1KHYpKTsKIAotICAgIGxvY2sgPSB2Y3B1
X3NjaGVkdWxlX2xvY2tfaXJxKHYpOworICAgIGxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJx
KGl0ZW0pOwogIHJldHJ5OgogCiAgICAgaXRlbS0+cmVzID0gcGlja19yZXMocHJ2LCBpdGVtKTsK
QEAgLTQzNiw3ICs0MzYsNyBAQCBzdGF0aWMgdm9pZCBudWxsX2l0ZW1faW5zZXJ0KGNvbnN0IHN0
cnVjdCBzY2hlZHVsZXIgKm9wcywKIAogICAgIHNwaW5fdW5sb2NrKGxvY2spOwogCi0gICAgbG9j
ayA9IHZjcHVfc2NoZWR1bGVfbG9jayh2KTsKKyAgICBsb2NrID0gaXRlbV9zY2hlZHVsZV9sb2Nr
KGl0ZW0pOwogCiAgICAgY3B1bWFza19hbmQoY3B1bWFza19zY3JhdGNoX2NwdShjcHUpLCB2LT5j
cHVfaGFyZF9hZmZpbml0eSwKICAgICAgICAgICAgICAgICBjcHVwb29sX2RvbWFpbl9jcHVtYXNr
KHYtPmRvbWFpbikpOwpAQCAtNTIyLDcgKzUyMiw3IEBAIHN0YXRpYyB2b2lkIG51bGxfaXRlbV9y
ZW1vdmUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLAogCiAgICAgQVNTRVJUKCFpc19pZGxl
X3ZjcHUodikpOwogCi0gICAgbG9jayA9IHZjcHVfc2NoZWR1bGVfbG9ja19pcnEodik7CisgICAg
bG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAKICAgICAvKiBJZiB2IGlzIGlu
IHdhaXRxdWV1ZSwganVzdCBnZXQgaXQgb3V0IG9mIHRoZXJlIGFuZCBiYWlsICovCiAgICAgaWYg
KCB1bmxpa2VseSghbGlzdF9lbXB0eSgmbnZjLT53YWl0cV9lbGVtKSkgKQpAQCAtNTQwLDcgKzU0
MCw3IEBAIHN0YXRpYyB2b2lkIG51bGxfaXRlbV9yZW1vdmUoY29uc3Qgc3RydWN0IHNjaGVkdWxl
ciAqb3BzLAogICAgIF92Y3B1X3JlbW92ZShwcnYsIHYpOwogCiAgb3V0OgotICAgIHZjcHVfc2No
ZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2KTsKKyAgICBpdGVtX3NjaGVkdWxlX3VubG9ja19pcnEo
bG9jaywgaXRlbSk7CiAKICAgICBTQ0hFRF9TVEFUX0NSQU5LKHZjcHVfcmVtb3ZlKTsKIH0KQEAg
LTg2MCwxMyArODYwLDEzIEBAIHN0YXRpYyB2b2lkIG51bGxfZHVtcChjb25zdCBzdHJ1Y3Qgc2No
ZWR1bGVyICpvcHMpCiAgICAgICAgICAgICBzdHJ1Y3QgbnVsbF9pdGVtICogY29uc3QgbnZjID0g
bnVsbF9pdGVtKHYtPnNjaGVkX2l0ZW0pOwogICAgICAgICAgICAgc3BpbmxvY2tfdCAqbG9jazsK
IAotICAgICAgICAgICAgbG9jayA9IHZjcHVfc2NoZWR1bGVfbG9jayhudmMtPnZjcHUpOworICAg
ICAgICAgICAgbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9jayhudmMtPnZjcHUtPnNjaGVkX2l0ZW0p
OwogCiAgICAgICAgICAgICBwcmludGsoIlx0JTNkOiAiLCArK2xvb3ApOwogICAgICAgICAgICAg
ZHVtcF92Y3B1KHBydiwgbnZjKTsKICAgICAgICAgICAgIHByaW50aygiXG4iKTsKIAotICAgICAg
ICAgICAgdmNwdV9zY2hlZHVsZV91bmxvY2sobG9jaywgbnZjLT52Y3B1KTsKKyAgICAgICAgICAg
IGl0ZW1fc2NoZWR1bGVfdW5sb2NrKGxvY2ssIG52Yy0+dmNwdS0+c2NoZWRfaXRlbSk7CiAgICAg
ICAgIH0KICAgICB9CiAKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vc2NoZWRfcnQuYyBiL3hlbi9j
b21tb24vc2NoZWRfcnQuYwppbmRleCAwMDE5NjQ2YjUyLi5hNjA0YTBkNWE2IDEwMDY0NAotLS0g
YS94ZW4vY29tbW9uL3NjaGVkX3J0LmMKKysrIGIveGVuL2NvbW1vbi9zY2hlZF9ydC5jCkBAIC0x
NzcsNyArMTc3LDcgQEAgc3RhdGljIHZvaWQgcmVwbF90aW1lcl9oYW5kbGVyKHZvaWQgKmRhdGEp
OwogLyoKICAqIFN5c3RlbS13aWRlIHByaXZhdGUgZGF0YSwgaW5jbHVkZSBnbG9iYWwgUnVuUXVl
dWUvRGVwbGV0ZWRRCiAgKiBHbG9iYWwgbG9jayBpcyByZWZlcmVuY2VkIGJ5IHNjaGVkX3Jlcy0+
c2NoZWR1bGVfbG9jayBmcm9tIGFsbAotICogcGh5c2ljYWwgY3B1cy4gSXQgY2FuIGJlIGdyYWJi
ZWQgdmlhIHZjcHVfc2NoZWR1bGVfbG9ja19pcnEoKQorICogcGh5c2ljYWwgY3B1cy4gSXQgY2Fu
IGJlIGdyYWJiZWQgdmlhIGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoKQogICovCiBzdHJ1Y3QgcnRf
cHJpdmF0ZSB7CiAgICAgc3BpbmxvY2tfdCBsb2NrOyAgICAgICAgICAgIC8qIHRoZSBnbG9iYWwg
Y29hcnNlLWdyYWluZWQgbG9jayAqLwpAQCAtOTA0LDcgKzkwNCw3IEBAIHJ0X2l0ZW1faW5zZXJ0
KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX2l0ZW0gKml0ZW0pCiAg
ICAgaXRlbS0+cmVzID0gcnRfcmVzX3BpY2sob3BzLCBpdGVtKTsKICAgICB2Yy0+cHJvY2Vzc29y
ID0gaXRlbS0+cmVzLT5wcm9jZXNzb3I7CiAKLSAgICBsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2Nr
X2lycSh2Yyk7CisgICAgbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEoaXRlbSk7CiAKICAg
ICBub3cgPSBOT1coKTsKICAgICBpZiAoIG5vdyA+PSBzdmMtPmN1cl9kZWFkbGluZSApCkBAIC05
MTcsNyArOTE3LDcgQEAgcnRfaXRlbV9pbnNlcnQoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3Bz
LCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaXRlbSkKICAgICAgICAgaWYgKCAhdmMtPmlzX3J1bm5pbmcg
KQogICAgICAgICAgICAgcnVucV9pbnNlcnQob3BzLCBzdmMpOwogICAgIH0KLSAgICB2Y3B1X3Nj
aGVkdWxlX3VubG9ja19pcnEobG9jaywgdmMpOworICAgIGl0ZW1fc2NoZWR1bGVfdW5sb2NrX2ly
cShsb2NrLCBpdGVtKTsKIAogICAgIFNDSEVEX1NUQVRfQ1JBTksodmNwdV9pbnNlcnQpOwogfQpA
QCAtOTI4LDcgKzkyOCw2IEBAIHJ0X2l0ZW1faW5zZXJ0KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIg
Km9wcywgc3RydWN0IHNjaGVkX2l0ZW0gKml0ZW0pCiBzdGF0aWMgdm9pZAogcnRfaXRlbV9yZW1v
dmUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaXRlbSkK
IHsKLSAgICBzdHJ1Y3QgdmNwdSAqdmMgPSBpdGVtLT52Y3B1OwogICAgIHN0cnVjdCBydF9pdGVt
ICogY29uc3Qgc3ZjID0gcnRfaXRlbShpdGVtKTsKICAgICBzdHJ1Y3QgcnRfZG9tICogY29uc3Qg
c2RvbSA9IHN2Yy0+c2RvbTsKICAgICBzcGlubG9ja190ICpsb2NrOwpAQCAtOTM3LDE0ICs5MzYs
MTQgQEAgcnRfaXRlbV9yZW1vdmUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qg
c2NoZWRfaXRlbSAqaXRlbSkKIAogICAgIEJVR19PTiggc2RvbSA9PSBOVUxMICk7CiAKLSAgICBs
b2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2Yyk7CisgICAgbG9jayA9IGl0ZW1fc2NoZWR1
bGVfbG9ja19pcnEoaXRlbSk7CiAgICAgaWYgKCB2Y3B1X29uX3Eoc3ZjKSApCiAgICAgICAgIHFf
cmVtb3ZlKHN2Yyk7CiAKICAgICBpZiAoIHZjcHVfb25fcmVwbHEoc3ZjKSApCiAgICAgICAgIHJl
cGxxX3JlbW92ZShvcHMsc3ZjKTsKIAotICAgIHZjcHVfc2NoZWR1bGVfdW5sb2NrX2lycShsb2Nr
LCB2Yyk7CisgICAgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJxKGxvY2ssIGl0ZW0pOwogfQogCiAv
KgpAQCAtMTMzOSw3ICsxMzM4LDcgQEAgcnRfY29udGV4dF9zYXZlZChjb25zdCBzdHJ1Y3Qgc2No
ZWR1bGVyICpvcHMsIHN0cnVjdCBzY2hlZF9pdGVtICppdGVtKQogewogICAgIHN0cnVjdCB2Y3B1
ICp2YyA9IGl0ZW0tPnZjcHU7CiAgICAgc3RydWN0IHJ0X2l0ZW0gKnN2YyA9IHJ0X2l0ZW0oaXRl
bSk7Ci0gICAgc3BpbmxvY2tfdCAqbG9jayA9IHZjcHVfc2NoZWR1bGVfbG9ja19pcnEodmMpOwor
ICAgIHNwaW5sb2NrX3QgKmxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJxKGl0ZW0pOwogCiAg
ICAgX19jbGVhcl9iaXQoX19SVERTX3NjaGVkdWxlZCwgJnN2Yy0+ZmxhZ3MpOwogICAgIC8qIG5v
dCBpbnNlcnQgaWRsZSB2Y3B1IHRvIHJ1bnEgKi8KQEAgLTEzNTYsNyArMTM1NSw3IEBAIHJ0X2Nv
bnRleHRfc2F2ZWQoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfaXRl
bSAqaXRlbSkKICAgICAgICAgcmVwbHFfcmVtb3ZlKG9wcywgc3ZjKTsKIAogb3V0OgotICAgIHZj
cHVfc2NoZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2Yyk7CisgICAgaXRlbV9zY2hlZHVsZV91bmxv
Y2tfaXJxKGxvY2ssIGl0ZW0pOwogfQogCiAvKgpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zY2hl
ZHVsZS5jIGIveGVuL2NvbW1vbi9zY2hlZHVsZS5jCmluZGV4IDUxZGI5OGJjYWEuLjQ2NGUzNThm
NzAgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vc2NoZWR1bGUuYworKysgYi94ZW4vY29tbW9uL3Nj
aGVkdWxlLmMKQEAgLTE5NCw3ICsxOTQsOCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgdmNwdV9ydW5z
dGF0ZV9jaGFuZ2UoCiAKIHZvaWQgdmNwdV9ydW5zdGF0ZV9nZXQoc3RydWN0IHZjcHUgKnYsIHN0
cnVjdCB2Y3B1X3J1bnN0YXRlX2luZm8gKnJ1bnN0YXRlKQogewotICAgIHNwaW5sb2NrX3QgKmxv
Y2sgPSBsaWtlbHkodiA9PSBjdXJyZW50KSA/IE5VTEwgOiB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJx
KHYpOworICAgIHNwaW5sb2NrX3QgKmxvY2sgPSBsaWtlbHkodiA9PSBjdXJyZW50KQorICAgICAg
ICAgICAgICAgICAgICAgICA/IE5VTEwgOiBpdGVtX3NjaGVkdWxlX2xvY2tfaXJxKHYtPnNjaGVk
X2l0ZW0pOwogICAgIHNfdGltZV90IGRlbHRhOwogCiAgICAgbWVtY3B5KHJ1bnN0YXRlLCAmdi0+
cnVuc3RhdGUsIHNpemVvZigqcnVuc3RhdGUpKTsKQEAgLTIwMyw3ICsyMDQsNyBAQCB2b2lkIHZj
cHVfcnVuc3RhdGVfZ2V0KHN0cnVjdCB2Y3B1ICp2LCBzdHJ1Y3QgdmNwdV9ydW5zdGF0ZV9pbmZv
ICpydW5zdGF0ZSkKICAgICAgICAgcnVuc3RhdGUtPnRpbWVbcnVuc3RhdGUtPnN0YXRlXSArPSBk
ZWx0YTsKIAogICAgIGlmICggdW5saWtlbHkobG9jayAhPSBOVUxMKSApCi0gICAgICAgIHZjcHVf
c2NoZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2KTsKKyAgICAgICAgaXRlbV9zY2hlZHVsZV91bmxv
Y2tfaXJxKGxvY2ssIHYtPnNjaGVkX2l0ZW0pOwogfQogCiB1aW50NjRfdCBnZXRfY3B1X2lkbGVf
dGltZSh1bnNpZ25lZCBpbnQgY3B1KQpAQCAtNDE1LDcgKzQxNiw3IEBAIGludCBzY2hlZF9tb3Zl
X2RvbWFpbihzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgY3B1cG9vbCAqYykKICAgICAgICAgbWln
cmF0ZV90aW1lcigmdi0+c2luZ2xlc2hvdF90aW1lciwgbmV3X3ApOwogICAgICAgICBtaWdyYXRl
X3RpbWVyKCZ2LT5wb2xsX3RpbWVyLCBuZXdfcCk7CiAKLSAgICAgICAgbG9jayA9IHZjcHVfc2No
ZWR1bGVfbG9ja19pcnEodik7CisgICAgICAgIGxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJx
KHYtPnNjaGVkX2l0ZW0pOwogCiAgICAgICAgIHNjaGVkX3NldF9hZmZpbml0eSh2LCAmY3B1bWFz
a19hbGwsICZjcHVtYXNrX2FsbCk7CiAKQEAgLTQyNCw3ICs0MjUsNyBAQCBpbnQgc2NoZWRfbW92
ZV9kb21haW4oc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IGNwdXBvb2wgKmMpCiAgICAgICAgIC8q
CiAgICAgICAgICAqIFdpdGggdi0+cHJvY2Vzc29yIG1vZGlmaWVkIHdlIG11c3Qgbm90CiAgICAg
ICAgICAqIC0gbWFrZSBhbnkgZnVydGhlciBjaGFuZ2VzIGFzc3VtaW5nIHdlIGhvbGQgdGhlIHNj
aGVkdWxlciBsb2NrLAotICAgICAgICAgKiAtIHVzZSB2Y3B1X3NjaGVkdWxlX3VubG9ja19pcnEo
KS4KKyAgICAgICAgICogLSB1c2UgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJxKCkuCiAgICAgICAg
ICAqLwogICAgICAgICBzcGluX3VubG9ja19pcnEobG9jayk7CiAKQEAgLTUyMywxMSArNTI0LDEx
IEBAIHZvaWQgdmNwdV9zbGVlcF9ub3N5bmMoc3RydWN0IHZjcHUgKnYpCiAKICAgICBUUkFDRV8y
RChUUkNfU0NIRURfU0xFRVAsIHYtPmRvbWFpbi0+ZG9tYWluX2lkLCB2LT52Y3B1X2lkKTsKIAot
ICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxc2F2ZSh2LCAmZmxhZ3MpOworICAgIGxv
Y2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJxc2F2ZSh2LT5zY2hlZF9pdGVtLCAmZmxhZ3MpOwog
CiAgICAgdmNwdV9zbGVlcF9ub3N5bmNfbG9ja2VkKHYpOwogCi0gICAgdmNwdV9zY2hlZHVsZV91
bmxvY2tfaXJxcmVzdG9yZShsb2NrLCBmbGFncywgdik7CisgICAgaXRlbV9zY2hlZHVsZV91bmxv
Y2tfaXJxcmVzdG9yZShsb2NrLCBmbGFncywgdi0+c2NoZWRfaXRlbSk7CiB9CiAKIHZvaWQgdmNw
dV9zbGVlcF9zeW5jKHN0cnVjdCB2Y3B1ICp2KQpAQCAtNTQ3LDcgKzU0OCw3IEBAIHZvaWQgdmNw
dV93YWtlKHN0cnVjdCB2Y3B1ICp2KQogCiAgICAgVFJBQ0VfMkQoVFJDX1NDSEVEX1dBS0UsIHYt
PmRvbWFpbi0+ZG9tYWluX2lkLCB2LT52Y3B1X2lkKTsKIAotICAgIGxvY2sgPSB2Y3B1X3NjaGVk
dWxlX2xvY2tfaXJxc2F2ZSh2LCAmZmxhZ3MpOworICAgIGxvY2sgPSBpdGVtX3NjaGVkdWxlX2xv
Y2tfaXJxc2F2ZSh2LT5zY2hlZF9pdGVtLCAmZmxhZ3MpOwogCiAgICAgaWYgKCBsaWtlbHkodmNw
dV9ydW5uYWJsZSh2KSkgKQogICAgIHsKQEAgLTU2MSw3ICs1NjIsNyBAQCB2b2lkIHZjcHVfd2Fr
ZShzdHJ1Y3QgdmNwdSAqdikKICAgICAgICAgICAgIHZjcHVfcnVuc3RhdGVfY2hhbmdlKHYsIFJV
TlNUQVRFX29mZmxpbmUsIE5PVygpKTsKICAgICB9CiAKLSAgICB2Y3B1X3NjaGVkdWxlX3VubG9j
a19pcnFyZXN0b3JlKGxvY2ssIGZsYWdzLCB2KTsKKyAgICBpdGVtX3NjaGVkdWxlX3VubG9ja19p
cnFyZXN0b3JlKGxvY2ssIGZsYWdzLCB2LT5zY2hlZF9pdGVtKTsKIH0KIAogdm9pZCB2Y3B1X3Vu
YmxvY2soc3RydWN0IHZjcHUgKnYpCkBAIC02MjksOSArNjMwLDkgQEAgc3RhdGljIHZvaWQgdmNw
dV9tb3ZlX2xvY2tlZChzdHJ1Y3QgdmNwdSAqdiwgdW5zaWduZWQgaW50IG5ld19jcHUpCiAgKiBU
aGVzZSBzdGVwcyBhcmUgZW5jYXBzdWxhdGVkIGluIHRoZSBmb2xsb3dpbmcgdHdvIGZ1bmN0aW9u
czsgdGhleQogICogc2hvdWxkIGJlIGNhbGxlZCBsaWtlIHRoaXM6CiAgKgotICogICAgIGxvY2sg
PSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxKHYpOworICogICAgIGxvY2sgPSBpdGVtX3NjaGVkdWxl
X2xvY2tfaXJxKGl0ZW0pOwogICogICAgIHZjcHVfbWlncmF0ZV9zdGFydCh2KTsKLSAqICAgICB2
Y3B1X3NjaGVkdWxlX3VubG9ja19pcnEobG9jaywgdikKKyAqICAgICBpdGVtX3NjaGVkdWxlX3Vu
bG9ja19pcnEobG9jaywgaXRlbSkKICAqICAgICB2Y3B1X21pZ3JhdGVfZmluaXNoKHYpOwogICoK
ICAqIHZjcHVfbWlncmF0ZV9maW5pc2goKSB3aWxsIGRvIHRoZSB3b3JrIG5vdyBpZiBpdCBjYW4s
IG9yIHNpbXBseQpAQCAtNzM2LDEyICs3MzcsMTIgQEAgc3RhdGljIHZvaWQgdmNwdV9taWdyYXRl
X2ZpbmlzaChzdHJ1Y3QgdmNwdSAqdikKICAqLwogdm9pZCB2Y3B1X2ZvcmNlX3Jlc2NoZWR1bGUo
c3RydWN0IHZjcHUgKnYpCiB7Ci0gICAgc3BpbmxvY2tfdCAqbG9jayA9IHZjcHVfc2NoZWR1bGVf
bG9ja19pcnEodik7CisgICAgc3BpbmxvY2tfdCAqbG9jayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19p
cnEodi0+c2NoZWRfaXRlbSk7CiAKICAgICBpZiAoIHYtPmlzX3J1bm5pbmcgKQogICAgICAgICB2
Y3B1X21pZ3JhdGVfc3RhcnQodik7CiAKLSAgICB2Y3B1X3NjaGVkdWxlX3VubG9ja19pcnEobG9j
aywgdik7CisgICAgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJxKGxvY2ssIHYtPnNjaGVkX2l0ZW0p
OwogCiAgICAgdmNwdV9taWdyYXRlX2ZpbmlzaCh2KTsKIH0KQEAgLTc5Miw3ICs3OTMsNyBAQCB2
b2lkIHJlc3RvcmVfdmNwdV9hZmZpbml0eShzdHJ1Y3QgZG9tYWluICpkKQogICAgICAgICB2LT5w
cm9jZXNzb3IgPSBjcHVtYXNrX2FueShjcHVtYXNrX3NjcmF0Y2hfY3B1KGNwdSkpOwogICAgICAg
ICB2LT5zY2hlZF9pdGVtLT5yZXMgPSBwZXJfY3B1KHNjaGVkX3Jlcywgdi0+cHJvY2Vzc29yKTsK
IAotICAgICAgICBsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2KTsKKyAgICAgICAgbG9j
ayA9IGl0ZW1fc2NoZWR1bGVfbG9ja19pcnEodi0+c2NoZWRfaXRlbSk7CiAgICAgICAgIHYtPnNj
aGVkX2l0ZW0tPnJlcyA9IHNjaGVkX3BpY2tfcmVzb3VyY2UodmNwdV9zY2hlZHVsZXIodiksCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi0+c2NoZWRf
aXRlbSk7CiAgICAgICAgIHYtPnByb2Nlc3NvciA9IHYtPnNjaGVkX2l0ZW0tPnJlcy0+cHJvY2Vz
c29yOwpAQCAtODI3LDcgKzgyOCw3IEBAIGludCBjcHVfZGlzYWJsZV9zY2hlZHVsZXIodW5zaWdu
ZWQgaW50IGNwdSkKICAgICAgICAgZm9yX2VhY2hfdmNwdSAoIGQsIHYgKQogICAgICAgICB7CiAg
ICAgICAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwotICAgICAgICAgICAgc3BpbmxvY2tfdCAq
bG9jayA9IHZjcHVfc2NoZWR1bGVfbG9ja19pcnFzYXZlKHYsICZmbGFncyk7CisgICAgICAgICAg
ICBzcGlubG9ja190ICpsb2NrID0gaXRlbV9zY2hlZHVsZV9sb2NrX2lycXNhdmUodi0+c2NoZWRf
aXRlbSwgJmZsYWdzKTsKIAogICAgICAgICAgICAgY3B1bWFza19hbmQoJm9ubGluZV9hZmZpbml0
eSwgdi0+Y3B1X2hhcmRfYWZmaW5pdHksIGMtPmNwdV92YWxpZCk7CiAgICAgICAgICAgICBpZiAo
IGNwdW1hc2tfZW1wdHkoJm9ubGluZV9hZmZpbml0eSkgJiYKQEAgLTgzNiw3ICs4MzcsNyBAQCBp
bnQgY3B1X2Rpc2FibGVfc2NoZWR1bGVyKHVuc2lnbmVkIGludCBjcHUpCiAgICAgICAgICAgICAg
ICAgaWYgKCB2LT5hZmZpbml0eV9icm9rZW4gKQogICAgICAgICAgICAgICAgIHsKICAgICAgICAg
ICAgICAgICAgICAgLyogVGhlIHZjcHUgaXMgdGVtcG9yYXJpbHkgcGlubmVkLCBjYW4ndCBtb3Zl
IGl0LiAqLwotICAgICAgICAgICAgICAgICAgICB2Y3B1X3NjaGVkdWxlX3VubG9ja19pcnFyZXN0
b3JlKGxvY2ssIGZsYWdzLCB2KTsKKyAgICAgICAgICAgICAgICAgICAgaXRlbV9zY2hlZHVsZV91
bmxvY2tfaXJxcmVzdG9yZShsb2NrLCBmbGFncywgdi0+c2NoZWRfaXRlbSk7CiAgICAgICAgICAg
ICAgICAgICAgIHJldCA9IC1FQUREUklOVVNFOwogICAgICAgICAgICAgICAgICAgICBicmVhazsK
ICAgICAgICAgICAgICAgICB9CkBAIC04NDksNyArODUwLDcgQEAgaW50IGNwdV9kaXNhYmxlX3Nj
aGVkdWxlcih1bnNpZ25lZCBpbnQgY3B1KQogICAgICAgICAgICAgaWYgKCB2LT5wcm9jZXNzb3Ig
IT0gY3B1ICkKICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAvKiBUaGUgdmNwdSBpcyBu
b3Qgb24gdGhpcyBjcHUsIHNvIHdlIGNhbiBtb3ZlIG9uLiAqLwotICAgICAgICAgICAgICAgIHZj
cHVfc2NoZWR1bGVfdW5sb2NrX2lycXJlc3RvcmUobG9jaywgZmxhZ3MsIHYpOworICAgICAgICAg
ICAgICAgIGl0ZW1fc2NoZWR1bGVfdW5sb2NrX2lycXJlc3RvcmUobG9jaywgZmxhZ3MsIHYtPnNj
aGVkX2l0ZW0pOwogICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgfQogCkBA
IC04NjIsNyArODYzLDcgQEAgaW50IGNwdV9kaXNhYmxlX3NjaGVkdWxlcih1bnNpZ25lZCBpbnQg
Y3B1KQogICAgICAgICAgICAgICogICAgdGhpbmdzIHdvdWxkIGhhdmUgZmFpbGVkIGJlZm9yZSBn
ZXR0aW5nIGluIGhlcmUuCiAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgIHZjcHVfbWlncmF0
ZV9zdGFydCh2KTsKLSAgICAgICAgICAgIHZjcHVfc2NoZWR1bGVfdW5sb2NrX2lycXJlc3RvcmUo
bG9jaywgZmxhZ3MsIHYpOworICAgICAgICAgICAgaXRlbV9zY2hlZHVsZV91bmxvY2tfaXJxcmVz
dG9yZShsb2NrLCBmbGFncywgdi0+c2NoZWRfaXRlbSk7CiAKICAgICAgICAgICAgIHZjcHVfbWln
cmF0ZV9maW5pc2godik7CiAKQEAgLTkyNiw3ICs5MjcsNyBAQCBzdGF0aWMgaW50IHZjcHVfc2V0
X2FmZmluaXR5KAogICAgIHNwaW5sb2NrX3QgKmxvY2s7CiAgICAgaW50IHJldCA9IDA7CiAKLSAg
ICBsb2NrID0gdmNwdV9zY2hlZHVsZV9sb2NrX2lycSh2KTsKKyAgICBsb2NrID0gaXRlbV9zY2hl
ZHVsZV9sb2NrX2lycSh2LT5zY2hlZF9pdGVtKTsKIAogICAgIGlmICggdi0+YWZmaW5pdHlfYnJv
a2VuICkKICAgICAgICAgcmV0ID0gLUVCVVNZOwpAQCAtOTQ4LDcgKzk0OSw3IEBAIHN0YXRpYyBp
bnQgdmNwdV9zZXRfYWZmaW5pdHkoCiAgICAgICAgIHZjcHVfbWlncmF0ZV9zdGFydCh2KTsKICAg
ICB9CiAKLSAgICB2Y3B1X3NjaGVkdWxlX3VubG9ja19pcnEobG9jaywgdik7CisgICAgaXRlbV9z
Y2hlZHVsZV91bmxvY2tfaXJxKGxvY2ssIHYtPnNjaGVkX2l0ZW0pOwogCiAgICAgZG9tYWluX3Vw
ZGF0ZV9ub2RlX2FmZmluaXR5KHYtPmRvbWFpbik7CiAKQEAgLTEwODAsMTAgKzEwODEsMTAgQEAg
c3RhdGljIGxvbmcgZG9fcG9sbChzdHJ1Y3Qgc2NoZWRfcG9sbCAqc2NoZWRfcG9sbCkKIGxvbmcg
dmNwdV95aWVsZCh2b2lkKQogewogICAgIHN0cnVjdCB2Y3B1ICogdj1jdXJyZW50OwotICAgIHNw
aW5sb2NrX3QgKmxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxKHYpOworICAgIHNwaW5sb2Nr
X3QgKmxvY2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJxKHYtPnNjaGVkX2l0ZW0pOwogCiAgICAg
c2NoZWRfeWllbGQodmNwdV9zY2hlZHVsZXIodiksIHYtPnNjaGVkX2l0ZW0pOwotICAgIHZjcHVf
c2NoZWR1bGVfdW5sb2NrX2lycShsb2NrLCB2KTsKKyAgICBpdGVtX3NjaGVkdWxlX3VubG9ja19p
cnEobG9jaywgdi0+c2NoZWRfaXRlbSk7CiAKICAgICBTQ0hFRF9TVEFUX0NSQU5LKHZjcHVfeWll
bGQpOwogCkBAIC0xMTY5LDcgKzExNzAsNyBAQCBpbnQgdmNwdV9waW5fb3ZlcnJpZGUoc3RydWN0
IHZjcHUgKnYsIGludCBjcHUpCiAgICAgc3BpbmxvY2tfdCAqbG9jazsKICAgICBpbnQgcmV0ID0g
LUVJTlZBTDsKIAotICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxKHYpOworICAgIGxv
Y2sgPSBpdGVtX3NjaGVkdWxlX2xvY2tfaXJxKHYtPnNjaGVkX2l0ZW0pOwogCiAgICAgaWYgKCBj
cHUgPCAwICkKICAgICB7CkBAIC0xMTk2LDcgKzExOTcsNyBAQCBpbnQgdmNwdV9waW5fb3ZlcnJp
ZGUoc3RydWN0IHZjcHUgKnYsIGludCBjcHUpCiAgICAgaWYgKCByZXQgPT0gMCApCiAgICAgICAg
IHZjcHVfbWlncmF0ZV9zdGFydCh2KTsKIAotICAgIHZjcHVfc2NoZWR1bGVfdW5sb2NrX2lycShs
b2NrLCB2KTsKKyAgICBpdGVtX3NjaGVkdWxlX3VubG9ja19pcnEobG9jaywgdi0+c2NoZWRfaXRl
bSk7CiAKICAgICBkb21haW5fdXBkYXRlX25vZGVfYWZmaW5pdHkodi0+ZG9tYWluKTsKIApkaWZm
IC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLWlmLmggYi94ZW4vaW5jbHVkZS94ZW4vc2No
ZWQtaWYuaAppbmRleCA5MzYxN2YwNDU5Li4xN2YxZWU4ODg3IDEwMDY0NAotLS0gYS94ZW4vaW5j
bHVkZS94ZW4vc2NoZWQtaWYuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQtaWYuaApAQCAt
OTEsMjIgKzkxLDIyIEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBraW5kIyNfc2NoZWR1bGVfdW5sb2Nr
IyNpcnEoc3BpbmxvY2tfdCAqbG9jayBcCiAKICNkZWZpbmUgRVhUUkFfVFlQRShhcmcpCiBzY2hl
ZF9sb2NrKHBjcHUsIHVuc2lnbmVkIGludCBjcHUsICAgICBjcHUsICkKLXNjaGVkX2xvY2sodmNw
dSwgY29uc3Qgc3RydWN0IHZjcHUgKnYsIHYtPnByb2Nlc3NvciwgKQorc2NoZWRfbG9jayhpdGVt
LCBjb25zdCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaSwgaS0+cmVzLT5wcm9jZXNzb3IsICkKIHNjaGVk
X2xvY2socGNwdSwgdW5zaWduZWQgaW50IGNwdSwgICAgIGNwdSwgICAgICAgICAgX2lycSkKLXNj
aGVkX2xvY2sodmNwdSwgY29uc3Qgc3RydWN0IHZjcHUgKnYsIHYtPnByb2Nlc3NvciwgX2lycSkK
K3NjaGVkX2xvY2soaXRlbSwgY29uc3Qgc3RydWN0IHNjaGVkX2l0ZW0gKmksIGktPnJlcy0+cHJv
Y2Vzc29yLCBfaXJxKQogc2NoZWRfdW5sb2NrKHBjcHUsIHVuc2lnbmVkIGludCBjcHUsICAgICBj
cHUsICkKLXNjaGVkX3VubG9jayh2Y3B1LCBjb25zdCBzdHJ1Y3QgdmNwdSAqdiwgdi0+cHJvY2Vz
c29yLCApCitzY2hlZF91bmxvY2soaXRlbSwgY29uc3Qgc3RydWN0IHNjaGVkX2l0ZW0gKmksIGkt
PnJlcy0+cHJvY2Vzc29yLCApCiBzY2hlZF91bmxvY2socGNwdSwgdW5zaWduZWQgaW50IGNwdSwg
ICAgIGNwdSwgICAgICAgICAgX2lycSkKLXNjaGVkX3VubG9jayh2Y3B1LCBjb25zdCBzdHJ1Y3Qg
dmNwdSAqdiwgdi0+cHJvY2Vzc29yLCBfaXJxKQorc2NoZWRfdW5sb2NrKGl0ZW0sIGNvbnN0IHN0
cnVjdCBzY2hlZF9pdGVtICppLCBpLT5yZXMtPnByb2Nlc3NvciwgX2lycSkKICN1bmRlZiBFWFRS
QV9UWVBFCiAKICNkZWZpbmUgRVhUUkFfVFlQRShhcmcpICwgdW5zaWduZWQgbG9uZyBhcmcKICNk
ZWZpbmUgc3Bpbl91bmxvY2tfaXJxc2F2ZSBzcGluX3VubG9ja19pcnFyZXN0b3JlCiBzY2hlZF9s
b2NrKHBjcHUsIHVuc2lnbmVkIGludCBjcHUsICAgICBjcHUsICAgICAgICAgIF9pcnFzYXZlLCAq
ZmxhZ3MpCi1zY2hlZF9sb2NrKHZjcHUsIGNvbnN0IHN0cnVjdCB2Y3B1ICp2LCB2LT5wcm9jZXNz
b3IsIF9pcnFzYXZlLCAqZmxhZ3MpCitzY2hlZF9sb2NrKGl0ZW0sIGNvbnN0IHN0cnVjdCBzY2hl
ZF9pdGVtICppLCBpLT5yZXMtPnByb2Nlc3NvciwgX2lycXNhdmUsICpmbGFncykKICN1bmRlZiBz
cGluX3VubG9ja19pcnFzYXZlCiBzY2hlZF91bmxvY2socGNwdSwgdW5zaWduZWQgaW50IGNwdSwg
ICAgIGNwdSwgICAgICAgICAgX2lycXJlc3RvcmUsIGZsYWdzKQotc2NoZWRfdW5sb2NrKHZjcHUs
IGNvbnN0IHN0cnVjdCB2Y3B1ICp2LCB2LT5wcm9jZXNzb3IsIF9pcnFyZXN0b3JlLCBmbGFncykK
K3NjaGVkX3VubG9jayhpdGVtLCBjb25zdCBzdHJ1Y3Qgc2NoZWRfaXRlbSAqaSwgaS0+cmVzLT5w
cm9jZXNzb3IsIF9pcnFyZXN0b3JlLCBmbGFncykKICN1bmRlZiBFWFRSQV9UWVBFCiAKICN1bmRl
ZiBzY2hlZF91bmxvY2sKLS0gCjIuMTYuNAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3Rz
LnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0
aW5mby94ZW4tZGV2ZWw=

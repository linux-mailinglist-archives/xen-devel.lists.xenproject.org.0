Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6114F11D427
	for <lists+xen-devel@lfdr.de>; Thu, 12 Dec 2019 18:35:56 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ifSKO-0002Uc-NB; Thu, 12 Dec 2019 17:32:40 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=NkF/=2C=citrix.com=george.dunlap@srs-us1.protection.inumbo.net>)
 id 1ifSKN-0002UM-QO
 for xen-devel@lists.xenproject.org; Thu, 12 Dec 2019 17:32:39 +0000
X-Inumbo-ID: 5ca19054-1d05-11ea-8dd6-12813bfff9fa
Received: from esa5.hc3370-68.iphmx.com (unknown [216.71.155.168])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 5ca19054-1d05-11ea-8dd6-12813bfff9fa;
 Thu, 12 Dec 2019 17:32:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1576171945;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=IQYS1FSlgjfx6KcHUVViiO4BU3+QbaVPK9Qqw7JrFwk=;
 b=BRgj3C5bFDaetE960jVwj5ofbt3ZUcQCCLqZ7ygCFQim2hQqbiqtcPfM
 t2W1v5Wnost51rLcc0Tar50KwgCKEChfRrl7JinZU9Y+PpYeRwuRypZUm
 dR5bie9YN700oGsh9IGXEFppc7Be+XVdqpMnS9uZsYum6uOTWNxTwoqXg Y=;
Authentication-Results: esa5.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=george.dunlap@citrix.com;
 spf=Pass smtp.mailfrom=George.Dunlap@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 george.dunlap@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="George.Dunlap@citrix.com";
 x-sender="george.dunlap@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa5.hc3370-68.iphmx.com: domain of
 George.Dunlap@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="George.Dunlap@citrix.com";
 x-sender="George.Dunlap@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83
 ip4:168.245.78.127 ~all"
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="George.Dunlap@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: zjoSRAsUEXzPrUa5H26R0bs19J11sqnHwS1pHy9EEmtmnAmCNMADuOcXmzdy8iguMMgxCs907B
 ktdCRULpQ2URObRGShgb1OZJQXpbTa2A6dtzXGrQpCGqn4fW2dStNL19z6MS9DPWQDxSe/WWqk
 M4te1S/EwWQSdsPcLStXf3Ak+Ffl0JUKA6o/EjTErxeur2LUqmZVCSQD1iSdVshfYSmcablJpQ
 pKa1MlB1dsvt0zt2LB50hBImQ7NTdNdNiqtCmh4bqLwDzhO5iNWdefsxPS4NhR6pyupKwMm0dF
 XN4=
X-SBRS: 2.7
X-MesageID: 9961412
X-Ironport-Server: esa5.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.69,306,1571716800"; 
   d="scan'208";a="9961412"
From: George Dunlap <george.dunlap@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 12 Dec 2019 17:32:03 +0000
Message-ID: <20191212173203.1692762-5-george.dunlap@citrix.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191212173203.1692762-1-george.dunlap@citrix.com>
References: <20191212173203.1692762-1-george.dunlap@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 4/4] x86/mm: More discriptive names for page
 de/validation functions
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 George Dunlap <george.dunlap@citrix.com>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGZ1bmN0aW9ucyBhbGxvY19wYWdlX3R5cGUoKSwgYWxsb2NfbE5fdGFibGUoKSwgZnJlZV9w
YWdlX3R5cGUoKQphbmQgZnJlZV9sTl90YWJsZSgpIGFyZSBjb25mdXNpbmdseSBuYW1lZDogbm90
aGluZyBpcyBiZWluZyBhbGxvY2F0ZWQKb3IgZnJlZWQuICBSYXRoZXIsIHRoZSBwYWdlIGJlaW5n
IHBhc3NlZCBpbiBpcyBiZWluZyBlaXRoZXIgdmFsaWRhdGVkCm9yIGRldmFsaWRhdGVkIGZvciB1
c2UgYXMgdGhlIHNwZWNpZmljIHR5cGUuCgpSZW5hbWUgdGhlc2UgZnVuY3Rpb25zIHRvICJ2YWxp
ZGF0ZSIgYW5kICJkZXZhbGlkYXRlIiByZXNwZWN0aXZlbHkgdG8KYmUgbW9yZSBjbGVhci4KCk5v
IGZ1bmN0aW9uYWwgY2hhbmdlLgoKU2lnbmVkLW9mZi1ieTogR2VvcmdlIER1bmxhcCA8Z2Vvcmdl
LmR1bmxhcEBjaXRyaXguY29tPgotLS0KQ0M6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIz
QGNpdHJpeC5jb20+CkNDOiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+Ci0tLQogeGVu
L2FyY2gveDg2L2RvbWFpbi5jICAgIHwgIDIgKy0KIHhlbi9hcmNoL3g4Ni9tbS5jICAgICAgICB8
IDYyICsrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHhlbi9pbmNsdWRl
L2FzbS14ODYvbW0uaCB8ICA0ICstLQogMyBmaWxlcyBjaGFuZ2VkLCAzNCBpbnNlcnRpb25zKCsp
LCAzNCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZG9tYWluLmMgYi94
ZW4vYXJjaC94ODYvZG9tYWluLmMKaW5kZXggZjVjMGMzNzhlZi4uZWUyMGRlNjQ5MyAxMDA2NDQK
LS0tIGEveGVuL2FyY2gveDg2L2RvbWFpbi5jCisrKyBiL3hlbi9hcmNoL3g4Ni9kb21haW4uYwpA
QCAtMjAzMiw3ICsyMDMyLDcgQEAgc3RhdGljIGludCByZWxpbnF1aXNoX21lbW9yeSgKICAgICAg
ICAgICAgIGlmICggbGlrZWx5KHkgPT0geCkgKQogICAgICAgICAgICAgewogICAgICAgICAgICAg
ICAgIC8qIE5vIG5lZWQgZm9yIGF0b21pYyB1cGRhdGUgb2YgdHlwZV9pbmZvIGhlcmU6IG5vb25l
IGVsc2UgdXBkYXRlcyBpdC4gKi8KLSAgICAgICAgICAgICAgICBzd2l0Y2ggKCByZXQgPSBmcmVl
X3BhZ2VfdHlwZShwYWdlLCB4LCAxKSApCisgICAgICAgICAgICAgICAgc3dpdGNoICggcmV0ID0g
ZGV2YWxpZGF0ZV9wYWdlX3R5cGUocGFnZSwgeCwgMSkgKQogICAgICAgICAgICAgICAgIHsKICAg
ICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwpkaWZmIC0t
Z2l0IGEveGVuL2FyY2gveDg2L21tLmMgYi94ZW4vYXJjaC94ODYvbW0uYwppbmRleCA1NGI0MTAw
ZDU1Li5kYzE0NjMxMjNjIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvbW0uYworKysgYi94ZW4v
YXJjaC94ODYvbW0uYwpAQCAtMTM2Niw3ICsxMzY2LDcgQEAgc3RhdGljIGludCBwdXRfcGFnZV9m
cm9tX2w0ZShsNF9wZ2VudHJ5X3QgbDRlLCB1bnNpZ25lZCBsb25nIHBmbiwKICAgICByZXR1cm4g
cHV0X3B0X3BhZ2UobDRlX2dldF9wYWdlKGw0ZSksIG1mbl90b19wYWdlKF9tZm4ocGZuKSksIGZs
YWdzKTsKIH0KIAotc3RhdGljIGludCBhbGxvY19sMV90YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpw
YWdlKQorc3RhdGljIGludCB2YWxpZGF0ZV9sMV90YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdl
KQogewogICAgIHN0cnVjdCBkb21haW4gKmQgPSBwYWdlX2dldF9vd25lcihwYWdlKTsKICAgICBs
MV9wZ2VudHJ5X3QgICpwbDFlOwpAQCAtMTQwOCw3ICsxNDA4LDcgQEAgc3RhdGljIGludCBhbGxv
Y19sMV90YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdlKQogCiAgZmFpbDoKICAgICBnZHByaW50
ayhYRU5MT0dfV0FSTklORywKLSAgICAgICAgICAgICAiRmFpbHVyZSAlZCBpbiBhbGxvY19sMV90
YWJsZTogc2xvdCAlI3hcbiIsIHJldCwgaSk7CisgICAgICAgICAgICAgIkZhaWx1cmUgJWQgaW4g
dmFsaWRhdGVfbDFfdGFibGU6IHNsb3QgJSN4XG4iLCByZXQsIGkpOwogIG91dDoKICAgICB3aGls
ZSAoIGktLSA+IDAgKQogICAgICAgICBwdXRfcGFnZV9mcm9tX2wxZShwbDFlW2ldLCBkKTsKQEAg
LTE0NDEsNyArMTQ0MSw3IEBAIHN0YXRpYyBpbnQgY3JlYXRlX3BhZV94ZW5fbWFwcGluZ3Moc3Ry
dWN0IGRvbWFpbiAqZCwgbDNfcGdlbnRyeV90ICpwbDNlKQogICAgICAqICAxLiBDYW5ub3QgYXBw
ZWFyIGluIHNsb3RzICE9IDMgYmVjYXVzZSBnZXRfcGFnZV90eXBlKCkgY2hlY2tzIHRoZQogICAg
ICAqICAgICBQR1RfcGFlX3hlbl9sMiBmbGFnLCB3aGljaCBpcyBhc3NlcnRlZCBpZmYgdGhlIEwy
IGFwcGVhcnMgaW4gc2xvdCAzCiAgICAgICogIDIuIENhbm5vdCBhcHBlYXIgaW4gYW5vdGhlciBw
YWdlIHRhYmxlJ3MgTDM6Ci0gICAgICogICAgIGEuIGFsbG9jX2wzX3RhYmxlKCkgY2FsbHMgdGhp
cyBmdW5jdGlvbiBhbmQgdGhpcyBjaGVjayB3aWxsIGZhaWwKKyAgICAgKiAgICAgYS4gdmFsaWRh
dGVfbDNfdGFibGUoKSBjYWxscyB0aGlzIGZ1bmN0aW9uIGFuZCB0aGlzIGNoZWNrIHdpbGwgZmFp
bAogICAgICAqICAgICBiLiBtb2RfbDNfZW50cnkoKSBkaXNhbGxvd3MgdXBkYXRlcyB0byBzbG90
IDMgaW4gYW4gZXhpc3RpbmcgdGFibGUKICAgICAgKi8KICAgICBwYWdlID0gbDNlX2dldF9wYWdl
KGwzZTMpOwpAQCAtMTQ1Nyw3ICsxNDU3LDcgQEAgc3RhdGljIGludCBjcmVhdGVfcGFlX3hlbl9t
YXBwaW5ncyhzdHJ1Y3QgZG9tYWluICpkLCBsM19wZ2VudHJ5X3QgKnBsM2UpCiAgICAgcmV0dXJu
IDE7CiB9CiAKLXN0YXRpYyBpbnQgYWxsb2NfbDJfdGFibGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFn
ZSwgdW5zaWduZWQgbG9uZyB0eXBlKQorc3RhdGljIGludCB2YWxpZGF0ZV9sMl90YWJsZShzdHJ1
Y3QgcGFnZV9pbmZvICpwYWdlLCB1bnNpZ25lZCBsb25nIHR5cGUpCiB7CiAgICAgc3RydWN0IGRv
bWFpbiAqZCA9IHBhZ2VfZ2V0X293bmVyKHBhZ2UpOwogICAgIHVuc2lnbmVkIGxvbmcgIGwybWZu
ID0gbWZuX3gocGFnZV90b19tZm4ocGFnZSkpOwpAQCAtMTQ2OSw4ICsxNDY5LDggQEAgc3RhdGlj
IGludCBhbGxvY19sMl90YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdlLCB1bnNpZ25lZCBsb25n
IHR5cGUpCiAgICAgcGwyZSA9IG1hcF9kb21haW5fcGFnZShfbWZuKGwybWZuKSk7CiAKICAgICAv
KgotICAgICAqIE5CIHRoYXQgYWxsb2NfbDJfdGFibGUgd2lsbCBuZXZlciBzZXQgcGFydGlhbF9w
dGUgb24gYW4gbDI7IGJ1dAotICAgICAqIGZyZWVfbDJfdGFibGUgbWlnaHQgaWYgYSBsaW5lYXJf
cGFnZXRhYmxlIGVudHJ5IGlzIGludGVycnVwdGVkCisgICAgICogTkIgdGhhdCB2YWxpZGF0ZV9s
Ml90YWJsZSB3aWxsIG5ldmVyIHNldCBwYXJ0aWFsX3B0ZSBvbiBhbiBsMjsgYnV0CisgICAgICog
ZGV2YWxpZGF0ZV9sMl90YWJsZSBtaWdodCBpZiBhIGxpbmVhcl9wYWdldGFibGUgZW50cnkgaXMg
aW50ZXJydXB0ZWQKICAgICAgKiBwYXJ0d2F5IHRocm91Z2ggZGUtdmFsaWRhdGlvbi4gIEluIHRo
YXQgY2lyY3Vtc3RhbmNlLAogICAgICAqIGdldF9wYWdlX2Zyb21fbDJlKCkgd2lsbCBhbHdheXMg
cmV0dXJuIC1FSU5WQUw7IGFuZCB3ZSBtdXN0CiAgICAgICogcmV0YWluIHRoZSB0eXBlIHJlZiBi
eSBkb2luZyB0aGUgbm9ybWFsIHBhcnRpYWxfZmxhZ3MgdHJhY2tpbmcuCkBAIC0xNDk3LDcgKzE0
OTcsNyBAQCBzdGF0aWMgaW50IGFsbG9jX2wyX3RhYmxlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2Us
IHVuc2lnbmVkIGxvbmcgdHlwZSkKICAgICAgICAgLyoKICAgICAgICAgICogSXQgc2hvdWxkbid0
IGJlIHBvc3NpYmxlIGZvciBnZXRfcGFnZV9mcm9tX2wyZSB0byByZXR1cm4KICAgICAgICAgICog
LUVSRVNUQVJULCBzaW5jZSB3ZSBuZXZlciBjYWxsIHRoaXMgd2l0aCBQVEZfcHJlZW1wdGlibGUu
Ci0gICAgICAgICAqIChhbGxvY19sMV90YWJsZSBtYXkgcmV0dXJuIC1FSU5UUiBvbiBhbiBMMVRG
LXZ1bG5lcmFibGUKKyAgICAgICAgICogKHZhbGlkYXRlX2wxX3RhYmxlIG1heSByZXR1cm4gLUVJ
TlRSIG9uIGFuIEwxVEYtdnVsbmVyYWJsZQogICAgICAgICAgKiBlbnRyeS4pCiAgICAgICAgICAq
CiAgICAgICAgICAqIE5CIHRoYXQgd2hpbGUgb24gYSAiY2xlYW4iIHByb21vdGlvbiwgd2UgY2Fu
IG5ldmVyIGdldApAQCAtMTUxOCwxMiArMTUxOCwxMiBAQCBzdGF0aWMgaW50IGFsbG9jX2wyX3Rh
YmxlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlwZSkKICAgICAgICAg
ZWxzZSBpZiAoIHJjIDwgMCAmJiByYyAhPSAtRUlOVFIgKQogICAgICAgICB7CiAgICAgICAgICAg
ICBnZHByaW50ayhYRU5MT0dfV0FSTklORywKLSAgICAgICAgICAgICAgICAgICAgICJGYWlsdXJl
ICVkIGluIGFsbG9jX2wyX3RhYmxlOiBzbG90ICUjeFxuIiwgcmMsIGkpOworICAgICAgICAgICAg
ICAgICAgICAgIkZhaWx1cmUgJWQgaW4gdmFsaWRhdGVfbDJfdGFibGU6IHNsb3QgJSN4XG4iLCBy
YywgaSk7CiAgICAgICAgICAgICBBU1NFUlQoY3VycmVudC0+YXJjaC5vbGRfZ3Vlc3RfdGFibGUg
PT0gTlVMTCk7CiAgICAgICAgICAgICBpZiAoIGkgKQogICAgICAgICAgICAgewogICAgICAgICAg
ICAgICAgIC8qCi0gICAgICAgICAgICAgICAgICogYWxsb2NfbDFfdGFibGUoKSBkb2Vzbid0IHNl
dCBvbGRfZ3Vlc3RfdGFibGU7IGl0IGRvZXMKKyAgICAgICAgICAgICAgICAgKiB2YWxpZGF0ZV9s
MV90YWJsZSgpIGRvZXNuJ3Qgc2V0IG9sZF9ndWVzdF90YWJsZTsgaXQgZG9lcwogICAgICAgICAg
ICAgICAgICAqIGl0cyBvd24gdGVhci1kb3duIGltbWVkaWF0ZWx5IG9uIGZhaWx1cmUuICBJZiBp
dAogICAgICAgICAgICAgICAgICAqIGRpZCB3ZSdkIG5lZWQgdG8gY2hlY2sgaXQgYW5kIHNldCBw
YXJ0aWFsX2ZsYWdzIGFzIHdlCiAgICAgICAgICAgICAgICAgICogZG8gaW4gYWxsb2NfbFszNF1f
dGFibGUoKS4KQEAgLTE1NTYsNyArMTU1Niw3IEBAIHN0YXRpYyBpbnQgYWxsb2NfbDJfdGFibGUo
c3RydWN0IHBhZ2VfaW5mbyAqcGFnZSwgdW5zaWduZWQgbG9uZyB0eXBlKQogICAgIHJldHVybiBy
YzsKIH0KIAotc3RhdGljIGludCBhbGxvY19sM190YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdl
KQorc3RhdGljIGludCB2YWxpZGF0ZV9sM190YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdlKQog
ewogICAgIHN0cnVjdCBkb21haW4gKmQgPSBwYWdlX2dldF9vd25lcihwYWdlKTsKICAgICB1bnNp
Z25lZCBsb25nICBsM21mbiA9IG1mbl94KHBhZ2VfdG9fbWZuKHBhZ2UpKTsKQEAgLTE2MjksNyAr
MTYyOSw3IEBAIHN0YXRpYyBpbnQgYWxsb2NfbDNfdGFibGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFn
ZSkKICAgICBpZiAoIHJjIDwgMCAmJiByYyAhPSAtRVJFU1RBUlQgJiYgcmMgIT0gLUVJTlRSICkK
ICAgICB7CiAgICAgICAgIGdkcHJpbnRrKFhFTkxPR19XQVJOSU5HLAotICAgICAgICAgICAgICAg
ICAiRmFpbHVyZSAlZCBpbiBhbGxvY19sM190YWJsZTogc2xvdCAlI3hcbiIsIHJjLCBpKTsKKyAg
ICAgICAgICAgICAgICAgIkZhaWx1cmUgJWQgaW4gdmFsaWRhdGVfbDNfdGFibGU6IHNsb3QgJSN4
XG4iLCByYywgaSk7CiAgICAgICAgIGlmICggaSApCiAgICAgICAgIHsKICAgICAgICAgICAgIHBh
Z2UtPm5yX3ZhbGlkYXRlZF9wdGVzID0gaTsKQEAgLTE2ODAsNyArMTY4MCw3IEBAIHZvaWQgaW5p
dF94ZW5fcGFlX2wyX3Nsb3RzKGwyX3BnZW50cnlfdCAqbDJ0LCBjb25zdCBzdHJ1Y3QgZG9tYWlu
ICpkKQogICogRmlsbCBhbiBMNCB3aXRoIFhlbiBlbnRyaWVzLgogICoKICAqIFRoaXMgZnVuY3Rp
b24gbXVzdCB3cml0ZSBhbGwgUk9PVF9QQUdFVEFCTEVfUFZfWEVOX1NMT1RTLCB0byBjbG9iYmVy
IGFueQotICogdmFsdWVzIGEgZ3Vlc3QgbWF5IGhhdmUgbGVmdCB0aGVyZSBmcm9tIGFsbG9jX2w0
X3RhYmxlKCkuCisgKiB2YWx1ZXMgYSBndWVzdCBtYXkgaGF2ZSBsZWZ0IHRoZXJlIGZyb20gdmFs
aWRhdGVfbDRfdGFibGUoKS4KICAqCiAgKiBsNHQgYW5kIGw0bWZuIGFyZSBtYW5kYXRvcnksIGJ1
dCBsNG1mbiBkb2Vzbid0IG5lZWQgdG8gYmUgdGhlIG1mbiB1bmRlcgogICogKmw0dC4gIEFsbCBv
dGhlciBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBlaXRoZXIgZmlsbCBvciB6ZXJv
IHRoZQpAQCAtMTc4Myw3ICsxNzgzLDcgQEAgdm9pZCB6YXBfcm9fbXB0KG1mbl90IG1mbikKIH0K
IAogI2lmZGVmIENPTkZJR19QVgotc3RhdGljIGludCBhbGxvY19sNF90YWJsZShzdHJ1Y3QgcGFn
ZV9pbmZvICpwYWdlKQorc3RhdGljIGludCB2YWxpZGF0ZV9sNF90YWJsZShzdHJ1Y3QgcGFnZV9p
bmZvICpwYWdlKQogewogICAgIHN0cnVjdCBkb21haW4gKmQgPSBwYWdlX2dldF9vd25lcihwYWdl
KTsKICAgICB1bnNpZ25lZCBsb25nICBsNG1mbiA9IG1mbl94KHBhZ2VfdG9fbWZuKHBhZ2UpKTsK
QEAgLTE4MjIsNyArMTgyMiw3IEBAIHN0YXRpYyBpbnQgYWxsb2NfbDRfdGFibGUoc3RydWN0IHBh
Z2VfaW5mbyAqcGFnZSkKICAgICAgICAgewogICAgICAgICAgICAgaWYgKCByYyAhPSAtRUlOVFIg
KQogICAgICAgICAgICAgICAgIGdkcHJpbnRrKFhFTkxPR19XQVJOSU5HLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICJGYWlsdXJlICVkIGluIGFsbG9jX2w0X3RhYmxlOiBzbG90ICUjeFxuIiwg
cmMsIGkpOworICAgICAgICAgICAgICAgICAgICAgICAgICJGYWlsdXJlICVkIGluIHZhbGlkYXRl
X2w0X3RhYmxlOiBzbG90ICUjeFxuIiwgcmMsIGkpOwogICAgICAgICAgICAgaWYgKCBpICkKICAg
ICAgICAgICAgIHsKICAgICAgICAgICAgICAgICBwYWdlLT5ucl92YWxpZGF0ZWRfcHRlcyA9IGk7
CkBAIC0xODc4LDcgKzE4NzgsNyBAQCBzdGF0aWMgaW50IGFsbG9jX2w0X3RhYmxlKHN0cnVjdCBw
YWdlX2luZm8gKnBhZ2UpCiAgICAgcmV0dXJuIHJjOwogfQogCi1zdGF0aWMgdm9pZCBmcmVlX2wx
X3RhYmxlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UpCitzdGF0aWMgdm9pZCBkZXZhbGlkYXRlX2wx
X3RhYmxlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UpCiB7CiAgICAgc3RydWN0IGRvbWFpbiAqZCA9
IHBhZ2VfZ2V0X293bmVyKHBhZ2UpOwogICAgIGwxX3BnZW50cnlfdCAqcGwxZTsKQEAgLTE4OTMs
NyArMTg5Myw3IEBAIHN0YXRpYyB2b2lkIGZyZWVfbDFfdGFibGUoc3RydWN0IHBhZ2VfaW5mbyAq
cGFnZSkKIH0KIAogCi1zdGF0aWMgaW50IGZyZWVfbDJfdGFibGUoc3RydWN0IHBhZ2VfaW5mbyAq
cGFnZSkKK3N0YXRpYyBpbnQgZGV2YWxpZGF0ZV9sMl90YWJsZShzdHJ1Y3QgcGFnZV9pbmZvICpw
YWdlKQogewogICAgIHN0cnVjdCBkb21haW4gKmQgPSBwYWdlX2dldF9vd25lcihwYWdlKTsKICAg
ICB1bnNpZ25lZCBsb25nIGwybWZuID0gbWZuX3gocGFnZV90b19tZm4ocGFnZSkpOwpAQCAtMTk0
NSw3ICsxOTQ1LDcgQEAgc3RhdGljIGludCBmcmVlX2wyX3RhYmxlKHN0cnVjdCBwYWdlX2luZm8g
KnBhZ2UpCiAgICAgcmV0dXJuIHJjOwogfQogCi1zdGF0aWMgaW50IGZyZWVfbDNfdGFibGUoc3Ry
dWN0IHBhZ2VfaW5mbyAqcGFnZSkKK3N0YXRpYyBpbnQgZGV2YWxpZGF0ZV9sM190YWJsZShzdHJ1
Y3QgcGFnZV9pbmZvICpwYWdlKQogewogICAgIHN0cnVjdCBkb21haW4gKmQgPSBwYWdlX2dldF9v
d25lcihwYWdlKTsKICAgICB1bnNpZ25lZCBsb25nIGwzbWZuID0gbWZuX3gocGFnZV90b19tZm4o
cGFnZSkpOwpAQCAtMTk5Miw3ICsxOTkyLDcgQEAgc3RhdGljIGludCBmcmVlX2wzX3RhYmxlKHN0
cnVjdCBwYWdlX2luZm8gKnBhZ2UpCiAgICAgcmV0dXJuIHJjID4gMCA/IDAgOiByYzsKIH0KIAot
c3RhdGljIGludCBmcmVlX2w0X3RhYmxlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UpCitzdGF0aWMg
aW50IGRldmFsaWRhdGVfbDRfdGFibGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFnZSkKIHsKICAgICBz
dHJ1Y3QgZG9tYWluICpkID0gcGFnZV9nZXRfb3duZXIocGFnZSk7CiAgICAgdW5zaWduZWQgbG9u
ZyBsNG1mbiA9IG1mbl94KHBhZ2VfdG9fbWZuKHBhZ2UpKTsKQEAgLTI1OTIsNyArMjU5Miw3IEBA
IHN0YXRpYyB2b2lkIGdldF9wYWdlX2xpZ2h0KHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UpCiAgICAg
d2hpbGUgKCB1bmxpa2VseSh5ICE9IHgpICk7CiB9CiAKLXN0YXRpYyBpbnQgYWxsb2NfcGFnZV90
eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlwZSwKK3N0YXRpYyBp
bnQgdmFsaWRhdGVfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxv
bmcgdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBwcmVlbXB0aWJsZSkKIHsK
ICNpZmRlZiBDT05GSUdfUFYKQEAgLTI2MDYsMjUgKzI2MDYsMjUgQEAgc3RhdGljIGludCBhbGxv
Y19wYWdlX3R5cGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFnZSwgdW5zaWduZWQgbG9uZyB0eXBlLAog
ICAgIHN3aXRjaCAoIHR5cGUgJiBQR1RfdHlwZV9tYXNrICkKICAgICB7CiAgICAgY2FzZSBQR1Rf
bDFfcGFnZV90YWJsZToKLSAgICAgICAgcmMgPSBhbGxvY19sMV90YWJsZShwYWdlKTsKKyAgICAg
ICAgcmMgPSB2YWxpZGF0ZV9sMV90YWJsZShwYWdlKTsKICAgICAgICAgYnJlYWs7CiAgICAgY2Fz
ZSBQR1RfbDJfcGFnZV90YWJsZToKICAgICAgICAgQVNTRVJUKHByZWVtcHRpYmxlKTsKLSAgICAg
ICAgcmMgPSBhbGxvY19sMl90YWJsZShwYWdlLCB0eXBlKTsKKyAgICAgICAgcmMgPSB2YWxpZGF0
ZV9sMl90YWJsZShwYWdlLCB0eXBlKTsKICAgICAgICAgYnJlYWs7CiAgICAgY2FzZSBQR1RfbDNf
cGFnZV90YWJsZToKICAgICAgICAgQVNTRVJUKHByZWVtcHRpYmxlKTsKLSAgICAgICAgcmMgPSBh
bGxvY19sM190YWJsZShwYWdlKTsKKyAgICAgICAgcmMgPSB2YWxpZGF0ZV9sM190YWJsZShwYWdl
KTsKICAgICAgICAgYnJlYWs7CiAgICAgY2FzZSBQR1RfbDRfcGFnZV90YWJsZToKICAgICAgICAg
QVNTRVJUKHByZWVtcHRpYmxlKTsKLSAgICAgICAgcmMgPSBhbGxvY19sNF90YWJsZShwYWdlKTsK
KyAgICAgICAgcmMgPSB2YWxpZGF0ZV9sNF90YWJsZShwYWdlKTsKICAgICAgICAgYnJlYWs7CiAg
ICAgY2FzZSBQR1Rfc2VnX2Rlc2NfcGFnZToKICAgICAgICAgcmMgPSBhbGxvY19zZWdkZXNjX3Bh
Z2UocGFnZSk7CiAgICAgICAgIGJyZWFrOwogICAgIGRlZmF1bHQ6Ci0gICAgICAgIHByaW50aygi
QmFkIHR5cGUgaW4gYWxsb2NfcGFnZV90eXBlICVseCB0PSUiIFBSdHlwZV9pbmZvICIgYz0lbHhc
biIsCisgICAgICAgIHByaW50aygiQmFkIHR5cGUgaW4gdmFsaWRhdGVfcGFnZV90eXBlICVseCB0
PSUiIFBSdHlwZV9pbmZvICIgYz0lbHhcbiIsCiAgICAgICAgICAgICAgICB0eXBlLCBwYWdlLT51
LmludXNlLnR5cGVfaW5mbywKICAgICAgICAgICAgICAgIHBhZ2UtPmNvdW50X2luZm8pOwogICAg
ICAgICByYyA9IC1FSU5WQUw7CkBAIC0yNjcyLDcgKzI2NzIsNyBAQCBzdGF0aWMgaW50IGFsbG9j
X3BhZ2VfdHlwZShzdHJ1Y3QgcGFnZV9pbmZvICpwYWdlLCB1bnNpZ25lZCBsb25nIHR5cGUsCiB9
CiAKIAotaW50IGZyZWVfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVk
IGxvbmcgdHlwZSwKK2ludCBkZXZhbGlkYXRlX3BhZ2VfdHlwZShzdHJ1Y3QgcGFnZV9pbmZvICpw
YWdlLCB1bnNpZ25lZCBsb25nIHR5cGUsCiAgICAgICAgICAgICAgICAgICAgaW50IHByZWVtcHRp
YmxlKQogewogI2lmZGVmIENPTkZJR19QVgpAQCAtMjcwMCwyMCArMjcwMCwyMCBAQCBpbnQgZnJl
ZV9wYWdlX3R5cGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFnZSwgdW5zaWduZWQgbG9uZyB0eXBlLAog
ICAgIHN3aXRjaCAoIHR5cGUgJiBQR1RfdHlwZV9tYXNrICkKICAgICB7CiAgICAgY2FzZSBQR1Rf
bDFfcGFnZV90YWJsZToKLSAgICAgICAgZnJlZV9sMV90YWJsZShwYWdlKTsKKyAgICAgICAgZGV2
YWxpZGF0ZV9sMV90YWJsZShwYWdlKTsKICAgICAgICAgcmMgPSAwOwogICAgICAgICBicmVhazsK
ICAgICBjYXNlIFBHVF9sMl9wYWdlX3RhYmxlOgogICAgICAgICBBU1NFUlQocHJlZW1wdGlibGUp
OwotICAgICAgICByYyA9IGZyZWVfbDJfdGFibGUocGFnZSk7CisgICAgICAgIHJjID0gZGV2YWxp
ZGF0ZV9sMl90YWJsZShwYWdlKTsKICAgICAgICAgYnJlYWs7CiAgICAgY2FzZSBQR1RfbDNfcGFn
ZV90YWJsZToKICAgICAgICAgQVNTRVJUKHByZWVtcHRpYmxlKTsKLSAgICAgICAgcmMgPSBmcmVl
X2wzX3RhYmxlKHBhZ2UpOworICAgICAgICByYyA9IGRldmFsaWRhdGVfbDNfdGFibGUocGFnZSk7
CiAgICAgICAgIGJyZWFrOwogICAgIGNhc2UgUEdUX2w0X3BhZ2VfdGFibGU6CiAgICAgICAgIEFT
U0VSVChwcmVlbXB0aWJsZSk7Ci0gICAgICAgIHJjID0gZnJlZV9sNF90YWJsZShwYWdlKTsKKyAg
ICAgICAgcmMgPSBkZXZhbGlkYXRlX2w0X3RhYmxlKHBhZ2UpOwogICAgICAgICBicmVhazsKICAg
ICBkZWZhdWx0OgogICAgICAgICBnZHByaW50ayhYRU5MT0dfV0FSTklORywgInR5cGUgJSIgUFJ0
eXBlX2luZm8gIiBtZm4gJSIgUFJJX21mbiAiXG4iLApAQCAtMjczMyw3ICsyNzMzLDcgQEAgaW50
IGZyZWVfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlw
ZSwKIHN0YXRpYyBpbnQgX3B1dF9maW5hbF9wYWdlX3R5cGUoc3RydWN0IHBhZ2VfaW5mbyAqcGFn
ZSwgdW5zaWduZWQgbG9uZyB0eXBlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBi
b29sIHByZWVtcHRpYmxlLCBzdHJ1Y3QgcGFnZV9pbmZvICpwdHBnKQogewotICAgIGludCByYyA9
IGZyZWVfcGFnZV90eXBlKHBhZ2UsIHR5cGUsIHByZWVtcHRpYmxlKTsKKyAgICBpbnQgcmMgPSBk
ZXZhbGlkYXRlX3BhZ2VfdHlwZShwYWdlLCB0eXBlLCBwcmVlbXB0aWJsZSk7CiAKICAgICBpZiAo
IHB0cGcgJiYgUEdUX3R5cGVfZXF1YWwodHlwZSwgcHRwZy0+dS5pbnVzZS50eXBlX2luZm8pICYm
CiAgICAgICAgICAodHlwZSAmIFBHVF92YWxpZGF0ZWQpICYmIHJjICE9IC1FSU5UUiApCkBAIC0z
MDE2LDcgKzMwMTYsNyBAQCBzdGF0aWMgaW50IF9nZXRfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2lu
Zm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlwZSwKICAgICAgICAgICAgIHBhZ2UtPnBhcnRpYWxf
ZmxhZ3MgPSAwOwogICAgICAgICB9CiAgICAgICAgIHBhZ2UtPmxpbmVhcl9wdF9jb3VudCA9IDA7
Ci0gICAgICAgIHJjID0gYWxsb2NfcGFnZV90eXBlKHBhZ2UsIHR5cGUsIHByZWVtcHRpYmxlKTsK
KyAgICAgICAgcmMgPSB2YWxpZGF0ZV9wYWdlX3R5cGUocGFnZSwgdHlwZSwgcHJlZW1wdGlibGUp
OwogICAgIH0KIAogIG91dDoKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvbW0uaCBi
L3hlbi9pbmNsdWRlL2FzbS14ODYvbW0uaAppbmRleCAzMjBjNmNkMTk2Li5hODM3ZjY5NTQ4IDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L21tLmgKKysrIGIveGVuL2luY2x1ZGUvYXNt
LXg4Ni9tbS5oCkBAIC0zNTUsOCArMzU1LDggQEAgc3RhdGljIGlubGluZSB2b2lkICpfX3BhZ2Vf
dG9fdmlydChjb25zdCBzdHJ1Y3QgcGFnZV9pbmZvICpwZykKICAgICAgICAgICAgICAgICAgICAg
KFBBR0VfU0laRSAvIChzaXplb2YoKnBnKSAmIC1zaXplb2YoKnBnKSkpKTsKIH0KIAotaW50IGZy
ZWVfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlwZSwK
LSAgICAgICAgICAgICAgICAgICBpbnQgcHJlZW1wdGlibGUpOworaW50IGRldmFsaWRhdGVfcGFn
ZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxvbmcgdHlwZSwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICBpbnQgcHJlZW1wdGlibGUpOwogCiB2b2lkIGluaXRfeGVuX3Bh
ZV9sMl9zbG90cyhsMl9wZ2VudHJ5X3QgKmwydCwgY29uc3Qgc3RydWN0IGRvbWFpbiAqZCk7CiB2
b2lkIGluaXRfeGVuX2w0X3Nsb3RzKGw0X3BnZW50cnlfdCAqbDR0LCBtZm5fdCBsNG1mbiwKLS0g
CjIuMjQuMAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Clhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0
dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3C22D5FB206
	for <lists+xen-devel@lfdr.de>; Tue, 11 Oct 2022 14:07:14 +0200 (CEST)
Received: from list by lists.xenproject.org with outflank-mailman.419736.664643 (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1oiE1s-0005s2-OZ; Tue, 11 Oct 2022 12:06:36 +0000
X-Outflank-Mailman: Message body and most headers restored to incoming version
Received: by outflank-mailman (output) from mailman id 419736.664643; Tue, 11 Oct 2022 12:06:36 +0000
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.92)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1oiE1s-0005pa-IE; Tue, 11 Oct 2022 12:06:36 +0000
Received: by outflank-mailman (input) for mailman id 419736;
 Tue, 11 Oct 2022 12:06:34 +0000
Received: from se1-gles-sth1-in.inumbo.com ([159.253.27.254]
 helo=se1-gles-sth1.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.92) (envelope-from
 <SRS0=4MZe=2M=xenbits.xen.org=julieng@srs-se1.protection.inumbo.net>)
 id 1oiE1p-0004Vk-Ax
 for xen-devel@lists.xen.org; Tue, 11 Oct 2022 12:06:34 +0000
Received: from mail.xenproject.org (mail.xenproject.org [104.130.215.37])
 by se1-gles-sth1.inumbo.com (Halon) with ESMTPS
 id 243dd65b-495d-11ed-91b4-6bf2151ebd3b;
 Tue, 11 Oct 2022 14:06:31 +0200 (CEST)
Received: from xenbits.xenproject.org ([104.239.192.120])
 by mail.xenproject.org with esmtp (Exim 4.92)
 (envelope-from <julieng@xenbits.xen.org>)
 id 1oiE1a-0000lU-1p; Tue, 11 Oct 2022 12:06:18 +0000
Received: from julieng by xenbits.xenproject.org with local (Exim 4.92)
 (envelope-from <julieng@xenbits.xen.org>)
 id 1oiE1a-00035H-0H; Tue, 11 Oct 2022 12:06:18 +0000
X-BeenThere: xen-devel@lists.xenproject.org
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Errors-To: xen-devel-bounces@lists.xenproject.org
Precedence: list
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>
X-Inumbo-ID: 243dd65b-495d-11ed-91b4-6bf2151ebd3b
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=xen.org;
	s=20200302mail; h=Date:Message-Id:Subject:CC:From:To:MIME-Version:
	Content-Transfer-Encoding:Content-Type;
	bh=u9s7KbjDl2ik+N56tmQDc+Q2GInY2Vgmmhj4qbHHE9I=; b=6pvESZUSUHuzaKBgJKyAySRGMz
	gpG5ulDavxahl4H9ghuXd/h51JMyYTUkz/vhO7+8jjXu+ydQF2N6cIgqk4dzX7zoCjcuM2+GOgRAc
	6SAML5ZTusz1wyibFXr257bDhIH4F7mVw67r4oXHz93svwFvs+yp3RTQYRCrwnNyNmvk=;
Content-Type: multipart/mixed; boundary="=separator"; charset="utf-8"
Content-Transfer-Encoding: binary
MIME-Version: 1.0
X-Mailer: MIME-tools 5.509 (Entity 5.509)
To: xen-announce@lists.xen.org, xen-devel@lists.xen.org,
 xen-users@lists.xen.org, oss-security@lists.openwall.com
From: Xen.org security team <security@xen.org>
CC: Xen.org security team <security-team-members@xen.org>
Subject: Xen Security Advisory 409 v3 (CVE-2022-33747) - Arm: unbounded
 memory consumption for 2nd-level page tables
Message-Id: <E1oiE1a-00035H-0H@xenbits.xenproject.org>
Date: Tue, 11 Oct 2022 12:06:18 +0000

--=separator
Content-Type: text/plain; charset="utf-8"
Content-Disposition: inline
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

            Xen Security Advisory CVE-2022-33747 / XSA-409
                               version 3

      Arm: unbounded memory consumption for 2nd-level page tables

UPDATES IN VERSION 3
====================

Public release.

ISSUE DESCRIPTION
=================

Certain actions require e.g. removing pages from a guest's P2M
(Physical-to-Machine) mapping.  When large pages are in use to map guest
pages in the 2nd-stage page tables, such a removal operation may incur a
memory allocation (to replace a large mapping with individual smaller
ones).

These memory allocations are taken from the global memory pool. A
malicious guest might be able to cause the global memory pool to be
exhausted by manipulating its own P2M mappings.

IMPACT
======

A malicious guest could cause a Denial of Service, preventing any system
operation requiring further allocation of Xen memory, including creating
new guests.  NB however that memory exhaustion by itself shouldnâ€™t cause
either Xen or properly-written guests to crash.

VULNERABLE SYSTEMS
==================

All versions of Xen are affected.

Only Arm systems are vulnerable.  x86 systems are not vulnerable.

MITIGATION
==========

There is no known mitigation.

RESOLUTION
==========

Applying the appropriate set of attached patches resolves this issue.

Note that patches for released versions are generally prepared to
apply to the stable branches, and may not apply cleanly to the most
recent release tarball.  Downstreams are encouraged to update to the
tip of the stable branch before applying these patches.

Note further that the patches for this XSA depend on the patches for
XSA-410.

xsa409/*.patch           xen-unstable
xsa409-4.16/*.patch      Xen 4.16.x
xsa409-4.15/*.patch      Xen 4.15.x
xsa409-4.14/*.patch      Xen 4.14.x
xsa409-4.13/*.patch      Xen 4.13.x

$ sha256sum xsa409* xsa409*/*
a211afb31199a8edf189928f5285b6a58ce35aac991ae3f708b07274ad5f1082  xsa409.meta
96cc260fbf3c2bedd17d61080ba536791f1116cd7dcc6a172dbcccc452e66974  xsa409-4.13/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch
f94376d12757312175e19b6c51c56bcb3e21055f729440eb9112bee9fc44cd65  xsa409-4.13/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch
b52ca6538a0525dc1638391ee032a7aedced31cc3bcdc8efea02d975813fa251  xsa409-4.13/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch
5a59740c398804950ce99102ae2741d5d539313e4a24d0727926d2b4965f148e  xsa409-4.13/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch
b7c3438a4c6a4957b0e9b911419638c8719550c91db4587660a6d498a73747ae  xsa409-4.14/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch
5a01d80c7157feeeb3374c221d306bd98a134a99597ebfdeee5d62df47e60f27  xsa409-4.14/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch
d9b4385c1d55f9c758a108368ef5fbfc86ab2ff532314f88245cc1fce4f95ea2  xsa409-4.14/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch
96456aea63d6471888b5364330e69c15ffd2ed055200cd286fb59cab379c3905  xsa409-4.14/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch
4c31fd8b3f346e6e9834c33e61037d122b802a83dceec168ed5e699566ca01e2  xsa409-4.15/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch
4b9b1ba9c5c7a644268500906b628664ea0630777653f86e62faf85d9e004b8c  xsa409-4.15/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch
04a097e055e7faf9163e1e7105bfb3a78782fa6e9c3025597725a198d85d9887  xsa409-4.15/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch
9b59622a9c00d75fe3f57b20d286e91df3589855d55e0bad83c64145002c3bc7  xsa409-4.15/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch
2ce57902cff4ad61432b61bf8a10dcc699b88b6b9a02c6e7c51c720b276ec39d  xsa409-4.16/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch
18ad838d9c4a6da8890d5d6b3165000e21d8db022bc743989dfda6cc43a7686c  xsa409-4.16/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch
201bf6c15d0380f4588a12f33bff90f05fe3c8da75dcb0801063216bedcc00c7  xsa409-4.16/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch
f8cea9b75636e73ffffb88b18d80f60ab9ca47856232f1cff787d5d0a1742106  xsa409-4.16/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch
62be1c9896e1a0563abbe515bd50e117147a274b3bae0ce062d1e86cdd535b61  xsa409/0001-libxl-docs-Add-per-arch-extra-default-paging-memory.patch
6bcd3cdd9eb998f5714b1c44d3cf1aaa3b1f3615ef8ccb530cf804638b18c9e3  xsa409/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch
b4740035de11fc0b4b7bcb281b288b1972ef3b97649ff3e61072384aeddf864b  xsa409/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch
ac7af4fea2fa84384fd65308ee8cb50470515a96d2160e467867c8bb766b580a  xsa409/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch
$

DEPLOYMENT DURING EMBARGO
=========================

Deployment of the patches and/or mitigations described above (or
others which are substantially similar) is permitted during the
embargo, even on public-facing systems with untrusted guest users and
administrators.

But: Distribution of updated software is prohibited (except to other
members of the predisclosure list).

Predisclosure list members who wish to deploy significantly different
patches and/or mitigations, please contact the Xen Project Security
Team.

(Note: this during-embargo deployment notice is retained in
post-embargo publicly released Xen Project advisories, even though it
is then no longer applicable.  This is to enable the community to have
oversight of the Xen Project Security Team's decisionmaking.)

For more information about permissible uses of embargoed information,
consult the Xen Project community's agreed Security Policy:
  http://www.xenproject.org/security-policy.html
-----BEGIN PGP SIGNATURE-----

iQFABAEBCAAqFiEEI+MiLBRfRHX6gGCng/4UyVfoK9kFAmNFS/cMHHBncEB4ZW4u
b3JnAAoJEIP+FMlX6CvZKqsIAMobhnQXNUKRUiS1TFrV5NhbUdx0r0PHX3alf3r0
ZUk3mQyq3lKK6MkXB0bpkgq95fv6dw9SIriPRZdivVBK7Yb2VBImdZ/YyXoU5JWN
3EPO8Svxzm8WCntk9smjwNix2SByWSVjQfROjrrgihWLbX4n0IQkOLFlvVgllJmK
ETc0q3bMKEODH7+kkmrTmT+nomlHbuq7HHAZk0jyw/hVs1JdRMN9TXBBdLjLOYFe
/hsDiLWwK51L7ehPZB4d/+rLQYo27chGwNGQwDDXXiWWhMmXJJCO3MhrB4NEt0JE
P4DAkmh2OXh6QyuZPTH48ADbAdL7ecq2atrM6HD2oulwFCI=
=/zM/
-----END PGP SIGNATURE-----

--=separator
Content-Type: application/octet-stream; name="xsa409.meta"
Content-Disposition: attachment; filename="xsa409.meta"
Content-Transfer-Encoding: base64

ewogICJYU0EiOiA0MDksCiAgIlN1cHBvcnRlZFZlcnNpb25zIjogWwogICAg
Im1hc3RlciIsCiAgICAiNC4xNiIsCiAgICAiNC4xNSIsCiAgICAiNC4xNCIs
CiAgICAiNC4xMyIKICBdLAogICJUcmVlcyI6IFsKICAgICJ4ZW4iCiAgXSwK
ICAiUmVjaXBlcyI6IHsKICAgICI0LjEzIjogewogICAgICAiUmVjaXBlcyI6
IHsKICAgICAgICAieGVuIjogewogICAgICAgICAgIlN0YWJsZVJlZiI6ICJk
OGE2OTMwMTk4NDVjYWE0ZTIxNmJjYWMxMGY5NTAxYTgxNGM5OWFlIiwKICAg
ICAgICAgICJQcmVyZXFzIjogWwogICAgICAgICAgICA0MTAKICAgICAgICAg
IF0sCiAgICAgICAgICAiUGF0Y2hlcyI6IFsKICAgICAgICAgICAgInhzYTQw
OS00LjEzLyoucGF0Y2giCiAgICAgICAgICBdCiAgICAgICAgfQogICAgICB9
CiAgICB9LAogICAgIjQuMTQiOiB7CiAgICAgICJSZWNpcGVzIjogewogICAg
ICAgICJ4ZW4iOiB7CiAgICAgICAgICAiU3RhYmxlUmVmIjogIjI2MWI4ODJm
NzcwNDUxNWEwMWY3NDU4OWY1N2YwYzEzMDNlM2I3MDEiLAogICAgICAgICAg
IlByZXJlcXMiOiBbCiAgICAgICAgICAgIDQxMAogICAgICAgICAgXSwKICAg
ICAgICAgICJQYXRjaGVzIjogWwogICAgICAgICAgICAieHNhNDA5LTQuMTQv
Ki5wYXRjaCIKICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0KICAgIH0s
CiAgICAiNC4xNSI6IHsKICAgICAgIlJlY2lwZXMiOiB7CiAgICAgICAgInhl
biI6IHsKICAgICAgICAgICJTdGFibGVSZWYiOiAiZGYzMzk1ZjZiMmQ3NTlh
YmEzOWZiNjdhN2JjMGZlNDkxNDdjOGIzOSIsCiAgICAgICAgICAiUHJlcmVx
cyI6IFsKICAgICAgICAgICAgNDEwCiAgICAgICAgICBdLAogICAgICAgICAg
IlBhdGNoZXMiOiBbCiAgICAgICAgICAgICJ4c2E0MDktNC4xNS8qLnBhdGNo
IgogICAgICAgICAgXQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICI0
LjE2IjogewogICAgICAiUmVjaXBlcyI6IHsKICAgICAgICAieGVuIjogewog
ICAgICAgICAgIlN0YWJsZVJlZiI6ICI4OWZlNmQwZWRlYTg0MWQxZDI2OTBj
ZjNmNTE3M2UzMzRjNjg3ODIzIiwKICAgICAgICAgICJQcmVyZXFzIjogWwog
ICAgICAgICAgICA0MTAKICAgICAgICAgIF0sCiAgICAgICAgICAiUGF0Y2hl
cyI6IFsKICAgICAgICAgICAgInhzYTQwOS00LjE2LyoucGF0Y2giCiAgICAg
ICAgICBdCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgIm1hc3RlciI6
IHsKICAgICAgIlJlY2lwZXMiOiB7CiAgICAgICAgInhlbiI6IHsKICAgICAg
ICAgICJTdGFibGVSZWYiOiAiMDFjYTI5ZjBiMTdhNTBhOTRiMGUyMzJiYTI3
NmMzMmU5NWQ4MGFlMyIsCiAgICAgICAgICAiUHJlcmVxcyI6IFsKICAgICAg
ICAgICAgNDEwCiAgICAgICAgICBdLAogICAgICAgICAgIlBhdGNoZXMiOiBb
CiAgICAgICAgICAgICJ4c2E0MDkvKi5wYXRjaCIKICAgICAgICAgIF0KICAg
ICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0=

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.13/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Disposition: attachment;
 filename="xsa409-4.13/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Transfer-Encoding: base64

RnJvbSAyZDU1YWNlYzQ5YjY3MTRmZDdjZTQyYmQ4MjU1MjQ1NDE2MTNiOThm
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IFR1ZSwgOSBBdWcgMjAyMiAwNjoz
OToyMyArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMS80XSBsaWJ4bCwgZG9jczog
VXNlIGFyY2gtc3BlY2lmaWMgZGVmYXVsdCBwYWdpbmcgbWVtb3J5CgpUaGUg
ZGVmYXVsdCBwYWdpbmcgbWVtb3J5IChkZXNjaWJlZCBpbiBgc2hhZG93X21l
bW9yeWAgZW50cnkgaW4geGwKY29uZmlnKSBpbiBsaWJ4bCBpcyB1c2VkIHRv
IGRldGVybWluZSB0aGUgbWVtb3J5IHBvb2wgc2l6ZSBmb3IgeGwKZ3Vlc3Rz
LiBDdXJyZW50bHkgdGhpcyBzaXplIGlzIG9ubHkgdXNlZCBmb3IgeDg2LCBh
bmQgY29udGFpbnMgYSBwYXJ0Cm9mIFJBTSB0byBzaGFkb3cgdGhlIHJlc2lk
ZW50IHByb2Nlc3Nlcy4gU2luY2Ugb24gQXJtIHRoZXJlIGlzIG5vCnNoYWRv
dyBtb2RlIGd1ZXN0cywgc28gdGhlIHBhcnQgb2YgUkFNIHRvIHNoYWRvdyB0
aGUgcmVzaWRlbnQgcHJvY2Vzc2VzCmlzIG5vdCBuZWNlc3NhcnkuIFRoZXJl
Zm9yZSwgdGhpcyBjb21taXQgc3BsaXRzIHRoZSBmdW5jdGlvbgpgbGlieGxf
Z2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgdG8gYXJjaCBzcGVjaWZp
YyBoZWxwZXJzIGFuZApyZW5hbWVkIHRoZSBoZWxwZXIgdG8gYGxpYnhsX19h
cmNoX2dldF9yZXF1aXJlZF9wYWdpbmdfbWVtb3J5KClgLgoKT24geDg2LCB0
aGlzIGhlbHBlciBjYWxscyB0aGUgb3JpZ2luYWwgdmFsdWUgZnJvbQpgbGli
eGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgc28gbm8gZnVuY3Rp
b25hbCBjaGFuZ2UgaW50ZW5kZWQuCgpPbiBBcm0sIHRoaXMgaGVscGVyIHJl
dHVybnMgMU1CIHBlciB2Y3B1IHBsdXMgNEtCIHBlciBNaUIgb2YgUkFNCmZv
ciB0aGUgUDJNIG1hcC4KCkFsc28gdXBkYXRlIHRoZSB4bC5jZmcgZG9jdW1l
bnRhdGlvbiB0byBhZGQgQXJtIGRvY3VtZW50YXRpb24KYWNjb3JkaW5nIHRv
IGNvZGUgY2hhbmdlcyBhbmQgY29ycmVjdCB0aGUgY29tbWVudCBzdHlsZSBm
b2xsb3dpbmcgWGVuCmNvZGluZyBzdHlsZS4KClRoaXMgaXMgcGFydCBvZiBD
VkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTdWdnZXN0ZWQtYnk6IEp1bGll
biBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClNpZ25lZC1vZmYtYnk6IEhl
bnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQtYnk6IEFu
dGhvbnkgUEVSQVJEIDxhbnRob255LnBlcmFyZEBjaXRyaXguY29tPgotLS0K
IGRvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiAgfCAgNSArKysrKwogdG9vbHMv
bGlieGwvbGlieGxfYXJjaC5oICB8ICA0ICsrKysKIHRvb2xzL2xpYnhsL2xp
YnhsX2FybS5jICAgfCAxMiArKysrKysrKysrKysKIHRvb2xzL2xpYnhsL2xp
YnhsX3V0aWxzLmMgfCAgOSArKy0tLS0tLS0KIHRvb2xzL2xpYnhsL2xpYnhs
X3g4Ni5jICAgfCAxMiArKysrKysrKysrKysKIDUgZmlsZXMgY2hhbmdlZCwg
MzUgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4gYi9kb2NzL21hbi94bC5jZmcu
NS5wb2QuaW4KaW5kZXggMjQ1ZDNmOTQ3MjhhLi4zYjI5N2M2YTk3ZjAgMTAw
NjQ0Ci0tLSBhL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgorKysgYi9kb2Nz
L21hbi94bC5jZmcuNS5wb2QuaW4KQEAgLTE3OTAsNiArMTc5MCwxMSBAQCBh
cmUgbm90IHVzaW5nIGhhcmR3YXJlIGFzc2lzdGVkIHBhZ2luZyAoaS5lLiB5
b3UgYXJlIHVzaW5nIHNoYWRvdwogbW9kZSkgYW5kIHlvdXIgZ3Vlc3Qgd29y
a2xvYWQgY29uc2lzdHMgb2YgYSB2ZXJ5IGxhcmdlIG51bWJlciBvZgogc2lt
aWxhciBwcm9jZXNzZXMgdGhlbiBpbmNyZWFzaW5nIHRoaXMgdmFsdWUgbWF5
IGltcHJvdmUgcGVyZm9ybWFuY2UuCiAKK09uIEFybSwgdGhpcyBmaWVsZCBp
cyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgZ3Vlc3QgUDJN
IHBhZ2VzCitwb29sLCBhbmQgdGhlIGRlZmF1bHQgdmFsdWUgaXMgMU1CIHBl
ciB2Q1BVIHBsdXMgNEtCIHBlciBNQiBvZiBSQU0gZm9yCit0aGUgUDJNIG1h
cC4gVXNlcnMgc2hvdWxkIGFkanVzdCB0aGlzIHZhbHVlIGlmIGJpZ2dlciBQ
Mk0gcG9vbCBzaXplIGlzCituZWVkZWQuCisKID1iYWNrCiAKID1oZWFkMyBQ
cm9jZXNzb3IgYW5kIFBsYXRmb3JtIEZlYXR1cmVzCmRpZmYgLS1naXQgYS90
b29scy9saWJ4bC9saWJ4bF9hcmNoLmggYi90b29scy9saWJ4bC9saWJ4bF9h
cmNoLmgKaW5kZXggNmE5MTc3NWI5ZTIwLi5iMDlmODY4NDkwYWMgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX2FyY2guaAorKysgYi90b29scy9s
aWJ4bC9saWJ4bF9hcmNoLmgKQEAgLTgzLDYgKzgzLDEwIEBAIGludCBsaWJ4
bF9fYXJjaF9leHRyYV9tZW1vcnkobGlieGxfX2djICpnYywKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlieGxfZG9tYWluX2J1aWxk
X2luZm8gKmluZm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQ2NF90ICpvdXQpOwogCitfaGlkZGVuCit1bnNpZ25lZCBsb25nIGxpYnhs
X19hcmNoX2dldF9yZXF1aXJlZF9wYWdpbmdfbWVtb3J5KHVuc2lnbmVkIGxv
bmcgbWF4bWVtX2tiLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgc21wX2NwdXMp
OworCiAjaWYgZGVmaW5lZChfX2kzODZfXykgfHwgZGVmaW5lZChfX3g4Nl82
NF9fKQogCiAjZGVmaW5lIExBUElDX0JBU0VfQUREUkVTUyAgMHhmZWUwMDAw
MApkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMgYi90b29s
cy9saWJ4bC9saWJ4bF9hcm0uYwppbmRleCAzNGY4YTI5MDU2ZGIuLmY0YjNk
YzhlNzEzOSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMK
KysrIGIvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMKQEAgLTE1Myw2ICsxNTMs
MTggQEAgb3V0OgogICAgIHJldHVybiByYzsKIH0KIAordW5zaWduZWQgbG9u
ZyBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNp
Z25lZCBsb25nIG1heG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNt
cF9jcHVzKQoreworICAgIC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBl
ciB2Y3B1LAorICAgICAqIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZv
ciB0aGUgUDJNIG1hcCwKKyAgICAgKiBUaGlzIGlzIGhpZ2hlciB0aGFuIHRo
ZSBtaW5pbXVtIHRoYXQgWGVuIHdvdWxkIGFsbG9jYXRlIGlmIG5vIHZhbHVl
CisgICAgICogd2VyZSBnaXZlbiAoYnV0IHRoZSBYZW4gbWluaW11bSBpcyBm
b3Igc2FmZXR5LCBub3QgcGVyZm9ybWFuY2UpLgorICAgICAqLworICAgIHJl
dHVybiA0ICogKDI1NiAqIHNtcF9jcHVzICsgbWF4bWVtX2tiIC8gMTAyNCk7
Cit9CisKIHN0YXRpYyBzdHJ1Y3QgYXJjaF9pbmZvIHsKICAgICBjb25zdCBj
aGFyICpndWVzdF90eXBlOwogICAgIGNvbnN0IGNoYXIgKnRpbWVyX2NvbXBh
dDsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX3V0aWxzLmMgYi90
b29scy9saWJ4bC9saWJ4bF91dGlscy5jCmluZGV4IGIwMzkxNDNiOGFlZi4u
ZTE4YjE1MjRlZjc4IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF91
dGlscy5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX3V0aWxzLmMKQEAgLTE4
LDYgKzE4LDcgQEAKICNpbmNsdWRlIDxjdHlwZS5oPgogCiAjaW5jbHVkZSAi
bGlieGxfaW50ZXJuYWwuaCIKKyNpbmNsdWRlICJsaWJ4bF9hcmNoLmgiCiAj
aW5jbHVkZSAiX3BhdGhzLmgiCiAKICNpZm5kZWYgTElCWExfSEFWRV9OT05D
T05TVF9MSUJYTF9CQVNFTkFNRV9SRVRVUk5fVkFMVUUKQEAgLTM5LDEzICs0
MCw3IEBAIGNoYXIgKmxpYnhsX2Jhc2VuYW1lKGNvbnN0IGNoYXIgKm5hbWUp
CiAKIHVuc2lnbmVkIGxvbmcgbGlieGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19t
ZW1vcnkodW5zaWduZWQgbG9uZyBtYXhtZW1fa2IsIHVuc2lnbmVkIGludCBz
bXBfY3B1cykKIHsKLSAgICAvKiAyNTYgcGFnZXMgKDFNQikgcGVyIHZjcHUs
Ci0gICAgICAgcGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQ
Mk0gbWFwLAotICAgICAgIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIHRv
IHNoYWRvdyB0aGUgcmVzaWRlbnQgcHJvY2Vzc2VzLgotICAgICAgIFRoaXMg
aXMgaGlnaGVyIHRoYW4gdGhlIG1pbmltdW0gdGhhdCBYZW4gd291bGQgYWxs
b2NhdGUgaWYgbm8gdmFsdWUKLSAgICAgICB3ZXJlIGdpdmVuIChidXQgdGhl
IFhlbiBtaW5pbXVtIGlzIGZvciBzYWZldHksIG5vdCBwZXJmb3JtYW5jZSku
Ci0gICAgICovCi0gICAgcmV0dXJuIDQgKiAoMjU2ICogc21wX2NwdXMgKyAy
ICogKG1heG1lbV9rYiAvIDEwMjQpKTsKKyAgICByZXR1cm4gbGlieGxfX2Fy
Y2hfZ2V0X3JlcXVpcmVkX3BhZ2luZ19tZW1vcnkobWF4bWVtX2tiLCBzbXBf
Y3B1cyk7CiB9CiAKIGNoYXIgKmxpYnhsX2RvbWlkX3RvX25hbWUobGlieGxf
Y3R4ICpjdHgsIHVpbnQzMl90IGRvbWlkKQpkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGwvbGlieGxfeDg2LmMgYi90b29scy9saWJ4bC9saWJ4bF94ODYuYwpp
bmRleCBmMzRjMGVkYzEwMjkuLjM0ODg3NmU1YzA1NyAxMDA2NDQKLS0tIGEv
dG9vbHMvbGlieGwvbGlieGxfeDg2LmMKKysrIGIvdG9vbHMvbGlieGwvbGli
eGxfeDg2LmMKQEAgLTY4MSw2ICs2ODEsMTggQEAgaW50IGxpYnhsX19hcmNo
X3Bhc3N0aHJvdWdoX21vZGVfc2V0ZGVmYXVsdChsaWJ4bF9fZ2MgKmdjLAog
ICAgIHJldHVybiByYzsKIH0KIAordW5zaWduZWQgbG9uZyBsaWJ4bF9fYXJj
aF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNpZ25lZCBsb25nIG1h
eG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNtcF9jcHVzKQorewor
ICAgIC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBlciB2Y3B1LAorICAg
ICAqIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZvciB0aGUgUDJNIG1h
cCwKKyAgICAgKiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9mIFJBTSB0byBzaGFk
b3cgdGhlIHJlc2lkZW50IHByb2Nlc3Nlcy4KKyAgICAgKiBUaGlzIGlzIGhp
Z2hlciB0aGFuIHRoZSBtaW5pbXVtIHRoYXQgWGVuIHdvdWxkIGFsbG9jYXRl
IGlmIG5vIHZhbHVlCisgICAgICogd2VyZSBnaXZlbiAoYnV0IHRoZSBYZW4g
bWluaW11bSBpcyBmb3Igc2FmZXR5LCBub3QgcGVyZm9ybWFuY2UpLgorICAg
ICAqLworICAgIHJldHVybiA0ICogKDI1NiAqIHNtcF9jcHVzICsgMiAqICht
YXhtZW1fa2IgLyAxMDI0KSk7Cit9CiAKIC8qCiAgKiBMb2NhbCB2YXJpYWJs
ZXM6Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.13/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Disposition: attachment;
 filename="xsa409-4.13/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Transfer-Encoding: base64

RnJvbSA4MjdmZDg0MzQ1YWM3YzgyZmRmOWQxNmViZDM0MTMzMzlhOTFiNjc4
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMi80XSB4ZW4vYXJtOiBDb25z
dHJ1Y3QgdGhlIFAyTSBwYWdlcyBwb29sIGZvciBndWVzdHMKClRoaXMgY29t
bWl0IGNvbnN0cnVjdHMgdGhlIHAybSBwYWdlcyBwb29sIGZvciBndWVzdHMg
ZnJvbSB0aGUKZGF0YSBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBwZXJzcGVjdGl2
ZS4KClRoaXMgaXMgaW1wbGVtZW50ZWQgYnk6CgotIEFkZGluZyBhIGBzdHJ1
Y3QgcGFnaW5nX2RvbWFpbmAgd2hpY2ggY29udGFpbnMgYSBmcmVlbGlzdCwg
YQpjb3VudGVyIHZhcmlhYmxlIGFuZCBhIHNwaW5sb2NrIHRvIGBzdHJ1Y3Qg
YXJjaF9kb21haW5gIHRvCmluZGljYXRlIHRoZSBmcmVlIHAybSBwYWdlcyBh
bmQgdGhlIG51bWJlciBvZiBwMm0gdG90YWwgcGFnZXMgaW4KdGhlIHAybSBw
YWdlcyBwb29sLgoKLSBBZGRpbmcgYSBoZWxwZXIgYHAybV9nZXRfYWxsb2Nh
dGlvbmAgdG8gZ2V0IHRoZSBwMm0gcG9vbCBzaXplLgoKLSBBZGRpbmcgYSBo
ZWxwZXIgYHAybV9zZXRfYWxsb2NhdGlvbmAgdG8gc2V0IHRoZSBwMm0gcGFn
ZXMgcG9vbApzaXplLiBUaGlzIGhlbHBlciBzaG91bGQgYmUgY2FsbGVkIGJl
Zm9yZSBhbGxvY2F0aW5nIG1lbW9yeSBmb3IKYSBndWVzdC4KCi0gQWRkaW5n
IGEgaGVscGVyIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAgdG8gZnJlZSB0
aGUgcDJtIHBhZ2VzCnBvb2wuIFRoaXMgaGVscGVyIHNob3VsZCBiZSBjYWxs
ZWQgZHVyaW5nIHRoZSB4bCBkb21haW4gZGVzdG9yeS4KClRoaXMgaXMgcGFy
dCBvZiBDVkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTaWduZWQtb2ZmLWJ5
OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFybS5jb20+ClJldmlld2VkLWJ5
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+
Ci0tLQogeGVuL2FyY2gvYXJtL3AybS5jICAgICAgICAgICB8IDg4ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogeGVuL2luY2x1ZGUv
YXNtLWFybS9kb21haW4uaCB8IDEwICsrKysKIHhlbi9pbmNsdWRlL2FzbS1h
cm0vcDJtLmggICAgfCAgNCArKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDIgaW5z
ZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9wMm0uYyBi
L3hlbi9hcmNoL2FybS9wMm0uYwppbmRleCA0MjYzODc4N2EyOTUuLjdkNmZl
Yzc4ODc5NSAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL3AybS5jCisrKyBi
L3hlbi9hcmNoL2FybS9wMm0uYwpAQCAtNTMsNiArNTMsOTIgQEAgc3RhdGlj
IHVpbnQ2NF90IGdlbmVyYXRlX3Z0dGJyKHVpbnQxNl90IHZtaWQsIG1mbl90
IHJvb3RfbWZuKQogICAgIHJldHVybiAobWZuX3RvX21hZGRyKHJvb3RfbWZu
KSB8ICgodWludDY0X3Qpdm1pZCA8PCA0OCkpOwogfQogCisvKiBSZXR1cm4g
dGhlIHNpemUgb2YgdGhlIHBvb2wsIHJvdW5kZWQgdXAgdG8gdGhlIG5lYXJl
c3QgTUIgKi8KK3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIG5yX3BhZ2Vz
ID0gQUNDRVNTX09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2Vz
KTsKKworICAgIHJldHVybiBST1VORFVQKG5yX3BhZ2VzLCAxIDw8ICgyMCAt
IFBBR0VfU0hJRlQpKSA+PiAoMjAgLSBQQUdFX1NISUZUKTsKK30KKworLyoK
KyAqIFNldCB0aGUgcG9vbCBvZiBwYWdlcyB0byB0aGUgcmVxdWlyZWQgbnVt
YmVyIG9mIHBhZ2VzLgorICogUmV0dXJucyAwIGZvciBzdWNjZXNzLCBub24t
emVybyBmb3IgZmFpbHVyZS4KKyAqIENhbGwgd2l0aCBkLT5hcmNoLnBhZ2lu
Zy5sb2NrIGhlbGQuCisgKi8KK2ludCBwMm1fc2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgbG9uZyBwYWdlcywgYm9vbCAqcHJl
ZW1wdGVkKQoreworICAgIHN0cnVjdCBwYWdlX2luZm8gKnBnOworCisgICAg
QVNTRVJUKHNwaW5faXNfbG9ja2VkKCZkLT5hcmNoLnBhZ2luZy5sb2NrKSk7
CisKKyAgICBmb3IgKCA7IDsgKQorICAgIHsKKyAgICAgICAgaWYgKCBkLT5h
cmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgPCBwYWdlcyApCisgICAgICAg
IHsKKyAgICAgICAgICAgIC8qIE5lZWQgdG8gYWxsb2NhdGUgbW9yZSBtZW1v
cnkgZnJvbSBkb21oZWFwICovCisgICAgICAgICAgICBwZyA9IGFsbG9jX2Rv
bWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICAgICAgICAgIGlmICggcGcgPT0g
TlVMTCApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgcHJpbnRr
KFhFTkxPR19FUlIgIkZhaWxlZCB0byBhbGxvY2F0ZSBQMk0gcGFnZXMuXG4i
KTsKKyAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKKyAgICAgICAg
ICAgIH0KKyAgICAgICAgICAgIEFDQ0VTU19PTkNFKGQtPmFyY2gucGFnaW5n
LnAybV90b3RhbF9wYWdlcykgPQorICAgICAgICAgICAgICAgIGQtPmFyY2gu
cGFnaW5nLnAybV90b3RhbF9wYWdlcyArIDE7CisgICAgICAgICAgICBwYWdl
X2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxp
c3QpOworICAgICAgICB9CisgICAgICAgIGVsc2UgaWYgKCBkLT5hcmNoLnBh
Z2luZy5wMm1fdG90YWxfcGFnZXMgPiBwYWdlcyApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIC8qIE5lZWQgdG8gcmV0dXJuIG1lbW9yeSB0byBkb21oZWFw
ICovCisgICAgICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgm
ZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgICAgIGlm
KCBwZyApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgQUNDRVNT
X09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2VzKSA9CisgICAg
ICAgICAgICAgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cyAtIDE7CisgICAgICAgICAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcp
OworICAgICAgICAgICAgfQorICAgICAgICAgICAgZWxzZQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSCisgICAg
ICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZnJlZSBQMk0gcGFnZXMs
IFAyTSBmcmVlbGlzdCBpcyBlbXB0eS5cbiIpOworICAgICAgICAgICAgICAg
IHJldHVybiAtRU5PTUVNOworICAgICAgICAgICAgfQorICAgICAgICB9Cisg
ICAgICAgIGVsc2UKKyAgICAgICAgICAgIGJyZWFrOworCisgICAgICAgIC8q
IENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHlpZWxkIGFuZCB0cnkgYWdh
aW4gKi8KKyAgICAgICAgaWYgKCBwcmVlbXB0ZWQgJiYgZ2VuZXJhbF9wcmVl
bXB0X2NoZWNrKCkgKQorICAgICAgICB7CisgICAgICAgICAgICAqcHJlZW1w
dGVkID0gdHJ1ZTsKKyAgICAgICAgICAgIHJldHVybiAtRVJFU1RBUlQ7Cisg
ICAgICAgIH0KKyAgICB9CisKKyAgICByZXR1cm4gMDsKK30KKworaW50IHAy
bV90ZWFyZG93bl9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQpCit7Cisg
ICAgaW50IHJldCA9IDA7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsK
KworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAg
aWYgKCBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgIT0gMCApCisg
ICAgeworICAgICAgICByZXQgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgMCwg
JnByZWVtcHRlZCk7CisgICAgICAgIGlmICggcHJlZW1wdGVkICkKKyAgICAg
ICAgeworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5n
LmxvY2spOworICAgICAgICAgICAgcmV0dXJuIC1FUkVTVEFSVDsKKyAgICAg
ICAgfQorICAgICAgICBBU1NFUlQoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFs
X3BhZ2VzID09IDApOworICAgIH0KKyAgICBzcGluX3VubG9jaygmZC0+YXJj
aC5wYWdpbmcubG9jayk7CisKKyAgICByZXR1cm4gcmV0OworfQorCiAvKiBV
bmxvY2sgdGhlIGZsdXNoIGFuZCBkbyBhIFAyTSBUTEIgZmx1c2ggaWYgbmVj
ZXNzYXJ5ICovCiB2b2lkIHAybV93cml0ZV91bmxvY2soc3RydWN0IHAybV9k
b21haW4gKnAybSkKIHsKQEAgLTE1NjcsNyArMTY1Myw5IEBAIGludCBwMm1f
aW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgIHVuc2lnbmVkIGludCBjcHU7
CiAKICAgICByd2xvY2tfaW5pdCgmcDJtLT5sb2NrKTsKKyAgICBzcGluX2xv
Y2tfaW5pdCgmZC0+YXJjaC5wYWdpbmcubG9jayk7CiAgICAgSU5JVF9QQUdF
X0xJU1RfSEVBRCgmcDJtLT5wYWdlcyk7CisgICAgSU5JVF9QQUdFX0xJU1Rf
SEVBRCgmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKIAogICAgIHAy
bS0+dm1pZCA9IElOVkFMSURfVk1JRDsKIApkaWZmIC0tZ2l0IGEveGVuL2lu
Y2x1ZGUvYXNtLWFybS9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKaW5kZXggOWI0NGE5NjQ4YzUwLi43YmMxNGMyZTllNDcgMTAw
NjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaApAQCAtNDIsNiArNDIsMTQg
QEAgc3RydWN0IHZ0aW1lciB7CiAgICAgICAgIHVpbnQ2NF90IGN2YWw7CiB9
OwogCitzdHJ1Y3QgcGFnaW5nX2RvbWFpbiB7CisgICAgc3BpbmxvY2tfdCBs
b2NrOworICAgIC8qIEZyZWUgUDJNIHBhZ2VzIGZyb20gdGhlIHByZS1hbGxv
Y2F0ZWQgUDJNIHBvb2wgKi8KKyAgICBzdHJ1Y3QgcGFnZV9saXN0X2hlYWQg
cDJtX2ZyZWVsaXN0OworICAgIC8qIE51bWJlciBvZiBwYWdlcyBmcm9tIHRo
ZSBwcmUtYWxsb2NhdGVkIFAyTSBwb29sICovCisgICAgdW5zaWduZWQgbG9u
ZyBwMm1fdG90YWxfcGFnZXM7Cit9OworCiBzdHJ1Y3QgYXJjaF9kb21haW4K
IHsKICNpZmRlZiBDT05GSUdfQVJNXzY0CkBAIC01Myw2ICs2MSw4IEBAIHN0
cnVjdCBhcmNoX2RvbWFpbgogCiAgICAgc3RydWN0IGh2bV9kb21haW4gaHZt
OwogCisgICAgc3RydWN0IHBhZ2luZ19kb21haW4gcGFnaW5nOworCiAgICAg
c3RydWN0IHZtbWlvIHZtbWlvOwogCiAgICAgLyogQ29udGludWFibGUgZG9t
YWluX3JlbGlucXVpc2hfcmVzb3VyY2VzKCkuICovCmRpZmYgLS1naXQgYS94
ZW4vaW5jbHVkZS9hc20tYXJtL3AybS5oIGIveGVuL2luY2x1ZGUvYXNtLWFy
bS9wMm0uaAppbmRleCAyMGRmNjIxMjcxMmUuLmIxYzliOTQ3YmI4ZiAxMDA2
NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9wMm0uaAorKysgYi94ZW4v
aW5jbHVkZS9hc20tYXJtL3AybS5oCkBAIC0xOTcsNiArMTk3LDEwIEBAIHZv
aWQgcDJtX3Jlc3RvcmVfc3RhdGUoc3RydWN0IHZjcHUgKm4pOwogLyogUHJp
bnQgZGVidWdnaW5nL3N0YXRpc3RpYWwgaW5mbyBhYm91dCBhIGRvbWFpbidz
IHAybSAqLwogdm9pZCBwMm1fZHVtcF9pbmZvKHN0cnVjdCBkb21haW4gKmQp
OwogCit1bnNpZ25lZCBpbnQgcDJtX2dldF9hbGxvY2F0aW9uKHN0cnVjdCBk
b21haW4gKmQpOworaW50IHAybV9zZXRfYWxsb2NhdGlvbihzdHJ1Y3QgZG9t
YWluICpkLCB1bnNpZ25lZCBsb25nIHBhZ2VzLCBib29sICpwcmVlbXB0ZWQp
OworaW50IHAybV90ZWFyZG93bl9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4g
KmQpOworCiBzdGF0aWMgaW5saW5lIHZvaWQgcDJtX3dyaXRlX2xvY2soc3Ry
dWN0IHAybV9kb21haW4gKnAybSkKIHsKICAgICB3cml0ZV9sb2NrKCZwMm0t
PmxvY2spOwotLSAKMi4zNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.13/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Disposition: attachment;
 filename="xsa409-4.13/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Transfer-Encoding: base64

RnJvbSAzZjNjZWMxMjc2M2NkNjEyZmNjMDBiODA5ZGE0YTdmMzU3ZTQxM2Ux
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOSArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMy80XSB4ZW4vYXJtLCBsaWJ4
bDogSW1wbGVtZW50IFhFTl9ET01DVExfc2hhZG93X29wIGZvciBBcm0KClRo
aXMgY29tbWl0IGltcGxlbWVudHMgdGhlIGBYRU5fRE9NQ1RMX3NoYWRvd19v
cGAgc3VwcG9ydCBpbiBYZW4KZm9yIEFybS4gVGhlIHAybSBwYWdlcyBwb29s
IHNpemUgZm9yIHhsIGd1ZXN0cyBpcyBzdXBwb3NlZCB0byBiZQpkZXRlcm1p
bmVkIGJ5IGBYRU5fRE9NQ1RMX3NoYWRvd19vcGAuIEhlbmNlLCB0aGlzIGNv
bW1pdDoKCi0gSW50cm9kdWNlcyBhIGZ1bmN0aW9uIGBwMm1fZG9tY3RsYCBh
bmQgaW1wbGVtZW50cyB0aGUgc3Vib3BzCmBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTmAgYW5kCmBYRU5fRE9NQ1RMX1NIQURPV19PUF9H
RVRfQUxMT0NBVElPTmAgb2YgYFhFTl9ET01DVExfc2hhZG93X29wYC4KCi0g
QWRkcyB0aGUgYFhFTl9ET01DVExfU0hBRE9XX09QX1NFVF9BTExPQ0FUSU9O
YCBzdXBwb3J0IGluIGxpYnhsLgoKVGhlcmVmb3JlIGVuYWJsaW5nIHRoZSBz
ZXR0aW5nIG9mIHNoYWRvdyBtZW1vcnkgcG9vbCBzaXplCndoZW4gY3JlYXRp
bmcgYSBndWVzdCBmcm9tIHhsIGFuZCBnZXR0aW5nIHNoYWRvdyBtZW1vcnkg
cG9vbCBzaXplCmZyb20gWGVuLgoKTm90ZSB0aGF0IHRoZSBgWEVOX0RPTUNU
TF9zaGFkb3dfb3BgIGFkZGVkIGluIHRoaXMgY29tbWl0IGlzIG9ubHkKYSBk
dW1teSBvcCwgYW5kIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNldHRpbmcvZ2V0
dGluZyBwMm0gbWVtb3J5IHBvb2wKc2l6ZSBmb3IgeGwgZ3Vlc3RzIHdpbGwg
YmUgYWRkZWQgaW4gZm9sbG93aW5nIGNvbW1pdHMuCgpUaGlzIGlzIHBhcnQg
b2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5LgoKU2lnbmVkLW9mZi1ieTog
SGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bhcm0uY29tPgpSZXZpZXdlZC1ieTog
U3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgot
LS0KIHRvb2xzL2xpYnhsL2xpYnhsX2FybS5jIHwgMTIgKysrKysrKysrKysr
CiB4ZW4vYXJjaC9hcm0vZG9tY3RsLmMgICB8IDMyICsrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCiAyIGZpbGVzIGNoYW5nZWQsIDQ0IGluc2Vy
dGlvbnMoKykKCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9hcm0u
YyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2FybS5jCmluZGV4IGY0YjNkYzhlNzEz
OS4uMDI1ZGYxYmZkMDA0IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4
bF9hcm0uYworKysgYi90b29scy9saWJ4bC9saWJ4bF9hcm0uYwpAQCAtMTMw
LDYgKzEzMCwxOCBAQCBpbnQgbGlieGxfX2FyY2hfZG9tYWluX3NhdmVfY29u
ZmlnKGxpYnhsX19nYyAqZ2MsCiBpbnQgbGlieGxfX2FyY2hfZG9tYWluX2Ny
ZWF0ZShsaWJ4bF9fZ2MgKmdjLCBsaWJ4bF9kb21haW5fY29uZmlnICpkX2Nv
bmZpZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90
IGRvbWlkKQogeworICAgIGxpYnhsX2N0eCAqY3R4ID0gbGlieGxfX2djX293
bmVyKGdjKTsKKyAgICB1bnNpZ25lZCBpbnQgc2hhZG93X21iID0gRElWX1JP
VU5EVVAoZF9jb25maWctPmJfaW5mby5zaGFkb3dfbWVta2IsIDEwMjQpOwor
CisgICAgaW50IHIgPSB4Y19zaGFkb3dfY29udHJvbChjdHgtPnhjaCwgZG9t
aWQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYRU5fRE9NQ1RM
X1NIQURPV19PUF9TRVRfQUxMT0NBVElPTiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICZzaGFkb3dfbWIsIDApOworICAgIGlmIChyKSB7Cisg
ICAgICAgIExPR0VEKEVSUk9SLCBkb21pZCwKKyAgICAgICAgICAgICAgIkZh
aWxlZCB0byBzZXQgJXUgTWlCIHNoYWRvdyBhbGxvY2F0aW9uIiwgc2hhZG93
X21iKTsKKyAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUw7CisgICAgfQorCiAg
ICAgcmV0dXJuIDA7CiB9CiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9k
b21jdGwuYyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwppbmRleCA5ZGE4OGI4
YzY0ZTIuLmVmMTI5OWFlMWM2NCAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJt
L2RvbWN0bC5jCisrKyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwpAQCAtNDUs
MTEgKzQ1LDQzIEBAIHN0YXRpYyBpbnQgaGFuZGxlX3Z1YXJ0X2luaXQoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICByZXR1cm4gcmM7CiB9CiAKK3N0YXRpYyBs
b25nIHAybV9kb21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9k
b21jdGxfc2hhZG93X29wICpzYywKKyAgICAgICAgICAgICAgICAgICAgICAg
WEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9tY3RsX3QpIHVfZG9tY3Rs
KQoreworICAgIGlmICggdW5saWtlbHkoZCA9PSBjdXJyZW50LT5kb21haW4p
ICkKKyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJUcmllZCB0
byBkbyBhIHAybSBkb21jdGwgb3Agb24gaXRzZWxmLlxuIik7CisgICAgICAg
IHJldHVybiAtRUlOVkFMOworICAgIH0KKworICAgIGlmICggdW5saWtlbHko
ZC0+aXNfZHlpbmcpICkKKyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0df
RVJSICJUcmllZCB0byBkbyBhIHAybSBkb21jdGwgb3Agb24gZHlpbmcgZG9t
YWluICV1XG4iLAorICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkKTsKKyAg
ICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQorCisgICAgc3dpdGNoICgg
c2MtPm9wICkKKyAgICB7CisgICAgY2FzZSBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTjoKKyAgICAgICAgcmV0dXJuIDA7CisgICAgY2Fz
ZSBYRU5fRE9NQ1RMX1NIQURPV19PUF9HRVRfQUxMT0NBVElPTjoKKyAgICAg
ICAgcmV0dXJuIDA7CisgICAgZGVmYXVsdDoKKyAgICB7CisgICAgICAgIHBy
aW50ayhYRU5MT0dfRVJSICJCYWQgcDJtIGRvbWN0bCBvcCAldVxuIiwgc2Mt
Pm9wKTsKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQorICAgIH0K
K30KKwogbG9uZyBhcmNoX2RvX2RvbWN0bChzdHJ1Y3QgeGVuX2RvbWN0bCAq
ZG9tY3RsLCBzdHJ1Y3QgZG9tYWluICpkLAogICAgICAgICAgICAgICAgICAg
ICBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHhlbl9kb21jdGxfdCkgdV9kb21j
dGwpCiB7CiAgICAgc3dpdGNoICggZG9tY3RsLT5jbWQgKQogICAgIHsKKyAg
ICBjYXNlIFhFTl9ET01DVExfc2hhZG93X29wOgorICAgICAgICByZXR1cm4g
cDJtX2RvbWN0bChkLCAmZG9tY3RsLT51LnNoYWRvd19vcCwgdV9kb21jdGwp
OwogICAgIGNhc2UgWEVOX0RPTUNUTF9jYWNoZWZsdXNoOgogICAgIHsKICAg
ICAgICAgZ2ZuX3QgcyA9IF9nZm4oZG9tY3RsLT51LmNhY2hlZmx1c2guc3Rh
cnRfcGZuKTsKLS0gCjIuMzcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.13/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Disposition: attachment;
 filename="xsa409-4.13/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Transfer-Encoding: base64

RnJvbSA4ZWUwYWE4ZjYxZWY2ZjExMzVkMDVkZWNkZWNiNDVlN2E5NDBlNzg0
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzozMCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggNC80XSB4ZW4vYXJtOiBBbGxv
Y2F0ZSBhbmQgZnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgUDJNIHBvb2wKClRo
aXMgY29tbWl0IHNldHMvdGVhcnNkb3duIG9mIHAybSBwYWdlcyBwb29sIGZv
ciBub24tcHJpdmlsZWdlZCBBcm0KZ3Vlc3RzIGJ5IGNhbGxpbmcgYHAybV9z
ZXRfYWxsb2NhdGlvbmAgYW5kIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAu
CgotIEZvciBkb20wLCBQMk0gcGFnZXMgc2hvdWxkIGNvbWUgZnJvbSBoZWFw
IGRpcmVjdGx5IGluc3RlYWQgb2YgcDJtCnBvb2wsIHNvIHRoYXQgdGhlIGtl
cm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGV4dGVuZGVkIHJlZ2lv
bnMuCgotIEZvciB4bCBndWVzdHMsIHRoZSBzZXR0aW5nIG9mIHRoZSBwMm0g
cG9vbCBpcyBjYWxsZWQgaW4KYFhFTl9ET01DVExfc2hhZG93X29wYCBhbmQg
dGhlIHAybSBwb29sIGlzIGRlc3Ryb3llZCBpbgpgZG9tYWluX3JlbGlucXVp
c2hfcmVzb3VyY2VzYC4gTm90ZSB0aGF0IGRvbWN0bC0+dS5zaGFkb3dfb3Au
bWIgaXMKdXBkYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZSB3aGVuIHNldHRpbmcg
dGhlIHAybSBwb29sLgoKLSBGb3IgZG9tMGxlc3MgZG9tVXMsIHRoZSBzZXR0
aW5nIG9mIHRoZSBwMm0gcG9vbCBpcyBjYWxsZWQgYmVmb3JlCmFsbG9jYXRp
bmcgbWVtb3J5IGR1cmluZyBkb21haW4gY3JlYXRpb24uIFVzZXJzIGNhbiBz
cGVjaWZ5IHRoZSBwMm0KcG9vbCBzaXplIGJ5IGB4ZW4sZG9tYWluLXAybS1t
ZW0tbWJgIGR0cyBwcm9wZXJ0eS4KClRvIGFjdHVhbGx5IGFsbG9jYXRlL2Zy
ZWUgcGFnZXMgZnJvbSB0aGUgcDJtIHBvb2wsIHRoaXMgY29tbWl0IGFkZHMK
dHdvIGhlbHBlciBmdW5jdGlvbnMgbmFtZWx5IGBwMm1fYWxsb2NfcGFnZWAg
YW5kIGBwMm1fZnJlZV9wYWdlYCB0bwpgc3RydWN0IHAybV9kb21haW5gLiBC
eSByZXBsYWNpbmcgdGhlIGBhbGxvY19kb21oZWFwX3BhZ2VgIGFuZApgZnJl
ZV9kb21oZWFwX3BhZ2VgIHdpdGggdGhlc2UgdHdvIGhlbHBlciBmdW5jdGlv
bnMsIHAybSBwYWdlcyBjYW4KYmUgYWRkZWQvcmVtb3ZlZCBmcm9tIHRoZSBs
aXN0IG9mIHAybSBwb29sIHJhdGhlciB0aGFuIGZyb20gdGhlIGhlYXAuCgpT
aW5jZSBwYWdlIGZyb20gYHAybV9hbGxvY19wYWdlYCBpcyBjbGVhbmVkLCB0
YWtlIHRoZSBvcHBvcnR1bml0eQp0byByZW1vdmUgdGhlIHJlZHVuZGFudCBg
Y2xlYW5fcGFnZWAgaW4gYHAybV9jcmVhdGVfdGFibGVgLgoKVGhpcyBpcyBw
YXJ0IG9mIENWRS0yMDIyLTMzNzQ3IC8gWFNBLTQwOS4KClNpZ25lZC1vZmYt
Ynk6IEhlbnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQt
Ynk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9y
Zz4KLS0tCiBkb2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0
IHwgIDggKysrKwogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAg
ICAgICB8ICA4ICsrKysKIHhlbi9hcmNoL2FybS9kb21haW5fYnVpbGQuYyAg
ICAgICAgICAgfCAyOSArKysrKysrKysrKysrKwogeGVuL2FyY2gvYXJtL2Rv
bWN0bC5jICAgICAgICAgICAgICAgICB8IDIzICsrKysrKysrKystCiB4ZW4v
YXJjaC9hcm0vcDJtLmMgICAgICAgICAgICAgICAgICAgIHwgNTcgKysrKysr
KysrKysrKysrKysrKysrKysrKy0tCiB4ZW4vaW5jbHVkZS9hc20tYXJtL2Rv
bWFpbi5oICAgICAgICAgIHwgIDEgKwogNiBmaWxlcyBjaGFuZ2VkLCAxMjEg
aW5zZXJ0aW9ucygrKSwgNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
b2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0IGIvZG9jcy9t
aXNjL2FybS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dAppbmRleCA1MjQzYmM3
ZmQzNDQuLjQ3MGM5NDkxYTc4MSAxMDA2NDQKLS0tIGEvZG9jcy9taXNjL2Fy
bS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dAorKysgYi9kb2NzL21pc2MvYXJt
L2RldmljZS10cmVlL2Jvb3RpbmcudHh0CkBAIC0xNjQsNiArMTY0LDE0IEBA
IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogICAgIEJvdGggI2Fk
ZHJlc3MtY2VsbHMgYW5kICNzaXplLWNlbGxzIG5lZWQgdG8gYmUgc3BlY2lm
aWVkIGJlY2F1c2UKICAgICBib3RoIHN1Yi1ub2RlcyAoZGVzY3JpYmVkIHNo
b3J0bHkpIGhhdmUgcmVnIHByb3BlcnRpZXMuCiAKKy0geGVuLGRvbWFpbi1w
Mm0tbWVtLW1iCisKKyAgICBPcHRpb25hbC4gQSAzMi1iaXQgaW50ZWdlciBz
cGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgbWVnYWJ5dGVzIG9mIFJBTQorICAg
IHVzZWQgZm9yIHRoZSBkb21haW4gUDJNIHBvb2wuIFRoaXMgaXMgaW4tc3lu
YyB3aXRoIHRoZSBzaGFkb3dfbWVtb3J5CisgICAgb3B0aW9uIGluIHhsLmNm
Zy4gTGVhdmluZyB0aGlzIGZpZWxkIGVtcHR5IGluIGRldmljZSB0cmVlIHdp
bGwgbGVhZCB0bworICAgIHRoZSBkZWZhdWx0IHNpemUgb2YgZG9tYWluIFAy
TSBwb29sLCBpLmUuIDFNQiBwZXIgZ3Vlc3QgdkNQVSBwbHVzIDRLQgorICAg
IHBlciBNQiBvZiBndWVzdCBSQU0gcGx1cyA1MTJLQiBmb3IgZ3Vlc3QgZXh0
ZW5kZWQgcmVnaW9ucy4KKwogVW5kZXIgdGhlICJ4ZW4sZG9tYWluIiBjb21w
YXRpYmxlIG5vZGUsIG9uZSBvciBtb3JlIHN1Yi1ub2RlcyBhcmUgcHJlc2Vu
dAogZm9yIHRoZSBEb21VIGtlcm5lbCBhbmQgcmFtZGlzay4KIApkaWZmIC0t
Z2l0IGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jIGIveGVuL2FyY2gvYXJtL2Rv
bWFpbi5jCmluZGV4IDFlMjRhN2RiYjRhMS4uMzFhYmU3ZDZmOWRjIDEwMDY0
NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWluLmMKKysrIGIveGVuL2FyY2gv
YXJtL2RvbWFpbi5jCkBAIC0xMDIyLDYgKzEwMjIsMTQgQEAgaW50IGRvbWFp
bl9yZWxpbnF1aXNoX3Jlc291cmNlcyhzdHJ1Y3QgZG9tYWluICpkKQogICAg
ICAgICBpZiAoIHJldCApCiAgICAgICAgICAgICByZXR1cm4gcmV0OwogCisg
ICAgICAgIGQtPmFyY2gucmVsbWVtID0gUkVMTUVNX3AybV9wb29sOworICAg
ICAgICAvKiBGYWxsdGhyb3VnaCAqLworCisgICAgY2FzZSBSRUxNRU1fcDJt
X3Bvb2w6CisgICAgICAgIHJldCA9IHAybV90ZWFyZG93bl9hbGxvY2F0aW9u
KGQpOworICAgICAgICBpZiggcmV0ICkKKyAgICAgICAgICAgIHJldHVybiBy
ZXQ7CisKICAgICAgICAgZC0+YXJjaC5yZWxtZW0gPSBSRUxNRU1fZG9uZTsK
ICAgICAgICAgLyogRmFsbHRocm91Z2ggKi8KIApkaWZmIC0tZ2l0IGEveGVu
L2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jIGIveGVuL2FyY2gvYXJtL2RvbWFp
bl9idWlsZC5jCmluZGV4IGNlN2Y2MWU4MjU5Zi4uZWI4NTk2MDBlNTdkIDEw
MDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKKysrIGIv
eGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jCkBAIC0yMzI3LDYgKzIzMjcs
MjEgQEAgc3RhdGljIHZvaWQgX19pbml0IGZpbmRfZ250dGFiX3JlZ2lvbihz
dHJ1Y3QgZG9tYWluICpkLAogICAgICAgICAgICBraW5mby0+Z250dGFiX3N0
YXJ0LCBraW5mby0+Z250dGFiX3N0YXJ0ICsga2luZm8tPmdudHRhYl9zaXpl
KTsKIH0KIAorc3RhdGljIHVuc2lnbmVkIGxvbmcgX19pbml0IGRvbWFpbl9w
Mm1fcGFnZXModW5zaWduZWQgbG9uZyBtYXhtZW1fa2IsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBp
bnQgc21wX2NwdXMpCit7CisgICAgLyoKKyAgICAgKiBLZWVwIGluIHN5bmMg
d2l0aCBsaWJ4bF9fZ2V0X3JlcXVpcmVkX3BhZ2luZ19tZW1vcnkoKS4KKyAg
ICAgKiAyNTYgcGFnZXMgKDFNQikgcGVyIHZjcHUsIHBsdXMgMSBwYWdlIHBl
ciBNaUIgb2YgUkFNIGZvciB0aGUgUDJNIG1hcCwKKyAgICAgKiBwbHVzIDEy
OCBwYWdlcyB0byBjb3ZlciBleHRlbmRlZCByZWdpb25zLgorICAgICAqLwor
ICAgIHVuc2lnbmVkIGxvbmcgbWVta2IgPSA0ICogKDI1NiAqIHNtcF9jcHVz
ICsgKG1heG1lbV9rYiAvIDEwMjQpICsgMTI4KTsKKworICAgIEJVSUxEX0JV
R19PTihQQUdFX1NJWkUgIT0gU1pfNEspOworCisgICAgcmV0dXJuIERJVl9S
T1VORF9VUChtZW1rYiwgMTAyNCkgPDwgKDIwIC0gUEFHRV9TSElGVCk7Cit9
CisKIHN0YXRpYyBpbnQgX19pbml0IGNvbnN0cnVjdF9kb21haW4oc3RydWN0
IGRvbWFpbiAqZCwgc3RydWN0IGtlcm5lbF9pbmZvICpraW5mbykKIHsKICAg
ICB1bnNpZ25lZCBpbnQgaTsKQEAgLTI0MTgsNiArMjQzMyw4IEBAIHN0YXRp
YyBpbnQgX19pbml0IGNvbnN0cnVjdF9kb21VKHN0cnVjdCBkb21haW4gKmQs
CiAgICAgc3RydWN0IGtlcm5lbF9pbmZvIGtpbmZvID0ge307CiAgICAgaW50
IHJjOwogICAgIHU2NCBtZW07CisgICAgdTMyIHAybV9tZW1fbWI7CisgICAg
dW5zaWduZWQgbG9uZyBwMm1fcGFnZXM7CiAKICAgICByYyA9IGR0X3Byb3Bl
cnR5X3JlYWRfdTY0KG5vZGUsICJtZW1vcnkiLCAmbWVtKTsKICAgICBpZiAo
ICFyYyApCkBAIC0yNDI3LDYgKzI0NDQsMTggQEAgc3RhdGljIGludCBfX2lu
aXQgY29uc3RydWN0X2RvbVUoc3RydWN0IGRvbWFpbiAqZCwKICAgICB9CiAg
ICAga2luZm8udW5hc3NpZ25lZF9tZW0gPSAocGFkZHJfdCltZW0gKiBTWl8x
SzsKIAorICAgIHJjID0gZHRfcHJvcGVydHlfcmVhZF91MzIobm9kZSwgInhl
bixkb21haW4tcDJtLW1lbS1tYiIsICZwMm1fbWVtX21iKTsKKyAgICAvKiBJ
ZiB4ZW4sZG9tYWluLXAybS1tZW0tbWIgaXMgbm90IHNwZWNpZmllZCwgdXNl
IHRoZSBkZWZhdWx0IHZhbHVlLiAqLworICAgIHAybV9wYWdlcyA9IHJjID8K
KyAgICAgICAgICAgICAgICBwMm1fbWVtX21iIDw8ICgyMCAtIFBBR0VfU0hJ
RlQpIDoKKyAgICAgICAgICAgICAgICBkb21haW5fcDJtX3BhZ2VzKG1lbSwg
ZC0+bWF4X3ZjcHVzKTsKKworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdp
bmcubG9jayk7CisgICAgcmMgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgcDJt
X3BhZ2VzLCBOVUxMKTsKKyAgICBzcGluX3VubG9jaygmZC0+YXJjaC5wYWdp
bmcubG9jayk7CisgICAgaWYgKCByYyAhPSAwICkKKyAgICAgICAgcmV0dXJu
IHJjOworCiAgICAgcHJpbnRrKCIqKiogTE9BRElORyBET01VIGNwdXM9JXUg
bWVtb3J5PSUiUFJJeDY0IktCICoqKlxuIiwgZC0+bWF4X3ZjcHVzLCBtZW0p
OwogCiAgICAga2luZm8udnBsMDExID0gZHRfcHJvcGVydHlfcmVhZF9ib29s
KG5vZGUsICJ2cGwwMTEiKTsKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9k
b21jdGwuYyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwppbmRleCBlZjEyOTlh
ZTFjNjQuLmRhYjNkYTNhMjNiYyAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJt
L2RvbWN0bC5jCisrKyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwpAQCAtNDgs
NiArNDgsOSBAQCBzdGF0aWMgaW50IGhhbmRsZV92dWFydF9pbml0KHN0cnVj
dCBkb21haW4gKmQsCiBzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBk
b21haW4gKmQsIHN0cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCiAg
ICAgICAgICAgICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0o
eGVuX2RvbWN0bF90KSB1X2RvbWN0bCkKIHsKKyAgICBsb25nIHJjOworICAg
IGJvb2wgcHJlZW1wdGVkID0gZmFsc2U7CisKICAgICBpZiAoIHVubGlrZWx5
KGQgPT0gY3VycmVudC0+ZG9tYWluKSApCiAgICAgewogICAgICAgICBwcmlu
dGsoWEVOTE9HX0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9wIG9u
IGl0c2VsZi5cbiIpOwpAQCAtNjQsOSArNjcsMjcgQEAgc3RhdGljIGxvbmcg
cDJtX2RvbWN0bChzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2RvbWN0
bF9zaGFkb3dfb3AgKnNjLAogICAgIHN3aXRjaCAoIHNjLT5vcCApCiAgICAg
ewogICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJ
T046Ci0gICAgICAgIHJldHVybiAwOworICAgIHsKKyAgICAgICAgLyogQWxs
b3cgYW5kIGhhbmRsZSBwcmVlbXB0aW9uICovCisgICAgICAgIHNwaW5fbG9j
aygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAgICAgIHJjID0gcDJtX3Nl
dF9hbGxvY2F0aW9uKGQsIHNjLT5tYiA8PCAoMjAgLSBQQUdFX1NISUZUKSwg
JnByZWVtcHRlZCk7CisgICAgICAgIHNwaW5fdW5sb2NrKCZkLT5hcmNoLnBh
Z2luZy5sb2NrKTsKKworICAgICAgICBpZiAoIHByZWVtcHRlZCApCisgICAg
ICAgICAgICAvKiBOb3QgZmluaXNoZWQuIFNldCB1cCB0byByZS1ydW4gdGhl
IGNhbGwuICovCisgICAgICAgICAgICByYyA9IGh5cGVyY2FsbF9jcmVhdGVf
Y29udGludWF0aW9uKF9fSFlQRVJWSVNPUl9kb21jdGwsICJoIiwKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdV9k
b21jdGwpOworICAgICAgICBlbHNlCisgICAgICAgICAgICAvKiBGaW5pc2hl
ZC4gUmV0dXJuIHRoZSBuZXcgYWxsb2NhdGlvbi4gKi8KKyAgICAgICAgICAg
IHNjLT5tYiA9IHAybV9nZXRfYWxsb2NhdGlvbihkKTsKKworICAgICAgICBy
ZXR1cm4gcmM7CisgICAgfQogICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1df
T1BfR0VUX0FMTE9DQVRJT046CisgICAgeworICAgICAgICBzYy0+bWIgPSBw
Mm1fZ2V0X2FsbG9jYXRpb24oZCk7CiAgICAgICAgIHJldHVybiAwOworICAg
IH0KICAgICBkZWZhdWx0OgogICAgIHsKICAgICAgICAgcHJpbnRrKFhFTkxP
R19FUlIgIkJhZCBwMm0gZG9tY3RsIG9wICV1XG4iLCBzYy0+b3ApOwpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gvYXJtL3AybS5jIGIveGVuL2FyY2gvYXJtL3Ay
bS5jCmluZGV4IDdkNmZlYzc4ODc5NS4uMzE5NjY5MDU0NDZlIDEwMDY0NAot
LS0gYS94ZW4vYXJjaC9hcm0vcDJtLmMKKysrIGIveGVuL2FyY2gvYXJtL3Ay
bS5jCkBAIC01Myw2ICs1Myw1NCBAQCBzdGF0aWMgdWludDY0X3QgZ2VuZXJh
dGVfdnR0YnIodWludDE2X3Qgdm1pZCwgbWZuX3Qgcm9vdF9tZm4pCiAgICAg
cmV0dXJuIChtZm5fdG9fbWFkZHIocm9vdF9tZm4pIHwgKCh1aW50NjRfdCl2
bWlkIDw8IDQ4KSk7CiB9CiAKK3N0YXRpYyBzdHJ1Y3QgcGFnZV9pbmZvICpw
Mm1fYWxsb2NfcGFnZShzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0cnVj
dCBwYWdlX2luZm8gKnBnOworCisgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBh
Z2luZy5sb2NrKTsKKyAgICAvKgorICAgICAqIEZvciBoYXJkd2FyZSBkb21h
aW4sIHRoZXJlIHNob3VsZCBiZSBubyBsaW1pdCBpbiB0aGUgbnVtYmVyIG9m
IHBhZ2VzIHRoYXQKKyAgICAgKiBjYW4gYmUgYWxsb2NhdGVkLCBzbyB0aGF0
IHRoZSBrZXJuZWwgbWF5IHRha2UgYWR2YW50YWdlIG9mIHRoZSBleHRlbmRl
ZAorICAgICAqIHJlZ2lvbnMuIEhlbmNlLCBhbGxvY2F0ZSBwMm0gcGFnZXMg
Zm9yIGhhcmR3YXJlIGRvbWFpbnMgZnJvbSBoZWFwLgorICAgICAqLworICAg
IGlmICggaXNfaGFyZHdhcmVfZG9tYWluKGQpICkKKyAgICB7CisgICAgICAg
IHBnID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDApOworICAgICAgICBp
ZiAoIHBnID09IE5VTEwgKQorICAgICAgICB7CisgICAgICAgICAgICBwcmlu
dGsoWEVOTE9HX0dfRVJSICJGYWlsZWQgdG8gYWxsb2NhdGUgUDJNIHBhZ2Vz
IGZvciBod2RvbS5cbiIpOworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQt
PmFyY2gucGFnaW5nLmxvY2spOworICAgICAgICAgICAgcmV0dXJuIE5VTEw7
CisgICAgICAgIH0KKyAgICB9CisgICAgZWxzZQorICAgIHsKKyAgICAgICAg
cGcgPSBwYWdlX2xpc3RfcmVtb3ZlX2hlYWQoJmQtPmFyY2gucGFnaW5nLnAy
bV9mcmVlbGlzdCk7CisgICAgICAgIGlmICggdW5saWtlbHkoIXBnKSApCisg
ICAgICAgIHsKKyAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZkLT5hcmNoLnBh
Z2luZy5sb2NrKTsKKyAgICAgICAgICAgIHJldHVybiBOVUxMOworICAgICAg
ICB9CisgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdlcy0t
OworICAgIH0KKyAgICBzcGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9j
ayk7CisKKyAgICByZXR1cm4gcGc7Cit9CisKK3N0YXRpYyB2b2lkIHAybV9m
cmVlX3BhZ2Uoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHBhZ2VfaW5mbyAq
cGcpCit7CisgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsK
KyAgICBpZiAoIGlzX2hhcmR3YXJlX2RvbWFpbihkKSApCisgICAgICAgIGZy
ZWVfZG9taGVhcF9wYWdlKHBnKTsKKyAgICBlbHNlCisgICAgeworICAgICAg
ICBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMrKzsKKyAgICAgICAg
cGFnZV9saXN0X2FkZF90YWlsKHBnLCAmZC0+YXJjaC5wYWdpbmcucDJtX2Zy
ZWVsaXN0KTsKKyAgICB9CisgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFn
aW5nLmxvY2spOworfQorCiAvKiBSZXR1cm4gdGhlIHNpemUgb2YgdGhlIHBv
b2wsIHJvdW5kZWQgdXAgdG8gdGhlIG5lYXJlc3QgTUIgKi8KIHVuc2lnbmVk
IGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCkKIHsK
QEAgLTc1NCw3ICs4MDIsNyBAQCBzdGF0aWMgaW50IHAybV9jcmVhdGVfdGFi
bGUoc3RydWN0IHAybV9kb21haW4gKnAybSwgbHBhZV90ICplbnRyeSkKIAog
ICAgIEFTU0VSVCghcDJtX2lzX3ZhbGlkKCplbnRyeSkpOwogCi0gICAgcGFn
ZSA9IGFsbG9jX2RvbWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICBwYWdlID0g
cDJtX2FsbG9jX3BhZ2UocDJtLT5kb21haW4pOwogICAgIGlmICggcGFnZSA9
PSBOVUxMICkKICAgICAgICAgcmV0dXJuIC1FTk9NRU07CiAKQEAgLTg3NCw3
ICs5MjIsNyBAQCBzdGF0aWMgdm9pZCBwMm1fZnJlZV9lbnRyeShzdHJ1Y3Qg
cDJtX2RvbWFpbiAqcDJtLAogICAgIHBnID0gbWZuX3RvX3BhZ2UobWZuKTsK
IAogICAgIHBhZ2VfbGlzdF9kZWwocGcsICZwMm0tPnBhZ2VzKTsKLSAgICBm
cmVlX2RvbWhlYXBfcGFnZShwZyk7CisgICAgcDJtX2ZyZWVfcGFnZShwMm0t
PmRvbWFpbiwgcGcpOwogfQogCiBzdGF0aWMgYm9vbCBwMm1fc3BsaXRfc3Vw
ZXJwYWdlKHN0cnVjdCBwMm1fZG9tYWluICpwMm0sIGxwYWVfdCAqZW50cnks
CkBAIC04OTgsNyArOTQ2LDcgQEAgc3RhdGljIGJvb2wgcDJtX3NwbGl0X3N1
cGVycGFnZShzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCBscGFlX3QgKmVudHJ5
LAogICAgIEFTU0VSVChsZXZlbCA8IHRhcmdldCk7CiAgICAgQVNTRVJUKHAy
bV9pc19zdXBlcnBhZ2UoKmVudHJ5LCBsZXZlbCkpOwogCi0gICAgcGFnZSA9
IGFsbG9jX2RvbWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICBwYWdlID0gcDJt
X2FsbG9jX3BhZ2UocDJtLT5kb21haW4pOwogICAgIGlmICggIXBhZ2UgKQog
ICAgICAgICByZXR1cm4gZmFsc2U7CiAKQEAgLTE2MDksNyArMTY1Nyw3IEBA
IGludCBwMm1fdGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKIAogICAgIHdo
aWxlICggKHBnID0gcGFnZV9saXN0X3JlbW92ZV9oZWFkKCZwMm0tPnBhZ2Vz
KSkgKQogICAgIHsKLSAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcpOwor
ICAgICAgICBwMm1fZnJlZV9wYWdlKHAybS0+ZG9tYWluLCBwZyk7CiAgICAg
ICAgIGNvdW50Kys7CiAgICAgICAgIC8qIEFyYml0cmFyaWx5IHByZWVtcHQg
ZXZlcnkgNTEyIGl0ZXJhdGlvbnMgKi8KICAgICAgICAgaWYgKCAhKGNvdW50
ICUgNTEyKSAmJiBoeXBlcmNhbGxfcHJlZW1wdF9jaGVjaygpICkKQEAgLTE2
MzMsNiArMTY4MSw3IEBAIHZvaWQgcDJtX2ZpbmFsX3RlYXJkb3duKHN0cnVj
dCBkb21haW4gKmQpCiAgICAgICAgIHJldHVybjsKIAogICAgIEFTU0VSVChw
YWdlX2xpc3RfZW1wdHkoJnAybS0+cGFnZXMpKTsKKyAgICBBU1NFUlQocGFn
ZV9saXN0X2VtcHR5KCZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxpc3QpKTsK
IAogICAgIGlmICggcDJtLT5yb290ICkKICAgICAgICAgZnJlZV9kb21oZWFw
X3BhZ2VzKHAybS0+cm9vdCwgUDJNX1JPT1RfT1JERVIpOwpkaWZmIC0tZ2l0
IGEveGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaCBiL3hlbi9pbmNsdWRl
L2FzbS1hcm0vZG9tYWluLmgKaW5kZXggN2JjMTRjMmU5ZTQ3Li5kYzViMjZk
MTVlMWQgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWlu
LmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaApAQCAtNzMs
NiArNzMsNyBAQCBzdHJ1Y3QgYXJjaF9kb21haW4KICAgICAgICAgUkVMTUVN
X3BhZ2UsCiAgICAgICAgIFJFTE1FTV9tYXBwaW5nLAogICAgICAgICBSRUxN
RU1fcDJtLAorICAgICAgICBSRUxNRU1fcDJtX3Bvb2wsCiAgICAgICAgIFJF
TE1FTV9kb25lLAogICAgIH0gcmVsbWVtOwogCi0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.14/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Disposition: attachment;
 filename="xsa409-4.14/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Transfer-Encoding: base64

RnJvbSAyNjA5YjZlNmQ1Mjc4M2YxYTU4ZTRjNTA4MzJhOWM2ZWJkNjcxMzM2
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IFR1ZSwgOSBBdWcgMjAyMiAwNjoz
OToyMyArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMS80XSBsaWJ4bCwgZG9jczog
VXNlIGFyY2gtc3BlY2lmaWMgZGVmYXVsdCBwYWdpbmcgbWVtb3J5CgpUaGUg
ZGVmYXVsdCBwYWdpbmcgbWVtb3J5IChkZXNjaWJlZCBpbiBgc2hhZG93X21l
bW9yeWAgZW50cnkgaW4geGwKY29uZmlnKSBpbiBsaWJ4bCBpcyB1c2VkIHRv
IGRldGVybWluZSB0aGUgbWVtb3J5IHBvb2wgc2l6ZSBmb3IgeGwKZ3Vlc3Rz
LiBDdXJyZW50bHkgdGhpcyBzaXplIGlzIG9ubHkgdXNlZCBmb3IgeDg2LCBh
bmQgY29udGFpbnMgYSBwYXJ0Cm9mIFJBTSB0byBzaGFkb3cgdGhlIHJlc2lk
ZW50IHByb2Nlc3Nlcy4gU2luY2Ugb24gQXJtIHRoZXJlIGlzIG5vCnNoYWRv
dyBtb2RlIGd1ZXN0cywgc28gdGhlIHBhcnQgb2YgUkFNIHRvIHNoYWRvdyB0
aGUgcmVzaWRlbnQgcHJvY2Vzc2VzCmlzIG5vdCBuZWNlc3NhcnkuIFRoZXJl
Zm9yZSwgdGhpcyBjb21taXQgc3BsaXRzIHRoZSBmdW5jdGlvbgpgbGlieGxf
Z2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgdG8gYXJjaCBzcGVjaWZp
YyBoZWxwZXJzIGFuZApyZW5hbWVkIHRoZSBoZWxwZXIgdG8gYGxpYnhsX19h
cmNoX2dldF9yZXF1aXJlZF9wYWdpbmdfbWVtb3J5KClgLgoKT24geDg2LCB0
aGlzIGhlbHBlciBjYWxscyB0aGUgb3JpZ2luYWwgdmFsdWUgZnJvbQpgbGli
eGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgc28gbm8gZnVuY3Rp
b25hbCBjaGFuZ2UgaW50ZW5kZWQuCgpPbiBBcm0sIHRoaXMgaGVscGVyIHJl
dHVybnMgMU1CIHBlciB2Y3B1IHBsdXMgNEtCIHBlciBNaUIgb2YgUkFNCmZv
ciB0aGUgUDJNIG1hcC4KCkFsc28gdXBkYXRlIHRoZSB4bC5jZmcgZG9jdW1l
bnRhdGlvbiB0byBhZGQgQXJtIGRvY3VtZW50YXRpb24KYWNjb3JkaW5nIHRv
IGNvZGUgY2hhbmdlcyBhbmQgY29ycmVjdCB0aGUgY29tbWVudCBzdHlsZSBm
b2xsb3dpbmcgWGVuCmNvZGluZyBzdHlsZS4KClRoaXMgaXMgcGFydCBvZiBD
VkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTdWdnZXN0ZWQtYnk6IEp1bGll
biBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClNpZ25lZC1vZmYtYnk6IEhl
bnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQtYnk6IEFu
dGhvbnkgUEVSQVJEIDxhbnRob255LnBlcmFyZEBjaXRyaXguY29tPgotLS0K
IGRvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiAgfCAgNSArKysrKwogdG9vbHMv
bGlieGwvbGlieGxfYXJjaC5oICB8ICA0ICsrKysKIHRvb2xzL2xpYnhsL2xp
YnhsX2FybS5jICAgfCAxMiArKysrKysrKysrKysKIHRvb2xzL2xpYnhsL2xp
YnhsX3V0aWxzLmMgfCAgOSArKy0tLS0tLS0KIHRvb2xzL2xpYnhsL2xpYnhs
X3g4Ni5jICAgfCAxMiArKysrKysrKysrKysKIDUgZmlsZXMgY2hhbmdlZCwg
MzUgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQg
YS9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4gYi9kb2NzL21hbi94bC5jZmcu
NS5wb2QuaW4KaW5kZXggMDUzMjczOWMxZmZmLi4yMjI0MDgwYjMwY2UgMTAw
NjQ0Ci0tLSBhL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgorKysgYi9kb2Nz
L21hbi94bC5jZmcuNS5wb2QuaW4KQEAgLTE4MDMsNiArMTgwMywxMSBAQCBh
cmUgbm90IHVzaW5nIGhhcmR3YXJlIGFzc2lzdGVkIHBhZ2luZyAoaS5lLiB5
b3UgYXJlIHVzaW5nIHNoYWRvdwogbW9kZSkgYW5kIHlvdXIgZ3Vlc3Qgd29y
a2xvYWQgY29uc2lzdHMgb2YgYSB2ZXJ5IGxhcmdlIG51bWJlciBvZgogc2lt
aWxhciBwcm9jZXNzZXMgdGhlbiBpbmNyZWFzaW5nIHRoaXMgdmFsdWUgbWF5
IGltcHJvdmUgcGVyZm9ybWFuY2UuCiAKK09uIEFybSwgdGhpcyBmaWVsZCBp
cyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgZ3Vlc3QgUDJN
IHBhZ2VzCitwb29sLCBhbmQgdGhlIGRlZmF1bHQgdmFsdWUgaXMgMU1CIHBl
ciB2Q1BVIHBsdXMgNEtCIHBlciBNQiBvZiBSQU0gZm9yCit0aGUgUDJNIG1h
cC4gVXNlcnMgc2hvdWxkIGFkanVzdCB0aGlzIHZhbHVlIGlmIGJpZ2dlciBQ
Mk0gcG9vbCBzaXplIGlzCituZWVkZWQuCisKID1iYWNrCiAKID1oZWFkMyBQ
cm9jZXNzb3IgYW5kIFBsYXRmb3JtIEZlYXR1cmVzCmRpZmYgLS1naXQgYS90
b29scy9saWJ4bC9saWJ4bF9hcmNoLmggYi90b29scy9saWJ4bC9saWJ4bF9h
cmNoLmgKaW5kZXggNmE5MTc3NWI5ZTIwLi5iMDlmODY4NDkwYWMgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX2FyY2guaAorKysgYi90b29scy9s
aWJ4bC9saWJ4bF9hcmNoLmgKQEAgLTgzLDYgKzgzLDEwIEBAIGludCBsaWJ4
bF9fYXJjaF9leHRyYV9tZW1vcnkobGlieGxfX2djICpnYywKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlieGxfZG9tYWluX2J1aWxk
X2luZm8gKmluZm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQ2NF90ICpvdXQpOwogCitfaGlkZGVuCit1bnNpZ25lZCBsb25nIGxpYnhs
X19hcmNoX2dldF9yZXF1aXJlZF9wYWdpbmdfbWVtb3J5KHVuc2lnbmVkIGxv
bmcgbWF4bWVtX2tiLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgc21wX2NwdXMp
OworCiAjaWYgZGVmaW5lZChfX2kzODZfXykgfHwgZGVmaW5lZChfX3g4Nl82
NF9fKQogCiAjZGVmaW5lIExBUElDX0JBU0VfQUREUkVTUyAgMHhmZWUwMDAw
MApkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMgYi90b29s
cy9saWJ4bC9saWJ4bF9hcm0uYwppbmRleCAzNGY4YTI5MDU2ZGIuLmY0YjNk
YzhlNzEzOSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMK
KysrIGIvdG9vbHMvbGlieGwvbGlieGxfYXJtLmMKQEAgLTE1Myw2ICsxNTMs
MTggQEAgb3V0OgogICAgIHJldHVybiByYzsKIH0KIAordW5zaWduZWQgbG9u
ZyBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNp
Z25lZCBsb25nIG1heG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNt
cF9jcHVzKQoreworICAgIC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBl
ciB2Y3B1LAorICAgICAqIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZv
ciB0aGUgUDJNIG1hcCwKKyAgICAgKiBUaGlzIGlzIGhpZ2hlciB0aGFuIHRo
ZSBtaW5pbXVtIHRoYXQgWGVuIHdvdWxkIGFsbG9jYXRlIGlmIG5vIHZhbHVl
CisgICAgICogd2VyZSBnaXZlbiAoYnV0IHRoZSBYZW4gbWluaW11bSBpcyBm
b3Igc2FmZXR5LCBub3QgcGVyZm9ybWFuY2UpLgorICAgICAqLworICAgIHJl
dHVybiA0ICogKDI1NiAqIHNtcF9jcHVzICsgbWF4bWVtX2tiIC8gMTAyNCk7
Cit9CisKIHN0YXRpYyBzdHJ1Y3QgYXJjaF9pbmZvIHsKICAgICBjb25zdCBj
aGFyICpndWVzdF90eXBlOwogICAgIGNvbnN0IGNoYXIgKnRpbWVyX2NvbXBh
dDsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhsL2xpYnhsX3V0aWxzLmMgYi90
b29scy9saWJ4bC9saWJ4bF91dGlscy5jCmluZGV4IGIwMzkxNDNiOGFlZi4u
ZTE4YjE1MjRlZjc4IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF91
dGlscy5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX3V0aWxzLmMKQEAgLTE4
LDYgKzE4LDcgQEAKICNpbmNsdWRlIDxjdHlwZS5oPgogCiAjaW5jbHVkZSAi
bGlieGxfaW50ZXJuYWwuaCIKKyNpbmNsdWRlICJsaWJ4bF9hcmNoLmgiCiAj
aW5jbHVkZSAiX3BhdGhzLmgiCiAKICNpZm5kZWYgTElCWExfSEFWRV9OT05D
T05TVF9MSUJYTF9CQVNFTkFNRV9SRVRVUk5fVkFMVUUKQEAgLTM5LDEzICs0
MCw3IEBAIGNoYXIgKmxpYnhsX2Jhc2VuYW1lKGNvbnN0IGNoYXIgKm5hbWUp
CiAKIHVuc2lnbmVkIGxvbmcgbGlieGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19t
ZW1vcnkodW5zaWduZWQgbG9uZyBtYXhtZW1fa2IsIHVuc2lnbmVkIGludCBz
bXBfY3B1cykKIHsKLSAgICAvKiAyNTYgcGFnZXMgKDFNQikgcGVyIHZjcHUs
Ci0gICAgICAgcGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQ
Mk0gbWFwLAotICAgICAgIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIHRv
IHNoYWRvdyB0aGUgcmVzaWRlbnQgcHJvY2Vzc2VzLgotICAgICAgIFRoaXMg
aXMgaGlnaGVyIHRoYW4gdGhlIG1pbmltdW0gdGhhdCBYZW4gd291bGQgYWxs
b2NhdGUgaWYgbm8gdmFsdWUKLSAgICAgICB3ZXJlIGdpdmVuIChidXQgdGhl
IFhlbiBtaW5pbXVtIGlzIGZvciBzYWZldHksIG5vdCBwZXJmb3JtYW5jZSku
Ci0gICAgICovCi0gICAgcmV0dXJuIDQgKiAoMjU2ICogc21wX2NwdXMgKyAy
ICogKG1heG1lbV9rYiAvIDEwMjQpKTsKKyAgICByZXR1cm4gbGlieGxfX2Fy
Y2hfZ2V0X3JlcXVpcmVkX3BhZ2luZ19tZW1vcnkobWF4bWVtX2tiLCBzbXBf
Y3B1cyk7CiB9CiAKIGNoYXIgKmxpYnhsX2RvbWlkX3RvX25hbWUobGlieGxf
Y3R4ICpjdHgsIHVpbnQzMl90IGRvbWlkKQpkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGwvbGlieGxfeDg2LmMgYi90b29scy9saWJ4bC9saWJ4bF94ODYuYwpp
bmRleCAwN2M3YjA1ZTBkMzYuLjBhZDQ1NTMwMWQ4OCAxMDA2NDQKLS0tIGEv
dG9vbHMvbGlieGwvbGlieGxfeDg2LmMKKysrIGIvdG9vbHMvbGlieGwvbGli
eGxfeDg2LmMKQEAgLTg1Miw2ICs4NTIsMTggQEAgaW50IGxpYnhsX19hcmNo
X3Bhc3N0aHJvdWdoX21vZGVfc2V0ZGVmYXVsdChsaWJ4bF9fZ2MgKmdjLAog
ICAgIHJldHVybiByYzsKIH0KIAordW5zaWduZWQgbG9uZyBsaWJ4bF9fYXJj
aF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNpZ25lZCBsb25nIG1h
eG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNtcF9jcHVzKQorewor
ICAgIC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBlciB2Y3B1LAorICAg
ICAqIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZvciB0aGUgUDJNIG1h
cCwKKyAgICAgKiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9mIFJBTSB0byBzaGFk
b3cgdGhlIHJlc2lkZW50IHByb2Nlc3Nlcy4KKyAgICAgKiBUaGlzIGlzIGhp
Z2hlciB0aGFuIHRoZSBtaW5pbXVtIHRoYXQgWGVuIHdvdWxkIGFsbG9jYXRl
IGlmIG5vIHZhbHVlCisgICAgICogd2VyZSBnaXZlbiAoYnV0IHRoZSBYZW4g
bWluaW11bSBpcyBmb3Igc2FmZXR5LCBub3QgcGVyZm9ybWFuY2UpLgorICAg
ICAqLworICAgIHJldHVybiA0ICogKDI1NiAqIHNtcF9jcHVzICsgMiAqICht
YXhtZW1fa2IgLyAxMDI0KSk7Cit9CiAKIC8qCiAgKiBMb2NhbCB2YXJpYWJs
ZXM6Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.14/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Disposition: attachment;
 filename="xsa409-4.14/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Transfer-Encoding: base64

RnJvbSBhNmQ1NjM2ODQ3M2EyODNjYmZkOTNkYThlYzVjNzBiM2JjODZhYWIz
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMi80XSB4ZW4vYXJtOiBDb25z
dHJ1Y3QgdGhlIFAyTSBwYWdlcyBwb29sIGZvciBndWVzdHMKClRoaXMgY29t
bWl0IGNvbnN0cnVjdHMgdGhlIHAybSBwYWdlcyBwb29sIGZvciBndWVzdHMg
ZnJvbSB0aGUKZGF0YSBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBwZXJzcGVjdGl2
ZS4KClRoaXMgaXMgaW1wbGVtZW50ZWQgYnk6CgotIEFkZGluZyBhIGBzdHJ1
Y3QgcGFnaW5nX2RvbWFpbmAgd2hpY2ggY29udGFpbnMgYSBmcmVlbGlzdCwg
YQpjb3VudGVyIHZhcmlhYmxlIGFuZCBhIHNwaW5sb2NrIHRvIGBzdHJ1Y3Qg
YXJjaF9kb21haW5gIHRvCmluZGljYXRlIHRoZSBmcmVlIHAybSBwYWdlcyBh
bmQgdGhlIG51bWJlciBvZiBwMm0gdG90YWwgcGFnZXMgaW4KdGhlIHAybSBw
YWdlcyBwb29sLgoKLSBBZGRpbmcgYSBoZWxwZXIgYHAybV9nZXRfYWxsb2Nh
dGlvbmAgdG8gZ2V0IHRoZSBwMm0gcG9vbCBzaXplLgoKLSBBZGRpbmcgYSBo
ZWxwZXIgYHAybV9zZXRfYWxsb2NhdGlvbmAgdG8gc2V0IHRoZSBwMm0gcGFn
ZXMgcG9vbApzaXplLiBUaGlzIGhlbHBlciBzaG91bGQgYmUgY2FsbGVkIGJl
Zm9yZSBhbGxvY2F0aW5nIG1lbW9yeSBmb3IKYSBndWVzdC4KCi0gQWRkaW5n
IGEgaGVscGVyIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAgdG8gZnJlZSB0
aGUgcDJtIHBhZ2VzCnBvb2wuIFRoaXMgaGVscGVyIHNob3VsZCBiZSBjYWxs
ZWQgZHVyaW5nIHRoZSB4bCBkb21haW4gZGVzdG9yeS4KClRoaXMgaXMgcGFy
dCBvZiBDVkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTaWduZWQtb2ZmLWJ5
OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFybS5jb20+ClJldmlld2VkLWJ5
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+
Ci0tLQogeGVuL2FyY2gvYXJtL3AybS5jICAgICAgICAgICB8IDg4ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogeGVuL2luY2x1ZGUv
YXNtLWFybS9kb21haW4uaCB8IDEwICsrKysKIHhlbi9pbmNsdWRlL2FzbS1h
cm0vcDJtLmggICAgfCAgNCArKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDIgaW5z
ZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9wMm0uYyBi
L3hlbi9hcmNoL2FybS9wMm0uYwppbmRleCA2MmY0ZDMxZGMxY2MuLjBjMzMx
YTM2YTUzNiAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL3AybS5jCisrKyBi
L3hlbi9hcmNoL2FybS9wMm0uYwpAQCAtNDksNiArNDksOTIgQEAgc3RhdGlj
IHVpbnQ2NF90IGdlbmVyYXRlX3Z0dGJyKHVpbnQxNl90IHZtaWQsIG1mbl90
IHJvb3RfbWZuKQogICAgIHJldHVybiAobWZuX3RvX21hZGRyKHJvb3RfbWZu
KSB8ICgodWludDY0X3Qpdm1pZCA8PCA0OCkpOwogfQogCisvKiBSZXR1cm4g
dGhlIHNpemUgb2YgdGhlIHBvb2wsIHJvdW5kZWQgdXAgdG8gdGhlIG5lYXJl
c3QgTUIgKi8KK3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIG5yX3BhZ2Vz
ID0gQUNDRVNTX09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2Vz
KTsKKworICAgIHJldHVybiBST1VORFVQKG5yX3BhZ2VzLCAxIDw8ICgyMCAt
IFBBR0VfU0hJRlQpKSA+PiAoMjAgLSBQQUdFX1NISUZUKTsKK30KKworLyoK
KyAqIFNldCB0aGUgcG9vbCBvZiBwYWdlcyB0byB0aGUgcmVxdWlyZWQgbnVt
YmVyIG9mIHBhZ2VzLgorICogUmV0dXJucyAwIGZvciBzdWNjZXNzLCBub24t
emVybyBmb3IgZmFpbHVyZS4KKyAqIENhbGwgd2l0aCBkLT5hcmNoLnBhZ2lu
Zy5sb2NrIGhlbGQuCisgKi8KK2ludCBwMm1fc2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgbG9uZyBwYWdlcywgYm9vbCAqcHJl
ZW1wdGVkKQoreworICAgIHN0cnVjdCBwYWdlX2luZm8gKnBnOworCisgICAg
QVNTRVJUKHNwaW5faXNfbG9ja2VkKCZkLT5hcmNoLnBhZ2luZy5sb2NrKSk7
CisKKyAgICBmb3IgKCA7IDsgKQorICAgIHsKKyAgICAgICAgaWYgKCBkLT5h
cmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgPCBwYWdlcyApCisgICAgICAg
IHsKKyAgICAgICAgICAgIC8qIE5lZWQgdG8gYWxsb2NhdGUgbW9yZSBtZW1v
cnkgZnJvbSBkb21oZWFwICovCisgICAgICAgICAgICBwZyA9IGFsbG9jX2Rv
bWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICAgICAgICAgIGlmICggcGcgPT0g
TlVMTCApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgcHJpbnRr
KFhFTkxPR19FUlIgIkZhaWxlZCB0byBhbGxvY2F0ZSBQMk0gcGFnZXMuXG4i
KTsKKyAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKKyAgICAgICAg
ICAgIH0KKyAgICAgICAgICAgIEFDQ0VTU19PTkNFKGQtPmFyY2gucGFnaW5n
LnAybV90b3RhbF9wYWdlcykgPQorICAgICAgICAgICAgICAgIGQtPmFyY2gu
cGFnaW5nLnAybV90b3RhbF9wYWdlcyArIDE7CisgICAgICAgICAgICBwYWdl
X2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxp
c3QpOworICAgICAgICB9CisgICAgICAgIGVsc2UgaWYgKCBkLT5hcmNoLnBh
Z2luZy5wMm1fdG90YWxfcGFnZXMgPiBwYWdlcyApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIC8qIE5lZWQgdG8gcmV0dXJuIG1lbW9yeSB0byBkb21oZWFw
ICovCisgICAgICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgm
ZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgICAgIGlm
KCBwZyApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgQUNDRVNT
X09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2VzKSA9CisgICAg
ICAgICAgICAgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cyAtIDE7CisgICAgICAgICAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcp
OworICAgICAgICAgICAgfQorICAgICAgICAgICAgZWxzZQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSCisgICAg
ICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZnJlZSBQMk0gcGFnZXMs
IFAyTSBmcmVlbGlzdCBpcyBlbXB0eS5cbiIpOworICAgICAgICAgICAgICAg
IHJldHVybiAtRU5PTUVNOworICAgICAgICAgICAgfQorICAgICAgICB9Cisg
ICAgICAgIGVsc2UKKyAgICAgICAgICAgIGJyZWFrOworCisgICAgICAgIC8q
IENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHlpZWxkIGFuZCB0cnkgYWdh
aW4gKi8KKyAgICAgICAgaWYgKCBwcmVlbXB0ZWQgJiYgZ2VuZXJhbF9wcmVl
bXB0X2NoZWNrKCkgKQorICAgICAgICB7CisgICAgICAgICAgICAqcHJlZW1w
dGVkID0gdHJ1ZTsKKyAgICAgICAgICAgIHJldHVybiAtRVJFU1RBUlQ7Cisg
ICAgICAgIH0KKyAgICB9CisKKyAgICByZXR1cm4gMDsKK30KKworaW50IHAy
bV90ZWFyZG93bl9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQpCit7Cisg
ICAgaW50IHJldCA9IDA7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsK
KworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAg
aWYgKCBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgIT0gMCApCisg
ICAgeworICAgICAgICByZXQgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgMCwg
JnByZWVtcHRlZCk7CisgICAgICAgIGlmICggcHJlZW1wdGVkICkKKyAgICAg
ICAgeworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5n
LmxvY2spOworICAgICAgICAgICAgcmV0dXJuIC1FUkVTVEFSVDsKKyAgICAg
ICAgfQorICAgICAgICBBU1NFUlQoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFs
X3BhZ2VzID09IDApOworICAgIH0KKyAgICBzcGluX3VubG9jaygmZC0+YXJj
aC5wYWdpbmcubG9jayk7CisKKyAgICByZXR1cm4gcmV0OworfQorCiAvKiBV
bmxvY2sgdGhlIGZsdXNoIGFuZCBkbyBhIFAyTSBUTEIgZmx1c2ggaWYgbmVj
ZXNzYXJ5ICovCiB2b2lkIHAybV93cml0ZV91bmxvY2soc3RydWN0IHAybV9k
b21haW4gKnAybSkKIHsKQEAgLTE1NjgsNyArMTY1NCw5IEBAIGludCBwMm1f
aW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgIHVuc2lnbmVkIGludCBjcHU7
CiAKICAgICByd2xvY2tfaW5pdCgmcDJtLT5sb2NrKTsKKyAgICBzcGluX2xv
Y2tfaW5pdCgmZC0+YXJjaC5wYWdpbmcubG9jayk7CiAgICAgSU5JVF9QQUdF
X0xJU1RfSEVBRCgmcDJtLT5wYWdlcyk7CisgICAgSU5JVF9QQUdFX0xJU1Rf
SEVBRCgmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKIAogICAgIHAy
bS0+dm1pZCA9IElOVkFMSURfVk1JRDsKIApkaWZmIC0tZ2l0IGEveGVuL2lu
Y2x1ZGUvYXNtLWFybS9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKaW5kZXggOWM0ZGI3NWYwODdkLi45NmE4NzhkMzM0NDggMTAw
NjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaApAQCAtNDIsNiArNDIsMTQg
QEAgc3RydWN0IHZ0aW1lciB7CiAgICAgdWludDY0X3QgY3ZhbDsKIH07CiAK
K3N0cnVjdCBwYWdpbmdfZG9tYWluIHsKKyAgICBzcGlubG9ja190IGxvY2s7
CisgICAgLyogRnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgcHJlLWFsbG9jYXRl
ZCBQMk0gcG9vbCAqLworICAgIHN0cnVjdCBwYWdlX2xpc3RfaGVhZCBwMm1f
ZnJlZWxpc3Q7CisgICAgLyogTnVtYmVyIG9mIHBhZ2VzIGZyb20gdGhlIHBy
ZS1hbGxvY2F0ZWQgUDJNIHBvb2wgKi8KKyAgICB1bnNpZ25lZCBsb25nIHAy
bV90b3RhbF9wYWdlczsKK307CisKIHN0cnVjdCBhcmNoX2RvbWFpbgogewog
I2lmZGVmIENPTkZJR19BUk1fNjQKQEAgLTUzLDYgKzYxLDggQEAgc3RydWN0
IGFyY2hfZG9tYWluCiAKICAgICBzdHJ1Y3QgaHZtX2RvbWFpbiBodm07CiAK
KyAgICBzdHJ1Y3QgcGFnaW5nX2RvbWFpbiBwYWdpbmc7CisKICAgICBzdHJ1
Y3Qgdm1taW8gdm1taW87CiAKICAgICAvKiBDb250aW51YWJsZSBkb21haW5f
cmVsaW5xdWlzaF9yZXNvdXJjZXMoKS4gKi8KZGlmZiAtLWdpdCBhL3hlbi9p
bmNsdWRlL2FzbS1hcm0vcDJtLmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL3Ay
bS5oCmluZGV4IGY0MGY4Mjc5NGRhOS4uYjczM2Y1NWQ0ODFjIDEwMDY0NAot
LS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL3AybS5oCisrKyBiL3hlbi9pbmNs
dWRlL2FzbS1hcm0vcDJtLmgKQEAgLTIwOSw2ICsyMDksMTAgQEAgdm9pZCBw
Mm1fcmVzdG9yZV9zdGF0ZShzdHJ1Y3QgdmNwdSAqbik7CiAvKiBQcmludCBk
ZWJ1Z2dpbmcvc3RhdGlzdGlhbCBpbmZvIGFib3V0IGEgZG9tYWluJ3MgcDJt
ICovCiB2b2lkIHAybV9kdW1wX2luZm8oc3RydWN0IGRvbWFpbiAqZCk7CiAK
K3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFp
biAqZCk7CitpbnQgcDJtX3NldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4g
KmQsIHVuc2lnbmVkIGxvbmcgcGFnZXMsIGJvb2wgKnByZWVtcHRlZCk7Citp
bnQgcDJtX3RlYXJkb3duX2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCk7
CisKIHN0YXRpYyBpbmxpbmUgdm9pZCBwMm1fd3JpdGVfbG9jayhzdHJ1Y3Qg
cDJtX2RvbWFpbiAqcDJtKQogewogICAgIHdyaXRlX2xvY2soJnAybS0+bG9j
ayk7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.14/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Disposition: attachment;
 filename="xsa409-4.14/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Transfer-Encoding: base64

RnJvbSA3NDM2NWQ4YWI0NTQzOTYzYmJhYzgzY2ZmNzdlNzQyYTNjYzhhZGIw
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOSArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMy80XSB4ZW4vYXJtLCBsaWJ4
bDogSW1wbGVtZW50IFhFTl9ET01DVExfc2hhZG93X29wIGZvciBBcm0KClRo
aXMgY29tbWl0IGltcGxlbWVudHMgdGhlIGBYRU5fRE9NQ1RMX3NoYWRvd19v
cGAgc3VwcG9ydCBpbiBYZW4KZm9yIEFybS4gVGhlIHAybSBwYWdlcyBwb29s
IHNpemUgZm9yIHhsIGd1ZXN0cyBpcyBzdXBwb3NlZCB0byBiZQpkZXRlcm1p
bmVkIGJ5IGBYRU5fRE9NQ1RMX3NoYWRvd19vcGAuIEhlbmNlLCB0aGlzIGNv
bW1pdDoKCi0gSW50cm9kdWNlcyBhIGZ1bmN0aW9uIGBwMm1fZG9tY3RsYCBh
bmQgaW1wbGVtZW50cyB0aGUgc3Vib3BzCmBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTmAgYW5kCmBYRU5fRE9NQ1RMX1NIQURPV19PUF9H
RVRfQUxMT0NBVElPTmAgb2YgYFhFTl9ET01DVExfc2hhZG93X29wYC4KCi0g
QWRkcyB0aGUgYFhFTl9ET01DVExfU0hBRE9XX09QX1NFVF9BTExPQ0FUSU9O
YCBzdXBwb3J0IGluIGxpYnhsLgoKVGhlcmVmb3JlIGVuYWJsaW5nIHRoZSBz
ZXR0aW5nIG9mIHNoYWRvdyBtZW1vcnkgcG9vbCBzaXplCndoZW4gY3JlYXRp
bmcgYSBndWVzdCBmcm9tIHhsIGFuZCBnZXR0aW5nIHNoYWRvdyBtZW1vcnkg
cG9vbCBzaXplCmZyb20gWGVuLgoKTm90ZSB0aGF0IHRoZSBgWEVOX0RPTUNU
TF9zaGFkb3dfb3BgIGFkZGVkIGluIHRoaXMgY29tbWl0IGlzIG9ubHkKYSBk
dW1teSBvcCwgYW5kIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNldHRpbmcvZ2V0
dGluZyBwMm0gbWVtb3J5IHBvb2wKc2l6ZSBmb3IgeGwgZ3Vlc3RzIHdpbGwg
YmUgYWRkZWQgaW4gZm9sbG93aW5nIGNvbW1pdHMuCgpUaGlzIGlzIHBhcnQg
b2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5LgoKU2lnbmVkLW9mZi1ieTog
SGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bhcm0uY29tPgpSZXZpZXdlZC1ieTog
U3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgot
LS0KIHRvb2xzL2xpYnhsL2xpYnhsX2FybS5jIHwgMTIgKysrKysrKysrKysr
CiB4ZW4vYXJjaC9hcm0vZG9tY3RsLmMgICB8IDMyICsrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCiAyIGZpbGVzIGNoYW5nZWQsIDQ0IGluc2Vy
dGlvbnMoKykKCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9hcm0u
YyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2FybS5jCmluZGV4IGY0YjNkYzhlNzEz
OS4uMDI1ZGYxYmZkMDA0IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4
bF9hcm0uYworKysgYi90b29scy9saWJ4bC9saWJ4bF9hcm0uYwpAQCAtMTMw
LDYgKzEzMCwxOCBAQCBpbnQgbGlieGxfX2FyY2hfZG9tYWluX3NhdmVfY29u
ZmlnKGxpYnhsX19nYyAqZ2MsCiBpbnQgbGlieGxfX2FyY2hfZG9tYWluX2Ny
ZWF0ZShsaWJ4bF9fZ2MgKmdjLCBsaWJ4bF9kb21haW5fY29uZmlnICpkX2Nv
bmZpZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90
IGRvbWlkKQogeworICAgIGxpYnhsX2N0eCAqY3R4ID0gbGlieGxfX2djX293
bmVyKGdjKTsKKyAgICB1bnNpZ25lZCBpbnQgc2hhZG93X21iID0gRElWX1JP
VU5EVVAoZF9jb25maWctPmJfaW5mby5zaGFkb3dfbWVta2IsIDEwMjQpOwor
CisgICAgaW50IHIgPSB4Y19zaGFkb3dfY29udHJvbChjdHgtPnhjaCwgZG9t
aWQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYRU5fRE9NQ1RM
X1NIQURPV19PUF9TRVRfQUxMT0NBVElPTiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICZzaGFkb3dfbWIsIDApOworICAgIGlmIChyKSB7Cisg
ICAgICAgIExPR0VEKEVSUk9SLCBkb21pZCwKKyAgICAgICAgICAgICAgIkZh
aWxlZCB0byBzZXQgJXUgTWlCIHNoYWRvdyBhbGxvY2F0aW9uIiwgc2hhZG93
X21iKTsKKyAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUw7CisgICAgfQorCiAg
ICAgcmV0dXJuIDA7CiB9CiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9k
b21jdGwuYyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwppbmRleCA5ZGE4OGI4
YzY0ZTIuLmVmMTI5OWFlMWM2NCAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJt
L2RvbWN0bC5jCisrKyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwpAQCAtNDUs
MTEgKzQ1LDQzIEBAIHN0YXRpYyBpbnQgaGFuZGxlX3Z1YXJ0X2luaXQoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICByZXR1cm4gcmM7CiB9CiAKK3N0YXRpYyBs
b25nIHAybV9kb21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9k
b21jdGxfc2hhZG93X29wICpzYywKKyAgICAgICAgICAgICAgICAgICAgICAg
WEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9tY3RsX3QpIHVfZG9tY3Rs
KQoreworICAgIGlmICggdW5saWtlbHkoZCA9PSBjdXJyZW50LT5kb21haW4p
ICkKKyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJUcmllZCB0
byBkbyBhIHAybSBkb21jdGwgb3Agb24gaXRzZWxmLlxuIik7CisgICAgICAg
IHJldHVybiAtRUlOVkFMOworICAgIH0KKworICAgIGlmICggdW5saWtlbHko
ZC0+aXNfZHlpbmcpICkKKyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0df
RVJSICJUcmllZCB0byBkbyBhIHAybSBkb21jdGwgb3Agb24gZHlpbmcgZG9t
YWluICV1XG4iLAorICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkKTsKKyAg
ICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQorCisgICAgc3dpdGNoICgg
c2MtPm9wICkKKyAgICB7CisgICAgY2FzZSBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTjoKKyAgICAgICAgcmV0dXJuIDA7CisgICAgY2Fz
ZSBYRU5fRE9NQ1RMX1NIQURPV19PUF9HRVRfQUxMT0NBVElPTjoKKyAgICAg
ICAgcmV0dXJuIDA7CisgICAgZGVmYXVsdDoKKyAgICB7CisgICAgICAgIHBy
aW50ayhYRU5MT0dfRVJSICJCYWQgcDJtIGRvbWN0bCBvcCAldVxuIiwgc2Mt
Pm9wKTsKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQorICAgIH0K
K30KKwogbG9uZyBhcmNoX2RvX2RvbWN0bChzdHJ1Y3QgeGVuX2RvbWN0bCAq
ZG9tY3RsLCBzdHJ1Y3QgZG9tYWluICpkLAogICAgICAgICAgICAgICAgICAg
ICBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHhlbl9kb21jdGxfdCkgdV9kb21j
dGwpCiB7CiAgICAgc3dpdGNoICggZG9tY3RsLT5jbWQgKQogICAgIHsKKyAg
ICBjYXNlIFhFTl9ET01DVExfc2hhZG93X29wOgorICAgICAgICByZXR1cm4g
cDJtX2RvbWN0bChkLCAmZG9tY3RsLT51LnNoYWRvd19vcCwgdV9kb21jdGwp
OwogICAgIGNhc2UgWEVOX0RPTUNUTF9jYWNoZWZsdXNoOgogICAgIHsKICAg
ICAgICAgZ2ZuX3QgcyA9IF9nZm4oZG9tY3RsLT51LmNhY2hlZmx1c2guc3Rh
cnRfcGZuKTsKLS0gCjIuMzcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.14/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Disposition: attachment;
 filename="xsa409-4.14/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Transfer-Encoding: base64

RnJvbSBiNGE2YTkzYzhlMDY0MDNjMWJlZGZhMTQ1ODNhYWQ4Yjg0MDFlMzAx
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzozMCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggNC80XSB4ZW4vYXJtOiBBbGxv
Y2F0ZSBhbmQgZnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgUDJNIHBvb2wKClRo
aXMgY29tbWl0IHNldHMvdGVhcnNkb3duIG9mIHAybSBwYWdlcyBwb29sIGZv
ciBub24tcHJpdmlsZWdlZCBBcm0KZ3Vlc3RzIGJ5IGNhbGxpbmcgYHAybV9z
ZXRfYWxsb2NhdGlvbmAgYW5kIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAu
CgotIEZvciBkb20wLCBQMk0gcGFnZXMgc2hvdWxkIGNvbWUgZnJvbSBoZWFw
IGRpcmVjdGx5IGluc3RlYWQgb2YgcDJtCnBvb2wsIHNvIHRoYXQgdGhlIGtl
cm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGV4dGVuZGVkIHJlZ2lv
bnMuCgotIEZvciB4bCBndWVzdHMsIHRoZSBzZXR0aW5nIG9mIHRoZSBwMm0g
cG9vbCBpcyBjYWxsZWQgaW4KYFhFTl9ET01DVExfc2hhZG93X29wYCBhbmQg
dGhlIHAybSBwb29sIGlzIGRlc3Ryb3llZCBpbgpgZG9tYWluX3JlbGlucXVp
c2hfcmVzb3VyY2VzYC4gTm90ZSB0aGF0IGRvbWN0bC0+dS5zaGFkb3dfb3Au
bWIgaXMKdXBkYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZSB3aGVuIHNldHRpbmcg
dGhlIHAybSBwb29sLgoKLSBGb3IgZG9tMGxlc3MgZG9tVXMsIHRoZSBzZXR0
aW5nIG9mIHRoZSBwMm0gcG9vbCBpcyBjYWxsZWQgYmVmb3JlCmFsbG9jYXRp
bmcgbWVtb3J5IGR1cmluZyBkb21haW4gY3JlYXRpb24uIFVzZXJzIGNhbiBz
cGVjaWZ5IHRoZSBwMm0KcG9vbCBzaXplIGJ5IGB4ZW4sZG9tYWluLXAybS1t
ZW0tbWJgIGR0cyBwcm9wZXJ0eS4KClRvIGFjdHVhbGx5IGFsbG9jYXRlL2Zy
ZWUgcGFnZXMgZnJvbSB0aGUgcDJtIHBvb2wsIHRoaXMgY29tbWl0IGFkZHMK
dHdvIGhlbHBlciBmdW5jdGlvbnMgbmFtZWx5IGBwMm1fYWxsb2NfcGFnZWAg
YW5kIGBwMm1fZnJlZV9wYWdlYCB0bwpgc3RydWN0IHAybV9kb21haW5gLiBC
eSByZXBsYWNpbmcgdGhlIGBhbGxvY19kb21oZWFwX3BhZ2VgIGFuZApgZnJl
ZV9kb21oZWFwX3BhZ2VgIHdpdGggdGhlc2UgdHdvIGhlbHBlciBmdW5jdGlv
bnMsIHAybSBwYWdlcyBjYW4KYmUgYWRkZWQvcmVtb3ZlZCBmcm9tIHRoZSBs
aXN0IG9mIHAybSBwb29sIHJhdGhlciB0aGFuIGZyb20gdGhlIGhlYXAuCgpT
aW5jZSBwYWdlIGZyb20gYHAybV9hbGxvY19wYWdlYCBpcyBjbGVhbmVkLCB0
YWtlIHRoZSBvcHBvcnR1bml0eQp0byByZW1vdmUgdGhlIHJlZHVuZGFudCBg
Y2xlYW5fcGFnZWAgaW4gYHAybV9jcmVhdGVfdGFibGVgLgoKVGhpcyBpcyBw
YXJ0IG9mIENWRS0yMDIyLTMzNzQ3IC8gWFNBLTQwOS4KClNpZ25lZC1vZmYt
Ynk6IEhlbnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQt
Ynk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9y
Zz4KLS0tCiBkb2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0
IHwgIDggKysrKwogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAg
ICAgICB8ICA2ICsrKwogeGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jICAg
ICAgICAgICB8IDI5ICsrKysrKysrKysrKysrCiB4ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMgICAgICAgICAgICAgICAgIHwgMjMgKysrKysrKysrKy0KIHhlbi9h
cmNoL2FybS9wMm0uYyAgICAgICAgICAgICAgICAgICAgfCA1NyArKysrKysr
KysrKysrKysrKysrKysrKysrLS0KIDUgZmlsZXMgY2hhbmdlZCwgMTE4IGlu
c2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL2FybS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dCBiL2RvY3MvbWlz
Yy9hcm0vZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKaW5kZXggNTI0M2JjN2Zk
MzQ0Li40NzBjOTQ5MWE3ODEgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy9hcm0v
ZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKKysrIGIvZG9jcy9taXNjL2FybS9k
ZXZpY2UtdHJlZS9ib290aW5nLnR4dApAQCAtMTY0LDYgKzE2NCwxNCBAQCB3
aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAgICBCb3RoICNhZGRy
ZXNzLWNlbGxzIGFuZCAjc2l6ZS1jZWxscyBuZWVkIHRvIGJlIHNwZWNpZmll
ZCBiZWNhdXNlCiAgICAgYm90aCBzdWItbm9kZXMgKGRlc2NyaWJlZCBzaG9y
dGx5KSBoYXZlIHJlZyBwcm9wZXJ0aWVzLgogCistIHhlbixkb21haW4tcDJt
LW1lbS1tYgorCisgICAgT3B0aW9uYWwuIEEgMzItYml0IGludGVnZXIgc3Bl
Y2lmeWluZyB0aGUgYW1vdW50IG9mIG1lZ2FieXRlcyBvZiBSQU0KKyAgICB1
c2VkIGZvciB0aGUgZG9tYWluIFAyTSBwb29sLiBUaGlzIGlzIGluLXN5bmMg
d2l0aCB0aGUgc2hhZG93X21lbW9yeQorICAgIG9wdGlvbiBpbiB4bC5jZmcu
IExlYXZpbmcgdGhpcyBmaWVsZCBlbXB0eSBpbiBkZXZpY2UgdHJlZSB3aWxs
IGxlYWQgdG8KKyAgICB0aGUgZGVmYXVsdCBzaXplIG9mIGRvbWFpbiBQMk0g
cG9vbCwgaS5lLiAxTUIgcGVyIGd1ZXN0IHZDUFUgcGx1cyA0S0IKKyAgICBw
ZXIgTUIgb2YgZ3Vlc3QgUkFNIHBsdXMgNTEyS0IgZm9yIGd1ZXN0IGV4dGVu
ZGVkIHJlZ2lvbnMuCisKIFVuZGVyIHRoZSAieGVuLGRvbWFpbiIgY29tcGF0
aWJsZSBub2RlLCBvbmUgb3IgbW9yZSBzdWItbm9kZXMgYXJlIHByZXNlbnQK
IGZvciB0aGUgRG9tVSBrZXJuZWwgYW5kIHJhbWRpc2suCiAKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL2FybS9kb21haW4uYyBiL3hlbi9hcmNoL2FybS9kb21h
aW4uYwppbmRleCBjYWE2MjViZDE2ZjkuLmFhZTYxNWY3ZDZhZCAxMDA2NDQK
LS0tIGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jCisrKyBiL3hlbi9hcmNoL2Fy
bS9kb21haW4uYwpAQCAtOTgwLDYgKzk4MCw3IEBAIGVudW0gewogICAgIFBS
T0dfcGFnZSwKICAgICBQUk9HX21hcHBpbmcsCiAgICAgUFJPR19wMm0sCisg
ICAgUFJPR19wMm1fcG9vbCwKICAgICBQUk9HX2RvbmUsCiB9OwogCkBAIC0x
MDM1LDYgKzEwMzYsMTEgQEAgaW50IGRvbWFpbl9yZWxpbnF1aXNoX3Jlc291
cmNlcyhzdHJ1Y3QgZG9tYWluICpkKQogICAgICAgICBpZiAoIHJldCApCiAg
ICAgICAgICAgICByZXR1cm4gcmV0OwogCisgICAgUFJPR1JFU1MocDJtX3Bv
b2wpOgorICAgICAgICByZXQgPSBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbihk
KTsKKyAgICAgICAgaWYoIHJldCApCisgICAgICAgICAgICByZXR1cm4gcmV0
OworCiAgICAgUFJPR1JFU1MoZG9uZSk6CiAgICAgICAgIGJyZWFrOwogCmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMgYi94ZW4v
YXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKaW5kZXggZjQ5ZGJmMWNhMTJlLi4z
YzA1ZmE1YWM3ZDAgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9kb21haW5f
YnVpbGQuYworKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKQEAg
LTIzMzMsNiArMjMzMywyMSBAQCBzdGF0aWMgdm9pZCBfX2luaXQgZmluZF9n
bnR0YWJfcmVnaW9uKHN0cnVjdCBkb21haW4gKmQsCiAgICAgICAgICAgIGtp
bmZvLT5nbnR0YWJfc3RhcnQsIGtpbmZvLT5nbnR0YWJfc3RhcnQgKyBraW5m
by0+Z250dGFiX3NpemUpOwogfQogCitzdGF0aWMgdW5zaWduZWQgbG9uZyBf
X2luaXQgZG9tYWluX3AybV9wYWdlcyh1bnNpZ25lZCBsb25nIG1heG1lbV9r
YiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCBzbXBfY3B1cykKK3sKKyAgICAvKgorICAgICAq
IEtlZXAgaW4gc3luYyB3aXRoIGxpYnhsX19nZXRfcmVxdWlyZWRfcGFnaW5n
X21lbW9yeSgpLgorICAgICAqIDI1NiBwYWdlcyAoMU1CKSBwZXIgdmNwdSwg
cGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQMk0gbWFwLAor
ICAgICAqIHBsdXMgMTI4IHBhZ2VzIHRvIGNvdmVyIGV4dGVuZGVkIHJlZ2lv
bnMuCisgICAgICovCisgICAgdW5zaWduZWQgbG9uZyBtZW1rYiA9IDQgKiAo
MjU2ICogc21wX2NwdXMgKyAobWF4bWVtX2tiIC8gMTAyNCkgKyAxMjgpOwor
CisgICAgQlVJTERfQlVHX09OKFBBR0VfU0laRSAhPSBTWl80Syk7CisKKyAg
ICByZXR1cm4gRElWX1JPVU5EX1VQKG1lbWtiLCAxMDI0KSA8PCAoMjAgLSBQ
QUdFX1NISUZUKTsKK30KKwogc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0
X2RvbWFpbihzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3Qga2VybmVsX2luZm8g
KmtpbmZvKQogewogICAgIHVuc2lnbmVkIGludCBpOwpAQCAtMjQyNCw2ICsy
NDM5LDggQEAgc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0X2RvbVUoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICBzdHJ1Y3Qga2VybmVsX2luZm8ga2luZm8g
PSB7fTsKICAgICBpbnQgcmM7CiAgICAgdTY0IG1lbTsKKyAgICB1MzIgcDJt
X21lbV9tYjsKKyAgICB1bnNpZ25lZCBsb25nIHAybV9wYWdlczsKIAogICAg
IHJjID0gZHRfcHJvcGVydHlfcmVhZF91NjQobm9kZSwgIm1lbW9yeSIsICZt
ZW0pOwogICAgIGlmICggIXJjICkKQEAgLTI0MzMsNiArMjQ1MCwxOCBAQCBz
dGF0aWMgaW50IF9faW5pdCBjb25zdHJ1Y3RfZG9tVShzdHJ1Y3QgZG9tYWlu
ICpkLAogICAgIH0KICAgICBraW5mby51bmFzc2lnbmVkX21lbSA9IChwYWRk
cl90KW1lbSAqIFNaXzFLOwogCisgICAgcmMgPSBkdF9wcm9wZXJ0eV9yZWFk
X3UzMihub2RlLCAieGVuLGRvbWFpbi1wMm0tbWVtLW1iIiwgJnAybV9tZW1f
bWIpOworICAgIC8qIElmIHhlbixkb21haW4tcDJtLW1lbS1tYiBpcyBub3Qg
c3BlY2lmaWVkLCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuICovCisgICAgcDJt
X3BhZ2VzID0gcmMgPworICAgICAgICAgICAgICAgIHAybV9tZW1fbWIgPDwg
KDIwIC0gUEFHRV9TSElGVCkgOgorICAgICAgICAgICAgICAgIGRvbWFpbl9w
Mm1fcGFnZXMobWVtLCBkLT5tYXhfdmNwdXMpOworCisgICAgc3Bpbl9sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICByYyA9IHAybV9zZXRfYWxs
b2NhdGlvbihkLCBwMm1fcGFnZXMsIE5VTEwpOworICAgIHNwaW5fdW5sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICBpZiAoIHJjICE9IDAgKQor
ICAgICAgICByZXR1cm4gcmM7CisKICAgICBwcmludGsoIioqKiBMT0FESU5H
IERPTVUgY3B1cz0ldSBtZW1vcnk9JSJQUkl4NjQiS0IgKioqXG4iLCBkLT5t
YXhfdmNwdXMsIG1lbSk7CiAKICAgICBraW5mby52cGwwMTEgPSBkdF9wcm9w
ZXJ0eV9yZWFkX2Jvb2wobm9kZSwgInZwbDAxMSIpOwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL2RvbWN0bC5jIGIveGVuL2FyY2gvYXJtL2RvbWN0bC5j
CmluZGV4IGVmMTI5OWFlMWM2NC4uZGFiM2RhM2EyM2JjIDEwMDY0NAotLS0g
YS94ZW4vYXJjaC9hcm0vZG9tY3RsLmMKKysrIGIveGVuL2FyY2gvYXJtL2Rv
bWN0bC5jCkBAIC00OCw2ICs0OCw5IEBAIHN0YXRpYyBpbnQgaGFuZGxlX3Z1
YXJ0X2luaXQoc3RydWN0IGRvbWFpbiAqZCwKIHN0YXRpYyBsb25nIHAybV9k
b21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9kb21jdGxfc2hh
ZG93X29wICpzYywKICAgICAgICAgICAgICAgICAgICAgICAgWEVOX0dVRVNU
X0hBTkRMRV9QQVJBTSh4ZW5fZG9tY3RsX3QpIHVfZG9tY3RsKQogeworICAg
IGxvbmcgcmM7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsKKwogICAg
IGlmICggdW5saWtlbHkoZCA9PSBjdXJyZW50LT5kb21haW4pICkKICAgICB7
CiAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJUcmllZCB0byBkbyBhIHAy
bSBkb21jdGwgb3Agb24gaXRzZWxmLlxuIik7CkBAIC02NCw5ICs2NywyNyBA
QCBzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQsIHN0
cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCiAgICAgc3dpdGNoICgg
c2MtPm9wICkKICAgICB7CiAgICAgY2FzZSBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTjoKLSAgICAgICAgcmV0dXJuIDA7CisgICAgewor
ICAgICAgICAvKiBBbGxvdyBhbmQgaGFuZGxlIHByZWVtcHRpb24gKi8KKyAg
ICAgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICAg
ICAgcmMgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgc2MtPm1iIDw8ICgyMCAt
IFBBR0VfU0hJRlQpLCAmcHJlZW1wdGVkKTsKKyAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworCisgICAgICAgIGlmICggcHJl
ZW1wdGVkICkKKyAgICAgICAgICAgIC8qIE5vdCBmaW5pc2hlZC4gU2V0IHVw
IHRvIHJlLXJ1biB0aGUgY2FsbC4gKi8KKyAgICAgICAgICAgIHJjID0gaHlw
ZXJjYWxsX2NyZWF0ZV9jb250aW51YXRpb24oX19IWVBFUlZJU09SX2RvbWN0
bCwgImgiLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1X2RvbWN0bCk7CisgICAgICAgIGVsc2UKKyAgICAgICAg
ICAgIC8qIEZpbmlzaGVkLiBSZXR1cm4gdGhlIG5ldyBhbGxvY2F0aW9uLiAq
LworICAgICAgICAgICAgc2MtPm1iID0gcDJtX2dldF9hbGxvY2F0aW9uKGQp
OworCisgICAgICAgIHJldHVybiByYzsKKyAgICB9CiAgICAgY2FzZSBYRU5f
RE9NQ1RMX1NIQURPV19PUF9HRVRfQUxMT0NBVElPTjoKKyAgICB7CisgICAg
ICAgIHNjLT5tYiA9IHAybV9nZXRfYWxsb2NhdGlvbihkKTsKICAgICAgICAg
cmV0dXJuIDA7CisgICAgfQogICAgIGRlZmF1bHQ6CiAgICAgewogICAgICAg
ICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwgb3AgJXVcbiIs
IHNjLT5vcCk7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vcDJtLmMgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKaW5kZXggMGMzMzFhMzZhNTM2Li4xM2IwNmMw
ZmU0MWQgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9wMm0uYworKysgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKQEAgLTQ5LDYgKzQ5LDU0IEBAIHN0YXRpYyB1
aW50NjRfdCBnZW5lcmF0ZV92dHRicih1aW50MTZfdCB2bWlkLCBtZm5fdCBy
b290X21mbikKICAgICByZXR1cm4gKG1mbl90b19tYWRkcihyb290X21mbikg
fCAoKHVpbnQ2NF90KXZtaWQgPDwgNDgpKTsKIH0KIAorc3RhdGljIHN0cnVj
dCBwYWdlX2luZm8gKnAybV9hbGxvY19wYWdlKHN0cnVjdCBkb21haW4gKmQp
Cit7CisgICAgc3RydWN0IHBhZ2VfaW5mbyAqcGc7CisKKyAgICBzcGluX2xv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgIC8qCisgICAgICogRm9y
IGhhcmR3YXJlIGRvbWFpbiwgdGhlcmUgc2hvdWxkIGJlIG5vIGxpbWl0IGlu
IHRoZSBudW1iZXIgb2YgcGFnZXMgdGhhdAorICAgICAqIGNhbiBiZSBhbGxv
Y2F0ZWQsIHNvIHRoYXQgdGhlIGtlcm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ug
b2YgdGhlIGV4dGVuZGVkCisgICAgICogcmVnaW9ucy4gSGVuY2UsIGFsbG9j
YXRlIHAybSBwYWdlcyBmb3IgaGFyZHdhcmUgZG9tYWlucyBmcm9tIGhlYXAu
CisgICAgICovCisgICAgaWYgKCBpc19oYXJkd2FyZV9kb21haW4oZCkgKQor
ICAgIHsKKyAgICAgICAgcGcgPSBhbGxvY19kb21oZWFwX3BhZ2UoTlVMTCwg
MCk7CisgICAgICAgIGlmICggcGcgPT0gTlVMTCApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIkZhaWxlZCB0byBhbGxv
Y2F0ZSBQMk0gcGFnZXMgZm9yIGh3ZG9tLlxuIik7CisgICAgICAgICAgICBz
cGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAgICAgICAg
ICByZXR1cm4gTlVMTDsKKyAgICAgICAgfQorICAgIH0KKyAgICBlbHNlCisg
ICAgeworICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgmZC0+
YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgaWYgKCB1bmxp
a2VseSghcGcpICkKKyAgICAgICAgeworICAgICAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgICAgICAgICAgcmV0dXJu
IE5VTEw7CisgICAgICAgIH0KKyAgICAgICAgZC0+YXJjaC5wYWdpbmcucDJt
X3RvdGFsX3BhZ2VzLS07CisgICAgfQorICAgIHNwaW5fdW5sb2NrKCZkLT5h
cmNoLnBhZ2luZy5sb2NrKTsKKworICAgIHJldHVybiBwZzsKK30KKworc3Rh
dGljIHZvaWQgcDJtX2ZyZWVfcGFnZShzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1
Y3QgcGFnZV9pbmZvICpwZykKK3sKKyAgICBzcGluX2xvY2soJmQtPmFyY2gu
cGFnaW5nLmxvY2spOworICAgIGlmICggaXNfaGFyZHdhcmVfZG9tYWluKGQp
ICkKKyAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcpOworICAgIGVsc2UK
KyAgICB7CisgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cysrOworICAgICAgICBwYWdlX2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNo
LnBhZ2luZy5wMm1fZnJlZWxpc3QpOworICAgIH0KKyAgICBzcGluX3VubG9j
aygmZC0+YXJjaC5wYWdpbmcubG9jayk7Cit9CisKIC8qIFJldHVybiB0aGUg
c2l6ZSBvZiB0aGUgcG9vbCwgcm91bmRlZCB1cCB0byB0aGUgbmVhcmVzdCBN
QiAqLwogdW5zaWduZWQgaW50IHAybV9nZXRfYWxsb2NhdGlvbihzdHJ1Y3Qg
ZG9tYWluICpkKQogewpAQCAtNzUwLDcgKzc5OCw3IEBAIHN0YXRpYyBpbnQg
cDJtX2NyZWF0ZV90YWJsZShzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCBscGFl
X3QgKmVudHJ5KQogCiAgICAgQVNTRVJUKCFwMm1faXNfdmFsaWQoKmVudHJ5
KSk7CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDAp
OworICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAg
ICAgaWYgKCBwYWdlID09IE5VTEwgKQogICAgICAgICByZXR1cm4gLUVOT01F
TTsKIApAQCAtODcwLDcgKzkxOCw3IEBAIHN0YXRpYyB2b2lkIHAybV9mcmVl
X2VudHJ5KHN0cnVjdCBwMm1fZG9tYWluICpwMm0sCiAgICAgcGcgPSBtZm5f
dG9fcGFnZShtZm4pOwogCiAgICAgcGFnZV9saXN0X2RlbChwZywgJnAybS0+
cGFnZXMpOwotICAgIGZyZWVfZG9taGVhcF9wYWdlKHBnKTsKKyAgICBwMm1f
ZnJlZV9wYWdlKHAybS0+ZG9tYWluLCBwZyk7CiB9CiAKIHN0YXRpYyBib29s
IHAybV9zcGxpdF9zdXBlcnBhZ2Uoc3RydWN0IHAybV9kb21haW4gKnAybSwg
bHBhZV90ICplbnRyeSwKQEAgLTg5NCw3ICs5NDIsNyBAQCBzdGF0aWMgYm9v
bCBwMm1fc3BsaXRfc3VwZXJwYWdlKHN0cnVjdCBwMm1fZG9tYWluICpwMm0s
IGxwYWVfdCAqZW50cnksCiAgICAgQVNTRVJUKGxldmVsIDwgdGFyZ2V0KTsK
ICAgICBBU1NFUlQocDJtX2lzX3N1cGVycGFnZSgqZW50cnksIGxldmVsKSk7
CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDApOwor
ICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAgICAg
aWYgKCAhcGFnZSApCiAgICAgICAgIHJldHVybiBmYWxzZTsKIApAQCAtMTYx
MCw3ICsxNjU4LDcgQEAgaW50IHAybV90ZWFyZG93bihzdHJ1Y3QgZG9tYWlu
ICpkKQogCiAgICAgd2hpbGUgKCAocGcgPSBwYWdlX2xpc3RfcmVtb3ZlX2hl
YWQoJnAybS0+cGFnZXMpKSApCiAgICAgewotICAgICAgICBmcmVlX2RvbWhl
YXBfcGFnZShwZyk7CisgICAgICAgIHAybV9mcmVlX3BhZ2UocDJtLT5kb21h
aW4sIHBnKTsKICAgICAgICAgY291bnQrKzsKICAgICAgICAgLyogQXJiaXRy
YXJpbHkgcHJlZW1wdCBldmVyeSA1MTIgaXRlcmF0aW9ucyAqLwogICAgICAg
ICBpZiAoICEoY291bnQgJSA1MTIpICYmIGh5cGVyY2FsbF9wcmVlbXB0X2No
ZWNrKCkgKQpAQCAtMTYzNCw2ICsxNjgyLDcgQEAgdm9pZCBwMm1fZmluYWxf
dGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKICAgICAgICAgcmV0dXJuOwog
CiAgICAgQVNTRVJUKHBhZ2VfbGlzdF9lbXB0eSgmcDJtLT5wYWdlcykpOwor
ICAgIEFTU0VSVChwYWdlX2xpc3RfZW1wdHkoJmQtPmFyY2gucGFnaW5nLnAy
bV9mcmVlbGlzdCkpOwogCiAgICAgaWYgKCBwMm0tPnJvb3QgKQogICAgICAg
ICBmcmVlX2RvbWhlYXBfcGFnZXMocDJtLT5yb290LCBQMk1fUk9PVF9PUkRF
Uik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.15/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Disposition: attachment;
 filename="xsa409-4.15/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Transfer-Encoding: base64

RnJvbSA0MWI1MTM0MmU3ODk2MjFkMmJkZDgyNWI4ZTczZTk0NmZkYzZiYTkz
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IFR1ZSwgOSBBdWcgMjAyMiAwNjoz
OToyMyArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMS80XSBsaWJ4bCwgZG9jczog
VXNlIGFyY2gtc3BlY2lmaWMgZGVmYXVsdCBwYWdpbmcgbWVtb3J5CgpUaGUg
ZGVmYXVsdCBwYWdpbmcgbWVtb3J5IChkZXNjaWJlZCBpbiBgc2hhZG93X21l
bW9yeWAgZW50cnkgaW4geGwKY29uZmlnKSBpbiBsaWJ4bCBpcyB1c2VkIHRv
IGRldGVybWluZSB0aGUgbWVtb3J5IHBvb2wgc2l6ZSBmb3IgeGwKZ3Vlc3Rz
LiBDdXJyZW50bHkgdGhpcyBzaXplIGlzIG9ubHkgdXNlZCBmb3IgeDg2LCBh
bmQgY29udGFpbnMgYSBwYXJ0Cm9mIFJBTSB0byBzaGFkb3cgdGhlIHJlc2lk
ZW50IHByb2Nlc3Nlcy4gU2luY2Ugb24gQXJtIHRoZXJlIGlzIG5vCnNoYWRv
dyBtb2RlIGd1ZXN0cywgc28gdGhlIHBhcnQgb2YgUkFNIHRvIHNoYWRvdyB0
aGUgcmVzaWRlbnQgcHJvY2Vzc2VzCmlzIG5vdCBuZWNlc3NhcnkuIFRoZXJl
Zm9yZSwgdGhpcyBjb21taXQgc3BsaXRzIHRoZSBmdW5jdGlvbgpgbGlieGxf
Z2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgdG8gYXJjaCBzcGVjaWZp
YyBoZWxwZXJzIGFuZApyZW5hbWVkIHRoZSBoZWxwZXIgdG8gYGxpYnhsX19h
cmNoX2dldF9yZXF1aXJlZF9wYWdpbmdfbWVtb3J5KClgLgoKT24geDg2LCB0
aGlzIGhlbHBlciBjYWxscyB0aGUgb3JpZ2luYWwgdmFsdWUgZnJvbQpgbGli
eGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkoKWAgc28gbm8gZnVuY3Rp
b25hbCBjaGFuZ2UgaW50ZW5kZWQuCgpPbiBBcm0sIHRoaXMgaGVscGVyIHJl
dHVybnMgMU1CIHBlciB2Y3B1IHBsdXMgNEtCIHBlciBNaUIgb2YgUkFNCmZv
ciB0aGUgUDJNIG1hcC4KCkFsc28gdXBkYXRlIHRoZSB4bC5jZmcgZG9jdW1l
bnRhdGlvbiB0byBhZGQgQXJtIGRvY3VtZW50YXRpb24KYWNjb3JkaW5nIHRv
IGNvZGUgY2hhbmdlcyBhbmQgY29ycmVjdCB0aGUgY29tbWVudCBzdHlsZSBm
b2xsb3dpbmcgWGVuCmNvZGluZyBzdHlsZS4KClRoaXMgaXMgcGFydCBvZiBD
VkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTdWdnZXN0ZWQtYnk6IEp1bGll
biBHcmFsbCA8amdyYWxsQGFtYXpvbi5jb20+ClNpZ25lZC1vZmYtYnk6IEhl
bnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQtYnk6IEFu
dGhvbnkgUEVSQVJEIDxhbnRob255LnBlcmFyZEBjaXRyaXguY29tPgotLS0K
IGRvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiAgICAgICB8ICA1ICsrKysrCiB0
b29scy9saWJzL2xpZ2h0L2xpYnhsX2FyY2guaCAgfCAgNCArKysrCiB0b29s
cy9saWJzL2xpZ2h0L2xpYnhsX2FybS5jICAgfCAxMiArKysrKysrKysrKysK
IHRvb2xzL2xpYnMvbGlnaHQvbGlieGxfdXRpbHMuYyB8ICA5ICsrLS0tLS0t
LQogdG9vbHMvbGlicy9saWdodC9saWJ4bF94ODYuYyAgIHwgMTMgKysrKysr
KysrKysrKwogNSBmaWxlcyBjaGFuZ2VkLCAzNiBpbnNlcnRpb25zKCspLCA3
IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RvY3MvbWFuL3hsLmNmZy41
LnBvZC5pbiBiL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgppbmRleCA1NjM3
MGEzN2RiYjEuLmFmN2ZhZTdjNTJmOSAxMDA2NDQKLS0tIGEvZG9jcy9tYW4v
eGwuY2ZnLjUucG9kLmluCisrKyBiL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5p
bgpAQCAtMTc0Niw2ICsxNzQ2LDExIEBAIGFyZSBub3QgdXNpbmcgaGFyZHdh
cmUgYXNzaXN0ZWQgcGFnaW5nIChpLmUuIHlvdSBhcmUgdXNpbmcgc2hhZG93
CiBtb2RlKSBhbmQgeW91ciBndWVzdCB3b3JrbG9hZCBjb25zaXN0cyBvZiBh
IHZlcnkgbGFyZ2UgbnVtYmVyIG9mCiBzaW1pbGFyIHByb2Nlc3NlcyB0aGVu
IGluY3JlYXNpbmcgdGhpcyB2YWx1ZSBtYXkgaW1wcm92ZSBwZXJmb3JtYW5j
ZS4KIAorT24gQXJtLCB0aGlzIGZpZWxkIGlzIHVzZWQgdG8gZGV0ZXJtaW5l
IHRoZSBzaXplIG9mIHRoZSBndWVzdCBQMk0gcGFnZXMKK3Bvb2wsIGFuZCB0
aGUgZGVmYXVsdCB2YWx1ZSBpcyAxTUIgcGVyIHZDUFUgcGx1cyA0S0IgcGVy
IE1CIG9mIFJBTSBmb3IKK3RoZSBQMk0gbWFwLiBVc2VycyBzaG91bGQgYWRq
dXN0IHRoaXMgdmFsdWUgaWYgYmlnZ2VyIFAyTSBwb29sIHNpemUgaXMKK25l
ZWRlZC4KKwogPWJhY2sKIAogPWhlYWQzIFByb2Nlc3NvciBhbmQgUGxhdGZv
cm0gRmVhdHVyZXMKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnMvbGlnaHQvbGli
eGxfYXJjaC5oIGIvdG9vbHMvbGlicy9saWdodC9saWJ4bF9hcmNoLmgKaW5k
ZXggODUyN2ZjNWM2YzIzLi42NzQxYjdmNmY0NTcgMTAwNjQ0Ci0tLSBhL3Rv
b2xzL2xpYnMvbGlnaHQvbGlieGxfYXJjaC5oCisrKyBiL3Rvb2xzL2xpYnMv
bGlnaHQvbGlieGxfYXJjaC5oCkBAIC05MCw2ICs5MCwxMCBAQCB2b2lkIGxp
YnhsX19hcmNoX3VwZGF0ZV9kb21haW5fY29uZmlnKGxpYnhsX19nYyAqZ2Ms
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpYnhs
X2RvbWFpbl9jb25maWcgKmRzdCwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3QgbGlieGxfZG9tYWluX2NvbmZpZyAqc3Jj
KTsKIAorX2hpZGRlbgordW5zaWduZWQgbG9uZyBsaWJ4bF9fYXJjaF9nZXRf
cmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNpZ25lZCBsb25nIG1heG1lbV9r
YiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdW5zaWduZWQgaW50IHNtcF9jcHVzKTsKKwogI2lmIGRl
ZmluZWQoX19pMzg2X18pIHx8IGRlZmluZWQoX194ODZfNjRfXykKIAogI2Rl
ZmluZSBMQVBJQ19CQVNFX0FERFJFU1MgIDB4ZmVlMDAwMDAKZGlmZiAtLWdp
dCBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMgYi90b29scy9saWJz
L2xpZ2h0L2xpYnhsX2FybS5jCmluZGV4IGUyOTAxZjEzYjcyNC4uZDU5YjQ2
NDE5MmMyIDEwMDY0NAotLS0gYS90b29scy9saWJzL2xpZ2h0L2xpYnhsX2Fy
bS5jCisrKyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMKQEAgLTE1
NCw2ICsxNTQsMTggQEAgb3V0OgogICAgIHJldHVybiByYzsKIH0KIAordW5z
aWduZWQgbG9uZyBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21l
bW9yeSh1bnNpZ25lZCBsb25nIG1heG1lbV9rYiwKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgaW50IHNtcF9jcHVzKQoreworICAgIC8qCisgICAgICogMjU2IHBhZ2Vz
ICgxTUIpIHBlciB2Y3B1LAorICAgICAqIHBsdXMgMSBwYWdlIHBlciBNaUIg
b2YgUkFNIGZvciB0aGUgUDJNIG1hcCwKKyAgICAgKiBUaGlzIGlzIGhpZ2hl
ciB0aGFuIHRoZSBtaW5pbXVtIHRoYXQgWGVuIHdvdWxkIGFsbG9jYXRlIGlm
IG5vIHZhbHVlCisgICAgICogd2VyZSBnaXZlbiAoYnV0IHRoZSBYZW4gbWlu
aW11bSBpcyBmb3Igc2FmZXR5LCBub3QgcGVyZm9ybWFuY2UpLgorICAgICAq
LworICAgIHJldHVybiA0ICogKDI1NiAqIHNtcF9jcHVzICsgbWF4bWVtX2ti
IC8gMTAyNCk7Cit9CisKIHN0YXRpYyBzdHJ1Y3QgYXJjaF9pbmZvIHsKICAg
ICBjb25zdCBjaGFyICpndWVzdF90eXBlOwogICAgIGNvbnN0IGNoYXIgKnRp
bWVyX2NvbXBhdDsKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnMvbGlnaHQvbGli
eGxfdXRpbHMuYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfdXRpbHMuYwpp
bmRleCA0Njk5YzRhMGEzNmYuLmUyNzZjMGVlOWNjMyAxMDA2NDQKLS0tIGEv
dG9vbHMvbGlicy9saWdodC9saWJ4bF91dGlscy5jCisrKyBiL3Rvb2xzL2xp
YnMvbGlnaHQvbGlieGxfdXRpbHMuYwpAQCAtMTgsNiArMTgsNyBAQAogI2lu
Y2x1ZGUgPGN0eXBlLmg+CiAKICNpbmNsdWRlICJsaWJ4bF9pbnRlcm5hbC5o
IgorI2luY2x1ZGUgImxpYnhsX2FyY2guaCIKICNpbmNsdWRlICJfcGF0aHMu
aCIKIAogI2lmbmRlZiBMSUJYTF9IQVZFX05PTkNPTlNUX0xJQlhMX0JBU0VO
QU1FX1JFVFVSTl9WQUxVRQpAQCAtMzksMTMgKzQwLDcgQEAgY2hhciAqbGli
eGxfYmFzZW5hbWUoY29uc3QgY2hhciAqbmFtZSkKIAogdW5zaWduZWQgbG9u
ZyBsaWJ4bF9nZXRfcmVxdWlyZWRfc2hhZG93X21lbW9yeSh1bnNpZ25lZCBs
b25nIG1heG1lbV9rYiwgdW5zaWduZWQgaW50IHNtcF9jcHVzKQogewotICAg
IC8qIDI1NiBwYWdlcyAoMU1CKSBwZXIgdmNwdSwKLSAgICAgICBwbHVzIDEg
cGFnZSBwZXIgTWlCIG9mIFJBTSBmb3IgdGhlIFAyTSBtYXAsCi0gICAgICAg
cGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gdG8gc2hhZG93IHRoZSByZXNp
ZGVudCBwcm9jZXNzZXMuCi0gICAgICAgVGhpcyBpcyBoaWdoZXIgdGhhbiB0
aGUgbWluaW11bSB0aGF0IFhlbiB3b3VsZCBhbGxvY2F0ZSBpZiBubyB2YWx1
ZQotICAgICAgIHdlcmUgZ2l2ZW4gKGJ1dCB0aGUgWGVuIG1pbmltdW0gaXMg
Zm9yIHNhZmV0eSwgbm90IHBlcmZvcm1hbmNlKS4KLSAgICAgKi8KLSAgICBy
ZXR1cm4gNCAqICgyNTYgKiBzbXBfY3B1cyArIDIgKiAobWF4bWVtX2tiIC8g
MTAyNCkpOworICAgIHJldHVybiBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRf
cGFnaW5nX21lbW9yeShtYXhtZW1fa2IsIHNtcF9jcHVzKTsKIH0KIAogY2hh
ciAqbGlieGxfZG9taWRfdG9fbmFtZShsaWJ4bF9jdHggKmN0eCwgdWludDMy
X3QgZG9taWQpCmRpZmYgLS1naXQgYS90b29scy9saWJzL2xpZ2h0L2xpYnhs
X3g4Ni5jIGIvdG9vbHMvbGlicy9saWdodC9saWJ4bF94ODYuYwppbmRleCAx
OGMzYzc3Y2NkZTMuLjRkNjY0NzhmZTlkZCAxMDA2NDQKLS0tIGEvdG9vbHMv
bGlicy9saWdodC9saWJ4bF94ODYuYworKysgYi90b29scy9saWJzL2xpZ2h0
L2xpYnhsX3g4Ni5jCkBAIC04ODIsNiArODgyLDE5IEBAIHZvaWQgbGlieGxf
X2FyY2hfdXBkYXRlX2RvbWFpbl9jb25maWcobGlieGxfX2djICpnYywKICAg
ICAgICAgICAgICAgICAgICAgbGlieGxfZGVmYm9vbF92YWwoc3JjLT5iX2lu
Zm8uYXJjaF94ODYubXNyX3JlbGF4ZWQpKTsKIH0KIAordW5zaWduZWQgbG9u
ZyBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNp
Z25lZCBsb25nIG1heG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNt
cF9jcHVzKQoreworICAgIC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBl
ciB2Y3B1LAorICAgICAqIHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZv
ciB0aGUgUDJNIG1hcCwKKyAgICAgKiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9m
IFJBTSB0byBzaGFkb3cgdGhlIHJlc2lkZW50IHByb2Nlc3Nlcy4KKyAgICAg
KiBUaGlzIGlzIGhpZ2hlciB0aGFuIHRoZSBtaW5pbXVtIHRoYXQgWGVuIHdv
dWxkIGFsbG9jYXRlIGlmIG5vIHZhbHVlCisgICAgICogd2VyZSBnaXZlbiAo
YnV0IHRoZSBYZW4gbWluaW11bSBpcyBmb3Igc2FmZXR5LCBub3QgcGVyZm9y
bWFuY2UpLgorICAgICAqLworICAgIHJldHVybiA0ICogKDI1NiAqIHNtcF9j
cHVzICsgMiAqIChtYXhtZW1fa2IgLyAxMDI0KSk7Cit9CisKIC8qCiAgKiBM
b2NhbCB2YXJpYWJsZXM6CiAgKiBtb2RlOiBDCi0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.15/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Disposition: attachment;
 filename="xsa409-4.15/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Transfer-Encoding: base64

RnJvbSA1ZDdkYzYyMzdlN2I1ZTczYjJmNThhOGI3NTQ1Y2U0Yjg5NTQzNjY1
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMi80XSB4ZW4vYXJtOiBDb25z
dHJ1Y3QgdGhlIFAyTSBwYWdlcyBwb29sIGZvciBndWVzdHMKClRoaXMgY29t
bWl0IGNvbnN0cnVjdHMgdGhlIHAybSBwYWdlcyBwb29sIGZvciBndWVzdHMg
ZnJvbSB0aGUKZGF0YSBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBwZXJzcGVjdGl2
ZS4KClRoaXMgaXMgaW1wbGVtZW50ZWQgYnk6CgotIEFkZGluZyBhIGBzdHJ1
Y3QgcGFnaW5nX2RvbWFpbmAgd2hpY2ggY29udGFpbnMgYSBmcmVlbGlzdCwg
YQpjb3VudGVyIHZhcmlhYmxlIGFuZCBhIHNwaW5sb2NrIHRvIGBzdHJ1Y3Qg
YXJjaF9kb21haW5gIHRvCmluZGljYXRlIHRoZSBmcmVlIHAybSBwYWdlcyBh
bmQgdGhlIG51bWJlciBvZiBwMm0gdG90YWwgcGFnZXMgaW4KdGhlIHAybSBw
YWdlcyBwb29sLgoKLSBBZGRpbmcgYSBoZWxwZXIgYHAybV9nZXRfYWxsb2Nh
dGlvbmAgdG8gZ2V0IHRoZSBwMm0gcG9vbCBzaXplLgoKLSBBZGRpbmcgYSBo
ZWxwZXIgYHAybV9zZXRfYWxsb2NhdGlvbmAgdG8gc2V0IHRoZSBwMm0gcGFn
ZXMgcG9vbApzaXplLiBUaGlzIGhlbHBlciBzaG91bGQgYmUgY2FsbGVkIGJl
Zm9yZSBhbGxvY2F0aW5nIG1lbW9yeSBmb3IKYSBndWVzdC4KCi0gQWRkaW5n
IGEgaGVscGVyIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAgdG8gZnJlZSB0
aGUgcDJtIHBhZ2VzCnBvb2wuIFRoaXMgaGVscGVyIHNob3VsZCBiZSBjYWxs
ZWQgZHVyaW5nIHRoZSB4bCBkb21haW4gZGVzdG9yeS4KClRoaXMgaXMgcGFy
dCBvZiBDVkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTaWduZWQtb2ZmLWJ5
OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFybS5jb20+ClJldmlld2VkLWJ5
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+
Ci0tLQogeGVuL2FyY2gvYXJtL3AybS5jICAgICAgICAgICB8IDg4ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogeGVuL2luY2x1ZGUv
YXNtLWFybS9kb21haW4uaCB8IDEwICsrKysKIHhlbi9pbmNsdWRlL2FzbS1h
cm0vcDJtLmggICAgfCAgNCArKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDIgaW5z
ZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9wMm0uYyBi
L3hlbi9hcmNoL2FybS9wMm0uYwppbmRleCA0YWQzZTA2MDZlOWMuLjY4ODNk
ODYyNzcwMiAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL3AybS5jCisrKyBi
L3hlbi9hcmNoL2FybS9wMm0uYwpAQCAtNTAsNiArNTAsOTIgQEAgc3RhdGlj
IHVpbnQ2NF90IGdlbmVyYXRlX3Z0dGJyKHVpbnQxNl90IHZtaWQsIG1mbl90
IHJvb3RfbWZuKQogICAgIHJldHVybiAobWZuX3RvX21hZGRyKHJvb3RfbWZu
KSB8ICgodWludDY0X3Qpdm1pZCA8PCA0OCkpOwogfQogCisvKiBSZXR1cm4g
dGhlIHNpemUgb2YgdGhlIHBvb2wsIHJvdW5kZWQgdXAgdG8gdGhlIG5lYXJl
c3QgTUIgKi8KK3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIG5yX3BhZ2Vz
ID0gQUNDRVNTX09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2Vz
KTsKKworICAgIHJldHVybiBST1VORFVQKG5yX3BhZ2VzLCAxIDw8ICgyMCAt
IFBBR0VfU0hJRlQpKSA+PiAoMjAgLSBQQUdFX1NISUZUKTsKK30KKworLyoK
KyAqIFNldCB0aGUgcG9vbCBvZiBwYWdlcyB0byB0aGUgcmVxdWlyZWQgbnVt
YmVyIG9mIHBhZ2VzLgorICogUmV0dXJucyAwIGZvciBzdWNjZXNzLCBub24t
emVybyBmb3IgZmFpbHVyZS4KKyAqIENhbGwgd2l0aCBkLT5hcmNoLnBhZ2lu
Zy5sb2NrIGhlbGQuCisgKi8KK2ludCBwMm1fc2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgbG9uZyBwYWdlcywgYm9vbCAqcHJl
ZW1wdGVkKQoreworICAgIHN0cnVjdCBwYWdlX2luZm8gKnBnOworCisgICAg
QVNTRVJUKHNwaW5faXNfbG9ja2VkKCZkLT5hcmNoLnBhZ2luZy5sb2NrKSk7
CisKKyAgICBmb3IgKCA7IDsgKQorICAgIHsKKyAgICAgICAgaWYgKCBkLT5h
cmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgPCBwYWdlcyApCisgICAgICAg
IHsKKyAgICAgICAgICAgIC8qIE5lZWQgdG8gYWxsb2NhdGUgbW9yZSBtZW1v
cnkgZnJvbSBkb21oZWFwICovCisgICAgICAgICAgICBwZyA9IGFsbG9jX2Rv
bWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICAgICAgICAgIGlmICggcGcgPT0g
TlVMTCApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgcHJpbnRr
KFhFTkxPR19FUlIgIkZhaWxlZCB0byBhbGxvY2F0ZSBQMk0gcGFnZXMuXG4i
KTsKKyAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKKyAgICAgICAg
ICAgIH0KKyAgICAgICAgICAgIEFDQ0VTU19PTkNFKGQtPmFyY2gucGFnaW5n
LnAybV90b3RhbF9wYWdlcykgPQorICAgICAgICAgICAgICAgIGQtPmFyY2gu
cGFnaW5nLnAybV90b3RhbF9wYWdlcyArIDE7CisgICAgICAgICAgICBwYWdl
X2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxp
c3QpOworICAgICAgICB9CisgICAgICAgIGVsc2UgaWYgKCBkLT5hcmNoLnBh
Z2luZy5wMm1fdG90YWxfcGFnZXMgPiBwYWdlcyApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIC8qIE5lZWQgdG8gcmV0dXJuIG1lbW9yeSB0byBkb21oZWFw
ICovCisgICAgICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgm
ZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgICAgIGlm
KCBwZyApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgQUNDRVNT
X09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2VzKSA9CisgICAg
ICAgICAgICAgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cyAtIDE7CisgICAgICAgICAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcp
OworICAgICAgICAgICAgfQorICAgICAgICAgICAgZWxzZQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSCisgICAg
ICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZnJlZSBQMk0gcGFnZXMs
IFAyTSBmcmVlbGlzdCBpcyBlbXB0eS5cbiIpOworICAgICAgICAgICAgICAg
IHJldHVybiAtRU5PTUVNOworICAgICAgICAgICAgfQorICAgICAgICB9Cisg
ICAgICAgIGVsc2UKKyAgICAgICAgICAgIGJyZWFrOworCisgICAgICAgIC8q
IENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHlpZWxkIGFuZCB0cnkgYWdh
aW4gKi8KKyAgICAgICAgaWYgKCBwcmVlbXB0ZWQgJiYgZ2VuZXJhbF9wcmVl
bXB0X2NoZWNrKCkgKQorICAgICAgICB7CisgICAgICAgICAgICAqcHJlZW1w
dGVkID0gdHJ1ZTsKKyAgICAgICAgICAgIHJldHVybiAtRVJFU1RBUlQ7Cisg
ICAgICAgIH0KKyAgICB9CisKKyAgICByZXR1cm4gMDsKK30KKworaW50IHAy
bV90ZWFyZG93bl9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQpCit7Cisg
ICAgaW50IHJldCA9IDA7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsK
KworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAg
aWYgKCBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgIT0gMCApCisg
ICAgeworICAgICAgICByZXQgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgMCwg
JnByZWVtcHRlZCk7CisgICAgICAgIGlmICggcHJlZW1wdGVkICkKKyAgICAg
ICAgeworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5n
LmxvY2spOworICAgICAgICAgICAgcmV0dXJuIC1FUkVTVEFSVDsKKyAgICAg
ICAgfQorICAgICAgICBBU1NFUlQoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFs
X3BhZ2VzID09IDApOworICAgIH0KKyAgICBzcGluX3VubG9jaygmZC0+YXJj
aC5wYWdpbmcubG9jayk7CisKKyAgICByZXR1cm4gcmV0OworfQorCiAvKiBV
bmxvY2sgdGhlIGZsdXNoIGFuZCBkbyBhIFAyTSBUTEIgZmx1c2ggaWYgbmVj
ZXNzYXJ5ICovCiB2b2lkIHAybV93cml0ZV91bmxvY2soc3RydWN0IHAybV9k
b21haW4gKnAybSkKIHsKQEAgLTE2MDIsNyArMTY4OCw5IEBAIGludCBwMm1f
aW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgIHVuc2lnbmVkIGludCBjcHU7
CiAKICAgICByd2xvY2tfaW5pdCgmcDJtLT5sb2NrKTsKKyAgICBzcGluX2xv
Y2tfaW5pdCgmZC0+YXJjaC5wYWdpbmcubG9jayk7CiAgICAgSU5JVF9QQUdF
X0xJU1RfSEVBRCgmcDJtLT5wYWdlcyk7CisgICAgSU5JVF9QQUdFX0xJU1Rf
SEVBRCgmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKIAogICAgIHAy
bS0+dm1pZCA9IElOVkFMSURfVk1JRDsKIApkaWZmIC0tZ2l0IGEveGVuL2lu
Y2x1ZGUvYXNtLWFybS9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKaW5kZXggYmIwYTZhZGJlMDBiLi4xZDg5MzU3NzhmM2IgMTAw
NjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaApAQCAtNDAsNiArNDAsMTQg
QEAgc3RydWN0IHZ0aW1lciB7CiAgICAgdWludDY0X3QgY3ZhbDsKIH07CiAK
K3N0cnVjdCBwYWdpbmdfZG9tYWluIHsKKyAgICBzcGlubG9ja190IGxvY2s7
CisgICAgLyogRnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgcHJlLWFsbG9jYXRl
ZCBQMk0gcG9vbCAqLworICAgIHN0cnVjdCBwYWdlX2xpc3RfaGVhZCBwMm1f
ZnJlZWxpc3Q7CisgICAgLyogTnVtYmVyIG9mIHBhZ2VzIGZyb20gdGhlIHBy
ZS1hbGxvY2F0ZWQgUDJNIHBvb2wgKi8KKyAgICB1bnNpZ25lZCBsb25nIHAy
bV90b3RhbF9wYWdlczsKK307CisKIHN0cnVjdCBhcmNoX2RvbWFpbgogewog
I2lmZGVmIENPTkZJR19BUk1fNjQKQEAgLTUxLDYgKzU5LDggQEAgc3RydWN0
IGFyY2hfZG9tYWluCiAKICAgICBzdHJ1Y3QgaHZtX2RvbWFpbiBodm07CiAK
KyAgICBzdHJ1Y3QgcGFnaW5nX2RvbWFpbiBwYWdpbmc7CisKICAgICBzdHJ1
Y3Qgdm1taW8gdm1taW87CiAKICAgICAvKiBDb250aW51YWJsZSBkb21haW5f
cmVsaW5xdWlzaF9yZXNvdXJjZXMoKS4gKi8KZGlmZiAtLWdpdCBhL3hlbi9p
bmNsdWRlL2FzbS1hcm0vcDJtLmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL3Ay
bS5oCmluZGV4IDNhMmQ1MWIzNWQ3MS4uMTg2NzViMjM0NTcwIDEwMDY0NAot
LS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL3AybS5oCisrKyBiL3hlbi9pbmNs
dWRlL2FzbS1hcm0vcDJtLmgKQEAgLTIxOCw2ICsyMTgsMTAgQEAgdm9pZCBw
Mm1fcmVzdG9yZV9zdGF0ZShzdHJ1Y3QgdmNwdSAqbik7CiAvKiBQcmludCBk
ZWJ1Z2dpbmcvc3RhdGlzdGlhbCBpbmZvIGFib3V0IGEgZG9tYWluJ3MgcDJt
ICovCiB2b2lkIHAybV9kdW1wX2luZm8oc3RydWN0IGRvbWFpbiAqZCk7CiAK
K3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFp
biAqZCk7CitpbnQgcDJtX3NldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4g
KmQsIHVuc2lnbmVkIGxvbmcgcGFnZXMsIGJvb2wgKnByZWVtcHRlZCk7Citp
bnQgcDJtX3RlYXJkb3duX2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCk7
CisKIHN0YXRpYyBpbmxpbmUgdm9pZCBwMm1fd3JpdGVfbG9jayhzdHJ1Y3Qg
cDJtX2RvbWFpbiAqcDJtKQogewogICAgIHdyaXRlX2xvY2soJnAybS0+bG9j
ayk7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.15/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Disposition: attachment;
 filename="xsa409-4.15/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Transfer-Encoding: base64

RnJvbSA2YmI2OWQ3OGIxMmQ1YjVmMzA4YmU0MGI0OTdmNTZjMmQ0NWZhN2Fj
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOSArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMy80XSB4ZW4vYXJtLCBsaWJ4
bDogSW1wbGVtZW50IFhFTl9ET01DVExfc2hhZG93X29wIGZvciBBcm0KClRo
aXMgY29tbWl0IGltcGxlbWVudHMgdGhlIGBYRU5fRE9NQ1RMX3NoYWRvd19v
cGAgc3VwcG9ydCBpbiBYZW4KZm9yIEFybS4gVGhlIHAybSBwYWdlcyBwb29s
IHNpemUgZm9yIHhsIGd1ZXN0cyBpcyBzdXBwb3NlZCB0byBiZQpkZXRlcm1p
bmVkIGJ5IGBYRU5fRE9NQ1RMX3NoYWRvd19vcGAuIEhlbmNlLCB0aGlzIGNv
bW1pdDoKCi0gSW50cm9kdWNlcyBhIGZ1bmN0aW9uIGBwMm1fZG9tY3RsYCBh
bmQgaW1wbGVtZW50cyB0aGUgc3Vib3BzCmBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTmAgYW5kCmBYRU5fRE9NQ1RMX1NIQURPV19PUF9H
RVRfQUxMT0NBVElPTmAgb2YgYFhFTl9ET01DVExfc2hhZG93X29wYC4KCi0g
QWRkcyB0aGUgYFhFTl9ET01DVExfU0hBRE9XX09QX1NFVF9BTExPQ0FUSU9O
YCBzdXBwb3J0IGluIGxpYnhsLgoKVGhlcmVmb3JlIGVuYWJsaW5nIHRoZSBz
ZXR0aW5nIG9mIHNoYWRvdyBtZW1vcnkgcG9vbCBzaXplCndoZW4gY3JlYXRp
bmcgYSBndWVzdCBmcm9tIHhsIGFuZCBnZXR0aW5nIHNoYWRvdyBtZW1vcnkg
cG9vbCBzaXplCmZyb20gWGVuLgoKTm90ZSB0aGF0IHRoZSBgWEVOX0RPTUNU
TF9zaGFkb3dfb3BgIGFkZGVkIGluIHRoaXMgY29tbWl0IGlzIG9ubHkKYSBk
dW1teSBvcCwgYW5kIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNldHRpbmcvZ2V0
dGluZyBwMm0gbWVtb3J5IHBvb2wKc2l6ZSBmb3IgeGwgZ3Vlc3RzIHdpbGwg
YmUgYWRkZWQgaW4gZm9sbG93aW5nIGNvbW1pdHMuCgpUaGlzIGlzIHBhcnQg
b2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5LgoKU2lnbmVkLW9mZi1ieTog
SGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bhcm0uY29tPgpSZXZpZXdlZC1ieTog
U3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgot
LS0KIHRvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMgfCAxMiArKysrKysr
KysrKysKIHhlbi9hcmNoL2FybS9kb21jdGwuYyAgICAgICAgfCAzMiArKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogMiBmaWxlcyBjaGFuZ2Vk
LCA0NCBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9s
aWdodC9saWJ4bF9hcm0uYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJt
LmMKaW5kZXggZDU5YjQ2NDE5MmMyLi5kMjFmNjE0ZWQ3ODggMTAwNjQ0Ci0t
LSBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMKKysrIGIvdG9vbHMv
bGlicy9saWdodC9saWJ4bF9hcm0uYwpAQCAtMTMxLDYgKzEzMSwxOCBAQCBp
bnQgbGlieGxfX2FyY2hfZG9tYWluX2NyZWF0ZShsaWJ4bF9fZ2MgKmdjLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfX2RvbWFpbl9i
dWlsZF9zdGF0ZSAqc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50MzJfdCBkb21pZCkKIHsKKyAgICBsaWJ4bF9jdHggKmN0eCA9
IGxpYnhsX19nY19vd25lcihnYyk7CisgICAgdW5zaWduZWQgaW50IHNoYWRv
d19tYiA9IERJVl9ST1VORFVQKGRfY29uZmlnLT5iX2luZm8uc2hhZG93X21l
bWtiLCAxMDI0KTsKKworICAgIGludCByID0geGNfc2hhZG93X2NvbnRyb2wo
Y3R4LT54Y2gsIGRvbWlkLAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgWEVOX0RPTUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT04sCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAmc2hhZG93X21iLCAwKTsKKyAg
ICBpZiAocikgeworICAgICAgICBMT0dFRChFUlJPUiwgZG9taWQsCisgICAg
ICAgICAgICAgICJGYWlsZWQgdG8gc2V0ICV1IE1pQiBzaGFkb3cgYWxsb2Nh
dGlvbiIsIHNoYWRvd19tYik7CisgICAgICAgIHJldHVybiBFUlJPUl9GQUlM
OworICAgIH0KKwogICAgIHJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS94
ZW4vYXJjaC9hcm0vZG9tY3RsLmMgYi94ZW4vYXJjaC9hcm0vZG9tY3RsLmMK
aW5kZXggYThjNDhiMGJlYWFiLi5hMDQ5YmM3ZjNlNTIgMTAwNjQ0Ci0tLSBh
L3hlbi9hcmNoL2FybS9kb21jdGwuYworKysgYi94ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMKQEAgLTQ1LDExICs0NSw0MyBAQCBzdGF0aWMgaW50IGhhbmRsZV92
dWFydF9pbml0KHN0cnVjdCBkb21haW4gKmQsCiAgICAgcmV0dXJuIHJjOwog
fQogCitzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQs
IHN0cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCisgICAgICAgICAg
ICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0
bF90KSB1X2RvbWN0bCkKK3sKKyAgICBpZiAoIHVubGlrZWx5KGQgPT0gY3Vy
cmVudC0+ZG9tYWluKSApCisgICAgeworICAgICAgICBwcmludGsoWEVOTE9H
X0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9wIG9uIGl0c2VsZi5c
biIpOworICAgICAgICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKKyAgICBp
ZiAoIHVubGlrZWx5KGQtPmlzX2R5aW5nKSApCisgICAgeworICAgICAgICBw
cmludGsoWEVOTE9HX0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9w
IG9uIGR5aW5nIGRvbWFpbiAldVxuIiwKKyAgICAgICAgICAgICAgIGQtPmRv
bWFpbl9pZCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0KKwor
ICAgIHN3aXRjaCAoIHNjLT5vcCApCisgICAgeworICAgIGNhc2UgWEVOX0RP
TUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT046CisgICAgICAgIHJldHVy
biAwOworICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfR0VUX0FMTE9D
QVRJT046CisgICAgICAgIHJldHVybiAwOworICAgIGRlZmF1bHQ6CisgICAg
eworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwg
b3AgJXVcbiIsIHNjLT5vcCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOwor
ICAgIH0KKyAgICB9Cit9CisKIGxvbmcgYXJjaF9kb19kb21jdGwoc3RydWN0
IHhlbl9kb21jdGwgKmRvbWN0bCwgc3RydWN0IGRvbWFpbiAqZCwKICAgICAg
ICAgICAgICAgICAgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9t
Y3RsX3QpIHVfZG9tY3RsKQogewogICAgIHN3aXRjaCAoIGRvbWN0bC0+Y21k
ICkKICAgICB7CisgICAgY2FzZSBYRU5fRE9NQ1RMX3NoYWRvd19vcDoKKyAg
ICAgICAgcmV0dXJuIHAybV9kb21jdGwoZCwgJmRvbWN0bC0+dS5zaGFkb3df
b3AsIHVfZG9tY3RsKTsKICAgICBjYXNlIFhFTl9ET01DVExfY2FjaGVmbHVz
aDoKICAgICB7CiAgICAgICAgIGdmbl90IHMgPSBfZ2ZuKGRvbWN0bC0+dS5j
YWNoZWZsdXNoLnN0YXJ0X3Bmbik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.15/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Disposition: attachment;
 filename="xsa409-4.15/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Transfer-Encoding: base64

RnJvbSBiYTNkYTI3ZWFjNjMyNjQ3NmI5ZjE0MzBlMjA0YmFlNTEwODYzYjk3
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzozMCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggNC80XSB4ZW4vYXJtOiBBbGxv
Y2F0ZSBhbmQgZnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgUDJNIHBvb2wKClRo
aXMgY29tbWl0IHNldHMvdGVhcnNkb3duIG9mIHAybSBwYWdlcyBwb29sIGZv
ciBub24tcHJpdmlsZWdlZCBBcm0KZ3Vlc3RzIGJ5IGNhbGxpbmcgYHAybV9z
ZXRfYWxsb2NhdGlvbmAgYW5kIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAu
CgotIEZvciBkb20wLCBQMk0gcGFnZXMgc2hvdWxkIGNvbWUgZnJvbSBoZWFw
IGRpcmVjdGx5IGluc3RlYWQgb2YgcDJtCnBvb2wsIHNvIHRoYXQgdGhlIGtl
cm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGV4dGVuZGVkIHJlZ2lv
bnMuCgotIEZvciB4bCBndWVzdHMsIHRoZSBzZXR0aW5nIG9mIHRoZSBwMm0g
cG9vbCBpcyBjYWxsZWQgaW4KYFhFTl9ET01DVExfc2hhZG93X29wYCBhbmQg
dGhlIHAybSBwb29sIGlzIGRlc3Ryb3llZCBpbgpgZG9tYWluX3JlbGlucXVp
c2hfcmVzb3VyY2VzYC4gTm90ZSB0aGF0IGRvbWN0bC0+dS5zaGFkb3dfb3Au
bWIgaXMKdXBkYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZSB3aGVuIHNldHRpbmcg
dGhlIHAybSBwb29sLgoKLSBGb3IgZG9tMGxlc3MgZG9tVXMsIHRoZSBzZXR0
aW5nIG9mIHRoZSBwMm0gcG9vbCBpcyBjYWxsZWQgYmVmb3JlCmFsbG9jYXRp
bmcgbWVtb3J5IGR1cmluZyBkb21haW4gY3JlYXRpb24uIFVzZXJzIGNhbiBz
cGVjaWZ5IHRoZSBwMm0KcG9vbCBzaXplIGJ5IGB4ZW4sZG9tYWluLXAybS1t
ZW0tbWJgIGR0cyBwcm9wZXJ0eS4KClRvIGFjdHVhbGx5IGFsbG9jYXRlL2Zy
ZWUgcGFnZXMgZnJvbSB0aGUgcDJtIHBvb2wsIHRoaXMgY29tbWl0IGFkZHMK
dHdvIGhlbHBlciBmdW5jdGlvbnMgbmFtZWx5IGBwMm1fYWxsb2NfcGFnZWAg
YW5kIGBwMm1fZnJlZV9wYWdlYCB0bwpgc3RydWN0IHAybV9kb21haW5gLiBC
eSByZXBsYWNpbmcgdGhlIGBhbGxvY19kb21oZWFwX3BhZ2VgIGFuZApgZnJl
ZV9kb21oZWFwX3BhZ2VgIHdpdGggdGhlc2UgdHdvIGhlbHBlciBmdW5jdGlv
bnMsIHAybSBwYWdlcyBjYW4KYmUgYWRkZWQvcmVtb3ZlZCBmcm9tIHRoZSBs
aXN0IG9mIHAybSBwb29sIHJhdGhlciB0aGFuIGZyb20gdGhlIGhlYXAuCgpT
aW5jZSBwYWdlIGZyb20gYHAybV9hbGxvY19wYWdlYCBpcyBjbGVhbmVkLCB0
YWtlIHRoZSBvcHBvcnR1bml0eQp0byByZW1vdmUgdGhlIHJlZHVuZGFudCBg
Y2xlYW5fcGFnZWAgaW4gYHAybV9jcmVhdGVfdGFibGVgLgoKVGhpcyBpcyBw
YXJ0IG9mIENWRS0yMDIyLTMzNzQ3IC8gWFNBLTQwOS4KClNpZ25lZC1vZmYt
Ynk6IEhlbnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQt
Ynk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9y
Zz4KLS0tCiBkb2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0
IHwgIDggKysrKwogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAg
ICAgICB8ICA2ICsrKwogeGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jICAg
ICAgICAgICB8IDI5ICsrKysrKysrKysrKysrCiB4ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMgICAgICAgICAgICAgICAgIHwgMjMgKysrKysrKysrKy0KIHhlbi9h
cmNoL2FybS9wMm0uYyAgICAgICAgICAgICAgICAgICAgfCA1NyArKysrKysr
KysrKysrKysrKysrKysrKysrLS0KIDUgZmlsZXMgY2hhbmdlZCwgMTE4IGlu
c2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL2FybS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dCBiL2RvY3MvbWlz
Yy9hcm0vZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKaW5kZXggNTI0M2JjN2Zk
MzQ0Li40NzBjOTQ5MWE3ODEgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy9hcm0v
ZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKKysrIGIvZG9jcy9taXNjL2FybS9k
ZXZpY2UtdHJlZS9ib290aW5nLnR4dApAQCAtMTY0LDYgKzE2NCwxNCBAQCB3
aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAgICBCb3RoICNhZGRy
ZXNzLWNlbGxzIGFuZCAjc2l6ZS1jZWxscyBuZWVkIHRvIGJlIHNwZWNpZmll
ZCBiZWNhdXNlCiAgICAgYm90aCBzdWItbm9kZXMgKGRlc2NyaWJlZCBzaG9y
dGx5KSBoYXZlIHJlZyBwcm9wZXJ0aWVzLgogCistIHhlbixkb21haW4tcDJt
LW1lbS1tYgorCisgICAgT3B0aW9uYWwuIEEgMzItYml0IGludGVnZXIgc3Bl
Y2lmeWluZyB0aGUgYW1vdW50IG9mIG1lZ2FieXRlcyBvZiBSQU0KKyAgICB1
c2VkIGZvciB0aGUgZG9tYWluIFAyTSBwb29sLiBUaGlzIGlzIGluLXN5bmMg
d2l0aCB0aGUgc2hhZG93X21lbW9yeQorICAgIG9wdGlvbiBpbiB4bC5jZmcu
IExlYXZpbmcgdGhpcyBmaWVsZCBlbXB0eSBpbiBkZXZpY2UgdHJlZSB3aWxs
IGxlYWQgdG8KKyAgICB0aGUgZGVmYXVsdCBzaXplIG9mIGRvbWFpbiBQMk0g
cG9vbCwgaS5lLiAxTUIgcGVyIGd1ZXN0IHZDUFUgcGx1cyA0S0IKKyAgICBw
ZXIgTUIgb2YgZ3Vlc3QgUkFNIHBsdXMgNTEyS0IgZm9yIGd1ZXN0IGV4dGVu
ZGVkIHJlZ2lvbnMuCisKIFVuZGVyIHRoZSAieGVuLGRvbWFpbiIgY29tcGF0
aWJsZSBub2RlLCBvbmUgb3IgbW9yZSBzdWItbm9kZXMgYXJlIHByZXNlbnQK
IGZvciB0aGUgRG9tVSBrZXJuZWwgYW5kIHJhbWRpc2suCiAKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL2FybS9kb21haW4uYyBiL3hlbi9hcmNoL2FybS9kb21h
aW4uYwppbmRleCAyMjNlYzk2OTRkZjEuLmE1ZmZkOTUyZWNkMCAxMDA2NDQK
LS0tIGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jCisrKyBiL3hlbi9hcmNoL2Fy
bS9kb21haW4uYwpAQCAtOTg1LDYgKzk4NSw3IEBAIGVudW0gewogICAgIFBS
T0dfcGFnZSwKICAgICBQUk9HX21hcHBpbmcsCiAgICAgUFJPR19wMm0sCisg
ICAgUFJPR19wMm1fcG9vbCwKICAgICBQUk9HX2RvbmUsCiB9OwogCkBAIC0x
MDQ0LDYgKzEwNDUsMTEgQEAgaW50IGRvbWFpbl9yZWxpbnF1aXNoX3Jlc291
cmNlcyhzdHJ1Y3QgZG9tYWluICpkKQogICAgICAgICBpZiAoIHJldCApCiAg
ICAgICAgICAgICByZXR1cm4gcmV0OwogCisgICAgUFJPR1JFU1MocDJtX3Bv
b2wpOgorICAgICAgICByZXQgPSBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbihk
KTsKKyAgICAgICAgaWYoIHJldCApCisgICAgICAgICAgICByZXR1cm4gcmV0
OworCiAgICAgUFJPR1JFU1MoZG9uZSk6CiAgICAgICAgIGJyZWFrOwogCmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMgYi94ZW4v
YXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKaW5kZXggMjZjMTM0Mjk0ODhkLi5k
ZjBlYzg0ZjAzNGMgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9kb21haW5f
YnVpbGQuYworKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKQEAg
LTIzMzMsNiArMjMzMywyMSBAQCBzdGF0aWMgdm9pZCBfX2luaXQgZmluZF9n
bnR0YWJfcmVnaW9uKHN0cnVjdCBkb21haW4gKmQsCiAgICAgICAgICAgIGtp
bmZvLT5nbnR0YWJfc3RhcnQsIGtpbmZvLT5nbnR0YWJfc3RhcnQgKyBraW5m
by0+Z250dGFiX3NpemUpOwogfQogCitzdGF0aWMgdW5zaWduZWQgbG9uZyBf
X2luaXQgZG9tYWluX3AybV9wYWdlcyh1bnNpZ25lZCBsb25nIG1heG1lbV9r
YiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCBzbXBfY3B1cykKK3sKKyAgICAvKgorICAgICAq
IEtlZXAgaW4gc3luYyB3aXRoIGxpYnhsX19nZXRfcmVxdWlyZWRfcGFnaW5n
X21lbW9yeSgpLgorICAgICAqIDI1NiBwYWdlcyAoMU1CKSBwZXIgdmNwdSwg
cGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQMk0gbWFwLAor
ICAgICAqIHBsdXMgMTI4IHBhZ2VzIHRvIGNvdmVyIGV4dGVuZGVkIHJlZ2lv
bnMuCisgICAgICovCisgICAgdW5zaWduZWQgbG9uZyBtZW1rYiA9IDQgKiAo
MjU2ICogc21wX2NwdXMgKyAobWF4bWVtX2tiIC8gMTAyNCkgKyAxMjgpOwor
CisgICAgQlVJTERfQlVHX09OKFBBR0VfU0laRSAhPSBTWl80Syk7CisKKyAg
ICByZXR1cm4gRElWX1JPVU5EX1VQKG1lbWtiLCAxMDI0KSA8PCAoMjAgLSBQ
QUdFX1NISUZUKTsKK30KKwogc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0
X2RvbWFpbihzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3Qga2VybmVsX2luZm8g
KmtpbmZvKQogewogICAgIHVuc2lnbmVkIGludCBpOwpAQCAtMjQyNCw2ICsy
NDM5LDggQEAgc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0X2RvbVUoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICBzdHJ1Y3Qga2VybmVsX2luZm8ga2luZm8g
PSB7fTsKICAgICBpbnQgcmM7CiAgICAgdTY0IG1lbTsKKyAgICB1MzIgcDJt
X21lbV9tYjsKKyAgICB1bnNpZ25lZCBsb25nIHAybV9wYWdlczsKIAogICAg
IHJjID0gZHRfcHJvcGVydHlfcmVhZF91NjQobm9kZSwgIm1lbW9yeSIsICZt
ZW0pOwogICAgIGlmICggIXJjICkKQEAgLTI0MzMsNiArMjQ1MCwxOCBAQCBz
dGF0aWMgaW50IF9faW5pdCBjb25zdHJ1Y3RfZG9tVShzdHJ1Y3QgZG9tYWlu
ICpkLAogICAgIH0KICAgICBraW5mby51bmFzc2lnbmVkX21lbSA9IChwYWRk
cl90KW1lbSAqIFNaXzFLOwogCisgICAgcmMgPSBkdF9wcm9wZXJ0eV9yZWFk
X3UzMihub2RlLCAieGVuLGRvbWFpbi1wMm0tbWVtLW1iIiwgJnAybV9tZW1f
bWIpOworICAgIC8qIElmIHhlbixkb21haW4tcDJtLW1lbS1tYiBpcyBub3Qg
c3BlY2lmaWVkLCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuICovCisgICAgcDJt
X3BhZ2VzID0gcmMgPworICAgICAgICAgICAgICAgIHAybV9tZW1fbWIgPDwg
KDIwIC0gUEFHRV9TSElGVCkgOgorICAgICAgICAgICAgICAgIGRvbWFpbl9w
Mm1fcGFnZXMobWVtLCBkLT5tYXhfdmNwdXMpOworCisgICAgc3Bpbl9sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICByYyA9IHAybV9zZXRfYWxs
b2NhdGlvbihkLCBwMm1fcGFnZXMsIE5VTEwpOworICAgIHNwaW5fdW5sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICBpZiAoIHJjICE9IDAgKQor
ICAgICAgICByZXR1cm4gcmM7CisKICAgICBwcmludGsoIioqKiBMT0FESU5H
IERPTVUgY3B1cz0ldSBtZW1vcnk9JSJQUkl4NjQiS0IgKioqXG4iLCBkLT5t
YXhfdmNwdXMsIG1lbSk7CiAKICAgICBraW5mby52cGwwMTEgPSBkdF9wcm9w
ZXJ0eV9yZWFkX2Jvb2wobm9kZSwgInZwbDAxMSIpOwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL2RvbWN0bC5jIGIveGVuL2FyY2gvYXJtL2RvbWN0bC5j
CmluZGV4IGEwNDliYzdmM2U1Mi4uNGFiNWVkNGFiMjRkIDEwMDY0NAotLS0g
YS94ZW4vYXJjaC9hcm0vZG9tY3RsLmMKKysrIGIveGVuL2FyY2gvYXJtL2Rv
bWN0bC5jCkBAIC00OCw2ICs0OCw5IEBAIHN0YXRpYyBpbnQgaGFuZGxlX3Z1
YXJ0X2luaXQoc3RydWN0IGRvbWFpbiAqZCwKIHN0YXRpYyBsb25nIHAybV9k
b21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9kb21jdGxfc2hh
ZG93X29wICpzYywKICAgICAgICAgICAgICAgICAgICAgICAgWEVOX0dVRVNU
X0hBTkRMRV9QQVJBTSh4ZW5fZG9tY3RsX3QpIHVfZG9tY3RsKQogeworICAg
IGxvbmcgcmM7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsKKwogICAg
IGlmICggdW5saWtlbHkoZCA9PSBjdXJyZW50LT5kb21haW4pICkKICAgICB7
CiAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJUcmllZCB0byBkbyBhIHAy
bSBkb21jdGwgb3Agb24gaXRzZWxmLlxuIik7CkBAIC02NCw5ICs2NywyNyBA
QCBzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQsIHN0
cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCiAgICAgc3dpdGNoICgg
c2MtPm9wICkKICAgICB7CiAgICAgY2FzZSBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTjoKLSAgICAgICAgcmV0dXJuIDA7CisgICAgewor
ICAgICAgICAvKiBBbGxvdyBhbmQgaGFuZGxlIHByZWVtcHRpb24gKi8KKyAg
ICAgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICAg
ICAgcmMgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgc2MtPm1iIDw8ICgyMCAt
IFBBR0VfU0hJRlQpLCAmcHJlZW1wdGVkKTsKKyAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworCisgICAgICAgIGlmICggcHJl
ZW1wdGVkICkKKyAgICAgICAgICAgIC8qIE5vdCBmaW5pc2hlZC4gU2V0IHVw
IHRvIHJlLXJ1biB0aGUgY2FsbC4gKi8KKyAgICAgICAgICAgIHJjID0gaHlw
ZXJjYWxsX2NyZWF0ZV9jb250aW51YXRpb24oX19IWVBFUlZJU09SX2RvbWN0
bCwgImgiLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1X2RvbWN0bCk7CisgICAgICAgIGVsc2UKKyAgICAgICAg
ICAgIC8qIEZpbmlzaGVkLiBSZXR1cm4gdGhlIG5ldyBhbGxvY2F0aW9uLiAq
LworICAgICAgICAgICAgc2MtPm1iID0gcDJtX2dldF9hbGxvY2F0aW9uKGQp
OworCisgICAgICAgIHJldHVybiByYzsKKyAgICB9CiAgICAgY2FzZSBYRU5f
RE9NQ1RMX1NIQURPV19PUF9HRVRfQUxMT0NBVElPTjoKKyAgICB7CisgICAg
ICAgIHNjLT5tYiA9IHAybV9nZXRfYWxsb2NhdGlvbihkKTsKICAgICAgICAg
cmV0dXJuIDA7CisgICAgfQogICAgIGRlZmF1bHQ6CiAgICAgewogICAgICAg
ICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwgb3AgJXVcbiIs
IHNjLT5vcCk7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vcDJtLmMgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKaW5kZXggNjg4M2Q4NjI3NzAyLi5jMTA1NWZm
MmE3NDUgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9wMm0uYworKysgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKQEAgLTUwLDYgKzUwLDU0IEBAIHN0YXRpYyB1
aW50NjRfdCBnZW5lcmF0ZV92dHRicih1aW50MTZfdCB2bWlkLCBtZm5fdCBy
b290X21mbikKICAgICByZXR1cm4gKG1mbl90b19tYWRkcihyb290X21mbikg
fCAoKHVpbnQ2NF90KXZtaWQgPDwgNDgpKTsKIH0KIAorc3RhdGljIHN0cnVj
dCBwYWdlX2luZm8gKnAybV9hbGxvY19wYWdlKHN0cnVjdCBkb21haW4gKmQp
Cit7CisgICAgc3RydWN0IHBhZ2VfaW5mbyAqcGc7CisKKyAgICBzcGluX2xv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgIC8qCisgICAgICogRm9y
IGhhcmR3YXJlIGRvbWFpbiwgdGhlcmUgc2hvdWxkIGJlIG5vIGxpbWl0IGlu
IHRoZSBudW1iZXIgb2YgcGFnZXMgdGhhdAorICAgICAqIGNhbiBiZSBhbGxv
Y2F0ZWQsIHNvIHRoYXQgdGhlIGtlcm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ug
b2YgdGhlIGV4dGVuZGVkCisgICAgICogcmVnaW9ucy4gSGVuY2UsIGFsbG9j
YXRlIHAybSBwYWdlcyBmb3IgaGFyZHdhcmUgZG9tYWlucyBmcm9tIGhlYXAu
CisgICAgICovCisgICAgaWYgKCBpc19oYXJkd2FyZV9kb21haW4oZCkgKQor
ICAgIHsKKyAgICAgICAgcGcgPSBhbGxvY19kb21oZWFwX3BhZ2UoTlVMTCwg
MCk7CisgICAgICAgIGlmICggcGcgPT0gTlVMTCApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIkZhaWxlZCB0byBhbGxv
Y2F0ZSBQMk0gcGFnZXMgZm9yIGh3ZG9tLlxuIik7CisgICAgICAgICAgICBz
cGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAgICAgICAg
ICByZXR1cm4gTlVMTDsKKyAgICAgICAgfQorICAgIH0KKyAgICBlbHNlCisg
ICAgeworICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgmZC0+
YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgaWYgKCB1bmxp
a2VseSghcGcpICkKKyAgICAgICAgeworICAgICAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgICAgICAgICAgcmV0dXJu
IE5VTEw7CisgICAgICAgIH0KKyAgICAgICAgZC0+YXJjaC5wYWdpbmcucDJt
X3RvdGFsX3BhZ2VzLS07CisgICAgfQorICAgIHNwaW5fdW5sb2NrKCZkLT5h
cmNoLnBhZ2luZy5sb2NrKTsKKworICAgIHJldHVybiBwZzsKK30KKworc3Rh
dGljIHZvaWQgcDJtX2ZyZWVfcGFnZShzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1
Y3QgcGFnZV9pbmZvICpwZykKK3sKKyAgICBzcGluX2xvY2soJmQtPmFyY2gu
cGFnaW5nLmxvY2spOworICAgIGlmICggaXNfaGFyZHdhcmVfZG9tYWluKGQp
ICkKKyAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcpOworICAgIGVsc2UK
KyAgICB7CisgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cysrOworICAgICAgICBwYWdlX2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNo
LnBhZ2luZy5wMm1fZnJlZWxpc3QpOworICAgIH0KKyAgICBzcGluX3VubG9j
aygmZC0+YXJjaC5wYWdpbmcubG9jayk7Cit9CisKIC8qIFJldHVybiB0aGUg
c2l6ZSBvZiB0aGUgcG9vbCwgcm91bmRlZCB1cCB0byB0aGUgbmVhcmVzdCBN
QiAqLwogdW5zaWduZWQgaW50IHAybV9nZXRfYWxsb2NhdGlvbihzdHJ1Y3Qg
ZG9tYWluICpkKQogewpAQCAtNzUxLDcgKzc5OSw3IEBAIHN0YXRpYyBpbnQg
cDJtX2NyZWF0ZV90YWJsZShzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCBscGFl
X3QgKmVudHJ5KQogCiAgICAgQVNTRVJUKCFwMm1faXNfdmFsaWQoKmVudHJ5
KSk7CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDAp
OworICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAg
ICAgaWYgKCBwYWdlID09IE5VTEwgKQogICAgICAgICByZXR1cm4gLUVOT01F
TTsKIApAQCAtODc4LDcgKzkyNiw3IEBAIHN0YXRpYyB2b2lkIHAybV9mcmVl
X2VudHJ5KHN0cnVjdCBwMm1fZG9tYWluICpwMm0sCiAgICAgcGcgPSBtZm5f
dG9fcGFnZShtZm4pOwogCiAgICAgcGFnZV9saXN0X2RlbChwZywgJnAybS0+
cGFnZXMpOwotICAgIGZyZWVfZG9taGVhcF9wYWdlKHBnKTsKKyAgICBwMm1f
ZnJlZV9wYWdlKHAybS0+ZG9tYWluLCBwZyk7CiB9CiAKIHN0YXRpYyBib29s
IHAybV9zcGxpdF9zdXBlcnBhZ2Uoc3RydWN0IHAybV9kb21haW4gKnAybSwg
bHBhZV90ICplbnRyeSwKQEAgLTkwMiw3ICs5NTAsNyBAQCBzdGF0aWMgYm9v
bCBwMm1fc3BsaXRfc3VwZXJwYWdlKHN0cnVjdCBwMm1fZG9tYWluICpwMm0s
IGxwYWVfdCAqZW50cnksCiAgICAgQVNTRVJUKGxldmVsIDwgdGFyZ2V0KTsK
ICAgICBBU1NFUlQocDJtX2lzX3N1cGVycGFnZSgqZW50cnksIGxldmVsKSk7
CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDApOwor
ICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAgICAg
aWYgKCAhcGFnZSApCiAgICAgICAgIHJldHVybiBmYWxzZTsKIApAQCAtMTY0
NCw3ICsxNjkyLDcgQEAgaW50IHAybV90ZWFyZG93bihzdHJ1Y3QgZG9tYWlu
ICpkKQogCiAgICAgd2hpbGUgKCAocGcgPSBwYWdlX2xpc3RfcmVtb3ZlX2hl
YWQoJnAybS0+cGFnZXMpKSApCiAgICAgewotICAgICAgICBmcmVlX2RvbWhl
YXBfcGFnZShwZyk7CisgICAgICAgIHAybV9mcmVlX3BhZ2UocDJtLT5kb21h
aW4sIHBnKTsKICAgICAgICAgY291bnQrKzsKICAgICAgICAgLyogQXJiaXRy
YXJpbHkgcHJlZW1wdCBldmVyeSA1MTIgaXRlcmF0aW9ucyAqLwogICAgICAg
ICBpZiAoICEoY291bnQgJSA1MTIpICYmIGh5cGVyY2FsbF9wcmVlbXB0X2No
ZWNrKCkgKQpAQCAtMTY2OCw2ICsxNzE2LDcgQEAgdm9pZCBwMm1fZmluYWxf
dGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKICAgICAgICAgcmV0dXJuOwog
CiAgICAgQVNTRVJUKHBhZ2VfbGlzdF9lbXB0eSgmcDJtLT5wYWdlcykpOwor
ICAgIEFTU0VSVChwYWdlX2xpc3RfZW1wdHkoJmQtPmFyY2gucGFnaW5nLnAy
bV9mcmVlbGlzdCkpOwogCiAgICAgaWYgKCBwMm0tPnJvb3QgKQogICAgICAg
ICBmcmVlX2RvbWhlYXBfcGFnZXMocDJtLT5yb290LCBQMk1fUk9PVF9PUkRF
Uik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.16/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Disposition: attachment;
 filename="xsa409-4.16/0001-libxl-docs-Use-arch-specific-default-paging-memory.patch"
Content-Transfer-Encoding: base64

RnJvbSBiZDRhN2RiNDAwMTM2NGZkMDNhODBhMmU3M2I4MWM0NmFhYTQ0ZTlj
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgMjIgQXVnIDIwMjIgMDE6
MzU6MDkgKzAwMDAKU3ViamVjdDogW1BBVENIIDEvNF0gbGlieGwsIGRvY3M6
IFVzZSBhcmNoLXNwZWNpZmljIGRlZmF1bHQgcGFnaW5nIG1lbW9yeQoKVGhl
IGRlZmF1bHQgcGFnaW5nIG1lbW9yeSAoZGVzY2liZWQgaW4gYHNoYWRvd19t
ZW1vcnlgIGVudHJ5IGluIHhsCmNvbmZpZykgaW4gbGlieGwgaXMgdXNlZCB0
byBkZXRlcm1pbmUgdGhlIG1lbW9yeSBwb29sIHNpemUgZm9yIHhsCmd1ZXN0
cy4gQ3VycmVudGx5IHRoaXMgc2l6ZSBpcyBvbmx5IHVzZWQgZm9yIHg4Niwg
YW5kIGNvbnRhaW5zIGEgcGFydApvZiBSQU0gdG8gc2hhZG93IHRoZSByZXNp
ZGVudCBwcm9jZXNzZXMuIFNpbmNlIG9uIEFybSB0aGVyZSBpcyBubwpzaGFk
b3cgbW9kZSBndWVzdHMsIHNvIHRoZSBwYXJ0IG9mIFJBTSB0byBzaGFkb3cg
dGhlIHJlc2lkZW50IHByb2Nlc3NlcwppcyBub3QgbmVjZXNzYXJ5LiBUaGVy
ZWZvcmUsIHRoaXMgY29tbWl0IHNwbGl0cyB0aGUgZnVuY3Rpb24KYGxpYnhs
X2dldF9yZXF1aXJlZF9zaGFkb3dfbWVtb3J5KClgIHRvIGFyY2ggc3BlY2lm
aWMgaGVscGVycyBhbmQKcmVuYW1lZCB0aGUgaGVscGVyIHRvIGBsaWJ4bF9f
YXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSgpYC4KCk9uIHg4Niwg
dGhpcyBoZWxwZXIgY2FsbHMgdGhlIG9yaWdpbmFsIHZhbHVlIGZyb20KYGxp
YnhsX2dldF9yZXF1aXJlZF9zaGFkb3dfbWVtb3J5KClgIHNvIG5vIGZ1bmN0
aW9uYWwgY2hhbmdlIGludGVuZGVkLgoKT24gQXJtLCB0aGlzIGhlbHBlciBy
ZXR1cm5zIDFNQiBwZXIgdmNwdSBwbHVzIDRLQiBwZXIgTWlCIG9mIFJBTQpm
b3IgdGhlIFAyTSBtYXAgYW5kIGFkZGl0aW9uYWwgNTEyS0IuCgpBbHNvIHVw
ZGF0ZSB0aGUgeGwuY2ZnIGRvY3VtZW50YXRpb24gdG8gYWRkIEFybSBkb2N1
bWVudGF0aW9uCmFjY29yZGluZyB0byBjb2RlIGNoYW5nZXMgYW5kIGNvcnJl
Y3QgdGhlIGNvbW1lbnQgc3R5bGUgZm9sbG93aW5nIFhlbgpjb2Rpbmcgc3R5
bGUuCgpUaGlzIGlzIHBhcnQgb2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5
LgoKU3VnZ2VzdGVkLWJ5OiBKdWxpZW4gR3JhbGwgPGpncmFsbEBhbWF6b24u
Y29tPgpTaWduZWQtb2ZmLWJ5OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFy
bS5jb20+ClJldmlld2VkLWJ5OiBBbnRob255IFBFUkFSRCA8YW50aG9ueS5w
ZXJhcmRAY2l0cml4LmNvbT4KLS0tCiBkb2NzL21hbi94bC5jZmcuNS5wb2Qu
aW4gICAgICAgfCAgNSArKysrKwogdG9vbHMvbGlicy9saWdodC9saWJ4bF9h
cmNoLmggIHwgIDQgKysrKwogdG9vbHMvbGlicy9saWdodC9saWJ4bF9hcm0u
YyAgIHwgMTQgKysrKysrKysrKysrKysKIHRvb2xzL2xpYnMvbGlnaHQvbGli
eGxfdXRpbHMuYyB8ICA5ICsrLS0tLS0tLQogdG9vbHMvbGlicy9saWdodC9s
aWJ4bF94ODYuYyAgIHwgMTMgKysrKysrKysrKysrKwogNSBmaWxlcyBjaGFu
Z2VkLCAzOCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQoKZGlmZiAt
LWdpdCBhL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiBiL2RvY3MvbWFuL3hs
LmNmZy41LnBvZC5pbgppbmRleCBiOThkMTYxMzk4N2UuLmVkYTFlNzdlYmQw
NiAxMDA2NDQKLS0tIGEvZG9jcy9tYW4veGwuY2ZnLjUucG9kLmluCisrKyBi
L2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgpAQCAtMTc2OCw2ICsxNzY4LDEx
IEBAIGFyZSBub3QgdXNpbmcgaGFyZHdhcmUgYXNzaXN0ZWQgcGFnaW5nIChp
LmUuIHlvdSBhcmUgdXNpbmcgc2hhZG93CiBtb2RlKSBhbmQgeW91ciBndWVz
dCB3b3JrbG9hZCBjb25zaXN0cyBvZiBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9m
CiBzaW1pbGFyIHByb2Nlc3NlcyB0aGVuIGluY3JlYXNpbmcgdGhpcyB2YWx1
ZSBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZS4KIAorT24gQXJtLCB0aGlzIGZp
ZWxkIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBndWVz
dCBQMk0gcGFnZXMKK3Bvb2wsIGFuZCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyAx
TUIgcGVyIHZDUFUgcGx1cyA0S0IgcGVyIE1CIG9mIFJBTSBmb3IKK3RoZSBQ
Mk0gbWFwIGFuZCBhZGRpdGlvbmFsIDUxMktCIGZvciBleHRlbmRlZCByZWdp
b25zLiBVc2VycyBzaG91bGQKK2FkanVzdCB0aGlzIHZhbHVlIGlmIGJpZ2dl
ciBQMk0gcG9vbCBzaXplIGlzIG5lZWRlZC4KKwogPWJhY2sKIAogPWhlYWQz
IFByb2Nlc3NvciBhbmQgUGxhdGZvcm0gRmVhdHVyZXMKZGlmZiAtLWdpdCBh
L3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJjaC5oIGIvdG9vbHMvbGlicy9s
aWdodC9saWJ4bF9hcmNoLmgKaW5kZXggMTUyMmVjYjk3ZjcyLi41YTA2MGMy
YzMwMzMgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJj
aC5oCisrKyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJjaC5oCkBAIC05
MCw2ICs5MCwxMCBAQCB2b2lkIGxpYnhsX19hcmNoX3VwZGF0ZV9kb21haW5f
Y29uZmlnKGxpYnhsX19nYyAqZ2MsCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxpYnhsX2RvbWFpbl9jb25maWcgKmRzdCwKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGli
eGxfZG9tYWluX2NvbmZpZyAqc3JjKTsKIAorX2hpZGRlbgordW5zaWduZWQg
bG9uZyBsaWJ4bF9fYXJjaF9nZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1
bnNpZ25lZCBsb25nIG1heG1lbV9rYiwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50
IHNtcF9jcHVzKTsKKwogI2lmIGRlZmluZWQoX19pMzg2X18pIHx8IGRlZmlu
ZWQoX194ODZfNjRfXykKIAogI2RlZmluZSBMQVBJQ19CQVNFX0FERFJFU1Mg
IDB4ZmVlMDAwMDAKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnMvbGlnaHQvbGli
eGxfYXJtLmMgYi90b29scy9saWJzL2xpZ2h0L2xpYnhsX2FybS5jCmluZGV4
IGVlZjFkZTA5MzkxNC4uNzNhOTVlODNhZjI0IDEwMDY0NAotLS0gYS90b29s
cy9saWJzL2xpZ2h0L2xpYnhsX2FybS5jCisrKyBiL3Rvb2xzL2xpYnMvbGln
aHQvbGlieGxfYXJtLmMKQEAgLTE1NCw2ICsxNTQsMjAgQEAgb3V0OgogICAg
IHJldHVybiByYzsKIH0KIAordW5zaWduZWQgbG9uZyBsaWJ4bF9fYXJjaF9n
ZXRfcmVxdWlyZWRfcGFnaW5nX21lbW9yeSh1bnNpZ25lZCBsb25nIG1heG1l
bV9rYiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IHNtcF9jcHVzKQoreworICAg
IC8qCisgICAgICogMjU2IHBhZ2VzICgxTUIpIHBlciB2Y3B1LAorICAgICAq
IHBsdXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIGZvciB0aGUgUDJNIG1hcCwK
KyAgICAgKiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9mIGV4dGVuZGVkIHJlZ2lv
bi4gVGhpcyBkZWZhdWx0IHZhbHVlIGlzIDEyOCBNaUIKKyAgICAgKiB3aGlj
aCBzaG91bGQgYmUgZW5vdWdoIGZvciBkb21haW5zIHRoYXQgYXJlIG5vdCBy
dW5uaW5nIGJhY2tlbmQuCisgICAgICogVGhpcyBpcyBoaWdoZXIgdGhhbiB0
aGUgbWluaW11bSB0aGF0IFhlbiB3b3VsZCBhbGxvY2F0ZSBpZiBubyB2YWx1
ZQorICAgICAqIHdlcmUgZ2l2ZW4gKGJ1dCB0aGUgWGVuIG1pbmltdW0gaXMg
Zm9yIHNhZmV0eSwgbm90IHBlcmZvcm1hbmNlKS4KKyAgICAgKi8KKyAgICBy
ZXR1cm4gNCAqICgyNTYgKiBzbXBfY3B1cyArIG1heG1lbV9rYiAvIDEwMjQg
KyAxMjgpOworfQorCiBzdGF0aWMgc3RydWN0IGFyY2hfaW5mbyB7CiAgICAg
Y29uc3QgY2hhciAqZ3Vlc3RfdHlwZTsKICAgICBjb25zdCBjaGFyICp0aW1l
cl9jb21wYXQ7CmRpZmYgLS1naXQgYS90b29scy9saWJzL2xpZ2h0L2xpYnhs
X3V0aWxzLmMgYi90b29scy9saWJzL2xpZ2h0L2xpYnhsX3V0aWxzLmMKaW5k
ZXggNDY5OWM0YTBhMzZmLi5lMjc2YzBlZTljYzMgMTAwNjQ0Ci0tLSBhL3Rv
b2xzL2xpYnMvbGlnaHQvbGlieGxfdXRpbHMuYworKysgYi90b29scy9saWJz
L2xpZ2h0L2xpYnhsX3V0aWxzLmMKQEAgLTE4LDYgKzE4LDcgQEAKICNpbmNs
dWRlIDxjdHlwZS5oPgogCiAjaW5jbHVkZSAibGlieGxfaW50ZXJuYWwuaCIK
KyNpbmNsdWRlICJsaWJ4bF9hcmNoLmgiCiAjaW5jbHVkZSAiX3BhdGhzLmgi
CiAKICNpZm5kZWYgTElCWExfSEFWRV9OT05DT05TVF9MSUJYTF9CQVNFTkFN
RV9SRVRVUk5fVkFMVUUKQEAgLTM5LDEzICs0MCw3IEBAIGNoYXIgKmxpYnhs
X2Jhc2VuYW1lKGNvbnN0IGNoYXIgKm5hbWUpCiAKIHVuc2lnbmVkIGxvbmcg
bGlieGxfZ2V0X3JlcXVpcmVkX3NoYWRvd19tZW1vcnkodW5zaWduZWQgbG9u
ZyBtYXhtZW1fa2IsIHVuc2lnbmVkIGludCBzbXBfY3B1cykKIHsKLSAgICAv
KiAyNTYgcGFnZXMgKDFNQikgcGVyIHZjcHUsCi0gICAgICAgcGx1cyAxIHBh
Z2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQMk0gbWFwLAotICAgICAgIHBs
dXMgMSBwYWdlIHBlciBNaUIgb2YgUkFNIHRvIHNoYWRvdyB0aGUgcmVzaWRl
bnQgcHJvY2Vzc2VzLgotICAgICAgIFRoaXMgaXMgaGlnaGVyIHRoYW4gdGhl
IG1pbmltdW0gdGhhdCBYZW4gd291bGQgYWxsb2NhdGUgaWYgbm8gdmFsdWUK
LSAgICAgICB3ZXJlIGdpdmVuIChidXQgdGhlIFhlbiBtaW5pbXVtIGlzIGZv
ciBzYWZldHksIG5vdCBwZXJmb3JtYW5jZSkuCi0gICAgICovCi0gICAgcmV0
dXJuIDQgKiAoMjU2ICogc21wX2NwdXMgKyAyICogKG1heG1lbV9rYiAvIDEw
MjQpKTsKKyAgICByZXR1cm4gbGlieGxfX2FyY2hfZ2V0X3JlcXVpcmVkX3Bh
Z2luZ19tZW1vcnkobWF4bWVtX2tiLCBzbXBfY3B1cyk7CiB9CiAKIGNoYXIg
KmxpYnhsX2RvbWlkX3RvX25hbWUobGlieGxfY3R4ICpjdHgsIHVpbnQzMl90
IGRvbWlkKQpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9saWdodC9saWJ4bF94
ODYuYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfeDg2LmMKaW5kZXggMWZl
YWRlYmIxODUyLi41MTM2Mjg5M2NmOTggMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xp
YnMvbGlnaHQvbGlieGxfeDg2LmMKKysrIGIvdG9vbHMvbGlicy9saWdodC9s
aWJ4bF94ODYuYwpAQCAtODgyLDYgKzg4MiwxOSBAQCB2b2lkIGxpYnhsX19h
cmNoX3VwZGF0ZV9kb21haW5fY29uZmlnKGxpYnhsX19nYyAqZ2MsCiAgICAg
ICAgICAgICAgICAgICAgIGxpYnhsX2RlZmJvb2xfdmFsKHNyYy0+Yl9pbmZv
LmFyY2hfeDg2Lm1zcl9yZWxheGVkKSk7CiB9CiAKK3Vuc2lnbmVkIGxvbmcg
bGlieGxfX2FyY2hfZ2V0X3JlcXVpcmVkX3BhZ2luZ19tZW1vcnkodW5zaWdu
ZWQgbG9uZyBtYXhtZW1fa2IsCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBzbXBf
Y3B1cykKK3sKKyAgICAvKgorICAgICAqIDI1NiBwYWdlcyAoMU1CKSBwZXIg
dmNwdSwKKyAgICAgKiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9mIFJBTSBmb3Ig
dGhlIFAyTSBtYXAsCisgICAgICogcGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBS
QU0gdG8gc2hhZG93IHRoZSByZXNpZGVudCBwcm9jZXNzZXMuCisgICAgICog
VGhpcyBpcyBoaWdoZXIgdGhhbiB0aGUgbWluaW11bSB0aGF0IFhlbiB3b3Vs
ZCBhbGxvY2F0ZSBpZiBubyB2YWx1ZQorICAgICAqIHdlcmUgZ2l2ZW4gKGJ1
dCB0aGUgWGVuIG1pbmltdW0gaXMgZm9yIHNhZmV0eSwgbm90IHBlcmZvcm1h
bmNlKS4KKyAgICAgKi8KKyAgICByZXR1cm4gNCAqICgyNTYgKiBzbXBfY3B1
cyArIDIgKiAobWF4bWVtX2tiIC8gMTAyNCkpOworfQorCiAvKgogICogTG9j
YWwgdmFyaWFibGVzOgogICogbW9kZTogQwotLSAKMi4zNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.16/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Disposition: attachment;
 filename="xsa409-4.16/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Transfer-Encoding: base64

RnJvbSA0MTlhNGJiYzIwY2Y3YzVkN2Q5ZGVkYWU1OWZiODA0OTkyMmU2YTJj
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMi80XSB4ZW4vYXJtOiBDb25z
dHJ1Y3QgdGhlIFAyTSBwYWdlcyBwb29sIGZvciBndWVzdHMKClRoaXMgY29t
bWl0IGNvbnN0cnVjdHMgdGhlIHAybSBwYWdlcyBwb29sIGZvciBndWVzdHMg
ZnJvbSB0aGUKZGF0YSBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBwZXJzcGVjdGl2
ZS4KClRoaXMgaXMgaW1wbGVtZW50ZWQgYnk6CgotIEFkZGluZyBhIGBzdHJ1
Y3QgcGFnaW5nX2RvbWFpbmAgd2hpY2ggY29udGFpbnMgYSBmcmVlbGlzdCwg
YQpjb3VudGVyIHZhcmlhYmxlIGFuZCBhIHNwaW5sb2NrIHRvIGBzdHJ1Y3Qg
YXJjaF9kb21haW5gIHRvCmluZGljYXRlIHRoZSBmcmVlIHAybSBwYWdlcyBh
bmQgdGhlIG51bWJlciBvZiBwMm0gdG90YWwgcGFnZXMgaW4KdGhlIHAybSBw
YWdlcyBwb29sLgoKLSBBZGRpbmcgYSBoZWxwZXIgYHAybV9nZXRfYWxsb2Nh
dGlvbmAgdG8gZ2V0IHRoZSBwMm0gcG9vbCBzaXplLgoKLSBBZGRpbmcgYSBo
ZWxwZXIgYHAybV9zZXRfYWxsb2NhdGlvbmAgdG8gc2V0IHRoZSBwMm0gcGFn
ZXMgcG9vbApzaXplLiBUaGlzIGhlbHBlciBzaG91bGQgYmUgY2FsbGVkIGJl
Zm9yZSBhbGxvY2F0aW5nIG1lbW9yeSBmb3IKYSBndWVzdC4KCi0gQWRkaW5n
IGEgaGVscGVyIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAgdG8gZnJlZSB0
aGUgcDJtIHBhZ2VzCnBvb2wuIFRoaXMgaGVscGVyIHNob3VsZCBiZSBjYWxs
ZWQgZHVyaW5nIHRoZSB4bCBkb21haW4gZGVzdG9yeS4KClRoaXMgaXMgcGFy
dCBvZiBDVkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTaWduZWQtb2ZmLWJ5
OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFybS5jb20+ClJldmlld2VkLWJ5
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+
Ci0tLQogeGVuL2FyY2gvYXJtL3AybS5jICAgICAgICAgICB8IDg4ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogeGVuL2luY2x1ZGUv
YXNtLWFybS9kb21haW4uaCB8IDEwICsrKysKIHhlbi9pbmNsdWRlL2FzbS1h
cm0vcDJtLmggICAgfCAgNCArKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDIgaW5z
ZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9wMm0uYyBi
L3hlbi9hcmNoL2FybS9wMm0uYwppbmRleCAzYmNkMWU4OTdlODguLjc5ZjNk
MzdmNTIzMCAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL3AybS5jCisrKyBi
L3hlbi9hcmNoL2FybS9wMm0uYwpAQCAtNTAsNiArNTAsOTIgQEAgc3RhdGlj
IHVpbnQ2NF90IGdlbmVyYXRlX3Z0dGJyKHVpbnQxNl90IHZtaWQsIG1mbl90
IHJvb3RfbWZuKQogICAgIHJldHVybiAobWZuX3RvX21hZGRyKHJvb3RfbWZu
KSB8ICgodWludDY0X3Qpdm1pZCA8PCA0OCkpOwogfQogCisvKiBSZXR1cm4g
dGhlIHNpemUgb2YgdGhlIHBvb2wsIHJvdW5kZWQgdXAgdG8gdGhlIG5lYXJl
c3QgTUIgKi8KK3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIG5yX3BhZ2Vz
ID0gQUNDRVNTX09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2Vz
KTsKKworICAgIHJldHVybiBST1VORFVQKG5yX3BhZ2VzLCAxIDw8ICgyMCAt
IFBBR0VfU0hJRlQpKSA+PiAoMjAgLSBQQUdFX1NISUZUKTsKK30KKworLyoK
KyAqIFNldCB0aGUgcG9vbCBvZiBwYWdlcyB0byB0aGUgcmVxdWlyZWQgbnVt
YmVyIG9mIHBhZ2VzLgorICogUmV0dXJucyAwIGZvciBzdWNjZXNzLCBub24t
emVybyBmb3IgZmFpbHVyZS4KKyAqIENhbGwgd2l0aCBkLT5hcmNoLnBhZ2lu
Zy5sb2NrIGhlbGQuCisgKi8KK2ludCBwMm1fc2V0X2FsbG9jYXRpb24oc3Ry
dWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgbG9uZyBwYWdlcywgYm9vbCAqcHJl
ZW1wdGVkKQoreworICAgIHN0cnVjdCBwYWdlX2luZm8gKnBnOworCisgICAg
QVNTRVJUKHNwaW5faXNfbG9ja2VkKCZkLT5hcmNoLnBhZ2luZy5sb2NrKSk7
CisKKyAgICBmb3IgKCA7IDsgKQorICAgIHsKKyAgICAgICAgaWYgKCBkLT5h
cmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgPCBwYWdlcyApCisgICAgICAg
IHsKKyAgICAgICAgICAgIC8qIE5lZWQgdG8gYWxsb2NhdGUgbW9yZSBtZW1v
cnkgZnJvbSBkb21oZWFwICovCisgICAgICAgICAgICBwZyA9IGFsbG9jX2Rv
bWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICAgICAgICAgIGlmICggcGcgPT0g
TlVMTCApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgcHJpbnRr
KFhFTkxPR19FUlIgIkZhaWxlZCB0byBhbGxvY2F0ZSBQMk0gcGFnZXMuXG4i
KTsKKyAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKKyAgICAgICAg
ICAgIH0KKyAgICAgICAgICAgIEFDQ0VTU19PTkNFKGQtPmFyY2gucGFnaW5n
LnAybV90b3RhbF9wYWdlcykgPQorICAgICAgICAgICAgICAgIGQtPmFyY2gu
cGFnaW5nLnAybV90b3RhbF9wYWdlcyArIDE7CisgICAgICAgICAgICBwYWdl
X2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxp
c3QpOworICAgICAgICB9CisgICAgICAgIGVsc2UgaWYgKCBkLT5hcmNoLnBh
Z2luZy5wMm1fdG90YWxfcGFnZXMgPiBwYWdlcyApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIC8qIE5lZWQgdG8gcmV0dXJuIG1lbW9yeSB0byBkb21oZWFw
ICovCisgICAgICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgm
ZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgICAgIGlm
KCBwZyApCisgICAgICAgICAgICB7CisgICAgICAgICAgICAgICAgQUNDRVNT
X09OQ0UoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3BhZ2VzKSA9CisgICAg
ICAgICAgICAgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cyAtIDE7CisgICAgICAgICAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcp
OworICAgICAgICAgICAgfQorICAgICAgICAgICAgZWxzZQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSCisgICAg
ICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZnJlZSBQMk0gcGFnZXMs
IFAyTSBmcmVlbGlzdCBpcyBlbXB0eS5cbiIpOworICAgICAgICAgICAgICAg
IHJldHVybiAtRU5PTUVNOworICAgICAgICAgICAgfQorICAgICAgICB9Cisg
ICAgICAgIGVsc2UKKyAgICAgICAgICAgIGJyZWFrOworCisgICAgICAgIC8q
IENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHlpZWxkIGFuZCB0cnkgYWdh
aW4gKi8KKyAgICAgICAgaWYgKCBwcmVlbXB0ZWQgJiYgZ2VuZXJhbF9wcmVl
bXB0X2NoZWNrKCkgKQorICAgICAgICB7CisgICAgICAgICAgICAqcHJlZW1w
dGVkID0gdHJ1ZTsKKyAgICAgICAgICAgIHJldHVybiAtRVJFU1RBUlQ7Cisg
ICAgICAgIH0KKyAgICB9CisKKyAgICByZXR1cm4gMDsKK30KKworaW50IHAy
bV90ZWFyZG93bl9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQpCit7Cisg
ICAgaW50IHJldCA9IDA7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsK
KworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAg
aWYgKCBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgIT0gMCApCisg
ICAgeworICAgICAgICByZXQgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgMCwg
JnByZWVtcHRlZCk7CisgICAgICAgIGlmICggcHJlZW1wdGVkICkKKyAgICAg
ICAgeworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5n
LmxvY2spOworICAgICAgICAgICAgcmV0dXJuIC1FUkVTVEFSVDsKKyAgICAg
ICAgfQorICAgICAgICBBU1NFUlQoZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFs
X3BhZ2VzID09IDApOworICAgIH0KKyAgICBzcGluX3VubG9jaygmZC0+YXJj
aC5wYWdpbmcubG9jayk7CisKKyAgICByZXR1cm4gcmV0OworfQorCiAvKiBV
bmxvY2sgdGhlIGZsdXNoIGFuZCBkbyBhIFAyTSBUTEIgZmx1c2ggaWYgbmVj
ZXNzYXJ5ICovCiB2b2lkIHAybV93cml0ZV91bmxvY2soc3RydWN0IHAybV9k
b21haW4gKnAybSkKIHsKQEAgLTE1OTksNyArMTY4NSw5IEBAIGludCBwMm1f
aW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgIHVuc2lnbmVkIGludCBjcHU7
CiAKICAgICByd2xvY2tfaW5pdCgmcDJtLT5sb2NrKTsKKyAgICBzcGluX2xv
Y2tfaW5pdCgmZC0+YXJjaC5wYWdpbmcubG9jayk7CiAgICAgSU5JVF9QQUdF
X0xJU1RfSEVBRCgmcDJtLT5wYWdlcyk7CisgICAgSU5JVF9QQUdFX0xJU1Rf
SEVBRCgmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKIAogICAgIHAy
bS0+dm1pZCA9IElOVkFMSURfVk1JRDsKIApkaWZmIC0tZ2l0IGEveGVuL2lu
Y2x1ZGUvYXNtLWFybS9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKaW5kZXggOWIzNjQ3NTg3YTA0Li5jOTBkYWE2NWFmYTcgMTAw
NjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaApAQCAtNDAsNiArNDAsMTQg
QEAgc3RydWN0IHZ0aW1lciB7CiAgICAgdWludDY0X3QgY3ZhbDsKIH07CiAK
K3N0cnVjdCBwYWdpbmdfZG9tYWluIHsKKyAgICBzcGlubG9ja190IGxvY2s7
CisgICAgLyogRnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgcHJlLWFsbG9jYXRl
ZCBQMk0gcG9vbCAqLworICAgIHN0cnVjdCBwYWdlX2xpc3RfaGVhZCBwMm1f
ZnJlZWxpc3Q7CisgICAgLyogTnVtYmVyIG9mIHBhZ2VzIGZyb20gdGhlIHBy
ZS1hbGxvY2F0ZWQgUDJNIHBvb2wgKi8KKyAgICB1bnNpZ25lZCBsb25nIHAy
bV90b3RhbF9wYWdlczsKK307CisKIHN0cnVjdCBhcmNoX2RvbWFpbgogewog
I2lmZGVmIENPTkZJR19BUk1fNjQKQEAgLTUxLDYgKzU5LDggQEAgc3RydWN0
IGFyY2hfZG9tYWluCiAKICAgICBzdHJ1Y3QgaHZtX2RvbWFpbiBodm07CiAK
KyAgICBzdHJ1Y3QgcGFnaW5nX2RvbWFpbiBwYWdpbmc7CisKICAgICBzdHJ1
Y3Qgdm1taW8gdm1taW87CiAKICAgICAvKiBDb250aW51YWJsZSBkb21haW5f
cmVsaW5xdWlzaF9yZXNvdXJjZXMoKS4gKi8KZGlmZiAtLWdpdCBhL3hlbi9p
bmNsdWRlL2FzbS1hcm0vcDJtLmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL3Ay
bS5oCmluZGV4IGIzYmE4MzI4M2UxMS4uYzk1OTg3NDBiZDAyIDEwMDY0NAot
LS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL3AybS5oCisrKyBiL3hlbi9pbmNs
dWRlL2FzbS1hcm0vcDJtLmgKQEAgLTIxOCw2ICsyMTgsMTAgQEAgdm9pZCBw
Mm1fcmVzdG9yZV9zdGF0ZShzdHJ1Y3QgdmNwdSAqbik7CiAvKiBQcmludCBk
ZWJ1Z2dpbmcvc3RhdGlzdGlhbCBpbmZvIGFib3V0IGEgZG9tYWluJ3MgcDJt
ICovCiB2b2lkIHAybV9kdW1wX2luZm8oc3RydWN0IGRvbWFpbiAqZCk7CiAK
K3Vuc2lnbmVkIGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFp
biAqZCk7CitpbnQgcDJtX3NldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4g
KmQsIHVuc2lnbmVkIGxvbmcgcGFnZXMsIGJvb2wgKnByZWVtcHRlZCk7Citp
bnQgcDJtX3RlYXJkb3duX2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCk7
CisKIHN0YXRpYyBpbmxpbmUgdm9pZCBwMm1fd3JpdGVfbG9jayhzdHJ1Y3Qg
cDJtX2RvbWFpbiAqcDJtKQogewogICAgIHdyaXRlX2xvY2soJnAybS0+bG9j
ayk7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.16/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Disposition: attachment;
 filename="xsa409-4.16/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Transfer-Encoding: base64

RnJvbSAzMzJhOTk3OWQ0ZGQwYjA0N2FhMTZkYjIwMWM1MGZjZWRiZDU2NzQz
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOSArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMy80XSB4ZW4vYXJtLCBsaWJ4
bDogSW1wbGVtZW50IFhFTl9ET01DVExfc2hhZG93X29wIGZvciBBcm0KClRo
aXMgY29tbWl0IGltcGxlbWVudHMgdGhlIGBYRU5fRE9NQ1RMX3NoYWRvd19v
cGAgc3VwcG9ydCBpbiBYZW4KZm9yIEFybS4gVGhlIHAybSBwYWdlcyBwb29s
IHNpemUgZm9yIHhsIGd1ZXN0cyBpcyBzdXBwb3NlZCB0byBiZQpkZXRlcm1p
bmVkIGJ5IGBYRU5fRE9NQ1RMX3NoYWRvd19vcGAuIEhlbmNlLCB0aGlzIGNv
bW1pdDoKCi0gSW50cm9kdWNlcyBhIGZ1bmN0aW9uIGBwMm1fZG9tY3RsYCBh
bmQgaW1wbGVtZW50cyB0aGUgc3Vib3BzCmBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTmAgYW5kCmBYRU5fRE9NQ1RMX1NIQURPV19PUF9H
RVRfQUxMT0NBVElPTmAgb2YgYFhFTl9ET01DVExfc2hhZG93X29wYC4KCi0g
QWRkcyB0aGUgYFhFTl9ET01DVExfU0hBRE9XX09QX1NFVF9BTExPQ0FUSU9O
YCBzdXBwb3J0IGluIGxpYnhsLgoKVGhlcmVmb3JlIGVuYWJsaW5nIHRoZSBz
ZXR0aW5nIG9mIHNoYWRvdyBtZW1vcnkgcG9vbCBzaXplCndoZW4gY3JlYXRp
bmcgYSBndWVzdCBmcm9tIHhsIGFuZCBnZXR0aW5nIHNoYWRvdyBtZW1vcnkg
cG9vbCBzaXplCmZyb20gWGVuLgoKTm90ZSB0aGF0IHRoZSBgWEVOX0RPTUNU
TF9zaGFkb3dfb3BgIGFkZGVkIGluIHRoaXMgY29tbWl0IGlzIG9ubHkKYSBk
dW1teSBvcCwgYW5kIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNldHRpbmcvZ2V0
dGluZyBwMm0gbWVtb3J5IHBvb2wKc2l6ZSBmb3IgeGwgZ3Vlc3RzIHdpbGwg
YmUgYWRkZWQgaW4gZm9sbG93aW5nIGNvbW1pdHMuCgpUaGlzIGlzIHBhcnQg
b2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5LgoKU2lnbmVkLW9mZi1ieTog
SGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bhcm0uY29tPgpSZXZpZXdlZC1ieTog
U3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgot
LS0KIHRvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMgfCAxMiArKysrKysr
KysrKysKIHhlbi9hcmNoL2FybS9kb21jdGwuYyAgICAgICAgfCAzMiArKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogMiBmaWxlcyBjaGFuZ2Vk
LCA0NCBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9s
aWdodC9saWJ4bF9hcm0uYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJt
LmMKaW5kZXggNzNhOTVlODNhZjI0Li4yMmEwYzU2MWJiYzYgMTAwNjQ0Ci0t
LSBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMKKysrIGIvdG9vbHMv
bGlicy9saWdodC9saWJ4bF9hcm0uYwpAQCAtMTMxLDYgKzEzMSwxOCBAQCBp
bnQgbGlieGxfX2FyY2hfZG9tYWluX2NyZWF0ZShsaWJ4bF9fZ2MgKmdjLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfX2RvbWFpbl9i
dWlsZF9zdGF0ZSAqc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50MzJfdCBkb21pZCkKIHsKKyAgICBsaWJ4bF9jdHggKmN0eCA9
IGxpYnhsX19nY19vd25lcihnYyk7CisgICAgdW5zaWduZWQgaW50IHNoYWRv
d19tYiA9IERJVl9ST1VORFVQKGRfY29uZmlnLT5iX2luZm8uc2hhZG93X21l
bWtiLCAxMDI0KTsKKworICAgIGludCByID0geGNfc2hhZG93X2NvbnRyb2wo
Y3R4LT54Y2gsIGRvbWlkLAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgWEVOX0RPTUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT04sCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAmc2hhZG93X21iLCAwKTsKKyAg
ICBpZiAocikgeworICAgICAgICBMT0dFRChFUlJPUiwgZG9taWQsCisgICAg
ICAgICAgICAgICJGYWlsZWQgdG8gc2V0ICV1IE1pQiBzaGFkb3cgYWxsb2Nh
dGlvbiIsIHNoYWRvd19tYik7CisgICAgICAgIHJldHVybiBFUlJPUl9GQUlM
OworICAgIH0KKwogICAgIHJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS94
ZW4vYXJjaC9hcm0vZG9tY3RsLmMgYi94ZW4vYXJjaC9hcm0vZG9tY3RsLmMK
aW5kZXggMWJhZjI1YzNkOThiLi45YmY3MmU2OTMwMTkgMTAwNjQ0Ci0tLSBh
L3hlbi9hcmNoL2FybS9kb21jdGwuYworKysgYi94ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMKQEAgLTQ3LDExICs0Nyw0MyBAQCBzdGF0aWMgaW50IGhhbmRsZV92
dWFydF9pbml0KHN0cnVjdCBkb21haW4gKmQsCiAgICAgcmV0dXJuIHJjOwog
fQogCitzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQs
IHN0cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCisgICAgICAgICAg
ICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0
bF90KSB1X2RvbWN0bCkKK3sKKyAgICBpZiAoIHVubGlrZWx5KGQgPT0gY3Vy
cmVudC0+ZG9tYWluKSApCisgICAgeworICAgICAgICBwcmludGsoWEVOTE9H
X0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9wIG9uIGl0c2VsZi5c
biIpOworICAgICAgICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKKyAgICBp
ZiAoIHVubGlrZWx5KGQtPmlzX2R5aW5nKSApCisgICAgeworICAgICAgICBw
cmludGsoWEVOTE9HX0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9w
IG9uIGR5aW5nIGRvbWFpbiAldVxuIiwKKyAgICAgICAgICAgICAgIGQtPmRv
bWFpbl9pZCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0KKwor
ICAgIHN3aXRjaCAoIHNjLT5vcCApCisgICAgeworICAgIGNhc2UgWEVOX0RP
TUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT046CisgICAgICAgIHJldHVy
biAwOworICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfR0VUX0FMTE9D
QVRJT046CisgICAgICAgIHJldHVybiAwOworICAgIGRlZmF1bHQ6CisgICAg
eworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwg
b3AgJXVcbiIsIHNjLT5vcCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOwor
ICAgIH0KKyAgICB9Cit9CisKIGxvbmcgYXJjaF9kb19kb21jdGwoc3RydWN0
IHhlbl9kb21jdGwgKmRvbWN0bCwgc3RydWN0IGRvbWFpbiAqZCwKICAgICAg
ICAgICAgICAgICAgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9t
Y3RsX3QpIHVfZG9tY3RsKQogewogICAgIHN3aXRjaCAoIGRvbWN0bC0+Y21k
ICkKICAgICB7CisgICAgY2FzZSBYRU5fRE9NQ1RMX3NoYWRvd19vcDoKKyAg
ICAgICAgcmV0dXJuIHAybV9kb21jdGwoZCwgJmRvbWN0bC0+dS5zaGFkb3df
b3AsIHVfZG9tY3RsKTsKICAgICBjYXNlIFhFTl9ET01DVExfY2FjaGVmbHVz
aDoKICAgICB7CiAgICAgICAgIGdmbl90IHMgPSBfZ2ZuKGRvbWN0bC0+dS5j
YWNoZWZsdXNoLnN0YXJ0X3Bmbik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409-4.16/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Disposition: attachment;
 filename="xsa409-4.16/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Transfer-Encoding: base64

RnJvbSAzOTY2NGQ5ZWUwNDFmOTZlOWM3ZWUxMzFlZDhlZjcyYTRkMTljOWY4
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzozMCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggNC80XSB4ZW4vYXJtOiBBbGxv
Y2F0ZSBhbmQgZnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgUDJNIHBvb2wKClRo
aXMgY29tbWl0IHNldHMvdGVhcnNkb3duIG9mIHAybSBwYWdlcyBwb29sIGZv
ciBub24tcHJpdmlsZWdlZCBBcm0KZ3Vlc3RzIGJ5IGNhbGxpbmcgYHAybV9z
ZXRfYWxsb2NhdGlvbmAgYW5kIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAu
CgotIEZvciBkb20wLCBQMk0gcGFnZXMgc2hvdWxkIGNvbWUgZnJvbSBoZWFw
IGRpcmVjdGx5IGluc3RlYWQgb2YgcDJtCnBvb2wsIHNvIHRoYXQgdGhlIGtl
cm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGV4dGVuZGVkIHJlZ2lv
bnMuCgotIEZvciB4bCBndWVzdHMsIHRoZSBzZXR0aW5nIG9mIHRoZSBwMm0g
cG9vbCBpcyBjYWxsZWQgaW4KYFhFTl9ET01DVExfc2hhZG93X29wYCBhbmQg
dGhlIHAybSBwb29sIGlzIGRlc3Ryb3llZCBpbgpgZG9tYWluX3JlbGlucXVp
c2hfcmVzb3VyY2VzYC4gTm90ZSB0aGF0IGRvbWN0bC0+dS5zaGFkb3dfb3Au
bWIgaXMKdXBkYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZSB3aGVuIHNldHRpbmcg
dGhlIHAybSBwb29sLgoKLSBGb3IgZG9tMGxlc3MgZG9tVXMsIHRoZSBzZXR0
aW5nIG9mIHRoZSBwMm0gcG9vbCBpcyBjYWxsZWQgYmVmb3JlCmFsbG9jYXRp
bmcgbWVtb3J5IGR1cmluZyBkb21haW4gY3JlYXRpb24uIFVzZXJzIGNhbiBz
cGVjaWZ5IHRoZSBwMm0KcG9vbCBzaXplIGJ5IGB4ZW4sZG9tYWluLXAybS1t
ZW0tbWJgIGR0cyBwcm9wZXJ0eS4KClRvIGFjdHVhbGx5IGFsbG9jYXRlL2Zy
ZWUgcGFnZXMgZnJvbSB0aGUgcDJtIHBvb2wsIHRoaXMgY29tbWl0IGFkZHMK
dHdvIGhlbHBlciBmdW5jdGlvbnMgbmFtZWx5IGBwMm1fYWxsb2NfcGFnZWAg
YW5kIGBwMm1fZnJlZV9wYWdlYCB0bwpgc3RydWN0IHAybV9kb21haW5gLiBC
eSByZXBsYWNpbmcgdGhlIGBhbGxvY19kb21oZWFwX3BhZ2VgIGFuZApgZnJl
ZV9kb21oZWFwX3BhZ2VgIHdpdGggdGhlc2UgdHdvIGhlbHBlciBmdW5jdGlv
bnMsIHAybSBwYWdlcyBjYW4KYmUgYWRkZWQvcmVtb3ZlZCBmcm9tIHRoZSBs
aXN0IG9mIHAybSBwb29sIHJhdGhlciB0aGFuIGZyb20gdGhlIGhlYXAuCgpT
aW5jZSBwYWdlIGZyb20gYHAybV9hbGxvY19wYWdlYCBpcyBjbGVhbmVkLCB0
YWtlIHRoZSBvcHBvcnR1bml0eQp0byByZW1vdmUgdGhlIHJlZHVuZGFudCBg
Y2xlYW5fcGFnZWAgaW4gYHAybV9jcmVhdGVfdGFibGVgLgoKVGhpcyBpcyBw
YXJ0IG9mIENWRS0yMDIyLTMzNzQ3IC8gWFNBLTQwOS4KClNpZ25lZC1vZmYt
Ynk6IEhlbnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQt
Ynk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9y
Zz4KLS0tCiBkb2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0
IHwgIDggKysrKwogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAg
ICAgICB8ICA2ICsrKwogeGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jICAg
ICAgICAgICB8IDI5ICsrKysrKysrKysrKysrCiB4ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMgICAgICAgICAgICAgICAgIHwgMjMgKysrKysrKysrKy0KIHhlbi9h
cmNoL2FybS9wMm0uYyAgICAgICAgICAgICAgICAgICAgfCA1NyArKysrKysr
KysrKysrKysrKysrKysrKysrLS0KIDUgZmlsZXMgY2hhbmdlZCwgMTE4IGlu
c2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL2FybS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dCBiL2RvY3MvbWlz
Yy9hcm0vZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKaW5kZXggNzE4OTU2NjNh
NGRlLi5kOTJjY2M1NmZmZTAgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy9hcm0v
ZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKKysrIGIvZG9jcy9taXNjL2FybS9k
ZXZpY2UtdHJlZS9ib290aW5nLnR4dApAQCAtMTgyLDYgKzE4MiwxNCBAQCB3
aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAgICBCb3RoICNhZGRy
ZXNzLWNlbGxzIGFuZCAjc2l6ZS1jZWxscyBuZWVkIHRvIGJlIHNwZWNpZmll
ZCBiZWNhdXNlCiAgICAgYm90aCBzdWItbm9kZXMgKGRlc2NyaWJlZCBzaG9y
dGx5KSBoYXZlIHJlZyBwcm9wZXJ0aWVzLgogCistIHhlbixkb21haW4tcDJt
LW1lbS1tYgorCisgICAgT3B0aW9uYWwuIEEgMzItYml0IGludGVnZXIgc3Bl
Y2lmeWluZyB0aGUgYW1vdW50IG9mIG1lZ2FieXRlcyBvZiBSQU0KKyAgICB1
c2VkIGZvciB0aGUgZG9tYWluIFAyTSBwb29sLiBUaGlzIGlzIGluLXN5bmMg
d2l0aCB0aGUgc2hhZG93X21lbW9yeQorICAgIG9wdGlvbiBpbiB4bC5jZmcu
IExlYXZpbmcgdGhpcyBmaWVsZCBlbXB0eSBpbiBkZXZpY2UgdHJlZSB3aWxs
IGxlYWQgdG8KKyAgICB0aGUgZGVmYXVsdCBzaXplIG9mIGRvbWFpbiBQMk0g
cG9vbCwgaS5lLiAxTUIgcGVyIGd1ZXN0IHZDUFUgcGx1cyA0S0IKKyAgICBw
ZXIgTUIgb2YgZ3Vlc3QgUkFNIHBsdXMgNTEyS0IgZm9yIGd1ZXN0IGV4dGVu
ZGVkIHJlZ2lvbnMuCisKIFVuZGVyIHRoZSAieGVuLGRvbWFpbiIgY29tcGF0
aWJsZSBub2RlLCBvbmUgb3IgbW9yZSBzdWItbm9kZXMgYXJlIHByZXNlbnQK
IGZvciB0aGUgRG9tVSBrZXJuZWwgYW5kIHJhbWRpc2suCiAKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL2FybS9kb21haW4uYyBiL3hlbi9hcmNoL2FybS9kb21h
aW4uYwppbmRleCAyNjk0YzM5MTI3YzUuLmE4MThmMzNhMWFmYSAxMDA2NDQK
LS0tIGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jCisrKyBiL3hlbi9hcmNoL2Fy
bS9kb21haW4uYwpAQCAtOTk3LDYgKzk5Nyw3IEBAIGVudW0gewogICAgIFBS
T0dfcGFnZSwKICAgICBQUk9HX21hcHBpbmcsCiAgICAgUFJPR19wMm0sCisg
ICAgUFJPR19wMm1fcG9vbCwKICAgICBQUk9HX2RvbmUsCiB9OwogCkBAIC0x
MDYyLDYgKzEwNjMsMTEgQEAgaW50IGRvbWFpbl9yZWxpbnF1aXNoX3Jlc291
cmNlcyhzdHJ1Y3QgZG9tYWluICpkKQogICAgICAgICBpZiAoIHJldCApCiAg
ICAgICAgICAgICByZXR1cm4gcmV0OwogCisgICAgUFJPR1JFU1MocDJtX3Bv
b2wpOgorICAgICAgICByZXQgPSBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbihk
KTsKKyAgICAgICAgaWYoIHJldCApCisgICAgICAgICAgICByZXR1cm4gcmV0
OworCiAgICAgUFJPR1JFU1MoZG9uZSk6CiAgICAgICAgIGJyZWFrOwogCmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMgYi94ZW4v
YXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKaW5kZXggZDAyYmFjYmNkMWVkLi44
YWVjMzc1NWNhNWQgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9kb21haW5f
YnVpbGQuYworKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKQEAg
LTI4MzMsNiArMjgzMywyMSBAQCBzdGF0aWMgdm9pZCBfX2luaXQgZmluZF9n
bnR0YWJfcmVnaW9uKHN0cnVjdCBkb21haW4gKmQsCiAgICAgICAgICAgIGtp
bmZvLT5nbnR0YWJfc3RhcnQsIGtpbmZvLT5nbnR0YWJfc3RhcnQgKyBraW5m
by0+Z250dGFiX3NpemUpOwogfQogCitzdGF0aWMgdW5zaWduZWQgbG9uZyBf
X2luaXQgZG9tYWluX3AybV9wYWdlcyh1bnNpZ25lZCBsb25nIG1heG1lbV9r
YiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCBzbXBfY3B1cykKK3sKKyAgICAvKgorICAgICAq
IEtlZXAgaW4gc3luYyB3aXRoIGxpYnhsX19nZXRfcmVxdWlyZWRfcGFnaW5n
X21lbW9yeSgpLgorICAgICAqIDI1NiBwYWdlcyAoMU1CKSBwZXIgdmNwdSwg
cGx1cyAxIHBhZ2UgcGVyIE1pQiBvZiBSQU0gZm9yIHRoZSBQMk0gbWFwLAor
ICAgICAqIHBsdXMgMTI4IHBhZ2VzIHRvIGNvdmVyIGV4dGVuZGVkIHJlZ2lv
bnMuCisgICAgICovCisgICAgdW5zaWduZWQgbG9uZyBtZW1rYiA9IDQgKiAo
MjU2ICogc21wX2NwdXMgKyAobWF4bWVtX2tiIC8gMTAyNCkgKyAxMjgpOwor
CisgICAgQlVJTERfQlVHX09OKFBBR0VfU0laRSAhPSBTWl80Syk7CisKKyAg
ICByZXR1cm4gRElWX1JPVU5EX1VQKG1lbWtiLCAxMDI0KSA8PCAoMjAgLSBQ
QUdFX1NISUZUKTsKK30KKwogc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0
X2RvbWFpbihzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3Qga2VybmVsX2luZm8g
KmtpbmZvKQogewogICAgIHVuc2lnbmVkIGludCBpOwpAQCAtMjkyNCw2ICsy
OTM5LDggQEAgc3RhdGljIGludCBfX2luaXQgY29uc3RydWN0X2RvbVUoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICBzdHJ1Y3Qga2VybmVsX2luZm8ga2luZm8g
PSB7fTsKICAgICBpbnQgcmM7CiAgICAgdTY0IG1lbTsKKyAgICB1MzIgcDJt
X21lbV9tYjsKKyAgICB1bnNpZ25lZCBsb25nIHAybV9wYWdlczsKIAogICAg
IHJjID0gZHRfcHJvcGVydHlfcmVhZF91NjQobm9kZSwgIm1lbW9yeSIsICZt
ZW0pOwogICAgIGlmICggIXJjICkKQEAgLTI5MzMsNiArMjk1MCwxOCBAQCBz
dGF0aWMgaW50IF9faW5pdCBjb25zdHJ1Y3RfZG9tVShzdHJ1Y3QgZG9tYWlu
ICpkLAogICAgIH0KICAgICBraW5mby51bmFzc2lnbmVkX21lbSA9IChwYWRk
cl90KW1lbSAqIFNaXzFLOwogCisgICAgcmMgPSBkdF9wcm9wZXJ0eV9yZWFk
X3UzMihub2RlLCAieGVuLGRvbWFpbi1wMm0tbWVtLW1iIiwgJnAybV9tZW1f
bWIpOworICAgIC8qIElmIHhlbixkb21haW4tcDJtLW1lbS1tYiBpcyBub3Qg
c3BlY2lmaWVkLCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuICovCisgICAgcDJt
X3BhZ2VzID0gcmMgPworICAgICAgICAgICAgICAgIHAybV9tZW1fbWIgPDwg
KDIwIC0gUEFHRV9TSElGVCkgOgorICAgICAgICAgICAgICAgIGRvbWFpbl9w
Mm1fcGFnZXMobWVtLCBkLT5tYXhfdmNwdXMpOworCisgICAgc3Bpbl9sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICByYyA9IHAybV9zZXRfYWxs
b2NhdGlvbihkLCBwMm1fcGFnZXMsIE5VTEwpOworICAgIHNwaW5fdW5sb2Nr
KCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICBpZiAoIHJjICE9IDAgKQor
ICAgICAgICByZXR1cm4gcmM7CisKICAgICBwcmludGsoIioqKiBMT0FESU5H
IERPTVUgY3B1cz0ldSBtZW1vcnk9JSJQUkl4NjQiS0IgKioqXG4iLCBkLT5t
YXhfdmNwdXMsIG1lbSk7CiAKICAgICBraW5mby52cGwwMTEgPSBkdF9wcm9w
ZXJ0eV9yZWFkX2Jvb2wobm9kZSwgInZwbDAxMSIpOwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL2RvbWN0bC5jIGIveGVuL2FyY2gvYXJtL2RvbWN0bC5j
CmluZGV4IDliZjcyZTY5MzAxOS4uYzhmZGViMTI0MDg0IDEwMDY0NAotLS0g
YS94ZW4vYXJjaC9hcm0vZG9tY3RsLmMKKysrIGIveGVuL2FyY2gvYXJtL2Rv
bWN0bC5jCkBAIC01MCw2ICs1MCw5IEBAIHN0YXRpYyBpbnQgaGFuZGxlX3Z1
YXJ0X2luaXQoc3RydWN0IGRvbWFpbiAqZCwKIHN0YXRpYyBsb25nIHAybV9k
b21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9kb21jdGxfc2hh
ZG93X29wICpzYywKICAgICAgICAgICAgICAgICAgICAgICAgWEVOX0dVRVNU
X0hBTkRMRV9QQVJBTSh4ZW5fZG9tY3RsX3QpIHVfZG9tY3RsKQogeworICAg
IGxvbmcgcmM7CisgICAgYm9vbCBwcmVlbXB0ZWQgPSBmYWxzZTsKKwogICAg
IGlmICggdW5saWtlbHkoZCA9PSBjdXJyZW50LT5kb21haW4pICkKICAgICB7
CiAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJUcmllZCB0byBkbyBhIHAy
bSBkb21jdGwgb3Agb24gaXRzZWxmLlxuIik7CkBAIC02Niw5ICs2OSwyNyBA
QCBzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQsIHN0
cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCiAgICAgc3dpdGNoICgg
c2MtPm9wICkKICAgICB7CiAgICAgY2FzZSBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTjoKLSAgICAgICAgcmV0dXJuIDA7CisgICAgewor
ICAgICAgICAvKiBBbGxvdyBhbmQgaGFuZGxlIHByZWVtcHRpb24gKi8KKyAg
ICAgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICAg
ICAgcmMgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgc2MtPm1iIDw8ICgyMCAt
IFBBR0VfU0hJRlQpLCAmcHJlZW1wdGVkKTsKKyAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworCisgICAgICAgIGlmICggcHJl
ZW1wdGVkICkKKyAgICAgICAgICAgIC8qIE5vdCBmaW5pc2hlZC4gU2V0IHVw
IHRvIHJlLXJ1biB0aGUgY2FsbC4gKi8KKyAgICAgICAgICAgIHJjID0gaHlw
ZXJjYWxsX2NyZWF0ZV9jb250aW51YXRpb24oX19IWVBFUlZJU09SX2RvbWN0
bCwgImgiLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1X2RvbWN0bCk7CisgICAgICAgIGVsc2UKKyAgICAgICAg
ICAgIC8qIEZpbmlzaGVkLiBSZXR1cm4gdGhlIG5ldyBhbGxvY2F0aW9uLiAq
LworICAgICAgICAgICAgc2MtPm1iID0gcDJtX2dldF9hbGxvY2F0aW9uKGQp
OworCisgICAgICAgIHJldHVybiByYzsKKyAgICB9CiAgICAgY2FzZSBYRU5f
RE9NQ1RMX1NIQURPV19PUF9HRVRfQUxMT0NBVElPTjoKKyAgICB7CisgICAg
ICAgIHNjLT5tYiA9IHAybV9nZXRfYWxsb2NhdGlvbihkKTsKICAgICAgICAg
cmV0dXJuIDA7CisgICAgfQogICAgIGRlZmF1bHQ6CiAgICAgewogICAgICAg
ICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwgb3AgJXVcbiIs
IHNjLT5vcCk7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vcDJtLmMgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKaW5kZXggNzlmM2QzN2Y1MjMwLi4xYmY5Y2Jl
YjUzY2YgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9wMm0uYworKysgYi94
ZW4vYXJjaC9hcm0vcDJtLmMKQEAgLTUwLDYgKzUwLDU0IEBAIHN0YXRpYyB1
aW50NjRfdCBnZW5lcmF0ZV92dHRicih1aW50MTZfdCB2bWlkLCBtZm5fdCBy
b290X21mbikKICAgICByZXR1cm4gKG1mbl90b19tYWRkcihyb290X21mbikg
fCAoKHVpbnQ2NF90KXZtaWQgPDwgNDgpKTsKIH0KIAorc3RhdGljIHN0cnVj
dCBwYWdlX2luZm8gKnAybV9hbGxvY19wYWdlKHN0cnVjdCBkb21haW4gKmQp
Cit7CisgICAgc3RydWN0IHBhZ2VfaW5mbyAqcGc7CisKKyAgICBzcGluX2xv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgIC8qCisgICAgICogRm9y
IGhhcmR3YXJlIGRvbWFpbiwgdGhlcmUgc2hvdWxkIGJlIG5vIGxpbWl0IGlu
IHRoZSBudW1iZXIgb2YgcGFnZXMgdGhhdAorICAgICAqIGNhbiBiZSBhbGxv
Y2F0ZWQsIHNvIHRoYXQgdGhlIGtlcm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ug
b2YgdGhlIGV4dGVuZGVkCisgICAgICogcmVnaW9ucy4gSGVuY2UsIGFsbG9j
YXRlIHAybSBwYWdlcyBmb3IgaGFyZHdhcmUgZG9tYWlucyBmcm9tIGhlYXAu
CisgICAgICovCisgICAgaWYgKCBpc19oYXJkd2FyZV9kb21haW4oZCkgKQor
ICAgIHsKKyAgICAgICAgcGcgPSBhbGxvY19kb21oZWFwX3BhZ2UoTlVMTCwg
MCk7CisgICAgICAgIGlmICggcGcgPT0gTlVMTCApCisgICAgICAgIHsKKyAg
ICAgICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIkZhaWxlZCB0byBhbGxv
Y2F0ZSBQMk0gcGFnZXMgZm9yIGh3ZG9tLlxuIik7CisgICAgICAgICAgICBz
cGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisgICAgICAgICAg
ICByZXR1cm4gTlVMTDsKKyAgICAgICAgfQorICAgIH0KKyAgICBlbHNlCisg
ICAgeworICAgICAgICBwZyA9IHBhZ2VfbGlzdF9yZW1vdmVfaGVhZCgmZC0+
YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgaWYgKCB1bmxp
a2VseSghcGcpICkKKyAgICAgICAgeworICAgICAgICAgICAgc3Bpbl91bmxv
Y2soJmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgICAgICAgICAgcmV0dXJu
IE5VTEw7CisgICAgICAgIH0KKyAgICAgICAgZC0+YXJjaC5wYWdpbmcucDJt
X3RvdGFsX3BhZ2VzLS07CisgICAgfQorICAgIHNwaW5fdW5sb2NrKCZkLT5h
cmNoLnBhZ2luZy5sb2NrKTsKKworICAgIHJldHVybiBwZzsKK30KKworc3Rh
dGljIHZvaWQgcDJtX2ZyZWVfcGFnZShzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1
Y3QgcGFnZV9pbmZvICpwZykKK3sKKyAgICBzcGluX2xvY2soJmQtPmFyY2gu
cGFnaW5nLmxvY2spOworICAgIGlmICggaXNfaGFyZHdhcmVfZG9tYWluKGQp
ICkKKyAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcpOworICAgIGVsc2UK
KyAgICB7CisgICAgICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdl
cysrOworICAgICAgICBwYWdlX2xpc3RfYWRkX3RhaWwocGcsICZkLT5hcmNo
LnBhZ2luZy5wMm1fZnJlZWxpc3QpOworICAgIH0KKyAgICBzcGluX3VubG9j
aygmZC0+YXJjaC5wYWdpbmcubG9jayk7Cit9CisKIC8qIFJldHVybiB0aGUg
c2l6ZSBvZiB0aGUgcG9vbCwgcm91bmRlZCB1cCB0byB0aGUgbmVhcmVzdCBN
QiAqLwogdW5zaWduZWQgaW50IHAybV9nZXRfYWxsb2NhdGlvbihzdHJ1Y3Qg
ZG9tYWluICpkKQogewpAQCAtNzUxLDcgKzc5OSw3IEBAIHN0YXRpYyBpbnQg
cDJtX2NyZWF0ZV90YWJsZShzdHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCBscGFl
X3QgKmVudHJ5KQogCiAgICAgQVNTRVJUKCFwMm1faXNfdmFsaWQoKmVudHJ5
KSk7CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDAp
OworICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAg
ICAgaWYgKCBwYWdlID09IE5VTEwgKQogICAgICAgICByZXR1cm4gLUVOT01F
TTsKIApAQCAtODc4LDcgKzkyNiw3IEBAIHN0YXRpYyB2b2lkIHAybV9mcmVl
X2VudHJ5KHN0cnVjdCBwMm1fZG9tYWluICpwMm0sCiAgICAgcGcgPSBtZm5f
dG9fcGFnZShtZm4pOwogCiAgICAgcGFnZV9saXN0X2RlbChwZywgJnAybS0+
cGFnZXMpOwotICAgIGZyZWVfZG9taGVhcF9wYWdlKHBnKTsKKyAgICBwMm1f
ZnJlZV9wYWdlKHAybS0+ZG9tYWluLCBwZyk7CiB9CiAKIHN0YXRpYyBib29s
IHAybV9zcGxpdF9zdXBlcnBhZ2Uoc3RydWN0IHAybV9kb21haW4gKnAybSwg
bHBhZV90ICplbnRyeSwKQEAgLTkwMiw3ICs5NTAsNyBAQCBzdGF0aWMgYm9v
bCBwMm1fc3BsaXRfc3VwZXJwYWdlKHN0cnVjdCBwMm1fZG9tYWluICpwMm0s
IGxwYWVfdCAqZW50cnksCiAgICAgQVNTRVJUKGxldmVsIDwgdGFyZ2V0KTsK
ICAgICBBU1NFUlQocDJtX2lzX3N1cGVycGFnZSgqZW50cnksIGxldmVsKSk7
CiAKLSAgICBwYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKE5VTEwsIDApOwor
ICAgIHBhZ2UgPSBwMm1fYWxsb2NfcGFnZShwMm0tPmRvbWFpbik7CiAgICAg
aWYgKCAhcGFnZSApCiAgICAgICAgIHJldHVybiBmYWxzZTsKIApAQCAtMTY0
MSw3ICsxNjg5LDcgQEAgaW50IHAybV90ZWFyZG93bihzdHJ1Y3QgZG9tYWlu
ICpkKQogCiAgICAgd2hpbGUgKCAocGcgPSBwYWdlX2xpc3RfcmVtb3ZlX2hl
YWQoJnAybS0+cGFnZXMpKSApCiAgICAgewotICAgICAgICBmcmVlX2RvbWhl
YXBfcGFnZShwZyk7CisgICAgICAgIHAybV9mcmVlX3BhZ2UocDJtLT5kb21h
aW4sIHBnKTsKICAgICAgICAgY291bnQrKzsKICAgICAgICAgLyogQXJiaXRy
YXJpbHkgcHJlZW1wdCBldmVyeSA1MTIgaXRlcmF0aW9ucyAqLwogICAgICAg
ICBpZiAoICEoY291bnQgJSA1MTIpICYmIGh5cGVyY2FsbF9wcmVlbXB0X2No
ZWNrKCkgKQpAQCAtMTY2NSw2ICsxNzEzLDcgQEAgdm9pZCBwMm1fZmluYWxf
dGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKICAgICAgICAgcmV0dXJuOwog
CiAgICAgQVNTRVJUKHBhZ2VfbGlzdF9lbXB0eSgmcDJtLT5wYWdlcykpOwor
ICAgIEFTU0VSVChwYWdlX2xpc3RfZW1wdHkoJmQtPmFyY2gucGFnaW5nLnAy
bV9mcmVlbGlzdCkpOwogCiAgICAgaWYgKCBwMm0tPnJvb3QgKQogICAgICAg
ICBmcmVlX2RvbWhlYXBfcGFnZXMocDJtLT5yb290LCBQMk1fUk9PVF9PUkRF
Uik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409/0001-libxl-docs-Add-per-arch-extra-default-paging-memory.patch"
Content-Disposition: attachment;
 filename="xsa409/0001-libxl-docs-Add-per-arch-extra-default-paging-memory.patch"
Content-Transfer-Encoding: base64

RnJvbSBkMGYzZjMyOWViM2I2NTJhY2MzNTQyNjVjYTRkNDA0MjgwNzcyNGI1
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyNyArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMS80XSBsaWJ4bCwgZG9jczog
QWRkIHBlci1hcmNoIGV4dHJhIGRlZmF1bHQgcGFnaW5nIG1lbW9yeQoKVGhp
cyBjb21taXQgYWRkcyBhIHBlci1hcmNoIG1hY3JvIGBFWFRSQV9ERUZBVUxU
X1BBR0lOR19NRU1fTUJgCnRvIHRoZSBkZWZhdWx0IHBhZ2luZyBtZW1vcnkg
c2l6ZSwgaW4gb3JkZXIgdG8gY292ZXIgdGhlIHAybQpwb29sIGZvciBleHRl
bmRlZCByZWdpb25zIG9mIGEgeGwtYmFzZWQgZ3Vlc3Qgb24gQXJtLgoKRm9y
IEFybSwgdGhlIGV4dHJhIGRlZmF1bHQgcGFnaW5nIG1lbW9yeSBpcyAxMjhN
Qi4KRm9yIHg4NiwgdGhlIGV4dHJhIGRlZmF1bHQgcGFnaW5nIG1lbW9yeSBp
cyB6ZXJvLCBzaW5jZSB0aGVyZQphcmUgbm8gZXh0ZW5kZWQgcmVnaW9ucyBv
biB4ODYuCgpBbHNvIHVwZGF0ZSB0aGUgeGwuY2ZnIGRvY3VtZW50YXRpb24g
dG8gYWRkIEFybSBkb2N1bWVudGF0aW9uCmFjY29yZGluZyB0byBjb2RlIGNo
YW5nZXMuCgpUaGlzIGlzIHBhcnQgb2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0Et
NDA5LgoKU2lnbmVkLW9mZi1ieTogSGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bh
cm0uY29tPgpSZXZpZXdlZC1ieTogSnVsaWVuIEdyYWxsIDxqZ3JhbGxAYW1h
em9uLmNvbT4KLS0tCiBkb2NzL21hbi94bC5jZmcuNS5wb2QuaW4gICAgICAg
IHwgIDUgKysrKysKIHRvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJjaC5oICAg
fCAxMSArKysrKysrKysrKwogdG9vbHMvbGlicy9saWdodC9saWJ4bF9jcmVh
dGUuYyB8ICA3ICsrKysrKy0KIDMgZmlsZXMgY2hhbmdlZCwgMjIgaW5zZXJ0
aW9ucygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RvY3MvbWFu
L3hsLmNmZy41LnBvZC5pbiBiL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgpp
bmRleCA2ZDk4ZDczZDc2YzAuLjcwZGUxMDMzNTUwZiAxMDA2NDQKLS0tIGEv
ZG9jcy9tYW4veGwuY2ZnLjUucG9kLmluCisrKyBiL2RvY3MvbWFuL3hsLmNm
Zy41LnBvZC5pbgpAQCAtMjcyNSw2ICsyNzI1LDExIEBAIGFyZSBub3QgdXNp
bmcgaGFyZHdhcmUgYXNzaXN0ZWQgcGFnaW5nIChpLmUuIHlvdSBhcmUgdXNp
bmcgc2hhZG93CiBtb2RlKSBhbmQgeW91ciBndWVzdCB3b3JrbG9hZCBjb25z
aXN0cyBvZiBhIHZlcnkgbGFyZ2UgbnVtYmVyIG9mCiBzaW1pbGFyIHByb2Nl
c3NlcyB0aGVuIGluY3JlYXNpbmcgdGhpcyB2YWx1ZSBtYXkgaW1wcm92ZSBw
ZXJmb3JtYW5jZS4KIAorT24gQXJtLCB0aGlzIGZpZWxkIGlzIHVzZWQgdG8g
ZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBndWVzdCBQMk0gcGFnZXMKK3Bv
b2wsIGFuZCB0aGUgZGVmYXVsdCB2YWx1ZSBpcyB0aGUgc2FtZSBhcyB4ODYg
SEFQIG1vZGUsIHBsdXMgNTEyS0IgdG8KK2NvdmVyIHRoZSBleHRlbmRlZCBy
ZWdpb25zLiBVc2VycyBzaG91bGQgYWRqdXN0IHRoaXMgdmFsdWUgaWYgYmln
Z2VyCitQMk0gcG9vbCBzaXplIGlzIG5lZWRlZC4KKwogPWJhY2sKIAogPWhl
YWQyIERldmljZS1Nb2RlbCBPcHRpb25zCmRpZmYgLS1naXQgYS90b29scy9s
aWJzL2xpZ2h0L2xpYnhsX2FyY2guaCBiL3Rvb2xzL2xpYnMvbGlnaHQvbGli
eGxfYXJjaC5oCmluZGV4IDAzYjg5OTI5ZTY4Yy4uMjQ3Y2NhMTMwZmMzIDEw
MDY0NAotLS0gYS90b29scy9saWJzL2xpZ2h0L2xpYnhsX2FyY2guaAorKysg
Yi90b29scy9saWJzL2xpZ2h0L2xpYnhsX2FyY2guaApAQCAtOTksMTAgKzk5
LDIxIEBAIHZvaWQgbGlieGxfX2FyY2hfdXBkYXRlX2RvbWFpbl9jb25maWco
bGlieGxfX2djICpnYywKIAogI2RlZmluZSBMQVBJQ19CQVNFX0FERFJFU1Mg
IDB4ZmVlMDAwMDAKICNkZWZpbmUgQUNQSV9JTkZPX1BIWVNJQ0FMX0FERFJF
U1MgMHhmYzAwMDAwMAorI2RlZmluZSBFWFRSQV9ERUZBVUxUX1BBR0lOR19N
RU1fTUIgMAogCiBpbnQgbGlieGxfX2RvbV9sb2FkX2FjcGkobGlieGxfX2dj
ICpnYywKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaWJ4bF9k
b21haW5fYnVpbGRfaW5mbyAqYl9pbmZvLAogICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCB4Y19kb21faW1hZ2UgKmRvbSk7CisKKyNlbHNlCisK
Ky8qCisgKiAxMjhNQiBleHRyYSBkZWZhdWx0IHBhZ2luZyBtZW1vcnkgb24g
QXJtIGZvciBleHRlbmRlZCByZWdpb25zLiBUaGlzCisgKiB2YWx1ZSBpcyBu
b3JtYWxseSBlbm91Z2ggZm9yIGRvbWFpbnMgdGhhdCBhcmUgbm90IHJ1bm5p
bmcgYmFja2VuZC4KKyAqIFNlZSB0aGUgYHNoYWRvd19tZW1vcnlgIGluIHhs
LmNmZyBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uLgorICov
CisjZGVmaW5lIEVYVFJBX0RFRkFVTFRfUEFHSU5HX01FTV9NQiAxMjgKKwog
I2VuZGlmCiAKICNlbmRpZgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9saWdo
dC9saWJ4bF9jcmVhdGUuYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfY3Jl
YXRlLmMKaW5kZXggYjlkZDJkZWVkZjEzLi42MTJlYWNmYzdmYWMgMTAwNjQ0
Ci0tLSBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfY3JlYXRlLmMKKysrIGIv
dG9vbHMvbGlicy9saWdodC9saWJ4bF9jcmVhdGUuYwpAQCAtMTAzNSwxMiAr
MTAzNSwxNyBAQCB1bnNpZ25lZCBsb25nIGxpYnhsX19nZXRfcmVxdWlyZWRf
cGFnaW5nX21lbW9yeSh1bnNpZ25lZCBsb25nIG1heG1lbV9rYiwKICAgICAg
KiBwbHVzIDEgcGFnZSBwZXIgTWlCIG9mIFJBTSBmb3IgdGhlIFAyTSBtYXAg
KGZvciBub24tUFYgZ3Vlc3RzKSwKICAgICAgKiBwbHVzIDEgcGFnZSBwZXIg
TWlCIG9mIFJBTSB0byBzaGFkb3cgdGhlIHJlc2lkZW50IHByb2Nlc3NlcyAo
Zm9yIHNoYWRvdwogICAgICAqIG1vZGUgZ3Vlc3RzKS4KKyAgICAgKiBwbHVz
IDEgcGFnZSBwZXIgTWlCIG9mIFJBTSBmb3IgdGhlIGFyY2hpdGVjdHVyZSBz
cGVjaWZpYworICAgICAqIEVYVFJBX0RFRkFVTFRfUEFHSU5HX01FTV9NQi4g
T24geDg2LCB0aGlzIHZhbHVlIGlzIHplcm8uIE9uIEFybSwgdGhpcworICAg
ICAqIHZhbHVlIGlzIDEyOCBNaUIgdG8gY292ZXIgZG9tYWluIGV4dGVuZGVk
IHJlZ2lvbnMgKGVub3VnaCBmb3IgZG9tYWlucworICAgICAqIHRoYXQgYXJl
IG5vdCBydW5uaW5nIGJhY2tlbmQpLgogICAgICAqIFRoaXMgaXMgaGlnaGVy
IHRoYW4gdGhlIG1pbmltdW0gdGhhdCBYZW4gd291bGQgYWxsb2NhdGUgaWYg
bm8gdmFsdWUKICAgICAgKiB3ZXJlIGdpdmVuIChidXQgdGhlIFhlbiBtaW5p
bXVtIGlzIGZvciBzYWZldHksIG5vdCBwZXJmb3JtYW5jZSkuCiAgICAgICov
CiAgICAgcmV0dXJuIDQgKiAoMjU2ICogc21wX2NwdXMgKwogICAgICAgICAg
ICAgICAgICgodHlwZSAhPSBMSUJYTF9ET01BSU5fVFlQRV9QVikgKyAhaGFw
KSAqCi0gICAgICAgICAgICAgICAgKG1heG1lbV9rYiAvIDEwMjQpKTsKKyAg
ICAgICAgICAgICAgICAobWF4bWVtX2tiIC8gMTAyNCkgKworICAgICAgICAg
ICAgICAgIEVYVFJBX0RFRkFVTFRfUEFHSU5HX01FTV9NQik7CiB9CiAKIHN0
YXRpYyB1bnNpZ25lZCBsb25nIGxpYnhsX19nZXRfcmVxdWlyZWRfaW9tbXVf
bWVtb3J5KHVuc2lnbmVkIGxvbmcgbWF4bWVtX2tiKQotLSAKMi4zNy4xCgo=

--=separator
Content-Type: application/octet-stream;
 name="xsa409/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Disposition: attachment;
 filename="xsa409/0002-xen-arm-Construct-the-P2M-pages-pool-for-guests.patch"
Content-Transfer-Encoding: base64

RnJvbSAwNDMxNDhhODc3ZmRhM2RjOGQyY2JkYzAyOTE3YjAyYzgzZWVhNzI3
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMi80XSB4ZW4vYXJtOiBDb25z
dHJ1Y3QgdGhlIFAyTSBwYWdlcyBwb29sIGZvciBndWVzdHMKClRoaXMgY29t
bWl0IGNvbnN0cnVjdHMgdGhlIHAybSBwYWdlcyBwb29sIGZvciBndWVzdHMg
ZnJvbSB0aGUKZGF0YSBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBwZXJzcGVjdGl2
ZS4KClRoaXMgaXMgaW1wbGVtZW50ZWQgYnk6CgotIEFkZGluZyBhIGBzdHJ1
Y3QgcGFnaW5nX2RvbWFpbmAgd2hpY2ggY29udGFpbnMgYSBmcmVlbGlzdCwg
YQpjb3VudGVyIHZhcmlhYmxlIGFuZCBhIHNwaW5sb2NrIHRvIGBzdHJ1Y3Qg
YXJjaF9kb21haW5gIHRvCmluZGljYXRlIHRoZSBmcmVlIHAybSBwYWdlcyBh
bmQgdGhlIG51bWJlciBvZiBwMm0gdG90YWwgcGFnZXMgaW4KdGhlIHAybSBw
YWdlcyBwb29sLgoKLSBBZGRpbmcgYSBoZWxwZXIgYHAybV9nZXRfYWxsb2Nh
dGlvbmAgdG8gZ2V0IHRoZSBwMm0gcG9vbCBzaXplLgoKLSBBZGRpbmcgYSBo
ZWxwZXIgYHAybV9zZXRfYWxsb2NhdGlvbmAgdG8gc2V0IHRoZSBwMm0gcGFn
ZXMgcG9vbApzaXplLiBUaGlzIGhlbHBlciBzaG91bGQgYmUgY2FsbGVkIGJl
Zm9yZSBhbGxvY2F0aW5nIG1lbW9yeSBmb3IKYSBndWVzdC4KCi0gQWRkaW5n
IGEgaGVscGVyIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAgdG8gZnJlZSB0
aGUgcDJtIHBhZ2VzCnBvb2wuIFRoaXMgaGVscGVyIHNob3VsZCBiZSBjYWxs
ZWQgZHVyaW5nIHRoZSB4bCBkb21haW4gZGVzdG9yeS4KClRoaXMgaXMgcGFy
dCBvZiBDVkUtMjAyMi0zMzc0NyAvIFhTQS00MDkuCgpTaWduZWQtb2ZmLWJ5
OiBIZW5yeSBXYW5nIDxIZW5yeS5XYW5nQGFybS5jb20+ClJldmlld2VkLWJ5
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+
Ci0tLQogeGVuL2FyY2gvYXJtL2luY2x1ZGUvYXNtL2RvbWFpbi5oIHwgMTAg
KysrKwogeGVuL2FyY2gvYXJtL2luY2x1ZGUvYXNtL3AybS5oICAgIHwgIDQg
KysKIHhlbi9hcmNoL2FybS9wMm0uYyAgICAgICAgICAgICAgICB8IDg4ICsr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdl
ZCwgMTAyIGluc2VydGlvbnMoKykKCmRpZmYgLS1naXQgYS94ZW4vYXJjaC9h
cm0vaW5jbHVkZS9hc20vZG9tYWluLmggYi94ZW4vYXJjaC9hcm0vaW5jbHVk
ZS9hc20vZG9tYWluLmgKaW5kZXggY2Q5Y2UxOWI0YjQxLi5kZjU2YzFkZGQ0
MjkgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9pbmNsdWRlL2FzbS9kb21h
aW4uaAorKysgYi94ZW4vYXJjaC9hcm0vaW5jbHVkZS9hc20vZG9tYWluLmgK
QEAgLTUzLDYgKzUzLDE0IEBAIHN0cnVjdCB2dGltZXIgewogICAgIHVpbnQ2
NF90IGN2YWw7CiB9OwogCitzdHJ1Y3QgcGFnaW5nX2RvbWFpbiB7CisgICAg
c3BpbmxvY2tfdCBsb2NrOworICAgIC8qIEZyZWUgUDJNIHBhZ2VzIGZyb20g
dGhlIHByZS1hbGxvY2F0ZWQgUDJNIHBvb2wgKi8KKyAgICBzdHJ1Y3QgcGFn
ZV9saXN0X2hlYWQgcDJtX2ZyZWVsaXN0OworICAgIC8qIE51bWJlciBvZiBw
YWdlcyBmcm9tIHRoZSBwcmUtYWxsb2NhdGVkIFAyTSBwb29sICovCisgICAg
dW5zaWduZWQgbG9uZyBwMm1fdG90YWxfcGFnZXM7Cit9OworCiBzdHJ1Y3Qg
YXJjaF9kb21haW4KIHsKICNpZmRlZiBDT05GSUdfQVJNXzY0CkBAIC02NCw2
ICs3Miw4IEBAIHN0cnVjdCBhcmNoX2RvbWFpbgogCiAgICAgc3RydWN0IGh2
bV9kb21haW4gaHZtOwogCisgICAgc3RydWN0IHBhZ2luZ19kb21haW4gcGFn
aW5nOworCiAgICAgc3RydWN0IHZtbWlvIHZtbWlvOwogCiAgICAgLyogQ29u
dGludWFibGUgZG9tYWluX3JlbGlucXVpc2hfcmVzb3VyY2VzKCkuICovCmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vaW5jbHVkZS9hc20vcDJtLmggYi94
ZW4vYXJjaC9hcm0vaW5jbHVkZS9hc20vcDJtLmgKaW5kZXggYTE1ZWE2N2Y5
YjQ4Li40MmJmZDU0OGM0OGIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9p
bmNsdWRlL2FzbS9wMm0uaAorKysgYi94ZW4vYXJjaC9hcm0vaW5jbHVkZS9h
c20vcDJtLmgKQEAgLTIxOCw2ICsyMTgsMTAgQEAgdm9pZCBwMm1fcmVzdG9y
ZV9zdGF0ZShzdHJ1Y3QgdmNwdSAqbik7CiAvKiBQcmludCBkZWJ1Z2dpbmcv
c3RhdGlzdGlhbCBpbmZvIGFib3V0IGEgZG9tYWluJ3MgcDJtICovCiB2b2lk
IHAybV9kdW1wX2luZm8oc3RydWN0IGRvbWFpbiAqZCk7CiAKK3Vuc2lnbmVk
IGludCBwMm1fZ2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCk7Citp
bnQgcDJtX3NldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQsIHVuc2ln
bmVkIGxvbmcgcGFnZXMsIGJvb2wgKnByZWVtcHRlZCk7CitpbnQgcDJtX3Rl
YXJkb3duX2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCk7CisKIHN0YXRp
YyBpbmxpbmUgdm9pZCBwMm1fd3JpdGVfbG9jayhzdHJ1Y3QgcDJtX2RvbWFp
biAqcDJtKQogewogICAgIHdyaXRlX2xvY2soJnAybS0+bG9jayk7CmRpZmYg
LS1naXQgYS94ZW4vYXJjaC9hcm0vcDJtLmMgYi94ZW4vYXJjaC9hcm0vcDJt
LmMKaW5kZXggYjQ0NWY0ZDc1NDFlLi5kYjM4NWZlNDEwMjMgMTAwNjQ0Ci0t
LSBhL3hlbi9hcmNoL2FybS9wMm0uYworKysgYi94ZW4vYXJjaC9hcm0vcDJt
LmMKQEAgLTQ0LDYgKzQ0LDkyIEBAIHN0YXRpYyB1aW50NjRfdCBnZW5lcmF0
ZV92dHRicih1aW50MTZfdCB2bWlkLCBtZm5fdCByb290X21mbikKICAgICBy
ZXR1cm4gKG1mbl90b19tYWRkcihyb290X21mbikgfCAoKHVpbnQ2NF90KXZt
aWQgPDwgNDgpKTsKIH0KIAorLyogUmV0dXJuIHRoZSBzaXplIG9mIHRoZSBw
b29sLCByb3VuZGVkIHVwIHRvIHRoZSBuZWFyZXN0IE1CICovCit1bnNpZ25l
ZCBpbnQgcDJtX2dldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQpCit7
CisgICAgdW5zaWduZWQgbG9uZyBucl9wYWdlcyA9IEFDQ0VTU19PTkNFKGQt
PmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdlcyk7CisKKyAgICByZXR1cm4g
Uk9VTkRVUChucl9wYWdlcywgMSA8PCAoMjAgLSBQQUdFX1NISUZUKSkgPj4g
KDIwIC0gUEFHRV9TSElGVCk7Cit9CisKKy8qCisgKiBTZXQgdGhlIHBvb2wg
b2YgcGFnZXMgdG8gdGhlIHJlcXVpcmVkIG51bWJlciBvZiBwYWdlcy4KKyAq
IFJldHVybnMgMCBmb3Igc3VjY2Vzcywgbm9uLXplcm8gZm9yIGZhaWx1cmUu
CisgKiBDYWxsIHdpdGggZC0+YXJjaC5wYWdpbmcubG9jayBoZWxkLgorICov
CitpbnQgcDJtX3NldF9hbGxvY2F0aW9uKHN0cnVjdCBkb21haW4gKmQsIHVu
c2lnbmVkIGxvbmcgcGFnZXMsIGJvb2wgKnByZWVtcHRlZCkKK3sKKyAgICBz
dHJ1Y3QgcGFnZV9pbmZvICpwZzsKKworICAgIEFTU0VSVChzcGluX2lzX2xv
Y2tlZCgmZC0+YXJjaC5wYWdpbmcubG9jaykpOworCisgICAgZm9yICggOyA7
ICkKKyAgICB7CisgICAgICAgIGlmICggZC0+YXJjaC5wYWdpbmcucDJtX3Rv
dGFsX3BhZ2VzIDwgcGFnZXMgKQorICAgICAgICB7CisgICAgICAgICAgICAv
KiBOZWVkIHRvIGFsbG9jYXRlIG1vcmUgbWVtb3J5IGZyb20gZG9taGVhcCAq
LworICAgICAgICAgICAgcGcgPSBhbGxvY19kb21oZWFwX3BhZ2UoTlVMTCwg
MCk7CisgICAgICAgICAgICBpZiAoIHBnID09IE5VTEwgKQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJGYWls
ZWQgdG8gYWxsb2NhdGUgUDJNIHBhZ2VzLlxuIik7CisgICAgICAgICAgICAg
ICAgcmV0dXJuIC1FTk9NRU07CisgICAgICAgICAgICB9CisgICAgICAgICAg
ICBBQ0NFU1NfT05DRShkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMp
ID0KKyAgICAgICAgICAgICAgICBkLT5hcmNoLnBhZ2luZy5wMm1fdG90YWxf
cGFnZXMgKyAxOworICAgICAgICAgICAgcGFnZV9saXN0X2FkZF90YWlsKHBn
LCAmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsKKyAgICAgICAgfQor
ICAgICAgICBlbHNlIGlmICggZC0+YXJjaC5wYWdpbmcucDJtX3RvdGFsX3Bh
Z2VzID4gcGFnZXMgKQorICAgICAgICB7CisgICAgICAgICAgICAvKiBOZWVk
IHRvIHJldHVybiBtZW1vcnkgdG8gZG9taGVhcCAqLworICAgICAgICAgICAg
cGcgPSBwYWdlX2xpc3RfcmVtb3ZlX2hlYWQoJmQtPmFyY2gucGFnaW5nLnAy
bV9mcmVlbGlzdCk7CisgICAgICAgICAgICBpZiggcGcgKQorICAgICAgICAg
ICAgeworICAgICAgICAgICAgICAgIEFDQ0VTU19PTkNFKGQtPmFyY2gucGFn
aW5nLnAybV90b3RhbF9wYWdlcykgPQorICAgICAgICAgICAgICAgICAgICBk
LT5hcmNoLnBhZ2luZy5wMm1fdG90YWxfcGFnZXMgLSAxOworICAgICAgICAg
ICAgICAgIGZyZWVfZG9taGVhcF9wYWdlKHBnKTsKKyAgICAgICAgICAgIH0K
KyAgICAgICAgICAgIGVsc2UKKyAgICAgICAgICAgIHsKKyAgICAgICAgICAg
ICAgICBwcmludGsoWEVOTE9HX0VSUgorICAgICAgICAgICAgICAgICAgICAg
ICAiRmFpbGVkIHRvIGZyZWUgUDJNIHBhZ2VzLCBQMk0gZnJlZWxpc3QgaXMg
ZW1wdHkuXG4iKTsKKyAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsK
KyAgICAgICAgICAgIH0KKyAgICAgICAgfQorICAgICAgICBlbHNlCisgICAg
ICAgICAgICBicmVhazsKKworICAgICAgICAvKiBDaGVjayB0byBzZWUgaWYg
d2UgbmVlZCB0byB5aWVsZCBhbmQgdHJ5IGFnYWluICovCisgICAgICAgIGlm
ICggcHJlZW1wdGVkICYmIGdlbmVyYWxfcHJlZW1wdF9jaGVjaygpICkKKyAg
ICAgICAgeworICAgICAgICAgICAgKnByZWVtcHRlZCA9IHRydWU7CisgICAg
ICAgICAgICByZXR1cm4gLUVSRVNUQVJUOworICAgICAgICB9CisgICAgfQor
CisgICAgcmV0dXJuIDA7Cit9CisKK2ludCBwMm1fdGVhcmRvd25fYWxsb2Nh
dGlvbihzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIGludCByZXQgPSAwOwor
ICAgIGJvb2wgcHJlZW1wdGVkID0gZmFsc2U7CisKKyAgICBzcGluX2xvY2so
JmQtPmFyY2gucGFnaW5nLmxvY2spOworICAgIGlmICggZC0+YXJjaC5wYWdp
bmcucDJtX3RvdGFsX3BhZ2VzICE9IDAgKQorICAgIHsKKyAgICAgICAgcmV0
ID0gcDJtX3NldF9hbGxvY2F0aW9uKGQsIDAsICZwcmVlbXB0ZWQpOworICAg
ICAgICBpZiAoIHByZWVtcHRlZCApCisgICAgICAgIHsKKyAgICAgICAgICAg
IHNwaW5fdW5sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICAgICAg
ICAgIHJldHVybiAtRVJFU1RBUlQ7CisgICAgICAgIH0KKyAgICAgICAgQVNT
RVJUKGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdlcyA9PSAwKTsKKyAg
ICB9CisgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5nLmxvY2spOwor
CisgICAgcmV0dXJuIHJldDsKK30KKwogLyogVW5sb2NrIHRoZSBmbHVzaCBh
bmQgZG8gYSBQMk0gVExCIGZsdXNoIGlmIG5lY2Vzc2FyeSAqLwogdm9pZCBw
Mm1fd3JpdGVfdW5sb2NrKHN0cnVjdCBwMm1fZG9tYWluICpwMm0pCiB7CkBA
IC0xNjIzLDcgKzE3MDksOSBAQCBpbnQgcDJtX2luaXQoc3RydWN0IGRvbWFp
biAqZCkKICAgICB1bnNpZ25lZCBpbnQgY3B1OwogCiAgICAgcndsb2NrX2lu
aXQoJnAybS0+bG9jayk7CisgICAgc3Bpbl9sb2NrX2luaXQoJmQtPmFyY2gu
cGFnaW5nLmxvY2spOwogICAgIElOSVRfUEFHRV9MSVNUX0hFQUQoJnAybS0+
cGFnZXMpOworICAgIElOSVRfUEFHRV9MSVNUX0hFQUQoJmQtPmFyY2gucGFn
aW5nLnAybV9mcmVlbGlzdCk7CiAKICAgICBwMm0tPnZtaWQgPSBJTlZBTElE
X1ZNSUQ7CiAKLS0gCjIuMzcuMQoK

--=separator
Content-Type: application/octet-stream;
 name="xsa409/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Disposition: attachment;
 filename="xsa409/0003-xen-arm-libxl-Implement-XEN_DOMCTL_shadow_op-for-Arm.patch"
Content-Transfer-Encoding: base64

RnJvbSBhNTYzZTJjMDJmOWU4OWM2ZWNlNGY2NTI1YzEwYjdiZTNiNTE1Yjli
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzoyOSArMDAwMApTdWJqZWN0OiBbUEFUQ0ggMy80XSB4ZW4vYXJtLCBsaWJ4
bDogSW1wbGVtZW50IFhFTl9ET01DVExfc2hhZG93X29wIGZvciBBcm0KClRo
aXMgY29tbWl0IGltcGxlbWVudHMgdGhlIGBYRU5fRE9NQ1RMX3NoYWRvd19v
cGAgc3VwcG9ydCBpbiBYZW4KZm9yIEFybS4gVGhlIHAybSBwYWdlcyBwb29s
IHNpemUgZm9yIHhsIGd1ZXN0cyBpcyBzdXBwb3NlZCB0byBiZQpkZXRlcm1p
bmVkIGJ5IGBYRU5fRE9NQ1RMX3NoYWRvd19vcGAuIEhlbmNlLCB0aGlzIGNv
bW1pdDoKCi0gSW50cm9kdWNlcyBhIGZ1bmN0aW9uIGBwMm1fZG9tY3RsYCBh
bmQgaW1wbGVtZW50cyB0aGUgc3Vib3BzCmBYRU5fRE9NQ1RMX1NIQURPV19P
UF9TRVRfQUxMT0NBVElPTmAgYW5kCmBYRU5fRE9NQ1RMX1NIQURPV19PUF9H
RVRfQUxMT0NBVElPTmAgb2YgYFhFTl9ET01DVExfc2hhZG93X29wYC4KCi0g
QWRkcyB0aGUgYFhFTl9ET01DVExfU0hBRE9XX09QX1NFVF9BTExPQ0FUSU9O
YCBzdXBwb3J0IGluIGxpYnhsLgoKVGhlcmVmb3JlIGVuYWJsaW5nIHRoZSBz
ZXR0aW5nIG9mIHNoYWRvdyBtZW1vcnkgcG9vbCBzaXplCndoZW4gY3JlYXRp
bmcgYSBndWVzdCBmcm9tIHhsIGFuZCBnZXR0aW5nIHNoYWRvdyBtZW1vcnkg
cG9vbCBzaXplCmZyb20gWGVuLgoKTm90ZSB0aGF0IHRoZSBgWEVOX0RPTUNU
TF9zaGFkb3dfb3BgIGFkZGVkIGluIHRoaXMgY29tbWl0IGlzIG9ubHkKYSBk
dW1teSBvcCwgYW5kIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHNldHRpbmcvZ2V0
dGluZyBwMm0gbWVtb3J5IHBvb2wKc2l6ZSBmb3IgeGwgZ3Vlc3RzIHdpbGwg
YmUgYWRkZWQgaW4gZm9sbG93aW5nIGNvbW1pdHMuCgpUaGlzIGlzIHBhcnQg
b2YgQ1ZFLTIwMjItMzM3NDcgLyBYU0EtNDA5LgoKU2lnbmVkLW9mZi1ieTog
SGVucnkgV2FuZyA8SGVucnkuV2FuZ0Bhcm0uY29tPgpSZXZpZXdlZC1ieTog
U3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgot
LS0KIHRvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMgfCAxMiArKysrKysr
KysrKysKIHhlbi9hcmNoL2FybS9kb21jdGwuYyAgICAgICAgfCAzMiArKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogMiBmaWxlcyBjaGFuZ2Vk
LCA0NCBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlicy9s
aWdodC9saWJ4bF9hcm0uYyBiL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJt
LmMKaW5kZXggMWEzYWMxNjQ2ZTk0Li4yYTVlOTNjMjg0MDMgMTAwNjQ0Ci0t
LSBhL3Rvb2xzL2xpYnMvbGlnaHQvbGlieGxfYXJtLmMKKysrIGIvdG9vbHMv
bGlicy9saWdodC9saWJ4bF9hcm0uYwpAQCAtMjA5LDYgKzIwOSwxOCBAQCBp
bnQgbGlieGxfX2FyY2hfZG9tYWluX2NyZWF0ZShsaWJ4bF9fZ2MgKmdjLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfX2RvbWFpbl9i
dWlsZF9zdGF0ZSAqc3RhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50MzJfdCBkb21pZCkKIHsKKyAgICBsaWJ4bF9jdHggKmN0eCA9
IGxpYnhsX19nY19vd25lcihnYyk7CisgICAgdW5zaWduZWQgaW50IHNoYWRv
d19tYiA9IERJVl9ST1VORFVQKGRfY29uZmlnLT5iX2luZm8uc2hhZG93X21l
bWtiLCAxMDI0KTsKKworICAgIGludCByID0geGNfc2hhZG93X2NvbnRyb2wo
Y3R4LT54Y2gsIGRvbWlkLAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgWEVOX0RPTUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT04sCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAmc2hhZG93X21iLCAwKTsKKyAg
ICBpZiAocikgeworICAgICAgICBMT0dFRChFUlJPUiwgZG9taWQsCisgICAg
ICAgICAgICAgICJGYWlsZWQgdG8gc2V0ICV1IE1pQiBzaGFkb3cgYWxsb2Nh
dGlvbiIsIHNoYWRvd19tYik7CisgICAgICAgIHJldHVybiBFUlJPUl9GQUlM
OworICAgIH0KKwogICAgIHJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS94
ZW4vYXJjaC9hcm0vZG9tY3RsLmMgYi94ZW4vYXJjaC9hcm0vZG9tY3RsLmMK
aW5kZXggMWJhZjI1YzNkOThiLi45YmY3MmU2OTMwMTkgMTAwNjQ0Ci0tLSBh
L3hlbi9hcmNoL2FybS9kb21jdGwuYworKysgYi94ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMKQEAgLTQ3LDExICs0Nyw0MyBAQCBzdGF0aWMgaW50IGhhbmRsZV92
dWFydF9pbml0KHN0cnVjdCBkb21haW4gKmQsCiAgICAgcmV0dXJuIHJjOwog
fQogCitzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQs
IHN0cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCisgICAgICAgICAg
ICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0
bF90KSB1X2RvbWN0bCkKK3sKKyAgICBpZiAoIHVubGlrZWx5KGQgPT0gY3Vy
cmVudC0+ZG9tYWluKSApCisgICAgeworICAgICAgICBwcmludGsoWEVOTE9H
X0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9wIG9uIGl0c2VsZi5c
biIpOworICAgICAgICByZXR1cm4gLUVJTlZBTDsKKyAgICB9CisKKyAgICBp
ZiAoIHVubGlrZWx5KGQtPmlzX2R5aW5nKSApCisgICAgeworICAgICAgICBw
cmludGsoWEVOTE9HX0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9w
IG9uIGR5aW5nIGRvbWFpbiAldVxuIiwKKyAgICAgICAgICAgICAgIGQtPmRv
bWFpbl9pZCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0KKwor
ICAgIHN3aXRjaCAoIHNjLT5vcCApCisgICAgeworICAgIGNhc2UgWEVOX0RP
TUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT046CisgICAgICAgIHJldHVy
biAwOworICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfR0VUX0FMTE9D
QVRJT046CisgICAgICAgIHJldHVybiAwOworICAgIGRlZmF1bHQ6CisgICAg
eworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiQmFkIHAybSBkb21jdGwg
b3AgJXVcbiIsIHNjLT5vcCk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOwor
ICAgIH0KKyAgICB9Cit9CisKIGxvbmcgYXJjaF9kb19kb21jdGwoc3RydWN0
IHhlbl9kb21jdGwgKmRvbWN0bCwgc3RydWN0IGRvbWFpbiAqZCwKICAgICAg
ICAgICAgICAgICAgICAgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9t
Y3RsX3QpIHVfZG9tY3RsKQogewogICAgIHN3aXRjaCAoIGRvbWN0bC0+Y21k
ICkKICAgICB7CisgICAgY2FzZSBYRU5fRE9NQ1RMX3NoYWRvd19vcDoKKyAg
ICAgICAgcmV0dXJuIHAybV9kb21jdGwoZCwgJmRvbWN0bC0+dS5zaGFkb3df
b3AsIHVfZG9tY3RsKTsKICAgICBjYXNlIFhFTl9ET01DVExfY2FjaGVmbHVz
aDoKICAgICB7CiAgICAgICAgIGdmbl90IHMgPSBfZ2ZuKGRvbWN0bC0+dS5j
YWNoZWZsdXNoLnN0YXJ0X3Bmbik7Ci0tIAoyLjM3LjEKCg==

--=separator
Content-Type: application/octet-stream;
 name="xsa409/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Disposition: attachment;
 filename="xsa409/0004-xen-arm-Allocate-and-free-P2M-pages-from-the-P2M-poo.patch"
Content-Transfer-Encoding: base64

RnJvbSA2NGE3MWYxNTM4YzY1Nzc3OWY3NGZhM2I2MzIyNmFjM2ViOTUzNzlh
IE1vbiBTZXAgMTcgMDA6MDA6MDAgMjAwMQpGcm9tOiBIZW5yeSBXYW5nIDxI
ZW5yeS5XYW5nQGFybS5jb20+CkRhdGU6IE1vbiwgNiBKdW4gMjAyMiAwNjox
NzozMCArMDAwMApTdWJqZWN0OiBbUEFUQ0ggNC80XSB4ZW4vYXJtOiBBbGxv
Y2F0ZSBhbmQgZnJlZSBQMk0gcGFnZXMgZnJvbSB0aGUgUDJNIHBvb2wKClRo
aXMgY29tbWl0IHNldHMvdGVhcnNkb3duIG9mIHAybSBwYWdlcyBwb29sIGZv
ciBub24tcHJpdmlsZWdlZCBBcm0KZ3Vlc3RzIGJ5IGNhbGxpbmcgYHAybV9z
ZXRfYWxsb2NhdGlvbmAgYW5kIGBwMm1fdGVhcmRvd25fYWxsb2NhdGlvbmAu
CgotIEZvciBkb20wLCBQMk0gcGFnZXMgc2hvdWxkIGNvbWUgZnJvbSBoZWFw
IGRpcmVjdGx5IGluc3RlYWQgb2YgcDJtCnBvb2wsIHNvIHRoYXQgdGhlIGtl
cm5lbCBtYXkgdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIGV4dGVuZGVkIHJlZ2lv
bnMuCgotIEZvciB4bCBndWVzdHMsIHRoZSBzZXR0aW5nIG9mIHRoZSBwMm0g
cG9vbCBpcyBjYWxsZWQgaW4KYFhFTl9ET01DVExfc2hhZG93X29wYCBhbmQg
dGhlIHAybSBwb29sIGlzIGRlc3Ryb3llZCBpbgpgZG9tYWluX3JlbGlucXVp
c2hfcmVzb3VyY2VzYC4gTm90ZSB0aGF0IGRvbWN0bC0+dS5zaGFkb3dfb3Au
bWIgaXMKdXBkYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZSB3aGVuIHNldHRpbmcg
dGhlIHAybSBwb29sLgoKLSBGb3IgZG9tMGxlc3MgZG9tVXMsIHRoZSBzZXR0
aW5nIG9mIHRoZSBwMm0gcG9vbCBpcyBjYWxsZWQgYmVmb3JlCmFsbG9jYXRp
bmcgbWVtb3J5IGR1cmluZyBkb21haW4gY3JlYXRpb24uIFVzZXJzIGNhbiBz
cGVjaWZ5IHRoZSBwMm0KcG9vbCBzaXplIGJ5IGB4ZW4sZG9tYWluLXAybS1t
ZW0tbWJgIGR0cyBwcm9wZXJ0eS4KClRvIGFjdHVhbGx5IGFsbG9jYXRlL2Zy
ZWUgcGFnZXMgZnJvbSB0aGUgcDJtIHBvb2wsIHRoaXMgY29tbWl0IGFkZHMK
dHdvIGhlbHBlciBmdW5jdGlvbnMgbmFtZWx5IGBwMm1fYWxsb2NfcGFnZWAg
YW5kIGBwMm1fZnJlZV9wYWdlYCB0bwpgc3RydWN0IHAybV9kb21haW5gLiBC
eSByZXBsYWNpbmcgdGhlIGBhbGxvY19kb21oZWFwX3BhZ2VgIGFuZApgZnJl
ZV9kb21oZWFwX3BhZ2VgIHdpdGggdGhlc2UgdHdvIGhlbHBlciBmdW5jdGlv
bnMsIHAybSBwYWdlcyBjYW4KYmUgYWRkZWQvcmVtb3ZlZCBmcm9tIHRoZSBs
aXN0IG9mIHAybSBwb29sIHJhdGhlciB0aGFuIGZyb20gdGhlIGhlYXAuCgpT
aW5jZSBwYWdlIGZyb20gYHAybV9hbGxvY19wYWdlYCBpcyBjbGVhbmVkLCB0
YWtlIHRoZSBvcHBvcnR1bml0eQp0byByZW1vdmUgdGhlIHJlZHVuZGFudCBg
Y2xlYW5fcGFnZWAgaW4gYHAybV9jcmVhdGVfdGFibGVgLgoKVGhpcyBpcyBw
YXJ0IG9mIENWRS0yMDIyLTMzNzQ3IC8gWFNBLTQwOS4KClNpZ25lZC1vZmYt
Ynk6IEhlbnJ5IFdhbmcgPEhlbnJ5LldhbmdAYXJtLmNvbT4KUmV2aWV3ZWQt
Ynk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9y
Zz4KLS0tCiBkb2NzL21pc2MvYXJtL2RldmljZS10cmVlL2Jvb3RpbmcudHh0
IHwgIDggKysrKwogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAg
ICAgICB8ICA2ICsrKwogeGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jICAg
ICAgICAgICB8IDI5ICsrKysrKysrKysrKysrCiB4ZW4vYXJjaC9hcm0vZG9t
Y3RsLmMgICAgICAgICAgICAgICAgIHwgMjMgKysrKysrKysrKy0KIHhlbi9h
cmNoL2FybS9wMm0uYyAgICAgICAgICAgICAgICAgICAgfCA1NyArKysrKysr
KysrKysrKysrKysrKysrKysrLS0KIDUgZmlsZXMgY2hhbmdlZCwgMTE4IGlu
c2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9j
cy9taXNjL2FybS9kZXZpY2UtdHJlZS9ib290aW5nLnR4dCBiL2RvY3MvbWlz
Yy9hcm0vZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKaW5kZXggOTgyNTM0MTRi
OGQxLi5iZjQwMWQzYzkxYzEgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlzYy9hcm0v
ZGV2aWNlLXRyZWUvYm9vdGluZy50eHQKKysrIGIvZG9jcy9taXNjL2FybS9k
ZXZpY2UtdHJlZS9ib290aW5nLnR4dApAQCAtMjExLDYgKzIxMSwxNCBAQCB3
aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczoKICAgICBJbiB0aGUgZnV0
dXJlIG90aGVyIHBvc3NpYmxlIHByb3BlcnR5IHZhbHVlcyBtaWdodCBiZSBh
ZGRlZCB0bwogICAgIGVuYWJsZSBvbmx5IHNlbGVjdGVkIGludGVyZmFjZXMu
CiAKKy0geGVuLGRvbWFpbi1wMm0tbWVtLW1iCisKKyAgICBPcHRpb25hbC4g
QSAzMi1iaXQgaW50ZWdlciBzcGVjaWZ5aW5nIHRoZSBhbW91bnQgb2YgbWVn
YWJ5dGVzIG9mIFJBTQorICAgIHVzZWQgZm9yIHRoZSBkb21haW4gUDJNIHBv
b2wuIFRoaXMgaXMgaW4tc3luYyB3aXRoIHRoZSBzaGFkb3dfbWVtb3J5Cisg
ICAgb3B0aW9uIGluIHhsLmNmZy4gTGVhdmluZyB0aGlzIGZpZWxkIGVtcHR5
IGluIGRldmljZSB0cmVlIHdpbGwgbGVhZCB0bworICAgIHRoZSBkZWZhdWx0
IHNpemUgb2YgZG9tYWluIFAyTSBwb29sLCBpLmUuIDFNQiBwZXIgZ3Vlc3Qg
dkNQVSBwbHVzIDRLQgorICAgIHBlciBNQiBvZiBndWVzdCBSQU0gcGx1cyA1
MTJLQiBmb3IgZ3Vlc3QgZXh0ZW5kZWQgcmVnaW9ucy4KKwogVW5kZXIgdGhl
ICJ4ZW4sZG9tYWluIiBjb21wYXRpYmxlIG5vZGUsIG9uZSBvciBtb3JlIHN1
Yi1ub2RlcyBhcmUgcHJlc2VudAogZm9yIHRoZSBEb21VIGtlcm5lbCBhbmQg
cmFtZGlzay4KIApkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL2RvbWFpbi5j
IGIveGVuL2FyY2gvYXJtL2RvbWFpbi5jCmluZGV4IGU1YWUzZTcxZWIyMC4u
MzNlZTRmNDAzMmExIDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWlu
LmMKKysrIGIveGVuL2FyY2gvYXJtL2RvbWFpbi5jCkBAIC0xMDA1LDYgKzEw
MDUsNyBAQCBlbnVtIHsKICAgICBQUk9HX3BhZ2UsCiAgICAgUFJPR19tYXBw
aW5nLAogICAgIFBST0dfcDJtLAorICAgIFBST0dfcDJtX3Bvb2wsCiAgICAg
UFJPR19kb25lLAogfTsKIApAQCAtMTA3MCw2ICsxMDcxLDExIEBAIGludCBk
b21haW5fcmVsaW5xdWlzaF9yZXNvdXJjZXMoc3RydWN0IGRvbWFpbiAqZCkK
ICAgICAgICAgaWYgKCByZXQgKQogICAgICAgICAgICAgcmV0dXJuIHJldDsK
IAorICAgIFBST0dSRVNTKHAybV9wb29sKToKKyAgICAgICAgcmV0ID0gcDJt
X3RlYXJkb3duX2FsbG9jYXRpb24oZCk7CisgICAgICAgIGlmKCByZXQgKQor
ICAgICAgICAgICAgcmV0dXJuIHJldDsKKwogICAgIFBST0dSRVNTKGRvbmUp
OgogICAgICAgICBicmVhazsKIApkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJt
L2RvbWFpbl9idWlsZC5jIGIveGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5j
CmluZGV4IDNmZDExODZiNTNhOC4uOTMyMDBiZmY1NzExIDEwMDY0NAotLS0g
YS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKKysrIGIveGVuL2FyY2gv
YXJtL2RvbWFpbl9idWlsZC5jCkBAIC0zMDc5LDYgKzMwNzksMjEgQEAgc3Rh
dGljIHZvaWQgX19pbml0IGZpbmRfZ250dGFiX3JlZ2lvbihzdHJ1Y3QgZG9t
YWluICpkLAogICAgICAgICAgICBraW5mby0+Z250dGFiX3N0YXJ0LCBraW5m
by0+Z250dGFiX3N0YXJ0ICsga2luZm8tPmdudHRhYl9zaXplKTsKIH0KIAor
c3RhdGljIHVuc2lnbmVkIGxvbmcgX19pbml0IGRvbWFpbl9wMm1fcGFnZXMo
dW5zaWduZWQgbG9uZyBtYXhtZW1fa2IsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgc21wX2Nw
dXMpCit7CisgICAgLyoKKyAgICAgKiBLZWVwIGluIHN5bmMgd2l0aCBsaWJ4
bF9fZ2V0X3JlcXVpcmVkX3BhZ2luZ19tZW1vcnkoKS4KKyAgICAgKiAyNTYg
cGFnZXMgKDFNQikgcGVyIHZjcHUsIHBsdXMgMSBwYWdlIHBlciBNaUIgb2Yg
UkFNIGZvciB0aGUgUDJNIG1hcCwKKyAgICAgKiBwbHVzIDEyOCBwYWdlcyB0
byBjb3ZlciBleHRlbmRlZCByZWdpb25zLgorICAgICAqLworICAgIHVuc2ln
bmVkIGxvbmcgbWVta2IgPSA0ICogKDI1NiAqIHNtcF9jcHVzICsgKG1heG1l
bV9rYiAvIDEwMjQpICsgMTI4KTsKKworICAgIEJVSUxEX0JVR19PTihQQUdF
X1NJWkUgIT0gU1pfNEspOworCisgICAgcmV0dXJuIERJVl9ST1VORF9VUCht
ZW1rYiwgMTAyNCkgPDwgKDIwIC0gUEFHRV9TSElGVCk7Cit9CisKIHN0YXRp
YyBpbnQgX19pbml0IGNvbnN0cnVjdF9kb21haW4oc3RydWN0IGRvbWFpbiAq
ZCwgc3RydWN0IGtlcm5lbF9pbmZvICpraW5mbykKIHsKICAgICB1bnNpZ25l
ZCBpbnQgaTsKQEAgLTMxOTAsNiArMzIwNSw4IEBAIHN0YXRpYyBpbnQgX19p
bml0IGNvbnN0cnVjdF9kb21VKHN0cnVjdCBkb21haW4gKmQsCiAgICAgY29u
c3QgY2hhciAqZG9tMGxlc3NfZW5oYW5jZWQ7CiAgICAgaW50IHJjOwogICAg
IHU2NCBtZW07CisgICAgdTMyIHAybV9tZW1fbWI7CisgICAgdW5zaWduZWQg
bG9uZyBwMm1fcGFnZXM7CiAKICAgICByYyA9IGR0X3Byb3BlcnR5X3JlYWRf
dTY0KG5vZGUsICJtZW1vcnkiLCAmbWVtKTsKICAgICBpZiAoICFyYyApCkBA
IC0zMTk5LDYgKzMyMTYsMTggQEAgc3RhdGljIGludCBfX2luaXQgY29uc3Ry
dWN0X2RvbVUoc3RydWN0IGRvbWFpbiAqZCwKICAgICB9CiAgICAga2luZm8u
dW5hc3NpZ25lZF9tZW0gPSAocGFkZHJfdCltZW0gKiBTWl8xSzsKIAorICAg
IHJjID0gZHRfcHJvcGVydHlfcmVhZF91MzIobm9kZSwgInhlbixkb21haW4t
cDJtLW1lbS1tYiIsICZwMm1fbWVtX21iKTsKKyAgICAvKiBJZiB4ZW4sZG9t
YWluLXAybS1tZW0tbWIgaXMgbm90IHNwZWNpZmllZCwgdXNlIHRoZSBkZWZh
dWx0IHZhbHVlLiAqLworICAgIHAybV9wYWdlcyA9IHJjID8KKyAgICAgICAg
ICAgICAgICBwMm1fbWVtX21iIDw8ICgyMCAtIFBBR0VfU0hJRlQpIDoKKyAg
ICAgICAgICAgICAgICBkb21haW5fcDJtX3BhZ2VzKG1lbSwgZC0+bWF4X3Zj
cHVzKTsKKworICAgIHNwaW5fbG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7
CisgICAgcmMgPSBwMm1fc2V0X2FsbG9jYXRpb24oZCwgcDJtX3BhZ2VzLCBO
VUxMKTsKKyAgICBzcGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7
CisgICAgaWYgKCByYyAhPSAwICkKKyAgICAgICAgcmV0dXJuIHJjOworCiAg
ICAgcHJpbnRrKCIqKiogTE9BRElORyBET01VIGNwdXM9JXUgbWVtb3J5PSUi
UFJJeDY0IktCICoqKlxuIiwgZC0+bWF4X3ZjcHVzLCBtZW0pOwogCiAgICAg
a2luZm8udnBsMDExID0gZHRfcHJvcGVydHlfcmVhZF9ib29sKG5vZGUsICJ2
cGwwMTEiKTsKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9kb21jdGwuYyBi
L3hlbi9hcmNoL2FybS9kb21jdGwuYwppbmRleCA5YmY3MmU2OTMwMTkuLmM4
ZmRlYjEyNDA4NCAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL2RvbWN0bC5j
CisrKyBiL3hlbi9hcmNoL2FybS9kb21jdGwuYwpAQCAtNTAsNiArNTAsOSBA
QCBzdGF0aWMgaW50IGhhbmRsZV92dWFydF9pbml0KHN0cnVjdCBkb21haW4g
KmQsCiBzdGF0aWMgbG9uZyBwMm1fZG9tY3RsKHN0cnVjdCBkb21haW4gKmQs
IHN0cnVjdCB4ZW5fZG9tY3RsX3NoYWRvd19vcCAqc2MsCiAgICAgICAgICAg
ICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0
bF90KSB1X2RvbWN0bCkKIHsKKyAgICBsb25nIHJjOworICAgIGJvb2wgcHJl
ZW1wdGVkID0gZmFsc2U7CisKICAgICBpZiAoIHVubGlrZWx5KGQgPT0gY3Vy
cmVudC0+ZG9tYWluKSApCiAgICAgewogICAgICAgICBwcmludGsoWEVOTE9H
X0VSUiAiVHJpZWQgdG8gZG8gYSBwMm0gZG9tY3RsIG9wIG9uIGl0c2VsZi5c
biIpOwpAQCAtNjYsOSArNjksMjcgQEAgc3RhdGljIGxvbmcgcDJtX2RvbWN0
bChzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2RvbWN0bF9zaGFkb3df
b3AgKnNjLAogICAgIHN3aXRjaCAoIHNjLT5vcCApCiAgICAgewogICAgIGNh
c2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfU0VUX0FMTE9DQVRJT046Ci0gICAg
ICAgIHJldHVybiAwOworICAgIHsKKyAgICAgICAgLyogQWxsb3cgYW5kIGhh
bmRsZSBwcmVlbXB0aW9uICovCisgICAgICAgIHNwaW5fbG9jaygmZC0+YXJj
aC5wYWdpbmcubG9jayk7CisgICAgICAgIHJjID0gcDJtX3NldF9hbGxvY2F0
aW9uKGQsIHNjLT5tYiA8PCAoMjAgLSBQQUdFX1NISUZUKSwgJnByZWVtcHRl
ZCk7CisgICAgICAgIHNwaW5fdW5sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2Nr
KTsKKworICAgICAgICBpZiAoIHByZWVtcHRlZCApCisgICAgICAgICAgICAv
KiBOb3QgZmluaXNoZWQuIFNldCB1cCB0byByZS1ydW4gdGhlIGNhbGwuICov
CisgICAgICAgICAgICByYyA9IGh5cGVyY2FsbF9jcmVhdGVfY29udGludWF0
aW9uKF9fSFlQRVJWSVNPUl9kb21jdGwsICJoIiwKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdV9kb21jdGwpOwor
ICAgICAgICBlbHNlCisgICAgICAgICAgICAvKiBGaW5pc2hlZC4gUmV0dXJu
IHRoZSBuZXcgYWxsb2NhdGlvbi4gKi8KKyAgICAgICAgICAgIHNjLT5tYiA9
IHAybV9nZXRfYWxsb2NhdGlvbihkKTsKKworICAgICAgICByZXR1cm4gcmM7
CisgICAgfQogICAgIGNhc2UgWEVOX0RPTUNUTF9TSEFET1dfT1BfR0VUX0FM
TE9DQVRJT046CisgICAgeworICAgICAgICBzYy0+bWIgPSBwMm1fZ2V0X2Fs
bG9jYXRpb24oZCk7CiAgICAgICAgIHJldHVybiAwOworICAgIH0KICAgICBk
ZWZhdWx0OgogICAgIHsKICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgIkJh
ZCBwMm0gZG9tY3RsIG9wICV1XG4iLCBzYy0+b3ApOwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL3AybS5jIGIveGVuL2FyY2gvYXJtL3AybS5jCmluZGV4
IGRiMzg1ZmU0MTAyMy4uZjE3NTAwZGRmM2EzIDEwMDY0NAotLS0gYS94ZW4v
YXJjaC9hcm0vcDJtLmMKKysrIGIveGVuL2FyY2gvYXJtL3AybS5jCkBAIC00
NCw2ICs0NCw1NCBAQCBzdGF0aWMgdWludDY0X3QgZ2VuZXJhdGVfdnR0YnIo
dWludDE2X3Qgdm1pZCwgbWZuX3Qgcm9vdF9tZm4pCiAgICAgcmV0dXJuICht
Zm5fdG9fbWFkZHIocm9vdF9tZm4pIHwgKCh1aW50NjRfdCl2bWlkIDw8IDQ4
KSk7CiB9CiAKK3N0YXRpYyBzdHJ1Y3QgcGFnZV9pbmZvICpwMm1fYWxsb2Nf
cGFnZShzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0cnVjdCBwYWdlX2lu
Zm8gKnBnOworCisgICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2Nr
KTsKKyAgICAvKgorICAgICAqIEZvciBoYXJkd2FyZSBkb21haW4sIHRoZXJl
IHNob3VsZCBiZSBubyBsaW1pdCBpbiB0aGUgbnVtYmVyIG9mIHBhZ2VzIHRo
YXQKKyAgICAgKiBjYW4gYmUgYWxsb2NhdGVkLCBzbyB0aGF0IHRoZSBrZXJu
ZWwgbWF5IHRha2UgYWR2YW50YWdlIG9mIHRoZSBleHRlbmRlZAorICAgICAq
IHJlZ2lvbnMuIEhlbmNlLCBhbGxvY2F0ZSBwMm0gcGFnZXMgZm9yIGhhcmR3
YXJlIGRvbWFpbnMgZnJvbSBoZWFwLgorICAgICAqLworICAgIGlmICggaXNf
aGFyZHdhcmVfZG9tYWluKGQpICkKKyAgICB7CisgICAgICAgIHBnID0gYWxs
b2NfZG9taGVhcF9wYWdlKE5VTEwsIDApOworICAgICAgICBpZiAoIHBnID09
IE5VTEwgKQorICAgICAgICB7CisgICAgICAgICAgICBwcmludGsoWEVOTE9H
X0dfRVJSICJGYWlsZWQgdG8gYWxsb2NhdGUgUDJNIHBhZ2VzIGZvciBod2Rv
bS5cbiIpOworICAgICAgICAgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFn
aW5nLmxvY2spOworICAgICAgICAgICAgcmV0dXJuIE5VTEw7CisgICAgICAg
IH0KKyAgICB9CisgICAgZWxzZQorICAgIHsKKyAgICAgICAgcGcgPSBwYWdl
X2xpc3RfcmVtb3ZlX2hlYWQoJmQtPmFyY2gucGFnaW5nLnAybV9mcmVlbGlz
dCk7CisgICAgICAgIGlmICggdW5saWtlbHkoIXBnKSApCisgICAgICAgIHsK
KyAgICAgICAgICAgIHNwaW5fdW5sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2Nr
KTsKKyAgICAgICAgICAgIHJldHVybiBOVUxMOworICAgICAgICB9CisgICAg
ICAgIGQtPmFyY2gucGFnaW5nLnAybV90b3RhbF9wYWdlcy0tOworICAgIH0K
KyAgICBzcGluX3VubG9jaygmZC0+YXJjaC5wYWdpbmcubG9jayk7CisKKyAg
ICByZXR1cm4gcGc7Cit9CisKK3N0YXRpYyB2b2lkIHAybV9mcmVlX3BhZ2Uo
c3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHBhZ2VfaW5mbyAqcGcpCit7Cisg
ICAgc3Bpbl9sb2NrKCZkLT5hcmNoLnBhZ2luZy5sb2NrKTsKKyAgICBpZiAo
IGlzX2hhcmR3YXJlX2RvbWFpbihkKSApCisgICAgICAgIGZyZWVfZG9taGVh
cF9wYWdlKHBnKTsKKyAgICBlbHNlCisgICAgeworICAgICAgICBkLT5hcmNo
LnBhZ2luZy5wMm1fdG90YWxfcGFnZXMrKzsKKyAgICAgICAgcGFnZV9saXN0
X2FkZF90YWlsKHBnLCAmZC0+YXJjaC5wYWdpbmcucDJtX2ZyZWVsaXN0KTsK
KyAgICB9CisgICAgc3Bpbl91bmxvY2soJmQtPmFyY2gucGFnaW5nLmxvY2sp
OworfQorCiAvKiBSZXR1cm4gdGhlIHNpemUgb2YgdGhlIHBvb2wsIHJvdW5k
ZWQgdXAgdG8gdGhlIG5lYXJlc3QgTUIgKi8KIHVuc2lnbmVkIGludCBwMm1f
Z2V0X2FsbG9jYXRpb24oc3RydWN0IGRvbWFpbiAqZCkKIHsKQEAgLTc0Nyw3
ICs3OTUsNyBAQCBzdGF0aWMgaW50IHAybV9jcmVhdGVfdGFibGUoc3RydWN0
IHAybV9kb21haW4gKnAybSwgbHBhZV90ICplbnRyeSkKIAogICAgIEFTU0VS
VCghcDJtX2lzX3ZhbGlkKCplbnRyeSkpOwogCi0gICAgcGFnZSA9IGFsbG9j
X2RvbWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICBwYWdlID0gcDJtX2FsbG9j
X3BhZ2UocDJtLT5kb21haW4pOwogICAgIGlmICggcGFnZSA9PSBOVUxMICkK
ICAgICAgICAgcmV0dXJuIC1FTk9NRU07CiAKQEAgLTg3Nyw3ICs5MjUsNyBA
QCBzdGF0aWMgdm9pZCBwMm1fZnJlZV9lbnRyeShzdHJ1Y3QgcDJtX2RvbWFp
biAqcDJtLAogICAgIHBnID0gbWZuX3RvX3BhZ2UobWZuKTsKIAogICAgIHBh
Z2VfbGlzdF9kZWwocGcsICZwMm0tPnBhZ2VzKTsKLSAgICBmcmVlX2RvbWhl
YXBfcGFnZShwZyk7CisgICAgcDJtX2ZyZWVfcGFnZShwMm0tPmRvbWFpbiwg
cGcpOwogfQogCiBzdGF0aWMgYm9vbCBwMm1fc3BsaXRfc3VwZXJwYWdlKHN0
cnVjdCBwMm1fZG9tYWluICpwMm0sIGxwYWVfdCAqZW50cnksCkBAIC05MDEs
NyArOTQ5LDcgQEAgc3RhdGljIGJvb2wgcDJtX3NwbGl0X3N1cGVycGFnZShz
dHJ1Y3QgcDJtX2RvbWFpbiAqcDJtLCBscGFlX3QgKmVudHJ5LAogICAgIEFT
U0VSVChsZXZlbCA8IHRhcmdldCk7CiAgICAgQVNTRVJUKHAybV9pc19zdXBl
cnBhZ2UoKmVudHJ5LCBsZXZlbCkpOwogCi0gICAgcGFnZSA9IGFsbG9jX2Rv
bWhlYXBfcGFnZShOVUxMLCAwKTsKKyAgICBwYWdlID0gcDJtX2FsbG9jX3Bh
Z2UocDJtLT5kb21haW4pOwogICAgIGlmICggIXBhZ2UgKQogICAgICAgICBy
ZXR1cm4gZmFsc2U7CiAKQEAgLTE2NjUsNyArMTcxMyw3IEBAIGludCBwMm1f
dGVhcmRvd24oc3RydWN0IGRvbWFpbiAqZCkKIAogICAgIHdoaWxlICggKHBn
ID0gcGFnZV9saXN0X3JlbW92ZV9oZWFkKCZwMm0tPnBhZ2VzKSkgKQogICAg
IHsKLSAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2UocGcpOworICAgICAgICBw
Mm1fZnJlZV9wYWdlKHAybS0+ZG9tYWluLCBwZyk7CiAgICAgICAgIGNvdW50
Kys7CiAgICAgICAgIC8qIEFyYml0cmFyaWx5IHByZWVtcHQgZXZlcnkgNTEy
IGl0ZXJhdGlvbnMgKi8KICAgICAgICAgaWYgKCAhKGNvdW50ICUgNTEyKSAm
JiBoeXBlcmNhbGxfcHJlZW1wdF9jaGVjaygpICkKQEAgLTE2ODksNiArMTcz
Nyw3IEBAIHZvaWQgcDJtX2ZpbmFsX3RlYXJkb3duKHN0cnVjdCBkb21haW4g
KmQpCiAgICAgICAgIHJldHVybjsKIAogICAgIEFTU0VSVChwYWdlX2xpc3Rf
ZW1wdHkoJnAybS0+cGFnZXMpKTsKKyAgICBBU1NFUlQocGFnZV9saXN0X2Vt
cHR5KCZkLT5hcmNoLnBhZ2luZy5wMm1fZnJlZWxpc3QpKTsKIAogICAgIGlm
ICggcDJtLT5yb290ICkKICAgICAgICAgZnJlZV9kb21oZWFwX3BhZ2VzKHAy
bS0+cm9vdCwgUDJNX1JPT1RfT1JERVIpOwotLSAKMi4zNy4xCgo=

--=separator--


Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 669061299C5
	for <lists+xen-devel@lfdr.de>; Mon, 23 Dec 2019 19:15:48 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ijSC5-0005pX-6X; Mon, 23 Dec 2019 18:12:37 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=I8bJ=2N=gmail.com=julien.grall.oss@srs-us1.protection.inumbo.net>)
 id 1ijSC3-0005pQ-FY
 for xen-devel@lists.xenproject.org; Mon, 23 Dec 2019 18:12:35 +0000
X-Inumbo-ID: c66c9fee-25af-11ea-88e7-bc764e2007e4
Received: from mail-qt1-f193.google.com (unknown [209.85.160.193])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id c66c9fee-25af-11ea-88e7-bc764e2007e4;
 Mon, 23 Dec 2019 18:12:26 +0000 (UTC)
Received: by mail-qt1-f193.google.com with SMTP id t3so16034629qtr.11
 for <xen-devel@lists.xenproject.org>; Mon, 23 Dec 2019 10:12:26 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=08VLlByYFsFlYHfFuDjHhPSfK6mqSoag20KmyUmpqNc=;
 b=QLQKrqiRMDv+6tKA6CANA5MOQMlYt5W1sNifr6C4su/G3audjLpxHRQ1jwXnBkFngP
 0aCQdR+kPlCbKUZHckZv3tIhAd3MDxTClzbQdZdrPIzmQ9dUtsjEKOBLfc5K9Y3jnv/x
 WwgGsnjOj/YZL2XJRYpGPxJDmKLgYfQs430G1pbarTbMAIPPrfSJ6zplGlJZunDAeZu3
 MgCn0j2c9a5PTgtr3mTJMPdZoRVVKCUlczK1bid+L3wxccgUjAZUzEpJTCtAqnwUvmyR
 7AN6gb9wGtAaH7RZUIilRIbXHAeDz90/brJD+tnvppgZBXheC885PAimPHu+SZgpyhbV
 ZB6A==
X-Gm-Message-State: APjAAAXPEFi4mJBJ5Va9tXDLs93kT/95Ak4qNU4MAH83yLKj1FghpCZR
 3IS69XXh6CtzfepqlKIVNB4=
X-Google-Smtp-Source: APXvYqymMxLthIbnk/MPbM95dIE76bGyV1//8tH+uJ1i1ybRjOeWPyTr4GPPnL4LtkwtOZvOgtmJ5w==
X-Received: by 2002:ac8:2f03:: with SMTP id j3mr24220418qta.180.1577124746178; 
 Mon, 23 Dec 2019 10:12:26 -0800 (PST)
Received: from a483e7b01a66.ant.amazon.com ([54.239.6.185])
 by smtp.gmail.com with ESMTPSA id m10sm5920709qki.74.2019.12.23.10.12.23
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 23 Dec 2019 10:12:25 -0800 (PST)
To: Andrew Cooper <andrew.cooper3@citrix.com>,
 Xen-devel <xen-devel@lists.xenproject.org>
References: <20191217201550.15864-1-andrew.cooper3@citrix.com>
 <20191217201550.15864-3-andrew.cooper3@citrix.com>
From: Julien Grall <julien@xen.org>
Message-ID: <d72bc08f-02ce-3c0e-c976-d237669f8f95@xen.org>
Date: Mon, 23 Dec 2019 19:12:22 +0100
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0)
 Gecko/20100101 Thunderbird/68.3.1
MIME-Version: 1.0
In-Reply-To: <20191217201550.15864-3-andrew.cooper3@citrix.com>
Content-Language: en-GB
Subject: Re: [Xen-devel] [PATCH 2/4] tools/dombuilder: Remove PV-only,
 mandatory hooks
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Ian Jackson <Ian.Jackson@citrix.com>, Varad Gautam <vrd@amazon.de>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>, Wei Liu <wl@xen.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgQW5kcmV3LAoKT24gMTcvMTIvMjAxOSAyMToxNSwgQW5kcmV3IENvb3BlciB3cm90ZToKPiBD
dXJyZW50bHksIHRoZSBzZXR1cF9wZ3RhYmxlKCkgaG9vayBpcyBvcHRpb25hbCwgYnV0IGFsbG9j
X3BndGFibGUoKSBob29rIGlzCj4gbm90LiAgQm90aCBhcmUgc3BlY2lmaWMgdG8geDg2IFBWIGd1
ZXN0cywgYW5kIHN0dWJiZWQgaW4gdmFyaW91cyB3YXlzIGJ5IHRoZQo+IGRvbWJ1aWxkZXJzIGZv
ciB0cmFuc2xhdGVkIGd1ZXN0cyAoeDg2IEhWTSwgQVJNKS4KPiAKPiBNYWtlIGFsbG9jX3BndGFi
bGVzKCkgb3B0aW9uYWwsIGFuZCBkcm9wIGFsbCB0aGUgc3R1YnMgZm9yIHRyYW5zbGF0ZWQgZ3Vl
c3QKPiB0eXBlcy4KPiAKPiBObyBjaGFuZ2UgaW4gdGhlIGNvbnN0cnVjdGVkIGd1ZXN0cy4KPiAK
PiBTaWduZWQtb2ZmLWJ5OiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcuY29vcGVyM0BjaXRyaXguY29t
PgoKQWNrZWQtYnk6IEp1bGllbiBHcmFsbCA8anVsaWVuQHhlbi5vcmc+CgpDaGVlcnMsCgo+IC0t
LQo+IENDOiBJYW4gSmFja3NvbiA8SWFuLkphY2tzb25AY2l0cml4LmNvbT4KPiBDQzogV2VpIExp
dSA8d2xAeGVuLm9yZz4KPiBDQzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJu
ZWwub3JnPgo+IENDOiBKdWxpZW4gR3JhbGwgPGp1bGllbkB4ZW4ub3JnPgo+IENDOiBWb2xvZHlt
eXIgQmFiY2h1ayA8Vm9sb2R5bXlyX0JhYmNodWtAZXBhbS5jb20+Cj4gQ0M6IFZhcmFkIEdhdXRh
bSA8dnJkQGFtYXpvbi5kZT4KPiAtLS0KPiAgIHRvb2xzL2xpYnhjL2luY2x1ZGUveGNfZG9tLmgg
fCAgMyArKy0KPiAgIHRvb2xzL2xpYnhjL3hjX2RvbV9hcm0uYyAgICAgfCAyMSAtLS0tLS0tLS0t
LS0tLS0tLS0tLS0KPiAgIHRvb2xzL2xpYnhjL3hjX2RvbV9ib290LmMgICAgfCAgNiArKystLS0K
PiAgIHRvb2xzL2xpYnhjL3hjX2RvbV9jb3JlLmMgICAgfCAgMyArKy0KPiAgIHRvb2xzL2xpYnhj
L3hjX2RvbV94ODYuYyAgICAgfCAgNyAtLS0tLS0tCj4gICA1IGZpbGVzIGNoYW5nZWQsIDcgaW5z
ZXJ0aW9ucygrKSwgMzMgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhj
L2luY2x1ZGUveGNfZG9tLmggYi90b29scy9saWJ4Yy9pbmNsdWRlL3hjX2RvbS5oCj4gaW5kZXgg
NTkwMGJiZThmYS4uOWZmMWNiOGIwNyAxMDA2NDQKPiAtLS0gYS90b29scy9saWJ4Yy9pbmNsdWRl
L3hjX2RvbS5oCj4gKysrIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94Y19kb20uaAo+IEBAIC0yNTMs
OCArMjUzLDkgQEAgdm9pZCB4Y19kb21fcmVnaXN0ZXJfbG9hZGVyKHN0cnVjdCB4Y19kb21fbG9h
ZGVyICpsb2FkZXIpOwo+ICAgLyogLS0tIGFyY2ggc3BlY2lmaWMgaG9va3MgLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KPiAgIAo+ICAgc3RydWN0IHhjX2RvbV9h
cmNoIHsKPiAtICAgIC8qIHBhZ2V0YWJsZSBzZXR1cCAqLwo+ICAgICAgIGludCAoKmFsbG9jX21h
Z2ljX3BhZ2VzKSAoc3RydWN0IHhjX2RvbV9pbWFnZSAqIGRvbSk7Cj4gKwo+ICsgICAgLyogcGFn
ZXRhYmxlIHNldHVwIC0geDg2IFBWIG9ubHkgKi8KPiAgICAgICBpbnQgKCphbGxvY19wZ3RhYmxl
cykgKHN0cnVjdCB4Y19kb21faW1hZ2UgKiBkb20pOwo+ICAgICAgIGludCAoKmFsbG9jX3AybV9s
aXN0KSAoc3RydWN0IHhjX2RvbV9pbWFnZSAqIGRvbSk7Cj4gICAgICAgaW50ICgqc2V0dXBfcGd0
YWJsZXMpIChzdHJ1Y3QgeGNfZG9tX2ltYWdlICogZG9tKTsKPiBkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGMveGNfZG9tX2FybS5jIGIvdG9vbHMvbGlieGMveGNfZG9tX2FybS5jCj4gaW5kZXggNWI5
ZWNhNjA4Ny4uN2UwZmI5MTY5ZiAxMDA2NDQKPiAtLS0gYS90b29scy9saWJ4Yy94Y19kb21fYXJt
LmMKPiArKysgYi90b29scy9saWJ4Yy94Y19kb21fYXJtLmMKPiBAQCAtNDcsMjMgKzQ3LDYgQEAg
Y29uc3QgY2hhciAqeGNfZG9tYWluX2dldF9uYXRpdmVfcHJvdG9jb2woeGNfaW50ZXJmYWNlICp4
Y2gsCj4gICB9Cj4gICAKPiAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwo+IC0vKgo+IC0gKiBhcm0g
Z3Vlc3RzIGFyZSBoeWJyaWQgYW5kIHN0YXJ0IG9mZiB3aXRoIHBhZ2luZyBkaXNhYmxlZCwgdGhl
cmVmb3JlIG5vCj4gLSAqIHBhZ2V0YWJsZXMgYW5kIG5vdGhpbmcgdG8gZG8gaGVyZS4KPiAtICov
Cj4gLXN0YXRpYyBpbnQgYWxsb2NfcGd0YWJsZXNfYXJtKHN0cnVjdCB4Y19kb21faW1hZ2UgKmRv
bSkKPiAtewo+IC0gICAgRE9NUFJJTlRGX0NBTExFRChkb20tPnhjaCk7Cj4gLSAgICByZXR1cm4g
MDsKPiAtfQo+IC0KPiAtc3RhdGljIGludCBzZXR1cF9wZ3RhYmxlc19hcm0oc3RydWN0IHhjX2Rv
bV9pbWFnZSAqZG9tKQo+IC17Cj4gLSAgICBET01QUklOVEZfQ0FMTEVEKGRvbS0+eGNoKTsKPiAt
ICAgIHJldHVybiAwOwo+IC19Cj4gLQo+IC0vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KPiAgIAo+ICAg
c3RhdGljIGludCBhbGxvY19tYWdpY19wYWdlcyhzdHJ1Y3QgeGNfZG9tX2ltYWdlICpkb20pCj4g
ICB7Cj4gQEAgLTUzOSw4ICs1MjIsNiBAQCBzdGF0aWMgc3RydWN0IHhjX2RvbV9hcmNoIHhjX2Rv
bV8zMiA9IHsKPiAgICAgICAucGFnZV9zaGlmdCA9IFBBR0VfU0hJRlRfQVJNLAo+ICAgICAgIC5z
aXplb2ZfcGZuID0gOCwKPiAgICAgICAuYWxsb2NfbWFnaWNfcGFnZXMgPSBhbGxvY19tYWdpY19w
YWdlcywKPiAtICAgIC5hbGxvY19wZ3RhYmxlcyA9IGFsbG9jX3BndGFibGVzX2FybSwKPiAtICAg
IC5zZXR1cF9wZ3RhYmxlcyA9IHNldHVwX3BndGFibGVzX2FybSwKPiAgICAgICAuc3RhcnRfaW5m
byA9IHN0YXJ0X2luZm9fYXJtLAo+ICAgICAgIC5zaGFyZWRfaW5mbyA9IHNoYXJlZF9pbmZvX2Fy
bSwKPiAgICAgICAudmNwdSA9IHZjcHVfYXJtMzIsCj4gQEAgLTU1NSw4ICs1MzYsNiBAQCBzdGF0
aWMgc3RydWN0IHhjX2RvbV9hcmNoIHhjX2RvbV82NCA9IHsKPiAgICAgICAucGFnZV9zaGlmdCA9
IFBBR0VfU0hJRlRfQVJNLAo+ICAgICAgIC5zaXplb2ZfcGZuID0gOCwKPiAgICAgICAuYWxsb2Nf
bWFnaWNfcGFnZXMgPSBhbGxvY19tYWdpY19wYWdlcywKPiAtICAgIC5hbGxvY19wZ3RhYmxlcyA9
IGFsbG9jX3BndGFibGVzX2FybSwKPiAtICAgIC5zZXR1cF9wZ3RhYmxlcyA9IHNldHVwX3BndGFi
bGVzX2FybSwKPiAgICAgICAuc3RhcnRfaW5mbyA9IHN0YXJ0X2luZm9fYXJtLAo+ICAgICAgIC5z
aGFyZWRfaW5mbyA9IHNoYXJlZF9pbmZvX2FybSwKPiAgICAgICAudmNwdSA9IHZjcHVfYXJtNjQs
Cj4gZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhjL3hjX2RvbV9ib290LmMgYi90b29scy9saWJ4Yy94
Y19kb21fYm9vdC5jCj4gaW5kZXggOTE4ZWU0ZDA0NS4uNzlkYmJmNjU3MSAxMDA2NDQKPiAtLS0g
YS90b29scy9saWJ4Yy94Y19kb21fYm9vdC5jCj4gKysrIGIvdG9vbHMvbGlieGMveGNfZG9tX2Jv
b3QuYwo+IEBAIC0xOTksOSArMTk5LDkgQEAgaW50IHhjX2RvbV9ib290X2ltYWdlKHN0cnVjdCB4
Y19kb21faW1hZ2UgKmRvbSkKPiAgICAgICAvKiBpbml0aWFsIG1tIHNldHVwICovCj4gICAgICAg
aWYgKCAocmMgPSB4Y19kb21fdXBkYXRlX2d1ZXN0X3AybShkb20pKSAhPSAwICkKPiAgICAgICAg
ICAgcmV0dXJuIHJjOwo+IC0gICAgaWYgKCBkb20tPmFyY2hfaG9va3MtPnNldHVwX3BndGFibGVz
ICkKPiAtICAgICAgICBpZiAoIChyYyA9IGRvbS0+YXJjaF9ob29rcy0+c2V0dXBfcGd0YWJsZXMo
ZG9tKSkgIT0gMCApCj4gLSAgICAgICAgICAgIHJldHVybiByYzsKPiArICAgIGlmICggZG9tLT5h
cmNoX2hvb2tzLT5zZXR1cF9wZ3RhYmxlcyAmJgo+ICsgICAgICAgICAocmMgPSBkb20tPmFyY2hf
aG9va3MtPnNldHVwX3BndGFibGVzKGRvbSkpICE9IDAgKQo+ICsgICAgICAgIHJldHVybiByYzsK
PiAgIAo+ICAgICAgIC8qIHN0YXJ0IGluZm8gcGFnZSAqLwo+ICAgICAgIGlmICggZG9tLT5hcmNo
X2hvb2tzLT5zdGFydF9pbmZvICkKPiBkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGMveGNfZG9tX2Nv
cmUuYyBiL3Rvb2xzL2xpYnhjL3hjX2RvbV9jb3JlLmMKPiBpbmRleCA5YmQwNGNiMmQ1Li5mYzc3
ODA0YTdlIDEwMDY0NAo+IC0tLSBhL3Rvb2xzL2xpYnhjL3hjX2RvbV9jb3JlLmMKPiArKysgYi90
b29scy9saWJ4Yy94Y19kb21fY29yZS5jCj4gQEAgLTEyNDcsNyArMTI0Nyw4IEBAIGludCB4Y19k
b21fYnVpbGRfaW1hZ2Uoc3RydWN0IHhjX2RvbV9pbWFnZSAqZG9tKQo+ICAgICAgICAgICBnb3Rv
IGVycjsKPiAgICAgICBpZiAoIGRvbS0+YXJjaF9ob29rcy0+YWxsb2NfbWFnaWNfcGFnZXMoZG9t
KSAhPSAwICkKPiAgICAgICAgICAgZ290byBlcnI7Cj4gLSAgICBpZiAoIGRvbS0+YXJjaF9ob29r
cy0+YWxsb2NfcGd0YWJsZXMoZG9tKSAhPSAwICkKPiArICAgIGlmICggZG9tLT5hcmNoX2hvb2tz
LT5hbGxvY19wZ3RhYmxlcyAmJgo+ICsgICAgICAgICBkb20tPmFyY2hfaG9va3MtPmFsbG9jX3Bn
dGFibGVzKGRvbSkgIT0gMCApCj4gICAgICAgICAgIGdvdG8gZXJyOwo+ICAgICAgIGlmICggZG9t
LT5hbGxvY19ib290c3RhY2sgKQo+ICAgICAgIHsKPiBkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGMv
eGNfZG9tX3g4Ni5jIGIvdG9vbHMvbGlieGMveGNfZG9tX3g4Ni5jCj4gaW5kZXggMWNlM2M3OThl
Zi4uZDJhY2ZmMTA2MSAxMDA2NDQKPiAtLS0gYS90b29scy9saWJ4Yy94Y19kb21feDg2LmMKPiAr
KysgYi90b29scy9saWJ4Yy94Y19kb21feDg2LmMKPiBAQCAtMTY5MCwxMiArMTY5MCw2IEBAIHN0
YXRpYyBpbnQgYm9vdGxhdGVfcHYoc3RydWN0IHhjX2RvbV9pbWFnZSAqZG9tKQo+ICAgICAgIHJl
dHVybiAwOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyBpbnQgYWxsb2NfcGd0YWJsZXNfaHZtKHN0cnVj
dCB4Y19kb21faW1hZ2UgKmRvbSkKPiAtewo+IC0gICAgRE9NUFJJTlRGKCIlczogZG9pbmcgbm90
aGluZyIsIF9fZnVuY19fKTsKPiAtICAgIHJldHVybiAwOwo+IC19Cj4gLQo+ICAgLyoKPiAgICAq
IFRoZSBtZW1vcnkgbGF5b3V0IG9mIHRoZSBzdGFydF9pbmZvIHBhZ2UgYW5kIHRoZSBtb2R1bGVz
LCBhbmQgd2hlcmUgdGhlCj4gICAgKiBhZGRyZXNzZXMgYXJlIHN0b3JlZDoKPiBAQCAtMTkwNiw3
ICsxOTAwLDYgQEAgc3RhdGljIHN0cnVjdCB4Y19kb21fYXJjaCB4Y19odm1fMzIgPSB7Cj4gICAg
ICAgLnBhZ2Vfc2hpZnQgPSBQQUdFX1NISUZUX1g4NiwKPiAgICAgICAuc2l6ZW9mX3BmbiA9IDQs
Cj4gICAgICAgLmFsbG9jX21hZ2ljX3BhZ2VzID0gYWxsb2NfbWFnaWNfcGFnZXNfaHZtLAo+IC0g
ICAgLmFsbG9jX3BndGFibGVzID0gYWxsb2NfcGd0YWJsZXNfaHZtLAo+ICAgICAgIC52Y3B1ID0g
dmNwdV9odm0sCj4gICAgICAgLm1lbWluaXQgPSBtZW1pbml0X2h2bSwKPiAgICAgICAuYm9vdGVh
cmx5ID0gYm9vdGVhcmx5LAo+IAoKLS0gCkp1bGllbiBHcmFsbAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4t
ZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

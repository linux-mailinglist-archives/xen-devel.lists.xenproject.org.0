Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id A402414422
	for <lists+xen-devel@lfdr.de>; Mon,  6 May 2019 06:44:30 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hNVQg-0006Oj-8Y; Mon, 06 May 2019 04:40:42 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=cT7I=TG=intel.com=chao.gao@srs-us1.protection.inumbo.net>)
 id 1hNVQe-0006Oe-4A
 for xen-devel@lists.xenproject.org; Mon, 06 May 2019 04:40:40 +0000
X-Inumbo-ID: 1504a12c-6fb9-11e9-b74c-ab0c94cacf65
Received: from mga14.intel.com (unknown [192.55.52.115])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 1504a12c-6fb9-11e9-b74c-ab0c94cacf65;
 Mon, 06 May 2019 04:40:33 +0000 (UTC)
X-Amp-Result: UNKNOWN
X-Amp-Original-Verdict: FILE UNKNOWN
X-Amp-File-Uploaded: False
Received: from fmsmga003.fm.intel.com ([10.253.24.29])
 by fmsmga103.fm.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384;
 05 May 2019 21:40:27 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.60,435,1549958400"; d="scan'208";a="155338154"
Received: from gao-cwp.sh.intel.com (HELO gao-cwp) ([10.239.159.26])
 by FMSMGA003.fm.intel.com with ESMTP; 05 May 2019 21:40:26 -0700
Date: Mon, 6 May 2019 12:44:41 +0800
From: Chao Gao <chao.gao@intel.com>
To: Roger Pau =?iso-8859-1?Q?Monn=E9?= <roger.pau@citrix.com>
Message-ID: <20190506044439.GA22540@gao-cwp>
References: <1556601559-30921-1-git-send-email-chao.gao@intel.com>
 <5CC7FFAF020000780022A42A@prv1-mh.provo.novell.com>
 <20190430090120.GA6748@gao-cwp>
 <20190430093033.ncd2ism7n4mvy733@Air-de-Roger>
 <20190430164113.GB20660@gao-cwp>
 <20190502082009.gromld47umko65ld@Air-de-Roger>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190502082009.gromld47umko65ld@Air-de-Roger>
User-Agent: Mutt/1.5.21 (2010-09-15)
Subject: Re: [Xen-devel] [PATCH] x86/pt: skip setup of posted format IRTE
 when gvec is 0
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel <xen-devel@lists.xenproject.org>, Jan Beulich <JBeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCBNYXkgMDIsIDIwMTkgYXQgMTA6MjA6MDlBTSArMDIwMCwgUm9nZXIgUGF1IE1vbm7D
qSB3cm90ZToKPk9uIFdlZCwgTWF5IDAxLCAyMDE5IGF0IDEyOjQxOjEzQU0gKzA4MDAsIENoYW8g
R2FvIHdyb3RlOgo+PiBPbiBUdWUsIEFwciAzMCwgMjAxOSBhdCAxMTozMDozM0FNICswMjAwLCBS
b2dlciBQYXUgTW9ubsOpIHdyb3RlOgo+PiA+T24gVHVlLCBBcHIgMzAsIDIwMTkgYXQgMDU6MDE6
MjFQTSArMDgwMCwgQ2hhbyBHYW8gd3JvdGU6Cj4+ID4+IE9uIFR1ZSwgQXByIDMwLCAyMDE5IGF0
IDAxOjU2OjMxQU0gLTA2MDAsIEphbiBCZXVsaWNoIHdyb3RlOgo+PiA+PiA+Pj4+IE9uIDMwLjA0
LjE5IGF0IDA3OjE5LCA8Y2hhby5nYW9AaW50ZWwuY29tPiB3cm90ZToKPj4gPj4gPj4gV2hlbiB0
ZXN0aW5nIHdpdGggYW4gVVAgZ3Vlc3Qgd2l0aCBhIHBhc3MtdGhydSBkZXZpY2Ugd2l0aCB2dC1k
IHBpCj4+ID4+ID4+IGVuYWJsZWQgaW4gaG9zdCwgd2Ugb2JzZXJ2ZWQgdGhhdCBndWVzdCBjb3Vs
ZG4ndCByZWNlaXZlIGludGVycnVwdHMKPj4gPj4gPj4gZnJvbSB0aGF0IHBhc3MtdGhydSBkZXZp
Y2UuIER1bXBpbmcgSVJURSwgd2UgZm91bmQgdGhlIGNvcnJlc3BvbmRpbmcKPj4gPj4gPj4gSVJU
RSBpcyBzZXQgdG8gcG9zdGVkIGZvcm1hdCB3aXRoICJ2ZWN0b3IiIGZpZWxkIGFzIDAuCj4+ID4+
ID4+IAo+PiA+PiA+PiBXZSB3b3VsZCBmYWxsIGludG8gdGhpcyBpc3N1ZSB3aGVuIGd1ZXN0IHVz
ZWQgdGhlIHBpcnEgZm9ybWF0IG9mIE1TSQo+PiA+PiA+PiAoc2VlIHRoZSBjb21tZW50IHhlbl9t
c2lfY29tcG9zZV9tc2coKSBpbiBsaW51eCBrZXJuZWwpLiBBcyAnZGVzdF9pZCcKPj4gPj4gPj4g
aXMgcmVwdXJwb3NlZCwgc2tpcCBtaWdyYXRpb24gd2hpY2ggaXMgYmFzZWQgb24gJ2Rlc3RfaWQn
Lgo+PiA+PiA+Cj4+ID4+ID5JJ3ZlIGdvbmUgdGhyb3VnaCBhbGwgdXNlcyBvZiBndmVjLCBhbmQg
SSBjb3VsZG4ndCBmaW5kIGFueSBleGlzdGluZwo+PiA+PiA+c3BlY2lhbCBjYXNpbmcgb2YgaXQg
YmVpbmcgemVyby4gSSBhc3N1bWUgdGhpcyBpcyBhY3R1YWxseSBjb21tdW5pY2F0aW9uCj4+ID4+
ID5iZXR3ZWVuIHRoZSBrZXJuZWwgYW5kIHFlbXUsCj4+ID4+IAo+PiA+PiBZZXMuIAo+PiA+PiAK
Pj4gPj4gPmluIHdoaWNoIGNhc2UgSSdkIGxpa2UgdG8gc2VlIGFuCj4+ID4+ID5leHBsYW5hdGlv
biBvZiB3aHkgdGhlIGlzc3VlIG5lZWRzIHRvIGJlIGFkZHJlc3NlZCBpbiBYZW4gcmF0aGVyCj4+
ID4+ID50aGFuIHFlbXUuCj4+ID4+IAo+PiA+PiBUbyBjYWxsIHBpcnFfZ3Vlc3RfYmluZCgpIHRv
IGNvbmZpZ3VyZSBpcnFfZGVzYyBwcm9wZXJseS4KPj4gPj4gRXNwZWNpYWxseSwgd2UgYXBwZW5k
IGEgcG9pbnRlciBvZiBzdHJ1Y3QgZG9tYWluIHRvICdhY3Rpb24tPmd1ZXN0JyBpbgo+PiA+PiBw
aXJxX2d1ZXN0X2JpbmQoKS4gVGhlbiBfX2RvX0lSUV9ndWVzdCgpIGtub3dzIGRvbWFpbnMgdGhh
dCBhcmUgaW50ZXJlc3RlZAo+PiA+PiBpbiB0aGlzIGludGVycnVwdCBhbmQgaW5qZWN0cyBhbiBp
bnRlcnJ1cHQgdG8gdGhvc2UgZG9tYWlucy4KPj4gPj4gCj4+ID4+ID5PdGhlcndpc2UsIGlmIEkn
dmUgb3Zlcmxvb2tlZCBzb21ldGhpbmcsIHdvdWxkIHlvdQo+PiA+PiA+bWluZCBwb2ludGluZyBv
dXQgd2hlcmUgc3VjaCBzcGVjaWFsIGNhc2luZyBsaXZlcyBpbiBYZW4/Cj4+ID4+ID4KPj4gPj4g
PkluIGFueSBldmVudCBpdCBkb2Vzbid0IGxvb2sgY29ycmVjdCB0byBza2lwIG1pZ3JhdGlvbiBh
bHRvZ2V0aGVyIGluCj4+ID4+ID50aGF0IGNhc2UuIEknZCByYXRoZXIgZXhwZWN0IGl0IHRvIHJl
cXVpcmUgZ2V0dGluZyBkb25lIGRpZmZlcmVudGx5Lgo+PiA+PiA+QWZ0ZXIgYWxsIHRoZXJlIHN0
aWxsIGlzIGEgKENQVSwgdmVjdG9yKSB0dXBsZSBhc3NvY2lhdGVkIHdpdGggdGhhdAo+PiA+PiA+
eyxwfUlSUSBpZiBpdCdzIG5vdCBwb3N0ZWQsIGFuZCBodm1fbWlncmF0ZV9waXJxKCkgaXMgYSBu
by1vcCBpZiBpdCBpcwo+PiA+PiA+cG9zdGVkLgo+PiA+PiAKPj4gPj4gSGVyZSwgd2UgdHJ5IHRv
IHNldCBpcnEncyB0YXJnZXQgY3B1IHRvIHRoZSBjcHUgd2hpY2ggdGhlIHZtc2kncyB0YXJnZXQg
dmNwdQo+PiA+PiBpcyBydW5uaW5nIG9uIHRvIHJlZHVjZSBJUEkuIEJ1dCB0aGUgJ2Rlc3RfaWQn
IGZpZWxkIHdoaWNoIHVzZWQgdG8KPj4gPj4gaW5kaWNhdGUgdGhlIHZtc2kncyB0YXJnZXQgdmNw
dSBpcyBtaXNzaW5nLCB3ZSBkb24ndCBrbm93IHdoaWNoIGNwdSB3ZSBzaG91bGQKPj4gPj4gbWln
cmF0ZSB0aGUgaXJxIHRvLiBPbmUgcG9zc2libGUgY2hvaWNlIGlzIHRoZSAnY2huLT5ub3RpZnlf
dmNwdV9pZCcKPj4gPj4gdXNlZCBpbiBzZW5kX2d1ZXN0X3BpcnEoKS4gRG8geW91IHRoaW5rIHRo
aXMgY2hvaWNlIGlzIGZpbmU/Cj4+ID4KPj4gPkkgdGhpbmsgdGhhdCBieSB0aGUgdGltZSB0aGUg
ZGV2aWNlIG1vZGVsIGNhbGxzIGludG8gcGlycV9ndWVzdF9iaW5kCj4+ID50aGUgUElSUSB3b24n
dCBiZSBib3VuZCB0byBhbnkgZXZlbnQgY2hhbm5lbCwgc28gcGlycS0+ZXZ0Y2huIHdvdWxkIGJl
Cj4+ID4wLgo+PiAKPj4gVGhlbiBza2lwIHBpcnEgbWlncmF0aW9uIGlzIHRoZSBvbmx5IGNob2lj
ZSBoZXJlPyBBbmQgd2UgY2FuIG1pZ3JhdGUKPj4gcGlycSB3aGVuIGl0IGlzIGJvdW5kIHdpdGgg
YW4gZXZlbnQgY2hhbm5lbC4KPj4gCj4+ID4KPj4gPk5vdGUgdGhhdCB0aGUgYmluZGluZyBvZiB0
aGUgUElSUSB3aXRoIHRoZSBldmVudCBjaGFubmVsIGlzIGRvbmUKPj4gPmFmdGVyd2FyZHMgaW4g
eGVuX2h2bV9zZXR1cF9tc2lfaXJxcyBieSB0aGUgTGludXgga2VybmVsLgo+PiA+Cj4+ID5JdCBz
ZWVtcyBsaWtlIHRoZSBkZXZpY2UgbW9kZWwgc2hvdWxkIGJlIHVzaW5nIGEgZGlmZmVyZW50IHNl
dCBvZgo+PiA+aHlwZXJjYWxscyB0byBzZXR1cCBhIFBJUlEgdGhhdCBpcyByb3V0ZWQgb3ZlciBh
biBldmVudCBjaGFubmVsLCBpZToKPj4gPlBIWVNERVZPUF9tYXBfcGlycSBhbmQgZnJpZW5kcy4K
Pj4gCj4+IE5vdyBxZW11IGlzIHVzaW5nIFBIWVNERVZPUF9tYXBfcGlycS4gUmlnaHQ/Cj4KPk9o
IHllcywgUUVNVSBhbHJlYWR5IHVzZXMgUEhZU0RFVk9QX21hcF9waXJxIHRvIHNldHVwIHRoZSBp
bnRlcnJ1cHQuCj5UaGVuIEknbSBub3Qgc3VyZSBJIHNlZSB3aHkgUUVNVSBjYWxscyBYRU5fRE9N
Q1RMX2JpbmRfcHRfaXJxIGZvcgo+aW50ZXJydXB0cyB0aGF0IGFyZSByb3V0ZWQgb3ZlciBldmVu
dCBjaGFubmVscy4gVGhhdCBoeXBlcmNhbGwgaXMgdXNlZAoKQXMgSSBzYWlkIGFib3ZlLCBpdCBp
cyB0byBjYWxsIHBpcnFfZ3Vlc3RfYmluZCgpIHRvIGhvb2sgdXAgdG8gaXJxIGhhbmRsZXIuCgpY
RU5fRE9NQ1RMX2JpbmRfcHRfcGlycSBkb2VzIHR3byB0aGluZ3M6CiMxLiBiaW5kIHBpcnEgd2l0
aCBhIGd1ZXN0IGludGVycnVwdAojMi4gcmVnaXN0ZXIgKGRvbWFpbixwaXJxKSB0byB0aGUgaW50
ZXJydXB0IGhhbmRsZXIKCmN1cnJlbnRseSwgZm9yIHBpcnEgcm91dGVkIHRvIGV2dGNobiwgIzEg
aXMgZG9uZSBieSBhbm90aGVyIGh5cGVyY2FsbCwKZXZ0Y2huX2JpbmRfcGlycS4gYW5kICMyIGlz
IGRvbmUgaW4gWEVOX0RPTUNUTF9iaW5kX3B0X2lycS4KCj50byBiaW5kIGEgcGlycSB0byBhIG5h
dGl2ZSBndWVzdCBpbnRlcnJ1cHQgaW5qZWN0aW9uIG1lY2hhbmlzbSwgd2hpY2gKPnNob3VsZG4n
dCBiZSB1c2VkIGlmIHRoZSBpbnRlcnJ1cHQgaXMgZ29pbmcgdG8gYmUgZGVsaXZlcmVkIG92ZXIg
YW4KPmV2ZW50IGNoYW5uZWwuCj4KPkNhbiB5b3Ugc2VlIGFib3V0IGF2b2lkaW5nIHRoZSBYRU5f
RE9NQ1RMX2JpbmRfcHRfaXJxIGNhbGwgaW4gUUVNVSBpZgo+dGhlIGludGVycnVwdCBpcyBnb2lu
ZyB0byBiZSByb3V0ZWQgb3ZlciBhbiBldmVudCBjaGFubmVsPwoKWWVzLiBJdCBpcyBkb2FibGUu
IEJ1dCBpdCBuZWVkcyBjaGFuZ2VzIGluIGJvdGggcWVtdSBhbmQgWGVuIGFuZCBzb21lIHRyaWNr
cwp0byBiZSBjb21wYXRpYmxlIHdpdGggb2xkIHFlbXUuCgpJIHByZWZlciBub3QgdG8gdG91Y2gg
cWVtdSBhbmQga2VlcCBxZW11IHVud2FyZSBvZiBNU0kncyAicm91dGluZyBvdmVyIGV2dGNobiIs
Cmxpa2UgdGhlIHBhdGNoIGJlbG93OgoKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vZXZlbnRfY2hh
bm5lbC5jIGIveGVuL2NvbW1vbi9ldmVudF9jaGFubmVsLmMKaW5kZXggZTg2ZTJiZi4uMGJjZGRi
OSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9ldmVudF9jaGFubmVsLmMKKysrIGIveGVuL2NvbW1v
bi9ldmVudF9jaGFubmVsLmMKQEAgLTUwNCwxMCArNTA0LDcgQEAgc3RhdGljIGxvbmcgZXZ0Y2hu
X2JpbmRfcGlycShldnRjaG5fYmluZF9waXJxX3QgKmJpbmQpCiAgICAgaWYgKCAhaW5mbyApCiAg
ICAgICAgIEVSUk9SX0VYSVQoLUVOT01FTSk7CiAgICAgaW5mby0+ZXZ0Y2huID0gcG9ydDsKLSAg
ICByYyA9ICghaXNfaHZtX2RvbWFpbihkKQotICAgICAgICAgID8gcGlycV9ndWVzdF9iaW5kKHYs
IGluZm8sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgISEoYmluZC0+ZmxhZ3MgJiBCSU5E
X1BJUlFfX1dJTExfU0hBUkUpKQotICAgICAgICAgIDogMCk7CisgICAgcmMgPSBwaXJxX2d1ZXN0
X2JpbmQodiwgaW5mbywgISEoYmluZC0+ZmxhZ3MgJiBCSU5EX1BJUlFfX1dJTExfU0hBUkUpKTsK
ICAgICBpZiAoIHJjICE9IDAgKQogICAgIHsKICAgICAgICAgaW5mby0+ZXZ0Y2huID0gMDsKZGlm
ZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvLmMgYi94ZW4vZHJpdmVycy9wYXNz
dGhyb3VnaC9pby5jCmluZGV4IDQyOTBjN2MuLjVhMGI4M2UgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2
ZXJzL3Bhc3N0aHJvdWdoL2lvLmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW8uYwpA
QCAtMzQ2LDYgKzM0NiwxMiBAQCBpbnQgcHRfaXJxX2NyZWF0ZV9iaW5kKAogICAgICAgICB1aW50
MzJfdCBnZmxhZ3MgPSBwdF9pcnFfYmluZC0+dS5tc2kuZ2ZsYWdzICYKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgflhFTl9ET01DVExfVk1TSV9YODZfVU5NQVNLRUQ7CiAKKyAgICAgICAgaWYg
KCAhcHRfaXJxX2JpbmQtPnUubXNpLmd2ZWMgKQorICAgICAgICB7CisgICAgICAgICAgICBzcGlu
X3VubG9jaygmZC0+ZXZlbnRfbG9jayk7CisgICAgICAgICAgICByZXR1cm4gMDsKKyAgICAgICAg
fQorCiAgICAgICAgIGlmICggIShwaXJxX2RwY2ktPmZsYWdzICYgSFZNX0lSUV9EUENJX01BUFBF
RCkgKQogICAgICAgICB7CiAgICAgICAgICAgICBwaXJxX2RwY2ktPmZsYWdzID0gSFZNX0lSUV9E
UENJX01BUFBFRCB8IEhWTV9JUlFfRFBDSV9NQUNIX01TSSB8CgoKVGhhbmtzCkNoYW8KCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

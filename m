Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7167FB8826
	for <lists+xen-devel@lfdr.de>; Fri, 20 Sep 2019 01:39:38 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iB5zC-00061O-TB; Thu, 19 Sep 2019 23:37:18 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=u4d+=XO=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iB5zB-00061J-Ej
 for xen-devel@lists.xenproject.org; Thu, 19 Sep 2019 23:37:17 +0000
X-Inumbo-ID: 69e32a04-db36-11e9-9678-12813bfff9fa
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 69e32a04-db36-11e9-9678-12813bfff9fa;
 Thu, 19 Sep 2019 23:37:16 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id B88F9218AF;
 Thu, 19 Sep 2019 23:37:15 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1568936236;
 bh=Ku7BDWOpzCovu6D7/yNReQpUA3OIWQ/Pc7414tdKHFU=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=wybAWYH3akCGUAkEr0kHxNl5ClxbCEvKrsj/n7rkOqT3U62J5VX7QjuLSa0zGpoYV
 cdPDtUE2AnbxoaTL6+RTWuy7TWJp1Lo72bZMDgnNI4jFJ2Nw8PNUHc5uUGL9jtYHeF
 9wbUs3eqNQy1SuqB+JuIbyHNw4FZxGa7IosXOSxk=
Date: Thu, 19 Sep 2019 16:37:15 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20190917160202.16770-1-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1909191613060.19418@sstabellini-ThinkPad-T480s>
References: <20190917160202.16770-1-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [[PATCH for-4.13]] xen/arm: mm: Allow generic xen
 page-tables helpers to be called early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVHVlLCAxNyBTZXAgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IFRoZSBjdXJyZW50IGlt
cGxlbWVudGF0aW9ucyBvZiB4ZW5fe21hcCwgdW5tYXB9X3RhYmxlKCkgZXhwZWN0Cj4ge21hcCwg
dW5tYXB9X2RvbWFpbl9wYWdlKCkgdG8gYmUgdXNhYmxlLiBUaG9zZSBoZWxwZXJzIGFyZSB1c2Vk
IHRvCj4gbWFwL3VubWFwIHBhZ2UgdGFibGVzIHdoaWxlIHVwZGF0ZSBYZW4gcGFnZS10YWJsZXMu
Cj4gCj4gU2luY2UgY29tbWl0IDAyMjM4N2VlMWEgInhlbi9hcm06IG1tOiBEb24ndCBvcGVuLWNv
ZGUgWGVuIFBUIHVwZGF0ZSBpbgo+IHtzZXQsIGNsZWFyfV9maXhtYXAoKSIsIHNldHVwX2ZpeG1h
cCgpIHdpbGwgbWFrZSB1c2Ugb2YgdGhlIGhlbHBlcnMKPiBtZW50aW9uZWQgYWJvdmUuIFdoZW4g
Ym9vdGluZyBYZW4gdXNpbmcgR1JVQiwgc2V0dXBfZml4bWFwKCkgbWF5IGJlIHVzZWQKPiBiZWZv
cmUgbWFwX2RvbWFpbl9wYWdlKCkgY2FuIGJlIGNhbGxlZC4gVGhpcyB3aWxsIHJlc3VsdCB0byBk
YXRhIGFib3J0Ogo+IAo+IChYRU4pIERhdGEgQWJvcnQgVHJhcC4gU3luZHJvbWU9MHg1Cj4gKFhF
TikgQ1BVMDogVW5leHBlY3RlZCBUcmFwOiBEYXRhIEFib3J0Cj4gCj4gWy4uLl0KPiAKPiAoWEVO
KSBYZW4gY2FsbCB0cmFjZToKPiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyNWFiNmM+XSBtbS5jI3hl
bl9wdF91cGRhdGUrMHgyYjQvMHg1OWMgKFBDKQo+IChYRU4pICAgIFs8MDAwMDAwMDAwMDI1YWIy
MD5dIG1tLmMjeGVuX3B0X3VwZGF0ZSsweDI2OC8weDU5YyAoTFIpCj4gKFhFTikgICAgWzwwMDAw
MDAwMDAwMjVhZTcwPl0gc2V0X2ZpeG1hcCsweDFjLzB4MmMKPiAoWEVOKSAgICBbPDAwMDAwMDAw
MDAyYTljOTg+XSBjb3B5X2Zyb21fcGFkZHIrMHg3Yy8weGRjCj4gKFhFTikgICAgWzwwMDAwMDAw
MDAwMmE0YWUwPl0gaGFzX3hzbV9tYWdpYysweDE4LzB4MzQKPiAoWEVOKSAgICBbPDAwMDAwMDAw
MDAyYTViNWM+XSBib290ZmR0LmMjZWFybHlfc2Nhbl9ub2RlKzB4Mzk4LzB4NTYwCj4gKFhFTikg
ICAgWzwwMDAwMDAwMDAwMmE1ZGUwPl0gZGV2aWNlX3RyZWVfZm9yX2VhY2hfbm9kZSsweGJjLzB4
MTQ0Cj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmE1ZWQ0Pl0gYm9vdF9mZHRfaW5mbysweDZjLzB4
MjYwCj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmFjMGQwPl0gc3RhcnRfeGVuKzB4MTA4LzB4Yzc0
Cj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMjAwNDRjPl0gYXJtNjQvaGVhZC5vI3BhZ2luZysweDYw
LzB4ODgKPiAKPiBEdXJpbmcgZWFybHkgYm9vdCwgdGhlIHBhZ2UgdGFibGVzIGFyZSBlaXRoZXIg
c3RhdGljYWxseSBhbGxvY2F0ZWQgaW4KPiBYZW4gYmluYXJ5IG9yIGFsbG9jYXRlZCB2aWEgYWxs
b2NfYm9vdF9wYWdlcygpLgo+IAo+IEZvciBzdGF0aWNhbGx5IGFsbG9jYXRlZCBwYWdlLXRhYmxl
cywgdGhleSB3aWxsIGFscmVhZHkgYmUgbWFwcGVkIGFzCj4gcGFydCBvZiBYZW4gYmluYXJ5LiBT
byB3ZSBjYW4gZWFzaWx5IGZpbmQgdGhlIHZpcnR1YWwgYWRkcmVzcy4KPiAKPiBGb3IgZHluYW1p
Y2FsbHkgYWxsb2NhdGVkIHBhZ2UtdGFibGVzLCB3ZSBuZWVkIHRvIHJlbHkKPiBtYXBfZG9tYWlu
X3BhZ2UoKSB0byBiZSBmdW5jdGlvbmFsbHkgd29ya2luZy4KPiAKPiBGb3IgYXJtMzIsIHRoZSBj
YWxsIHdpbGwgYmUgdXNhYmxlIG11Y2ggYmVmb3JlIHBhZ2UgY2FuIGJlIGR5bmFtaWNhbGx5Cj4g
YWxsb2NhdGVkIChzZWUgc2V0dXBfcGFnZXRhYmxlcygpKS4gRm9yIGFybTY0LCB0aGUgY2FsbCB3
aWxsIGJlIHVzYWJsZQo+IGFmdGVyIHNldHVwX3hlbmhlYXBfbWFwcGluZ3MoKS4KPiAKPiBJbiBi
b3RoIGNhc2VzLCBtZW1vcnkgYXJlIGdpdmVuIHRvIHRoZSBib290IGFsbG9jYXRvciBhZnRlcndh
cmRzLiBTbyB3ZQo+IGNhbiByZWx5IG9uIG1hcF9kb21haW5fcGFnZSgpIGZvciBtYXBwaW5nIHBh
Z2UgdGFibGVzIGFsbG9jYXRlZAo+IGR5bmFtaWNhbGx5Lgo+IAo+IFRoZSBoZWxwZXJzIHhlbl97
bWFwLCB1bm1hcH1fdGFibGUoKSBhcmUgbm93IHVwZGF0ZWQgdG8gdGFrZSBpbnRvCj4gYWNjb3Vu
dCB0aGUgY2FzZSB3aGVyZSBwYWdlLXRhYmxlcyBhcmUgcGFydCBvZiBYZW4gYmluYXJ5Lgo+IAo+
IEZpeGVzOiAwMjIzODdlZTFhICgneGVuL2FybTogbW06IERvbid0IG9wZW4tY29kZSBYZW4gUFQg
dXBkYXRlIGluIHtzZXQsIGNsZWFyfV9maXhtYXAoKScpCj4gU2lnbmVkLW9mZi1ieTogSnVsaWVu
IEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KPiAtLS0KPiAgeGVuL2FyY2gvYXJtL21tLmMg
fCAyMCArKysrKysrKysrKysrKysrKysrKwo+ICAxIGZpbGUgY2hhbmdlZCwgMjAgaW5zZXJ0aW9u
cygrKQo+IAo+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vbW0uYyBiL3hlbi9hcmNoL2FybS9t
bS5jCj4gaW5kZXggZTFjZGVhYWYyZi4uZGE2MzAzYThmZCAxMDA2NDQKPiAtLS0gYS94ZW4vYXJj
aC9hcm0vbW0uYwo+ICsrKyBiL3hlbi9hcmNoL2FybS9tbS5jCj4gQEAgLTk1MCwxMSArOTUwLDMx
IEBAIHN0YXRpYyBpbnQgY3JlYXRlX3hlbl90YWJsZShscGFlX3QgKmVudHJ5KQo+ICAKPiAgc3Rh
dGljIGxwYWVfdCAqeGVuX21hcF90YWJsZShtZm5fdCBtZm4pCj4gIHsKPiArICAgIC8qCj4gKyAg
ICAgKiBXZSBtYXkgcmVxdWlyZSB0byBtYXAgdGhlIHBhZ2UgdGFibGUgYmVmb3JlIG1hcF9kb21h
aW5fcGFnZSgpIGlzCj4gKyAgICAgKiB1c2VhYmxlLiBUaGUgcmVxdWlyZW1lbnRzIGhlcmUgaXMg
aXQgbXVzdCBiZSB1c2VhYmxlIGFzIHNvb24gYXMKPiArICAgICAqIHBhZ2UtdGFibGVzIGFyZSBh
bGxvY2F0ZWQgZHluYW1pY2FsbHkgdmlhIGFsbG9jX2Jvb3RfcGFnZXMoKS4KPiArICAgICAqLwo+
ICsgICAgaWYgKCBzeXN0ZW1fc3RhdGUgPT0gU1lTX1NUQVRFX2Vhcmx5X2Jvb3QgKQo+ICsgICAg
ewo+ICsgICAgICAgIHZhZGRyX3QgdmEgPSBtZm5fdG9fbWFkZHIobWZuKSAtIHBoeXNfb2Zmc2V0
Owo+ICsKPiArICAgICAgICBpZiAoIGlzX2tlcm5lbCh2YSkgKQo+ICsgICAgICAgICAgICByZXR1
cm4gKGxwYWVfdCAqKXZhOwoKSXMgaXQgaW50ZW5kZWQgdG8gY29udGludWUgaWYgaXQgaXMgbm90
IGEgeGVuIHRleHQgcGFnZT8gU2hvdWxkbid0IHdlCkJVRygpIG9yIFdBUk4/CgoKPiArICAgIH0K
PiArCj4gICAgICByZXR1cm4gbWFwX2RvbWFpbl9wYWdlKG1mbik7Cj4gIH0KPiAgCj4gIHN0YXRp
YyB2b2lkIHhlbl91bm1hcF90YWJsZShjb25zdCBscGFlX3QgKnRhYmxlKQo+ICB7Cj4gKyAgICAv
Kgo+ICsgICAgICogRHVyaW5nIGVhcmx5IGJvb3QsIHhlbl9tYXBfdGFibGUoKSB3aWxsIG5vdCB1
c2UgbWFwX2RvbWFpbl9wYWdlKCkKPiArICAgICAqIGZvciBwYWdlLXRhYmxlcyByZXNpZGluZyBp
biBYZW4gYmluYXJ5LiBTbyBza2lwIHRoZSB1bm1hcCBwYXJ0Lgo+ICsgICAgICovCj4gKyAgICBp
ZiAoIHN5c3RlbV9zdGF0ZSA9PSBTWVNfU1RBVEVfZWFybHlfYm9vdCAmJiBpc19rZXJuZWwodGFi
bGUpICkKPiArICAgICAgICByZXR1cm47Cj4gKwo+ICAgICAgdW5tYXBfZG9tYWluX3BhZ2UodGFi
bGUpOwo+ICB9CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpo
dHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 50B424C47B
	for <lists+xen-devel@lfdr.de>; Thu, 20 Jun 2019 02:34:12 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hdkz5-0000A9-Or; Thu, 20 Jun 2019 00:31:23 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7lb=UT=gmail.com=christopher.w.clark@srs-us1.protection.inumbo.net>)
 id 1hdkz4-00009X-1s
 for xen-devel@lists.xenproject.org; Thu, 20 Jun 2019 00:31:22 +0000
X-Inumbo-ID: b9b198cf-92f2-11e9-8980-bc764e045a96
Received: from mail-io1-xd44.google.com (unknown [2607:f8b0:4864:20::d44])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id b9b198cf-92f2-11e9-8980-bc764e045a96;
 Thu, 20 Jun 2019 00:31:20 +0000 (UTC)
Received: by mail-io1-xd44.google.com with SMTP id i10so127155iol.13
 for <xen-devel@lists.xenproject.org>; Wed, 19 Jun 2019 17:31:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=Vx7lhmTYaFpyhfeLiRC8+jqYuuCwLj5xxTvw1bCxbdw=;
 b=CDPzr4zF+hZv8Ais64ygWktsbiW0ERN+GrSU3nHkpvwQL9uAS6/BbzLZiREZT+QWIH
 HLWwmtf2VIqVU0v3AfOphwLQp4rtGisw2boVBEmhoT5TPxtQ/3gymGg3rphp+II1Kb6T
 ReX4bjGlv8poE2Qs9M+i3AL95L6fdQd3Zf77vdPhqHe1LugfN6RM1ylYBQ1O4k5bsBYv
 ucJPAQgBWZkMXXjQWcsnaSpSFdeXmHjvoX7RiIroCp7xPv82CXQgEyklxJqDESte4Gpq
 jzxzJSh3euzUDPTDJK6kA9KY5PHHxlzu/M3NkvTFRadlKBOQjdtCM/UsWSK1lbJ5xDLx
 n4/g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=Vx7lhmTYaFpyhfeLiRC8+jqYuuCwLj5xxTvw1bCxbdw=;
 b=CwecK+zw4ruoKTBPp6DcSOcbGUrXUfYtxF8pix/ZQZMLq40o1IZ1mryrE5E4v2dKNZ
 XtyR0uT+gDhusLrWHgjle6kCDMgwmmipKgKxPYSPWCxziyD5GT0gUuXFuovWbJ2V2QfB
 b0+UTeTLD75g7JtSC9tw7VOSbKojQ7L/lZJv0at5gwfXUX3NBfW0xGfHQAZoRi4aKzVs
 fvIRbwHKvPKpfgBDN1S2huM4Ud7FS7dJqXrL8zhFJ/Fk3csHznwa1Xazrck6hJahpixW
 IWgfobulf2rEw+NYeuE6T2QxvHHLhdwprABhwMlsCC1W3+doS9Cv6sdKVtkDCGtRXa4w
 YaCQ==
X-Gm-Message-State: APjAAAWMYOtwvtbNqe0/xCakqLPZFB9dd/rMdzR+yebyQhiTKJRI/ulr
 UTI0xhw61yQxB2bsHZh7lCeFQpnYvko=
X-Google-Smtp-Source: APXvYqw7oPcEQYXkmeDWyCvgkXsudPrwKOQ6iLQBbB7Aq0zQqWFFBy+FXDdGkavivTm0SZ2jaOUwnw==
X-Received: by 2002:a5d:9b1a:: with SMTP id y26mr12033494ion.238.1560990679906; 
 Wed, 19 Jun 2019 17:31:19 -0700 (PDT)
Received: from desktop.ice.pyrology.org
 (static-50-53-74-115.bvtn.or.frontiernet.net. [50.53.74.115])
 by smtp.gmail.com with ESMTPSA id e188sm22579016ioa.3.2019.06.19.17.31.17
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 19 Jun 2019 17:31:19 -0700 (PDT)
From: Christopher Clark <christopher.w.clark@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 19 Jun 2019 17:30:47 -0700
Message-Id: <20190620003053.21993-4-christopher.w.clark@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190620003053.21993-1-christopher.w.clark@gmail.com>
References: <20190620003053.21993-1-christopher.w.clark@gmail.com>
Subject: [Xen-devel] [RFC 3/9] x86/nested: add nested_xen_version hypercall
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Rich Persaud <persaur@gmail.com>,
 Tim Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

UHJvdmlkZXMgcHJveHlpbmcgdG8gdGhlIGhvc3QgaHlwZXJ2aXNvciBmb3IgWEVOVkVSX3ZlcnNp
b24gYW5kClhFTlZFUl9nZXRfZmVhdHVyZXMgb3BzLgoKVGhlIG5lc3RlZCBQViBpbnRlcmZhY2Ug
aXMgb25seSBlbmFibGVkIHdoZW4gWGVuIGlzIG5vdCBydW5uaW5nIGFzCmVpdGhlciB0aGUgUFYg
c2hpbSBvciBib290ZWQgYXMgUFZILCBzaW5jZSB0aGUgaW5pdGlhbGl6YXRpb24gcGVyZm9ybWVk
CndpdGhpbiB0aGUgaHlwZXJ2aXNvciBpbiB0aG9zZSBjYXNlcyAtIGllLiBhcyBhIFhlbiBndWVz
dCAtIGNsYWltcyByZXNvdXJjZXMKdGhhdCBhcmUgbm9ybWFsbHkgb3BlcmF0ZWQgYnkgdGhlIGNv
bnRyb2wgZG9tYWluLgoKVGhpcyBuZXN0ZWQgaHlwZXJjYWxsIG9ubHkgcGVybWl0cyBhY2Nlc3Mg
ZnJvbSB0aGUgY29udHJvbCBkb21haW4uClRoZSBYU00gcG9saWN5IGhvb2sgaW1wbGVtZW50YXRp
b24gaXMgZGVmZXJyZWQgdG8gYSBzdWJzZXF1ZW50IGNvbW1pdC4KClNpZ25lZC1vZmYtYnk6IENo
cmlzdG9waGVyIENsYXJrIDxjaHJpc3RvcGhlci5jbGFya0BzdGFybGFiLmlvPgotLS0KIHhlbi9h
cmNoL3g4Ni9LY29uZmlnICAgICAgICAgICAgICAgICAgfCAyMiArKysrKysrCiB4ZW4vYXJjaC94
ODYvZ3Vlc3QvTWFrZWZpbGUgICAgICAgICAgIHwgIDUgKy0KIHhlbi9hcmNoL3g4Ni9ndWVzdC9o
eXBlcmNhbGxfcGFnZS5TICAgfCAgMSArCiB4ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLW5lc3RlZC5j
ICAgICAgIHwgODIgKysrKysrKysrKysrKysrKysrKysrKysrKysrCiB4ZW4vYXJjaC94ODYvZ3Vl
c3QveGVuLmMgICAgICAgICAgICAgIHwgIDUgKy0KIHhlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYyAg
ICAgICAgICAgICAgfCAgMyArCiB4ZW4vYXJjaC94ODYvcHYvaHlwZXJjYWxsLmMgICAgICAgICAg
IHwgIDMgKwogeGVuL2luY2x1ZGUvYXNtLXg4Ni9ndWVzdC9oeXBlcmNhbGwuaCB8ICA3ICsrLQog
eGVuL2luY2x1ZGUvYXNtLXg4Ni9ndWVzdC94ZW4uaCAgICAgICB8IDEwICsrKysKIHhlbi9pbmNs
dWRlL3B1YmxpYy94ZW4uaCAgICAgICAgICAgICAgfCAgMSArCiB4ZW4vaW5jbHVkZS94ZW4vaHlw
ZXJjYWxsLmggICAgICAgICAgIHwgIDYgKysKIDExIGZpbGVzIGNoYW5nZWQsIDE0MiBpbnNlcnRp
b25zKCspLCAzIGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IHhlbi9hcmNoL3g4Ni9n
dWVzdC94ZW4tbmVzdGVkLmMKCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvS2NvbmZpZyBiL3hl
bi9hcmNoL3g4Ni9LY29uZmlnCmluZGV4IDMxZTVmZmQyZjIuLmUzMWU4ZDM0MzQgMTAwNjQ0Ci0t
LSBhL3hlbi9hcmNoL3g4Ni9LY29uZmlnCisrKyBiL3hlbi9hcmNoL3g4Ni9LY29uZmlnCkBAIC0y
MDcsNiArMjA3LDI4IEBAIGNvbmZpZyBQVl9TSElNX0VYQ0xVU0lWRQogCSAgb3B0aW9uIGlzIG9u
bHkgaW50ZW5kZWQgZm9yIHVzZSB3aGVuIGJ1aWxkaW5nIGEgZGVkaWNhdGVkIFBWIFNoaW0KIAkg
IGZpcm13YXJlLCBhbmQgd2lsbCBub3QgZnVuY3Rpb24gY29ycmVjdGx5IGluIG90aGVyIHNjZW5h
cmlvcy4KIAorCSAgSWYgdW5zdXJlLCBzYXkgTi4KKworY29uZmlnIFhFTl9ORVNURUQKKwlib29s
ICJYZW4gUFYgZHJpdmVyIGludGVyZmFjZSBmb3IgbmVzdGVkIFhlbiIgaWYgRVhQRVJUID0gInki
CisJZGVwZW5kcyBvbiBYRU5fREVURUNUCisJLS0taGVscC0tLQorCSAgRW5hYmxlcyBhIHNlY29u
ZCBQViBkcml2ZXIgaW50ZXJmYWNlIGluIHRoZSBoeXBlcnZpc29yIHRvIHN1cHBvcnQgcnVubmlu
ZworCSAgdHdvIHNldHMgb2YgUFYgZHJpdmVycyB3aXRoaW4gYSBzaW5nbGUgcHJpdmlsZWdlZCBn
dWVzdCAoZWcuIGd1ZXN0IGRvbTApCisJICBvZiBhIHN5c3RlbSBydW5uaW5nIFhlbiB1bmRlciBY
ZW46CisKKwkgIDEpIGhvc3Qgc2V0OiBmcm9udGVuZHMgdG8gYWNjZXNzIGRldmljZXMgcHJvdmlk
ZWQgYnkgbG93ZXIgaHlwZXJ2aXNvcgorCSAgMikgZ3Vlc3Qgc2V0OiBiYWNrZW5kcyB0byBzdXBw
b3J0IGV4aXN0aW5nIFBWIGRyaXZlcnMgaW4gbmVzdGVkIGd1ZXN0IFZNcworCisJICBUaGlzIGlu
dGVyZmFjZSBzdXBwb3J0cyB0aGUgaG9zdCBzZXQgb2YgZHJpdmVycyBhbmQgcGVyZm9ybXMgcHJv
eHlpbmcgb2YgYQorCSAgbGltaXRlZCBzZXQgb2YgaHlwZXJjYWxsIG9wZXJhdGlvbnMgZnJvbSB0
aGUgZ3Vlc3QgdG8gdGhlIGhvc3QgaHlwZXJ2aXNvci4KKworCSAgVGhpcyBmZWF0dXJlIGlzIGZv
ciB0aGUgZ3Vlc3QgaHlwZXJ2aXNvciBhbmQgaXMgdHJhbnNwYXJlbnQgdG8gdGhlCisJICBob3N0
IGh5cGVydmlzb3IuIEd1ZXN0IFZNcyBvZiB0aGUgZ3Vlc3QgaHlwZXJ2aXNvciB1c2UgdGhlIHN0
YW5kYXJkCisJICBQViBkcml2ZXIgaW50ZXJmYWNlcyBhbmQgdW5tb2RpZmllZCBkcml2ZXJzLgor
CisJICBGZWF0dXJlIGlzIGFsc28ga25vd24gYXMgIlRoZSBYZW4tQmxhbmtldCIsIHByZXNlbnRl
ZCBhdCBFdXJvc3lzIDIwMTIuCisKIAkgIElmIHVuc3VyZSwgc2F5IE4uCiBlbmRtZW51CiAKZGlm
ZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9ndWVzdC9NYWtlZmlsZSBiL3hlbi9hcmNoL3g4Ni9ndWVz
dC9NYWtlZmlsZQppbmRleCBkM2E3ODQ0ZTYxLi42ZDhiMDE4NmQ0IDEwMDY0NAotLS0gYS94ZW4v
YXJjaC94ODYvZ3Vlc3QvTWFrZWZpbGUKKysrIGIveGVuL2FyY2gveDg2L2d1ZXN0L01ha2VmaWxl
CkBAIC0xLDUgKzEsOCBAQAotb2JqLSQoQ09ORklHX1hFTl9HVUVTVCkgKz0gaHlwZXJjYWxsX3Bh
Z2UubworaWZuZXEgKCQoZmlsdGVyIHksJChDT05GSUdfWEVOX0dVRVNUKSAkKENPTkZJR19YRU5f
TkVTVEVEKSAkKENPTkZJR19QVkhfR1VFU1QpKSwpCitvYmoteSArPSBoeXBlcmNhbGxfcGFnZS5v
CitlbmRpZgogb2JqLXkgKz0geGVuLm8KIG9iai0kKENPTkZJR19YRU5fR1VFU1QpICs9IHhlbi1n
dWVzdC5vCitvYmotJChDT05GSUdfWEVOX05FU1RFRCkgKz0geGVuLW5lc3RlZC5vCiAKIG9iai1i
aW4tJChDT05GSUdfUFZIX0dVRVNUKSArPSBwdmgtYm9vdC5pbml0Lm8KZGlmZiAtLWdpdCBhL3hl
bi9hcmNoL3g4Ni9ndWVzdC9oeXBlcmNhbGxfcGFnZS5TIGIveGVuL2FyY2gveDg2L2d1ZXN0L2h5
cGVyY2FsbF9wYWdlLlMKaW5kZXggNjQ4NWU5MTUwZS4uMmIxZTM1ODAzYSAxMDA2NDQKLS0tIGEv
eGVuL2FyY2gveDg2L2d1ZXN0L2h5cGVyY2FsbF9wYWdlLlMKKysrIGIveGVuL2FyY2gveDg2L2d1
ZXN0L2h5cGVyY2FsbF9wYWdlLlMKQEAgLTYwLDYgKzYwLDcgQEAgREVDTEFSRV9IWVBFUkNBTEwo
ZG9tY3RsKQogREVDTEFSRV9IWVBFUkNBTEwoa2V4ZWNfb3ApCiBERUNMQVJFX0hZUEVSQ0FMTChh
cmdvX29wKQogREVDTEFSRV9IWVBFUkNBTEwoeGVucG11X29wKQorREVDTEFSRV9IWVBFUkNBTEwo
bmVzdGVkX3hlbl92ZXJzaW9uKQogCiBERUNMQVJFX0hZUEVSQ0FMTChhcmNoXzApCiBERUNMQVJF
X0hZUEVSQ0FMTChhcmNoXzEpCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLW5l
c3RlZC5jIGIveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYwpuZXcgZmlsZSBtb2RlIDEw
MDY0NAppbmRleCAwMDAwMDAwMDAwLi43NDQ1OTJhYTBjCi0tLSAvZGV2L251bGwKKysrIGIveGVu
L2FyY2gveDg2L2d1ZXN0L3hlbi1uZXN0ZWQuYwpAQCAtMCwwICsxLDgyIEBACisvKgorICogYXJj
aC94ODYvZ3Vlc3QveGVuLW5lc3RlZC5jCisgKgorICogSHlwZXJjYWxsIGltcGxlbWVudGF0aW9u
cyBmb3IgbmVzdGVkIFBWIGRyaXZlcnMgaW50ZXJmYWNlLgorICoKKyAqIENvcHlyaWdodCAoYykg
MjAxOSBTdGFyIExhYiBDb3JwCisgKgorICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGlu
IHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCisgKiBidXQgV0lUSE9VVCBBTlkgV0FS
UkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgorICogTUVSQ0hBTlRB
QklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQorICog
R05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KKyAqCisgKiBZb3Ug
c2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGlj
ZW5zZQorICogYWxvbmcgd2l0aCB0aGlzIHByb2dyYW07IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZy
ZWUgU29mdHdhcmUKKyAqIEZvdW5kYXRpb24sIEluYy4sIDU5IFRlbXBsZSBQbGFjZSwgU3VpdGUg
MzMwLCBCb3N0b24sIE1BICAwMjExMS0xMzA3ICBVU0EKKyAqLworCisjaW5jbHVkZSA8eGVuL2Nv
bmZpZy5oPgorI2luY2x1ZGUgPHhlbi9lcnJuby5oPgorI2luY2x1ZGUgPHhlbi9ndWVzdF9hY2Nl
c3MuaD4KKyNpbmNsdWRlIDx4ZW4vaHlwZXJjYWxsLmg+CisjaW5jbHVkZSA8eGVuL2xpYi5oPgor
I2luY2x1ZGUgPHhlbi9zY2hlZC5oPgorCisjaW5jbHVkZSA8cHVibGljL3ZlcnNpb24uaD4KKwor
I2luY2x1ZGUgPGFzbS9ndWVzdC9oeXBlcmNhbGwuaD4KKyNpbmNsdWRlIDxhc20vZ3Vlc3QveGVu
Lmg+CisKK2V4dGVybiBjaGFyIGh5cGVyY2FsbF9wYWdlW107CisKKy8qIHhlbl9uZXN0ZWQ6IHN1
cHBvcnQgZm9yIG5lc3RlZCBQViBpbnRlcmZhY2UgZW5hYmxlZCAqLworc3RhdGljIGJvb2wgX19y
ZWFkX21vc3RseSB4ZW5fbmVzdGVkOworCit2b2lkIHhlbl9uZXN0ZWRfZW5hYmxlKHZvaWQpCit7
CisgICAgLyogRmlsbCB0aGUgaHlwZXJjYWxsIHBhZ2UuICovCisgICAgd3Jtc3JsKGNwdWlkX2Vi
eChoeXBlcnZpc29yX2NwdWlkX2Jhc2UoKSArIDIpLCBfX3BhKGh5cGVyY2FsbF9wYWdlKSk7CisK
KyAgICB4ZW5fbmVzdGVkID0gdHJ1ZTsKK30KKworbG9uZyBkb19uZXN0ZWRfeGVuX3ZlcnNpb24o
aW50IGNtZCwgWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh2b2lkKSBhcmcpCit7CisgICAgbG9uZyBy
ZXQ7CisKKyAgICBpZiAoICF4ZW5fbmVzdGVkICkKKyAgICAgICAgcmV0dXJuIC1FTk9TWVM7CisK
KyAgICAvKiBGSVhNRTogYXBwbHkgWFNNIGNoZWNrIGhlcmUgKi8KKyAgICBpZiAoICFpc19jb250
cm9sX2RvbWFpbihjdXJyZW50LT5kb21haW4pICkKKyAgICAgICAgcmV0dXJuIC1FUEVSTTsKKwor
ICAgIGdwcmludGsoWEVOTE9HX0RFQlVHLCAiTmVzdGVkIHhlbl92ZXJzaW9uOiAlZC5cbiIsIGNt
ZCk7CisKKyAgICBzd2l0Y2ggKCBjbWQgKQorICAgIHsKKyAgICBjYXNlIFhFTlZFUl92ZXJzaW9u
OgorICAgICAgICByZXR1cm4geGVuX2h5cGVyY2FsbF94ZW5fdmVyc2lvbihYRU5WRVJfdmVyc2lv
biwgMCk7CisKKyAgICBjYXNlIFhFTlZFUl9nZXRfZmVhdHVyZXM6CisgICAgeworICAgICAgICB4
ZW5fZmVhdHVyZV9pbmZvX3QgZmk7CisKKyAgICAgICAgaWYgKCBjb3B5X2Zyb21fZ3Vlc3QoJmZp
LCBhcmcsIDEpICkKKyAgICAgICAgICAgIHJldHVybiAtRUZBVUxUOworCisgICAgICAgIHJldCA9
IHhlbl9oeXBlcmNhbGxfeGVuX3ZlcnNpb24oWEVOVkVSX2dldF9mZWF0dXJlcywgJmZpKTsKKyAg
ICAgICAgaWYgKCByZXQgKQorICAgICAgICAgICAgcmV0dXJuIHJldDsKKworICAgICAgICBpZiAo
IF9fY29weV90b19ndWVzdChhcmcsICZmaSwgMSkgKQorICAgICAgICAgICAgcmV0dXJuIC1FRkFV
TFQ7CisKKyAgICAgICAgcmV0dXJuIDA7CisgICAgfQorCisgICAgZGVmYXVsdDoKKyAgICAgICAg
Z3ByaW50ayhYRU5MT0dfRVJSLCAiTmVzdGVkIHhlbl92ZXJzaW9uIG9wICVkIG5vdCBpbXBsZW1l
bnRlZC5cbiIsIGNtZCk7CisgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsKKyAgICB9Cit9CmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLmMgYi94ZW4vYXJjaC94ODYvZ3Vlc3Qv
eGVuLmMKaW5kZXggYjBiNjAzYTExYS4uNzhhNWY0MGIyMiAxMDA2NDQKLS0tIGEveGVuL2FyY2gv
eDg2L2d1ZXN0L3hlbi5jCisrKyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC94ZW4uYwpAQCAtNzQsNyAr
NzQsMTAgQEAgdm9pZCBfX2luaXQgcHJvYmVfaHlwZXJ2aXNvcih2b2lkKQogCiAgICAgeGVuX2Rl
dGVjdGVkID0gdHJ1ZTsKIAotICAgIHhlbl9ndWVzdF9lbmFibGUoKTsKKyAgICBpZiAoIHB2X3No
aW0gfHwgcHZoX2Jvb3QgKQorICAgICAgICB4ZW5fZ3Vlc3RfZW5hYmxlKCk7CisgICAgZWxzZQor
ICAgICAgICB4ZW5fbmVzdGVkX2VuYWJsZSgpOwogfQogCiB2b2lkIF9faW5pdCBoeXBlcnZpc29y
X3ByaW50X2luZm8odm9pZCkKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYyBi
L3hlbi9hcmNoL3g4Ni9oeXBlcmNhbGwuYwppbmRleCBkNDgzZGJhYTZiLi5iMjJmMGNhNjVhIDEw
MDY0NAotLS0gYS94ZW4vYXJjaC94ODYvaHlwZXJjYWxsLmMKKysrIGIveGVuL2FyY2gveDg2L2h5
cGVyY2FsbC5jCkBAIC03Miw2ICs3Miw5IEBAIGNvbnN0IGh5cGVyY2FsbF9hcmdzX3QgaHlwZXJj
YWxsX2FyZ3NfdGFibGVbTlJfaHlwZXJjYWxsc10gPQogI2lmZGVmIENPTkZJR19IVk0KICAgICBB
UkdTKGh2bV9vcCwgMiksCiAgICAgQVJHUyhkbV9vcCwgMyksCisjZW5kaWYKKyNpZmRlZiBDT05G
SUdfWEVOX05FU1RFRAorICAgIEFSR1MobmVzdGVkX3hlbl92ZXJzaW9uLCAyKSwKICNlbmRpZgog
ICAgIEFSR1MobWNhLCAxKSwKICAgICBBUkdTKGFyY2hfMSwgMSksCmRpZmYgLS1naXQgYS94ZW4v
YXJjaC94ODYvcHYvaHlwZXJjYWxsLmMgYi94ZW4vYXJjaC94ODYvcHYvaHlwZXJjYWxsLmMKaW5k
ZXggMGM4NGMwYjNhMC4uMWUwMGQwNzI3MyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3B2L2h5
cGVyY2FsbC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9wdi9oeXBlcmNhbGwuYwpAQCAtODMsNiArODMs
OSBAQCBjb25zdCBoeXBlcmNhbGxfdGFibGVfdCBwdl9oeXBlcmNhbGxfdGFibGVbXSA9IHsKICNp
ZmRlZiBDT05GSUdfSFZNCiAgICAgSFlQRVJDQUxMKGh2bV9vcCksCiAgICAgQ09NUEFUX0NBTEwo
ZG1fb3ApLAorI2VuZGlmCisjaWZkZWYgQ09ORklHX1hFTl9ORVNURUQKKyAgICBIWVBFUkNBTEwo
bmVzdGVkX3hlbl92ZXJzaW9uKSwKICNlbmRpZgogICAgIEhZUEVSQ0FMTChtY2EpLAogICAgIEhZ
UEVSQ0FMTChhcmNoXzEpLApkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9ndWVzdC9o
eXBlcmNhbGwuaCBiL3hlbi9pbmNsdWRlL2FzbS14ODYvZ3Vlc3QvaHlwZXJjYWxsLmgKaW5kZXgg
ZDU0ODgxNmIzMC4uODZlMTFkZDFkMSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9n
dWVzdC9oeXBlcmNhbGwuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2d1ZXN0L2h5cGVyY2Fs
bC5oCkBAIC0xOSw3ICsxOSw3IEBACiAjaWZuZGVmIF9fWDg2X1hFTl9IWVBFUkNBTExfSF9fCiAj
ZGVmaW5lIF9fWDg2X1hFTl9IWVBFUkNBTExfSF9fCiAKLSNpZmRlZiBDT05GSUdfWEVOX0dVRVNU
CisjaWYgZGVmaW5lZChDT05GSUdfWEVOX0dVRVNUKSB8fCBkZWZpbmVkIChDT05GSUdfWEVOX05F
U1RFRCkKIAogI2luY2x1ZGUgPHhlbi90eXBlcy5oPgogCkBAIC0xMjMsNiArMTIzLDExIEBAIHN0
YXRpYyBpbmxpbmUgbG9uZyB4ZW5faHlwZXJjYWxsX2h2bV9vcCh1bnNpZ25lZCBpbnQgb3AsIHZv
aWQgKmFyZykKICAgICByZXR1cm4gX2h5cGVyY2FsbDY0XzIobG9uZywgX19IWVBFUlZJU09SX2h2
bV9vcCwgb3AsIGFyZyk7CiB9CiAKK3N0YXRpYyBpbmxpbmUgbG9uZyB4ZW5faHlwZXJjYWxsX3hl
bl92ZXJzaW9uKHVuc2lnbmVkIGludCBvcCwgdm9pZCAqYXJnKQoreworICAgIHJldHVybiBfaHlw
ZXJjYWxsNjRfMihsb25nLCBfX0hZUEVSVklTT1JfeGVuX3ZlcnNpb24sIG9wLCBhcmcpOworfQor
CiAvKgogICogSGlnaGVyIGxldmVsIGh5cGVyY2FsbCBoZWxwZXJzCiAgKi8KZGlmZiAtLWdpdCBh
L3hlbi9pbmNsdWRlL2FzbS14ODYvZ3Vlc3QveGVuLmggYi94ZW4vaW5jbHVkZS9hc20teDg2L2d1
ZXN0L3hlbi5oCmluZGV4IDI3Yzg1NGFiOGEuLjgwMmFlZTVlZGIgMTAwNjQ0Ci0tLSBhL3hlbi9p
bmNsdWRlL2FzbS14ODYvZ3Vlc3QveGVuLmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9ndWVz
dC94ZW4uaApAQCAtNDMsNiArNDMsMTYgQEAgc3RhdGljIGlubGluZSB2b2lkIGh5cGVydmlzb3Jf
cHJpbnRfaW5mbyh2b2lkKSB7CiAKICNlbmRpZiAvKiBDT05GSUdfWEVOX0RFVEVDVCAqLwogCisj
aWZkZWYgQ09ORklHX1hFTl9ORVNURUQKKwordm9pZCB4ZW5fbmVzdGVkX2VuYWJsZSh2b2lkKTsK
KworI2Vsc2UKKworc3RhdGljIGlubGluZSB2b2lkIHhlbl9uZXN0ZWRfZW5hYmxlKHZvaWQpIHt9
CisKKyNlbmRpZiAvKiBDT05GSUdfWEVOX05FU1RFRCAqLworCiAjaWZkZWYgQ09ORklHX1hFTl9H
VUVTVAogI2RlZmluZSBYRU5fc2hhcmVkX2luZm8gKChzdHJ1Y3Qgc2hhcmVkX2luZm8gKilmaXhf
dG9fdmlydChGSVhfWEVOX1NIQVJFRF9JTkZPKSkKIApkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUv
cHVibGljL3hlbi5oIGIveGVuL2luY2x1ZGUvcHVibGljL3hlbi5oCmluZGV4IGNiMjkxN2U3NGIu
LjJmNWFjNWVlZGMgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3B1YmxpYy94ZW4uaAorKysgYi94
ZW4vaW5jbHVkZS9wdWJsaWMveGVuLmgKQEAgLTEyMSw2ICsxMjEsNyBAQCBERUZJTkVfWEVOX0dV
RVNUX0hBTkRMRSh4ZW5fdWxvbmdfdCk7CiAjZGVmaW5lIF9fSFlQRVJWSVNPUl9hcmdvX29wICAg
ICAgICAgICAgICAzOQogI2RlZmluZSBfX0hZUEVSVklTT1JfeGVucG11X29wICAgICAgICAgICAg
NDAKICNkZWZpbmUgX19IWVBFUlZJU09SX2RtX29wICAgICAgICAgICAgICAgIDQxCisjZGVmaW5l
IF9fSFlQRVJWSVNPUl9uZXN0ZWRfeGVuX3ZlcnNpb24gICA0MgogCiAvKiBBcmNoaXRlY3R1cmUt
c3BlY2lmaWMgaHlwZXJjYWxsIGRlZmluaXRpb25zLiAqLwogI2RlZmluZSBfX0hZUEVSVklTT1Jf
YXJjaF8wICAgICAgICAgICAgICAgNDgKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9oeXBl
cmNhbGwuaCBiL3hlbi9pbmNsdWRlL3hlbi9oeXBlcmNhbGwuaAppbmRleCBmYzAwYTY3NDQ4Li4x
NTE5NDAwMmQ2IDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vaHlwZXJjYWxsLmgKKysrIGIv
eGVuL2luY2x1ZGUveGVuL2h5cGVyY2FsbC5oCkBAIC0xNTAsNiArMTUwLDEyIEBAIGRvX2RtX29w
KAogICAgIHVuc2lnbmVkIGludCBucl9idWZzLAogICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0o
eGVuX2RtX29wX2J1Zl90KSBidWZzKTsKIAorI2lmZGVmIENPTkZJR19YRU5fTkVTVEVECitleHRl
cm4gbG9uZyBkb19uZXN0ZWRfeGVuX3ZlcnNpb24oCisgICAgaW50IGNtZCwKKyAgICBYRU5fR1VF
U1RfSEFORExFX1BBUkFNKHZvaWQpIGFyZyk7CisjZW5kaWYKKwogI2lmZGVmIENPTkZJR19DT01Q
QVQKIAogZXh0ZXJuIGludAotLSAKMi4xNy4xCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlz
dHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3hlbi1kZXZlbA==

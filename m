Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 913D616FF52
	for <lists+xen-devel@lfdr.de>; Wed, 26 Feb 2020 13:50:13 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j6w6B-0002R1-Tt; Wed, 26 Feb 2020 12:47:35 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=IXf/=4O=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1j6w6A-0002Px-Hq
 for xen-devel@lists.xenproject.org; Wed, 26 Feb 2020 12:47:34 +0000
X-Inumbo-ID: 1b48c272-5896-11ea-8cb6-bc764e2007e4
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 1b48c272-5896-11ea-8cb6-bc764e2007e4;
 Wed, 26 Feb 2020 12:47:11 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 89A93B138;
 Wed, 26 Feb 2020 12:47:10 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 26 Feb 2020 13:47:05 +0100
Message-Id: <20200226124705.29212-13-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20200226124705.29212-1-jgross@suse.com>
References: <20200226124705.29212-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v6 12/12] xen: remove XEN_SYSCTL_set_parameter
 support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 George Dunlap <george.dunlap@citrix.com>, Jan Beulich <jbeulich@suse.com>,
 Daniel De Graaf <dgdegra@tycho.nsa.gov>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGZ1bmN0aW9uYWxpdHkgb2YgWEVOX1NZU0NUTF9zZXRfcGFyYW1ldGVyIGlzIGF2YWlsYWJs
ZSB2aWEgaHlwZnMKbm93LCBzbyBpdCBjYW4gYmUgcmVtb3ZlZC4KClRoaXMgYWxsb3dzIHRvIHJl
bW92ZSB0aGUga2VybmVsX3BhcmFtIHN0cnVjdHVyZSBmb3IgcnVudGltZSBwYXJhbWV0ZXJzCmJ5
IHB1dHRpbmcgdGhlIG5vdyBvbmx5IHVzZWQgc3RydWN0dXJlIGVsZW1lbnQgaW50byB0aGUgaHlw
ZnMgbm9kZQpzdHJ1Y3R1cmUgb2YgdGhlIHJ1bnRpbWUgcGFyYW1ldGVycy4KClNpZ25lZC1vZmYt
Ynk6IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KLS0tClY2OgotIG5ldyBwYXRjaAot
LS0KIHRvb2xzL2ZsYXNrL3BvbGljeS9tb2R1bGVzL2RvbTAudGUgIHwgIDIgKy0KIHhlbi9hcmNo
L2FybS94ZW4ubGRzLlMgICAgICAgICAgICAgIHwgIDUgLS0tLQogeGVuL2FyY2gveDg2L3hlbi5s
ZHMuUyAgICAgICAgICAgICAgfCAgNSAtLS0tCiB4ZW4vY29tbW9uL2h5cGZzLmMgICAgICAgICAg
ICAgICAgICB8IDEyICstLS0tLS0tLQogeGVuL2NvbW1vbi9rZXJuZWwuYyAgICAgICAgICAgICAg
ICAgfCAxMSAtLS0tLS0tLQogeGVuL2NvbW1vbi9zeXNjdGwuYyAgICAgICAgICAgICAgICAgfCAz
NiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogeGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5o
ICAgICAgICAgfCAxOCAtLS0tLS0tLS0tLS0tCiB4ZW4vaW5jbHVkZS94ZW4vaHlwZnMuaCAgICAg
ICAgICAgICB8ICAyIC0tCiB4ZW4vaW5jbHVkZS94ZW4vbGliLmggICAgICAgICAgICAgICB8ICAx
IC0KIHhlbi9pbmNsdWRlL3hlbi9wYXJhbS5oICAgICAgICAgICAgIHwgNTAgKysrKysrKy0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogeGVuL3hzbS9mbGFzay9ob29rcy5jICAgICAgICAg
ICAgICAgfCAgMyAtLS0KIHhlbi94c20vZmxhc2svcG9saWN5L2FjY2Vzc192ZWN0b3JzIHwgIDIg
LS0KIDEyIGZpbGVzIGNoYW5nZWQsIDExIGluc2VydGlvbnMoKyksIDEzNiBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9kb20wLnRlIGIvdG9vbHMv
Zmxhc2svcG9saWN5L21vZHVsZXMvZG9tMC50ZQppbmRleCAyMDkyNWUzOGEyLi4wYTYzY2UxNWI2
IDEwMDY0NAotLS0gYS90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9kb20wLnRlCisrKyBiL3Rv
b2xzL2ZsYXNrL3BvbGljeS9tb2R1bGVzL2RvbTAudGUKQEAgLTE2LDcgKzE2LDcgQEAgYWxsb3cg
ZG9tMF90IHhlbl90OnhlbiB7CiBhbGxvdyBkb20wX3QgeGVuX3Q6eGVuMiB7CiAJcmVzb3VyY2Vf
b3AgcHNyX2NtdF9vcCBwc3JfYWxsb2MgcG11X2N0cmwgZ2V0X3N5bWJvbAogCWdldF9jcHVfbGV2
ZWxsaW5nX2NhcHMgZ2V0X2NwdV9mZWF0dXJlc2V0IGxpdmVwYXRjaF9vcAotCWNvdmVyYWdlX29w
IHNldF9wYXJhbWV0ZXIKKwljb3ZlcmFnZV9vcAogfTsKIAogIyBBbGxvdyBkb20wIHRvIHVzZSBh
bGwgWEVOVkVSXyBzdWJvcHMgdGhhdCBoYXZlIGNoZWNrcy4KZGlmZiAtLWdpdCBhL3hlbi9hcmNo
L2FybS94ZW4ubGRzLlMgYi94ZW4vYXJjaC9hcm0veGVuLmxkcy5TCmluZGV4IDAwNjFhOGRmZWEu
LjhiZDk3MWJkNTcgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS94ZW4ubGRzLlMKKysrIGIveGVu
L2FyY2gvYXJtL3hlbi5sZHMuUwpAQCAtNTQsMTEgKzU0LDYgQEAgU0VDVElPTlMKICAgICAgICAq
KC5kYXRhLnJlbC5ybykKICAgICAgICAqKC5kYXRhLnJlbC5yby4qKQogCi0gICAgICAgLiA9IEFM
SUdOKFBPSU5URVJfQUxJR04pOwotICAgICAgIF9fcGFyYW1fc3RhcnQgPSAuOwotICAgICAgICoo
LmRhdGEucGFyYW0pCi0gICAgICAgX19wYXJhbV9lbmQgPSAuOwotCiAgICAgICAgX19wcm9jX2lu
Zm9fc3RhcnQgPSAuOwogICAgICAgICooLnByb2MuaW5mbykKICAgICAgICBfX3Byb2NfaW5mb19l
bmQgPSAuOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L3hlbi5sZHMuUyBiL3hlbi9hcmNoL3g4
Ni94ZW4ubGRzLlMKaW5kZXggMjFhMzdmMGY1Ny4uODhmMTRlNWU1OSAxMDA2NDQKLS0tIGEveGVu
L2FyY2gveDg2L3hlbi5sZHMuUworKysgYi94ZW4vYXJjaC94ODYveGVuLmxkcy5TCkBAIC0xMjgs
MTEgKzEyOCw2IEBAIFNFQ1RJT05TCiAgICAgICAgKiguZXhfdGFibGUucHJlKQogICAgICAgIF9f
c3RvcF9fX3ByZV9leF90YWJsZSA9IC47CiAKLSAgICAgICAuID0gQUxJR04oUE9JTlRFUl9BTElH
Tik7Ci0gICAgICAgX19wYXJhbV9zdGFydCA9IC47Ci0gICAgICAgKiguZGF0YS5wYXJhbSkKLSAg
ICAgICBfX3BhcmFtX2VuZCA9IC47Ci0KICNpZiBkZWZpbmVkKENPTkZJR19IQVNfVlBDSSkgJiYg
ZGVmaW5lZChDT05GSUdfTEFURV9IV0RPTSkKICAgICAgICAuID0gQUxJR04oUE9JTlRFUl9BTElH
Tik7CiAgICAgICAgX19zdGFydF92cGNpX2FycmF5ID0gLjsKZGlmZiAtLWdpdCBhL3hlbi9jb21t
b24vaHlwZnMuYyBiL3hlbi9jb21tb24vaHlwZnMuYwppbmRleCA5NTAzZWYwNzMxLi5mMmU4NmU0
NjMyIDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL2h5cGZzLmMKKysrIGIveGVuL2NvbW1vbi9oeXBm
cy5jCkBAIC0zMDIsNyArMzAyLDcgQEAgaW50IGh5cGZzX3dyaXRlX2N1c3RvbShzdHJ1Y3QgaHlw
ZnNfZW50cnlfbGVhZiAqbGVhZiwKICAgICAgICAgZ290byBvdXQ7CiAKICAgICBwID0gY29udGFp
bmVyX29mKGxlYWYsIHN0cnVjdCBwYXJhbV9oeXBmcywgaHlwZnMpOwotICAgIHJldCA9IHAtPnBh
cmFtLT5wYXIuZnVuYyhidWYpOworICAgIHJldCA9IHAtPmZ1bmMoYnVmKTsKIAogIG91dDoKICAg
ICB4ZnJlZShidWYpOwpAQCAtMzc1LDEzICszNzUsMyBAQCBsb25nIGRvX2h5cGZzX29wKHVuc2ln
bmVkIGludCBjbWQsCiAKICAgICByZXR1cm4gcmV0OwogfQotCi12b2lkIGh5cGZzX3dyaXRlX2xv
Y2sodm9pZCkKLXsKLSAgICB3cml0ZV9sb2NrKCZoeXBmc19sb2NrKTsKLX0KLQotdm9pZCBoeXBm
c193cml0ZV91bmxvY2sodm9pZCkKLXsKLSAgICB3cml0ZV91bmxvY2soJmh5cGZzX2xvY2spOwot
fQpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9rZXJuZWwuYyBiL3hlbi9jb21tb24va2VybmVsLmMK
aW5kZXggNzUxNjI0MjMzNy4uODc2ODMwZjVmYSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9rZXJu
ZWwuYworKysgYi94ZW4vY29tbW9uL2tlcm5lbC5jCkBAIC0xOTYsMTcgKzE5Niw2IEBAIHN0YXRp
YyB2b2lkIF9faW5pdCBfY21kbGluZV9wYXJzZShjb25zdCBjaGFyICpjbWRsaW5lKQogICAgIHBh
cnNlX3BhcmFtcyhjbWRsaW5lLCBfX3NldHVwX3N0YXJ0LCBfX3NldHVwX2VuZCk7CiB9CiAKLWlu
dCBydW50aW1lX3BhcnNlKGNvbnN0IGNoYXIgKmxpbmUpCi17Ci0gICAgaW50IHJldDsKLQotICAg
IGh5cGZzX3dyaXRlX2xvY2soKTsKLSAgICByZXQgPSBwYXJzZV9wYXJhbXMobGluZSwgX19wYXJh
bV9zdGFydCwgX19wYXJhbV9lbmQpOwotICAgIGh5cGZzX3dyaXRlX3VubG9jaygpOwotCi0gICAg
cmV0dXJuIHJldDsKLX0KLQogLyoqCiAgKiAgICBjbWRsaW5lX3BhcnNlIC0tIHBhcnNlcyB0aGUg
eGVuIGNvbW1hbmQgbGluZS4KICAqIElmIENPTkZJR19DTURMSU5FIGlzIHNldCwgaXQgd291bGQg
YmUgcGFyc2VkIHByaW9yIHRvIEBjbWRsaW5lLgpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zeXNj
dGwuYyBiL3hlbi9jb21tb24vc3lzY3RsLmMKaW5kZXggMWM2YTgxNzQ3Ni4uZWM5MTY0MjRlNSAx
MDA2NDQKLS0tIGEveGVuL2NvbW1vbi9zeXNjdGwuYworKysgYi94ZW4vY29tbW9uL3N5c2N0bC5j
CkBAIC00NzEsNDIgKzQ3MSw2IEBAIGxvbmcgZG9fc3lzY3RsKFhFTl9HVUVTVF9IQU5ETEVfUEFS
QU0oeGVuX3N5c2N0bF90KSB1X3N5c2N0bCkKICAgICAgICAgICAgIGNvcHliYWNrID0gMTsKICAg
ICAgICAgYnJlYWs7CiAKLSAgICBjYXNlIFhFTl9TWVNDVExfc2V0X3BhcmFtZXRlcjoKLSAgICB7
Ci0jZGVmaW5lIFhFTl9TRVRfUEFSQU1FVEVSX01BWF9TSVpFIDEwMjMKLSAgICAgICAgY2hhciAq
cGFyYW1zOwotCi0gICAgICAgIGlmICggb3AtPnUuc2V0X3BhcmFtZXRlci5wYWRbMF0gfHwgb3At
PnUuc2V0X3BhcmFtZXRlci5wYWRbMV0gfHwKLSAgICAgICAgICAgICBvcC0+dS5zZXRfcGFyYW1l
dGVyLnBhZFsyXSApCi0gICAgICAgIHsKLSAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7Ci0gICAg
ICAgICAgICBicmVhazsKLSAgICAgICAgfQotICAgICAgICBpZiAoIG9wLT51LnNldF9wYXJhbWV0
ZXIuc2l6ZSA+IFhFTl9TRVRfUEFSQU1FVEVSX01BWF9TSVpFICkKLSAgICAgICAgewotICAgICAg
ICAgICAgcmV0ID0gLUUyQklHOwotICAgICAgICAgICAgYnJlYWs7Ci0gICAgICAgIH0KLSAgICAg
ICAgcGFyYW1zID0geG1hbGxvY19ieXRlcyhvcC0+dS5zZXRfcGFyYW1ldGVyLnNpemUgKyAxKTsK
LSAgICAgICAgaWYgKCAhcGFyYW1zICkKLSAgICAgICAgewotICAgICAgICAgICAgcmV0ID0gLUVO
T01FTTsKLSAgICAgICAgICAgIGJyZWFrOwotICAgICAgICB9Ci0gICAgICAgIGlmICggY29weV9m
cm9tX2d1ZXN0KHBhcmFtcywgb3AtPnUuc2V0X3BhcmFtZXRlci5wYXJhbXMsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIG9wLT51LnNldF9wYXJhbWV0ZXIuc2l6ZSkgKQotICAgICAgICAg
ICAgcmV0ID0gLUVGQVVMVDsKLSAgICAgICAgZWxzZQotICAgICAgICB7Ci0gICAgICAgICAgICBw
YXJhbXNbb3AtPnUuc2V0X3BhcmFtZXRlci5zaXplXSA9IDA7Ci0gICAgICAgICAgICByZXQgPSBy
dW50aW1lX3BhcnNlKHBhcmFtcyk7Ci0gICAgICAgIH0KLQotICAgICAgICB4ZnJlZShwYXJhbXMp
OwotCi0gICAgICAgIGJyZWFrOwotICAgIH0KLQogICAgIGRlZmF1bHQ6CiAgICAgICAgIHJldCA9
IGFyY2hfZG9fc3lzY3RsKG9wLCB1X3N5c2N0bCk7CiAgICAgICAgIGNvcHliYWNrID0gMDsKZGlm
ZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaCBiL3hlbi9pbmNsdWRlL3B1Ymxp
Yy9zeXNjdGwuaAppbmRleCA3ZTQzYmZlMWJkLi4wZDI0M2ViMzBjIDEwMDY0NAotLS0gYS94ZW4v
aW5jbHVkZS9wdWJsaWMvc3lzY3RsLmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5o
CkBAIC0xMDI0LDIyICsxMDI0LDYgQEAgc3RydWN0IHhlbl9zeXNjdGxfbGl2ZXBhdGNoX29wIHsK
ICAgICB9IHU7CiB9OwogCi0vKgotICogWEVOX1NZU0NUTF9zZXRfcGFyYW1ldGVyCi0gKgotICog
Q2hhbmdlIGh5cGVydmlzb3IgcGFyYW1ldGVycyBhdCBydW50aW1lLgotICogVGhlIGlucHV0IHN0
cmluZyBpcyBwYXJzZWQgc2ltaWxhciB0byB0aGUgYm9vdCBwYXJhbWV0ZXJzLgotICogUGFyYW1l
dGVycyBhcmUgYSBzaW5nbGUgc3RyaW5nIHRlcm1pbmF0ZWQgYnkgYSBOVUwgYnl0ZSBvZiBtYXgu
IHNpemUKLSAqIGNoYXJhY3RlcnMuIE11bHRpcGxlIHNldHRpbmdzIGNhbiBiZSBzcGVjaWZpZWQg
Ynkgc2VwYXJhdGluZyB0aGVtCi0gKiB3aXRoIGJsYW5rcy4KLSAqLwotCi1zdHJ1Y3QgeGVuX3N5
c2N0bF9zZXRfcGFyYW1ldGVyIHsKLSAgICBYRU5fR1VFU1RfSEFORExFXzY0KGNoYXIpIHBhcmFt
czsgICAgICAgLyogSU46IHBvaW50ZXIgdG8gcGFyYW1ldGVycy4gKi8KLSAgICB1aW50MTZfdCBz
aXplOyAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSU46IHNpemUgb2YgcGFyYW1ldGVycy4g
Ki8KLSAgICB1aW50MTZfdCBwYWRbM107ICAgICAgICAgICAgICAgICAgICAgICAgLyogSU46IE1V
U1QgYmUgemVyby4gKi8KLX07Ci0KICNpZiBkZWZpbmVkKF9faTM4Nl9fKSB8fCBkZWZpbmVkKF9f
eDg2XzY0X18pCiAvKgogICogWEVOX1NZU0NUTF9nZXRfY3B1X3BvbGljeSAoeDg2IHNwZWNpZmlj
KQpAQCAtMTEwMiw3ICsxMDg2LDYgQEAgc3RydWN0IHhlbl9zeXNjdGwgewogI2RlZmluZSBYRU5f
U1lTQ1RMX2dldF9jcHVfbGV2ZWxsaW5nX2NhcHMgICAgICAgIDI1CiAjZGVmaW5lIFhFTl9TWVND
VExfZ2V0X2NwdV9mZWF0dXJlc2V0ICAgICAgICAgICAgMjYKICNkZWZpbmUgWEVOX1NZU0NUTF9s
aXZlcGF0Y2hfb3AgICAgICAgICAgICAgICAgICAyNwotI2RlZmluZSBYRU5fU1lTQ1RMX3NldF9w
YXJhbWV0ZXIgICAgICAgICAgICAgICAgIDI4CiAjZGVmaW5lIFhFTl9TWVNDVExfZ2V0X2NwdV9w
b2xpY3kgICAgICAgICAgICAgICAgMjkKICAgICB1aW50MzJfdCBpbnRlcmZhY2VfdmVyc2lvbjsg
LyogWEVOX1NZU0NUTF9JTlRFUkZBQ0VfVkVSU0lPTiAqLwogICAgIHVuaW9uIHsKQEAgLTExMzEs
NyArMTExNCw2IEBAIHN0cnVjdCB4ZW5fc3lzY3RsIHsKICAgICAgICAgc3RydWN0IHhlbl9zeXNj
dGxfY3B1X2xldmVsbGluZ19jYXBzIGNwdV9sZXZlbGxpbmdfY2FwczsKICAgICAgICAgc3RydWN0
IHhlbl9zeXNjdGxfY3B1X2ZlYXR1cmVzZXQgICAgY3B1X2ZlYXR1cmVzZXQ7CiAgICAgICAgIHN0
cnVjdCB4ZW5fc3lzY3RsX2xpdmVwYXRjaF9vcCAgICAgIGxpdmVwYXRjaDsKLSAgICAgICAgc3Ry
dWN0IHhlbl9zeXNjdGxfc2V0X3BhcmFtZXRlciAgICAgc2V0X3BhcmFtZXRlcjsKICNpZiBkZWZp
bmVkKF9faTM4Nl9fKSB8fCBkZWZpbmVkKF9feDg2XzY0X18pCiAgICAgICAgIHN0cnVjdCB4ZW5f
c3lzY3RsX2NwdV9wb2xpY3kgICAgICAgIGNwdV9wb2xpY3k7CiAjZW5kaWYKZGlmZiAtLWdpdCBh
L3hlbi9pbmNsdWRlL3hlbi9oeXBmcy5oIGIveGVuL2luY2x1ZGUveGVuL2h5cGZzLmgKaW5kZXgg
NmMxZGIyOTBjYi4uODRhOGY5YjMzOCAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveGVuL2h5cGZz
LmgKKysrIGIveGVuL2luY2x1ZGUveGVuL2h5cGZzLmgKQEAgLTEwMSw3ICsxMDEsNSBAQCBpbnQg
aHlwZnNfd3JpdGVfYm9vbChzdHJ1Y3QgaHlwZnNfZW50cnlfbGVhZiAqbGVhZiwKICAgICAgICAg
ICAgICAgICAgICAgIFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0odm9pZCkgdWFkZHIsIHVuc2lnbmVk
IGxvbmcgdWxlbik7CiBpbnQgaHlwZnNfd3JpdGVfY3VzdG9tKHN0cnVjdCBoeXBmc19lbnRyeV9s
ZWFmICpsZWFmLAogICAgICAgICAgICAgICAgICAgICAgICBYRU5fR1VFU1RfSEFORExFX1BBUkFN
KHZvaWQpIHVhZGRyLCB1bnNpZ25lZCBsb25nIHVsZW4pOwotdm9pZCBoeXBmc193cml0ZV9sb2Nr
KHZvaWQpOwotdm9pZCBoeXBmc193cml0ZV91bmxvY2sodm9pZCk7CiAKICNlbmRpZiAvKiBfX1hF
Tl9IWVBGU19IX18gKi8KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9saWIuaCBiL3hlbi9p
bmNsdWRlL3hlbi9saWIuaAppbmRleCA1ZDcxOGJiZGJhLi43ZTQyNWUyOGNkIDEwMDY0NAotLS0g
YS94ZW4vaW5jbHVkZS94ZW4vbGliLmgKKysrIGIveGVuL2luY2x1ZGUveGVuL2xpYi5oCkBAIC03
NSw3ICs3NSw2IEBACiBzdHJ1Y3QgZG9tYWluOwogCiB2b2lkIGNtZGxpbmVfcGFyc2UoY29uc3Qg
Y2hhciAqY21kbGluZSk7Ci1pbnQgcnVudGltZV9wYXJzZShjb25zdCBjaGFyICpsaW5lKTsKIGlu
dCBwYXJzZV9ib29sKGNvbnN0IGNoYXIgKnMsIGNvbnN0IGNoYXIgKmUpOwogCiAvKioKZGlmZiAt
LWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9wYXJhbS5oIGIveGVuL2luY2x1ZGUveGVuL3BhcmFtLmgK
aW5kZXggNzE4NDExMzc1MS4uMjQxY2RlMzNiMSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUveGVu
L3BhcmFtLmgKKysrIGIveGVuL2luY2x1ZGUveGVuL3BhcmFtLmgKQEAgLTI3LDE2ICsyNywxNCBA
QCBzdHJ1Y3Qga2VybmVsX3BhcmFtIHsKIH07CiAKIHN0cnVjdCBwYXJhbV9oeXBmcyB7Ci0gICAg
Y29uc3Qgc3RydWN0IGtlcm5lbF9wYXJhbSAqcGFyYW07CiAgICAgc3RydWN0IGh5cGZzX2VudHJ5
X2xlYWYgaHlwZnM7CiAgICAgdm9pZCAoKmluaXRfbGVhZikoc3RydWN0IHBhcmFtX2h5cGZzICpw
YXIpOworICAgIGludCAoKmZ1bmMpKGNvbnN0IGNoYXIgKik7CiB9OwogCiBleHRlcm4gY29uc3Qg
c3RydWN0IGtlcm5lbF9wYXJhbSBfX3NldHVwX3N0YXJ0W10sIF9fc2V0dXBfZW5kW107Ci1leHRl
cm4gY29uc3Qgc3RydWN0IGtlcm5lbF9wYXJhbSBfX3BhcmFtX3N0YXJ0W10sIF9fcGFyYW1fZW5k
W107CiBleHRlcm4gc3RydWN0IHBhcmFtX2h5cGZzIF9fcGFyYW1oeXBmc19zdGFydFtdLCBfX3Bh
cmFtaHlwZnNfZW5kW107CiAKLSNkZWZpbmUgX19kYXRhcGFyYW0gICAgICAgX191c2VkX3NlY3Rp
b24oIi5kYXRhLnBhcmFtIikKICNkZWZpbmUgX19wYXJhbWh5cGZzICAgICAgX191c2VkX3NlY3Rp
b24oIi5kYXRhLnBhcmFtaHlwZnMiKQogCiAjZGVmaW5lIF9fcGFyYW0oYXR0KSAgICAgIHN0YXRp
YyBjb25zdCBhdHQgXApAQCAtODcsNyArODUsNiBAQCBleHRlcm4gc3RydWN0IHBhcmFtX2h5cGZz
IF9fcGFyYW1oeXBmc19zdGFydFtdLCBfX3BhcmFtaHlwZnNfZW5kW107CiAgICAgICAgIHsgLm5h
bWUgPSBzZXR1cF9zdHJfaWduLCAgICAgICAgICAgIFwKICAgICAgICAgICAudHlwZSA9IE9QVF9J
R05PUkUgfQogCi0jZGVmaW5lIF9fcnRwYXJhbSAgICAgICAgIF9fcGFyYW0oX19kYXRhcGFyYW0p
CiAjZGVmaW5lIF9fcGFyYW1mcyAgICAgICAgIHN0YXRpYyBfX3BhcmFtaHlwZnMgXAogICAgIF9f
YXR0cmlidXRlX18oKF9fYWxpZ25lZF9fKHNpemVvZih2b2lkICopKSkpIHN0cnVjdCBwYXJhbV9o
eXBmcwogCkBAIC05OSwyOCArOTYsMTcgQEAgZXh0ZXJuIHN0cnVjdCBwYXJhbV9oeXBmcyBfX3Bh
cmFtaHlwZnNfc3RhcnRbXSwgX19wYXJhbWh5cGZzX2VuZFtdOwogCiAvKiBpbml0ZnVuYyBuZWVk
cyB0byBzZXQgc2l6ZSBhbmQgY29udGVudCwgZS5nLiB2aWEgY3VzdG9tX3J1bnRpbWVfc2V0X3Zh
cigpLiAqLwogI2RlZmluZSBjdXN0b21fcnVudGltZV9vbmx5X3BhcmFtKF9uYW1lLCBfdmFyLCBp
bml0ZnVuYykgXAotICAgIF9fcnRwYXJhbSBfX3J0cGFyXyMjX3ZhciA9IFwKLSAgICAgIHsgLm5h
bWUgPSBfbmFtZSwgXAotICAgICAgICAgIC50eXBlID0gT1BUX0NVU1RPTSwgXAotICAgICAgICAg
IC5wYXIuZnVuYyA9IF92YXIgfTsgXAogICAgIF9fcGFyYW1mcyBfX3BhcmZzXyMjX3ZhciA9IFwK
LSAgICAgICAgeyAucGFyYW0gPSAmX19ydHBhcl8jI192YXIsIFwKLSAgICAgICAgICAuaW5pdF9s
ZWFmID0gaW5pdGZ1bmMsIFwKLSAgICAgICAgICAuaHlwZnMuZS50eXBlID0gWEVOX0hZUEZTX1RZ
UEVfU1RSSU5HLCBcCisgICAgICAgIHsgLmh5cGZzLmUudHlwZSA9IFhFTl9IWVBGU19UWVBFX1NU
UklORywgXAogICAgICAgICAgIC5oeXBmcy5lLmVuY29kaW5nID0gWEVOX0hZUEZTX0VOQ19QTEFJ
TiwgXAogICAgICAgICAgIC5oeXBmcy5lLm5hbWUgPSBfbmFtZSwgXAogICAgICAgICAgIC5oeXBm
cy5lLnJlYWQgPSBoeXBmc19yZWFkX2xlYWYsIFwKLSAgICAgICAgICAuaHlwZnMuZS53cml0ZSA9
IGh5cGZzX3dyaXRlX2N1c3RvbSB9CisgICAgICAgICAgLmh5cGZzLmUud3JpdGUgPSBoeXBmc193
cml0ZV9jdXN0b20sIFwKKyAgICAgICAgICAuaW5pdF9sZWFmID0gaW5pdGZ1bmMsIFwKKyAgICAg
ICAgICAuZnVuYyA9IF92YXIgfQogI2RlZmluZSBib29sZWFuX3J1bnRpbWVfb25seV9wYXJhbShf
bmFtZSwgX3ZhcikgXAotICAgIF9fcnRwYXJhbSBfX3J0cGFyXyMjX3ZhciA9IFwKLSAgICAgICAg
eyAubmFtZSA9IF9uYW1lLCBcCi0gICAgICAgICAgLnR5cGUgPSBPUFRfQk9PTCwgXAotICAgICAg
ICAgIC5sZW4gPSBzaXplb2YoX3ZhcikgKyBcCi0gICAgICAgICAgICAgICAgIEJVSUxEX0JVR19P
Tl9aRVJPKHNpemVvZihfdmFyKSAhPSBzaXplb2YoYm9vbCkpLCBcCi0gICAgICAgICAgLnBhci52
YXIgPSAmX3ZhciB9OyBcCiAgICAgX19wYXJhbWZzIF9fcGFyZnNfIyNfdmFyID0gXAotICAgICAg
ICB7IC5wYXJhbSA9ICZfX3J0cGFyXyMjX3ZhciwgXAotICAgICAgICAgIC5oeXBmcy5lLnR5cGUg
PSBYRU5fSFlQRlNfVFlQRV9CT09MLCBcCisgICAgICAgIHsgLmh5cGZzLmUudHlwZSA9IFhFTl9I
WVBGU19UWVBFX0JPT0wsIFwKICAgICAgICAgICAuaHlwZnMuZS5lbmNvZGluZyA9IFhFTl9IWVBG
U19FTkNfUExBSU4sIFwKICAgICAgICAgICAuaHlwZnMuZS5uYW1lID0gX25hbWUsIFwKICAgICAg
ICAgICAuaHlwZnMuZS5zaXplID0gc2l6ZW9mKF92YXIpLCBcCkBAIC0xMjgsMTQgKzExNCw4IEBA
IGV4dGVybiBzdHJ1Y3QgcGFyYW1faHlwZnMgX19wYXJhbWh5cGZzX3N0YXJ0W10sIF9fcGFyYW1o
eXBmc19lbmRbXTsKICAgICAgICAgICAuaHlwZnMuZS53cml0ZSA9IGh5cGZzX3dyaXRlX2Jvb2ws
IFwKICAgICAgICAgICAuaHlwZnMuY29udGVudCA9ICZfdmFyIH0KICNkZWZpbmUgaW50ZWdlcl9y
dW50aW1lX29ubHlfcGFyYW0oX25hbWUsIF92YXIpIFwKLSAgICBfX3J0cGFyYW0gX19ydHBhcl8j
I192YXIgPSBcCi0gICAgICAgIHsgLm5hbWUgPSBfbmFtZSwgXAotICAgICAgICAgIC50eXBlID0g
T1BUX1VJTlQsIFwKLSAgICAgICAgICAubGVuID0gc2l6ZW9mKF92YXIpLCBcCi0gICAgICAgICAg
LnBhci52YXIgPSAmX3ZhciB9OyBcCiAgICAgX19wYXJhbWZzIF9fcGFyZnNfIyNfdmFyID0gXAot
ICAgICAgICB7IC5wYXJhbSA9ICZfX3J0cGFyXyMjX3ZhciwgXAotICAgICAgICAgIC5oeXBmcy5l
LnR5cGUgPSBYRU5fSFlQRlNfVFlQRV9VSU5ULCBcCisgICAgICAgIHsgLmh5cGZzLmUudHlwZSA9
IFhFTl9IWVBGU19UWVBFX1VJTlQsIFwKICAgICAgICAgICAuaHlwZnMuZS5lbmNvZGluZyA9IFhF
Tl9IWVBGU19FTkNfUExBSU4sIFwKICAgICAgICAgICAuaHlwZnMuZS5uYW1lID0gX25hbWUsIFwK
ICAgICAgICAgICAuaHlwZnMuZS5zaXplID0gc2l6ZW9mKF92YXIpLCBcCkBAIC0xNDMsMTQgKzEy
Myw4IEBAIGV4dGVybiBzdHJ1Y3QgcGFyYW1faHlwZnMgX19wYXJhbWh5cGZzX3N0YXJ0W10sIF9f
cGFyYW1oeXBmc19lbmRbXTsKICAgICAgICAgICAuaHlwZnMuZS53cml0ZSA9IGh5cGZzX3dyaXRl
X2xlYWYsIFwKICAgICAgICAgICAuaHlwZnMuY29udGVudCA9ICZfdmFyIH0KICNkZWZpbmUgc2l6
ZV9ydW50aW1lX29ubHlfcGFyYW0oX25hbWUsIF92YXIpIFwKLSAgICBfX3J0cGFyYW0gX19ydHBh
cl8jI192YXIgPSBcCi0gICAgICAgIHsgLm5hbWUgPSBfbmFtZSwgXAotICAgICAgICAgIC50eXBl
ID0gT1BUX1NJWkUsIFwKLSAgICAgICAgICAubGVuID0gc2l6ZW9mKF92YXIpLCBcCi0gICAgICAg
ICAgLnBhci52YXIgPSAmX3ZhciB9OyBcCiAgICAgX19wYXJhbWZzIF9fcGFyZnNfIyNfdmFyID0g
XAotICAgICAgICB7IC5wYXJhbSA9ICZfX3J0cGFyXyMjX3ZhciwgXAotICAgICAgICAgIC5oeXBm
cy5lLnR5cGUgPSBYRU5fSFlQRlNfVFlQRV9VSU5ULCBcCisgICAgICAgIHsgLmh5cGZzLmUudHlw
ZSA9IFhFTl9IWVBGU19UWVBFX1VJTlQsIFwKICAgICAgICAgICAuaHlwZnMuZS5lbmNvZGluZyA9
IFhFTl9IWVBGU19FTkNfUExBSU4sIFwKICAgICAgICAgICAuaHlwZnMuZS5uYW1lID0gX25hbWUs
IFwKICAgICAgICAgICAuaHlwZnMuZS5zaXplID0gc2l6ZW9mKF92YXIpLCBcCkBAIC0xNTgsMTQg
KzEzMiw4IEBAIGV4dGVybiBzdHJ1Y3QgcGFyYW1faHlwZnMgX19wYXJhbWh5cGZzX3N0YXJ0W10s
IF9fcGFyYW1oeXBmc19lbmRbXTsKICAgICAgICAgICAuaHlwZnMuZS53cml0ZSA9IGh5cGZzX3dy
aXRlX2xlYWYsIFwKICAgICAgICAgICAuaHlwZnMuY29udGVudCA9ICZfdmFyIH0KICNkZWZpbmUg
c3RyaW5nX3J1bnRpbWVfb25seV9wYXJhbShfbmFtZSwgX3ZhcikgXAotICAgIF9fcnRwYXJhbSBf
X3J0cGFyXyMjX3ZhciA9IFwKLSAgICAgICAgeyAubmFtZSA9IF9uYW1lLCBcCi0gICAgICAgICAg
LnR5cGUgPSBPUFRfU1RSLCBcCi0gICAgICAgICAgLmxlbiA9IHNpemVvZihfdmFyKSwgXAotICAg
ICAgICAgIC5wYXIudmFyID0gJl92YXIgfTsgXAogICAgIF9fcGFyYW1mcyBfX3BhcmZzXyMjX3Zh
ciA9IFwKLSAgICAgICAgeyAucGFyYW0gPSAmX19ydHBhcl8jI192YXIsIFwKLSAgICAgICAgICAu
aHlwZnMuZS50eXBlID0gWEVOX0hZUEZTX1RZUEVfU1RSSU5HLCBcCisgICAgICAgIHsgLmh5cGZz
LmUudHlwZSA9IFhFTl9IWVBGU19UWVBFX1NUUklORywgXAogICAgICAgICAgIC5oeXBmcy5lLmVu
Y29kaW5nID0gWEVOX0hZUEZTX0VOQ19QTEFJTiwgXAogICAgICAgICAgIC5oeXBmcy5lLm5hbWUg
PSBfbmFtZSwgXAogICAgICAgICAgIC5oeXBmcy5lLnNpemUgPSBzaXplb2YoX3ZhciksIFwKZGlm
ZiAtLWdpdCBhL3hlbi94c20vZmxhc2svaG9va3MuYyBiL3hlbi94c20vZmxhc2svaG9va3MuYwpp
bmRleCBlMjU3MzI4OTI4Li45YWRiNjlmNjQ5IDEwMDY0NAotLS0gYS94ZW4veHNtL2ZsYXNrL2hv
b2tzLmMKKysrIGIveGVuL3hzbS9mbGFzay9ob29rcy5jCkBAIC04MjEsOSArODIxLDYgQEAgc3Rh
dGljIGludCBmbGFza19zeXNjdGwoaW50IGNtZCkKICAgICBjYXNlIFhFTl9TWVNDVExfY292ZXJh
Z2Vfb3A6CiAgICAgICAgIHJldHVybiBhdmNfY3VycmVudF9oYXNfcGVybShTRUNJTklUU0lEX1hF
TiwgU0VDQ0xBU1NfWEVOMiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhF
TjJfX0NPVkVSQUdFX09QLCBOVUxMKTsKLSAgICBjYXNlIFhFTl9TWVNDVExfc2V0X3BhcmFtZXRl
cjoKLSAgICAgICAgcmV0dXJuIGF2Y19jdXJyZW50X2hhc19wZXJtKFNFQ0lOSVRTSURfWEVOLCBT
RUNDTEFTU19YRU4yLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWEVOMl9f
U0VUX1BBUkFNRVRFUiwgTlVMTCk7CiAKICAgICBkZWZhdWx0OgogICAgICAgICByZXR1cm4gYXZj
X3Vua25vd25fcGVybWlzc2lvbigic3lzY3RsIiwgY21kKTsKZGlmZiAtLWdpdCBhL3hlbi94c20v
Zmxhc2svcG9saWN5L2FjY2Vzc192ZWN0b3JzIGIveGVuL3hzbS9mbGFzay9wb2xpY3kvYWNjZXNz
X3ZlY3RvcnMKaW5kZXggYzllMzg1ZmI5Yi4uYjg3Yzk5ZWE5OCAxMDA2NDQKLS0tIGEveGVuL3hz
bS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3RvcnMKKysrIGIveGVuL3hzbS9mbGFzay9wb2xpY3kv
YWNjZXNzX3ZlY3RvcnMKQEAgLTk5LDggKzk5LDYgQEAgY2xhc3MgeGVuMgogICAgIGxpdmVwYXRj
aF9vcAogIyBYRU5fU1lTQ1RMX2NvdmVyYWdlX29wCiAgICAgY292ZXJhZ2Vfb3AKLSMgWEVOX1NZ
U0NUTF9zZXRfcGFyYW1ldGVyCi0gICAgc2V0X3BhcmFtZXRlcgogfQogCiAjIENsYXNzZXMgZG9t
YWluIGFuZCBkb21haW4yIGNvbnNpc3Qgb2Ygb3BlcmF0aW9ucyB0aGF0IGEgZG9tYWluIHBlcmZv
cm1zIG9uCi0tIAoyLjE2LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9q
ZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVu
LWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 9F9106FABA
	for <lists+xen-devel@lfdr.de>; Mon, 22 Jul 2019 09:51:52 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hpT2Q-00074c-Ow; Mon, 22 Jul 2019 07:47:14 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=26cJ=VT=arndb.de=arnd@srs-us1.protection.inumbo.net>)
 id 1hpT2O-00074X-FF
 for xen-devel@lists.xenproject.org; Mon, 22 Jul 2019 07:47:12 +0000
X-Inumbo-ID: e83e1da0-ac54-11e9-8980-bc764e045a96
Received: from mout.kundenserver.de (unknown [212.227.126.187])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id e83e1da0-ac54-11e9-8980-bc764e045a96;
 Mon, 22 Jul 2019 07:47:09 +0000 (UTC)
Received: from threadripper.lan ([149.172.19.189]) by mrelayeu.kundenserver.de
 (mreue009 [212.227.15.129]) with ESMTPA (Nemesis) id
 1MSbov-1i04vK0nhx-00T03d; Mon, 22 Jul 2019 09:47:07 +0200
From: Arnd Bergmann <arnd@arndb.de>
To: Boris Ostrovsky <boris.ostrovsky@oracle.com>,
 Juergen Gross <jgross@suse.com>
Date: Mon, 22 Jul 2019 09:46:29 +0200
Message-Id: <20190722074705.2082153-1-arnd@arndb.de>
X-Mailer: git-send-email 2.20.0
MIME-Version: 1.0
X-Provags-ID: V03:K1:3EdOY3EUnlUpz1I3SU7SExGgM9Np4XJCmPkMfsKvDxZfzJkaD2X
 f9IRekbqSDJcE1EVqjNOA9BdXcMErvJxelu1521l2QAetrl5ETmalOPD0QL4Zcvom9mSXyc
 uRLbnfLZv+hDj2noZweapQyB7LLryFnru7t9yiXOb1r6C6biY4aLRZtuZ9KBYat1oJPr5p+
 RDIU7ZjihuLGcHKObaqdg==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:oeVD7OeF3dY=:wxlNhsi0rCLsy/PPJPNYuB
 w26Lnf05qvb2AdLALuGE2FvIUZkDZtgpoU6R8YB9hoqyzcezCEjXqZfCtnWSxB7Xd5r0zYrGV
 vQgqb+8zmFG973E4Xn/5KB9dzReifXqBPS9DwprfNIaxW952EkjWCZWkJiv9mZ53kuyXupCYu
 BH4Z2Yazmzn+S9axnkq6V+//UJLH62xLvYX5HrecVy9r11BIMk4AhFwVxRT74f+ABJos42aR4
 c0KR9ItikEembbodxyYbGQKk6LU1xlZ+nRLqT0JZwWpcuNAHYFBTMjJieq+mM2AC1m3bZ+S7/
 lW2FOeUhQhrfktt/vryAYwEmU2pR7Iv7GbFhZPXZgMvuxqKEyTj4WOPWg1bTn/32HA4xVd8Ks
 XezYmPel78/F1PXEN5U9XaXolkKia3orRT+Gw6MVhHpBiyYFFiC5jNifG7bchp0bVtujzRDgT
 gaE3Mf7ImSTATrDw2BHDOY9qSJsP3mHXnRJiHiTlQwweOHI0pQK1ylxvqEeq1iOsxlh3Bc8us
 GMbXaRMYAe/sK2ZmmNyPlc2pmfJCkvQK/L+NAKGJNrzHD5VmQlTsHDEW0py9v/jtxEX7ftRuX
 Hs9gFyNnwJxyktB+BwksaAfS2L9CeavlqqyuA736zO4tju9QTXgDzzE5rmY4ZNmOpixszww+5
 Jpy+8fuI3MnGH4RWdSGmk9RaFDzxdeI5PVYLYa7nQYum1fWu+P4eg7xG/CqH74ZYUJOd26EHa
 XMLWYPQ8+CG6T24kqI6rhBECg/v+6XhkuUwLSQ==
Subject: [Xen-devel] [PATCH] [v3] xen: avoid link error on ARM
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 linux-kernel@vger.kernel.org, Arnd Bergmann <arnd@arndb.de>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnVpbGRpbmcgdGhlIHByaXZjbWQgY29kZSBhcyBhIGxvYWRhYmxlIG1vZHVsZSBvbiBBUk0sIHdl
IGdldAphIGxpbmsgZXJyb3IgZHVlIHRvIHRoZSBwcml2YXRlIGNhY2hlIG1hbmFnZW1lbnQgZnVu
Y3Rpb25zOgoKRVJST1I6ICJfX3N5bmNfaWNhY2hlX2RjYWNoZSIgW2RyaXZlcnMveGVuL3hlbi1w
cml2Y21kLmtvXSB1bmRlZmluZWQhCgpNb3ZlIHRoZSBjb2RlIGludG8gYSBuZXcgdGhhdCBpcyBh
bHdheXMgYnVpbHQgaW4gd2hlbiBYZW4gaXMgZW5hYmxlZCwKYXMgc3VnZ2VzdGVkIGJ5IEp1ZXJn
ZW4gR3Jvc3MgYW5kIEJvcmlzIE9zdHJvdnNreS4KClNpZ25lZC1vZmYtYnk6IEFybmQgQmVyZ21h
bm4gPGFybmRAYXJuZGIuZGU+Ci0tLQp2MjogcmVuYW1lIG1tLm8gdG8geGVuLWJ1aWx0aW4ubywg
bWFrZSBpdCB1bmNvbmRpdGlvbmFsCnYzOiBtb3ZlIG5ldyBjb2RlIGludG8geGxhdGVfbW11IGFz
IHN1Z2dlc3RlZCBieSBCb3JpcyBPc3Ryb3Zza3kuCiAgICBzb3JyeSBmb3IgdGhlIGxvbmcgZGVs
YXkgc2luY2UgdjIsIEkgbG9zdCB0cmFjayBvZiB0aGlzLgotLS0KIGRyaXZlcnMveGVuL3ByaXZj
bWQuYyAgIHwgMzUgKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMv
eGVuL3hsYXRlX21tdS5jIHwgMzIgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGlu
Y2x1ZGUveGVuL3hlbi1vcHMuaCAgIHwgIDMgKysrCiAzIGZpbGVzIGNoYW5nZWQsIDQwIGluc2Vy
dGlvbnMoKyksIDMwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMveGVuL3ByaXZj
bWQuYyBiL2RyaXZlcnMveGVuL3ByaXZjbWQuYwppbmRleCAyZjVjZTcyMzBhNDMuLmM2MDcwZTcw
ZGQ3MyAxMDA2NDQKLS0tIGEvZHJpdmVycy94ZW4vcHJpdmNtZC5jCisrKyBiL2RyaXZlcnMveGVu
L3ByaXZjbWQuYwpAQCAtNzI0LDI1ICs3MjQsNiBAQCBzdGF0aWMgbG9uZyBwcml2Y21kX2lvY3Rs
X3Jlc3RyaWN0KHN0cnVjdCBmaWxlICpmaWxlLCB2b2lkIF9fdXNlciAqdWRhdGEpCiAJcmV0dXJu
IDA7CiB9CiAKLXN0cnVjdCByZW1hcF9wZm4gewotCXN0cnVjdCBtbV9zdHJ1Y3QgKm1tOwotCXN0
cnVjdCBwYWdlICoqcGFnZXM7Ci0JcGdwcm90X3QgcHJvdDsKLQl1bnNpZ25lZCBsb25nIGk7Ci19
OwotCi1zdGF0aWMgaW50IHJlbWFwX3Bmbl9mbihwdGVfdCAqcHRlcCwgdW5zaWduZWQgbG9uZyBh
ZGRyLCB2b2lkICpkYXRhKQotewotCXN0cnVjdCByZW1hcF9wZm4gKnIgPSBkYXRhOwotCXN0cnVj
dCBwYWdlICpwYWdlID0gci0+cGFnZXNbci0+aV07Ci0JcHRlX3QgcHRlID0gcHRlX21rc3BlY2lh
bChwZm5fcHRlKHBhZ2VfdG9fcGZuKHBhZ2UpLCByLT5wcm90KSk7Ci0KLQlzZXRfcHRlX2F0KHIt
Pm1tLCBhZGRyLCBwdGVwLCBwdGUpOwotCXItPmkrKzsKLQotCXJldHVybiAwOwotfQotCiBzdGF0
aWMgbG9uZyBwcml2Y21kX2lvY3RsX21tYXBfcmVzb3VyY2Uoc3RydWN0IGZpbGUgKmZpbGUsIHZv
aWQgX191c2VyICp1ZGF0YSkKIHsKIAlzdHJ1Y3QgcHJpdmNtZF9kYXRhICpkYXRhID0gZmlsZS0+
cHJpdmF0ZV9kYXRhOwpAQCAtNzc0LDcgKzc1NSw4IEBAIHN0YXRpYyBsb25nIHByaXZjbWRfaW9j
dGxfbW1hcF9yZXNvdXJjZShzdHJ1Y3QgZmlsZSAqZmlsZSwgdm9pZCBfX3VzZXIgKnVkYXRhKQog
CQlnb3RvIG91dDsKIAl9CiAKLQlpZiAoeGVuX2ZlYXR1cmUoWEVORkVBVF9hdXRvX3RyYW5zbGF0
ZWRfcGh5c21hcCkpIHsKKwlpZiAoSVNfRU5BQkxFRChDT05GSUdfWEVOX0FVVE9fWExBVEUpICYm
CisJICAgIHhlbl9mZWF0dXJlKFhFTkZFQVRfYXV0b190cmFuc2xhdGVkX3BoeXNtYXApKSB7CiAJ
CXVuc2lnbmVkIGludCBuciA9IERJVl9ST1VORF9VUChrZGF0YS5udW0sIFhFTl9QRk5fUEVSX1BB
R0UpOwogCQlzdHJ1Y3QgcGFnZSAqKnBhZ2VzOwogCQl1bnNpZ25lZCBpbnQgaTsKQEAgLTgwOCwx
NiArNzkwLDkgQEAgc3RhdGljIGxvbmcgcHJpdmNtZF9pb2N0bF9tbWFwX3Jlc291cmNlKHN0cnVj
dCBmaWxlICpmaWxlLCB2b2lkIF9fdXNlciAqdWRhdGEpCiAJaWYgKHJjKQogCQlnb3RvIG91dDsK
IAotCWlmICh4ZW5fZmVhdHVyZShYRU5GRUFUX2F1dG9fdHJhbnNsYXRlZF9waHlzbWFwKSkgewot
CQlzdHJ1Y3QgcmVtYXBfcGZuIHIgPSB7Ci0JCQkubW0gPSB2bWEtPnZtX21tLAotCQkJLnBhZ2Vz
ID0gdm1hLT52bV9wcml2YXRlX2RhdGEsCi0JCQkucHJvdCA9IHZtYS0+dm1fcGFnZV9wcm90LAot
CQl9OwotCi0JCXJjID0gYXBwbHlfdG9fcGFnZV9yYW5nZShyLm1tLCBrZGF0YS5hZGRyLAotCQkJ
CQkga2RhdGEubnVtIDw8IFBBR0VfU0hJRlQsCi0JCQkJCSByZW1hcF9wZm5fZm4sICZyKTsKKwlp
ZiAoSVNfRU5BQkxFRChDT05GSUdfWEVOX0FVVE9fWExBVEUpICYmCisJICAgIHhlbl9mZWF0dXJl
KFhFTkZFQVRfYXV0b190cmFuc2xhdGVkX3BoeXNtYXApKSB7CisJCXJjID0geGVuX3JlbWFwX3Zt
YV9yYW5nZSh2bWEsIGtkYXRhLmFkZHIsIGtkYXRhLm51bSA8PCBQQUdFX1NISUZUKTsKIAl9IGVs
c2UgewogCQl1bnNpZ25lZCBpbnQgZG9taWQgPQogCQkJKHhkYXRhLmZsYWdzICYgWEVOTUVNX3Jz
cmNfYWNxX2NhbGxlcl9vd25lZCkgPwpkaWZmIC0tZ2l0IGEvZHJpdmVycy94ZW4veGxhdGVfbW11
LmMgYi9kcml2ZXJzL3hlbi94bGF0ZV9tbXUuYwppbmRleCBiYTg4M2E4MGIzYzAuLjdiMTA3N2Yw
YWJjYiAxMDA2NDQKLS0tIGEvZHJpdmVycy94ZW4veGxhdGVfbW11LmMKKysrIGIvZHJpdmVycy94
ZW4veGxhdGVfbW11LmMKQEAgLTI2MiwzICsyNjIsMzUgQEAgaW50IF9faW5pdCB4ZW5feGxhdGVf
bWFwX2JhbGxvb25lZF9wYWdlcyh4ZW5fcGZuX3QgKipnZm5zLCB2b2lkICoqdmlydCwKIAlyZXR1
cm4gMDsKIH0KIEVYUE9SVF9TWU1CT0xfR1BMKHhlbl94bGF0ZV9tYXBfYmFsbG9vbmVkX3BhZ2Vz
KTsKKworc3RydWN0IHJlbWFwX3BmbiB7CisJc3RydWN0IG1tX3N0cnVjdCAqbW07CisJc3RydWN0
IHBhZ2UgKipwYWdlczsKKwlwZ3Byb3RfdCBwcm90OworCXVuc2lnbmVkIGxvbmcgaTsKK307CisK
K3N0YXRpYyBpbnQgcmVtYXBfcGZuX2ZuKHB0ZV90ICpwdGVwLCB1bnNpZ25lZCBsb25nIGFkZHIs
IHZvaWQgKmRhdGEpCit7CisJc3RydWN0IHJlbWFwX3BmbiAqciA9IGRhdGE7CisJc3RydWN0IHBh
Z2UgKnBhZ2UgPSByLT5wYWdlc1tyLT5pXTsKKwlwdGVfdCBwdGUgPSBwdGVfbWtzcGVjaWFsKHBm
bl9wdGUocGFnZV90b19wZm4ocGFnZSksIHItPnByb3QpKTsKKworCXNldF9wdGVfYXQoci0+bW0s
IGFkZHIsIHB0ZXAsIHB0ZSk7CisJci0+aSsrOworCisJcmV0dXJuIDA7Cit9CisKKy8qIFVzZWQg
YnkgdGhlIHByaXZjbWQgbW9kdWxlLCBidXQgaGFzIHRvIGJlIGJ1aWx0LWluIG9uIEFSTSAqLwor
aW50IHhlbl9yZW1hcF92bWFfcmFuZ2Uoc3RydWN0IHZtX2FyZWFfc3RydWN0ICp2bWEsIHVuc2ln
bmVkIGxvbmcgYWRkciwgdW5zaWduZWQgbG9uZyBsZW4pCit7CisJc3RydWN0IHJlbWFwX3BmbiBy
ID0geworCQkubW0gPSB2bWEtPnZtX21tLAorCQkucGFnZXMgPSB2bWEtPnZtX3ByaXZhdGVfZGF0
YSwKKwkJLnByb3QgPSB2bWEtPnZtX3BhZ2VfcHJvdCwKKwl9OworCisJcmV0dXJuIGFwcGx5X3Rv
X3BhZ2VfcmFuZ2Uodm1hLT52bV9tbSwgYWRkciwgbGVuLCByZW1hcF9wZm5fZm4sICZyKTsKK30K
K0VYUE9SVF9TWU1CT0xfR1BMKHhlbl9yZW1hcF92bWFfcmFuZ2UpOwpkaWZmIC0tZ2l0IGEvaW5j
bHVkZS94ZW4veGVuLW9wcy5oIGIvaW5jbHVkZS94ZW4veGVuLW9wcy5oCmluZGV4IDQ5Njk4MTcx
MjRhOC4uOThiMzBjMTYxM2IyIDEwMDY0NAotLS0gYS9pbmNsdWRlL3hlbi94ZW4tb3BzLmgKKysr
IGIvaW5jbHVkZS94ZW4veGVuLW9wcy5oCkBAIC0xMDksNiArMTA5LDkgQEAgc3RhdGljIGlubGlu
ZSBpbnQgeGVuX3hsYXRlX3VubWFwX2dmbl9yYW5nZShzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZt
YSwKIH0KICNlbmRpZgogCitpbnQgeGVuX3JlbWFwX3ZtYV9yYW5nZShzdHJ1Y3Qgdm1fYXJlYV9z
dHJ1Y3QgKnZtYSwgdW5zaWduZWQgbG9uZyBhZGRyLAorCQkJdW5zaWduZWQgbG9uZyBsZW4pOwor
CiAvKgogICogeGVuX3JlbWFwX2RvbWFpbl9nZm5fYXJyYXkoKSAtIG1hcCBhbiBhcnJheSBvZiBm
b3JlaWduIGZyYW1lcyBieSBnZm4KICAqIEB2bWE6ICAgICBWTUEgdG8gbWFwIHRoZSBwYWdlcyBp
bnRvCi0tIAoyLjIwLjAKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0
Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRl
dmVs

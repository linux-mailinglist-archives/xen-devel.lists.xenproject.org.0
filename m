Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2A587B1BE9
	for <lists+xen-devel@lfdr.de>; Fri, 13 Sep 2019 13:02:34 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8jHj-0001JT-A1; Fri, 13 Sep 2019 10:58:39 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Qndu=XI=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1i8jHi-0001JA-1u
 for xen-devel@lists.xenproject.org; Fri, 13 Sep 2019 10:58:38 +0000
X-Inumbo-ID: 6c7c91ae-d615-11e9-b299-bc764e2007e4
Received: from esa4.hc3370-68.iphmx.com (unknown [216.71.155.144])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 6c7c91ae-d615-11e9-b299-bc764e2007e4;
 Fri, 13 Sep 2019 10:58:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568372311;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=cl00ik8yiAYNYnrj2yVYh9BTDdQ3uS1Ek2zM4X3BcJE=;
 b=NxRK2Kp0FDLE8VbhSHL5v+SGhrYsUx8D09fWm3im+pYm4SVkmRwNvtab
 D0dz9Ef/9rWSBnuozzMdoOrAqpqjqZzyPqP31Y4r8Y0O83BWdfdKhMI/X
 IueAcM+QFr8jRalPBj/YtBOZugpViDXODYSKz+KXkEi4JMFlY2zAFtb4H k=;
Authentication-Results: esa4.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa4.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa4.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa4.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa4.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa4.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa4.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: 4jFtYE8BtYd+PjlZ2N0mjObysKKaPeg0kOQgjNQRJkGqhzoj6GgnrZE/OhjsC0itpIDB4tFddz
 RQZ7Gr+ZwhFf4t9scsJgQ8xM7r97odAhWKxJPyjYRUPLmMyXUc0oQV75TJJWApD1+0rV3Weet7
 nzFscMyKlqfjj5SoB9zV0jWqh9W+e/tSW0gemk00p4xevbie5ZonSy8+T0WBOaNqlCsyIMYgDx
 0rKJSGbV2D5af1xaRH/NWVaSXZU6PdH3y7wkZGtrIfS1AvmebMIfmLYk9yxVFsnEkKAdzzaM8A
 Mh0=
X-SBRS: 2.7
X-MesageID: 5825612
X-Ironport-Server: esa4.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,500,1559534400"; 
   d="scan'208";a="5825612"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Fri, 13 Sep 2019 11:58:26 +0100
Message-ID: <20190913105826.2704-7-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190913105826.2704-1-paul.durrant@citrix.com>
References: <20190913105826.2704-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v11 6/6] introduce a 'passthrough' configuration
 option to xl.cfg...
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim
 Deegan <tim@xen.org>, Julien Grall <julien.grall@arm.com>,
 Paul Durrant <paul.durrant@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>,
 Anthony PERARD <anthony.perard@citrix.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Li4uYW5kIGhlbmNlIHRoZSBhYmlsaXR5IHRvIGRpc2FibGUgSU9NTVUgbWFwcGluZ3MsIGFuZCBj
b250cm9sIEVQVApzaGFyaW5nLgoKVGhpcyBwYXRjaCBpbnRyb2R1Y2VzIGEgbmV3ICdsaWJ4bF9w
YXNzdGhyb3VnaCcgZW51bWVyYXRpb24gaW50bwpsaWJ4bF9kb21haW5fY3JlYXRlX2luZm8uIFRo
ZSB2YWx1ZSB3aWxsIGJlIHNldCBieSB4bCBlaXRoZXIgd2hlbiBpdCBwYXJzZXMKYSBuZXcgJ3Bh
c3N0aHJvdWdoJyBvcHRpb24gaW4geGwuY2ZnLCBvciBpbXBsaWNpdGx5IGlmIHRoZXJlIGlzIHBh
c3N0aHJvdWdoCmhhcmR3YXJlIHNwZWNpZmllZCBmb3IgdGhlIGRvbWFpbi4KCklmIHRoZSB2YWx1
ZSBvZiB0aGUgcGFzc3Rocm91Z2ggY29uZmlndXJhdGlvbiBvcHRpb24gaXMgJ2Rpc2FibGVkJyB0
aGVuCnRoZSBYRU5fRE9NQ1RMX0NERl9pb21tdSBmbGFnIHdpbGwgYmUgY2xlYXIgaW4gdGhlIHhl
bl9kb21jdGxfY3JlYXRlZG9tYWluCmZsYWdzLCB0aHVzIGFsbG93aW5nIHRoZSB0b29sc3RhY2sg
dG8gY29udHJvbCB3aGV0aGVyIHRoZSBkb21haW4gZ2V0cwpJT01NVSBtYXBwaW5ncyBvciBub3Qg
KHdoZXJlIHByZXZpb3VzbHkgdGhleSB3ZXJlIGdsb2JhbGx5IHNldCkuCgpJZiB0aGUgdmFsdWUg
b2YgdGhlIHBhc3N0aHJvdWdoIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGlzICdzeW5jX3B0JyB0aGVu
CmEgbmV3ICdpb21tdV9vcHRzJyBmaWVsZCBpbiB4ZW5fZG9tY3RsX2NyZWF0ZWRvbWFpbiB3aWxs
IGJlIHNldCB3aXRoIHRoZQp2YWx1ZSBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQuIFRoaXMg
d2lsbCBvdmVycmlkZSB0aGUgZ2xvYmFsIGRlZmF1bHQKc2V0IGluIGlvbW11X2hhcF9wdF9zaGFy
ZSwgdGh1cyBhbGxvd2luZyB0aGUgdG9vbHN0YWNrIHRvIGNvbnRyb2wgd2hldGhlcgpFUFQgc2hh
cmluZyBpcyB1c2VkIGZvciB0aGUgZG9tYWluLgoKSWYgdGhlIHZhbHVlIG9mIHBhc3N0aHJvdWdo
IGlzICdlbmFibGVkJyB0aGVuIHhsIHdpbGwgY2hvb3NlIGFuIGFwcHJvcHJpYXRlCmRlZmF1bHQg
YWNjb3JkaW5nIHRvIHRoZSB0eXBlIG9mIGRvbWFpbiBhbmQgaGFyZHdhcmUgc3VwcG9ydC4KCk5P
VEU6IFRoZSAnaW9tbXVfbWVta2InIG92ZXJoZWFkIGluIGxpYnhsX2RvbWFpbl9idWlsZF9pbmZv
IHdpbGwgbm93IG9ubHkKICAgICAgYmUgc2V0IGlmIHBhc3N0aHJvdWdoIGlzICdzeW5jX3B0JyAo
b3IgeGwgaGFzIGNob3NlbiB0aGlzIG1vZGUgYXMKICAgICAgYSBkZWZhdWx0KS4KClNpZ25lZC1v
ZmYtYnk6IFBhdWwgRHVycmFudCA8cGF1bC5kdXJyYW50QGNpdHJpeC5jb20+ClJldmlld2VkLWJ5
OiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+CkFja2VkLWJ5OiBDaHJpc3RpYW4gTGlu
ZGlnIDxjaHJpc3RpYW4ubGluZGlnQGNpdHJpeC5jb20+Ci0tLQpDYzogSWFuIEphY2tzb24gPGlh
bi5qYWNrc29uQGV1LmNpdHJpeC5jb20+CkNjOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgpDYzogQW5k
cmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KQ2M6IEdlb3JnZSBEdW5sYXAg
PEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4KQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdy
YWxsQGFybS5jb20+CkNjOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNs
ZS5jb20+CkNjOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+CkNj
OiBUaW0gRGVlZ2FuIDx0aW1AeGVuLm9yZz4KQ2M6IEFudGhvbnkgUEVSQVJEIDxhbnRob255LnBl
cmFyZEBjaXRyaXguY29tPgpDYzogRGF2aWQgU2NvdHQgPGRhdmVAcmVjb2lsLm9yZz4KQ2M6IFZv
bG9keW15ciBCYWJjaHVrIDxWb2xvZHlteXJfQmFiY2h1a0BlcGFtLmNvbT4KQ2M6ICJSb2dlciBQ
YXUgTW9ubsOpIiA8cm9nZXIucGF1QGNpdHJpeC5jb20+CgpQcmV2aW91c2x5IHBhcnQgb2Ygc2Vy
aWVzIGh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvYXJjaGl2ZXMvaHRtbC94ZW4tZGV2ZWwv
MjAxOS0wNy9tc2cwMjI2Ny5odG1sCgp2MTE6CiAtIEZpeGVkIGFiaS1jaGVjayBydW5lcwoKdjEw
OgogLSBBZGRlZCBhYmktY2hlY2sgcnVuZXMKCnY5OgogLSBBZGRlZCB0aGUgcGFzc3Rocm91Z2g9
J2VuYWJsZWQnIG9wdGlvbiB0byB4bAogLSBPbmUgY29zbWV0aWMgY2hhbmdlIGluIHhlbgogLSBB
c3N1bWUgSmFuJ3MgUi1iIHN0YW5kcyBzaW5jZSBub24tY29zbWV0aWMgY2hhbmdlcyBhcmUgb25s
eSBpbiB0aGUKICAgdG9vbHN0YWNrCgp2NzoKIC0gQWRkZWQgbWlzc2luZyBicmVha3MKIC0gQWRk
ZWQgbWlzc2luZyBvY2FtbCBiaW5kaW5nIGNoYW5nZXMKCnY2OgogLSBSZW1vdmUgdGhlIGxpYnhs
X3BoeXNpbmZvKCkgY2FsbCBzaW5jZSBpdCdzIHVzZWZ1bG5lc3MgaXMgbGltaXRlZCB0byB4ODYK
CnY1OgogLSBFeHBhbmQgeGVuX2RvbWN0bF9jcmVhdGVkb21haW4gZmxhZ3MgZmllbGQgYW5kIGhl
bmNlIGJ1bXAgaW50ZXJmYWNlCiAgIHZlcnNpb24KIC0gRml4IHNwZWxsaW5nIG1pc3Rha2VzIGlu
IGNvbnRleHQgbGluZQotLS0KIGRvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiAgICAgICAgICAgIHwg
IDU2ICsrKysrKysrKysKIHRvb2xzL2xpYnhsL2xpYnhsLmggICAgICAgICAgICAgICAgIHwgICA5
ICsrCiB0b29scy9saWJ4bC9saWJ4bF9jcmVhdGUuYyAgICAgICAgICB8ICAgOSArKwogdG9vbHMv
bGlieGwvbGlieGxfdHlwZXMuaWRsICAgICAgICAgfCAgIDcgKysKIHRvb2xzL29jYW1sL2xpYnMv
eGMveGVuY3RybC5tbCAgICAgIHwgICA0ICsKIHRvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5t
bGkgICAgIHwgICA1ICsKIHRvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybF9zdHVicy5jIHwgIDE3
ICsrLQogdG9vbHMveGwveGxfcGFyc2UuYyAgICAgICAgICAgICAgICAgfCAxNTggKysrKysrKysr
KysrKysrKysrLS0tLS0tLS0tLQogeGVuL2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAgICAg
fCAgMTAgKy0KIHhlbi9hcmNoL3g4Ni9kb21haW4uYyAgICAgICAgICAgICAgIHwgICAyICstCiB4
ZW4vY29tbW9uL2RvbWFpbi5jICAgICAgICAgICAgICAgICB8ICAgNyArKwogeGVuL2NvbW1vbi9k
b21jdGwuYyAgICAgICAgICAgICAgICAgfCAgMTMgLS0tCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3Vn
aC9pb21tdS5jICAgICB8ICAxMyArKy0KIHhlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaCAgICAg
ICAgIHwgIDEwICstCiB4ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaCAgICAgICAgICAgICB8ICAxNSAr
LS0KIDE1IGZpbGVzIGNoYW5nZWQsIDI1NCBpbnNlcnRpb25zKCspLCA4MSBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4gYi9kb2NzL21hbi94bC5jZmcu
NS5wb2QuaW4KaW5kZXggYzk5ZDQwMzA3ZS4uMTU0ZDg0N2ZiOSAxMDA2NDQKLS0tIGEvZG9jcy9t
YW4veGwuY2ZnLjUucG9kLmluCisrKyBiL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbgpAQCAtNjA1
LDYgKzYwNSw2MiBAQCBvcHRpb24gc2hvdWxkIG9ubHkgYmUgdXNlZCB3aXRoIGEgdHJ1c3RlZCBk
ZXZpY2UgdHJlZS4KIE5vdGUgdGhhdCB0aGUgcGFydGlhbCBkZXZpY2UgdHJlZSBzaG91bGQgYXZv
aWQgdXNpbmcgdGhlIHBoYW5kbGUgNjUwMDAKIHdoaWNoIGlzIHJlc2VydmVkIGJ5IHRoZSB0b29s
c3RhY2suCiAKKz1pdGVtIEI8cGFzc3Rocm91Z2g9IlNUUklORyI+CisKK1NwZWNpZnkgd2hldGhl
ciBJT01NVSBtYXBwaW5ncyBhcmUgZW5hYmxlZCBmb3IgdGhlIGRvbWFpbiBhbmQgaGVuY2Ugd2hl
dGhlcgoraXQgd2lsbCBiZSBlbmFibGVkIGZvciBwYXNzdGhyb3VnaCBoYXJkd2FyZS4gVmFsaWQg
dmFsdWVzIGZvciB0aGlzIG9wdGlvbgorYXJlOgorCis9b3ZlciA0CisKKz1pdGVtIEI8ZGlzYWJs
ZWQ+CisKK0lPTU1VIG1hcHBpbmdzIGFyZSBkaXNhYmxlZCBmb3IgdGhlIGRvbWFpbiBhbmQgc28g
aGFyZHdhcmUgbWF5IG5vdCBiZQorcGFzc2VkIHRocm91Z2guCisKK1RoaXMgb3B0aW9uIGlzIHRo
ZSBkZWZhdWx0IGlmIG5vIHBhc3N0aHJvdWdoIGhhcmR3YXJlIGlzIHNwZWNpZmllZCBpbiB0aGUK
K2RvbWFpbidzIGNvbmZpZ3VyYXRpb24uCisKKz1pdGVtIEI8c3luY19wdD4KKworVGhpcyBvcHRp
b24gbWVhbnMgdGhhdCBJT01NVSBtYXBwaW5ncyB3aWxsIGJlIHN5bmNocm9uaXplZCB3aXRoIHRo
ZQorZG9tYWluJ3MgUDJNIHRhYmxlIGFzIGZvbGxvd3M6CisKK0ZvciBhIFBWIGRvbWFpbiwgYWxs
IHdyaXRhYmxlIHBhZ2VzIGFzc2lnbmVkIHRvIHRoZSBkb21haW4gYXJlIGlkZW50aXR5CittYXBw
ZWQgYnkgTUZOIGluIHRoZSBJT01NVSBwYWdlIHRhYmxlLiBUaHVzIGEgZGV2aWNlIGRyaXZlciBy
dW5uaW5nIGluIHRoZQorZG9tYWluIG1heSBwcm9ncmFtIHBhc3N0aHJvdWdoIGhhcmR3YXJlIGZv
ciBETUEgdXNpbmcgTUZOIHZhbHVlcworKGkuZS4gaG9zdC9tYWNoaW5lIGZyYW1lIG51bWJlcnMp
IGxvb2tlZCB1cCBpbiBpdHMgUDJNLgorCitGb3IgYW4gSFZNIGRvbWFpbiwgYWxsIG5vbi1mb3Jl
aWduIFJBTSBwYWdlcyBwcmVzZW50IGluIGl0cyBQMk0gd2lsbCBiZQorbWFwcGVkIGJ5IEdGTiBp
biB0aGUgSU9NTVUgcGFnZSB0YWJsZS4gVGh1cyBhIGRldmljZSBkcml2ZXIgcnVubmluZyBpbiB0
aGUKK2RvbWFpbiBtYXkgcHJvZ3JhbSBwYXNzdGhyb3VnaCBoYXJkd2FyZSB1c2luZyBHRk4gdmFs
dWVzIChpLmUuIGd1ZXN0CitwaHlzaWNhbCBmcmFtZSBudW1iZXJzKSB3aXRob3V0IGFueSBmdXJ0
aGVyIHRyYW5zbGF0aW9uLgorCitUaGlzIG9wdGlvbiBpcyBub3QgY3VycmVudGx5IGF2YWlsYWJs
ZSBvbiBBcm0uCisKKz1pdGVtIEI8c2hhcmVfcHQ+CisKK1RoaXMgb3B0aW9uIGlzIHVuYXZhaWxh
YmxlIGZvciBhIFBWIGRvbWFpbi4gRm9yIGFuIEhWTSBkb21haW4sIHRoaXMgb3B0aW9uCittZWFu
cyB0aGF0IHRoZSBJT01NVSB3aWxsIGJlIHByb2dyYW1tZWQgdG8gZGlyZWN0bHkgcmVmZXJlbmNl
IHRoZSBkb21haW4ncworUDJNIHRhYmxlIGFzIGl0cyBwYWdlIHRhYmxlLiBGcm9tIHRoZSBwb2lu
dCBvZiB2aWV3IG9mIGEgZGV2aWNlIGRyaXZlcgorcnVubmluZyBpbiB0aGUgZG9tYWluIHRoaXMg
aXMgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQjxzeW5jX3B0PiBidXQKK3BsYWNlcyBsZXNz
IGxvYWQgb24gdGhlIGh5cGVydmlzb3IgYW5kIHNvIHNob3VsZCBnZW5lcmFsbHkgYmUgc2VsZWN0
ZWQgaW4KK3ByZWZlcmVuY2UuIEhvd2V2ZXIsIHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhpcyBvcHRp
b24gaXMgaGFyZHdhcmUgc3BlY2lmaWMuCitJZiBCPHhsIGluZm8+IHJlcG9ydHMgQjx2aXJ0X2Nh
cHM+IGNvbnRhaW5pbmcgQjxpb21tdV9oYXBfcHRfc2hhcmU+IHRoZW4KK3RoaXMgb3B0aW9uIG1h
eSBiZSB1c2VkLgorCis9aXRlbSBCPGVuYWJsZWQ+CisKK1RoaXMgb3B0aW9uIGVuYWJsZXMgSU9N
TVUgbWFwcGluZ3MgYW5kIHNlbGVjdHMgYW4gYXBwcm9wcmlhdGUgZGVmYXVsdAorb3BlcmF0aW5n
IG1vZGUuIEZvciBIVk0gZG9tYWlucyBydW5uaW5nIG9uIHBsYXRmb3JtcyB3aGVyZSB0aGUgb3B0
aW9uIGlzCithdmFpbGFibGUsIHRoaXMgaXMgZXF1aXZhbGVudCB0byBCPHNoYXJlX3B0Pi4gT3Ro
ZXJ3aXNlLCBhbmQgYWxzbyBmb3IgUFYKK2RvbWFpbnMsIHRoaXMgb3B0aW9ucyBpcyBlcXVpdmFs
ZW50IHRvIEI8c3luY19wdD4uCisKK1RoaXMgb3B0aW9uIGlzIHRoZSBkZWZhdWx0IGlmIHBhc3N0
aHJvdWdoIGhhcmR3YXJlIGlzIHNwZWNpZmllZCBpbiB0aGUKK2RvbWFpbidzIGNvbmZpZ3VyYXRp
b24uCisKKz1iYWNrCisKID1iYWNrCiAKID1oZWFkMiBEZXZpY2VzCmRpZmYgLS1naXQgYS90b29s
cy9saWJ4bC9saWJ4bC5oIGIvdG9vbHMvbGlieGwvbGlieGwuaAppbmRleCAxMjU0NTEzMGRmLi5l
NGI5YzUzOWI2IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bC5oCisrKyBiL3Rvb2xzL2xp
YnhsL2xpYnhsLmgKQEAgLTQxNSw2ICs0MTUsMTUgQEAKICAqLwogI2RlZmluZSBMSUJYTF9IQVZF
X0JVSUxESU5GT19JT01NVV9NRU1LQiAxCiAKKy8qCisgKiBMSUJYTF9IQVZFX0NSRUFURUlORk9f
UEFTU1RIUk9VR0ggaW5kaWNhdGVzIHRoYXQKKyAqIGxpYnhsX2RvbWFpbl9jcmVhdGVfaW5mbyBo
YXMgYSBwYXNzdGhyb3VnaCBmaWVsZCAod2hpY2ggaXMgYQorICogbGlieGxfcGFzc3Rocm91Z2gg
ZW51bWVyYXRpb24pIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgZGV2aWNlIHBhc3MtCisgKiB0aHJv
dWdoIGlzIGVuYWJsZWQgZm9yIHRoZSBkb21haW4gYW5kLCBpZiBzbywgd2hldGhlciB0aGUgSU9N
TVUgYW5kCisgKiBIQVAgcGFnZSB0YWJsZXMgbWF5IGJlIHNoYXJlZCBvciBub3QuCisgKi8KKyNk
ZWZpbmUgTElCWExfSEFWRV9DUkVBVEVJTkZPX1BBU1NUSFJPVUdIIDEKKwogLyoKICAqIGxpYnhs
IEFCSSBjb21wYXRpYmlsaXR5CiAgKgpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfY3Jl
YXRlLmMgYi90b29scy9saWJ4bC9saWJ4bF9jcmVhdGUuYwppbmRleCA1OWRiY2I1MGEwLi42Yjc3
MDJkYjE3IDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bF9jcmVhdGUuYworKysgYi90b29s
cy9saWJ4bC9saWJ4bF9jcmVhdGUuYwpAQCAtNTc4LDYgKzU3OCwxNSBAQCBpbnQgbGlieGxfX2Rv
bWFpbl9tYWtlKGxpYnhsX19nYyAqZ2MsIGxpYnhsX2RvbWFpbl9jb25maWcgKmRfY29uZmlnLAog
ICAgICAgICAgICAgICAgIGxpYnhsX2RlZmJvb2xfdmFsKGluZm8tPm9vcykgPyAwIDogWEVOX0RP
TUNUTF9DREZfb29zX29mZjsKICAgICAgICAgfQogCisgICAgICAgIExPRyhERVRBSUwsICJwYXNz
dGhyb3VnaDogJXMiLAorICAgICAgICAgICAgbGlieGxfcGFzc3Rocm91Z2hfdG9fc3RyaW5nKGlu
Zm8tPnBhc3N0aHJvdWdoKSk7CisKKyAgICAgICAgaWYgKGluZm8tPnBhc3N0aHJvdWdoICE9IExJ
QlhMX1BBU1NUSFJPVUdIX0RJU0FCTEVEKQorICAgICAgICAgICAgY3JlYXRlLmZsYWdzIHw9IFhF
Tl9ET01DVExfQ0RGX2lvbW11OworCisgICAgICAgIGlmIChpbmZvLT5wYXNzdGhyb3VnaCA9PSBM
SUJYTF9QQVNTVEhST1VHSF9TWU5DX1BUKQorICAgICAgICAgICAgY3JlYXRlLmlvbW11X29wdHMg
fD0gWEVOX0RPTUNUTF9JT01NVV9ub19zaGFyZXB0OworCiAgICAgICAgIC8qIFVsdGltYXRlbHks
IGhhbmRsZSBpcyBhbiBhcnJheSBvZiAxNiB1aW50OF90LCBzYW1lIGFzIHV1aWQgKi8KICAgICAg
ICAgbGlieGxfdXVpZF9jb3B5KGN0eCwgKGxpYnhsX3V1aWQgKikmY3JlYXRlLmhhbmRsZSwgJmlu
Zm8tPnV1aWQpOwogCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwgYi90
b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwKaW5kZXggZDUyYzYzYjZiMC4uMjJmMDU3MTFlMyAx
MDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRsCisrKyBiL3Rvb2xzL2xpYnhs
L2xpYnhsX3R5cGVzLmlkbApAQCAtMjYzLDYgKzI2MywxMiBAQCBsaWJ4bF92a2JfYmFja2VuZCA9
IEVudW1lcmF0aW9uKCJ2a2JfYmFja2VuZCIsIFsKICAgICAoMiwgIkxJTlVYIikKICAgICBdKQog
CitsaWJ4bF9wYXNzdGhyb3VnaCA9IEVudW1lcmF0aW9uKCJwYXNzdGhyb3VnaCIsIFsKKyAgICAo
MCwgImRpc2FibGVkIiksCisgICAgKDEsICJzeW5jX3B0IiksCisgICAgKDIsICJzaGFyZV9wdCIp
LAorICAgIF0pCisKICMKICMgQ29tcGxleCBsaWJ4bCB0eXBlcwogIwpAQCAtNDA4LDYgKzQxNCw3
IEBAIGxpYnhsX2RvbWFpbl9jcmVhdGVfaW5mbyA9IFN0cnVjdCgiZG9tYWluX2NyZWF0ZV9pbmZv
IixbCiAgICAgKCJwb29sX25hbWUiLCAgICBzdHJpbmcpLAogICAgICgicnVuX2hvdHBsdWdfc2Ny
aXB0cyIsbGlieGxfZGVmYm9vbCksCiAgICAgKCJkcml2ZXJfZG9tYWluIixsaWJ4bF9kZWZib29s
KSwKKyAgICAoInBhc3N0aHJvdWdoIiwgIGxpYnhsX3Bhc3N0aHJvdWdoKSwKICAgICBdLCBkaXI9
RElSX0lOKQogCiBsaWJ4bF9kb21haW5fcmVzdG9yZV9wYXJhbXMgPSBTdHJ1Y3QoImRvbWFpbl9y
ZXN0b3JlX3BhcmFtcyIsIFsKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3Ry
bC5tbCBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbAppbmRleCBkZTRiYWU2MDEyLi5l
MDBhNzRkNDhkIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwKKysr
IGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sCkBAIC02NSwxMSArNjUsMTUgQEAgdHlw
ZSBkb21haW5fY3JlYXRlX2ZsYWcgPQogCXwgQ0RGX1hTX0RPTUFJTgogCXwgQ0RGX0lPTU1VCiAK
K3R5cGUgZG9tYWluX2NyZWF0ZV9pb21tdV9vcHRzID0KKwl8IElPTU1VX05PX1NIQVJFUFQKKwog
dHlwZSBkb21jdGxfY3JlYXRlX2NvbmZpZyA9CiB7CiAJc3NpZHJlZjogaW50MzI7CiAJaGFuZGxl
OiBzdHJpbmc7CiAJZmxhZ3M6IGRvbWFpbl9jcmVhdGVfZmxhZyBsaXN0OworCWlvbW11X29wdHM6
IGRvbWFpbl9jcmVhdGVfaW9tbXVfb3B0cyBsaXN0OwogCW1heF92Y3B1czogaW50OwogCW1heF9l
dnRjaG5fcG9ydDogaW50OwogCW1heF9ncmFudF9mcmFtZXM6IGludDsKZGlmZiAtLWdpdCBhL3Rv
b2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0
cmwubWxpCmluZGV4IGM4ODVlNzU4OTUuLjBlNzA0OWQ3MDggMTAwNjQ0Ci0tLSBhL3Rvb2xzL29j
YW1sL2xpYnMveGMveGVuY3RybC5tbGkKKysrIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJs
Lm1saQpAQCAtNTcsMTAgKzU3LDE1IEBAIHR5cGUgZG9tYWluX2NyZWF0ZV9mbGFnID0KICAgfCBD
REZfT09TX09GRgogICB8IENERl9YU19ET01BSU4KICAgfCBDREZfSU9NTVUKKwordHlwZSBkb21h
aW5fY3JlYXRlX2lvbW11X29wdHMgPQorICB8IElPTU1VX05PX1NIQVJFUFQKKwogdHlwZSBkb21j
dGxfY3JlYXRlX2NvbmZpZyA9IHsKICAgc3NpZHJlZjogaW50MzI7CiAgIGhhbmRsZTogc3RyaW5n
OwogICBmbGFnczogZG9tYWluX2NyZWF0ZV9mbGFnIGxpc3Q7CisgIGlvbW11X29wdHM6IGRvbWFp
bl9jcmVhdGVfaW9tbXVfb3B0cyBsaXN0OwogICBtYXhfdmNwdXM6IGludDsKICAgbWF4X2V2dGNo
bl9wb3J0OiBpbnQ7CiAgIG1heF9ncmFudF9mcmFtZXM6IGludDsKZGlmZiAtLWdpdCBhL3Rvb2xz
L29jYW1sL2xpYnMveGMveGVuY3RybF9zdHVicy5jIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5j
dHJsX3N0dWJzLmMKaW5kZXggMGNkZDg3MzU5OS4uNDhmMzlmODFkNSAxMDA2NDQKLS0tIGEvdG9v
bHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsX3N0dWJzLmMKKysrIGIvdG9vbHMvb2NhbWwvbGlicy94
Yy94ZW5jdHJsX3N0dWJzLmMKQEAgLTE5MCwxMSArMTkwLDEyIEBAIENBTUxwcmltIHZhbHVlIHN0
dWJfeGNfZG9tYWluX2NyZWF0ZSh2YWx1ZSB4Y2gsIHZhbHVlIGNvbmZpZykKICNkZWZpbmUgVkFM
X1NTSURSRUYgICAgICAgICAgICAgRmllbGQoY29uZmlnLCAwKQogI2RlZmluZSBWQUxfSEFORExF
ICAgICAgICAgICAgICBGaWVsZChjb25maWcsIDEpCiAjZGVmaW5lIFZBTF9GTEFHUyAgICAgICAg
ICAgICAgIEZpZWxkKGNvbmZpZywgMikKLSNkZWZpbmUgVkFMX01BWF9WQ1BVUyAgICAgICAgICAg
RmllbGQoY29uZmlnLCAzKQotI2RlZmluZSBWQUxfTUFYX0VWVENITl9QT1JUICAgICBGaWVsZChj
b25maWcsIDQpCi0jZGVmaW5lIFZBTF9NQVhfR1JBTlRfRlJBTUVTICAgIEZpZWxkKGNvbmZpZywg
NSkKLSNkZWZpbmUgVkFMX01BWF9NQVBUUkFDS19GUkFNRVMgRmllbGQoY29uZmlnLCA2KQotI2Rl
ZmluZSBWQUxfQVJDSCAgICAgICAgICAgICAgICBGaWVsZChjb25maWcsIDcpCisjZGVmaW5lIFZB
TF9JT01NVV9PUFRTICAgICAgICAgIEZpZWxkKGNvbmZpZywgMykKKyNkZWZpbmUgVkFMX01BWF9W
Q1BVUyAgICAgICAgICAgRmllbGQoY29uZmlnLCA0KQorI2RlZmluZSBWQUxfTUFYX0VWVENITl9Q
T1JUICAgICBGaWVsZChjb25maWcsIDUpCisjZGVmaW5lIFZBTF9NQVhfR1JBTlRfRlJBTUVTICAg
IEZpZWxkKGNvbmZpZywgNikKKyNkZWZpbmUgVkFMX01BWF9NQVBUUkFDS19GUkFNRVMgRmllbGQo
Y29uZmlnLCA3KQorI2RlZmluZSBWQUxfQVJDSCAgICAgICAgICAgICAgICBGaWVsZChjb25maWcs
IDgpCiAKIAl1aW50MzJfdCBkb21pZCA9IDA7CiAJaW50IHJlc3VsdDsKQEAgLTIxMyw2ICsyMTQs
MTEgQEAgQ0FNTHByaW0gdmFsdWUgc3R1Yl94Y19kb21haW5fY3JlYXRlKHZhbHVlIHhjaCwgdmFs
dWUgY29uZmlnKQogCQkvKiAhIFhFTl9ET01DVExfQ0RGXyBYRU5fRE9NQ1RMX0NERl9NQVggbWF4
ICovCiAJCShWQUxfRkxBR1MpOwogCisJY2ZnLmlvbW11X29wdHMgPSBvY2FtbF9saXN0X3RvX2Nf
Yml0bWFwCisJCS8qICEgZG9tYWluX2NyZWF0ZV9pb21tdV9vcHRzIElPTU1VXyBsYyAqLworCQkv
KiAhIFhFTl9ET01DVExfSU9NTVVfIFhFTl9ET01DVExfSU9NTVVfTUFYIG1heCAqLworCQkoVkFM
X0lPTU1VX09QVFMpOworCiAJYXJjaF9kb21jb25maWcgPSBGaWVsZChWQUxfQVJDSCwgMCk7CiAJ
c3dpdGNoICggVGFnX3ZhbChWQUxfQVJDSCkgKQogCXsKQEAgLTI0Nyw2ICsyNTMsNyBAQCBDQU1M
cHJpbSB2YWx1ZSBzdHViX3hjX2RvbWFpbl9jcmVhdGUodmFsdWUgeGNoLCB2YWx1ZSBjb25maWcp
CiAjdW5kZWYgVkFMX01BWF9HUkFOVF9GUkFNRVMKICN1bmRlZiBWQUxfTUFYX0VWVENITl9QT1JU
CiAjdW5kZWYgVkFMX01BWF9WQ1BVUworI3VuZGVmIFZBTF9JT01NVV9PUFRTCiAjdW5kZWYgVkFM
X0ZMQUdTCiAjdW5kZWYgVkFMX0hBTkRMRQogI3VuZGVmIFZBTF9TU0lEUkVGCmRpZmYgLS1naXQg
YS90b29scy94bC94bF9wYXJzZS5jIGIvdG9vbHMveGwveGxfcGFyc2UuYwppbmRleCAyOTNmNWY3
MzBlLi40YjJiYWEwNDAzIDEwMDY0NAotLS0gYS90b29scy94bC94bF9wYXJzZS5jCisrKyBiL3Rv
b2xzL3hsL3hsX3BhcnNlLmMKQEAgLTE0NjEsNiArMTQ2MSwxMDcgQEAgdm9pZCBwYXJzZV9jb25m
aWdfZGF0YShjb25zdCBjaGFyICpjb25maWdfc291cmNlLAogICAgICAgICBleGl0KDEpOwogICAg
IH0KIAorICAgIGlmICgheGx1X2NmZ19nZXRfbGlzdCAoY29uZmlnLCAicGNpIiwgJnBjaXMsIDAs
IDApKSB7CisgICAgICAgIGRfY29uZmlnLT5udW1fcGNpZGV2cyA9IDA7CisgICAgICAgIGRfY29u
ZmlnLT5wY2lkZXZzID0gTlVMTDsKKyAgICAgICAgZm9yKGkgPSAwOyAoYnVmID0geGx1X2NmZ19n
ZXRfbGlzdGl0ZW0gKHBjaXMsIGkpKSAhPSBOVUxMOyBpKyspIHsKKyAgICAgICAgICAgIGxpYnhs
X2RldmljZV9wY2kgKnBjaWRldjsKKworICAgICAgICAgICAgcGNpZGV2ID0gQVJSQVlfRVhURU5E
X0lOSVRfTk9ERVZJRChkX2NvbmZpZy0+cGNpZGV2cywKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZF9jb25maWctPm51bV9wY2lkZXZzLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWJ4bF9kZXZpY2VfcGNpX2lu
aXQpOworICAgICAgICAgICAgcGNpZGV2LT5tc2l0cmFuc2xhdGUgPSBwY2lfbXNpdHJhbnNsYXRl
OworICAgICAgICAgICAgcGNpZGV2LT5wb3dlcl9tZ210ID0gcGNpX3Bvd2VyX21nbXQ7CisgICAg
ICAgICAgICBwY2lkZXYtPnBlcm1pc3NpdmUgPSBwY2lfcGVybWlzc2l2ZTsKKyAgICAgICAgICAg
IHBjaWRldi0+c2VpemUgPSBwY2lfc2VpemU7CisgICAgICAgICAgICAvKgorICAgICAgICAgICAg
ICogTGlrZSBvdGhlciBwY2kgb3B0aW9uLCB0aGUgcGVyLWRldmljZSBwb2xpY3kgYWx3YXlzIGZv
bGxvd3MKKyAgICAgICAgICAgICAqIHRoZSBnbG9iYWwgcG9saWN5IGJ5IGRlZmF1bHQuCisgICAg
ICAgICAgICAgKi8KKyAgICAgICAgICAgIHBjaWRldi0+cmRtX3BvbGljeSA9IGJfaW5mby0+dS5o
dm0ucmRtLnBvbGljeTsKKyAgICAgICAgICAgIGUgPSB4bHVfcGNpX3BhcnNlX2JkZihjb25maWcs
IHBjaWRldiwgYnVmKTsKKyAgICAgICAgICAgIGlmIChlKSB7CisgICAgICAgICAgICAgICAgZnBy
aW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICAgICAidW5hYmxlIHRvIHBhcnNlIFBD
SSBCREYgYCVzJyBmb3IgcGFzc3Rocm91Z2hcbiIsCisgICAgICAgICAgICAgICAgICAgICAgICBi
dWYpOworICAgICAgICAgICAgICAgIGV4aXQoLWUpOworICAgICAgICAgICAgfQorICAgICAgICB9
CisgICAgICAgIGlmIChkX2NvbmZpZy0+bnVtX3BjaWRldnMgJiYgY19pbmZvLT50eXBlID09IExJ
QlhMX0RPTUFJTl9UWVBFX1BWKQorICAgICAgICAgICAgbGlieGxfZGVmYm9vbF9zZXQoJmJfaW5m
by0+dS5wdi5lODIwX2hvc3QsIHRydWUpOworICAgIH0KKworICAgIGlmICgheGx1X2NmZ19nZXRf
bGlzdCAoY29uZmlnLCAiZHRkZXYiLCAmZHRkZXZzLCAwLCAwKSkgeworICAgICAgICBkX2NvbmZp
Zy0+bnVtX2R0ZGV2cyA9IDA7CisgICAgICAgIGRfY29uZmlnLT5kdGRldnMgPSBOVUxMOworICAg
ICAgICBmb3IgKGkgPSAwOyAoYnVmID0geGx1X2NmZ19nZXRfbGlzdGl0ZW0oZHRkZXZzLCBpKSkg
IT0gTlVMTDsgaSsrKSB7CisgICAgICAgICAgICBsaWJ4bF9kZXZpY2VfZHRkZXYgKmR0ZGV2Owor
CisgICAgICAgICAgICBkdGRldiA9IEFSUkFZX0VYVEVORF9JTklUX05PREVWSUQoZF9jb25maWct
PmR0ZGV2cywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
X2NvbmZpZy0+bnVtX2R0ZGV2cywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBsaWJ4bF9kZXZpY2VfZHRkZXZfaW5pdCk7CisKKyAgICAgICAgICAgIGR0ZGV2
LT5wYXRoID0gc3RyZHVwKGJ1Zik7CisgICAgICAgICAgICBpZiAoZHRkZXYtPnBhdGggPT0gTlVM
TCkgeworICAgICAgICAgICAgICAgIGZwcmludGYoc3RkZXJyLCAidW5hYmxlIHRvIGR1cGxpY2F0
ZSBzdHJpbmcgZm9yIGR0ZGV2c1xuIik7CisgICAgICAgICAgICAgICAgZXhpdCgtMSk7CisgICAg
ICAgICAgICB9CisgICAgICAgIH0KKyAgICB9CisKKyAgICBpZiAoeGx1X2NmZ19nZXRfc3RyaW5n
KGNvbmZpZywgInBhc3N0aHJvdWdoIiwgJmJ1ZiwgMCkpIHsKKyAgICAgICAgYnVmID0gKGRfY29u
ZmlnLT5udW1fcGNpZGV2cyB8fCBkX2NvbmZpZy0+bnVtX2R0ZGV2cykKKyAgICAgICAgICAgID8g
ImVuYWJsZWQiIDogImRpc2FibGVkIjsKKyAgICB9CisKKyAgICBpZiAoIXN0cm5jbXAoYnVmLCAi
ZW5hYmxlZCIsIHN0cmxlbihidWYpKSkgeworICAgICAgICAvKiBDaG9vc2UgYSBzdWl0YWJsZSBk
ZWZhdWx0ICovCisgICAgICAgIGNfaW5mby0+cGFzc3Rocm91Z2ggPQorICAgICAgICAgICAgKGNf
aW5mby0+dHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9QVikgfHwgIWlvbW11X2hhcF9wdF9zaGFy
ZQorICAgICAgICAgICAgPyBMSUJYTF9QQVNTVEhST1VHSF9TWU5DX1BUIDogTElCWExfUEFTU1RI
Uk9VR0hfU0hBUkVfUFQ7CisgICAgfSBlbHNlIHsKKyAgICAgICAgbGlieGxfcGFzc3Rocm91Z2gg
bzsKKworICAgICAgICBlID0gbGlieGxfcGFzc3Rocm91Z2hfZnJvbV9zdHJpbmcoYnVmLCAmbyk7
CisgICAgICAgIGlmIChlKSB7CisgICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwKKyAgICAgICAg
ICAgICAgICAgICAgIkVSUk9SOiB1bmtub3duIHBhc3N0aHJvdWdoIG9wdGlvbiAnJXMnXG4iLAor
ICAgICAgICAgICAgICAgICAgICBidWYpOworICAgICAgICAgICAgZXhpdCgtRVJST1JfRkFJTCk7
CisgICAgICAgIH0KKworICAgICAgICBzd2l0Y2ggKG8pIHsKKyAgICAgICAgY2FzZSBMSUJYTF9Q
QVNTVEhST1VHSF9ESVNBQkxFRDoKKyAgICAgICAgICAgIGlmIChkX2NvbmZpZy0+bnVtX3BjaWRl
dnMgfHwgZF9jb25maWctPm51bV9kdGRldnMpIHsKKyAgICAgICAgICAgICAgICBmcHJpbnRmKHN0
ZGVyciwKKyAgICAgICAgICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2ggZGlzYWJs
ZWQgYnV0IGRldmljZXMgYXJlIHNwZWNpZmllZFxuIik7CisgICAgICAgICAgICAgICAgZXhpdCgt
RVJST1JfRkFJTCk7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBicmVhazsKKyAgICAgICAg
Y2FzZSBMSUJYTF9QQVNTVEhST1VHSF9TSEFSRV9QVDoKKyAgICAgICAgICAgIGlmIChjX2luZm8t
PnR5cGUgPT0gTElCWExfRE9NQUlOX1RZUEVfUFYpIHsKKyAgICAgICAgICAgICAgICBmcHJpbnRm
KHN0ZGVyciwKKyAgICAgICAgICAgICAgICAgICAgICAgICJFUlJPUjogcGFzc3Rocm91Z2g9XCJz
aGFyZV9wdFwiIG5vdCB2YWxpZCBmb3IgUFYgZG9tYWluXG4iKTsKKyAgICAgICAgICAgICAgICBl
eGl0KC1FUlJPUl9GQUlMKTsKKyAgICAgICAgICAgIH0gZWxzZSBpZiAoIWlvbW11X2hhcF9wdF9z
aGFyZSkgeworICAgICAgICAgICAgICAgIGZwcmludGYoc3RkZXJyLAorICAgICAgICAgICAgICAg
ICAgICAgICAgIkVSUk9SOiBwYXNzdGhyb3VnaD1cInNoYXJlX3B0XCIgbm90IHN1cHBvcnRlZCBv
biB0aGlzIHBsYXRmb3JtXG4iKTsKKyAgICAgICAgICAgICAgICBleGl0KC1FUlJPUl9GQUlMKTsK
KyAgICAgICAgICAgIH0KKyAgICAgICAgICAgIGJyZWFrOworICAgICAgICBjYXNlIExJQlhMX1BB
U1NUSFJPVUdIX1NZTkNfUFQ6CisgICAgICAgICAgICBicmVhazsKKyAgICAgICAgfQorCisgICAg
ICAgIGNfaW5mby0+cGFzc3Rocm91Z2ggPSBvOworICAgIH0KKworICAgIGlmICgoY19pbmZvLT5w
YXNzdGhyb3VnaCAhPSBMSUJYTF9QQVNTVEhST1VHSF9ESVNBQkxFRCkgJiYgIWlvbW11X2VuYWJs
ZWQpIHsKKyAgICAgICAgZnByaW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgIkVSUk9SOiBw
YXNzdGhyb3VnaCBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm1cbiIpOworICAgICAgICBl
eGl0KC1FUlJPUl9GQUlMKTsKKyAgICB9CisKICAgICAvKiBsaWJ4bF9nZXRfcmVxdWlyZWRfc2hh
ZG93X21lbW9yeSgpIGFuZAogICAgICAqIGxpYnhsX2dldF9yZXF1aXJlZF9pb21tdV9tZW1vcnko
KSBtdXN0IGJlIGNhbGxlZCBhZnRlciBmaW5hbCB2YWx1ZXMKICAgICAgKiAoZGVmYXVsdCBvciBz
cGVjaWZpZWQpIGZvciB2Y3B1cyBhbmQgbWVtb3J5IGFyZSBzZXQsIGJlY2F1c2UgdGhlCkBAIC0x
NDcwLDExICsxNTcxLDEwIEBAIHZvaWQgcGFyc2VfY29uZmlnX2RhdGEoY29uc3QgY2hhciAqY29u
ZmlnX3NvdXJjZSwKICAgICAgICAgOiBsaWJ4bF9nZXRfcmVxdWlyZWRfc2hhZG93X21lbW9yeShi
X2luZm8tPm1heF9tZW1rYiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBiX2luZm8tPm1heF92Y3B1cyk7CiAKLSAgICAvKiBObyBJT01NVSByZXNlcnZhdGlvbiBp
cyBuZWVkZWQgaWYgZWl0aGVyIHRoZSBJT01NVSBpcyBkaXNhYmxlZCBvciBpdAotICAgICAqIGNh
biBzaGFyZSB0aGUgUDJNLiAqLwotICAgIGJfaW5mby0+aW9tbXVfbWVta2IgPSAoIWlvbW11X2Vu
YWJsZWQgfHwgaW9tbXVfaGFwX3B0X3NoYXJlKQotICAgICAgICA/IDAKLSAgICAgICAgOiBsaWJ4
bF9nZXRfcmVxdWlyZWRfaW9tbXVfbWVtb3J5KGJfaW5mby0+bWF4X21lbWtiKTsKKyAgICAvKiBO
byBJT01NVSByZXNlcnZhdGlvbiBpcyBuZWVkZWQgaWYgcGFzc3Rocm91Z2ggbW9kZSBpcyBub3Qg
J3N5bmNfcHQnICovCisgICAgYl9pbmZvLT5pb21tdV9tZW1rYiA9IChjX2luZm8tPnBhc3N0aHJv
dWdoID09IExJQlhMX1BBU1NUSFJPVUdIX1NZTkNfUFQpCisgICAgICAgID8gbGlieGxfZ2V0X3Jl
cXVpcmVkX2lvbW11X21lbW9yeShiX2luZm8tPm1heF9tZW1rYikKKyAgICAgICAgOiAwOwogCiAg
ICAgeGx1X2NmZ19nZXRfZGVmYm9vbChjb25maWcsICJub21pZ3JhdGUiLCAmYl9pbmZvLT5kaXNh
YmxlX21pZ3JhdGUsIDApOwogCkBAIC0yMjk4LDU0ICsyMzk4LDYgQEAgc2tpcF92ZmI6CiAgICAg
ICAgIH0KICAgICB9CiAKLSAgICBpZiAoIXhsdV9jZmdfZ2V0X2xpc3QgKGNvbmZpZywgInBjaSIs
ICZwY2lzLCAwLCAwKSkgewotICAgICAgICBkX2NvbmZpZy0+bnVtX3BjaWRldnMgPSAwOwotICAg
ICAgICBkX2NvbmZpZy0+cGNpZGV2cyA9IE5VTEw7Ci0gICAgICAgIGZvcihpID0gMDsgKGJ1ZiA9
IHhsdV9jZmdfZ2V0X2xpc3RpdGVtIChwY2lzLCBpKSkgIT0gTlVMTDsgaSsrKSB7Ci0gICAgICAg
ICAgICBsaWJ4bF9kZXZpY2VfcGNpICpwY2lkZXY7Ci0KLSAgICAgICAgICAgIHBjaWRldiA9IEFS
UkFZX0VYVEVORF9JTklUX05PREVWSUQoZF9jb25maWctPnBjaWRldnMsCi0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfY29uZmlnLT5udW1fcGNpZGV2cywK
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlieGxfZGV2
aWNlX3BjaV9pbml0KTsKLSAgICAgICAgICAgIHBjaWRldi0+bXNpdHJhbnNsYXRlID0gcGNpX21z
aXRyYW5zbGF0ZTsKLSAgICAgICAgICAgIHBjaWRldi0+cG93ZXJfbWdtdCA9IHBjaV9wb3dlcl9t
Z210OwotICAgICAgICAgICAgcGNpZGV2LT5wZXJtaXNzaXZlID0gcGNpX3Blcm1pc3NpdmU7Ci0g
ICAgICAgICAgICBwY2lkZXYtPnNlaXplID0gcGNpX3NlaXplOwotICAgICAgICAgICAgLyoKLSAg
ICAgICAgICAgICAqIExpa2Ugb3RoZXIgcGNpIG9wdGlvbiwgdGhlIHBlci1kZXZpY2UgcG9saWN5
IGFsd2F5cyBmb2xsb3dzCi0gICAgICAgICAgICAgKiB0aGUgZ2xvYmFsIHBvbGljeSBieSBkZWZh
dWx0LgotICAgICAgICAgICAgICovCi0gICAgICAgICAgICBwY2lkZXYtPnJkbV9wb2xpY3kgPSBi
X2luZm8tPnUuaHZtLnJkbS5wb2xpY3k7Ci0gICAgICAgICAgICBlID0geGx1X3BjaV9wYXJzZV9i
ZGYoY29uZmlnLCBwY2lkZXYsIGJ1Zik7Ci0gICAgICAgICAgICBpZiAoZSkgewotICAgICAgICAg
ICAgICAgIGZwcmludGYoc3RkZXJyLAotICAgICAgICAgICAgICAgICAgICAgICAgInVuYWJsZSB0
byBwYXJzZSBQQ0kgQkRGIGAlcycgZm9yIHBhc3N0aHJvdWdoXG4iLAotICAgICAgICAgICAgICAg
ICAgICAgICAgYnVmKTsKLSAgICAgICAgICAgICAgICBleGl0KC1lKTsKLSAgICAgICAgICAgIH0K
LSAgICAgICAgfQotICAgICAgICBpZiAoZF9jb25maWctPm51bV9wY2lkZXZzICYmIGNfaW5mby0+
dHlwZSA9PSBMSUJYTF9ET01BSU5fVFlQRV9QVikKLSAgICAgICAgICAgIGxpYnhsX2RlZmJvb2xf
c2V0KCZiX2luZm8tPnUucHYuZTgyMF9ob3N0LCB0cnVlKTsKLSAgICB9Ci0KLSAgICBpZiAoIXhs
dV9jZmdfZ2V0X2xpc3QgKGNvbmZpZywgImR0ZGV2IiwgJmR0ZGV2cywgMCwgMCkpIHsKLSAgICAg
ICAgZF9jb25maWctPm51bV9kdGRldnMgPSAwOwotICAgICAgICBkX2NvbmZpZy0+ZHRkZXZzID0g
TlVMTDsKLSAgICAgICAgZm9yIChpID0gMDsgKGJ1ZiA9IHhsdV9jZmdfZ2V0X2xpc3RpdGVtKGR0
ZGV2cywgaSkpICE9IE5VTEw7IGkrKykgewotICAgICAgICAgICAgbGlieGxfZGV2aWNlX2R0ZGV2
ICpkdGRldjsKLQotICAgICAgICAgICAgZHRkZXYgPSBBUlJBWV9FWFRFTkRfSU5JVF9OT0RFVklE
KGRfY29uZmlnLT5kdGRldnMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZF9jb25maWctPm51bV9kdGRldnMsCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbGlieGxfZGV2aWNlX2R0ZGV2X2luaXQpOwotCi0gICAgICAg
ICAgICBkdGRldi0+cGF0aCA9IHN0cmR1cChidWYpOwotICAgICAgICAgICAgaWYgKGR0ZGV2LT5w
YXRoID09IE5VTEwpIHsKLSAgICAgICAgICAgICAgICBmcHJpbnRmKHN0ZGVyciwgInVuYWJsZSB0
byBkdXBsaWNhdGUgc3RyaW5nIGZvciBkdGRldnNcbiIpOwotICAgICAgICAgICAgICAgIGV4aXQo
LTEpOwotICAgICAgICAgICAgfQotICAgICAgICB9Ci0gICAgfQotCiAgICAgaWYgKCF4bHVfY2Zn
X2dldF9saXN0KGNvbmZpZywgInVzYmN0cmwiLCAmdXNiY3RybHMsIDAsIDApKSB7CiAgICAgICAg
IGRfY29uZmlnLT5udW1fdXNiY3RybHMgPSAwOwogICAgICAgICBkX2NvbmZpZy0+dXNiY3RybHMg
PSBOVUxMOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jIGIveGVuL2FyY2gvYXJt
L2RvbWFpbi5jCmluZGV4IGFlMTNlNDdlODYuLjYxZDM1Y2QxMjAgMTAwNjQ0Ci0tLSBhL3hlbi9h
cmNoL2FybS9kb21haW4uYworKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluLmMKQEAgLTYxNyw2ICs2
MTcsMTQgQEAgaW50IGFyY2hfc2FuaXRpc2VfZG9tYWluX2NvbmZpZyhzdHJ1Y3QgeGVuX2RvbWN0
bF9jcmVhdGVkb21haW4gKmNvbmZpZykKICAgICAgICAgcmV0dXJuIC1FSU5WQUw7CiAgICAgfQog
CisgICAgLyogVGhlIFAyTSB0YWJsZSBtdXN0IGFsd2F5cyBiZSBzaGFyZWQgYmV0d2VlbiB0aGUg
Q1BVIGFuZCB0aGUgSU9NTVUgKi8KKyAgICBpZiAoIGNvbmZpZy0+aW9tbXVfb3B0cyAmIFhFTl9E
T01DVExfSU9NTVVfbm9fc2hhcmVwdCApCisgICAgeworICAgICAgICBkcHJpbnRrKFhFTkxPR19J
TkZPLAorICAgICAgICAgICAgICAgICJVbnN1cHBvcnRlZCBpb21tdSBvcHRpb246IFhFTl9ET01D
VExfSU9NTVVfbm9fc2hhcmVwdFxuIik7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0K
KwogICAgIC8qIEZpbGwgaW4gdGhlIG5hdGl2ZSBHSUMgdmVyc2lvbiwgcGFzc2VkIGJhY2sgdG8g
dGhlIHRvb2xzdGFjay4gKi8KICAgICBpZiAoIGNvbmZpZy0+YXJjaC5naWNfdmVyc2lvbiA9PSBY
RU5fRE9NQ1RMX0NPTkZJR19HSUNfTkFUSVZFICkKICAgICB7CkBAIC02NzcsNyArNjg1LDcgQEAg
aW50IGFyY2hfZG9tYWluX2NyZWF0ZShzdHJ1Y3QgZG9tYWluICpkLAogICAgIEFTU0VSVChjb25m
aWcgIT0gTlVMTCk7CiAKICAgICAvKiBwMm1faW5pdCByZWxpZXMgb24gc29tZSB2YWx1ZSBpbml0
aWFsaXplZCBieSB0aGUgSU9NTVUgc3Vic3lzdGVtICovCi0gICAgaWYgKCAocmMgPSBpb21tdV9k
b21haW5faW5pdChkKSkgIT0gMCApCisgICAgaWYgKCAocmMgPSBpb21tdV9kb21haW5faW5pdChk
LCBjb25maWctPmlvbW11X29wdHMpKSAhPSAwICkKICAgICAgICAgZ290byBmYWlsOwogCiAgICAg
aWYgKCAocmMgPSBwMm1faW5pdChkKSkgIT0gMCApCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYv
ZG9tYWluLmMgYi94ZW4vYXJjaC94ODYvZG9tYWluLmMKaW5kZXggNGIwYWQ1ZTE1ZC4uZmI4YjM5
N2JlMiAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2RvbWFpbi5jCisrKyBiL3hlbi9hcmNoL3g4
Ni9kb21haW4uYwpAQCAtNjExLDcgKzYxMSw3IEBAIGludCBhcmNoX2RvbWFpbl9jcmVhdGUoc3Ry
dWN0IGRvbWFpbiAqZCwKICAgICBpZiAoIChyYyA9IGluaXRfZG9tYWluX2lycV9tYXBwaW5nKGQp
KSAhPSAwICkKICAgICAgICAgZ290byBmYWlsOwogCi0gICAgaWYgKCAocmMgPSBpb21tdV9kb21h
aW5faW5pdChkKSkgIT0gMCApCisgICAgaWYgKCAocmMgPSBpb21tdV9kb21haW5faW5pdChkLCBj
b25maWctPmlvbW11X29wdHMpKSAhPSAwICkKICAgICAgICAgZ290byBmYWlsOwogCiAgICAgcHNy
X2RvbWFpbl9pbml0KGQpOwpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9kb21haW4uYyBiL3hlbi9j
b21tb24vZG9tYWluLmMKaW5kZXggNDY4MWYyOWM4Yi4uMDczM2VlOGIwYSAxMDA2NDQKLS0tIGEv
eGVuL2NvbW1vbi9kb21haW4uYworKysgYi94ZW4vY29tbW9uL2RvbWFpbi5jCkBAIC0zMDgsNiAr
MzA4LDEzIEBAIHN0YXRpYyBpbnQgc2FuaXRpc2VfZG9tYWluX2NvbmZpZyhzdHJ1Y3QgeGVuX2Rv
bWN0bF9jcmVhdGVkb21haW4gKmNvbmZpZykKICAgICAgICAgcmV0dXJuIC1FSU5WQUw7CiAgICAg
fQogCisgICAgaWYgKCAhKGNvbmZpZy0+ZmxhZ3MgJiBYRU5fRE9NQ1RMX0NERl9pb21tdSkgJiYg
Y29uZmlnLT5pb21tdV9vcHRzICkKKyAgICB7CisgICAgICAgIGRwcmludGsoWEVOTE9HX0lORk8s
CisgICAgICAgICAgICAgICAgIklPTU1VIG9wdGlvbnMgc3BlY2lmaWVkIGJ1dCBJT01NVSBub3Qg
ZW5hYmxlZFxuIik7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0KKwogICAgIGlmICgg
Y29uZmlnLT5tYXhfdmNwdXMgPCAxICkKICAgICB7CiAgICAgICAgIGRwcmludGsoWEVOTE9HX0lO
Rk8sICJObyB2Q1BVU1xuIik7CmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL2RvbWN0bC5jIGIveGVu
L2NvbW1vbi9kb21jdGwuYwppbmRleCA1ZGNmZTNjOGY2Li42ZTZlOWI5ODY2IDEwMDY0NAotLS0g
YS94ZW4vY29tbW9uL2RvbWN0bC5jCisrKyBiL3hlbi9jb21tb24vZG9tY3RsLmMKQEAgLTUxNSwx
OSArNTE1LDYgQEAgbG9uZyBkb19kb21jdGwoWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fZG9t
Y3RsX3QpIHVfZG9tY3RsKQogICAgICAgICAgICAgcm92ZXIgPSBkb207CiAgICAgICAgIH0KIAot
ICAgICAgICAvKgotICAgICAgICAgKiBGb3Igbm93LCBtYWtlIHN1cmUgdGhlIGNyZWF0ZWRvbWFp
biBJT01NVSBmbGFnIGlzIHNldCBpZiB0aGUKLSAgICAgICAgICogSU9NTVUgaXMgZW5hYmxlZC4g
V2hlbiB0aGUgZmxhZyBjb21lcyB1bmRlciB0b29sc3RhY2sgY29udHJvbAotICAgICAgICAgKiB0
aGlzIGNhbiBnbyBhd2F5LgotICAgICAgICAgKi8KLSAgICAgICAgaWYgKCBvcC0+dS5jcmVhdGVk
b21haW4uZmxhZ3MgJiBYRU5fRE9NQ1RMX0NERl9pb21tdSApCi0gICAgICAgIHsKLSAgICAgICAg
ICAgIEFTU0VSVF9VTlJFQUNIQUJMRSgpOwotICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Ci0g
ICAgICAgIH0KLSAgICAgICAgaWYgKCBpb21tdV9lbmFibGVkICkKLSAgICAgICAgICAgIG9wLT51
LmNyZWF0ZWRvbWFpbi5mbGFncyB8PSBYRU5fRE9NQ1RMX0NERl9pb21tdTsKLQogICAgICAgICBk
ID0gZG9tYWluX2NyZWF0ZShkb20sICZvcC0+dS5jcmVhdGVkb21haW4sIGZhbHNlKTsKICAgICAg
ICAgaWYgKCBJU19FUlIoZCkgKQogICAgICAgICB7CmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9pb21tdS5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYwppbmRl
eCBhNDkzNDYzOTRkLi40MTcxYzNjZjZmIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC9pb21tdS5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMKQEAgLTE2
OCw3ICsxNjgsNyBAQCBzdGF0aWMgdm9pZCBfX2h3ZG9tX2luaXQgY2hlY2tfaHdkb21fcmVxcyhz
dHJ1Y3QgZG9tYWluICpkKQogICAgIGlvbW11X2h3ZG9tX3N0cmljdCA9IHRydWU7CiB9CiAKLWlu
dCBpb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQoraW50IGlvbW11X2RvbWFpbl9p
bml0KHN0cnVjdCBkb21haW4gKmQsIHVuc2lnbmVkIGludCBvcHRzKQogewogICAgIHN0cnVjdCBk
b21haW5faW9tbXUgKmhkID0gZG9tX2lvbW11KGQpOwogICAgIGludCByZXQgPSAwOwpAQCAtMTky
LDYgKzE5MiwxNSBAQCBpbnQgaW9tbXVfZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAqZCkKICAg
ICBpZiAoIGlzX2hhcmR3YXJlX2RvbWFpbihkKSApCiAgICAgICAgIGNoZWNrX2h3ZG9tX3JlcXMo
ZCk7IC8qIG1heSBtb2RpZnkgaW9tbXVfaHdkb21fc3RyaWN0ICovCiAKKyAgICAvKgorICAgICAq
IFVzZSBzaGFyZWQgcGFnZSB0YWJsZXMgZm9yIEhBUCBhbmQgSU9NTVUgaWYgdGhlIGdsb2JhbCBv
cHRpb24KKyAgICAgKiBpcyBlbmFibGVkIChmcm9tIHdoaWNoIHdlIGNhbiBpbmZlciB0aGUgaC93
IGlzIGNhcGFibGUpIGFuZAorICAgICAqIHRoZSBkb21haW4gb3B0aW9ucyBkbyBub3QgZGlzYWxs
b3cgaXQuIEhBUCBtdXN0LCBvZiBjb3Vyc2UsIGFsc28KKyAgICAgKiBiZSBlbmFibGVkLgorICAg
ICAqLworICAgIGhkLT5oYXBfcHRfc2hhcmUgPSBoYXBfZW5hYmxlZChkKSAmJiBpb21tdV9oYXBf
cHRfc2hhcmUgJiYKKyAgICAgICAgIShvcHRzICYgWEVOX0RPTUNUTF9JT01NVV9ub19zaGFyZXB0
KTsKKwogICAgIC8qCiAgICAgICogTkI6ICdyZWxheGVkJyBoL3cgZG9tYWlucyBkb24ndCBuZWVk
IHRoZSBJT01NVSBtYXBwaW5ncyB0byBiZSBrZXB0CiAgICAgICogICAgIGluLXN5bmMgd2l0aCB0
aGVpciBhc3NpZ25lZCBwYWdlcyBiZWNhdXNlIGFsbCBob3N0IFJBTSB3aWxsIGJlCkBAIC0yMDAs
NiArMjA5LDggQEAgaW50IGlvbW11X2RvbWFpbl9pbml0KHN0cnVjdCBkb21haW4gKmQpCiAgICAg
aWYgKCAhaXNfaGFyZHdhcmVfZG9tYWluKGQpIHx8IGlvbW11X2h3ZG9tX3N0cmljdCApCiAgICAg
ICAgIGhkLT5uZWVkX3N5bmMgPSAhaW9tbXVfdXNlX2hhcF9wdChkKTsKIAorICAgIEFTU0VSVCgh
KGhkLT5uZWVkX3N5bmMgJiYgaGQtPmhhcF9wdF9zaGFyZSkpOworCiAgICAgcmV0dXJuIDA7CiB9
CiAKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaCBiL3hlbi9pbmNsdWRl
L3B1YmxpYy9kb21jdGwuaAppbmRleCAxYjMxNzZhZGI1Li5iYTg0YWVhNmFiIDEwMDY0NAotLS0g
YS94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGljL2Rv
bWN0bC5oCkBAIC0zOCw3ICszOCw3IEBACiAjaW5jbHVkZSAiaHZtL3NhdmUuaCIKICNpbmNsdWRl
ICJtZW1vcnkuaCIKIAotI2RlZmluZSBYRU5fRE9NQ1RMX0lOVEVSRkFDRV9WRVJTSU9OIDB4MDAw
MDAwMTEKKyNkZWZpbmUgWEVOX0RPTUNUTF9JTlRFUkZBQ0VfVkVSU0lPTiAweDAwMDAwMDEyCiAK
IC8qCiAgKiBOQi4geGVuX2RvbWN0bC5kb21haW4gaXMgYW4gSU4vT1VUIHBhcmFtZXRlciBmb3Ig
dGhpcyBvcGVyYXRpb24uCkBAIC03Myw2ICs3MywxNCBAQCBzdHJ1Y3QgeGVuX2RvbWN0bF9jcmVh
dGVkb21haW4gewogCiAgICAgdWludDMyX3QgZmxhZ3M7CiAKKyNkZWZpbmUgX1hFTl9ET01DVExf
SU9NTVVfbm9fc2hhcmVwdCAgMAorI2RlZmluZSBYRU5fRE9NQ1RMX0lPTU1VX25vX3NoYXJlcHQg
ICAoMVUgPDwgX1hFTl9ET01DVExfSU9NTVVfbm9fc2hhcmVwdCkKKworLyogTWF4IFhFTl9ET01D
VExfSU9NTVVfKiBjb25zdGFudC4gIFVzZWQgZm9yIEFCSSBjaGVja2luZy4gKi8KKyNkZWZpbmUg
WEVOX0RPTUNUTF9JT01NVV9NQVggWEVOX0RPTUNUTF9JT01NVV9ub19zaGFyZXB0CisKKyAgICB1
aW50MzJfdCBpb21tdV9vcHRzOworCiAgICAgLyoKICAgICAgKiBWYXJpb3VzIGRvbWFpbiBsaW1p
dHMsIHdoaWNoIGltcGFjdCB0aGUgcXVhbnRpdHkgb2YgcmVzb3VyY2VzIChnbG9iYWwKICAgICAg
KiBtYXBwaW5nIHNwYWNlLCB4ZW5oZWFwLCBldGMpIGEgZ3Vlc3QgbWF5IGNvbnN1bWUuCmRpZmYg
LS1naXQgYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaCBiL3hlbi9pbmNsdWRlL3hlbi9pb21tdS5o
CmluZGV4IDhiOTg1ZjkyYjAuLmFkNTU2ZjdkNTQgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3hl
bi9pb21tdS5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9pb21tdS5oCkBAIC03NSw3ICs3NSw3IEBA
IGV4dGVybiB1bnNpZ25lZCBpbnQgaW9tbXVfZGV2X2lvdGxiX3RpbWVvdXQ7CiBpbnQgaW9tbXVf
c2V0dXAodm9pZCk7CiBpbnQgaW9tbXVfaGFyZHdhcmVfc2V0dXAodm9pZCk7CiAKLWludCBpb21t
dV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKTsKK2ludCBpb21tdV9kb21haW5faW5pdChz
dHJ1Y3QgZG9tYWluICpkLCB1bnNpZ25lZCBpbnQgb3B0cyk7CiB2b2lkIGlvbW11X2h3ZG9tX2lu
aXQoc3RydWN0IGRvbWFpbiAqZCk7CiB2b2lkIGlvbW11X2RvbWFpbl9kZXN0cm95KHN0cnVjdCBk
b21haW4gKmQpOwogCkBAIC0yNjksMTAgKzI2OSwxNCBAQCBzdHJ1Y3QgZG9tYWluX2lvbW11IHsK
ICAgICAvKiBGZWF0dXJlcyBzdXBwb3J0ZWQgYnkgdGhlIElPTU1VICovCiAgICAgREVDTEFSRV9C
SVRNQVAoZmVhdHVyZXMsIElPTU1VX0ZFQVRfY291bnQpOwogCisgICAgLyogRG9lcyB0aGUgZ3Vl
c3Qgc2hhcmUgSEFQIG1hcHBpbmcgd2l0aCB0aGUgSU9NTVU/ICovCisgICAgYm9vbCBoYXBfcHRf
c2hhcmU7CisKICAgICAvKgotICAgICAqIERvZXMgdGhlIGd1ZXN0IHJlcWlyZSBtYXBwaW5ncyB0
byBiZSBzeW5jaG9uaXplZCwgdG8gbWFpbnRhaW4KLSAgICAgKiB0aGUgZGVmYXVsdCBkZm4gPT0g
cGZuIG1hcC4gKFNlZSBjb21tZW50IG9uIGRmbiBhdCB0aGUgdG9wIG9mCi0gICAgICogaW5jbHVk
ZS94ZW4vbW0uaCkuCisgICAgICogRG9lcyB0aGUgZ3Vlc3QgcmVxdWlyZSBtYXBwaW5ncyB0byBi
ZSBzeW5jaHJvbml6ZWQsIHRvIG1haW50YWluCisgICAgICogdGhlIGRlZmF1bHQgZGZuID09IHBm
biBtYXA/IChTZWUgY29tbWVudCBvbiBkZm4gYXQgdGhlIHRvcCBvZgorICAgICAqIGluY2x1ZGUv
eGVuL21tLmgpLiBOb3RlIHRoYXQgaGFwX3B0X3NoYXJlID09IGZhbHNlIGRvZXMgbm90CisgICAg
ICogbmVjZXNzYXJpbHkgaW1wbHkgdGhpcyBpcyB0cnVlLgogICAgICAqLwogICAgIGJvb2wgbmVl
ZF9zeW5jOwogfTsKQEAgLTI4Miw4ICsyODYsNyBAQCBzdHJ1Y3QgZG9tYWluX2lvbW11IHsKICNk
ZWZpbmUgaW9tbXVfY2xlYXJfZmVhdHVyZShkLCBmKSBjbGVhcl9iaXQoZiwgZG9tX2lvbW11KGQp
LT5mZWF0dXJlcykKIAogLyogQXJlIHdlIHVzaW5nIHRoZSBkb21haW4gUDJNIHRhYmxlIGFzIGl0
cyBJT01NVSBwYWdldGFibGU/ICovCi0jZGVmaW5lIGlvbW11X3VzZV9oYXBfcHQoZCkgXAotICAg
IChoYXBfZW5hYmxlZChkKSAmJiBpc19pb21tdV9lbmFibGVkKGQpICYmIGlvbW11X2hhcF9wdF9z
aGFyZSkKKyNkZWZpbmUgaW9tbXVfdXNlX2hhcF9wdChkKSAgICAgICAoZG9tX2lvbW11KGQpLT5o
YXBfcHRfc2hhcmUpCiAKIC8qIERvZXMgdGhlIElPTU1VIHBhZ2V0YWJsZSBuZWVkIHRvIGJlIGtl
cHQgc3luY2hyb25pemVkIHdpdGggdGhlIFAyTSAqLwogI2lmZGVmIENPTkZJR19IQVNfUEFTU1RI
Uk9VR0gKLS0gCjIuMjAuMS4yLmdiMjFlYmI2NzEKCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBs
aXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4v
bGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E6F9D8194B
	for <lists+xen-devel@lfdr.de>; Mon,  5 Aug 2019 14:28:30 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1huc3C-0007ev-Hp; Mon, 05 Aug 2019 12:25:18 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=UUnP=WB=linuxfoundation.org=gregkh@srs-us1.protection.inumbo.net>)
 id 1huc3B-0007eq-4G
 for xen-devel@lists.xenproject.org; Mon, 05 Aug 2019 12:25:17 +0000
X-Inumbo-ID: 136e51fd-b77c-11e9-8980-bc764e045a96
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 136e51fd-b77c-11e9-8980-bc764e045a96;
 Mon, 05 Aug 2019 12:25:14 +0000 (UTC)
Received: from localhost (83-86-89-107.cable.dynamic.v4.ziggo.nl
 [83.86.89.107])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 5EB6A2086D;
 Mon,  5 Aug 2019 12:25:13 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1565007913;
 bh=+Xs0kj8VCQPLFkJyxL+QIyNc9IVmkOW/SLIz1vz17Hc=;
 h=Subject:To:Cc:From:Date:In-Reply-To:From;
 b=zm4UWAlryFn8ORRc8LfbaGxhXdT9dmF8Zqhxq/pFQj7868pEfdKqrEC/QwRJ/ydNX
 IW8rxcrECmwgh07+0Rq4DQGOJBmeC/VWSirtCy5pWi/Vkr6ibSzkIALadXzm9eYFs8
 M85A+RfjDwVGpoakl5JkRlqbNjYe8NISjF89c4tU=
To: ben.hutchings@codethink.co.uk, bp@alien8.de, dave.hansen@linux.intel.com,
 gregkh@linuxfoundation.org, jannh@google.com, jgross@suse.com,
 kirill.shutemov@linux.intel.com, linux-mm@kvack.org, luto@kernel.org,
 mingo@redhat.com, osalvador@suse.de, peterz@infradead.org, tglx@linutronix.de,
 torvalds@linux-foundation.org, vbabka@suse.cz, vkuznets@redhat.com,
 x86@kernel.org, xen-devel@lists.xenproject.org
From: <gregkh@linuxfoundation.org>
Date: Mon, 05 Aug 2019 14:25:11 +0200
In-Reply-To: <20190802160614.8089-1-vbabka@suse.cz>
Message-ID: <156500791117217@kroah.com>
MIME-Version: 1.0
X-stable: commit
X-Patchwork-Hint: ignore 
Subject: [Xen-devel] Patch "x86, mm,
 gup: prevent get_page() race with munmap in paravirt guest" has
 been added to the 4.9-stable tree
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: stable-commits@vger.kernel.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

ClRoaXMgaXMgYSBub3RlIHRvIGxldCB5b3Uga25vdyB0aGF0IEkndmUganVzdCBhZGRlZCB0aGUg
cGF0Y2ggdGl0bGVkCgogICAgeDg2LCBtbSwgZ3VwOiBwcmV2ZW50IGdldF9wYWdlKCkgcmFjZSB3
aXRoIG11bm1hcCBpbiBwYXJhdmlydCBndWVzdAoKdG8gdGhlIDQuOS1zdGFibGUgdHJlZSB3aGlj
aCBjYW4gYmUgZm91bmQgYXQ6CiAgICBodHRwOi8vd3d3Lmtlcm5lbC5vcmcvZ2l0Lz9wPWxpbnV4
L2tlcm5lbC9naXQvc3RhYmxlL3N0YWJsZS1xdWV1ZS5naXQ7YT1zdW1tYXJ5CgpUaGUgZmlsZW5h
bWUgb2YgdGhlIHBhdGNoIGlzOgogICAgIHg4Ni1tbS1ndXAtcHJldmVudC1nZXRfcGFnZS1yYWNl
LXdpdGgtbXVubWFwLWluLXBhcmF2aXJ0LWd1ZXN0LnBhdGNoCmFuZCBpdCBjYW4gYmUgZm91bmQg
aW4gdGhlIHF1ZXVlLTQuOSBzdWJkaXJlY3RvcnkuCgpJZiB5b3UsIG9yIGFueW9uZSBlbHNlLCBm
ZWVscyBpdCBzaG91bGQgbm90IGJlIGFkZGVkIHRvIHRoZSBzdGFibGUgdHJlZSwKcGxlYXNlIGxl
dCA8c3RhYmxlQHZnZXIua2VybmVsLm9yZz4ga25vdyBhYm91dCBpdC4KCgpGcm9tIHZiYWJrYUBz
dXNlLmN6ICBNb24gQXVnICA1IDEzOjU2OjI5IDIwMTkKRnJvbTogVmxhc3RpbWlsIEJhYmthIDx2
YmFia2FAc3VzZS5jej4KRGF0ZTogRnJpLCAgMiBBdWcgMjAxOSAxODowNjoxNCArMDIwMApTdWJq
ZWN0OiB4ODYsIG1tLCBndXA6IHByZXZlbnQgZ2V0X3BhZ2UoKSByYWNlIHdpdGggbXVubWFwIGlu
IHBhcmF2aXJ0IGd1ZXN0ClRvOiBzdGFibGVAdmdlci5rZXJuZWwub3JnCkNjOiBsaW51eC1rZXJu
ZWxAdmdlci5rZXJuZWwub3JnLCBsaW51eC1tbUBrdmFjay5vcmcsIHg4NkBrZXJuZWwub3JnLCBK
YW5uIEhvcm4gPGphbm5oQGdvb2dsZS5jb20+LCBCZW4gSHV0Y2hpbmdzIDxiZW4uaHV0Y2hpbmdz
QGNvZGV0aGluay5jby51az4sIHhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZywgT3NjYXIg
U2FsdmFkb3IgPG9zYWx2YWRvckBzdXNlLmRlPiwgVmxhc3RpbWlsIEJhYmthIDx2YmFia2FAc3Vz
ZS5jej4sIFRob21hcyBHbGVpeG5lciA8dGdseEBsaW51dHJvbml4LmRlPiwgSW5nbyBNb2xuYXIg
PG1pbmdvQHJlZGhhdC5jb20+LCBQZXRlciBaaWpsc3RyYSA8cGV0ZXJ6QGluZnJhZGVhZC5vcmc+
LCBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+LCAiS2lyaWxsIEEgLiBTaHV0ZW1vdiIg
PGtpcmlsbC5zaHV0ZW1vdkBsaW51eC5pbnRlbC5jb20+LCBWaXRhbHkgS3V6bmV0c292IDx2a3V6
bmV0c0ByZWRoYXQuY29tPiwgTGludXMgVG9ydmFsZHMgPHRvcnZhbGRzQGxpbnV4LWZvdW5kYXRp
b24ub3JnPiwgQm9yaXNsYXYgUGV0a292IDxicEBhbGllbjguZGU+LCBEYXZlIEhhbnNlbiA8ZGF2
ZS5oYW5zZW5AbGludXguaW50ZWwuY29tPiwgQW5keSBMdXRvbWlyc2tpIDxsdXRvQGtlcm5lbC5v
cmc+Ck1lc3NhZ2UtSUQ6IDwyMDE5MDgwMjE2MDYxNC44MDg5LTEtdmJhYmthQHN1c2UuY3o+CgpG
cm9tOiBWbGFzdGltaWwgQmFia2EgPHZiYWJrYUBzdXNlLmN6PgoKVGhlIHg4NiB2ZXJzaW9uIG9m
IGdldF91c2VyX3BhZ2VzX2Zhc3QoKSByZWxpZXMgb24gZGlzYWJsZWQgaW50ZXJydXB0cyB0bwpz
eW5jaHJvbml6ZSBndXBfcHRlX3JhbmdlKCkgYmV0d2VlbiBndXBfZ2V0X3B0ZShwdGVwKTsgYW5k
IGdldF9wYWdlKCkgYWdhaW5zdAphIHBhcmFsbGVsIG11bm1hcC4gVGhlIG11bm1hcCBzaWRlIG51
bGxzIHRoZSBwdGUsIHRoZW4gZmx1c2hlcyBUTEJzLCB0aGVuCnJlbGVhc2VzIHRoZSBwYWdlLiBB
cyBUTEIgZmx1c2ggaXMgZG9uZSBzeW5jaHJvbm91c2x5IHZpYSBJUEkgZGlzYWJsaW5nCmludGVy
cnVwdHMgYmxvY2tzIHRoZSBwYWdlIHJlbGVhc2UsIGFuZCBnZXRfcGFnZSgpLCB3aGljaCBhc3N1
bWVzIGV4aXN0aW5nCnJlZmVyZW5jZSBvbiBwYWdlLCBpcyB0aHVzIHNhZmUuCkhvd2V2ZXIgd2hl
biBUTEIgZmx1c2ggaXMgZG9uZSBieSBhIGh5cGVyY2FsbCwgZS5nLiBpbiBhIFhlbiBQViBndWVz
dCwgdGhlcmUgaXMKbm8gYmxvY2tpbmcgdGhhbmtzIHRvIGRpc2FibGVkIGludGVycnVwdHMsIGFu
ZCBnZXRfcGFnZSgpIGNhbiBzdWNjZWVkIG9uIGEgcGFnZQp0aGF0IHdhcyBhbHJlYWR5IGZyZWVk
IG9yIGV2ZW4gcmV1c2VkLgoKV2UgaGF2ZSByZWNlbnRseSBzZWVuIHRoaXMgaGFwcGVuIHdpdGgg
b3VyIDQuNCBhbmQgNC4xMiBiYXNlZCBrZXJuZWxzLCB3aXRoCnVzZXJzcGFjZSAoamF2YSkgdGhh
dCBleGl0cyBhIHRocmVhZCwgd2hlcmUgbW1fcmVsZWFzZSgpIHBlcmZvcm1zIGEgZnV0ZXhfd2Fr
ZSgpCm9uIHRzay0+Y2xlYXJfY2hpbGRfdGlkLCBhbmQgYW5vdGhlciB0aHJlYWQgaW4gcGFyYWxs
ZWwgdW5tYXBzIHRoZSBwYWdlIHdoZXJlCnRzay0+Y2xlYXJfY2hpbGRfdGlkIHBvaW50cyB0by4g
VGhlIHNwdXJpb3VzIGdldF9wYWdlKCkgc3VjY2VlZHMsIGJ1dCBmdXRleCBjb2RlCmltbWVkaWF0
ZWx5IHJlbGVhc2VzIHRoZSBwYWdlIGFnYWluLCB3aGlsZSBpdCdzIGFscmVhZHkgb24gYSBmcmVl
bGlzdC4gU3ltcHRvbXMKaW5jbHVkZSBhIGJhZCBwYWdlIHN0YXRlIHdhcm5pbmcsIGdlbmVyYWwg
cHJvdGVjdGlvbiBmYXVsdHMgYWNlc3NpbmcgYSBwb2lzb25lZApsaXN0IHByZXYvbmV4dCBwb2lu
dGVyIGluIHRoZSBmcmVlbGlzdCwgb3IgZnJlZSBwYWdlIHBjcGxpc3RzIG9mIHR3byBjcHVzIGpv
aW5lZAp0b2dldGhlciBpbiBhIHNpbmdsZSBsaXN0LiBPc2NhciBoYXMgYWxzbyByZXByb2R1Y2Vk
IHRoaXMgc2NlbmFyaW8sIHdpdGggYQpwYXRjaCBpbnNlcnRpbmcgZGVsYXlzIGJlZm9yZSB0aGUg
Z2V0X3BhZ2UoKSB0byBtYWtlIHRoZSByYWNlIHdpbmRvdyBsYXJnZXIuCgpGaXggdGhpcyBieSBy
ZW1vdmluZyB0aGUgZGVwZW5kZW5jeSBvbiBUTEIgZmx1c2ggaW50ZXJydXB0cyB0aGUgc2FtZSB3
YXkgYXMgdGhlCmdlbmVyaWMgZ2V0X3VzZXJfcGFnZXNfZmFzdCgpIGNvZGUgYnkgdXNpbmcgcGFn
ZV9jYWNoZV9hZGRfc3BlY3VsYXRpdmUoKSBhbmQKcmV2YWxpZGF0aW5nIHRoZSBQVEUgY29udGVu
dHMgYWZ0ZXIgcGlubmluZyB0aGUgcGFnZS4gTWFpbmxpbmUgaXMgc2FmZSBzaW5jZQo0LjEzIHdo
ZXJlIHRoZSB4ODYgZ3VwIGNvZGUgd2FzIHJlbW92ZWQgaW4gZmF2b3Igb2YgdGhlIGNvbW1vbiBj
b2RlLiBBY2Nlc3NpbmcKdGhlIHBhZ2UgdGFibGUgaXRzZWxmIHNhZmVseSBhbHNvIHJlbGllcyBv
biBkaXNhYmxlZCBpbnRlcnJ1cHRzIGFuZCBUTEIgZmx1c2gKSVBJcyB0aGF0IGRvbid0IGhhcHBl
biB3aXRoIGh5cGVyY2FsbHMsIHdoaWNoIHdhcyBhY2tub3dsZWRnZWQgaW4gY29tbWl0CjllNTJm
YzJiNTBkZSAoIng4Ni9tbTogRW5hYmxlIFJDVSBiYXNlZCBwYWdlIHRhYmxlIGZyZWVpbmcKKENP
TkZJR19IQVZFX1JDVV9UQUJMRV9GUkVFPXkpIikuIFRoYXQgY29tbWl0IHdpdGggZm9sbHVwcyBz
aG91bGQgYWxzbyBiZQpiYWNrcG9ydGVkIGZvciBmdWxsIHNhZmV0eSwgYWx0aG91Z2ggb3VyIHJl
cHJvZHVjZXIgZGlkbid0IGhpdCBhIHByb2JsZW0Kd2l0aG91dCB0aGF0IGJhY2twb3J0LgoKUmVw
cm9kdWNlZC1ieTogT3NjYXIgU2FsdmFkb3IgPG9zYWx2YWRvckBzdXNlLmRlPgpTaWduZWQtb2Zm
LWJ5OiBWbGFzdGltaWwgQmFia2EgPHZiYWJrYUBzdXNlLmN6PgpDYzogVGhvbWFzIEdsZWl4bmVy
IDx0Z2x4QGxpbnV0cm9uaXguZGU+CkNjOiBJbmdvIE1vbG5hciA8bWluZ29AcmVkaGF0LmNvbT4K
Q2M6IFBldGVyIFppamxzdHJhIDxwZXRlcnpAaW5mcmFkZWFkLm9yZz4KQ2M6IEp1ZXJnZW4gR3Jv
c3MgPGpncm9zc0BzdXNlLmNvbT4KQ2M6IEtpcmlsbCBBLiBTaHV0ZW1vdiA8a2lyaWxsLnNodXRl
bW92QGxpbnV4LmludGVsLmNvbT4KQ2M6IFZpdGFseSBLdXpuZXRzb3YgPHZrdXpuZXRzQHJlZGhh
dC5jb20+CkNjOiBMaW51cyBUb3J2YWxkcyA8dG9ydmFsZHNAbGludXgtZm91bmRhdGlvbi5vcmc+
CkNjOiBCb3Jpc2xhdiBQZXRrb3YgPGJwQGFsaWVuOC5kZT4KQ2M6IERhdmUgSGFuc2VuIDxkYXZl
LmhhbnNlbkBsaW51eC5pbnRlbC5jb20+CkNjOiBBbmR5IEx1dG9taXJza2kgPGx1dG9Aa2VybmVs
Lm9yZz4KU2lnbmVkLW9mZi1ieTogR3JlZyBLcm9haC1IYXJ0bWFuIDxncmVna2hAbGludXhmb3Vu
ZGF0aW9uLm9yZz4KLS0tCgotLS0KIGFyY2gveDg2L21tL2d1cC5jIHwgICAzMiArKysrKysrKysr
KysrKysrKysrKysrKysrKysrKystLQogMSBmaWxlIGNoYW5nZWQsIDMwIGluc2VydGlvbnMoKyks
IDIgZGVsZXRpb25zKC0pCgotLS0gYS9hcmNoL3g4Ni9tbS9ndXAuYworKysgYi9hcmNoL3g4Ni9t
bS9ndXAuYwpAQCAtOTgsNiArOTgsMjAgQEAgc3RhdGljIGlubGluZSBpbnQgcHRlX2FsbG93c19n
dXAodW5zaWduZQogfQogCiAvKgorICogUmV0dXJuIHRoZSBjb21wdW5kIGhlYWQgcGFnZSB3aXRo
IHJlZiBhcHByb3ByaWF0ZWx5IGluY3JlbWVudGVkLAorICogb3IgTlVMTCBpZiB0aGF0IGZhaWxl
ZC4KKyAqLworc3RhdGljIGlubGluZSBzdHJ1Y3QgcGFnZSAqdHJ5X2dldF9jb21wb3VuZF9oZWFk
KHN0cnVjdCBwYWdlICpwYWdlLCBpbnQgcmVmcykKK3sKKwlzdHJ1Y3QgcGFnZSAqaGVhZCA9IGNv
bXBvdW5kX2hlYWQocGFnZSk7CisJaWYgKFdBUk5fT05fT05DRShwYWdlX3JlZl9jb3VudChoZWFk
KSA8IDApKQorCQlyZXR1cm4gTlVMTDsKKwlpZiAodW5saWtlbHkoIXBhZ2VfY2FjaGVfYWRkX3Nw
ZWN1bGF0aXZlKGhlYWQsIHJlZnMpKSkKKwkJcmV0dXJuIE5VTEw7CisJcmV0dXJuIGhlYWQ7Cit9
CisKKy8qCiAgKiBUaGUgcGVyZm9ybWFuY2UgY3JpdGljYWwgbGVhZiBmdW5jdGlvbnMgYXJlIG1h
ZGUgbm9pbmxpbmUgb3RoZXJ3aXNlIGdjYwogICogaW5saW5lcyBldmVyeXRoaW5nIGludG8gYSBz
aW5nbGUgZnVuY3Rpb24gd2hpY2ggcmVzdWx0cyBpbiB0b28gbXVjaAogICogcmVnaXN0ZXIgcHJl
c3N1cmUuCkBAIC0xMTIsNyArMTI2LDcgQEAgc3RhdGljIG5vaW5saW5lIGludCBndXBfcHRlX3Jh
bmdlKHBtZF90CiAJcHRlcCA9IHB0ZV9vZmZzZXRfbWFwKCZwbWQsIGFkZHIpOwogCWRvIHsKIAkJ
cHRlX3QgcHRlID0gZ3VwX2dldF9wdGUocHRlcCk7Ci0JCXN0cnVjdCBwYWdlICpwYWdlOworCQlz
dHJ1Y3QgcGFnZSAqaGVhZCwgKnBhZ2U7CiAKIAkJLyogU2ltaWxhciB0byB0aGUgUE1EIGNhc2Us
IE5VTUEgaGludGluZyBtdXN0IHRha2Ugc2xvdyBwYXRoICovCiAJCWlmIChwdGVfcHJvdG5vbmUo
cHRlKSkgewpAQCAtMTM4LDcgKzE1MiwyMSBAQCBzdGF0aWMgbm9pbmxpbmUgaW50IGd1cF9wdGVf
cmFuZ2UocG1kX3QKIAkJfQogCQlWTV9CVUdfT04oIXBmbl92YWxpZChwdGVfcGZuKHB0ZSkpKTsK
IAkJcGFnZSA9IHB0ZV9wYWdlKHB0ZSk7Ci0JCWdldF9wYWdlKHBhZ2UpOworCisJCWhlYWQgPSB0
cnlfZ2V0X2NvbXBvdW5kX2hlYWQocGFnZSwgMSk7CisJCWlmICghaGVhZCkgeworCQkJcHV0X2Rl
dl9wYWdlbWFwKHBnbWFwKTsKKwkJCXB0ZV91bm1hcChwdGVwKTsKKwkJCXJldHVybiAwOworCQl9
CisKKwkJaWYgKHVubGlrZWx5KHB0ZV92YWwocHRlKSAhPSBwdGVfdmFsKCpwdGVwKSkpIHsKKwkJ
CXB1dF9wYWdlKGhlYWQpOworCQkJcHV0X2Rldl9wYWdlbWFwKHBnbWFwKTsKKwkJCXB0ZV91bm1h
cChwdGVwKTsKKwkJCXJldHVybiAwOworCQl9CisKIAkJcHV0X2Rldl9wYWdlbWFwKHBnbWFwKTsK
IAkJU2V0UGFnZVJlZmVyZW5jZWQocGFnZSk7CiAJCXBhZ2VzWypucl0gPSBwYWdlOwoKClBhdGNo
ZXMgY3VycmVudGx5IGluIHN0YWJsZS1xdWV1ZSB3aGljaCBtaWdodCBiZSBmcm9tIHZiYWJrYUBz
dXNlLmN6IGFyZQoKcXVldWUtNC45L3g4Ni1tbS1ndXAtcHJldmVudC1nZXRfcGFnZS1yYWNlLXdp
dGgtbXVubWFwLWluLXBhcmF2aXJ0LWd1ZXN0LnBhdGNoCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZl
bEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxt
YW4vbGlzdGluZm8veGVuLWRldmVs

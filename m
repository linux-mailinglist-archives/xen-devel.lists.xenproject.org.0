Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BDF1F167600
	for <lists+xen-devel@lfdr.de>; Fri, 21 Feb 2020 09:34:17 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j53hs-00044G-J0; Fri, 21 Feb 2020 08:30:44 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=TxF5=4J=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1j53hq-00044B-RA
 for xen-devel@lists.xenproject.org; Fri, 21 Feb 2020 08:30:42 +0000
X-Inumbo-ID: 714a74ce-5484-11ea-bc8e-bc764e2007e4
Received: from EUR01-VE1-obe.outbound.protection.outlook.com (unknown
 [2a01:111:f400:fe1f::704])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 714a74ce-5484-11ea-bc8e-bc764e2007e4;
 Fri, 21 Feb 2020 08:30:41 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=XcryykMaxUS4tNgy+kn08LRCzAis7dbNIhAqm/GCU/ZSPajNyX1Znxi7TJCOTOjHapxeD6vnkwoN9QBpiVpKULlJq2JUzqlvwe5cIZoAJOhF+yZAnRGxHQPEGydgw3+b6kmg5zKLwBpPa7cfmHaSyUckLgI488mVBIKzU2J2Sx4sn9clfxhiezR2fOTcdoxYSjasZ/3q565eD5v4PBmNHEqd2OtklQMIacjxKYvqmUfNPkImoUa3Ridi9jIlemyYotjza0ozidhBVuGqpe0usbaWtnKorXKnd+b3OfyRbOWJrF1bnM3nDZR0neTu+hwm2QxuuMPXIuGVV17H5OoShA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=osOpxi1HxF1ggTgojVWB3MGK9VOgxwMmpjRvA0PGQjA=;
 b=m14pD95sCBP8qcJyY7NGUtTfRAHA3SndD5KfxwwSlnGnlgj2J4UPRun2jEmYMSUGYwfq7G3dQKAqW0JudnP493u6siCsp0FAsLS607pLrnUNCw/s9d7GiWO3hAYaVK2c01+T2WmcPhuau6gg2LJXuDFZs+YtgXl0sxOP3qSkW54YACVZT3g8SJ6qSSkugy+Grs7btbMQLEwR+NL17dS7slA6pYCpnCYcHqEDbMBusO9firmXSVFHKCseVJeB+9VKPA2gQxN5Nbkben72qCqObtzvn3d5cVJGU2dqjJpO3Adol1qYww6yaWfYiZA/bY7y53LDQ+9WxOggs2zGcUgQRA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=osOpxi1HxF1ggTgojVWB3MGK9VOgxwMmpjRvA0PGQjA=;
 b=KiuaYenXgC+ezPeLFGOsouXKQtLxyNsdi4+pQtUdGFulfnfhlEtenbVbY/48iQMvPqOIqQPXTOg5ZQzso/cmRODQ1sKRnY0etao05malYztsKzrbmBrkHBWKO/XQfeO4ctPmqJYkHmkFLNOdRsc7ZED8q9pzmz60Sz064/jZFEA=
Received: from DB6PR02MB2999.eurprd02.prod.outlook.com (10.170.219.144) by
 DB6PR02MB3191.eurprd02.prod.outlook.com (10.175.234.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2729.31; Fri, 21 Feb 2020 08:30:38 +0000
Received: from DB6PR02MB2999.eurprd02.prod.outlook.com
 ([fe80::f1c2:7dd1:1131:1c1d]) by DB6PR02MB2999.eurprd02.prod.outlook.com
 ([fe80::f1c2:7dd1:1131:1c1d%7]) with mapi id 15.20.2729.033; Fri, 21 Feb 2020
 08:30:38 +0000
Received: from aisaila-Latitude-E5570.dsd.bitdefender.biz (91.199.104.6) by
 AM4PR05CA0028.eurprd05.prod.outlook.com (2603:10a6:205::41) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2750.18 via Frontend Transport; Fri, 21 Feb 2020 08:30:37 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH V4] x86/altp2m: Hypercall to set altp2m view visibility
Thread-Index: AQHV6JEygsFwXfT/ykedOiNCZrGg7A==
Date: Fri, 21 Feb 2020 08:30:38 +0000
Message-ID: <20200221083014.29274-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM4PR05CA0028.eurprd05.prod.outlook.com (2603:10a6:205::41)
 To DB6PR02MB2999.eurprd02.prod.outlook.com
 (2603:10a6:6:17::16)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 354b9e22-19f1-4a75-92bf-08d7b6a8547b
x-ms-traffictypediagnostic: DB6PR02MB3191:|DB6PR02MB3191:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DB6PR02MB3191A11DC56AE1ED6CDB078EAB120@DB6PR02MB3191.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:239;
x-forefront-prvs: 0320B28BE1
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(39850400004)(376002)(396003)(346002)(136003)(366004)(199004)(189003)(316002)(86362001)(6512007)(1076003)(52116002)(5660300002)(54906003)(26005)(6506007)(4326008)(6486002)(956004)(16526019)(7416002)(64756008)(66446008)(478600001)(71200400001)(66556008)(66476007)(66946007)(2906002)(186003)(6916009)(2616005)(81156014)(8936002)(36756003)(8676002)(81166006);
 DIR:OUT; SFP:1102; SCL:1; SRVR:DB6PR02MB3191;
 H:DB6PR02MB2999.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: ieiNa+VLPuc3bdUF53TKNA0aF4rQAY1nSXRBFHVzGTYN1Z+xZ+CdHrGnjLjGv/oH3qemsVn0WFDK3W+8Av457auYB6KIpSSiFSEh7RlL7LaiDD6XrLphDIXjic1obQkptS0L6D68Z3Dku8kR9IvXTYi9hYt6FoPbsfJpC26V6aJjFB10/+H1hQat0G7DUnIEtVtRVL5dV48iKYposYLr7vQYxNrz9MrAnQe+jrLq/LsZc1rcEZ1G/pofJD1d3XK8xy314FXq0c1cg0Zb3ntvrdVDT4da2sbfLogQ6MYB1CUDnUjEQunZfNKoijhmDSyBeNw2a3RIvGihLqIcgiKFPOpYfulxf0V9aCWvpff+foQmvq7IPrLvMegl8mJhQWF0BD/5nMOW37krXVrqN5W0qVbNnXaVdwfaa6Gcd3i1WGXa4HcyH4alSZySozHnKzUM
x-ms-exchange-antispam-messagedata: MjHPzQMjVBpfHMLPHdPUv3m5XwqvSkvf1SCoOKbZ7Z6NJkQoyQRnQZ1z0s6oXxjul1dLSCRAfePhqO7gAGFmEf0bZfoPwIusgE8eGwxGERdKi+RsJKCXaSNk460TUHywd7ad/HH5SN4IFG9SkceAsA==
Content-ID: <254AD3892A86BA4996124630CDA0CDA6@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 354b9e22-19f1-4a75-92bf-08d7b6a8547b
X-MS-Exchange-CrossTenant-originalarrivaltime: 21 Feb 2020 08:30:38.7388 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: eI54OAvgxwXgcIyiw5Rv0pvE6Uwn6bko7ANie4F2wm0zGWwgOV5xnEH6otJLFKnbbf6LQ9OhTJGUgha3dpB8IOsCwSAfqut7Jm2NFV7fUGY=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB6PR02MB3191
Subject: [Xen-devel] [PATCH V4] x86/altp2m: Hypercall to set altp2m view
 visibility
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Jun Nakajima <jun.nakajima@intel.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Jan Beulich <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QXQgdGhpcyBtb21lbnQgYSBndWVzdCBjYW4gY2FsbCB2bWZ1bmMgdG8gY2hhbmdlIHRoZSBhbHRw
Mm0gdmlldy4gVGhpcw0Kc2hvdWxkIGJlIGxpbWl0ZWQgaW4gb3JkZXIgdG8gYXZvaWQgYW55IHVu
d2FudGVkIHZpZXcgc3dpdGNoLg0KDQpUaGUgbmV3IHhjX2FsdHAybV9zZXRfdmlzaWJpbGl0eSgp
IHNvbHZlcyB0aGlzIGJ5IG1ha2luZyB2aWV3cyBpbnZpc2libGUNCnRvIHZtZnVuYy4NClRoaXMg
aXMgZG9uZSBieSBoYXZpbmcgYSBzZXBhcmF0ZSBhcmNoLmFsdHAybV93b3JraW5nX2VwdHAgdGhh
dCBpcw0KcG9wdWxhdGVkIGFuZCBtYWRlIGludmFsaWQgaW4gdGhlIHNhbWUgcGxhY2VzIGFzIGFs
dHAybV9lcHRwLiBUaGlzIGlzDQp3cml0dGVuIHRvIEVQVFBfTElTVF9BRERSLg0KVGhlIHZpZXdz
IGFyZSBtYWRlIGluL3Zpc2libGUgYnkgbWFya2luZyB0aGVtIHdpdGggSU5WQUxJRF9NRk4gb3IN
CmNvcHlpbmcgdGhlbSBiYWNrIGZyb20gYWx0cDJtX2VwdHAuDQpUbyBoYXZlIGNvbnNpc3RlbmN5
IHRoZSB2aXNpYmlsaXR5IGFsc28gYXBwbGllcyB0bw0KcDJtX3N3aXRjaF9kb21haW5fYWx0cDJt
X2J5X2lkKCkuDQoNCk5vdGU6IElmIGFsdHAybSBtb2RlIGlzIHNldCB0byBtaXhlZCB0aGUgZ3Vl
c3QgaXMgYWJsZSB0byBjaGFuZ2UgdGhlIHZpZXcNCnZpc2liaWxpdHkgYW5kIHRoZW4gY2FsbCB2
bWZ1bmMuDQoNClNpZ25lZC1vZmYtYnk6IEFsZXhhbmRydSBJc2FpbGEgPGFpc2FpbGFAYml0ZGVm
ZW5kZXIuY29tPg0KLS0tDQpDQzogSWFuIEphY2tzb24gPGlhbi5qYWNrc29uQGV1LmNpdHJpeC5j
b20+DQpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4NCkNDOiBBbmRyZXcgQ29vcGVyIDxhbmRyZXcu
Y29vcGVyM0BjaXRyaXguY29tPg0KQ0M6IEdlb3JnZSBEdW5sYXAgPEdlb3JnZS5EdW5sYXBAZXUu
Y2l0cml4LmNvbT4NCkNDOiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+DQpDQzogSnVs
aWVuIEdyYWxsIDxqdWxpZW5AeGVuLm9yZz4NCkNDOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtv
bnJhZC53aWxrQG9yYWNsZS5jb20+DQpDQzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGlu
aUBrZXJuZWwub3JnPg0KQ0M6ICJSb2dlciBQYXUgTW9ubsOpIiA8cm9nZXIucGF1QGNpdHJpeC5j
b20+DQpDQzogSnVuIE5ha2FqaW1hIDxqdW4ubmFrYWppbWFAaW50ZWwuY29tPg0KQ0M6IEtldmlu
IFRpYW4gPGtldmluLnRpYW5AaW50ZWwuY29tPg0KQ0M6IEdlb3JnZSBEdW5sYXAgPGdlb3JnZS5k
dW5sYXBAZXUuY2l0cml4LmNvbT4NCi0tLQ0KQ2hhbmdlcyBzaW5jZSBWMzoNCgktIENoYW5nZSB2
YXIgbmFtZSBmb3JtIGFsdHAybV9pZHggdG8gaWR4IHRvIHNob3J0ZW4gbGluZSBsZW5ndGgNCgkt
IEFkZCBib3VuZHMgY2hlY2sgZm9yIGlkeA0KCS0gVXBkYXRlIGNvbW1pdCBtZXNzYWdlDQoJLSBB
ZGQgY29tbWVudCBpbiB4ZW5jdHJsLmguDQoNCkNoYW5nZXMgc2luY2UgVjI6DQoJLSBEcm9wIGhh
cF9lbmFibGVkKCkgY2hlY2sNCgktIFJlZHVjZSB0aGUgaW5kZW50YXRpb24gZGVwdGggaW4gaHZt
LmMNCgktIEZpeCBhc3NpZ25tZW50IGluZGVudGF0aW9uDQoJLSBEcm9wIHBhZDIuDQoNCkNoYW5n
ZXMgc2luY2UgVjE6DQoJLSBEcm9wIGRvdWJsZSB2aWV3IGZyb20gdGl0bGUuDQotLS0NCiB0b29s
cy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaCAgIHwgIDcgKysrKysrKw0KIHRvb2xzL2xpYnhjL3hj
X2FsdHAybS5jICAgICAgICAgfCAyNCArKysrKysrKysrKysrKysrKysrKysrKysNCiB4ZW4vYXJj
aC94ODYvaHZtL2h2bS5jICAgICAgICAgIHwgMjEgKysrKysrKysrKysrKysrKysrKysrDQogeGVu
L2FyY2gveDg2L2h2bS92bXgvdm14LmMgICAgICB8ICAyICstDQogeGVuL2FyY2gveDg2L21tL2hh
cC9oYXAuYyAgICAgICB8IDE1ICsrKysrKysrKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9tbS9wMm0t
ZXB0LmMgICAgICAgfCAgMSArDQogeGVuL2FyY2gveDg2L21tL3AybS5jICAgICAgICAgICB8ICA3
ICsrKysrLS0NCiB4ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFpbi5oICAgIHwgIDEgKw0KIHhlbi9p
bmNsdWRlL3B1YmxpYy9odm0vaHZtX29wLmggfCAgOSArKysrKysrKysNCiA5IGZpbGVzIGNoYW5n
ZWQsIDg0IGluc2VydGlvbnMoKyksIDMgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS90b29s
cy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaCBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5o
DQppbmRleCA5OTU1MmE1ZjczLi5iMjZmY2NjOTg5IDEwMDY0NA0KLS0tIGEvdG9vbHMvbGlieGMv
aW5jbHVkZS94ZW5jdHJsLmgNCisrKyBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oDQpA
QCAtMTk0Myw2ICsxOTQzLDEzIEBAIGludCB4Y19hbHRwMm1fY2hhbmdlX2dmbih4Y19pbnRlcmZh
Y2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgIHhl
bl9wZm5fdCBuZXdfZ2ZuKTsNCiBpbnQgeGNfYWx0cDJtX2dldF92Y3B1X3AybV9pZHgoeGNfaW50
ZXJmYWNlICpoYW5kbGUsIHVpbnQzMl90IGRvbWlkLA0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1aW50MzJfdCB2Y3B1aWQsIHVpbnQxNl90ICpwMm1pZHgpOw0KKy8qDQorICogU2V0
IHZpZXcgdmlzaWJpbGl0eSBmb3IgeGNfYWx0cDJtX3N3aXRjaF90b192aWV3IGFuZCB2bWZ1bmMu
DQorICogTm90ZTogSWYgYWx0cDJtIG1vZGUgaXMgc2V0IHRvIG1peGVkIHRoZSBndWVzdCBpcyBh
YmxlIHRvIGNoYW5nZSB0aGUgdmlldw0KKyAqIHZpc2liaWxpdHkgYW5kIHRoZW4gY2FsbCB2bWZ1
bmMuDQorICovDQoraW50IHhjX2FsdHAybV9zZXRfdmlzaWJpbGl0eSh4Y19pbnRlcmZhY2UgKmhh
bmRsZSwgdWludDMyX3QgZG9taWQsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50
MTZfdCB2aWV3X2lkLCBib29sIHZpc2libGUpOw0KIA0KIC8qKiANCiAgKiBNZW0gcGFnaW5nIG9w
ZXJhdGlvbnMuDQpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGMveGNfYWx0cDJtLmMgYi90b29scy9s
aWJ4Yy94Y19hbHRwMm0uYw0KaW5kZXggNDZmYjcyNTgwNi4uNjk4N2M5NTQxZiAxMDA2NDQNCi0t
LSBhL3Rvb2xzL2xpYnhjL3hjX2FsdHAybS5jDQorKysgYi90b29scy9saWJ4Yy94Y19hbHRwMm0u
Yw0KQEAgLTQxMCwzICs0MTAsMjcgQEAgaW50IHhjX2FsdHAybV9nZXRfdmNwdV9wMm1faWR4KHhj
X2ludGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21pZCwNCiAgICAgeGNfaHlwZXJjYWxsX2J1
ZmZlcl9mcmVlKGhhbmRsZSwgYXJnKTsNCiAgICAgcmV0dXJuIHJjOw0KIH0NCisNCitpbnQgeGNf
YWx0cDJtX3NldF92aXNpYmlsaXR5KHhjX2ludGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21p
ZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQxNl90IHZpZXdfaWQsIGJvb2wg
dmlzaWJsZSkNCit7DQorICAgIGludCByYzsNCisNCisgICAgREVDTEFSRV9IWVBFUkNBTExfQlVG
RkVSKHhlbl9odm1fYWx0cDJtX29wX3QsIGFyZyk7DQorDQorICAgIGFyZyA9IHhjX2h5cGVyY2Fs
bF9idWZmZXJfYWxsb2MoaGFuZGxlLCBhcmcsIHNpemVvZigqYXJnKSk7DQorICAgIGlmICggYXJn
ID09IE5VTEwgKQ0KKyAgICAgICAgcmV0dXJuIC0xOw0KKw0KKyAgICBhcmctPnZlcnNpb24gPSBI
Vk1PUF9BTFRQMk1fSU5URVJGQUNFX1ZFUlNJT047DQorICAgIGFyZy0+Y21kID0gSFZNT1BfYWx0
cDJtX3NldF92aXNpYmlsaXR5Ow0KKyAgICBhcmctPmRvbWFpbiA9IGRvbWlkOw0KKyAgICBhcmct
PnUuc2V0X3Zpc2liaWxpdHkuYWx0cDJtX2lkeCA9IHZpZXdfaWQ7DQorICAgIGFyZy0+dS5zZXRf
dmlzaWJpbGl0eS52aXNpYmxlID0gdmlzaWJsZTsNCisNCisgICAgcmMgPSB4ZW5jYWxsMihoYW5k
bGUtPnhjYWxsLCBfX0hZUEVSVklTT1JfaHZtX29wLCBIVk1PUF9hbHRwMm0sDQorICAgICAgICAg
ICAgICAgICAgSFlQRVJDQUxMX0JVRkZFUl9BU19BUkcoYXJnKSk7DQorDQorICAgIHhjX2h5cGVy
Y2FsbF9idWZmZXJfZnJlZShoYW5kbGUsIGFyZyk7DQorICAgIHJldHVybiByYzsNCit9DQpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9odm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMN
CmluZGV4IDAwYTllNzBiN2MuLmQxY2UwZjg2OWUgMTAwNjQ0DQotLS0gYS94ZW4vYXJjaC94ODYv
aHZtL2h2bS5jDQorKysgYi94ZW4vYXJjaC94ODYvaHZtL2h2bS5jDQpAQCAtNDU1OCw2ICs0NTU4
LDcgQEAgc3RhdGljIGludCBkb19hbHRwMm1fb3AoDQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX2dl
dF9tZW1fYWNjZXNzOg0KICAgICBjYXNlIEhWTU9QX2FsdHAybV9jaGFuZ2VfZ2ZuOg0KICAgICBj
YXNlIEhWTU9QX2FsdHAybV9nZXRfcDJtX2lkeDoNCisgICAgY2FzZSBIVk1PUF9hbHRwMm1fc2V0
X3Zpc2liaWxpdHk6DQogICAgICAgICBicmVhazsNCiANCiAgICAgZGVmYXVsdDoNCkBAIC00ODM1
LDYgKzQ4MzYsMjYgQEAgc3RhdGljIGludCBkb19hbHRwMm1fb3AoDQogICAgICAgICBicmVhazsN
CiAgICAgfQ0KIA0KKyAgICBjYXNlIEhWTU9QX2FsdHAybV9zZXRfdmlzaWJpbGl0eToNCisgICAg
ew0KKyAgICAgICAgdWludDE2X3QgaWR4ID0gYS51LnNldF92aXNpYmlsaXR5LmFsdHAybV9pZHg7
DQorDQorICAgICAgICBpZiAoIGEudS5zZXRfdmlzaWJpbGl0eS5wYWQgfHwNCisgICAgICAgICAg
ICAgaWR4ID49IG1pbihBUlJBWV9TSVpFKGQtPmFyY2guYWx0cDJtX3AybSksIE1BWF9FUFRQKSB8
fA0KKyAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2FycmF5X2luZGV4X25vc3BlYyhp
ZHgsIE1BWF9FUFRQKV0gPT0NCisgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pICkNCisg
ICAgICAgICAgICByYyA9IC1FSU5WQUw7DQorICAgICAgICBlbHNlIGlmICggIWFsdHAybV9hY3Rp
dmUoZCkgKQ0KKyAgICAgICAgICAgIHJjID0gLUVPUE5PVFNVUFA7DQorICAgICAgICBlbHNlIGlm
ICggYS51LnNldF92aXNpYmlsaXR5LnZpc2libGUgKQ0KKyAgICAgICAgICAgIGQtPmFyY2guYWx0
cDJtX3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaWR4LCBNQVhfRVBUUCldID0NCisg
ICAgICAgICAgICAgICAgZC0+YXJjaC5hbHRwMm1fZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaWR4
LCBNQVhfRVBUUCldOw0KKyAgICAgICAgZWxzZQ0KKyAgICAgICAgICAgIGQtPmFyY2guYWx0cDJt
X3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaWR4LCBNQVhfRVBUUCldID0NCisgICAg
ICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgYnJlYWs7DQorICAgIH0N
CisNCiAgICAgZGVmYXVsdDoNCiAgICAgICAgIEFTU0VSVF9VTlJFQUNIQUJMRSgpOw0KICAgICB9
DQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS92bXgvdm14LmMgYi94ZW4vYXJjaC94ODYv
aHZtL3ZteC92bXguYw0KaW5kZXggYmMyZjQ4YmYyYy4uOTBkZTkwOWZlYyAxMDA2NDQNCi0tLSBh
L3hlbi9hcmNoL3g4Ni9odm0vdm14L3ZteC5jDQorKysgYi94ZW4vYXJjaC94ODYvaHZtL3ZteC92
bXguYw0KQEAgLTIxNDAsNyArMjE0MCw3IEBAIHN0YXRpYyB2b2lkIHZteF92Y3B1X3VwZGF0ZV92
bWZ1bmNfdmUoc3RydWN0IHZjcHUgKnYpDQogICAgIHsNCiAgICAgICAgIHYtPmFyY2guaHZtLnZt
eC5zZWNvbmRhcnlfZXhlY19jb250cm9sIHw9IG1hc2s7DQogICAgICAgICBfX3Ztd3JpdGUoVk1f
RlVOQ1RJT05fQ09OVFJPTCwgVk1YX1ZNRlVOQ19FUFRQX1NXSVRDSElORyk7DQotICAgICAgICBf
X3Ztd3JpdGUoRVBUUF9MSVNUX0FERFIsIHZpcnRfdG9fbWFkZHIoZC0+YXJjaC5hbHRwMm1fZXB0
cCkpOw0KKyAgICAgICAgX192bXdyaXRlKEVQVFBfTElTVF9BRERSLCB2aXJ0X3RvX21hZGRyKGQt
PmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cCkpOw0KIA0KICAgICAgICAgaWYgKCBjcHVfaGFzX3Zt
eF92aXJ0X2V4Y2VwdGlvbnMgKQ0KICAgICAgICAgew0KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9tbS9oYXAvaGFwLmMgYi94ZW4vYXJjaC94ODYvbW0vaGFwL2hhcC5jDQppbmRleCAzZDkzZjM0
NTFjLi41OTY5ZWM4OTIyIDEwMDY0NA0KLS0tIGEveGVuL2FyY2gveDg2L21tL2hhcC9oYXAuYw0K
KysrIGIveGVuL2FyY2gveDg2L21tL2hhcC9oYXAuYw0KQEAgLTQ4OCw4ICs0ODgsMTcgQEAgaW50
IGhhcF9lbmFibGUoc3RydWN0IGRvbWFpbiAqZCwgdTMyIG1vZGUpDQogICAgICAgICAgICAgZ290
byBvdXQ7DQogICAgICAgICB9DQogDQorICAgICAgICBpZiAoIChkLT5hcmNoLmFsdHAybV93b3Jr
aW5nX2VwdHAgPSBhbGxvY194ZW5oZWFwX3BhZ2UoKSkgPT0gTlVMTCApDQorICAgICAgICB7DQor
ICAgICAgICAgICAgcnYgPSAtRU5PTUVNOw0KKyAgICAgICAgICAgIGdvdG8gb3V0Ow0KKyAgICAg
ICAgfQ0KKw0KICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBNQVhfRVBUUDsgaSsrICkNCisgICAg
ICAgIHsNCiAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2ldID0gbWZuX3goSU5WQUxJ
RF9NRk4pOw0KKyAgICAgICAgICAgIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFtpXSA9IG1m
bl94KElOVkFMSURfTUZOKTsNCisgICAgICAgIH0NCiANCiAgICAgICAgIGZvciAoIGkgPSAwOyBp
IDwgTUFYX0FMVFAyTTsgaSsrICkNCiAgICAgICAgIHsNCkBAIC01MjMsNiArNTMyLDEyIEBAIHZv
aWQgaGFwX2ZpbmFsX3RlYXJkb3duKHN0cnVjdCBkb21haW4gKmQpDQogICAgICAgICAgICAgZC0+
YXJjaC5hbHRwMm1fZXB0cCA9IE5VTEw7DQogICAgICAgICB9DQogDQorICAgICAgICBpZiAoIGQt
PmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cCApDQorICAgICAgICB7DQorICAgICAgICAgICAgZnJl
ZV94ZW5oZWFwX3BhZ2UoZC0+YXJjaC5hbHRwMm1fd29ya2luZ19lcHRwKTsNCisgICAgICAgICAg
ICBkLT5hcmNoLmFsdHAybV93b3JraW5nX2VwdHAgPSBOVUxMOw0KKyAgICAgICAgfQ0KKw0KICAg
ICAgICAgZm9yICggaSA9IDA7IGkgPCBNQVhfQUxUUDJNOyBpKysgKQ0KICAgICAgICAgICAgIHAy
bV90ZWFyZG93bihkLT5hcmNoLmFsdHAybV9wMm1baV0pOw0KICAgICB9DQpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L21tL3AybS1lcHQuYyBiL3hlbi9hcmNoL3g4Ni9tbS9wMm0tZXB0LmMNCmlu
ZGV4IGViMGYwZWRmZWYuLjY1MzljYTYxOWIgMTAwNjQ0DQotLS0gYS94ZW4vYXJjaC94ODYvbW0v
cDJtLWVwdC5jDQorKysgYi94ZW4vYXJjaC94ODYvbW0vcDJtLWVwdC5jDQpAQCAtMTM2OCw2ICsx
MzY4LDcgQEAgdm9pZCBwMm1faW5pdF9hbHRwMm1fZXB0KHN0cnVjdCBkb21haW4gKmQsIHVuc2ln
bmVkIGludCBpKQ0KICAgICBlcHQgPSAmcDJtLT5lcHQ7DQogICAgIGVwdC0+bWZuID0gcGFnZXRh
YmxlX2dldF9wZm4ocDJtX2dldF9wYWdldGFibGUocDJtKSk7DQogICAgIGQtPmFyY2guYWx0cDJt
X2VwdHBbYXJyYXlfaW5kZXhfbm9zcGVjKGksIE1BWF9FUFRQKV0gPSBlcHQtPmVwdHA7DQorICAg
IGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaSwgTUFYX0VQ
VFApXSA9IGVwdC0+ZXB0cDsNCiB9DQogDQogdW5zaWduZWQgaW50IHAybV9maW5kX2FsdHAybV9i
eV9lcHRwKHN0cnVjdCBkb21haW4gKmQsIHVpbnQ2NF90IGVwdHApDQpkaWZmIC0tZ2l0IGEveGVu
L2FyY2gveDg2L21tL3AybS5jIGIveGVuL2FyY2gveDg2L21tL3AybS5jDQppbmRleCA5ZjFjMjlk
N2VmLi4xM2I5NjcxNWJhIDEwMDY0NA0KLS0tIGEveGVuL2FyY2gveDg2L21tL3AybS5jDQorKysg
Yi94ZW4vYXJjaC94ODYvbW0vcDJtLmMNCkBAIC0yNTE5LDYgKzI1MTksNyBAQCB2b2lkIHAybV9m
bHVzaF9hbHRwMm0oc3RydWN0IGRvbWFpbiAqZCkNCiAgICAgew0KICAgICAgICAgcDJtX3Jlc2V0
X2FsdHAybShkLCBpLCBBTFRQMk1fREVBQ1RJVkFURSk7DQogICAgICAgICBkLT5hcmNoLmFsdHAy
bV9lcHRwW2ldID0gbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgZC0+YXJjaC5hbHRwMm1f
d29ya2luZ19lcHRwW2ldID0gbWZuX3goSU5WQUxJRF9NRk4pOw0KICAgICB9DQogDQogICAgIGFs
dHAybV9saXN0X3VubG9jayhkKTsNCkBAIC0yNjM4LDcgKzI2MzksOSBAQCBpbnQgcDJtX2Rlc3Ry
b3lfYWx0cDJtX2J5X2lkKHN0cnVjdCBkb21haW4gKmQsIHVuc2lnbmVkIGludCBpZHgpDQogICAg
ICAgICB7DQogICAgICAgICAgICAgcDJtX3Jlc2V0X2FsdHAybShkLCBpZHgsIEFMVFAyTV9ERUFD
VElWQVRFKTsNCiAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2FycmF5X2luZGV4X25v
c3BlYyhpZHgsIE1BWF9FUFRQKV0gPQ0KLSAgICAgICAgICAgIG1mbl94KElOVkFMSURfTUZOKTsN
CisgICAgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgICAgIGQtPmFy
Y2guYWx0cDJtX3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaWR4LCBNQVhfRVBUUCld
ID0NCisgICAgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KICAgICAgICAgICAgIHJj
ID0gMDsNCiAgICAgICAgIH0NCiAgICAgfQ0KQEAgLTI2NjUsNyArMjY2OCw3IEBAIGludCBwMm1f
c3dpdGNoX2RvbWFpbl9hbHRwMm1fYnlfaWQoc3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgaW50
IGlkeCkNCiAgICAgcmMgPSAtRUlOVkFMOw0KICAgICBhbHRwMm1fbGlzdF9sb2NrKGQpOw0KIA0K
LSAgICBpZiAoIGQtPmFyY2guYWx0cDJtX2VwdHBbaWR4XSAhPSBtZm5feChJTlZBTElEX01GTikg
KQ0KKyAgICBpZiAoIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFtpZHhdICE9IG1mbl94KElO
VkFMSURfTUZOKSApDQogICAgIHsNCiAgICAgICAgIGZvcl9lYWNoX3ZjcHUoIGQsIHYgKQ0KICAg
ICAgICAgICAgIGlmICggaWR4ICE9IHZjcHVfYWx0cDJtKHYpLnAybWlkeCApDQpkaWZmIC0tZ2l0
IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS14ODYvZG9t
YWluLmgNCmluZGV4IDE4NDNjNzZkMWEuLmIwMzk3MTc3NzggMTAwNjQ0DQotLS0gYS94ZW4vaW5j
bHVkZS9hc20teDg2L2RvbWFpbi5oDQorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFpbi5o
DQpAQCAtMzI2LDYgKzMyNiw3IEBAIHN0cnVjdCBhcmNoX2RvbWFpbg0KICAgICBzdHJ1Y3QgcDJt
X2RvbWFpbiAqYWx0cDJtX3AybVtNQVhfQUxUUDJNXTsNCiAgICAgbW1fbG9ja190IGFsdHAybV9s
aXN0X2xvY2s7DQogICAgIHVpbnQ2NF90ICphbHRwMm1fZXB0cDsNCisgICAgdWludDY0X3QgKmFs
dHAybV93b3JraW5nX2VwdHA7DQogI2VuZGlmDQogDQogICAgIC8qIE5CLiBwcm90ZWN0ZWQgYnkg
ZC0+ZXZlbnRfbG9jayBhbmQgYnkgaXJxX2Rlc2NbaXJxXS5sb2NrICovDQpkaWZmIC0tZ2l0IGEv
eGVuL2luY2x1ZGUvcHVibGljL2h2bS9odm1fb3AuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9odm0v
aHZtX29wLmgNCmluZGV4IGI1OTlkM2NiZDAuLjg3MGVjNTIwNjAgMTAwNjQ0DQotLS0gYS94ZW4v
aW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9vcC5oDQorKysgYi94ZW4vaW5jbHVkZS9wdWJsaWMvaHZt
L2h2bV9vcC5oDQpAQCAtMzE4LDYgKzMxOCwxMiBAQCBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fZ2V0
X3ZjcHVfcDJtX2lkeCB7DQogICAgIHVpbnQxNl90IGFsdHAybV9pZHg7DQogfTsNCiANCitzdHJ1
Y3QgeGVuX2h2bV9hbHRwMm1fc2V0X3Zpc2liaWxpdHkgew0KKyAgICB1aW50MTZfdCBhbHRwMm1f
aWR4Ow0KKyAgICB1aW50OF90IHZpc2libGU7DQorICAgIHVpbnQ4X3QgcGFkOw0KK307DQorDQog
c3RydWN0IHhlbl9odm1fYWx0cDJtX29wIHsNCiAgICAgdWludDMyX3QgdmVyc2lvbjsgICAvKiBI
Vk1PUF9BTFRQMk1fSU5URVJGQUNFX1ZFUlNJT04gKi8NCiAgICAgdWludDMyX3QgY21kOw0KQEAg
LTM1MCw2ICszNTYsOCBAQCBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fb3Agew0KICNkZWZpbmUgSFZN
T1BfYWx0cDJtX2dldF9wMm1faWR4ICAgICAgICAgIDE0DQogLyogU2V0IHRoZSAiU3VwcmVzcyAj
VkUiIGJpdCBmb3IgYSByYW5nZSBvZiBwYWdlcyAqLw0KICNkZWZpbmUgSFZNT1BfYWx0cDJtX3Nl
dF9zdXBwcmVzc192ZV9tdWx0aSAxNQ0KKy8qIFNldCB2aXNpYmlsaXR5IGZvciBhIGdpdmVuIGFs
dHAybSB2aWV3ICovDQorI2RlZmluZSBIVk1PUF9hbHRwMm1fc2V0X3Zpc2liaWxpdHkgICAgICAg
MTYNCiAgICAgZG9taWRfdCBkb21haW47DQogICAgIHVpbnQxNl90IHBhZDE7DQogICAgIHVpbnQz
Ml90IHBhZDI7DQpAQCAtMzY3LDYgKzM3NSw3IEBAIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9vcCB7
DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fc3VwcHJlc3NfdmVfbXVsdGkgICAgc3Vw
cHJlc3NfdmVfbXVsdGk7DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fdmNwdV9kaXNh
YmxlX25vdGlmeSAgZGlzYWJsZV9ub3RpZnk7DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRw
Mm1fZ2V0X3ZjcHVfcDJtX2lkeCAgICAgZ2V0X3ZjcHVfcDJtX2lkeDsNCisgICAgICAgIHN0cnVj
dCB4ZW5faHZtX2FsdHAybV9zZXRfdmlzaWJpbGl0eSAgICAgICBzZXRfdmlzaWJpbGl0eTsNCiAg
ICAgICAgIHVpbnQ4X3QgcGFkWzY0XTsNCiAgICAgfSB1Ow0KIH07DQotLSANCjIuMTcuMQ0KDQpf
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwg
bWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3Rz
LnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

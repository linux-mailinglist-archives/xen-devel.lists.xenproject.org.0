Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E1CBB1BE8
	for <lists+xen-devel@lfdr.de>; Fri, 13 Sep 2019 13:02:23 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8jHt-0001P8-4M; Fri, 13 Sep 2019 10:58:49 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Qndu=XI=citrix.com=paul.durrant@srs-us1.protection.inumbo.net>)
 id 1i8jHr-0001Od-W9
 for xen-devel@lists.xenproject.org; Fri, 13 Sep 2019 10:58:48 +0000
X-Inumbo-ID: 6fa976da-d615-11e9-b299-bc764e2007e4
Received: from esa6.hc3370-68.iphmx.com (unknown [216.71.155.175])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 6fa976da-d615-11e9-b299-bc764e2007e4;
 Fri, 13 Sep 2019 10:58:37 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568372317;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=5jwvS4Tl35YdDSfBp8RkxTeBqcch2RL+tYbyov+EQao=;
 b=MWZY5CAUU84LshfDG+LTBqMGqe37Vr6BYsqZbEbRC6d01jAgN9ruh4G3
 YGXrxuOhtNfKhTPVzQ2SI8glkCnEQ2r/TCzHgHOXrd+17finXgmDqqexm
 wRCATyjGrG3iSSmQKRepvE8ukAjXkBimuQQixOwqP/NvrGiS0JffYyELW 0=;
Authentication-Results: esa6.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=paul.durrant@citrix.com;
 spf=Pass smtp.mailfrom=Paul.Durrant@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 paul.durrant@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="paul.durrant@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa6.hc3370-68.iphmx.com: domain of
 Paul.Durrant@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="Paul.Durrant@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Paul.Durrant@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: 0F71ahxiKd0Ny9OQXk1LFg1oE40pPhOiXHn3T4ziGgxyqExpT+GTRon3ZPJj3RkhohzVlKYDSI
 tTqPz4auZdI+fKA3bfEv2l/aL8CNXiNzNCc9QT0k0+2HDqd1cL0s+3db6i+OS9xOIbnjTLVPE4
 cDYMnfdvlt6ciBPyJGAXNDDVFCNiSag5m+AEzYRvKS0/DUNoE3WmZ0yGKnPI9fTzolyARBxuV+
 /o0S1YUB1JZylMQyyWrHkMtBBQlq5KND5pkL2R+YWzUR2klsD5w6kbtmd/Sf3xqX7GMUd7M04h
 3js=
X-SBRS: 2.7
X-MesageID: 5774536
X-Ironport-Server: esa6.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,500,1559534400"; 
   d="scan'208";a="5774536"
From: Paul Durrant <paul.durrant@citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Fri, 13 Sep 2019 11:58:23 +0100
Message-ID: <20190913105826.2704-4-paul.durrant@citrix.com>
X-Mailer: git-send-email 2.20.1.2.gb21ebb671
In-Reply-To: <20190913105826.2704-1-paul.durrant@citrix.com>
References: <20190913105826.2704-1-paul.durrant@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v11 3/6] sysctl / libxl: report whether
 IOMMU/HAP page table sharing is supported
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Suravee Suthikulpanit <suravee.suthikulpanit@amd.com>, Wei
 Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Paul Durrant <paul.durrant@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>,
 Anthony PERARD <anthony.perard@citrix.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBwYXRjaCBkZWZpbmVzIGEgbmV3IGJpdCByZXBvcnRlZCBpbiB0aGUgaHdfY2FwIGZpZWxk
IG9mIHN0cnVjdAp4ZW5fc3lzY3RsX3BoeXNpbmZvIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIHBs
YXRmb3JtIHN1cHBvcnRzIHNoYXJpbmcgb2YKSEFQIHBhZ2UgdGFibGVzIChpLmUuIHRoZSBQMk0p
IHdpdGggdGhlIElPTU1VLiBUaGlzIGluZm9ybXMgdGhlIHRvb2xzdGFjawp3aGV0aGVyIHRoZSBk
b21haW4gbmVlZHMgZXh0cmEgbWVtb3J5IHRvIHN0b3JlIGRpc2NyZXRlIElPTU1VIHBhZ2UgdGFi
bGVzCm9yIG5vdC4KCk5PVEU6IFRoaXMgcGF0Y2ggbWFrZXMgc3VyZSBpb21tdV9oYXBfcHRfc2hh
cmVkIGlzIGNsZWFyIGlmIEhBUCBpcyBub3QKICAgICAgc3VwcG9ydGVkIG9yIHRoZSBJT01NVSBp
cyBkaXNhYmxlZCwgYW5kIGRlZmluZXMgaXQgdG8gZmFsc2UgaWYKICAgICAgIUNPTkZJR19IVk0u
CgpTaWduZWQtb2ZmLWJ5OiBQYXVsIER1cnJhbnQgPHBhdWwuZHVycmFudEBjaXRyaXguY29tPgpB
Y2tlZC1ieTogQ2hyaXN0aWFuIExpbmRpZyA8Y2hyaXN0aWFuLmxpbmRpZ0BjaXRyaXguY29tPgot
LS0KQ2M6IElhbiBKYWNrc29uIDxpYW4uamFja3NvbkBldS5jaXRyaXguY29tPgpDYzogV2VpIExp
dSA8d2xAeGVuLm9yZz4KQ2M6IEFudGhvbnkgUEVSQVJEIDxhbnRob255LnBlcmFyZEBjaXRyaXgu
Y29tPgpDYzogQW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KQ2M6IEdl
b3JnZSBEdW5sYXAgPEdlb3JnZS5EdW5sYXBAZXUuY2l0cml4LmNvbT4KQ2M6IEphbiBCZXVsaWNo
IDxqYmV1bGljaEBzdXNlLmNvbT4KQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5j
b20+CkNjOiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNsZS5jb20+CkNj
OiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+CkNjOiBUaW0gRGVl
Z2FuIDx0aW1AeGVuLm9yZz4KQ2M6IENocmlzdGlhbiBMaW5kaWcgPGNocmlzdGlhbi5saW5kaWdA
Y2l0cml4LmNvbT4KQ2M6IERhdmlkIFNjb3R0IDxkYXZlQHJlY29pbC5vcmc+CkNjOiAiUm9nZXIg
UGF1IE1vbm7DqSIgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgpDYzogU3VyYXZlZSBTdXRoaWt1bHBh
bml0IDxzdXJhdmVlLnN1dGhpa3VscGFuaXRAYW1kLmNvbT4KQ2M6IEtldmluIFRpYW4gPGtldmlu
LnRpYW5AaW50ZWwuY29tPgoKdjExOgogLSBGaXggYWJpLWNoZWNrIGJyZWFrYWdlCgp2MTA6CiAt
IFNldCBmbGFnIGluIGNvbW1vbiBjb2RlICh3aGljaCBtZWFucyBjbGVhcmluZyBpb21tdV9oYXBf
cHRfc2hhcmUgaWYKICAgSEFQIGNhbm5vdCBiZSBlbmFibGVkIG9yIGlzIGNvbmZpZ3VyZWQgb3V0
KS4KCnY5OgogLSBOZXcgaW4gdjkKLS0tCiB0b29scy9saWJ4bC9saWJ4bC5jICAgICAgICAgICAg
ICAgICAgICAgIHwgIDIgKysKIHRvb2xzL2xpYnhsL2xpYnhsLmggICAgICAgICAgICAgICAgICAg
ICAgfCAgNyArKysrKysrCiB0b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwgICAgICAgICAgICAg
IHwgIDEgKwogdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sICAgICAgICAgICB8ICAxICsK
IHRvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkgICAgICAgICAgfCAgMyArKy0KIHRvb2xz
L3hsL3hsX2luZm8uYyAgICAgICAgICAgICAgICAgICAgICAgfCAgNSArKystLQogeGVuL2FyY2gv
eDg2L2h2bS9odm0uYyAgICAgICAgICAgICAgICAgICB8IDI1ICsrKysrKysrKysrKysrKysrLS0t
LS0tLQogeGVuL2NvbW1vbi9zeXNjdGwuYyAgICAgICAgICAgICAgICAgICAgICB8ICAyICsrCiB4
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jIHwgIDUgKysrKy0KIHhlbi9k
cml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMgICAgICAgICAgfCAxOCArKysrKysrKysrKysrKysr
LQogeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2lvbW11LmMgICAgICB8ICA2ICsrKysrLQog
eGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oICAgICAgICAgICAgICB8ICA2ICsrKysrLQogeGVu
L2luY2x1ZGUveGVuL2lvbW11LmggICAgICAgICAgICAgICAgICB8ICA4ICsrKysrKystCiAxMyBm
aWxlcyBjaGFuZ2VkLCA3NCBpbnNlcnRpb25zKCspLCAxNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS90b29scy9saWJ4bC9saWJ4bC5jIGIvdG9vbHMvbGlieGwvbGlieGwuYwppbmRleCA1NzA3
M2MwNmQ1Li5hMGQ4NDI4MWQwIDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9saWJ4bC5jCisrKyBi
L3Rvb2xzL2xpYnhsL2xpYnhsLmMKQEAgLTQwMiw2ICs0MDIsOCBAQCBpbnQgbGlieGxfZ2V0X3Bo
eXNpbmZvKGxpYnhsX2N0eCAqY3R4LCBsaWJ4bF9waHlzaW5mbyAqcGh5c2luZm8pCiAgICAgcGh5
c2luZm8tPmNhcF9oYXAgPSAhISh4Y3BoeXNpbmZvLmNhcGFiaWxpdGllcyAmIFhFTl9TWVNDVExf
UEhZU0NBUF9oYXApOwogICAgIHBoeXNpbmZvLT5jYXBfc2hhZG93ID0KICAgICAgICAgISEoeGNw
aHlzaW5mby5jYXBhYmlsaXRpZXMgJiBYRU5fU1lTQ1RMX1BIWVNDQVBfc2hhZG93KTsKKyAgICBw
aHlzaW5mby0+Y2FwX2lvbW11X2hhcF9wdF9zaGFyZSA9CisgICAgICAgICEhKHhjcGh5c2luZm8u
Y2FwYWJpbGl0aWVzICYgWEVOX1NZU0NUTF9QSFlTQ0FQX2lvbW11X2hhcF9wdF9zaGFyZSk7CiAK
ICAgICBHQ19GUkVFOwogICAgIHJldHVybiAwOwpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGli
eGwuaCBiL3Rvb2xzL2xpYnhsL2xpYnhsLmgKaW5kZXggNDY2ZGYyY2RmNS4uODE2OWQ0NGJkYSAx
MDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGwuaAorKysgYi90b29scy9saWJ4bC9saWJ4bC5o
CkBAIC00MDEsNiArNDAxLDEzIEBACiAgKi8KICNkZWZpbmUgTElCWExfSEFWRV9QSFlTSU5GT19D
QVBfSEFQX1NIQURPVyAxCiAKKy8qCisgKiBMSUJYTF9IQVZFX1BIWVNJTkZPX0NBUF9JT01NVV9I
QVBfUFRfU0hBUkUgaW5kaWNhdGVzIHRoYXQgbGlieGxfcGh5c2luZm8KKyAqIGhhcyBhIGNhcF9p
b21tdV9oYXBfcHRfc2hhcmUgZmllbGQgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgaGFyZHdh
cmUKKyAqIHN1cHBvcnRzIHNoYXJpbmcgdGhlIElPTU1VIGFuZCBIQVAgcGFnZSB0YWJsZXMuCisg
Ki8KKyNkZWZpbmUgTElCWExfSEFWRV9QSFlTSU5GT19DQVBfSU9NTVVfSEFQX1BUX1NIQVJFIDEK
KwogLyoKICAqIGxpYnhsIEFCSSBjb21wYXRpYmlsaXR5CiAgKgpkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGwvbGlieGxfdHlwZXMuaWRsIGIvdG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRsCmluZGV4
IDZmNDMxYmFlYzIuLjcyNTNkNmUwZmIgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xpYnhsX3R5
cGVzLmlkbAorKysgYi90b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwKQEAgLTEwMjcsNiArMTAy
Nyw3IEBAIGxpYnhsX3BoeXNpbmZvID0gU3RydWN0KCJwaHlzaW5mbyIsIFsKICAgICAoImNhcF9o
dm1fZGlyZWN0aW8iLCBib29sKSwgIyBObyBsb25nZXIgSFZNIHNwZWNpZmljCiAgICAgKCJjYXBf
aGFwIiwgYm9vbCksCiAgICAgKCJjYXBfc2hhZG93IiwgYm9vbCksCisgICAgKCJjYXBfaW9tbXVf
aGFwX3B0X3NoYXJlIiwgYm9vbCksCiAgICAgXSwgZGlyPURJUl9PVVQpCiAKIGxpYnhsX2Nvbm5l
Y3RvcmluZm8gPSBTdHJ1Y3QoImNvbm5lY3RvcmluZm8iLCBbCmRpZmYgLS1naXQgYS90b29scy9v
Y2FtbC9saWJzL3hjL3hlbmN0cmwubWwgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwK
aW5kZXggMzVkZGRiYmQ5Yy4uZGU0YmFlNjAxMiAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGli
cy94Yy94ZW5jdHJsLm1sCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbApAQCAt
MTEwLDYgKzExMCw3IEBAIHR5cGUgcGh5c2luZm9fY2FwX2ZsYWcgPQogCXwgQ0FQX0RpcmVjdElP
CiAJfCBDQVBfSEFQCiAJfCBDQVBfU2hhZG93CisJfCBDQVBfSU9NTVVfSEFQX1BUX1NIQVJFCiAK
IHR5cGUgcGh5c2luZm8gPQogewpkaWZmIC0tZ2l0IGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5j
dHJsLm1saSBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkKaW5kZXggMGRkNTVlOWQ4
Yi4uYzg4NWU3NTg5NSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1s
aQorKysgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpCkBAIC01Nyw3ICs1Nyw2IEBA
IHR5cGUgZG9tYWluX2NyZWF0ZV9mbGFnID0KICAgfCBDREZfT09TX09GRgogICB8IENERl9YU19E
T01BSU4KICAgfCBDREZfSU9NTVUKLQogdHlwZSBkb21jdGxfY3JlYXRlX2NvbmZpZyA9IHsKICAg
c3NpZHJlZjogaW50MzI7CiAgIGhhbmRsZTogc3RyaW5nOwpAQCAtOTUsNiArOTQsOCBAQCB0eXBl
IHBoeXNpbmZvX2NhcF9mbGFnID0KICAgfCBDQVBfRGlyZWN0SU8KICAgfCBDQVBfSEFQCiAgIHwg
Q0FQX1NoYWRvdworICB8IENBUF9JT01NVV9IQVBfUFRfU0hBUkUKKwogdHlwZSBwaHlzaW5mbyA9
IHsKICAgdGhyZWFkc19wZXJfY29yZSA6IGludDsKICAgY29yZXNfcGVyX3NvY2tldCA6IGludDsK
ZGlmZiAtLWdpdCBhL3Rvb2xzL3hsL3hsX2luZm8uYyBiL3Rvb2xzL3hsL3hsX2luZm8uYwppbmRl
eCAxNDhjNDc0MGFlLi5iZmJjYTkzOTk3IDEwMDY0NAotLS0gYS90b29scy94bC94bF9pbmZvLmMK
KysrIGIvdG9vbHMveGwveGxfaW5mby5jCkBAIC0yMTAsMTMgKzIxMCwxNCBAQCBzdGF0aWMgdm9p
ZCBvdXRwdXRfcGh5c2luZm8odm9pZCkKICAgICAgICAgIGluZm8uaHdfY2FwWzRdLCBpbmZvLmh3
X2NhcFs1XSwgaW5mby5od19jYXBbNl0sIGluZm8uaHdfY2FwWzddCiAgICAgICAgICk7CiAKLSAg
ICBtYXliZV9wcmludGYoInZpcnRfY2FwcyAgICAgICAgICAgICAgOiVzJXMlcyVzJXMlc1xuIiwK
KyAgICBtYXliZV9wcmludGYoInZpcnRfY2FwcyAgICAgICAgICAgICAgOiVzJXMlcyVzJXMlcyVz
XG4iLAogICAgICAgICAgaW5mby5jYXBfcHYgPyAiIHB2IiA6ICIiLAogICAgICAgICAgaW5mby5j
YXBfaHZtID8gIiBodm0iIDogIiIsCiAgICAgICAgICBpbmZvLmNhcF9odm0gJiYgaW5mby5jYXBf
aHZtX2RpcmVjdGlvID8gIiBodm1fZGlyZWN0aW8iIDogIiIsCiAgICAgICAgICBpbmZvLmNhcF9w
diAmJiBpbmZvLmNhcF9odm1fZGlyZWN0aW8gPyAiIHB2X2RpcmVjdGlvIiA6ICIiLAogICAgICAg
ICAgaW5mby5jYXBfaGFwID8gIiBoYXAiIDogIiIsCi0gICAgICAgICBpbmZvLmNhcF9zaGFkb3cg
PyAiIHNoYWRvdyIgOiAiIgorICAgICAgICAgaW5mby5jYXBfc2hhZG93ID8gIiBzaGFkb3ciIDog
IiIsCisgICAgICAgICBpbmZvLmNhcF9pb21tdV9oYXBfcHRfc2hhcmUgPyAiIGlvbW11X2hhcF9w
dF9zaGFyZSIgOiAiIgogICAgICAgICApOwogCiAgICAgdmluZm8gPSBsaWJ4bF9nZXRfdmVyc2lv
bl9pbmZvKGN0eCk7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jIGIveGVuL2Fy
Y2gveDg2L2h2bS9odm0uYwppbmRleCAzODMxYzZkNGMxLi5lZDgyNzJjZjkzIDEwMDY0NAotLS0g
YS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMKQEAg
LTE0Miw2ICsxNDIsMjIgQEAgc3RhdGljIHN0cnVjdCBub3RpZmllcl9ibG9jayBjcHVfbmZiID0g
ewogICAgIC5ub3RpZmllcl9jYWxsID0gY3B1X2NhbGxiYWNrCiB9OwogCitzdGF0aWMgYm9vbCBf
X2luaXQgaGFwX3N1cHBvcnRlZChjb25zdCBzdHJ1Y3QgaHZtX2Z1bmN0aW9uX3RhYmxlICpmbnMp
Cit7CisgICAgaWYgKCAhZm5zLT5oYXBfc3VwcG9ydGVkICkKKyAgICB7CisgICAgICAgIHByaW50
aygiSFZNOiBIYXJkd2FyZSBBc3Npc3RlZCBQYWdpbmcgKEhBUCkgbm90IGRldGVjdGVkXG4iKTsK
KyAgICAgICAgcmV0dXJuIGZhbHNlOworICAgIH0KKyAgICBlbHNlIGlmICggIW9wdF9oYXBfZW5h
YmxlZCApCisgICAgeworICAgICAgICBwcmludGsoIkhWTTogSGFyZHdhcmUgQXNzaXN0ZWQgUGFn
aW5nIChIQVApIGRldGVjdGVkIGJ1dCBkaXNhYmxlZFxuIik7CisgICAgICAgIHJldHVybiBmYWxz
ZTsKKyAgICB9CisKKyAgICByZXR1cm4gdHJ1ZTsKK30KKwogc3RhdGljIGludCBfX2luaXQgaHZt
X2VuYWJsZSh2b2lkKQogewogICAgIGNvbnN0IHN0cnVjdCBodm1fZnVuY3Rpb25fdGFibGUgKmZu
cyA9IE5VTEw7CkBAIC0xNTgsMTMgKzE3NCw4IEBAIHN0YXRpYyBpbnQgX19pbml0IGh2bV9lbmFi
bGUodm9pZCkKICAgICBodm1fZW5hYmxlZCA9IDE7CiAKICAgICBwcmludGsoIkhWTTogJXMgZW5h
YmxlZFxuIiwgZm5zLT5uYW1lKTsKLSAgICBpZiAoICFmbnMtPmhhcF9zdXBwb3J0ZWQgKQotICAg
ICAgICBwcmludGsoIkhWTTogSGFyZHdhcmUgQXNzaXN0ZWQgUGFnaW5nIChIQVApIG5vdCBkZXRl
Y3RlZFxuIik7Ci0gICAgZWxzZSBpZiAoICFvcHRfaGFwX2VuYWJsZWQgKQotICAgIHsKLSAgICAg
ICAgaHZtX2Z1bmNzLmhhcF9zdXBwb3J0ZWQgPSAwOwotICAgICAgICBwcmludGsoIkhWTTogSGFy
ZHdhcmUgQXNzaXN0ZWQgUGFnaW5nIChIQVApIGRldGVjdGVkIGJ1dCBkaXNhYmxlZFxuIik7Ci0g
ICAgfQorICAgIGlmICggIWhhcF9zdXBwb3J0ZWQoZm5zKSApCisgICAgICAgIGlvbW11X2hhcF9w
dF9zaGFyZSA9IGZhbHNlOwogICAgIGVsc2UKICAgICB7CiAgICAgICAgIHByaW50aygiSFZNOiBI
YXJkd2FyZSBBc3Npc3RlZCBQYWdpbmcgKEhBUCkgZGV0ZWN0ZWRcbiIpOwpkaWZmIC0tZ2l0IGEv
eGVuL2NvbW1vbi9zeXNjdGwuYyBiL3hlbi9jb21tb24vc3lzY3RsLmMKaW5kZXggOTJiNGVhMGQy
MS4uZWY4NDBmY2I3NiAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9zeXNjdGwuYworKysgYi94ZW4v
Y29tbW9uL3N5c2N0bC5jCkBAIC0yNjksNiArMjY5LDggQEAgbG9uZyBkb19zeXNjdGwoWEVOX0dV
RVNUX0hBTkRMRV9QQVJBTSh4ZW5fc3lzY3RsX3QpIHVfc3lzY3RsKQogICAgICAgICBhcmNoX2Rv
X3BoeXNpbmZvKHBpKTsKICAgICAgICAgaWYgKCBpb21tdV9lbmFibGVkICkKICAgICAgICAgICAg
IHBpLT5jYXBhYmlsaXRpZXMgfD0gWEVOX1NZU0NUTF9QSFlTQ0FQX2RpcmVjdGlvOworICAgICAg
ICBpZiAoIGlvbW11X2hhcF9wdF9zaGFyZSApCisgICAgICAgICAgICBwaS0+Y2FwYWJpbGl0aWVz
IHw9IFhFTl9TWVNDVExfUEhZU0NBUF9pb21tdV9oYXBfcHRfc2hhcmU7CiAKICAgICAgICAgaWYg
KCBjb3B5X3RvX2d1ZXN0KHVfc3lzY3RsLCBvcCwgMSkgKQogICAgICAgICAgICAgcmV0ID0gLUVG
QVVMVDsKZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9pbml0
LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jCmluZGV4IGJiNWEz
ZTU3YzkuLjJlMDExZDRlNDMgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2Ft
ZC9pb21tdV9pbml0LmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2lu
aXQuYwpAQCAtMTQwMSwxMiArMTQwMSwxNSBAQCBpbnQgX19pbml0IGFtZF9pb21tdV9pbml0KGJv
b2wgeHQpCiAgICAgaWYgKCByYyApCiAgICAgICAgIGdvdG8gZXJyb3Jfb3V0OwogCisjaWZuZGVm
IGlvbW11X2hhcF9wdF9zaGFyZQogICAgIC8qCiAgICAgICogRGlzYWJsZSBzaGFyaW5nIEhBUCBw
YWdlIHRhYmxlcyB3aXRoIEFNRCBJT01NVSwKICAgICAgKiBzaW5jZSBpdCBvbmx5IHN1cHBvcnRz
IHAybV9yYW1fcncsIGFuZCB0aGlzIHdvdWxkCiAgICAgICogcHJldmVudCBkb2luZyBJTyB0by9m
cm9tIG1hcHBlZCBncmFudCBmcmFtZXMuCiAgICAgICovCi0gICAgaW9tbXVfaGFwX3B0X3NoYXJl
ID0gMDsKKyAgICBpb21tdV9oYXBfcHRfc2hhcmUgPSBmYWxzZTsKKyNlbmRpZgorCiAgICAgcHJp
bnRrKFhFTkxPR19ERUJVRyAiQU1ELVZpOiBEaXNhYmxlZCBIQVAgbWVtb3J5IG1hcCBzaGFyaW5n
IHdpdGggSU9NTVVcbiIpOwogCiAgICAgLyogcGVyIGlvbW11IGluaXRpYWxpemF0aW9uICAqLwpk
aWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL2lvbW11LmMKaW5kZXggMDljZTlkOTI5NC4uYmRmMTJmODVlNiAxMDA2NDQK
LS0tIGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9pb21tdS5jCkBAIC00OSw3ICs0OSwxMSBAQCBpbnQ4X3QgX19od2RvbV9pbml0
ZGF0YSBpb21tdV9od2RvbV9yZXNlcnZlZCA9IC0xOwogICogZGVmYXVsdCB1bnRpbCB3ZSBmaW5k
IGEgZ29vZCBzb2x1dGlvbiB0byByZXNvbHZlIGl0LgogICovCiBib29sX3QgX19yZWFkX21vc3Rs
eSBpb21tdV9pbnRwb3N0OwotYm9vbF90IF9fcmVhZF9tb3N0bHkgaW9tbXVfaGFwX3B0X3NoYXJl
ID0gMTsKKworI2lmbmRlZiBpb21tdV9oYXBfcHRfc2hhcmUKK2Jvb2wgX19yZWFkX21vc3RseSBp
b21tdV9oYXBfcHRfc2hhcmUgPSB0cnVlOworI2VuZGlmCisKIGJvb2xfdCBfX3JlYWRfbW9zdGx5
IGlvbW11X2RlYnVnOwogYm9vbF90IF9fcmVhZF9tb3N0bHkgYW1kX2lvbW11X3BlcmRldl9pbnRy
ZW1hcCA9IDE7CiAKQEAgLTEwMyw3ICsxMDcsMTQgQEAgc3RhdGljIGludCBfX2luaXQgcGFyc2Vf
aW9tbXVfcGFyYW0oY29uc3QgY2hhciAqcykKICAgICAgICAgZWxzZSBpZiAoICh2YWwgPSBwYXJz
ZV9ib29sZWFuKCJkb20wLXN0cmljdCIsIHMsIHNzKSkgPj0gMCApCiAgICAgICAgICAgICBpb21t
dV9od2RvbV9zdHJpY3QgPSB2YWw7CiAgICAgICAgIGVsc2UgaWYgKCAodmFsID0gcGFyc2VfYm9v
bGVhbigic2hhcmVwdCIsIHMsIHNzKSkgPj0gMCApCisgICAgICAgIHsKKyNpZm5kZWYgaW9tbXVf
aGFwX3B0X3NoYXJlCiAgICAgICAgICAgICBpb21tdV9oYXBfcHRfc2hhcmUgPSB2YWw7CisjZWxz
ZQorICAgICAgICAgICAgaWYgKHZhbCAhPSBpb21tdV9oYXBfcHRfc2hhcmUpCisgICAgICAgICAg
ICAgICAgcmMgPSAtRUlOVkFMOworI2VuZGlmCisgICAgICAgIH0KICAgICAgICAgZWxzZQogICAg
ICAgICAgICAgcmMgPSAtRUlOVkFMOwogCkBAIC01MTEsNyArNTIyLDEyIEBAIGludCBfX2luaXQg
aW9tbXVfc2V0dXAodm9pZCkKICAgICAgICAgaW9tbXVfZW5hYmxlZCA9IChyYyA9PSAwKTsKICAg
ICB9CiAgICAgaWYgKCAhaW9tbXVfZW5hYmxlZCApCisgICAgewogICAgICAgICBpb21tdV9pbnRy
ZW1hcCA9IDA7CisjaWZuZGVmIGlvbW11X2hhcF9wdF9zaGFyZQorICAgICAgICBpb21tdV9oYXBf
cHRfc2hhcmUgPSBmYWxzZTsKKyNlbmRpZgorICAgIH0KIAogICAgIGlmICggKGZvcmNlX2lvbW11
ICYmICFpb21tdV9lbmFibGVkKSB8fAogICAgICAgICAgKGZvcmNlX2ludHJlbWFwICYmICFpb21t
dV9pbnRyZW1hcCkgKQpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvdnRkL2lv
bW11LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUuYwppbmRleCA3ZmZhZmRj
MDY1Li5hNzM4MWE3NDQ5IDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQv
aW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9tbXUuYwpAQCAtMTg5
OCw2ICsxODk4LDcgQEAgaW50IGlvbW11X3B0ZV9mbHVzaChzdHJ1Y3QgZG9tYWluICpkLCB1aW50
NjRfdCBkZm4sIHVpbnQ2NF90ICpwdGUsCiAgICAgcmV0dXJuIHJjOwogfQogCisjaWZuZGVmIGlv
bW11X2hhcF9wdF9zaGFyZQogc3RhdGljIGludCBfX2luaXQgdnRkX2VwdF9wYWdlX2NvbXBhdGli
bGUoc3RydWN0IHZ0ZF9pb21tdSAqaW9tbXUpCiB7CiAgICAgdTY0IGVwdF9jYXAsIHZ0ZF9jYXAg
PSBpb21tdS0+Y2FwOwpAQCAtMTkxMCw2ICsxOTExLDcgQEAgc3RhdGljIGludCBfX2luaXQgdnRk
X2VwdF9wYWdlX2NvbXBhdGlibGUoc3RydWN0IHZ0ZF9pb21tdSAqaW9tbXUpCiAgICAgcmV0dXJu
IChlcHRfaGFzXzJtYihlcHRfY2FwKSAmJiBvcHRfaGFwXzJtYikgPT0gY2FwX3Nwc18ybWIodnRk
X2NhcCkgJiYKICAgICAgICAgICAgKGVwdF9oYXNfMWdiKGVwdF9jYXApICYmIG9wdF9oYXBfMWdi
KSA9PSBjYXBfc3BzXzFnYih2dGRfY2FwKTsKIH0KKyNlbmRpZgogCiAvKgogICogc2V0IFZULWQg
cGFnZSB0YWJsZSBkaXJlY3RvcnkgdG8gRVBUIHRhYmxlIGlmIGFsbG93ZWQKQEAgLTIzMDksOCAr
MjMxMSwxMCBAQCBzdGF0aWMgaW50IF9faW5pdCB2dGRfc2V0dXAodm9pZCkKICAgICAgICAgaWYg
KCAhY2FwX2ludHJfcG9zdChpb21tdS0+Y2FwKSB8fCAhaW9tbXVfaW50cmVtYXAgfHwgIWNwdV9o
YXNfY3gxNiApCiAgICAgICAgICAgICBpb21tdV9pbnRwb3N0ID0gMDsKIAorI2lmbmRlZiBpb21t
dV9oYXBfcHRfc2hhcmUKICAgICAgICAgaWYgKCAhdnRkX2VwdF9wYWdlX2NvbXBhdGlibGUoaW9t
bXUpICkKLSAgICAgICAgICAgIGlvbW11X2hhcF9wdF9zaGFyZSA9IDA7CisgICAgICAgICAgICBp
b21tdV9oYXBfcHRfc2hhcmUgPSBmYWxzZTsKKyNlbmRpZgogCiAgICAgICAgIHJldCA9IGlvbW11
X3NldF9pbnRlcnJ1cHQoZHJoZCk7CiAgICAgICAgIGlmICggcmV0ICkKZGlmZiAtLWdpdCBhL3hl
bi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaApp
bmRleCBlMzI0NDQyZjkyLi4xOTQ1N2E0ZTMwIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJs
aWMvc3lzY3RsLmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oCkBAIC05Niw5ICs5
NiwxMyBAQCBzdHJ1Y3QgeGVuX3N5c2N0bF90YnVmX29wIHsKIC8qIFRoZSBwbGF0Zm9ybSBzdXBw
b3J0cyBzb2Z0d2FyZSBwYWdpbmcuICovCiAjZGVmaW5lIF9YRU5fU1lTQ1RMX1BIWVNDQVBfc2hh
ZG93ICAgICAgIDQKICNkZWZpbmUgWEVOX1NZU0NUTF9QSFlTQ0FQX3NoYWRvdyAgICAgICAgKDF1
PDxfWEVOX1NZU0NUTF9QSFlTQ0FQX3NoYWRvdykKKy8qIFRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBz
aGFyaW5nIG9mIEhBUCBwYWdlIHRhYmxlcyB3aXRoIHRoZSBJT01NVS4gKi8KKyNkZWZpbmUgX1hF
Tl9TWVNDVExfUEhZU0NBUF9pb21tdV9oYXBfcHRfc2hhcmUgNQorI2RlZmluZSBYRU5fU1lTQ1RM
X1BIWVNDQVBfaW9tbXVfaGFwX3B0X3NoYXJlICBcCisgICAgKDF1IDw8IF9YRU5fU1lTQ1RMX1BI
WVNDQVBfaW9tbXVfaGFwX3B0X3NoYXJlKQogCiAvKiBNYXggWEVOX1NZU0NUTF9QSFlTQ0FQXyog
Y29uc3RhbnQuICBVc2VkIGZvciBBQkkgY2hlY2tpbmcuICovCi0jZGVmaW5lIFhFTl9TWVNDVExf
UEhZU0NBUF9NQVggWEVOX1NZU0NUTF9QSFlTQ0FQX3NoYWRvdworI2RlZmluZSBYRU5fU1lTQ1RM
X1BIWVNDQVBfTUFYIFhFTl9TWVNDVExfUEhZU0NBUF9pb21tdV9oYXBfcHRfc2hhcmUKIAogc3Ry
dWN0IHhlbl9zeXNjdGxfcGh5c2luZm8gewogICAgIHVpbnQzMl90IHRocmVhZHNfcGVyX2NvcmU7
CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS94ZW4vaW9tbXUuaCBiL3hlbi9pbmNsdWRlL3hlbi9p
b21tdS5oCmluZGV4IGFiMjU4Yjg0OGIuLmE1MTlmNGQ4N2IgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNs
dWRlL3hlbi9pb21tdS5oCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9pb21tdS5oCkBAIC01NSw3ICs1
NSwxMyBAQCBzdGF0aWMgaW5saW5lIGJvb2xfdCBkZm5fZXEoZGZuX3QgeCwgZGZuX3QgeSkKIGV4
dGVybiBib29sX3QgaW9tbXVfZW5hYmxlLCBpb21tdV9lbmFibGVkOwogZXh0ZXJuIGJvb2xfdCBm
b3JjZV9pb21tdSwgaW9tbXVfdmVyYm9zZSwgaW9tbXVfaWdmeDsKIGV4dGVybiBib29sX3QgaW9t
bXVfc25vb3AsIGlvbW11X3FpbnZhbCwgaW9tbXVfaW50cmVtYXAsIGlvbW11X2ludHBvc3Q7Ci1l
eHRlcm4gYm9vbF90IGlvbW11X2hhcF9wdF9zaGFyZTsKKworI2lmZGVmIENPTkZJR19IVk0KK2V4
dGVybiBib29sIGlvbW11X2hhcF9wdF9zaGFyZTsKKyNlbHNlCisjZGVmaW5lIGlvbW11X2hhcF9w
dF9zaGFyZSBmYWxzZQorI2VuZGlmCisKIGV4dGVybiBib29sX3QgaW9tbXVfZGVidWc7CiBleHRl
cm4gYm9vbF90IGFtZF9pb21tdV9wZXJkZXZfaW50cmVtYXA7CiAKLS0gCjIuMjAuMS4yLmdiMjFl
YmI2NzEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpY
ZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRw
czovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

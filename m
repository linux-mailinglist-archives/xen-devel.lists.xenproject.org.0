Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E8D6D333D4
	for <lists+xen-devel@lfdr.de>; Mon,  3 Jun 2019 17:45:12 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hXp4Y-0007Kt-HK; Mon, 03 Jun 2019 15:40:30 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=TYzS=UC=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1hXp4W-0007Ko-BQ
 for xen-devel@lists.xenproject.org; Mon, 03 Jun 2019 15:40:28 +0000
X-Inumbo-ID: e748eeaa-8615-11e9-9318-33b27b9cb591
Received: from prv1-mh.provo.novell.com (unknown [137.65.248.33])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id e748eeaa-8615-11e9-9318-33b27b9cb591;
 Mon, 03 Jun 2019 15:40:25 +0000 (UTC)
Received: from INET-PRV1-MTA by prv1-mh.provo.novell.com
 with Novell_GroupWise; Mon, 03 Jun 2019 09:40:23 -0600
Message-Id: <5CF53F630200007800234B85@prv1-mh.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 18.1.1 
Date: Mon, 03 Jun 2019 09:40:19 -0600
From: "Jan Beulich" <JBeulich@suse.com>
To: "Roger Pau Monne" <roger.pau@citrix.com>
References: <5CEE5C4D02000078002335A0@prv1-mh.provo.novell.com>
 <20190603141254.neovzuf2rdxywhss@Air-de-Roger>
In-Reply-To: <20190603141254.neovzuf2rdxywhss@Air-de-Roger>
Mime-Version: 1.0
Content-Disposition: inline
Subject: Re: [Xen-devel] [PATCH] x86/SMP: don't try to stop already stopped
 CPUs
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, WeiLiu <wl@xen.org>,
 xen-devel <xen-devel@lists.xenproject.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Pj4+IE9uIDAzLjA2LjE5IGF0IDE2OjEyLCA8cm9nZXIucGF1QGNpdHJpeC5jb20+IHdyb3RlOgo+
IE9uIFdlZCwgTWF5IDI5LCAyMDE5IGF0IDA0OjE3OjQ5QU0gLTA2MDAsIEphbiBCZXVsaWNoIHdy
b3RlOgo+PiBJbiBwYXJ0aWN1bGFyIHdpdGggYW4gZW5hYmxlZCBJT01NVSAoYnV0IG5vdCByZWFs
bHkgbGltaXRlZCB0byB0aGlzCj4+IGNhc2UpLCB0cnlpbmcgdG8gaW52b2tlIGZpeHVwX2lycXMo
KSBhZnRlciBoYXZpbmcgYWxyZWFkeSBkb25lCj4+IGRpc2FibGVfSU9fQVBJQygpIC0+IGNsZWFy
X0lPX0FQSUMoKSBpcyBhIHJhdGhlciBiYWQgaWRlYToKPj4gCj4+ICBSSVA6ICAgIGUwMDg6Wzxm
ZmZmODJkMDgwMjZhMDM2Pl0gYW1kX2lvbW11X3JlYWRfaW9hcGljX2Zyb21faXJlKzB4ZGUvMHgx
MTMKPj4gIFJGTEFHUzogMDAwMDAwMDAwMDAxMDAwNiAgIENPTlRFWFQ6IGh5cGVydmlzb3IgKGQw
djApCj4+ICByYXg6IGZmZmY4MzIwMjkxZGUwMGMgICByYng6IDAwMDAwMDAwMDAwMDAwMDMgICBy
Y3g6IGZmZmY4MzIwMzUwMDAwMDAKPj4gIHJkeDogMDAwMDAwMDAwMDAwMDAwMCAgIHJzaTogMDAw
MDAwMDAwMDAwMDAwMCAgIHJkaTogZmZmZjgyZDA4MDVjYTg0MAo+PiAgcmJwOiBmZmZmODMwMDll
OGE3OWM4ICAgcnNwOiBmZmZmODMwMDllOGE3OWE4ICAgcjg6ICAwMDAwMDAwMDAwMDAwMDAwCj4+
ICByOTogIDAwMDAwMDAwMDAwMDAwMDQgICByMTA6IDAwMDAwMDAwMDAwOGI5ZjkgICByMTE6IDAw
MDAwMDAwMDAwMDAwMDYKPj4gIHIxMjogMDAwMDAwMDAwMDAxMDAwMCAgIHIxMzogMDAwMDAwMDAw
MDAwMDAwMyAgIHIxNDogMDAwMDAwMDAwMDAwMDAwMAo+PiAgcjE1OiAwMDAwMDAwMGZmZmVmZmZm
ICAgY3IwOiAwMDAwMDAwMDgwMDUwMDMzICAgY3I0OiAwMDAwMDAwMDAwMzQwNmUwCj4+ICBjcjM6
IDAwMDAwMDIwMzVkNTkwMDAgICBjcjI6IGZmZmY4ODgyNGNjYjRlZTAKPj4gIGZzYjogMDAwMDdm
MjE0M2YwODg0MCAgIGdzYjogZmZmZjg4ODI1NmEwMDAwMCAgIGdzczogMDAwMDAwMDAwMDAwMDAw
MAo+PiAgZHM6IDAwMDAgICBlczogMDAwMCAgIGZzOiAwMDAwICAgZ3M6IDAwMDAgICBzczogZTAx
MCAgIGNzOiBlMDA4Cj4+ICBYZW4gY29kZSBhcm91bmQgPGZmZmY4MmQwODAyNmEwMzY+IAo+IChh
bWRfaW9tbXVfcmVhZF9pb2FwaWNfZnJvbV9pcmUrMHhkZS8weDExMyk6Cj4+ICAgZmYgMDcgMDAg
MDAgMzkgZDMgNzQgMDIgPDBmPiAwYiA0MSA4MSBlNCAwMCBmOCBmZiBmZiA4YiAxMCA4OSBkMCAy
NSAwMCAwMAo+PiAgWGVuIHN0YWNrIHRyYWNlIGZyb20gcnNwPWZmZmY4MzAwOWU4YTc5YTg6Cj4+
ICAuLi4KPj4gIFhlbiBjYWxsIHRyYWNlOgo+PiAgICAgWzxmZmZmODJkMDgwMjZhMDM2Pl0gYW1k
X2lvbW11X3JlYWRfaW9hcGljX2Zyb21faXJlKzB4ZGUvMHgxMTMKPj4gICAgIFs8ZmZmZjgyZDA4
MDI2YmY3Yj5dIGlvbW11X3JlYWRfYXBpY19mcm9tX2lyZSsweDEwLzB4MTIKPj4gICAgIFs8ZmZm
ZjgyZDA4MDI3ZjcxOD5dIGlvX2FwaWMuYyNtb2RpZnlfSU9fQVBJQ19pcnErMHg1ZS8weDEyNgo+
PiAgICAgWzxmZmZmODJkMDgwMjdmOWM1Pl0gaW9fYXBpYy5jI3VubWFza19JT19BUElDX2lycSsw
eDJkLzB4NDEKPj4gICAgIFs8ZmZmZjgyZDA4MDI4OWJjNz5dIGZpeHVwX2lycXMrMHgzMjAvMHg0
MGIKPj4gICAgIFs8ZmZmZjgyZDA4MDJhODJjND5dIHNtcF9zZW5kX3N0b3ArMHg0Yi8weGE4Cj4+
ICAgICBbPGZmZmY4MmQwODAyYTdiMmY+XSBtYWNoaW5lX3Jlc3RhcnQrMHg5OC8weDI4OAo+PiAg
ICAgWzxmZmZmODJkMDgwMjUyMjQyPl0gY29uc29sZV9zdXNwZW5kKzAvMHgyOAo+PiAgICAgWzxm
ZmZmODJkMDgwMmIwMWRhPl0gZG9fZ2VuZXJhbF9wcm90ZWN0aW9uKzB4MjA0LzB4MjRlCj4+ICAg
ICBbPGZmZmY4MmQwODAzODVhM2Q+XSB4ODZfNjQvZW50cnkuUyNoYW5kbGVfZXhjZXB0aW9uX3Nh
dmVkKzB4NjgvMHg5NAo+PiAgICAgWzwwMDAwMDAwMGFhNWI1MjZiPl0gMDAwMDAwMDBhYTViNTI2
Ygo+PiAgICAgWzxmZmZmODJkMDgwMmE3YzdkPl0gbWFjaGluZV9yZXN0YXJ0KzB4MWU2LzB4Mjg4
Cj4+ICAgICBbPGZmZmY4MmQwODAyNDBmNzU+XSBod2RvbV9zaHV0ZG93bisweGEyLzB4MTFkCj4+
ICAgICBbPGZmZmY4MmQwODAyMGJhYTI+XSBkb21haW5fc2h1dGRvd24rMHg0Zi8weGQ4Cj4+ICAg
ICBbPGZmZmY4MmQwODAyM2ZlOTg+XSBkb19zY2hlZF9vcCsweDEyZi8weDQyYQo+PiAgICAgWzxm
ZmZmODJkMDgwMzdlNDA0Pl0gcHZfaHlwZXJjYWxsKzB4MWU0LzB4NTY0Cj4+ICAgICBbPGZmZmY4
MmQwODAzODU0MzI+XSBsc3Rhcl9lbnRlcisweDExMi8weDEyMAo+PiAKPj4gRG9uJ3QgY2FsbCBm
aXh1cF9pcnFzKCkgYW5kIGRvbid0IHNlbmQgYW55IElQSSBpZiB0aGVyZSdzIG9ubHkgb25lCj4+
IG9ubGluZSBDUFUgYW55d2F5LCBhbmQgZG9uJ3QgY2FsbCBfX3N0b3BfdGhpc19jcHUoKSBhdCBh
bGwgd2hlbiB0aGUgQ1BVCj4+IHdlJ3JlIG9uIHdhcyBhbHJlYWR5IG1hcmtlZCBvZmZsaW5lIChi
eSBhIHByaW9yIGludm9jYXRpb24gb2YKPj4gX19zdG9wX3RoaXNfY3B1KCkpLgo+PiAKPj4gUmVw
b3J0ZWQtYnk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+Cj4+IFNp
Z25lZC1vZmYtYnk6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4KPj4gCj4+IC0tLSBh
L3hlbi9hcmNoL3g4Ni9zbXAuYwo+PiArKysgYi94ZW4vYXJjaC94ODYvc21wLmMKPj4gQEAgLTMw
MiwyMyArMzAyLDMxIEBAIHN0YXRpYyB2b2lkIHN0b3BfdGhpc19jcHUodm9pZCAqZHVtbXkpCj4+
ICAgKi8KPj4gIHZvaWQgc21wX3NlbmRfc3RvcCh2b2lkKQo+PiAgewo+PiAtICAgIGludCB0aW1l
b3V0ID0gMTA7Cj4+ICsgICAgdW5zaWduZWQgaW50IGNwdSA9IHNtcF9wcm9jZXNzb3JfaWQoKTsK
Pj4gIAo+PiAtICAgIGxvY2FsX2lycV9kaXNhYmxlKCk7Cj4+IC0gICAgZml4dXBfaXJxcyhjcHVt
YXNrX29mKHNtcF9wcm9jZXNzb3JfaWQoKSksIDApOwo+PiAtICAgIGxvY2FsX2lycV9lbmFibGUo
KTsKPj4gLQo+PiAtICAgIHNtcF9jYWxsX2Z1bmN0aW9uKHN0b3BfdGhpc19jcHUsIE5VTEwsIDAp
Owo+PiAtCj4+IC0gICAgLyogV2FpdCAxMG1zIGZvciBhbGwgb3RoZXIgQ1BVcyB0byBnbyBvZmZs
aW5lLiAqLwo+PiAtICAgIHdoaWxlICggKG51bV9vbmxpbmVfY3B1cygpID4gMSkgJiYgKHRpbWVv
dXQtLSA+IDApICkKPj4gLSAgICAgICAgbWRlbGF5KDEpOwo+PiAtCj4+IC0gICAgbG9jYWxfaXJx
X2Rpc2FibGUoKTsKPj4gLSAgICBkaXNhYmxlX0lPX0FQSUMoKTsKPj4gLSAgICBocGV0X2Rpc2Fi
bGUoKTsKPj4gLSAgICBfX3N0b3BfdGhpc19jcHUoKTsKPj4gLSAgICBsb2NhbF9pcnFfZW5hYmxl
KCk7Cj4+ICsgICAgaWYgKCBudW1fb25saW5lX2NwdXMoKSA+IDEgKQo+PiArICAgIHsKPj4gKyAg
ICAgICAgaW50IHRpbWVvdXQgPSAxMDsKPj4gKwo+PiArICAgICAgICBsb2NhbF9pcnFfZGlzYWJs
ZSgpOwo+PiArICAgICAgICBmaXh1cF9pcnFzKGNwdW1hc2tfb2YoY3B1KSwgMCk7Cj4+ICsgICAg
ICAgIGxvY2FsX2lycV9lbmFibGUoKTsKPj4gKwo+PiArICAgICAgICBzbXBfY2FsbF9mdW5jdGlv
bihzdG9wX3RoaXNfY3B1LCBOVUxMLCAwKTsKPj4gKwo+PiArICAgICAgICAvKiBXYWl0IDEwbXMg
Zm9yIGFsbCBvdGhlciBDUFVzIHRvIGdvIG9mZmxpbmUuICovCj4+ICsgICAgICAgIHdoaWxlICgg
KG51bV9vbmxpbmVfY3B1cygpID4gMSkgJiYgKHRpbWVvdXQtLSA+IDApICkKPj4gKyAgICAgICAg
ICAgIG1kZWxheSgxKTsKPj4gKyAgICB9Cj4+ICsKPj4gKyAgICBpZiAoIGNwdV9vbmxpbmUoY3B1
KSApCj4gCj4gV29uJ3QgdGhpcyBiZSBiZXR0ZXIgcGxhY2VkIGluc2lkZSB0aGUgcHJldmlvdXMg
aWY/IElzIGl0IHZhbGlkIHRvCj4gaGF2ZSBhIHNpbmdsZSBDUFUgYW5kIHRyeSB0byBvZmZsaW5l
IGl0PwoKTm8gdG8gdGhlIGZpcnN0IHF1ZXN0aW9uLCBhbmQgSSdtIG5vdCBzdXJlIEkgc2VlIGhv
dyB5b3UgY2FtZSB0bwp0aGUgMm5kIG9uZS4gSWYgdGhlcmUncyBqdXN0IGEgc2luZ2xlIG9ubGlu
ZSBDUFUsIHRoZW4gdGhlcmUncyBubwpuZWVkIHRvIGZpeHVwX2lycXMoKSwgYW5kIHRoZXJlJ3Mg
bm8tb25lIHRvIElQSS4gWWV0IHRoZSBsb2NhbCBDUFUKc3RpbGwgbmVlZHMgdG8gZG8gZXZlcnl0
aGluZyB0aGF0IHNob3VsZCBoYXBwZW4gb25jZSBpbiBVUCBtb2RlLAp1bmxlc3MgdGhpcyBDUFUg
aGFzIGJlZW4gb2ZmbGluZWQgYWxyZWFkeSBiZWZvcmUgKGFzIHdhcyB0aGUKY2FzZSBpbiBBbmRy
ZXcncyByZXBvcnQsIGF0IGxlYXN0IGFzIGZhciBhcyBJIHdhcyBhYmxlIHRvIGRlZHVjZSkuCgpK
YW4KCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

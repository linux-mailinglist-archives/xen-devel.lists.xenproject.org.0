Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 644C872364
	for <lists+xen-devel@lfdr.de>; Wed, 24 Jul 2019 02:22:16 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hq4yB-0005f4-Hu; Wed, 24 Jul 2019 00:17:23 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=xcQv=VV=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hq4y9-0005ez-Dq
 for xen-devel@lists.xenproject.org; Wed, 24 Jul 2019 00:17:21 +0000
X-Inumbo-ID: 6612cd8e-ada8-11e9-8980-bc764e045a96
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 6612cd8e-ada8-11e9-8980-bc764e045a96;
 Wed, 24 Jul 2019 00:17:19 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 6E65A20828;
 Wed, 24 Jul 2019 00:17:18 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1563927438;
 bh=b0hfM+fFt/Dj0A0Y1z5cRbgd6ptSCEAqEdDhGZJltfk=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=H2xrFOkLHJJ1cBCOAgm5v9IAMAyFBYeM2UBV8Pb6kNuw8uL3/5ZfyrpBJfV8sT6T4
 hWezdGsg5BrIFA0efjFzHSUFCBz8yF1HcQBjdk7uETWyjEWtZZhtEIJSeqTOjw4J9E
 3gj/u4+n8adz8dQ4L+EH4NM/HDl6GLIyrlrguY1Q=
Date: Tue, 23 Jul 2019 17:17:17 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20190718115714.634-1-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1907231654530.7102@sstabellini-ThinkPad-T480s>
References: <20190718115714.634-1-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH] xen/arm64: Correctly compute the virtual
 address in maddr_to_virt()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCAxOCBKdWwgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IFRoZSBoZWxwZXIgbWFk
ZHJfdG9fdmlydCgpIGlzIHVzZWQgdG8gdHJhbnNsYXRlIGEgbWFjaGluZSBhZGRyZXNzIHRvIGEK
PiB2aXJ0dWFsIGFkZHJlc3MuIFRvIHNhdmUgc29tZSB2YWx1YWJsZSBhZGRyZXNzIHNwYWNlLCBz
b21lIHBhcnQgb2YgdGhlCj4gbWFjaGluZSBhZGRyZXNzIG1heSBiZSBjb21wcmVzc2VkLgo+IAo+
IEluIHRoZW9yeSB0aGUgUERYIGNvZGUgaXMgZnJlZSB0byBjb21wcmVzcyBhbnkgYml0cyBzbyB0
aGVyZSBhcmUgbm8KPiBndWFyYW50ZWUgdGhlIG1hY2hpbmUgaW5kZXggY29tcHV0ZWQgd2lsbCBi
ZSBhbHdheXMgZ3JlYXRlciB0aGFuCj4geGVuaGVhcF9tZm5fc3RhcnQuIFRoaXMgd291bGQgcmVz
dWx0IHRvIHJldHVybiBhIHZpcnR1YWwgYWRkcmVzcyB0aGF0IGlzCj4gbm90IHBhcnQgb2YgdGhl
IGRpcmVjdCBtYXAgYW5kIHRyaWdnZXIgYSBjcmFzaCBhdCBsZWFzdCBvbiBkZWJ1Zy1idWlsZCBs
YXRlcgo+IG9uIGJlY2F1c2Ugb2YgdGhlIGNoZWNrIGluIHZpcnRfdG9fcGFnZSgpLgo+IAo+IEEg
cmVjZW50bHkgcmV2ZXJ0ZWQgcGF0Y2ggKHNlZSAxMTkxMTU2MzYxICJ4ZW4vYXJtOiBmaXggbWFz
ayBjYWxjdWxhdGlvbgo+IGluIHBkeF9pbml0X21hc2siKSBhbGxvd3MgdGhlIFBEWCB0byBjb21w
cmVzcyBtb3JlIGJpdHMgYW5kIHRyaWdnZXJlZCBhCj4gY3Jhc2ggb24gQU1EIFNlYXR0bGUgUGxh
dGZvcm0uCj4gCj4gQXZvaWQgdGhlIGNyYXNoIGJ5IGtlZXBpbmcgdHJhY2sgb2YgdGhlIGJhc2Ug
UERYIGZvciB0aGUgeGVuaGVhcCBhbmQgdXNlCj4gaXQgZm9yIGNvbXB1dGluZyB0aGUgdmlydHVh
bCBhZGRyZXNzLgo+IAo+IE5vdGUgdGhhdCB2aXJ0X3RvX21hZGRyKCkgZG9lcyBub3QgbmVlZCB0
byBoYXZlIHNpbWlsYXIgbW9kaWZpY2F0aW9uIGFzCj4gaXQgaXMgdXNpbmcgdGhlIGhhcmR3YXJl
IHRvIHRyYW5zbGF0ZSB0aGUgdmlydHVhbCBhZGRyZXNzIHRvIGEgbWFjaGluZQo+IGFkZHJlc3Mu
Cj4gCj4gVGFrZSB0aGUgb3Bwb3J0dW5pdHkgdG8gZml4IHRoZSBBU1NFUlQoKSBhcyB0aGUgZGly
ZWN0IG1hcCBiYXNlIGFkZHJlc3MKPiBjb3JyZXNwb25kIHRvIHRoZSBzdGFydCBvZiB0aGUgUkFN
ICh0aGlzIGlzIG5vdCBhbHdheXMgMCkuCj4gCj4gU2lnbmVkLW9mZi1ieTogSnVsaWVuIEdyYWxs
IDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KClRoYW5rIHlvdSB2ZXJ5IG11Y2ggZm9yIGRlYnVnZ2lu
ZyBhbmQgZml4aW5nIHRoaXMgcHJvYmxlbSEgSXQgaXMKc3VycHJpc2luZyB0aGF0IGl0IGhhcyBi
ZWVuIHdvcmtpbmcgYXQgYWxsIDotKQoKCj4gLS0tCj4gCj4gV2l0aCB0aGF0LCB0aGUgcGF0Y2gg
MTE5MTE1NjM2MSAieGVuL2FybTogZml4IG1hc2sgY2FsY3VsYXRpb24gaW4KPiBwZHhfaW5pdF9t
YXNrIiBjb3VsZCBiZSByZS1pbnN0YXRlZC4KPiAtLS0KPiAgeGVuL2FyY2gvYXJtL21tLmMgICAg
ICAgIHwgMiArKwo+ICB4ZW4vaW5jbHVkZS9hc20tYXJtL21tLmggfCA2ICsrKystLQo+ICAyIGZp
bGVzIGNoYW5nZWQsIDYgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEveGVuL2FyY2gvYXJtL21tLmMgYi94ZW4vYXJjaC9hcm0vbW0uYwo+IGluZGV4IDQ0MjU4
YWQ4OWMuLmUxY2RlYWFmMmYgMTAwNjQ0Cj4gLS0tIGEveGVuL2FyY2gvYXJtL21tLmMKPiArKysg
Yi94ZW4vYXJjaC9hcm0vbW0uYwo+IEBAIC0xNjUsNiArMTY1LDcgQEAgbWZuX3QgeGVuaGVhcF9t
Zm5fZW5kIF9fcmVhZF9tb3N0bHk7Cj4gIHZhZGRyX3QgeGVuaGVhcF92aXJ0X2VuZCBfX3JlYWRf
bW9zdGx5Owo+ICAjaWZkZWYgQ09ORklHX0FSTV82NAo+ICB2YWRkcl90IHhlbmhlYXBfdmlydF9z
dGFydCBfX3JlYWRfbW9zdGx5Owo+ICt1bnNpZ25lZCBsb25nIHhlbmhlYXBfYmFzZV9wZHggX19y
ZWFkX21vc3RseTsKPiAgI2VuZGlmCj4gIAo+ICB1bnNpZ25lZCBsb25nIGZyYW1ldGFibGVfYmFz
ZV9wZHggX19yZWFkX21vc3RseTsKPiBAQCAtNzk2LDYgKzc5Nyw3IEBAIHZvaWQgX19pbml0IHNl
dHVwX3hlbmhlYXBfbWFwcGluZ3ModW5zaWduZWQgbG9uZyBiYXNlX21mbiwKPiAgICAgIGlmICgg
bWZuX2VxKHhlbmhlYXBfbWZuX3N0YXJ0LCBJTlZBTElEX01GTikgKQo+ICAgICAgewo+ICAgICAg
ICAgIHhlbmhlYXBfbWZuX3N0YXJ0ID0gX21mbihiYXNlX21mbik7Cj4gKyAgICAgICAgeGVuaGVh
cF9iYXNlX3BkeCA9IG1mbl90b19wZHgoX21mbihiYXNlX21mbikpOwo+ICAgICAgICAgIHhlbmhl
YXBfdmlydF9zdGFydCA9IERJUkVDVE1BUF9WSVJUX1NUQVJUICsKPiAgICAgICAgICAgICAgKGJh
c2VfbWZuIC0gbWZuKSAqIFBBR0VfU0laRTsKPiAgICAgIH0KCkkgY2FuIHNlZSB0aGF0IHRoaXMg
d291bGQgd29yaywgYnV0IHdvdWxkbid0IGl0IGJlIGEgYmV0dGVyIGZpdCB0byBzZXQKeGVuaGVh
cF9iYXNlX3BkeCBpbiB4ZW4vYXJjaC9hcm0vc2V0dXAuYzpzZXR1cF9tbSwgd2hlcmUgd2UgYWxy
ZWFkeSBzZXQ6CgoKICAgIHhlbmhlYXBfdmlydF9lbmQgPSBYRU5IRUFQX1ZJUlRfU1RBUlQgKyBy
YW1fZW5kIC0gcmFtX3N0YXJ0OwogICAgeGVuaGVhcF9tZm5fc3RhcnQgPSBtYWRkcl90b19tZm4o
cmFtX3N0YXJ0KTsKICAgIHhlbmhlYXBfbWZuX2VuZCA9IG1hZGRyX3RvX21mbihyYW1fZW5kKTsK
Ck9yIGl0IHRvbyBsYXRlIGJ5IHRoZW4/CgoKCj4gZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2Fz
bS1hcm0vbW0uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vbW0uaAo+IGluZGV4IDNkYmM4YTY0Njku
LmQ2YjU1NDQwMTUgMTAwNjQ0Cj4gLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9tbS5oCj4gKysr
IGIveGVuL2luY2x1ZGUvYXNtLWFybS9tbS5oCj4gQEAgLTEzNSw2ICsxMzUsNyBAQCBleHRlcm4g
bWZuX3QgeGVuaGVhcF9tZm5fc3RhcnQsIHhlbmhlYXBfbWZuX2VuZDsKPiAgZXh0ZXJuIHZhZGRy
X3QgeGVuaGVhcF92aXJ0X2VuZDsKPiAgI2lmZGVmIENPTkZJR19BUk1fNjQKPiAgZXh0ZXJuIHZh
ZGRyX3QgeGVuaGVhcF92aXJ0X3N0YXJ0Owo+ICtleHRlcm4gdW5zaWduZWQgbG9uZyB4ZW5oZWFw
X2Jhc2VfcGR4Owo+ICAjZW5kaWYKPiAgCj4gICNpZmRlZiBDT05GSUdfQVJNXzMyCj4gQEAgLTI1
Myw5ICsyNTQsMTAgQEAgc3RhdGljIGlubGluZSB2b2lkICptYWRkcl90b192aXJ0KHBhZGRyX3Qg
bWEpCj4gICNlbHNlCj4gIHN0YXRpYyBpbmxpbmUgdm9pZCAqbWFkZHJfdG9fdmlydChwYWRkcl90
IG1hKQo+ICB7Cj4gLSAgICBBU1NFUlQobWZuX3RvX3BkeChtYWRkcl90b19tZm4obWEpKSA8IChE
SVJFQ1RNQVBfU0laRSA+PiBQQUdFX1NISUZUKSk7Cj4gKyAgICBBU1NFUlQoKG1mbl90b19wZHgo
bWFkZHJfdG9fbWZuKG1hKSkgLSB4ZW5oZWFwX2Jhc2VfcGR4KSA8Cj4gKyAgICAgICAgICAgKERJ
UkVDVE1BUF9TSVpFID4+IFBBR0VfU0hJRlQpKTsKPiAgICAgIHJldHVybiAodm9pZCAqKShYRU5I
RUFQX1ZJUlRfU1RBUlQgLQo+IC0gICAgICAgICAgICAgICAgICAgIG1mbl90b19tYWRkcih4ZW5o
ZWFwX21mbl9zdGFydCkgKwo+ICsgICAgICAgICAgICAgICAgICAgICh4ZW5oZWFwX2Jhc2VfcGR4
IDw8IFBBR0VfU0hJRlQpICsKPiAgICAgICAgICAgICAgICAgICAgICAoKG1hICYgbWFfdmFfYm90
dG9tX21hc2spIHwKPiAgICAgICAgICAgICAgICAgICAgICAgKChtYSAmIG1hX3RvcF9tYXNrKSA+
PiBwZm5fcGR4X2hvbGVfc2hpZnQpKSk7Cj4gIH0KCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9s
aXN0aW5mby94ZW4tZGV2ZWw=

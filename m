Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 520108AA71
	for <lists+xen-devel@lfdr.de>; Tue, 13 Aug 2019 00:32:58 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hxIo5-00080Z-HZ; Mon, 12 Aug 2019 22:28:49 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=1L9V=WI=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hxIo4-00080P-89
 for xen-devel@lists.xenproject.org; Mon, 12 Aug 2019 22:28:48 +0000
X-Inumbo-ID: 8c8f66ef-bd50-11e9-8980-bc764e045a96
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 8c8f66ef-bd50-11e9-8980-bc764e045a96;
 Mon, 12 Aug 2019 22:28:46 +0000 (UTC)
Received: from sstabellini-ThinkPad-T480s.xilinx.com
 (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 089F92067D;
 Mon, 12 Aug 2019 22:28:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1565648926;
 bh=UC6LvtHz0La5PhFyme6nPaWtoN8dcNO0hkPM1VZBu9g=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=e+PYFyeyaQUdFnnBswsixog91D/rX1poxPvsEHh3cpu17S6tCHNhiiberwhQTzmd5
 gXkVfsjlZ9TAiRGF+P1EnRpJ2qniPc/aZeVja/h2TOJXpyTrkslz5611sqHkgAiHoh
 6pPt5zX8PZQT60vE+VH2iDk4Y2KbOaMpdKx/G7f4=
From: Stefano Stabellini <sstabellini@kernel.org>
To: xen-devel@lists.xenproject.org
Date: Mon, 12 Aug 2019 15:28:38 -0700
Message-Id: <20190812222844.9636-1-sstabellini@kernel.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <alpine.DEB.2.21.1908121227360.7788@sstabellini-ThinkPad-T480s>
References: <alpine.DEB.2.21.1908121227360.7788@sstabellini-ThinkPad-T480s>
Subject: [Xen-devel] [PATCH v5 1/7] xen/arm: pass node to
 device_tree_for_each_node
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <stefanos@xilinx.com>, julien.grall@arm.com,
 sstabellini@kernel.org, Volodymyr_Babchuk@epam.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIGEgbmV3IHBhcmFtZXRlciB0byBkZXZpY2VfdHJlZV9mb3JfZWFjaF9ub2RlOiBub2RlLCB0
aGUgbm9kZSB0bwpzdGFydCB0aGUgc2VhcmNoIGZyb20uIFBhc3NpbmcgMCB0cmlnZ2VycyB0aGUg
b2xkIGJlaGF2aW9yLgoKU2V0IG1pbl9kZXB0aCB0byBkZXB0aCBvZiB0aGUgY3VycmVudCBub2Rl
ICsgMSBhbmQgcmVwbGFjZSB0aGUgZm9yCmxvb3Agd2l0aCBhIGRvL3doaWxlIGxvb3AgdG8gYXZv
aWQgc2Nhbm5pbmcgc2libGluZ3Mgb2YgdGhlIGluaXRpYWwgbm9kZQpwYXNzZWQgYXMgYW4gYXJn
dW1lbnQuCgpXZSBuZWVkIHRoaXMgY2hhbmdlIGJlY2F1c2UgaW4gZm9sbG93LXVwIHBhdGNoZXMg
d2Ugd2FudCB0byBiZSBhYmxlIHRvCnVzZSByZXVzZSBkZXZpY2VfdHJlZV9mb3JfZWFjaF9ub2Rl
IHRvIGNhbGwgYSBmdW5jdGlvbiBmb3IgZWFjaCBjaGlsZHJlbgpub2RlcyBvZiBhIHByb3ZpZGVk
IG5vZGUgYW5kIHRoZSBub2RlIGl0c2VsZi4KClNpZ25lZC1vZmYtYnk6IFN0ZWZhbm8gU3RhYmVs
bGluaSA8c3RlZmFub3NAeGlsaW54LmNvbT4KLS0tCkNoYW5nZXMgaW4gdjU6Ci0gZ28gYmFjayB0
byB2MwotIGNvZGUgc3R5bGUgaW1wcm92ZW1lbnQgaW4gYWNwaS9ib290LmMKLSBpbXByb3ZlIGNv
bW1lbnRzIGFuZCBjb21taXQgbWVzc2FnZQotIGluY3JlYXNlIG1pbl9kZXB0aCB0byBhdm9pZCBw
YXJzaW5nIHNpYmxpbmdzCi0gcmVwbGFjZSBmb3Igd2l0aCBkby93aGlsZSBsb29wIGFuZCBpbmNy
ZWFzZSBtaW5fZGVwdGggdG8gYXZvaWQKICBzY2FubmluZyBzaWJsaW5ncyBvZiB0aGUgaW5pdGlh
bCBub2RlCi0gcGFzcyBvbmx5IG5vZGUsIGNhbGN1bGF0ZSBkZXB0aAoKQ2hhbmdlcyBpbiB2MzoK
LSBpbXByb3ZlIGNvbW1pdCBtZXNzYWdlCi0gaW1wcm92ZSBpbi1jb2RlIGNvbW1lbnRzCi0gaW1w
cm92ZSBjb2RlIHN0eWxlCgpDaGFuZ2VzIGluIHYyOgotIG5ldwotLS0KIHhlbi9hcmNoL2FybS9h
Y3BpL2Jvb3QuYyAgICAgIHwgIDggKysrKystLS0KIHhlbi9hcmNoL2FybS9ib290ZmR0LmMgICAg
ICAgIHwgMTkgKysrKysrKysrKy0tLS0tLS0tLQogeGVuL2luY2x1ZGUveGVuL2RldmljZV90cmVl
LmggfCAgNiArKystLS0KIDMgZmlsZXMgY2hhbmdlZCwgMTggaW5zZXJ0aW9ucygrKSwgMTUgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL2FjcGkvYm9vdC5jIGIveGVuL2Fy
Y2gvYXJtL2FjcGkvYm9vdC5jCmluZGV4IDliMjk3NjlhMTAuLmQ0OTU3Y2NhMDYgMTAwNjQ0Ci0t
LSBhL3hlbi9hcmNoL2FybS9hY3BpL2Jvb3QuYworKysgYi94ZW4vYXJjaC9hcm0vYWNwaS9ib290
LmMKQEAgLTI0Niw5ICsyNDYsMTEgQEAgaW50IF9faW5pdCBhY3BpX2Jvb3RfdGFibGVfaW5pdCh2
b2lkKQogICAgICAqIC0gdGhlIGRldmljZSB0cmVlIGlzIG5vdCBlbXB0eSAoaXQgaGFzIG1vcmUg
dGhhbiBqdXN0IGEgL2Nob3NlbiBub2RlKQogICAgICAqICAgYW5kIEFDUEkgaGFzIG5vdCBiZWVu
IGZvcmNlIGVuYWJsZWQgKGFjcGk9Zm9yY2UpCiAgICAgICovCi0gICAgaWYgKCBwYXJhbV9hY3Bp
X29mZiB8fCAoICFwYXJhbV9hY3BpX2ZvcmNlCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICYmIGRldmljZV90cmVlX2Zvcl9lYWNoX25vZGUoZGV2aWNlX3RyZWVfZmxhdHRlbmVkLAotICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHRfc2Nhbl9k
ZXB0aDFfbm9kZXMsIE5VTEwpKSkKKyAgICBpZiAoIHBhcmFtX2FjcGlfb2ZmKQorICAgICAgICBn
b3RvIGRpc2FibGU7CisJaWYgKCAhcGFyYW1fYWNwaV9mb3JjZSAmJgorCQkgZGV2aWNlX3RyZWVf
Zm9yX2VhY2hfbm9kZShkZXZpY2VfdHJlZV9mbGF0dGVuZWQsIDAsCisJCQkgICAgICAgICAgICAg
ICAgICAgICAgIGR0X3NjYW5fZGVwdGgxX25vZGVzLCBOVUxMKSApCiAgICAgICAgIGdvdG8gZGlz
YWJsZTsKIAogICAgIC8qCmRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vYm9vdGZkdC5jIGIveGVu
L2FyY2gvYXJtL2Jvb3RmZHQuYwppbmRleCA4OTFiNGI2NmZmLi5hODcyZWE1N2Q2IDEwMDY0NAot
LS0gYS94ZW4vYXJjaC9hcm0vYm9vdGZkdC5jCisrKyBiL3hlbi9hcmNoL2FybS9ib290ZmR0LmMK
QEAgLTc3LDYgKzc3LDcgQEAgc3RhdGljIHUzMiBfX2luaXQgZGV2aWNlX3RyZWVfZ2V0X3UzMihj
b25zdCB2b2lkICpmZHQsIGludCBub2RlLAogLyoqCiAgKiBkZXZpY2VfdHJlZV9mb3JfZWFjaF9u
b2RlIC0gaXRlcmF0ZSBvdmVyIGFsbCBkZXZpY2UgdHJlZSBub2RlcwogICogQGZkdDogZmxhdCBk
ZXZpY2UgdHJlZS4KKyAqIEBub2RlOiBub2RlIHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbQogICog
QGZ1bmM6IGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggbm9kZS4KICAqIEBkYXRhOiBkYXRhIHRv
IHBhc3MgdG8gQGZ1bmMuCiAgKgpAQCAtODUsMjAgKzg2LDE3IEBAIHN0YXRpYyB1MzIgX19pbml0
IGRldmljZV90cmVlX2dldF91MzIoY29uc3Qgdm9pZCAqZmR0LCBpbnQgbm9kZSwKICAqIFJldHVy
bnMgMCBpZiBhbGwgbm9kZXMgd2VyZSBpdGVyYXRlZCBvdmVyIHN1Y2Nlc3NmdWxseS4gIElmIEBm
dW5jCiAgKiByZXR1cm5zIGEgdmFsdWUgZGlmZmVyZW50IGZyb20gMCwgdGhhdCB2YWx1ZSBpcyBy
ZXR1cm5lZCBpbW1lZGlhdGVseS4KICAqLwotaW50IF9faW5pdCBkZXZpY2VfdHJlZV9mb3JfZWFj
aF9ub2RlKGNvbnN0IHZvaWQgKmZkdCwKK2ludCBfX2luaXQgZGV2aWNlX3RyZWVfZm9yX2VhY2hf
bm9kZShjb25zdCB2b2lkICpmZHQsIGludCBub2RlLAogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGRldmljZV90cmVlX25vZGVfZnVuYyBmdW5jLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEpCiB7Ci0gICAgaW50IG5vZGU7Ci0gICAg
aW50IGRlcHRoOworICAgIGludCBkZXB0aCA9IGZkdF9ub2RlX2RlcHRoKGZkdCwgbm9kZSk7Cisg
ICAgaW50IG1pbl9kZXB0aCA9IGRlcHRoICsgMTsKICAgICB1MzIgYWRkcmVzc19jZWxsc1tERVZJ
Q0VfVFJFRV9NQVhfREVQVEhdOwogICAgIHUzMiBzaXplX2NlbGxzW0RFVklDRV9UUkVFX01BWF9E
RVBUSF07CiAgICAgaW50IHJldDsKIAotICAgIGZvciAoIG5vZGUgPSAwLCBkZXB0aCA9IDA7Ci0g
ICAgICAgICAgbm9kZSA+PTAgJiYgZGVwdGggPj0gMDsKLSAgICAgICAgICBub2RlID0gZmR0X25l
eHRfbm9kZShmZHQsIG5vZGUsICZkZXB0aCkgKQotICAgIHsKKyAgICBkbyB7CiAgICAgICAgIGNv
bnN0IGNoYXIgKm5hbWUgPSBmZHRfZ2V0X25hbWUoZmR0LCBub2RlLCBOVUxMKTsKICAgICAgICAg
dTMyIGFzLCBzczsKIApAQCAtMTIwLDcgKzExOCwxMCBAQCBpbnQgX19pbml0IGRldmljZV90cmVl
X2Zvcl9lYWNoX25vZGUoY29uc3Qgdm9pZCAqZmR0LAogICAgICAgICByZXQgPSBmdW5jKGZkdCwg
bm9kZSwgbmFtZSwgZGVwdGgsIGFzLCBzcywgZGF0YSk7CiAgICAgICAgIGlmICggcmV0ICE9IDAg
KQogICAgICAgICAgICAgcmV0dXJuIHJldDsKLSAgICB9CisKKyAgICAgICAgbm9kZSA9IGZkdF9u
ZXh0X25vZGUoZmR0LCBub2RlLCAmZGVwdGgpOworICAgIH0gd2hpbGUgKCBub2RlID49IDAgJiYg
ZGVwdGggPj0gbWluX2RlcHRoICk7CisKICAgICByZXR1cm4gMDsKIH0KIApAQCAtMzU3LDcgKzM1
OCw3IEBAIHNpemVfdCBfX2luaXQgYm9vdF9mZHRfaW5mbyhjb25zdCB2b2lkICpmZHQsIHBhZGRy
X3QgcGFkZHIpCiAKICAgICBhZGRfYm9vdF9tb2R1bGUoQk9PVE1PRF9GRFQsIHBhZGRyLCBmZHRf
dG90YWxzaXplKGZkdCksIGZhbHNlKTsKIAotICAgIGRldmljZV90cmVlX2Zvcl9lYWNoX25vZGUo
KHZvaWQgKilmZHQsIGVhcmx5X3NjYW5fbm9kZSwgTlVMTCk7CisgICAgZGV2aWNlX3RyZWVfZm9y
X2VhY2hfbm9kZSgodm9pZCAqKWZkdCwgMCwgZWFybHlfc2Nhbl9ub2RlLCBOVUxMKTsKICAgICBl
YXJseV9wcmludF9pbmZvKCk7CiAKICAgICByZXR1cm4gZmR0X3RvdGFsc2l6ZShmZHQpOwpkaWZm
IC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL2RldmljZV90cmVlLmggYi94ZW4vaW5jbHVkZS94ZW4v
ZGV2aWNlX3RyZWUuaAppbmRleCA4MzE1NjI5N2UyLi45YTdhOGYyZGFiIDEwMDY0NAotLS0gYS94
ZW4vaW5jbHVkZS94ZW4vZGV2aWNlX3RyZWUuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4vZGV2aWNl
X3RyZWUuaApAQCAtMTU4LDkgKzE1OCw5IEBAIHR5cGVkZWYgaW50ICgqZGV2aWNlX3RyZWVfbm9k
ZV9mdW5jKShjb25zdCB2b2lkICpmZHQsCiAKIGV4dGVybiBjb25zdCB2b2lkICpkZXZpY2VfdHJl
ZV9mbGF0dGVuZWQ7CiAKLWludCBkZXZpY2VfdHJlZV9mb3JfZWFjaF9ub2RlKGNvbnN0IHZvaWQg
KmZkdCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VfdHJlZV9u
b2RlX2Z1bmMgZnVuYywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lk
ICpkYXRhKTsKK2ludCBkZXZpY2VfdHJlZV9mb3JfZWFjaF9ub2RlKGNvbnN0IHZvaWQgKmZkdCwg
aW50IG5vZGUsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VfdHJlZV9ub2Rl
X2Z1bmMgZnVuYywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmRhdGEpOwog
CiAvKioKICAqIGR0X3VuZmxhdHRlbl9ob3N0X2RldmljZV90cmVlIC0gVW5mbGF0dGVuIHRoZSBo
b3N0IGRldmljZSB0cmVlCi0tIAoyLjE3LjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0
cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlz
dGluZm8veGVuLWRldmVs

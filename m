Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DA551B14D3
	for <lists+xen-devel@lfdr.de>; Thu, 12 Sep 2019 21:37:40 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8Upp-0006LE-OB; Thu, 12 Sep 2019 19:32:53 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=tudw=XH=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1i8Upn-0006L9-K6
 for xen-devel@lists.xenproject.org; Thu, 12 Sep 2019 19:32:51 +0000
X-Inumbo-ID: 1b67738c-d594-11e9-95a5-12813bfff9fa
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id 1b67738c-d594-11e9-95a5-12813bfff9fa;
 Thu, 12 Sep 2019 19:32:50 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 08AE628;
 Thu, 12 Sep 2019 12:32:50 -0700 (PDT)
Received: from [10.37.12.51] (unknown [10.37.12.51])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 7FC773F67D;
 Thu, 12 Sep 2019 12:32:48 -0700 (PDT)
To: Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
References: <20190823184826.14525-1-volodymyr_babchuk@epam.com>
 <20190823184826.14525-2-volodymyr_babchuk@epam.com>
 <45208af4-22b8-2870-f79d-a98960c4700d@arm.com> <87k1aefz3t.fsf@epam.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <1cc4bd9c-44fc-0e6e-254c-c07f4b17ba4c@arm.com>
Date: Thu, 12 Sep 2019 20:32:46 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <87k1aefz3t.fsf@epam.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 1/5] xen/arm: optee: impose limit on shared
 buffer size
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "tee-dev@lists.linaro.org" <tee-dev@lists.linaro.org>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 Stefano Stabellini <sstabellini@kernel.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgVm9sb2R5bXlyLAoKT24gOS8xMS8xOSA3OjQ4IFBNLCBWb2xvZHlteXIgQmFiY2h1ayB3cm90
ZToKPiAKPiBKdWxpZW4gR3JhbGwgd3JpdGVzOgo+IAo+PiBIaSBWb2xvZHlteXIsCj4+Cj4+IE9u
IDgvMjMvMTkgNzo0OCBQTSwgVm9sb2R5bXlyIEJhYmNodWsgd3JvdGU6Cj4+PiBXZSB3YW50IHRv
IGxpbWl0IG51bWJlciBvZiBjYWxscyB0byBsb29rdXBfYW5kX3Bpbl9ndWVzdF9yYW1fYWRkcigp
Cj4+PiBwZXIgb25lIHJlcXVlc3QuIFRoZXJlIGFyZSB0d28gd2F5cyB0byBkbyB0aGlzOiBlaXRo
ZXIgcHJlZW1wdAo+Pj4gdHJhbnNsYXRlX25vbmNvbnRpZygpIG9yIHRvIGxpbWl0IHNpemUgb2Yg
b25lIHNoYXJlZCBidWZmZXIgc2l6ZS4KPj4+Cj4+PiBJdCBpcyBxdWl0ZSBoYXJkIHRvIHByZWVt
cHQgdHJhbnNsYXRlX25vbmNvbnRpZygpLCBiZWNhdXNlIGl0IGlzIGRlZXAKPj4+IG5lc3RlZC4g
U28gd2UgY2hvc2Ugc2Vjb25kIG9wdGlvbi4gV2Ugd2lsbCBhbGxvdyA1MTIgcGFnZXMgcGVyIG9u
ZQo+Pj4gc2hhcmVkIGJ1ZmZlci4gVGhpcyBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCBHUCBzdGFu
ZGFyZCwgYXMgaXQKPj4+IHJlcXVpcmVzIHRoYXQgc2l6ZSBsaW1pdCBmb3Igc2hhcmVkIGJ1ZmZl
ciBzaG91bGQgYmUgYXQgbGVzdCA1MTJrQi4KPj4KPj4gRG8geW91IG1lYW4gImxlYXN0IiBpbnN0
ZWFkIG9mICJsZXN0Ij8KPiBZZXMKPiAKPj4gSWYgc28sIHdoeSA1MTIgcGFnZXMgKGkuZSAxTUIp
Cj4+IGlzIHBsZW50eSBlbm91Z2ggZm9yIG1vc3Qgb2YgdGhlIHVzZSBjYXNlcz8gV2hhdCBkb2Vz
ICJ4dGVzdCIgY29uc2lzdAo+PiBvbj8KPiBCaWdnZXIgYnVmZmVyIHh0ZXN0IHRyaWVzIHRvIGFs
bG9jYXRlIGlzIG1lcmUgMzJLQi4gSSBiZWxpZXZlIHRoYXQgMU1CCj4gaXMgZW5vdWdoIGZvciB0
aGUgbW9zdCBjYXNlcywgYmVjYXVzZSBPUC1URUUgaXRzZWxmIGhhdmUgYSB2ZXJ5IGxpbWl0ZWQK
PiByZXNvdXJjZXMuIEJ1dCB0aGlzIHZhbHVlIGlzIGNob3NlbiBhcmJpdHJhcnkuCgpDb3VsZCB3
ZSBwb3RlbnRpYWxseSByZWR1Y2UgdG8gbGV0IHNheSA1MTJLQiAob3IgbWF5YmUgbG93ZXIpIGlm
IHh0ZXN0IApvbmx5IGFsbG9jYXRlIDMyS0I/Cgo+IAo+Pgo+Pj4gQWxzbywgd2l0aCB0aGlzIGxp
bWl0YXRpb24gT1AtVEVFIHN0aWxsIHBhc3NlcyBvd24gInh0ZXN0IiB0ZXN0IHN1aXRlLAo+Pj4g
c28gdGhpcyBpcyBva2F5IGZvciBub3cuCj4+Pgo+Pj4gU2lnbmVkLW9mZi1ieTogVm9sb2R5bXly
IEJhYmNodWsgPHZvbG9keW15cl9iYWJjaHVrQGVwYW0uY29tPgo+Pj4gLS0tCj4+PiAgICB4ZW4v
YXJjaC9hcm0vdGVlL29wdGVlLmMgfCAzMCArKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0K
Pj4+ICAgIDEgZmlsZSBjaGFuZ2VkLCAxOCBpbnNlcnRpb25zKCspLCAxMiBkZWxldGlvbnMoLSkK
Pj4+Cj4+PiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL3RlZS9vcHRlZS5jIGIveGVuL2FyY2gv
YXJtL3RlZS9vcHRlZS5jCj4+PiBpbmRleCBlYzU0MDJlODliLi5mNGZhOGE3NzU4IDEwMDY0NAo+
Pj4gLS0tIGEveGVuL2FyY2gvYXJtL3RlZS9vcHRlZS5jCj4+PiArKysgYi94ZW4vYXJjaC9hcm0v
dGVlL29wdGVlLmMKPj4+IEBAIC03Miw2ICs3MiwxNyBAQAo+Pj4gICAgICovCj4+PiAgICAjZGVm
aW5lIE1BWF9UT1RBTF9TTUhfQlVGX1BHICAgIDE2Mzg0Cj4+PiAgICArLyoKPj4+ICsgKiBBcmJp
dHJhcnkgdmFsdWUgdGhhdCBsaW1pdHMgbWF4aW11bSBzaGFyZWQgYnVmZmVyIHNpemUuIEl0IGlz
Cj4+PiArICogbWVyZWx5IGNvaW5jaWRlbmNlIHRoYXQgaXQgZXF1YWxzIHRvIGJvdGggZGVmYXVs
dCBPUC1URUUgU0hNIGJ1ZmZlcgo+Pj4gKyAqIHNpemUgbGltaXQgYW5kIHRvICgxIDw8IENPTkZJ
R19ET01VX01BWF9PUkRFUikuIFBsZWFzZSBub3RlIHRoYXQKPj4+ICsgKiB0aGlzIGRlZmluZSBs
aW1pdHMgbnVtYmVyIG9mIHBhZ2VzLiBCdXQgdXNlciBidWZmZXIgY2FuIGJlIG5vdAo+Pj4gKyAq
IGFsaWduZWQgdG8gYSBwYWdlIGJvdW5kYXJ5LiBTbyBpdCBpcyBwb3NzaWJsZSB0aGF0IHVzZXIg
d291bGQgbm90Cj4+PiArICogYmUgYWJsZSB0byBzaGFyZSBleGFjdGx5IE1BWF9TSE1fQlVGRkVS
X1BHICogUEFHRV9TSVpFIGJ5dGVzIHdpdGgKPj4+ICsgKiBPUC1URUUuCj4+PiArICovCj4+PiAr
I2RlZmluZSBNQVhfU0hNX0JVRkZFUl9QRyAgICAgICA1MTIKPj4+ICsKPj4+ICAgICNkZWZpbmUg
T1BURUVfS05PV05fTlNFQ19DQVBTIE9QVEVFX1NNQ19OU0VDX0NBUF9VTklQUk9DRVNTT1IKPj4+
ICAgICNkZWZpbmUgT1BURUVfS05PV05fU0VDX0NBUFMgKE9QVEVFX1NNQ19TRUNfQ0FQX0hBVkVf
UkVTRVJWRURfU0hNIHwgXAo+Pj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BU
RUVfU01DX1NFQ19DQVBfVU5SRUdJU1RFUkVEX1NITSB8IFwKPj4+IEBAIC02OTcsMTUgKzcwOCwx
NyBAQCBzdGF0aWMgaW50IHRyYW5zbGF0ZV9ub25jb250aWcoc3RydWN0IG9wdGVlX2RvbWFpbiAq
Y3R4LAo+Pj4gICAgICAgIHNpemUgPSBST1VORFVQKHBhcmFtLT51LnRtZW0uc2l6ZSArIG9mZnNl
dCwgT1BURUVfTVNHX05PTkNPTlRJR19QQUdFX1NJWkUpOwo+Pj4gICAgICAgICAgcGdfY291bnQg
PSBESVZfUk9VTkRfVVAoc2l6ZSwKPj4+IE9QVEVFX01TR19OT05DT05USUdfUEFHRV9TSVpFKTsK
Pj4+ICsgICAgaWYgKCBwZ19jb3VudCA+IE1BWF9TSE1fQlVGRkVSX1BHICkKPj4+ICsgICAgICAg
IHJldHVybiAtRU5PTUVNOwo+Pj4gKwo+Pj4gICAgICAgIG9yZGVyID0gZ2V0X29yZGVyX2Zyb21f
Ynl0ZXMoZ2V0X3BhZ2VzX2xpc3Rfc2l6ZShwZ19jb3VudCkpOwo+Pj4gICAgICAgICAgLyoKPj4+
IC0gICAgICogSW4gdGhlIHdvcnN0IGNhc2Ugd2Ugd2lsbCB3YW50IHRvIGFsbG9jYXRlIDMzIHBh
Z2VzLCB3aGljaCBpcwo+Pj4gLSAgICAgKiBNQVhfVE9UQUxfU01IX0JVRl9QRy81MTEgcm91bmRl
ZCB1cC4gVGhpcyBnaXZlcyBvcmRlciA2IG9yIGF0Cj4+PiAtICAgICAqIG1vc3QgNjQgcGFnZXMg
YWxsb2NhdGVkLiBUaGlzIGJ1ZmZlciB3aWxsIGJlIGZyZWVkIHJpZ2h0IGFmdGVyCj4+PiAtICAg
ICAqIHRoZSBlbmQgb2YgdGhlIGNhbGwgYW5kIHRoZXJlIGNhbiBiZSBubyBtb3JlIHRoYW4KPj4+
ICsgICAgICogSW4gdGhlIHdvcnN0IGNhc2Ugd2Ugd2lsbCB3YW50IHRvIGFsbG9jYXRlIDIgcGFn
ZXMsIHdoaWNoIGlzCj4+PiArICAgICAqIE1BWF9TSE1fQlVGRkVSX1BHLzUxMSByb3VuZGVkIHVw
LiBUaGlzIGJ1ZmZlciB3aWxsIGJlIGZyZWVkCj4+PiArICAgICAqIHJpZ2h0IGFmdGVyIHRoZSBl
bmQgb2YgdGhlIGNhbGwgYW5kIHRoZXJlIGNhbiBiZSBubyBtb3JlIHRoYW4KPj4+ICAgICAgICAg
KiBtYXhfb3B0ZWVfdGhyZWFkcyBjYWxscyBzaW11bHRhbmVvdXNseS4gU28gaW4gdGhlIHdvcnN0
IGNhc2UKPj4+IC0gICAgICogZ3Vlc3QgY2FuIHRyaWNrIHVzIHRvIGFsbG9jYXRlIDY0ICogbWF4
X29wdGVlX3RocmVhZHMgcGFnZXMgaW4KPj4+ICsgICAgICogZ3Vlc3QgY2FuIHRyaWNrIHVzIHRv
IGFsbG9jYXRlIDIgKiBtYXhfb3B0ZWVfdGhyZWFkcyBwYWdlcyBpbgo+Pj4gICAgICAgICAqIHRv
dGFsLgo+Pj4gICAgICAgICAqLwo+Pj4gICAgICAgIHhlbl9wZ3MgPSBhbGxvY19kb21oZWFwX3Bh
Z2VzKGN1cnJlbnQtPmRvbWFpbiwgb3JkZXIsIDApOwo+Pj4gQEAgLTc0NywxMyArNzYwLDYgQEAg
c3RhdGljIGludCB0cmFuc2xhdGVfbm9uY29udGlnKHN0cnVjdCBvcHRlZV9kb21haW4gKmN0eCwK
Pj4+ICAgICAgICAgICAgICAgIHhlbl9kYXRhID0gX19tYXBfZG9tYWluX3BhZ2UoeGVuX3Bncyk7
Cj4+PiAgICAgICAgICAgIH0KPj4+ICAgIC0gICAgICAgIC8qCj4+PiAtICAgICAgICAgKiBUT0RP
OiBUaGF0IGZ1bmN0aW9uIGNhbiBwaW4gdXAgdG8gNjRNQiBvZiBndWVzdCBtZW1vcnkgYnkKPj4+
IC0gICAgICAgICAqIGNhbGxpbmcgbG9va3VwX2FuZF9waW5fZ3Vlc3RfcmFtX2FkZHIoKSAxNjM4
NCB0aW1lcwo+Pj4gLSAgICAgICAgICogKGFzc3VtaW5nIHRoYXQgUEFHRV9TSVpFIGVxdWFscyB0
byA0MDk2KS4KPj4+IC0gICAgICAgICAqIFRoaXMgc2hvdWxkIGJlIGFkZHJlc3NlZCBiZWZvcmUg
ZGVjbGFyaW5nIE9QLVRFRSBzZWN1cml0eQo+Pj4gLSAgICAgICAgICogc3VwcG9ydGVkLgo+Pj4g
LSAgICAgICAgICovCj4+PiAgICAgICAgICAgIEJVSUxEX0JVR19PTihQQUdFX1NJWkUgIT0gNDA5
Nik7Cj4+Cj4+IFdpdGhvdXQgdGhlIGNvbW1lbnQsIHRoZSBCVUlMRF9CVUdfT04oKSBsb29rcyBy
YW5kb20uIFNvIGVpdGhlciB5b3UKPj4gd2FudCB0byBoYXZlIGEgZGlmZmVyZW50IHZlcnNpb24g
b2YgdGhlIGNvbW1lbnQgb3IgeW91IHdhbnQgdG8gbW92ZQo+PiB0aGUgQlVJTERfQlVHX09OKCkg
dG8gc29tZXdoZXJlIGVsc2UuCj4gCj4gSXQgaXMgc3RpbGwgYmVmb3JlIGdldF9kb21haW5fcmFt
X3BhZ2UoKSBjYWxsLiBCdXQgZm9yIGNsYXJpdHkgSSBjYW4gYWRkCj4gY29tbWVudCBsaWtlICJP
bmx5IDRrIHBhZ2VzIGFyZSBzdXBwb3J0ZWQgcmlnaHQgbm93Ii4KPj4+ICAgICAgICAgICAgcGFn
ZSA9IGdldF9kb21haW5fcmFtX3BhZ2UoZ2FkZHJfdG9fZ2ZuKGd1ZXN0X2RhdGEtPnBhZ2VzX2xp
c3RbaWR4XSkpOwo+Pj4gICAgICAgICAgICBpZiAoICFwYWdlICkKClRoYXQgd291bGQgYmUgdXNl
ZnVsLgoKQ2hlZXJzLAoKLS0gCkp1bGllbiBHcmFsbAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxA
bGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFu
L2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 5331E11C932
	for <lists+xen-devel@lfdr.de>; Thu, 12 Dec 2019 10:32:42 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ifKlj-00007k-Vr; Thu, 12 Dec 2019 09:28:23 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=R5lD=2C=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1ifKlj-00007f-0S
 for xen-devel@lists.xenproject.org; Thu, 12 Dec 2019 09:28:23 +0000
X-Inumbo-ID: b7d84a92-1cc1-11ea-b6f1-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id b7d84a92-1cc1-11ea-b6f1-bc764e2007e4;
 Thu, 12 Dec 2019 09:28:13 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 02345AC4A;
 Thu, 12 Dec 2019 09:28:11 +0000 (UTC)
To: =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
References: <e43e17ea-6ad0-d125-216f-4798853e3116@suse.com>
 <20191211155436.GQ980@Air-de-Roger>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <4316933a-b824-6544-8287-9f492b6543f4@suse.com>
Date: Thu, 12 Dec 2019 10:28:26 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <20191211155436.GQ980@Air-de-Roger>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH] IOMMU: make DMA containment of quarantined
 devices optional
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Paul Durrant <paul@xen.org>,
 Ian Jackson <ian.jackson@citrix.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTEuMTIuMjAxOSAxNjo1NCwgUm9nZXIgUGF1IE1vbm7DqSB3cm90ZToKPiBPbiBXZWQsIERl
YyAxMSwgMjAxOSBhdCAwMTo1MzowMFBNICswMTAwLCBKYW4gQmV1bGljaCB3cm90ZToKPj4gLS0t
IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL3BjaV9hbWRfaW9tbXUuYwo+PiArKysgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvcGNpX2FtZF9pb21tdS5jCj4+IEBAIC04NSwxOCAr
ODUsMzYgQEAgaW50IGdldF9kbWFfcmVxdWVzdG9yX2lkKHVpbnQxNl90IHNlZywgdQo+PiAgICAg
IHJldHVybiByZXFfaWQ7Cj4+ICB9Cj4+ICAKPj4gLXN0YXRpYyB2b2lkIGFtZF9pb21tdV9zZXR1
cF9kb21haW5fZGV2aWNlKAo+PiArc3RhdGljIGludCBfX211c3RfY2hlY2sgYWxsb2NhdGVfZG9t
YWluX3Jlc291cmNlcyhzdHJ1Y3QgZG9tYWluX2lvbW11ICpoZCkKPj4gK3sKPj4gKyAgICBpbnQg
cmM7Cj4+ICsKPj4gKyAgICBzcGluX2xvY2soJmhkLT5hcmNoLm1hcHBpbmdfbG9jayk7Cj4+ICsg
ICAgcmMgPSBhbWRfaW9tbXVfYWxsb2Nfcm9vdChoZCk7Cj4+ICsgICAgc3Bpbl91bmxvY2soJmhk
LT5hcmNoLm1hcHBpbmdfbG9jayk7Cj4+ICsKPj4gKyAgICByZXR1cm4gcmM7Cj4+ICt9Cj4+ICsK
Pj4gK3N0YXRpYyBpbnQgX19tdXN0X2NoZWNrIGFtZF9pb21tdV9zZXR1cF9kb21haW5fZGV2aWNl
KAo+PiAgICAgIHN0cnVjdCBkb21haW4gKmRvbWFpbiwgc3RydWN0IGFtZF9pb21tdSAqaW9tbXUs
Cj4+ICAgICAgdWludDhfdCBkZXZmbiwgc3RydWN0IHBjaV9kZXYgKnBkZXYpCj4+ICB7Cj4+ICAg
ICAgc3RydWN0IGFtZF9pb21tdV9kdGUgKnRhYmxlLCAqZHRlOwo+PiAgICAgIHVuc2lnbmVkIGxv
bmcgZmxhZ3M7Cj4+IC0gICAgaW50IHJlcV9pZCwgdmFsaWQgPSAxOwo+PiArICAgIGludCByZXFf
aWQsIHZhbGlkID0gMSwgcmM7Cj4+ICAgICAgdTggYnVzID0gcGRldi0+YnVzOwo+PiAtICAgIGNv
bnN0IHN0cnVjdCBkb21haW5faW9tbXUgKmhkID0gZG9tX2lvbW11KGRvbWFpbik7Cj4+ICsgICAg
c3RydWN0IGRvbWFpbl9pb21tdSAqaGQgPSBkb21faW9tbXUoZG9tYWluKTsKPj4gKwo+PiArICAg
IC8qIGRvbV9pbyBpcyB1c2VkIGFzIGEgc2VudGluZWwgZm9yIHF1YXJhbnRpbmVkIGRldmljZXMg
Ki8KPj4gKyAgICBpZiAoIGRvbWFpbiA9PSBkb21faW8gJiYgIWhkLT5hcmNoLnJvb3RfdGFibGUg
KQo+IAo+IFRoaXMgY29uZGl0aW9uIChhbmQgaXQncyBJbnRlbCBjb3VudGVycGFydCkgd291bGQg
YmUgYmV0dGVyIGluIGEgbWFjcm8KPiBJTU8sIHNvIHRoYXQgdmVuZG9yIGNvZGUgcmVnYXJkbGVz
cyBvZiB0aGUgaW1wbGVtZW50YXRpb24gY2FuIHVzZSB0aGUKPiBzYW1lIG1hY3JvIChhbmQgdG8g
YXZvaWQgaGF2aW5nIHRvIGFkZCB0aGUgc2FtZSBjb21tZW50IGluIGFsbAo+IGluc3RhbmNlcyks
IGllOiBJU19ERVZJQ0VfUVVBUkFOVElORUQgb3Igc29tZSBzdWNoIHdvdWxkIGJlIGZpbmUgSU1P
LgoKVGhlICJkZXZpY2UiIGluIHRoZSBuYW1lIHN1Z2dlc3RlZCBpcyBpbmFwcGxpY2FibGUsIGFz
IHRoZXJlJ3Mgbm8KZGV2aWNlIGludm9sdmVkIGhlcmUuIFRoZSBjb25kaXRpb25hbCBhbHNvIGlz
bid0IGFib3V0CiJxdWFyYW50aW5lZCIsIGJ1dCBhYm91dCB0aGUgZXh0ZW5kZWQgZm9yIHRoZXJl
b2YuIEkgZnVydGhlciBkb24ndAp1bmRlcnN0YW5kICJ2ZW5kb3IgY29kZSIgaW4geW91ciByZW1h
cms6IERpZmZlcmVudCBtYWNyb3Mgd291bGQgYmUKbmVlZGVkIGZvciBlaXRoZXIgdmVuZG9yIGFu
eXdheS4gKEkgZGlkIGFjdHVhbGx5IGNvbnNpZGVyIGhhdmluZwpzb21lIGtpbmQgb2YgcHJlZGlj
YXRlIGhlbHBlciwgYnV0IEkgY291bGRuJ3QgY29tZSB1cCB3aXRoIGEKc3VmZmljaWVudGx5IGdv
b2QgbmFtZS4gSSBhbHNvIHRoaW5rIHN1Y2ggYW4gYWJzdHJhY3Rpb24gc2hvdWxkCnRoZW4gaGF2
ZSBiZWVuIGludHJvZHVjZWQgd2hlbiB0aGVzZSBjb25kaXRpb25hbHMgd2VyZSBmaXJzdCBhZGRl
ZAppbiB0aGVpciB0aGVuIHN0aWxsIHZlbmRvciBpbmRlcGVuZGVudCBmb3JtLikKCj4+IC0tLSBh
L3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMKPj4gKysrIGIveGVuL2RyaXZlcnMvcGFz
c3Rocm91Z2gvaW9tbXUuYwo+PiBAQCAtMzAsMTMgKzMwLDE3IEBAIGJvb2xfdCBfX2luaXRkYXRh
IGlvbW11X2VuYWJsZSA9IDE7Cj4+ICBib29sX3QgX19yZWFkX21vc3RseSBpb21tdV9lbmFibGVk
Owo+PiAgYm9vbF90IF9fcmVhZF9tb3N0bHkgZm9yY2VfaW9tbXU7Cj4+ICBib29sX3QgX19yZWFk
X21vc3RseSBpb21tdV92ZXJib3NlOwo+PiAtYm9vbCBfX3JlYWRfbW9zdGx5IGlvbW11X3F1YXJh
bnRpbmUgPSB0cnVlOwo+PiAgYm9vbF90IF9fcmVhZF9tb3N0bHkgaW9tbXVfaWdmeCA9IDE7Cj4+
ICBib29sX3QgX19yZWFkX21vc3RseSBpb21tdV9zbm9vcCA9IDE7Cj4+ICBib29sX3QgX19yZWFk
X21vc3RseSBpb21tdV9xaW52YWwgPSAxOwo+PiAgYm9vbF90IF9fcmVhZF9tb3N0bHkgaW9tbXVf
aW50cmVtYXAgPSAxOwo+PiAgYm9vbF90IF9fcmVhZF9tb3N0bHkgaW9tbXVfY3Jhc2hfZGlzYWJs
ZTsKPj4gIAo+PiArI2RlZmluZSBJT01NVV9xdWFyYW50aW5lX25vbmUgIGZhbHNlCj4+ICsjZGVm
aW5lIElPTU1VX3F1YXJhbnRpbmVfYmFzaWMgdHJ1ZQo+PiArI2RlZmluZSBJT01NVV9xdWFyYW50
aW5lX2Z1bGwgIDIKPj4gK3VpbnQ4X3QgX19yZWFkX21vc3RseSBpb21tdV9xdWFyYW50aW5lID0g
SU9NTVVfcXVhcmFudGluZV9iYXNpYzsKPiAKPiBJIGRvbid0IHJlYWxseSBsaWtlIHRvIHVzZSBi
b29sZWFucyB3aXRoIG5vbi1ib29sZWFuIHZhcmlhYmxlcy4KPiBXb3VsZG4ndCBpdCBiZSBiZXR0
ZXIgdG8ganVzdCB1c2UgcGxhaW4gbnVtYmVycywgb3IgZXZlbiBiZXR0ZXIgYW4KPiBlbnVtPwoK
Tm8gb3B0aW9uIGlzIHJlYWxseSBnb29kIGhlcmUsIEkgdGhpbmsuIEkgZGlkIGNvbnNpZGVyIHVz
aW5nIGFuCmVudW0sIGJ1dCBJIHdhbnRlZCB0byByZXN0cmljdCB0aGUgdmFyaWFibGUgdG8gOCBi
aXRzLiBJZiBJIHdhcwp0byB1c2UgYW4gZW51bSwgb2YgY291cnNlIEknZCBhbHNvIHdhbnQgdG8g
aGF2ZSB0aGUgdmFyaWFibGUgdGhpcwooY29ycmVjdCkgdHlwZS4gQW5kIEknZCBhbHNvIGxpa2Ug
dG8gYXZvaWQgdGhlIHBhY2tlZCBhdHRyaWJ1dGUKaGVyZS4gVGhlIGFib3ZlIHNlZW1lZCB0byBs
ZWFzdCBiYWQgb3B0aW9uOyBJIGNvdWxkIGJlIGNvbnZpbmNlZAp0byB1c2UgMC8xIGluc3RlYWQg
b2YgZmFsc2UvdHJ1ZSwgdGhvdWdoLgoKPj4gLS0tIGEveGVuL2luY2x1ZGUveGVuL2lvbW11LmgK
Pj4gKysrIGIveGVuL2luY2x1ZGUveGVuL2lvbW11LmgKPj4gQEAgLTUzLDggKzUzLDkgQEAgc3Rh
dGljIGlubGluZSBib29sX3QgZGZuX2VxKGRmbl90IHgsIGRmbgo+PiAgfQo+PiAgCj4+ICBleHRl
cm4gYm9vbF90IGlvbW11X2VuYWJsZSwgaW9tbXVfZW5hYmxlZDsKPj4gLWV4dGVybiBib29sIGZv
cmNlX2lvbW11LCBpb21tdV9xdWFyYW50aW5lLCBpb21tdV92ZXJib3NlLCBpb21tdV9pZ2Z4Owo+
PiArZXh0ZXJuIGJvb2wgZm9yY2VfaW9tbXUsIGlvbW11X3ZlcmJvc2UsIGlvbW11X2lnZng7Cj4+
ICBleHRlcm4gYm9vbF90IGlvbW11X3Nub29wLCBpb21tdV9xaW52YWwsIGlvbW11X2ludHJlbWFw
LCBpb21tdV9pbnRwb3N0Owo+PiArZXh0ZXJuIHVpbnQ4X3QgaW9tbXVfcXVhcmFudGluZTsKPiAK
PiBFeHBvcnRpbmcgdGhpcyB2YXJpYWJsZSB3aXRob3V0IHRoZSBwYWlyZWQgZGVmaW5lcyBzZWVt
cyBwb2ludGxlc3MsCj4gaG93IGFyZSBleHRlcm5hbCBjYWxsZXJzIHN1cHBvc2VkIHRvIGZpZ3Vy
ZSBvdXQgdGhlIHF1YXJhbnRpbmUgbW9kZQo+IHdpdGhvdXQgdGhlIElPTU1VX3F1YXJhbnRpbmVf
KiBkZWZpbmVzPwoKV2h5IHBvaW50bGVzcz8gT3V0c2lkZSBvZiB0aGUgZmlsZSBrbm93aW5nIHRo
ZSBJT01NVV9xdWFyYW50aW5lXyoKZGVmaW5lcyB0aGUgdmFyaWFibGUgY29udGludWVzIHRvIGhh
dmUgYm9vbGVhbiBtZWFuaW5nLgoKSmFuCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54
ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGlu
Zm8veGVuLWRldmVs

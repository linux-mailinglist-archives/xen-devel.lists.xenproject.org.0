Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CB81F719B5
	for <lists+xen-devel@lfdr.de>; Tue, 23 Jul 2019 15:48:35 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hpv5W-0006Ns-OD; Tue, 23 Jul 2019 13:44:18 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=bPW/=VU=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1hpv5U-0006Nn-MR
 for xen-devel@lists.xenproject.org; Tue, 23 Jul 2019 13:44:16 +0000
X-Inumbo-ID: f503be74-ad4f-11e9-bde9-fbe3a2055fff
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id f503be74-ad4f-11e9-bde9-fbe3a2055fff;
 Tue, 23 Jul 2019 13:44:14 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 1BDF1AEFC;
 Tue, 23 Jul 2019 13:44:13 +0000 (UTC)
To: Jan Beulich <JBeulich@suse.com>
References: <20190723092056.15045-1-jgross@suse.com>
 <20190723092056.15045-3-jgross@suse.com>
 <eb7d7c8a-9bb1-f264-b72e-7e4c96087568@suse.com>
From: Juergen Gross <jgross@suse.com>
Message-ID: <4c6a7888-d697-1b2c-cdbf-7127ae00bc4f@suse.com>
Date: Tue, 23 Jul 2019 15:44:11 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <eb7d7c8a-9bb1-f264-b72e-7e4c96087568@suse.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 2/2] xen: merge temporary vcpu pinning
 scenarios
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Tim Deegan <tim@xen.org>, Stefano Stabellini <sstabellini@kernel.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Dario Faggioli <dfaggioli@suse.com>,
 Julien Grall <julien.grall@arm.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMjMuMDcuMTkgMTQ6NDIsIEphbiBCZXVsaWNoIHdyb3RlOgo+IE9uIDIzLjA3LjIwMTkgMTE6
MjAsIEp1ZXJnZW4gR3Jvc3Mgd3JvdGU6Cj4+IFRvZGF5IHRoZXJlIGFyZSB0aHJlZSBzY2VuYXJp
b3Mgd2hpY2ggYXJlIHBpbm5pbmcgdmNwdXMgdGVtcG9yYXJpbHkgdG8KPj4gYSBzaW5nbGUgcGh5
c2ljYWwgY3B1Ogo+Pgo+PiAtIE5NSS9NQ0UgaW5qZWN0aW9uIGludG8gUFYgZG9tYWlucwo+PiAt
IHdhaXRfZXZlbnQoKSBoYW5kbGluZwo+PiAtIHZjcHVfcGluX292ZXJyaWRlKCkgaGFuZGxpbmcK
Pj4KPj4gRWFjaCBvZiB0aG9zZSBjYXNlcyBhcmUgaGFuZGxlZCBpbmRlcGVuZGVudGx5IHRvZGF5
IHVzaW5nIHRoZWlyIG93bgo+PiB0ZW1wb3JhcnkgY3B1bWFzayB0byBzYXZlIHRoZSBvbGQgYWZm
aW5pdHkgc2V0dGluZ3MuCj4gCj4gQW5kIHdoYXQgZ3VhcmFudGVlcyB0aGF0IG5vIHR3byBvZiB0
aGVtIHdpbGwgYmUgaW4gdXNlIGF0IHRoZSBzYW1lIHRpbWU/Cj4gWW91IGRvbid0IGV2ZW4gbWVu
dGlvbiAuLi4KPiAKPj4gVGhlIHRocmVlIGNhc2VzIGNhbiBiZSBjb21iaW5lZCBhcyB0aGUgdHdv
IGxhdHRlciBjYXNlcyB3aWxsIG9ubHkgcGluCj4+IGEgdmNwdSB0byB0aGUgcGh5c2ljYWwgY3B1
IGl0IGlzIGFscmVhZHkgcnVubmluZyBvbiwgd2hpbGUKPj4gdmNwdV9waW5fb3ZlcnJpZGUoKSBp
cyBhbGxvd2VkIHRvIGZhaWwuCj4gCj4gLi4gdGhlIE5NSS8jTUMgaW5qZWN0aW9uIGNhc2UgaGVy
ZSAoZGVzcGl0ZSB0aGUgdXNlIG9mICJ0aGUgdHdvIiBhbmQKPiAid2hpbGUiIGdpdmluZyB0aGUg
aW1wcmVzc2lvbikuIE9yIChsb29raW5nIGF0IHRoZSBhY3R1YWwgY29kZSkgZGlkIHlvdQo+IG1l
YW4gImZvcm1lciIgaW5zdGVhZCBvZiAibGF0dGVyIj8gQnV0IGlmIHNvIC0gaWQgdGhhdCB0cnVl
PwoKWWVzLCBJIG1lYW50IGZvcm1lci4KCj4gdi0+cHJvY2Vzc29yIGdldHMgbGF0Y2hlZCBpbnRv
IHN0LT5wcm9jZXNzb3IgYmVmb3JlIHJhaXNpbmcgdGhlIHNvZnRpcnEsCj4gYnV0IGNhbid0IHRo
ZSB2Q1BVIGJlIG1vdmVkIGVsc2V3aGVyZSBieSB0aGUgdGltZSB0aGUgc29mdGlycSBoYW5kbGVy
Cj4gYWN0dWFsbHkgZ2FpbnMgY29udHJvbD8gSWYgdGhhdCdzIG5vdCBwb3NzaWJsZSAoYW5kIGlm
IGl0J3Mgbm90IG9idmlvdXMKPiB3aHksIGFuZCBhcyB5b3UgY2FuIHNlZSBpdCdzIG5vdCBvYnZp
b3VzIHRvIG1lKSwgdGhlbiBJIHRoaW5rIGEgY29kZQo+IGNvbW1lbnQgd2FudHMgdG8gYmUgYWRk
ZWQgdGhlcmUuCgpZb3UgYXJlIHJpZ2h0LCBpdCBtaWdodCBiZSBwb3NzaWJsZSBmb3IgdGhlIHZj
cHUgdG8gbW92ZSBhcm91bmQuCgpPVE9IIGlzIGl0IHJlYWxseSBpbXBvcnRhbnQgdG8gcnVuIHRo
ZSB0YXJnZXQgdmNwdSBleGFjdGx5IG9uIHRoZSBjcHUKaXQgaXMgZXhlY3V0aW5nIChvciBoYXMg
bGFzdCBleGVjdXRlZCkgYXQgdGhlIHRpbWUgdGhlIE5NSS9NQ0UgaXMgYmVpbmcKcXVldWVkPyBU
aGlzIGlzIGluIG5vIHdheSByZWxhdGVkIHRvIHRoZSBjcHUgdGhlIE1DRSBvciBOTUkgaGFzIGJl
ZW4KaGFwcGVuaW5nIG9uLiBJdCBpcyBqdXN0IGEgcmFuZG9tIGNwdSwgYW5kIHNvIGl0IHdvdWxk
IGJlIGlmIHdlJ2QgZG8gdGhlCmNwdSBzZWxlY3Rpb24gd2hlbiB0aGUgc29mdGlycSBoYW5kbGVy
IGlzIHJ1bm5pbmcuCgpPbmUgcXVlc3Rpb24gdG8gdW5kZXJzdGFuZCB0aGUgaWRlYSBuZWhpbmQg
YWxsIHRoYXQ6IF93aHlfIGlzIHRoZSB2Y3B1CnBpbm5lZCB1bnRpbCBpdCBkb2VzIGFuIGlyZXQ/
IEkgY291bGQgdW5kZXJzdGFuZCBpZiBpdCB3b3VsZCBiZSBwaW5uZWQKdG8gdGhlIGNwdSB3aGVy
ZSB0aGUgTk1JL01DRSB3YXMgaGFwcGVuaW5nLCBidXQgdGhpcyBpcyBub3QgdGhlIGNhc2UuCgo+
IEluZGVwZW5kZW50IG9mIHRoYXQgaW50cm9kdWNpbmcgbmV3IGZhaWx1cmUgY2FzZXMgZm9yIHZj
cHVfcGluX292ZXJyaWRlKCkKPiBpc24ndCByZWFsbHkgbmljZS4gVGhlbiBhZ2FpbiBhbnkgdHdv
IHJhY2luZy9jb25mbGljdGluZyBwaW5uaW5nIGF0dGVtcHRzCj4gY2FuJ3QgcmVzdWx0IGluIGFu
eXRoaW5nIGdvb2QuCgpSaWdodC4KCj4gTmV2ZXJ0aGVsZXNzIC0gbmljZSBpZGVhLCBzbyBhIGZl
dyBtaW5vciBjb21tZW50cyBvbiB0aGUgY29kZSBhcyB3ZWxsLCBpbgo+IHRoZSBob3BlIHRoYXQg
bXkgcG9pbnQgYWJvdmUgY2FuIGJlIGFkZHJlc3NlZC4KPiAKPj4gLS0tIGEveGVuL2NvbW1vbi9z
Y2hlZHVsZS5jCj4+ICsrKyBiL3hlbi9jb21tb24vc2NoZWR1bGUuYwo+PiBAQCAtMTEwNiw0NyAr
MTEwNiw1OCBAQCB2b2lkIHdhdGNoZG9nX2RvbWFpbl9kZXN0cm95KHN0cnVjdCBkb21haW4gKmQp
Cj4+ICAgICAgICAgICAga2lsbF90aW1lcigmZC0+d2F0Y2hkb2dfdGltZXJbaV0pOwo+PiAgICB9
Cj4+ICAgIAo+PiAtaW50IHZjcHVfcGluX292ZXJyaWRlKHN0cnVjdCB2Y3B1ICp2LCBpbnQgY3B1
KQo+PiAraW50IHZjcHVfc2V0X3RtcF9hZmZpbml0eShzdHJ1Y3QgdmNwdSAqdiwgaW50IGNwdSwg
dWludDhfdCByZWFzb24pCj4gCj4gSSdkIGZpbmQgaXQgcHJldHR5IG5pY2UgaWYgYXQgdGhpcyBv
Y2Nhc2lvbiB0aGUgdHlwZSBvZiAiY3B1IiB3YXMKPiBjaGFuZ2VkIHRvICJ1bnNpZ25lZCBpbnQi
LCB1c2luZyBVSU5UX01BWCBvciBOUl9DUFVTIGluc3RlYWQgb2YgLTEKPiBmb3IgdGhlICJyZW1v
dmUgb3ZlcnJpZGUiIGNhc2UuCgpGaW5lIHdpdGggbWUuCgo+IEknZCBhbHNvIHByZWZlciBpZiB5
b3UgZGlkbid0IHVzZSAidG1wIiBhcyBhbiBpbmZpeCBoZXJlLiBNYWtlIGl0Cj4gInRlbXBvcmFy
eSIsICJ0cmFuc2llbnQiLCBvciBzb21lIHN1Y2guIFBlcmhhcHMgZXZlbiBvbWl0ICJzZXQiLAo+
IHRoZSBtb3JlIHRoYXQgdGhlIGZ1bmN0aW9uIG1heSBhbHNvIGNsZWFyIGl0LgoKT2theS4KCj4g
Cj4+IEBAIC0xODIsMzAgKzE3OCwyNCBAQCBzdGF0aWMgdm9pZCBfX3ByZXBhcmVfdG9fd2FpdChz
dHJ1Y3Qgd2FpdHF1ZXVlX3ZjcHUgKndxdikKPj4gICAgc3RhdGljIHZvaWQgX19maW5pc2hfd2Fp
dChzdHJ1Y3Qgd2FpdHF1ZXVlX3ZjcHUgKndxdikKPj4gICAgewo+PiAgICAgICAgd3F2LT5lc3Ag
PSBOVUxMOwo+PiAtICAgICh2b2lkKXZjcHVfc2V0X2hhcmRfYWZmaW5pdHkoY3VycmVudCwgJndx
di0+c2F2ZWRfYWZmaW5pdHkpOwo+PiArICAgIHZjcHVfc2V0X3RtcF9hZmZpbml0eShjdXJyZW50
LCAtMSwgVkNQVV9BRkZJTklUWV9XQUlUKTsKPj4gICAgfQo+PiAgICAKPj4gICAgdm9pZCBjaGVj
a193YWtldXBfZnJvbV93YWl0KHZvaWQpCj4+ICAgIHsKPj4gLSAgICBzdHJ1Y3Qgd2FpdHF1ZXVl
X3ZjcHUgKndxdiA9IGN1cnJlbnQtPndhaXRxdWV1ZV92Y3B1Owo+PiArICAgIHN0cnVjdCB2Y3B1
ICpjdXJyID0gY3VycmVudDsKPj4gKyAgICBzdHJ1Y3Qgd2FpdHF1ZXVlX3ZjcHUgKndxdiA9IGN1
cnItPndhaXRxdWV1ZV92Y3B1Owo+PiAgICAKPj4gICAgICAgIEFTU0VSVChsaXN0X2VtcHR5KCZ3
cXYtPmxpc3QpKTsKPj4gICAgCj4+ICAgICAgICBpZiAoIGxpa2VseSh3cXYtPmVzcCA9PSBOVUxM
KSApCj4+ICAgICAgICAgICAgcmV0dXJuOwo+PiAgICAKPj4gLSAgICAvKiBDaGVjayBpZiB3ZSB3
b2tlIHVwIG9uIHRoZSB3cm9uZyBDUFUuICovCj4+IC0gICAgaWYgKCB1bmxpa2VseShzbXBfcHJv
Y2Vzc29yX2lkKCkgIT0gd3F2LT53YWtldXBfY3B1KSApCj4+ICsgICAgLyogQ2hlY2sgaWYgd2Ug
YXJlIHN0aWxsIHBpbm5lZC4gKi8KPj4gKyAgICBpZiAoIHVubGlrZWx5KCEoY3Vyci0+YWZmaW5p
dHlfYnJva2VuICYgVkNQVV9BRkZJTklUWV9XQUlUKSkgKQo+PiAgICAgICAgewo+PiAtICAgICAg
ICAvKiBSZS1zZXQgVkNQVSBhZmZpbml0eSBhbmQgcmUtZW50ZXIgdGhlIHNjaGVkdWxlci4gKi8K
Pj4gLSAgICAgICAgc3RydWN0IHZjcHUgKmN1cnIgPSBjdXJyZW50Owo+PiAtICAgICAgICBjcHVt
YXNrX2NvcHkoJndxdi0+c2F2ZWRfYWZmaW5pdHksIGN1cnItPmNwdV9oYXJkX2FmZmluaXR5KTsK
Pj4gLSAgICAgICAgaWYgKCB2Y3B1X3NldF9oYXJkX2FmZmluaXR5KGN1cnIsIGNwdW1hc2tfb2Yo
d3F2LT53YWtldXBfY3B1KSkgKQo+PiAtICAgICAgICB7Cj4+IC0gICAgICAgICAgICBnZHByaW50
ayhYRU5MT0dfRVJSLCAiVW5hYmxlIHRvIHNldCB2Y3B1IGFmZmluaXR5XG4iKTsKPj4gLSAgICAg
ICAgICAgIGRvbWFpbl9jcmFzaChjdXJyZW50LT5kb21haW4pOwo+PiAtICAgICAgICB9Cj4+IC0g
ICAgICAgIHdhaXQoKTsgLyogdGFrZXMgdXMgYmFjayBpbnRvIHRoZSBzY2hlZHVsZXIgKi8KPj4g
KyAgICAgICAgZ2RwcmludGsoWEVOTE9HX0VSUiwgInZjcHUgYWZmaW5pdHkgbG9zdFxuIik7Cj4+
ICsgICAgICAgIGRvbWFpbl9jcmFzaChjdXJyZW50LT5kb21haW4pOwo+PiAgICAgICAgfQo+IAo+
IFBsZWFzZSB1c2UgY3VyciBpbiBmYXZvciBvZiBjdXJyZW50LgoKWWVzLgoKCkp1ZXJnZW4KCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBt
YWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMu
eGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id B1C869685A
	for <lists+xen-devel@lfdr.de>; Tue, 20 Aug 2019 20:12:26 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i08aZ-0006Bk-8y; Tue, 20 Aug 2019 18:10:35 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=3t4G=WQ=gmail.com=olekstysh@srs-us1.protection.inumbo.net>)
 id 1i08aY-0006BN-1F
 for xen-devel@lists.xenproject.org; Tue, 20 Aug 2019 18:10:34 +0000
X-Inumbo-ID: c11d7b68-c375-11e9-9a4a-bc764e2007e4
Received: from mail-lf1-x143.google.com (unknown [2a00:1450:4864:20::143])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id c11d7b68-c375-11e9-9a4a-bc764e2007e4;
 Tue, 20 Aug 2019 18:10:13 +0000 (UTC)
Received: by mail-lf1-x143.google.com with SMTP id b29so4845313lfq.1
 for <xen-devel@lists.xenproject.org>; Tue, 20 Aug 2019 11:10:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=GAgFw36gC429acSBqct8LFinzu2sDTtm3GCzrKesNfY=;
 b=U9lKusa5b6l8i31SXujZLTZm70HnKan8FM3+wteqam1S4CTHvCVNY+yUoFAOwhagUS
 Ew0+zjzGRGnS8aJd27+OJgrW6Q2oUyzZmNhhTYC6wG3amGLGXyttV0eY9SP/dteqUR06
 Z1W+Gg+Ram65xPi5LWVEzDgoiZBkqMqh7WVG5g1NX4er7urVUNwwI32NqZyjm1SNXe0U
 tPKXiCd6g522j/yC91/HVfMwUxFFClpgXdBdbk9nynsHsEk+iUPXbFmWRZBbW6a9Kuhs
 MRcovF83BHZ5Nnkuaxh9HgrN87k8mzd4rzKY0mzP5ZDgWc8kUf737odvB0G/UUzPu+h9
 i5Fg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=GAgFw36gC429acSBqct8LFinzu2sDTtm3GCzrKesNfY=;
 b=YZAZWdGnBgkfooQvPo/u0zRxhZiKMfBDiFdmADDRMFhOw+1MWBGU6jmSU6fxT/cicL
 S1bP0ZUnMVVwiiyYkCXMprhu7Ucdph21LpKa9ZZUHSg2DD33IH5KY7T2X2vKr5oU+yZD
 glaWsaIXaceHSb20EHERuAnli5QsmSF/FdFhxK0sROK8Dir65TlsYtkDNqODG08p1Na/
 iVkJ9gPUKziRdFxwoiXhu2DfUfXjrjRKBRFOvfzsVMIiUbzp/JiVhnWJZre7EDtHBmth
 21/IEuWq3KKJXT4p+AOS9pKlC2ZZSBPLs9Fyj4XY77A/pj1zarm7/EONkNtWx/gYamlZ
 7Eyg==
X-Gm-Message-State: APjAAAW+xx1H4NT93ipKN0e/iecg//8vuh/fouEb7sRNgjtlh2zfIUUh
 BbcO6O8kgDZnXmNBtvj3gwBWYUlA
X-Google-Smtp-Source: APXvYqxe8zKknAvvewRip0aqjs3rjpp7Uk2pyiDktc3mK58q4zGm/xg7XIGpi4efZiRgCLBblGPV4w==
X-Received: by 2002:a05:6512:1da:: with SMTP id
 f26mr16171776lfp.129.1566324612364; 
 Tue, 20 Aug 2019 11:10:12 -0700 (PDT)
Received: from otyshchenko.kyiv.epam.com (ll-22.209.223.85.sovam.net.ua.
 [85.223.209.22])
 by smtp.gmail.com with ESMTPSA id f6sm2900642lja.16.2019.08.20.11.10.11
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Tue, 20 Aug 2019 11:10:11 -0700 (PDT)
From: Oleksandr Tyshchenko <olekstysh@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 20 Aug 2019 21:09:44 +0300
Message-Id: <1566324587-3442-6-git-send-email-olekstysh@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1566324587-3442-1-git-send-email-olekstysh@gmail.com>
References: <1566324587-3442-1-git-send-email-olekstysh@gmail.com>
Subject: [Xen-devel] [PATCH V3 5/8] iommu/arm: Add lightweight iommu_fwspec
 support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>, julien.grall@arm.com,
 sstabellini@kernel.org, Volodymyr_Babchuk@epam.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtvQGVwYW0uY29t
PgoKV2UgbmVlZCB0byBoYXZlIHNvbWUgYWJzdHJhY3Qgd2F5IHRvIGFkZCBuZXcgZGV2aWNlIHRv
IHRoZSBJT01NVQpiYXNlZCBvbiB0aGUgZ2VuZXJpYyBJT01NVSBEVCBiaW5kaW5ncyBbMV0gd2hp
Y2ggY2FuIGJlIHVzZWQgZm9yCmJvdGggRFQgKHJpZ2h0IG5vdykgYW5kIEFDUEkgKGluIGZ1dHVy
ZSkuCgpGb3IgdGhhdCByZWFzb24gd2UgY2FuIGJvcnJvdyB0aGUgaWRlYSB1c2VkIGluIExpbnV4
IHRoZXNlIGRheXMKY2FsbGVkICJpb21tdV9md3NwZWMiLiBIYXZpbmcgdGhpcyBpbiwgaXQgd2ls
bCBiZSBwb3NzaWJsZQp0byBjb25maWd1cmUgSU9NTVUgbWFzdGVyIGludGVyZmFjZXMgb2YgdGhl
IGRldmljZSAoZGV2aWNlIElEcykKZnJvbSBhIHNpbmdsZSBjb21tb24gcGxhY2UgYW5kIGF2b2lk
IGtlZXBpbmcgYWxtb3N0IGlkZW50aWNhbCBsb29rLXVwCmltcGxlbWVudGF0aW9ucyBpbiBlYWNo
IElPTU1VIGRyaXZlci4KClRoZXJlIGlzIG5vIG5lZWQgdG8gcG9ydCB0aGUgd2hvbGUgaW1wbGVt
ZW50YXRpb24gb2YgImlvbW11X2Z3c3BlYyIKdG8gWGVuLCB3ZSBjb3VsZCwgcHJvYmFibHksIGVu
ZCB1cCB3aXRoIGEgbXVjaCBzaW1wbGVyIHNvbHV0aW9uLApzb21lICJzdHJpcHBlZCBkb3duIiB2
ZXJzaW9uIHdoaWNoIGZpdHMgb3VyIHJlcXVpcmVtZW50cy4KClNvLCB0aGlzIHBhdGNoIGFkZHMg
dGhlIGZvbGxvd2luZzoKMS4gQSBjb21tb24gc3RydWN0dXJlICJpb21tdV9md3NwZWMiIHRvIGhv
bGQgdGhlIHRoZSBwZXItZGV2aWNlCiAgIGZpcm13YXJlIGRhdGEKMi4gTmV3IG1lbWJlciAiaW9t
bXVfZndzcGVjIiBvZiBzdHJ1Y3QgZGV2aWNlCjMuIEZ1bmN0aW9ucy9oZWxwZXJzIHRvIGRlYWwg
d2l0aCAiZGV2LT5pb21tdV9md3NwZWMiCgpJdCBzaG91bGQgYmUgbm90ZWQgdGhhdCBpbiBjb21w
YXJpbmcgd2l0aCBvcmlnaW5hbCAiaW9tbXVfZndzcGVjIgpYZW4ncyB2YXJpYW50IGRvZXNuJ3Qg
Y29udGFpbiBzb21lIGZpZWxkcywgd2hpY2ggYXJlIG5vdCByZWFsbHkKbmVlZGVkIGF0IHRoZSBt
b21lbnQgKG9wcywgZmxhZykgYW5kICJpb21tdV9md25vZGUiIGZpZWxkIHdhcyByZXBsYWNlZApi
eSAiaW9tbXVfZGV2IiB0byBhdm9pZCBwb3J0aW5nIGEgbG90IG9mIGNvZGUgKHRvIHN1cHBvcnQg
ImZ3bm9kZV9oYW5kbGUiKQp3aXRoIGxpdHRsZSBiZW5lZml0LgoKU3Vic2VxdWVudCBwYXRjaGVz
IHdpbGwgdXNlIG9mIHRoYXQgc3VwcG9ydC4KClsxXSBodHRwczovL3d3dy5rZXJuZWwub3JnL2Rv
Yy9Eb2N1bWVudGF0aW9uL2RldmljZXRyZWUvYmluZGluZ3MvaW9tbXUvaW9tbXUudHh0CgpTaWdu
ZWQtb2ZmLWJ5OiBPbGVrc2FuZHIgVHlzaGNoZW5rbyA8b2xla3NhbmRyX3R5c2hjaGVua29AZXBh
bS5jb20+CkNDOiBKdWxpZW4gR3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgoKLS0tCkNoYW5n
ZXMgVjIgLT4gVjM6CiAgICAtIGFkZGVkIENvcHlyaWdodCBmcm9tIExpbnV4CiAgICAtIG9yZGVy
ZWQgdGhlIGhlYWRlcnMgYWxwaGFiZXRpY2FsbHkKICAgIC0gcmVtb3ZlZCBjaGVjayBmb3Igbm90
IGEgTlVMTCBiZWZvcmUgY2FsbGluZyB4ZnJlZSgpCiAgICAtIHVzZWQgdW5zaWduZWQgZm9yIHZh
cmlhYmxlcyB3aGljaCBjYW4ndCBiZSBuZWdhdGl2ZQogICAgLSByZW1vdmVkICNpbmNsdWRlIDxh
c20vaW9tbXVfZndzcGVjLmg+IGZyb20gaW9tbXUuaAogICAgLSBhZGRlZCBjaGVjayB0byBpb21t
dV9md3NwZWNfaW5pdCgpIHRvIG5vdCBhbGxvdyBvdmVycmlkaW5nCiAgICAtIGNsYXJpZmllZCBj
b21tZW50cyBpbiBjb2RlCiAgICAtIG1vZGlmaWVkIGlvbW11X2Z3c3BlY19hZGRfaWRzKCkgdG8g
dXNlIHR5cGUtc2FmZSB4cmVhbGxvY19mbGV4X3N0cnVjdCgpCi0tLQogeGVuL2RyaXZlcnMvcGFz
c3Rocm91Z2gvYXJtL01ha2VmaWxlICAgICAgIHwgIDIgKy0KIHhlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL2FybS9pb21tdV9md3NwZWMuYyB8IDk0ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KwogeGVuL2luY2x1ZGUvYXNtLWFybS9kZXZpY2UuaCAgICAgICAgICAgICAgIHwgIDEgKwogeGVu
L2luY2x1ZGUvYXNtLWFybS9pb21tdV9md3NwZWMuaCAgICAgICAgIHwgNjggKysrKysrKysrKysr
KysrKysrKysrCiA0IGZpbGVzIGNoYW5nZWQsIDE2NCBpbnNlcnRpb25zKCspLCAxIGRlbGV0aW9u
KC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lvbW11
X2Z3c3BlYy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgeGVuL2luY2x1ZGUvYXNtLWFybS9pb21tdV9m
d3NwZWMuaAoKZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmls
ZSBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmlsZQppbmRleCA0YWJiODdhLi41
ZmJhZDQ1IDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vTWFrZWZpbGUK
KysrIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL01ha2VmaWxlCkBAIC0xLDIgKzEsMiBA
QAotb2JqLXkgKz0gaW9tbXUubyBpb21tdV9oZWxwZXJzLm8KK29iai15ICs9IGlvbW11Lm8gaW9t
bXVfaGVscGVycy5vIGlvbW11X2Z3c3BlYy5vCiBvYmotJChDT05GSUdfQVJNX1NNTVUpICs9IHNt
bXUubwpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lvbW11X2Z3c3Bl
Yy5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lvbW11X2Z3c3BlYy5jCm5ldyBmaWxl
IG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjEyYjhiYWUKLS0tIC9kZXYvbnVsbAorKysgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaW9tbXVfZndzcGVjLmMKQEAgLTAsMCArMSw5NCBA
QAorLyoKKyAqIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21tdV9md3NwZWMuYworICoK
KyAqIENvbnRhaW5zIGZ1bmN0aW9ucyB0byBtYWludGFpbiBwZXItZGV2aWNlIGZpcm13YXJlIGRh
dGEKKyAqCisgKiBCYXNlZCBvbiBMaW51eCdzIGlvbW11X2Z3c3BlYyBzdXBwb3J0IHlvdSBjYW4g
ZmluZCBhdDoKKyAqICAgIGRyaXZlcnMvaW9tbXUvaW9tbXUuYworICoKKyAqIENvcHlyaWdodCAo
QykgMjAwNy0yMDA4IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4KKyAqCisgKiBDb3B5cmln
aHQgKEMpIDIwMTkgRVBBTSBTeXN0ZW1zIEluYy4KKyAqCisgKiBUaGlzIHByb2dyYW0gaXMgZnJl
ZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCisgKiBtb2RpZnkgaXQg
dW5kZXIgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMK
KyAqIExpY2Vuc2UsIHZlcnNpb24gMiwgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJl
IEZvdW5kYXRpb24uCisgKgorICogVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBo
b3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCisgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7
IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgorICogTUVSQ0hBTlRBQklMSVRZ
IG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUKKyAqIEdl
bmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KKyAqCisgKiBZb3Ugc2hvdWxk
IGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMKKyAqIExpY2Vu
c2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW07IElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5v
cmcvbGljZW5zZXMvPi4KKyAqLworCisjaW5jbHVkZSA8eGVuL2lvbW11Lmg+CisjaW5jbHVkZSA8
eGVuL2xpYi5oPgorCisjaW5jbHVkZSA8YXNtL2RldmljZS5oPgorI2luY2x1ZGUgPGFzbS9pb21t
dV9md3NwZWMuaD4KKworaW50IGlvbW11X2Z3c3BlY19pbml0KHN0cnVjdCBkZXZpY2UgKmRldiwg
c3RydWN0IGRldmljZSAqaW9tbXVfZGV2KQoreworICAgIHN0cnVjdCBpb21tdV9md3NwZWMgKmZ3
c3BlYyA9IGRldl9pb21tdV9md3NwZWNfZ2V0KGRldik7CisKKyAgICBpZiAoIGZ3c3BlYyApCisg
ICAgeworICAgICAgICAvKiBXZSBleHBlY3QgdGhlIGRldmljZSB0byBiZSBwcm90ZWN0ZWQgYnkg
b25seSBvbmUgSU9NTVUuICovCisgICAgICAgIGlmICggZndzcGVjLT5pb21tdV9kZXYgIT0gaW9t
bXVfZGV2ICkKKyAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOworCisgICAgICAgIHJldHVybiAw
OworICAgIH0KKworICAgIGZ3c3BlYyA9IHh6YWxsb2Moc3RydWN0IGlvbW11X2Z3c3BlYyk7Cisg
ICAgaWYgKCAhZndzcGVjICkKKyAgICAgICAgcmV0dXJuIC1FTk9NRU07CisKKyAgICBmd3NwZWMt
PmlvbW11X2RldiA9IGlvbW11X2RldjsKKyAgICBkZXZfaW9tbXVfZndzcGVjX3NldChkZXYsIGZ3
c3BlYyk7CisKKyAgICByZXR1cm4gMDsKK30KKwordm9pZCBpb21tdV9md3NwZWNfZnJlZShzdHJ1
Y3QgZGV2aWNlICpkZXYpCit7CisgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAqZndzcGVjID0gZGV2
X2lvbW11X2Z3c3BlY19nZXQoZGV2KTsKKworICAgIHhmcmVlKGZ3c3BlYyk7CisgICAgZGV2X2lv
bW11X2Z3c3BlY19zZXQoZGV2LCBOVUxMKTsKK30KKworaW50IGlvbW11X2Z3c3BlY19hZGRfaWRz
KHN0cnVjdCBkZXZpY2UgKmRldiwgdWludDMyX3QgKmlkcywKKyAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQgbnVtX2lkcykKK3sKKyAgICBzdHJ1Y3QgaW9tbXVfZndzcGVjICpm
d3NwZWMgPSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYpOworICAgIHVuc2lnbmVkIGludCBpOwor
CisgICAgaWYgKCAhZndzcGVjICkKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisKKyAgICBmd3Nw
ZWMgPSB4cmVhbGxvY19mbGV4X3N0cnVjdChmd3NwZWMsIHN0cnVjdCBpb21tdV9md3NwZWMsIGlk
cywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmd3NwZWMtPm51bV9pZHMgKyBu
dW1faWRzKTsKKyAgICBpZiAoICFmd3NwZWMgKQorICAgICAgICByZXR1cm4gLUVOT01FTTsKKwor
ICAgIGRldl9pb21tdV9md3NwZWNfc2V0KGRldiwgZndzcGVjKTsKKworICAgIGZvciAoIGkgPSAw
OyBpIDwgbnVtX2lkczsgaSsrICkKKyAgICAgICAgZndzcGVjLT5pZHNbZndzcGVjLT5udW1faWRz
ICsgaV0gPSBpZHNbaV07CisKKyAgICBmd3NwZWMtPm51bV9pZHMgKz0gbnVtX2lkczsKKworICAg
IHJldHVybiAwOworfQorCisvKgorICogTG9jYWwgdmFyaWFibGVzOgorICogbW9kZTogQworICog
Yy1maWxlLXN0eWxlOiAiQlNEIgorICogYy1iYXNpYy1vZmZzZXQ6IDQKKyAqIGluZGVudC10YWJz
LW1vZGU6IG5pbAorICogRW5kOgorICovCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJt
L2RldmljZS5oIGIveGVuL2luY2x1ZGUvYXNtLWFybS9kZXZpY2UuaAppbmRleCBlZTFjM2JjLi5l
ZTdjZmYyIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL2RldmljZS5oCisrKyBiL3hl
bi9pbmNsdWRlL2FzbS1hcm0vZGV2aWNlLmgKQEAgLTE4LDYgKzE4LDcgQEAgc3RydWN0IGRldmlj
ZQogICAgIHN0cnVjdCBkdF9kZXZpY2Vfbm9kZSAqb2Zfbm9kZTsgLyogVXNlZCBieSBkcml2ZXJz
IGltcG9ydGVkIGZyb20gTGludXggKi8KICNlbmRpZgogICAgIHN0cnVjdCBkZXZfYXJjaGRhdGEg
YXJjaGRhdGE7CisgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAqaW9tbXVfZndzcGVjOyAvKiBwZXIt
ZGV2aWNlIElPTU1VIGluc3RhbmNlIGRhdGEgKi8KIH07CiAKIHR5cGVkZWYgc3RydWN0IGRldmlj
ZSBkZXZpY2VfdDsKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vaW9tbXVfZndzcGVj
LmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL2lvbW11X2Z3c3BlYy5oCm5ldyBmaWxlIG1vZGUgMTAw
NjQ0CmluZGV4IDAwMDAwMDAuLjhjZTRkYTEKLS0tIC9kZXYvbnVsbAorKysgYi94ZW4vaW5jbHVk
ZS9hc20tYXJtL2lvbW11X2Z3c3BlYy5oCkBAIC0wLDAgKzEsNjggQEAKKy8qCisgKiB4ZW4vaW5j
bHVkZS9hc20tYXJtL2lvbW11X2Z3c3BlYy5oCisgKgorICogQ29udGFpbnMgYSBjb21tb24gc3Ry
dWN0dXJlIHRvIGhvbGQgdGhlIHBlci1kZXZpY2UgZmlybXdhcmUgZGF0YSBhbmQKKyAqIGRlY2xh
cmF0aW9uIG9mIGZ1bmN0aW9ucyB1c2VkIHRvIG1haW50YWluIHRoYXQgZGF0YQorICoKKyAqIEJh
c2VkIG9uIExpbnV4J3MgaW9tbXVfZndzcGVjIHN1cHBvcnQgeW91IGNhbiBmaW5kIGF0OgorICog
ICAgaW5jbHVkZS9saW51eC9pb21tdS5oCisgKgorICogQ29weXJpZ2h0IChDKSAyMDA3LTIwMDgg
QWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgorICoKKyAqIENvcHlyaWdodCAoQykgMjAxOSBF
UEFNIFN5c3RlbXMgSW5jLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5
b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKKyAqIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVy
bXMgYW5kIGNvbmRpdGlvbnMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYworICogTGljZW5zZSwg
dmVyc2lvbiAyLCBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi4K
KyAqCisgKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3
aWxsIGJlIHVzZWZ1bCwKKyAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVu
IHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBG
T1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQorICogR2VuZXJhbCBQdWJsaWMg
TGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgorICoKKyAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZl
ZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYworICogTGljZW5zZSBhbG9uZyB3aXRo
IHRoaXMgcHJvZ3JhbTsgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+
LgorICovCisKKyNpZm5kZWYgX19BUkNIX0FSTV9JT01NVV9GV1NQRUNfSF9fCisjZGVmaW5lIF9f
QVJDSF9BUk1fSU9NTVVfRldTUEVDX0hfXworCisvKiBwZXItZGV2aWNlIElPTU1VIGluc3RhbmNl
IGRhdGEgKi8KK3N0cnVjdCBpb21tdV9md3NwZWMgeworICAgIC8qIHRoaXMgZGV2aWNlJ3MgSU9N
TVUgKi8KKyAgICBzdHJ1Y3QgZGV2aWNlICppb21tdV9kZXY7CisgICAgLyogSU9NTVUgZHJpdmVy
IHByaXZhdGUgZGF0YSBmb3IgdGhpcyBkZXZpY2UgKi8KKyAgICB2b2lkICppb21tdV9wcml2Owor
ICAgIC8qIG51bWJlciBvZiBhc3NvY2lhdGVkIGRldmljZSBJRHMgKi8KKyAgICB1bnNpZ25lZCBp
bnQgbnVtX2lkczsKKyAgICAvKiBJRHMgd2hpY2ggdGhpcyBkZXZpY2UgbWF5IHByZXNlbnQgdG8g
dGhlIElPTU1VICovCisgICAgdWludDMyX3QgaWRzWzFdOworfTsKKworaW50IGlvbW11X2Z3c3Bl
Y19pbml0KHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGRldmljZSAqaW9tbXVfZGV2KTsKK3Zv
aWQgaW9tbXVfZndzcGVjX2ZyZWUoc3RydWN0IGRldmljZSAqZGV2KTsKK2ludCBpb21tdV9md3Nw
ZWNfYWRkX2lkcyhzdHJ1Y3QgZGV2aWNlICpkZXYsIHVpbnQzMl90ICppZHMsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IG51bV9pZHMpOworCitzdGF0aWMgaW5saW5lIHN0
cnVjdCBpb21tdV9md3NwZWMgKmRldl9pb21tdV9md3NwZWNfZ2V0KHN0cnVjdCBkZXZpY2UgKmRl
dikKK3sKKyAgICByZXR1cm4gZGV2LT5pb21tdV9md3NwZWM7Cit9CisKK3N0YXRpYyBpbmxpbmUg
dm9pZCBkZXZfaW9tbXVfZndzcGVjX3NldChzdHJ1Y3QgZGV2aWNlICpkZXYsCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAqZndzcGVj
KQoreworICAgIGRldi0+aW9tbXVfZndzcGVjID0gZndzcGVjOworfQorCisjZW5kaWYgLyogX19B
UkNIX0FSTV9JT01NVV9GV1NQRUNfSF9fICovCisKKy8qCisgKiBMb2NhbCB2YXJpYWJsZXM6Cisg
KiBtb2RlOiBDCisgKiBjLWZpbGUtc3R5bGU6ICJCU0QiCisgKiBjLWJhc2ljLW9mZnNldDogNAor
ICogdGFiLXdpZHRoOiA0CisgKiBpbmRlbnQtdGFicy1tb2RlOiBuaWwKKyAqIEVuZDoKKyAqLwot
LSAKMi43LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpo
dHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

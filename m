Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 9EC07149FD2
	for <lists+xen-devel@lfdr.de>; Mon, 27 Jan 2020 09:23:58 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ivzc2-0001Zz-AC; Mon, 27 Jan 2020 08:19:14 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y5+q=3Q=amazon.com=prvs=288afea8f=sjpark@srs-us1.protection.inumbo.net>)
 id 1ivzc1-0001Zr-E4
 for xen-devel@lists.xenproject.org; Mon, 27 Jan 2020 08:19:13 +0000
X-Inumbo-ID: ae33281e-40dd-11ea-9fd7-bc764e2007e4
Received: from smtp-fw-33001.amazon.com (unknown [207.171.190.10])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id ae33281e-40dd-11ea-9fd7-bc764e2007e4;
 Mon, 27 Jan 2020 08:19:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.com; i=@amazon.com; q=dns/txt; s=amazon201209;
 t=1580113144; x=1611649144;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=iHRlt6hmfQ9wJIv7m925gNvQQpSwOi/1Yve2xVCNRDc=;
 b=sGLs5x1sdxLa2Gg1Xq2QTWzyOrKGDVPKHK+k5rLEsv7FL6iXPhJ+vHwY
 mu6vY0/RJupTBcgrn3h0OoOyr63U9DLnBbmOj6XOdvetol0j4mLskRFss
 /n/aHAXPYrM04gdSdU7XZ128MXHoEZWZzKC5ccEnYHMlwTL83WWkXkG2x I=;
IronPort-SDR: 6R0RfhsiFu7/oLNxqb6mAP/EdsDpGOKvoVBZ9qnakDCRyOha6OjsaOkQiUN5C8Sg8RLn8Bikh2
 aIb+eMmevjBw==
X-IronPort-AV: E=Sophos;i="5.70,369,1574121600"; d="scan'208";a="22599854"
Received: from sea32-co-svc-lb4-vlan3.sea.corp.amazon.com (HELO
 email-inbound-relay-2b-baacba05.us-west-2.amazon.com) ([10.47.23.38])
 by smtp-border-fw-out-33001.sea14.amazon.com with ESMTP;
 27 Jan 2020 08:18:51 +0000
Received: from EX13MTAUEA002.ant.amazon.com
 (pdx4-ws-svc-p6-lb7-vlan2.pdx.amazon.com [10.170.41.162])
 by email-inbound-relay-2b-baacba05.us-west-2.amazon.com (Postfix) with ESMTPS
 id 0FBB2A11F8; Mon, 27 Jan 2020 08:18:51 +0000 (UTC)
Received: from EX13D31EUA001.ant.amazon.com (10.43.165.15) by
 EX13MTAUEA002.ant.amazon.com (10.43.61.77) with Microsoft SMTP Server (TLS)
 id 15.0.1236.3; Mon, 27 Jan 2020 08:18:50 +0000
Received: from u886c93fd17d25d.ant.amazon.com (10.43.160.8) by
 EX13D31EUA001.ant.amazon.com (10.43.165.15) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Mon, 27 Jan 2020 08:18:45 +0000
From: <sjpark@amazon.com>
To: <jgross@suse.com>, <roger.pau@citrix.com>, <axboe@kernel.dk>
Date: Mon, 27 Jan 2020 09:18:10 +0100
Message-ID: <20200127081812.21216-4-sjpark@amazon.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200127081812.21216-1-sjpark@amazon.com>
References: <20200127081812.21216-1-sjpark@amazon.com>
MIME-Version: 1.0
X-Originating-IP: [10.43.160.8]
X-ClientProxiedBy: EX13D11UWB004.ant.amazon.com (10.43.161.90) To
 EX13D31EUA001.ant.amazon.com (10.43.165.15)
Precedence: Bulk
Subject: [Xen-devel] [PATCH v14 3/5] xen/blkback: Squeeze page pools if a
 memory pressure is detected
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: konrad.wilk@oracle.com, pdurrant@amazon.com,
 SeongJae Park <sjpark@amazon.de>, linux-kernel@vger.kernel.org,
 linux-block@vger.kernel.org, xen-devel@lists.xenproject.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogU2VvbmdKYWUgUGFyayA8c2pwYXJrQGFtYXpvbi5kZT4KCkVhY2ggYGJsa2lmYCBoYXMg
YSBmcmVlIHBhZ2VzIHBvb2wgZm9yIHRoZSBncmFudCBtYXBwaW5nLiAgVGhlIHNpemUgb2YKdGhl
IHBvb2wgc3RhcnRzIGZyb20gemVybyBhbmQgaXMgaW5jcmVhc2VkIG9uIGRlbWFuZCB3aGlsZSBw
cm9jZXNzaW5nCnRoZSBJL08gcmVxdWVzdHMuICBJZiBjdXJyZW50IEkvTyByZXF1ZXN0cyBoYW5k
bGluZyBpcyBmaW5pc2hlZCBvciAxMDAKbWlsbGlzZWNvbmRzIGhhcyBwYXNzZWQgc2luY2UgbGFz
dCBJL08gcmVxdWVzdHMgaGFuZGxpbmcsIGl0IGNoZWNrcyBhbmQKc2hyaW5rcyB0aGUgcG9vbCB0
byBub3QgZXhjZWVkIHRoZSBzaXplIGxpbWl0LCBgbWF4X2J1ZmZlcl9wYWdlc2AuCgpUaGVyZWZv
cmUsIGhvc3QgYWRtaW5pc3RyYXRvcnMgY2FuIGNhdXNlIG1lbW9yeSBwcmVzc3VyZSBpbiBibGti
YWNrIGJ5CmF0dGFjaGluZyBhIGxhcmdlIG51bWJlciBvZiBibG9jayBkZXZpY2VzIGFuZCBpbmR1
Y2luZyBJL08uICBTdWNoCnByb2JsZW1hdGljIHNpdHVhdGlvbnMgY2FuIGJlIGF2b2lkZWQgYnkg
bGltaXRpbmcgdGhlIG1heGltdW0gbnVtYmVyIG9mCmRldmljZXMgdGhhdCBjYW4gYmUgYXR0YWNo
ZWQsIGJ1dCBmaW5kaW5nIHRoZSBvcHRpbWFsIGxpbWl0IGlzIG5vdCBzbwplYXN5LiAgSW1wcm9w
ZXIgc2V0IG9mIHRoZSBsaW1pdCBjYW4gcmVzdWx0cyBpbiBtZW1vcnkgcHJlc3N1cmUgb3IgYQpy
ZXNvdXJjZSB1bmRlcnV0aWxpemF0aW9uLiAgVGhpcyBjb21taXQgYXZvaWRzIHN1Y2ggcHJvYmxl
bWF0aWMKc2l0dWF0aW9ucyBieSBzcXVlZXppbmcgdGhlIHBvb2xzIChyZXR1cm5zIGV2ZXJ5IGZy
ZWUgcGFnZSBpbiB0aGUgcG9vbAp0byB0aGUgc3lzdGVtKSBmb3IgYSB3aGlsZSAodXNlcnMgY2Fu
IHNldCB0aGlzIGR1cmF0aW9uIHZpYSBhIG1vZHVsZQpwYXJhbWV0ZXIpIGlmIG1lbW9yeSBwcmVz
c3VyZSBpcyBkZXRlY3RlZC4KCkRpc2N1c3Npb25zCj09PT09PT09PT09CgpUaGUgYGJsa2JhY2tg
J3Mgb3JpZ2luYWwgc2hyaW5raW5nIG1lY2hhbmlzbSByZXR1cm5zIG9ubHkgcGFnZXMgaW4gdGhl
CnBvb2wgd2hpY2ggYXJlIG5vdCBjdXJyZW50bHkgYmUgdXNlZCBieSBgYmxrYmFja2AgdG8gdGhl
IHN5c3RlbS4gIEluCm90aGVyIHdvcmRzLCB0aGUgcGFnZXMgdGhhdCBhcmUgbm90IG1hcHBlZCB3
aXRoIGdyYW50ZWQgcGFnZXMuICBCZWNhdXNlCnRoaXMgY29tbWl0IGlzIGNoYW5naW5nIG9ubHkg
dGhlIHNocmluayBsaW1pdCBidXQgc3RpbGwgdXNlcyB0aGUgc2FtZQpmcmVlaW5nIG1lY2hhbmlz
bSBpdCBkb2VzIG5vdCB0b3VjaCBwYWdlcyB3aGljaCBhcmUgY3VycmVudGx5IG1hcHBpbmcKZ3Jh
bnRzLgoKT25jZSBtZW1vcnkgcHJlc3N1cmUgaXMgZGV0ZWN0ZWQsIHRoaXMgY29tbWl0IGtlZXBz
IHRoZSBzcXVlZXppbmcgbGltaXQKZm9yIGEgdXNlci1zcGVjaWZpZWQgdGltZSBkdXJhdGlvbi4g
IFRoZSBkdXJhdGlvbiBzaG91bGQgYmUgbmVpdGhlciB0b28KbG9uZyBub3IgdG9vIHNob3J0LiAg
SWYgaXQgaXMgdG9vIGxvbmcsIHRoZSBzcXVlZXppbmcgaW5jdXJyaW5nIG92ZXJoZWFkCmNhbiBy
ZWR1Y2UgdGhlIEkvTyBwZXJmb3JtYW5jZS4gIElmIGl0IGlzIHRvbyBzaG9ydCwgYGJsa2JhY2tg
IHdpbGwgbm90CmZyZWUgZW5vdWdoIHBhZ2VzIHRvIHJlZHVjZSB0aGUgbWVtb3J5IHByZXNzdXJl
LiAgVGhpcyBjb21taXQgc2V0cyB0aGUKdmFsdWUgYXMgYDEwIG1pbGxpc2Vjb25kc2AgYnkgZGVm
YXVsdCBiZWNhdXNlIGl0IGlzIGEgc2hvcnQgdGltZSBpbgp0ZXJtcyBvZiBJL08gd2hpbGUgaXQg
aXMgYSBsb25nIHRpbWUgaW4gdGVybXMgb2YgbWVtb3J5IG9wZXJhdGlvbnMuCkFsc28sIGFzIHRo
ZSBvcmlnaW5hbCBzaHJpbmtpbmcgbWVjaGFuaXNtIHdvcmtzIGZvciBhdCBsZWFzdCBldmVyeSAx
MDAKbWlsbGlzZWNvbmRzLCB0aGlzIGNvdWxkIGJlIGEgc29tZXdoYXQgcmVhc29uYWJsZSBjaG9p
Y2UuICBJIGFsc28gdGVzdGVkCm90aGVyIGR1cmF0aW9ucyAocmVmZXIgdG8gdGhlIGJlbG93IHNl
Y3Rpb24gZm9yIG1vcmUgZGV0YWlscykgYW5kCmNvbmZpcm1lZCB0aGF0IDEwIG1pbGxpc2Vjb25k
cyBpcyB0aGUgb25lIHRoYXQgd29ya3MgYmVzdCB3aXRoIHRoZSB0ZXN0LgpUaGF0IHNhaWQsIHRo
ZSBwcm9wZXIgZHVyYXRpb24gZGVwZW5kcyBvbiBhY3R1YWwgY29uZmlndXJhdGlvbnMgYW5kCndv
cmtsb2Fkcy4gIFRoYXQncyB3aHkgdGhpcyBjb21taXQgYWxsb3dzIHVzZXJzIHRvIHNldCB0aGUg
ZHVyYXRpb24gYXMgYQptb2R1bGUgcGFyYW1ldGVyLgoKTWVtb3J5IFByZXNzdXJlIFRlc3QKPT09
PT09PT09PT09PT09PT09PT0KClRvIHNob3cgaG93IHRoaXMgY29tbWl0IGZpeGVzIHRoZSBtZW1v
cnkgcHJlc3N1cmUgc2l0dWF0aW9uIHdlbGwsIEkKY29uZmlndXJlZCBhIHRlc3QgZW52aXJvbm1l
bnQgb24gYSB4ZW4tcnVubmluZyB2aXJ0dWFsaXphdGlvbiBzeXN0ZW0uCk9uIHRoZSBgYmxrZnJv
bnRgIHJ1bm5pbmcgZ3Vlc3QgaW5zdGFuY2VzLCBJIGF0dGFjaCBhIGxhcmdlIG51bWJlciBvZgpu
ZXR3b3JrLWJhY2tlZCB2b2x1bWUgZGV2aWNlcyBhbmQgaW5kdWNlIEkvTyB0byB0aG9zZS4gIE1l
YW53aGlsZSwgSQptZWFzdXJlIHRoZSBudW1iZXIgb2YgcGFnZXMgdGhhdCBzd2FwcGVkIGluIChw
c3dwaW4pIGFuZCBvdXQgKHBzd3BvdXQpCm9uIHRoZSBgYmxrYmFja2AgcnVubmluZyBndWVzdC4g
IFRoZSB0ZXN0IHJhbiB0d2ljZSwgb25jZSBmb3IgdGhlCmBibGtiYWNrYCBiZWZvcmUgdGhpcyBj
b21taXQgYW5kIG9uY2UgZm9yIHRoYXQgYWZ0ZXIgdGhpcyBjb21taXQuICBBcwpzaG93biBiZWxv
dywgdGhpcyBjb21taXQgaGFzIGRyYW1hdGljYWxseSByZWR1Y2VkIHRoZSBtZW1vcnkgcHJlc3N1
cmU6CgogICAgICAgICAgICAgICAgcHN3cGluICBwc3dwb3V0CiAgICBiZWZvcmUgICAgICA3Niw2
NzIgIDE4NSw3OTkKICAgIGFmdGVyICAgICAgICAgIDg2NyAgICAzLDk2NwoKT3B0aW1hbCBBZ2dy
ZXNzaXZlIFNocmlua2luZyBEdXJhdGlvbgotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCgpUbyBmaW5kIGEgYmVzdCBzcXVlZXppbmcgZHVyYXRpb24sIEkgcmVwZWF0ZWQgdGhl
IHRlc3Qgd2l0aCB0aHJlZQpkaWZmZXJlbnQgZHVyYXRpb25zICgxbXMsIDEwbXMsIGFuZCAxMDBt
cykuICBUaGUgcmVzdWx0cyBhcmUgYXMgYmVsb3c6CgogICAgZHVyYXRpb24gICAgcHN3cGluICBw
c3dwb3V0CiAgICAxICAgICAgICAgICA3MDcgICAgIDUsMDk1CiAgICAxMCAgICAgICAgICA4Njcg
ICAgIDMsOTY3CiAgICAxMDAgICAgICAgICAzNjIgICAgIDMsMzQ4CgpBcyBleHBlY3RlZCwgdGhl
IG1lbW9yeSBwcmVzc3VyZSBkZWNyZWFzZXMgYXMgdGhlIGR1cmF0aW9uIGluY3JlYXNlcywKYnV0
IHRoZSByZWR1Y3Rpb24gYmVjb21lIHNsb3cgZnJvbSB0aGUgYDEwbXNgLiAgQmFzZWQgb24gdGhp
cyByZXN1bHRzLCBJCmNob3NlIHRoZSBkZWZhdWx0IGR1cmF0aW9uIGFzIDEwbXMuCgpQZXJmb3Jt
YW5jZSBPdmVyaGVhZCBUZXN0Cj09PT09PT09PT09PT09PT09PT09PT09PT0KClRoaXMgY29tbWl0
IGNvdWxkIGluY3VyIEkvTyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbiB1bmRlciBzZXZlcmUgbWVt
b3J5CnByZXNzdXJlIGJlY2F1c2UgdGhlIHNxdWVlemluZyB3aWxsIHJlcXVpcmUgbW9yZSBwYWdl
IGFsbG9jYXRpb25zIHBlcgpJL08uICBUbyBzaG93IHRoZSBvdmVyaGVhZCwgSSBhcnRpZmljaWFs
bHkgbWFkZSBhIHdvcnN0LWNhc2Ugc3F1ZWV6aW5nCnNpdHVhdGlvbiBhbmQgbWVhc3VyZWQgdGhl
IEkvTyBwZXJmb3JtYW5jZSBvZiBhIGBibGtmcm9udGAgcnVubmluZwpndWVzdC4KCkZvciB0aGUg
YXJ0aWZpY2lhbCBzcXVlZXppbmcsIEkgc2V0IHRoZSBgYmxrYmFjay5tYXhfYnVmZmVyX3BhZ2Vz
YCB1c2luZwp0aGUgYC9zeXMvbW9kdWxlL3hlbl9ibGtiYWNrL3BhcmFtZXRlcnMvbWF4X2J1ZmZl
cl9wYWdlc2AgZmlsZS4gIEluIHRoaXMKdGVzdCwgSSBzZXQgdGhlIHZhbHVlIHRvIGAxMDI0YCBh
bmQgYDBgLiAgVGhlIGAxMDI0YCBpcyB0aGUgZGVmYXVsdAp2YWx1ZS4gIFNldHRpbmcgdGhlIHZh
bHVlIGFzIGAwYCBpcyBzYW1lIHRvIGEgc2l0dWF0aW9uIGRvaW5nIHRoZQpzcXVlZXppbmcgYWx3
YXlzICh3b3JzdC1jYXNlKS4KCklmIHRoZSB1bmRlcmx5aW5nIGJsb2NrIGRldmljZSBpcyBzbG93
IGVub3VnaCwgdGhlIHNxdWVlemluZyBvdmVyaGVhZApjb3VsZCBiZSBoaWRkZW4uICBGb3IgdGhl
IHJlYXNvbiwgSSB1c2UgYSBmYXN0IGJsb2NrIGRldmljZSwgbmFtZWx5IHRoZQpyYmRbMV06Cgog
ICAgIyB4bCBibG9jay1hdHRhY2ggZ3Vlc3QgcGh5Oi9kZXYvcmFtMCB4dmRiIHcKCkZvciB0aGUg
SS9PIHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50LCBJIHJ1biBhIHNpbXBsZSBgZGRgIGNvbW1hbmQg
NSB0aW1lcwpkaXJlY3RseSB0byB0aGUgZGV2aWNlIGFzIGJlbG93IGFuZCBjb2xsZWN0IHRoZSAn
TUIvcycgcmVzdWx0cy4KCiAgICAkIGZvciBpIGluIHsxLi41fTsgZG8gZGQgaWY9L2Rldi96ZXJv
IG9mPS9kZXYveHZkYiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnM9NGsgY291bnQ9
JCgoMjU2KjUxMikpOyBzeW5jOyBkb25lCgpUaGUgcmVzdWx0cyBhcmUgYXMgYmVsb3cuICAnbWF4
X3BncycgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2YgdGhlCmBibGtiYWNrLm1heF9idWZmZXJfcGFn
ZXNgIHBhcmFtZXRlci4KCiAgICBtYXhfcGdzICAgTWluICAgICAgIE1heCAgICAgICBNZWRpYW4g
ICAgIEF2ZyAgICBTdGRkZXYKICAgIDAgICAgICAgICA0MTcgICAgICAgNDIzICAgICAgIDQyMCAg
ICAgICAgNDE5LjQgIDIuNTA5OTgwMQogICAgMTAyNCAgICAgIDQxNCAgICAgICA0MjUgICAgICAg
NDE2ICAgICAgICA0MTcuOCAgNC40Mzg0NjgyCiAgICBObyBkaWZmZXJlbmNlIHByb3ZlbiBhdCA5
NS4wJSBjb25maWRlbmNlCgpJbiBzaG9ydCwgZXZlbiB3b3JzdCBjYXNlIHNxdWVlemluZyBvbiBy
YW1kaXNrIGJhc2VkIGZhc3QgYmxvY2sgZGV2aWNlCm1ha2VzIG5vIHZpc2libGUgcGVyZm9ybWFu
Y2UgZGVncmFkYXRpb24uICBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMganVzdAphIHZlcnkgc2lt
cGxlIGFuZCBtaW5pbWFsIHRlc3QuICBPbiBzeXN0ZW1zIHVzaW5nIHN1cGVyLWZhc3QgYmxvY2sK
ZGV2aWNlcyBhbmQgYSBzcGVjaWFsIEkvTyB3b3JrbG9hZCwgdGhlIHJlc3VsdHMgbWlnaHQgYmUg
ZGlmZmVyZW50LiAgSWYKeW91IGhhdmUgYW55IGRvdWJ0LCB0ZXN0IG9uIHlvdXIgbWFjaGluZSB3
aXRoIHlvdXIgd29ya2xvYWQgdG8gZmluZCB0aGUKb3B0aW1hbCBzcXVlZXppbmcgZHVyYXRpb24g
Zm9yIHlvdS4KClsxXSBodHRwczovL3d3dy5rZXJuZWwub3JnL2RvYy9odG1sL2xhdGVzdC9hZG1p
bi1ndWlkZS9ibG9ja2Rldi9yYW1kaXNrLmh0bWwKClJldmlld2VkLWJ5OiBSb2dlciBQYXUgTW9u
bsOpIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KU2lnbmVkLW9mZi1ieTogU2VvbmdKYWUgUGFyayA8
c2pwYXJrQGFtYXpvbi5kZT4KLS0tCiAuLi4vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLXhlbi1i
bGtiYWNrICAgICAgfCAxMCArKysrKysrKysKIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2svYmxr
YmFjay5jICAgICAgICAgICB8ICA3ICsrKysrLS0KIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sv
Y29tbW9uLmggICAgICAgICAgICB8ICAxICsKIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVu
YnVzLmMgICAgICAgICAgICB8IDIxICsrKysrKysrKysrKysrKysrKysKIDQgZmlsZXMgY2hhbmdl
ZCwgMzcgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9Eb2N1bWVu
dGF0aW9uL0FCSS90ZXN0aW5nL3N5c2ZzLWRyaXZlci14ZW4tYmxrYmFjayBiL0RvY3VtZW50YXRp
b24vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLXhlbi1ibGtiYWNrCmluZGV4IDRlN2JhYmIzYmEx
Zi4uZWNiNzk0MmZmMTQ2IDEwMDY0NAotLS0gYS9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5
c2ZzLWRyaXZlci14ZW4tYmxrYmFjaworKysgYi9Eb2N1bWVudGF0aW9uL0FCSS90ZXN0aW5nL3N5
c2ZzLWRyaXZlci14ZW4tYmxrYmFjawpAQCAtMjUsMyArMjUsMTMgQEAgRGVzY3JpcHRpb246CiAg
ICAgICAgICAgICAgICAgYWxsb2NhdGVkIHdpdGhvdXQgYmVpbmcgaW4gdXNlLiBUaGUgdGltZSBp
cyBpbgogICAgICAgICAgICAgICAgIHNlY29uZHMsIDAgbWVhbnMgaW5kZWZpbml0ZWx5IGxvbmcu
CiAgICAgICAgICAgICAgICAgVGhlIGRlZmF1bHQgaXMgNjAgc2Vjb25kcy4KKworV2hhdDogICAg
ICAgICAgIC9zeXMvbW9kdWxlL3hlbl9ibGtiYWNrL3BhcmFtZXRlcnMvYnVmZmVyX3NxdWVlemVf
ZHVyYXRpb25fbXMKK0RhdGU6ICAgICAgICAgICBEZWNlbWJlciAyMDE5CitLZXJuZWxWZXJzaW9u
OiAgNS42CitDb250YWN0OiAgICAgICAgU2VvbmdKYWUgUGFyayA8c2pwYXJrQGFtYXpvbi5kZT4K
K0Rlc2NyaXB0aW9uOgorICAgICAgICAgICAgICAgIFdoZW4gbWVtb3J5IHByZXNzdXJlIGlzIHJl
cG9ydGVkIHRvIGJsa2JhY2sgdGhpcyBvcHRpb24KKyAgICAgICAgICAgICAgICBjb250cm9scyB0
aGUgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzIHRoYXQgYmxrYmFjayB3aWxsIG5vdAorICAgICAg
ICAgICAgICAgIGNhY2hlIGFueSBwYWdlIG5vdCBiYWNrZWQgYnkgYSBncmFudCBtYXBwaW5nLgor
ICAgICAgICAgICAgICAgIFRoZSBkZWZhdWx0IGlzIDEwbXMuCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYyBiL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sv
YmxrYmFjay5jCmluZGV4IDcxNmI5OWFhMjMwNy4uNWI5ZWUwNDk0ZTE1IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYworKysgYi9kcml2ZXJzL2Jsb2NrL3hl
bi1ibGtiYWNrL2Jsa2JhY2suYwpAQCAtNjU2LDggKzY1NiwxMSBAQCBpbnQgeGVuX2Jsa2lmX3Nj
aGVkdWxlKHZvaWQgKmFyZykKIAkJCXJpbmctPm5leHRfbHJ1ID0gamlmZmllcyArIG1zZWNzX3Rv
X2ppZmZpZXMoTFJVX0lOVEVSVkFMKTsKIAkJfQogCi0JCS8qIFNocmluayBpZiB3ZSBoYXZlIG1v
cmUgdGhhbiB4ZW5fYmxraWZfbWF4X2J1ZmZlcl9wYWdlcyAqLwotCQlzaHJpbmtfZnJlZV9wYWdl
cG9vbChyaW5nLCB4ZW5fYmxraWZfbWF4X2J1ZmZlcl9wYWdlcyk7CisJCS8qIFNocmluayB0aGUg
ZnJlZSBwYWdlcyBwb29sIGlmIGl0IGlzIHRvbyBsYXJnZS4gKi8KKwkJaWYgKHRpbWVfYmVmb3Jl
KGppZmZpZXMsIGJsa2lmLT5idWZmZXJfc3F1ZWV6ZV9lbmQpKQorCQkJc2hyaW5rX2ZyZWVfcGFn
ZXBvb2wocmluZywgMCk7CisJCWVsc2UKKwkJCXNocmlua19mcmVlX3BhZ2Vwb29sKHJpbmcsIHhl
bl9ibGtpZl9tYXhfYnVmZmVyX3BhZ2VzKTsKIAogCQlpZiAobG9nX3N0YXRzICYmIHRpbWVfYWZ0
ZXIoamlmZmllcywgcmluZy0+c3RfcHJpbnQpKQogCQkJcHJpbnRfc3RhdHMocmluZyk7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2NvbW1vbi5oIGIvZHJpdmVycy9ibG9j
ay94ZW4tYmxrYmFjay9jb21tb24uaAppbmRleCA0OTEzMmIwYWRiYmUuLmEzZWVjY2YzYWM1ZiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9jb21tb24uaAorKysgYi9kcml2
ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2NvbW1vbi5oCkBAIC0zMTksNiArMzE5LDcgQEAgc3RydWN0
IHhlbl9ibGtpZiB7CiAJLyogQWxsIHJpbmdzIGZvciB0aGlzIGRldmljZS4gKi8KIAlzdHJ1Y3Qg
eGVuX2Jsa2lmX3JpbmcJKnJpbmdzOwogCXVuc2lnbmVkIGludAkJbnJfcmluZ3M7CisJdW5zaWdu
ZWQgbG9uZwkJYnVmZmVyX3NxdWVlemVfZW5kOwogfTsKIAogc3RydWN0IHNlZ19idWYgewpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay94ZW5idXMuYyBiL2RyaXZlcnMvYmxv
Y2sveGVuLWJsa2JhY2sveGVuYnVzLmMKaW5kZXggNGM1ZDk5Zjg3ODEzLi41NTk2MDE5MGI3NzQg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMKKysrIGIvZHJp
dmVycy9ibG9jay94ZW4tYmxrYmFjay94ZW5idXMuYwpAQCAtODU5LDYgKzg1OSwyNiBAQCBzdGF0
aWMgdm9pZCBmcm9udGVuZF9jaGFuZ2VkKHN0cnVjdCB4ZW5idXNfZGV2aWNlICpkZXYsCiB9CiAK
IAorLyogT25jZSBhIG1lbW9yeSBwcmVzc3VyZSBpcyBkZXRlY3RlZCwgc3F1ZWV6ZSBmcmVlIHBh
Z2UgcG9vbHMgZm9yIGEgd2hpbGUuICovCitzdGF0aWMgdW5zaWduZWQgaW50IGJ1ZmZlcl9zcXVl
ZXplX2R1cmF0aW9uX21zID0gMTA7Cittb2R1bGVfcGFyYW1fbmFtZWQoYnVmZmVyX3NxdWVlemVf
ZHVyYXRpb25fbXMsCisJCWJ1ZmZlcl9zcXVlZXplX2R1cmF0aW9uX21zLCBpbnQsIDA2NDQpOwor
TU9EVUxFX1BBUk1fREVTQyhidWZmZXJfc3F1ZWV6ZV9kdXJhdGlvbl9tcywKKyJEdXJhdGlvbiBp
biBtcyB0byBzcXVlZXplIHBhZ2VzIGJ1ZmZlciB3aGVuIGEgbWVtb3J5IHByZXNzdXJlIGlzIGRl
dGVjdGVkIik7CisKKy8qCisgKiBDYWxsYmFjayByZWNlaXZlZCB3aGVuIHRoZSBtZW1vcnkgcHJl
c3N1cmUgaXMgZGV0ZWN0ZWQuCisgKi8KK3N0YXRpYyB2b2lkIHJlY2xhaW1fbWVtb3J5KHN0cnVj
dCB4ZW5idXNfZGV2aWNlICpkZXYpCit7CisJc3RydWN0IGJhY2tlbmRfaW5mbyAqYmUgPSBkZXZf
Z2V0X2RydmRhdGEoJmRldi0+ZGV2KTsKKworCWlmICghYmUpCisJCXJldHVybjsKKwliZS0+Ymxr
aWYtPmJ1ZmZlcl9zcXVlZXplX2VuZCA9IGppZmZpZXMgKworCQltc2Vjc190b19qaWZmaWVzKGJ1
ZmZlcl9zcXVlZXplX2R1cmF0aW9uX21zKTsKK30KKwogLyogKiogQ29ubmVjdGlvbiAqKiAqLwog
CiAKQEAgLTExNTIsNiArMTE3Miw3IEBAIHN0YXRpYyBzdHJ1Y3QgeGVuYnVzX2RyaXZlciB4ZW5f
YmxrYmtfZHJpdmVyID0gewogCS5yZW1vdmUgPSB4ZW5fYmxrYmtfcmVtb3ZlLAogCS5vdGhlcmVu
ZF9jaGFuZ2VkID0gZnJvbnRlbmRfY2hhbmdlZCwKIAkuYWxsb3dfcmViaW5kID0gdHJ1ZSwKKwku
cmVjbGFpbV9tZW1vcnkgPSByZWNsYWltX21lbW9yeSwKIH07CiAKIGludCB4ZW5fYmxraWZfeGVu
YnVzX2luaXQodm9pZCkKLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3Rz
LnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0
aW5mby94ZW4tZGV2ZWw=

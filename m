Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 1383CEB6D1
	for <lists+xen-devel@lfdr.de>; Thu, 31 Oct 2019 19:19:53 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iQEyv-00005Z-4w; Thu, 31 Oct 2019 18:15:37 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=SsVL=YY=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iQEyu-00005T-9w
 for xen-devel@lists.xenproject.org; Thu, 31 Oct 2019 18:15:36 +0000
X-Inumbo-ID: 6e338bd8-fc0a-11e9-9550-12813bfff9fa
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 6e338bd8-fc0a-11e9-9550-12813bfff9fa;
 Thu, 31 Oct 2019 18:15:35 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 010A720650;
 Thu, 31 Oct 2019 18:15:33 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1572545734;
 bh=3wE/sWMxfgJVhTdR/vZvAucuXVgFt6qdToSyP2oqtYw=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=TCRAg6a91g0k4+LDGBJOTiPcBBr5kO1VPhpgbVZD+YVWTfOlHk2A4120+SrTt4drk
 hUM0eMRJYZOXoz15rSOH2v/Ul8mCREIYWr1RdExRQXiZ0IplM+T28gVAZvG6ctYcSr
 ZgBr+6NOPq2MYnsAXflbFQdYeWVJIuCsSM22ni1c=
Date: Thu, 31 Oct 2019 11:15:33 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20191031150922.22938-12-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1910311115250.2267@sstabellini-ThinkPad-T480s>
References: <20191031150922.22938-1-julien.grall@arm.com>
 <20191031150922.22938-12-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH for-4.13 v4 11/19] xen/arm: Ensure the SSBD
 workaround is re-enabled right after exiting a guest
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: jgross@suse.com, Stefano Stabellini <sstabellini@kernel.org>,
 Julien Grall <julien@xen.org>, Andrii Anisov <andrii_anisov@epam.com>,
 xen-devel@lists.xenproject.org, Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCAzMSBPY3QgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IEF0IHRoZSBtb21lbnQs
IFNTQkQgd29ya2Fyb3VuZCBpcyByZS1lbmFibGVkIGZvciBYZW4gYWZ0ZXIgaW50ZXJydXB0cwo+
IGFyZSB1bm1hc2tlZC4gVGhpcyBtZWFucyB3ZSBtYXkgZW5kIHVwIHRvIGV4ZWN1dGUgc29tZSBw
YXJ0IG9mIHRoZQo+IGh5cGVydmlzb3IgaWYgYW4gaW50ZXJydXB0IGlzIHJlY2VpdmVkIGJlZm9y
ZSB0aGUgd29ya2Fyb3VuZCBpcwo+IHJlLWVuYWJsZWQuCj4gCj4gRWFjaCB0cmFwIG1heSByZXF1
aXJlIHRvIHVubWFzayBkaWZmZXJlbnQgaW50ZXJydXB0cy4KPiBBcyB0aGUgcmVzdCBvZiBlbnRl
cl9oeXBlcnZpc29yX2Zyb21fZ3Vlc3QoKSBkb2VzIG5vdCByZXF1aXJlIHRvIGhhdmUKPiBpbnRl
cnJ1cHRzIG1hc2tlZCwgdGhlIGZ1bmN0aW9uIGlzIG5vdyBzcGxpdCBpbiB0d28gcGFydHM6Cj4g
ICAgIDEpIGVudGVyX2h5cGVydmlzb3JfZnJvbV9ndWVzdF9wcmVpcnEoKSBjYWxsZWQgd2l0aCBp
bnRlcnJ1cHRzCj4gICAgICAgIG1hc2tlZC4KPiAgICAgMikgZW50ZXJfaHlwZXJ2aXNvcl9mcm9t
X2d1ZXN0KCkgY2FsbGVkIHdpdGggaW50ZXJydXB0cyB1bm1hc2tlZC4KPiAKPiBOb3RlIHRoYXQg
d2hpbGUgaXQgbWlnaHQgYmUgcG9zc2libGUgdG8gYXZvaWQgc3BsaXRpbmcgdGhlIGZ1bmN0aW9u
IGluCj4gdHdvIHBhcnRzLCBpdCByZXF1aXJlcyBhIGJpdCBtb3JlIHdvcmsgdGhhbiBJIGNhbiBj
dXJyZW50bHkgaW52ZXN0IHRvCj4gYXZvaWQgdXNpbmcgaW5kaXJlY3QgYnJhbmNoLgo+IAo+IEZ1
cnRoZXJtb3JlLCB0aGUgZnVuY3Rpb24gbmFtZSBpcyByYXRoZXIgZ2VuZXJpYyBhcyB0aGVyZSBt
aWdodCBiZSBtb3JlCj4gd29yayB0byBkb2IgYmVmb3JlIGludGVycnVwdHMgYXJlIHVubWFza2Vk
IGluIHRoZSBmdXR1cmUuCj4gCj4gRml4ZXM6IGE3ODk4ZTRjNTkgKCJ4ZW4vYXJtOiBBZGQgQVJD
SF9XT1JLQVJPVU5EXzIgc3VwcG9ydCBmb3IgZ3Vlc3RzIikKPiBSZXBvcnRlZC1ieTogQW5kcmlp
IEFuaXNvdiA8YW5kcmlpX2FuaXNvdkBlcGFtLmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBKdWxpZW4g
R3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgoKUmV2aWV3ZWQtYnk6IFN0ZWZhbm8gU3RhYmVs
bGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9yZz4KCgo+IC0tLQo+ICAgICBDaGFuZ2VzIGluIHY0
Ogo+ICAgICAgICAgLSBSZW1vdmUgc3B1cmlvdXMgbGluZQo+IAo+ICAgICBDaGFuZ2VzIGluIHYz
Ogo+ICAgICAgICAgLSBSZXdvcmsgdGhlIGFybTMyIHBhcnQKPiAKPiAgICAgQ2hhbmdlcyBpbiB2
MjoKPiAgICAgICAgIC0gQWRkIEFybTMyIGNvZGUKPiAgICAgICAgIC0gUmVuYW1lIGVudGVyX2h5
cGVydmlzb3JfZnJvbV9ndWVzdF9ub2lycSgpIHRvCj4gICAgICAgICBlbnRlcl9oeXBlcnZpc29y
X2Zyb21fZ3Vlc3RfcHJlaXJxKCkKPiAgICAgICAgIC0gVXBkYXRlIHRoZSBjb21taXQgbWVzc2Fn
ZSB0byBleHBsYWluIHRoZSBjaG9pY2Ugb2Ygc3BsaXR0aW5nCj4gICAgICAgICB0aGUgY29kZS4K
PiAtLS0KPiAgeGVuL2FyY2gvYXJtL2FybTMyL2VudHJ5LlMgfCAgMiArLQo+ICB4ZW4vYXJjaC9h
cm0vYXJtNjQvZW50cnkuUyB8ICAxICsKPiAgeGVuL2FyY2gvYXJtL3RyYXBzLmMgICAgICAgfCAx
NCArKysrKysrKysrKystLQo+ICAzIGZpbGVzIGNoYW5nZWQsIDE0IGluc2VydGlvbnMoKyksIDMg
ZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9hcm0zMi9lbnRyeS5T
IGIveGVuL2FyY2gvYXJtL2FybTMyL2VudHJ5LlMKPiBpbmRleCBjZWE0ZTBlMzAyLi4wYTljMjQ4
ZWUyIDEwMDY0NAo+IC0tLSBhL3hlbi9hcmNoL2FybS9hcm0zMi9lbnRyeS5TCj4gKysrIGIveGVu
L2FyY2gvYXJtL2FybTMyL2VudHJ5LlMKPiBAQCAtMTE4LDcgKzExOCw3IEBAIGFib3J0X2d1ZXN0
X2V4aXRfZW5kOgo+ICAgICAgICAgIGJuZSByZXR1cm5fZnJvbV90cmFwCj4gIAo+ICBza2lwX2No
ZWNrOgo+IC0gICAgICAgIG1vdiBwYywgbHIKPiArICAgICAgICBiICAgZW50ZXJfaHlwZXJ2aXNv
cl9mcm9tX2d1ZXN0X3ByZWlycQo+ICBFTkRQUk9DKGFyY2hfZW50ZXJfaHlwZXJ2aXNvcl9mcm9t
X2d1ZXN0X3ByZWlycSkKPiAgCj4gICAgICAgICAgLyoKPiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gv
YXJtL2FybTY0L2VudHJ5LlMgYi94ZW4vYXJjaC9hcm0vYXJtNjQvZW50cnkuUwo+IGluZGV4IDk3
ZGM2MDIxMGQuLmQ0ZmI1ZmRjMWMgMTAwNjQ0Cj4gLS0tIGEveGVuL2FyY2gvYXJtL2FybTY0L2Vu
dHJ5LlMKPiArKysgYi94ZW4vYXJjaC9hcm0vYXJtNjQvZW50cnkuUwo+IEBAIC0xOTEsNiArMTkx
LDcgQEAKPiAgICAgICAgICBBTFRFUk5BVElWRSgiYmwgY2hlY2tfcGVuZGluZ192c2Vycm9yOyBj
Ym56IHgwLCAxZiIsCj4gICAgICAgICAgICAgICAgICAgICAgIm5vcDsgbm9wIiwKPiAgICAgICAg
ICAgICAgICAgICAgICBTS0lQX1NZTkNIUk9OSVpFX1NFUlJPUl9FTlRSWV9FWElUKQo+ICsgICAg
ICAgIGJsICAgICAgZW50ZXJfaHlwZXJ2aXNvcl9mcm9tX2d1ZXN0X3ByZWlycQo+ICAgICAgICAg
IG1zciAgICAgZGFpZmNsciwgXGlmbGFncwo+ICAgICAgICAgIGJsICAgICAgZW50ZXJfaHlwZXJ2
aXNvcl9mcm9tX2d1ZXN0Cj4gICAgICAgICAgbW92ICAgICB4MCwgc3AKPiBkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL3RyYXBzLmMgYi94ZW4vYXJjaC9hcm0vdHJhcHMuYwo+IGluZGV4IGFkYmVk
YzJkMTUuLmNiNGUzYjYyN2IgMTAwNjQ0Cj4gLS0tIGEveGVuL2FyY2gvYXJtL3RyYXBzLmMKPiAr
KysgYi94ZW4vYXJjaC9hcm0vdHJhcHMuYwo+IEBAIC0xOTg2LDE1ICsxOTg2LDI1IEBAIHN0YXRp
YyBpbmxpbmUgYm9vbCBuZWVkc19zc2JkX2ZsaXAoc3RydWN0IHZjcHUgKnYpCj4gIAo+ICAvKgo+
ICAgKiBBY3Rpb25zIHRoYXQgbmVlZHMgdG8gYmUgZG9uZSBhZnRlciBlbnRlcmluZyB0aGUgaHlw
ZXJ2aXNvciBmcm9tIHRoZQo+IC0gKiBndWVzdCBhbmQgYmVmb3JlIHdlIGhhbmRsZSBhbnkgcmVx
dWVzdC4KPiArICogZ3Vlc3QgYW5kIGJlZm9yZSB0aGUgaW50ZXJydXB0cyBhcmUgdW5tYXNrZWQu
Cj4gICAqLwo+IC12b2lkIGVudGVyX2h5cGVydmlzb3JfZnJvbV9ndWVzdCh2b2lkKQo+ICt2b2lk
IGVudGVyX2h5cGVydmlzb3JfZnJvbV9ndWVzdF9wcmVpcnEodm9pZCkKPiAgewo+ICAgICAgc3Ry
dWN0IHZjcHUgKnYgPSBjdXJyZW50Owo+ICAKPiAgICAgIC8qIElmIHRoZSBndWVzdCBoYXMgZGlz
YWJsZWQgdGhlIHdvcmthcm91bmQsIGJyaW5nIGl0IGJhY2sgb24uICovCj4gICAgICBpZiAoIG5l
ZWRzX3NzYmRfZmxpcCh2KSApCj4gICAgICAgICAgYXJtX3NtY2NjXzFfMV9zbWMoQVJNX1NNQ0ND
X0FSQ0hfV09SS0FST1VORF8yX0ZJRCwgMSwgTlVMTCk7Cj4gK30KPiArCj4gKy8qCj4gKyAqIEFj
dGlvbnMgdGhhdCBuZWVkcyB0byBiZSBkb25lIGFmdGVyIGVudGVyaW5nIHRoZSBoeXBlcnZpc29y
IGZyb20gdGhlCj4gKyAqIGd1ZXN0IGFuZCBiZWZvcmUgd2UgaGFuZGxlIGFueSByZXF1ZXN0LiBE
ZXBlbmRpbmcgb24gdGhlIGV4Y2VwdGlvbiB0cmFwLAo+ICsgKiB0aGlzIG1heSBiZSBjYWxsZWQg
d2l0aCBpbnRlcnJ1cHRzIHVubWFza2VkLgo+ICsgKi8KPiArdm9pZCBlbnRlcl9oeXBlcnZpc29y
X2Zyb21fZ3Vlc3Qodm9pZCkKPiArewo+ICsgICAgc3RydWN0IHZjcHUgKnYgPSBjdXJyZW50Owo+
ICAKPiAgICAgIC8qCj4gICAgICAgKiBJZiB3ZSBwZW5kZWQgYSB2aXJ0dWFsIGFib3J0LCBwcmVz
ZXJ2ZSBpdCB1bnRpbCBpdCBnZXRzIGNsZWFyZWQuCj4gLS0gCj4gMi4xMS4wCj4gCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGlu
ZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnBy
b2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CB964125C28
	for <lists+xen-devel@lfdr.de>; Thu, 19 Dec 2019 08:44:30 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ihqS4-0001Zv-Rj; Thu, 19 Dec 2019 07:42:28 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=ERLN=2J=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1ihqS2-0001ZP-OY
 for xen-devel@lists.xenproject.org; Thu, 19 Dec 2019 07:42:26 +0000
X-Inumbo-ID: 13f53a62-2233-11ea-b6f1-bc764e2007e4
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 13f53a62-2233-11ea-b6f1-bc764e2007e4;
 Thu, 19 Dec 2019 07:42:16 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 68A12B282;
 Thu, 19 Dec 2019 07:42:15 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Thu, 19 Dec 2019 08:42:09 +0100
Message-Id: <20191219074209.17277-3-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20191219074209.17277-1-jgross@suse.com>
References: <20191219074209.17277-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v3 2/2] xen: make gdbsx support configurable
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Elena Ufimtseva <elena.ufimtseva@oracle.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

R2Ric3ggc3VwcG9ydCBpbiB0aGUgaHlwZXJ2aXNvciBpcyByYXJlbHkgdXNlZCBhbmQgaXQgaXMg
b3BlbmluZyBhCndheSBmb3IgZG9tMCB0byBtb2RpZnkgdGhlIHJ1bm5pbmcgaHlwZXJ2aXNvciBi
eSB2ZXJ5IGVhc3kgbWVhbnMuCgpSZW1vdmUgdGhlIHBvc3NpYmlsaXR5IHRvIHJlYWQvd3JpdGUg
aHlwZXJ2aXNvciBtZW1vcnksIGl0IHdhcyBuZXZlcgp1c2VkIGJ5IGdkYnN4LgoKQWRkIGEgS2Nv
bmZpZyBvcHRpb24gdG8gY29udHJvbCBzdXBwb3J0IG9mIGdkYnN4LiBEZWZhdWx0IGlzIG9uLgoK
V2hpbGUgYXQgaXQgY29ycmVjdCBhIHdyb25nIGNvbW1lbnQgaW4gcmVsYXRlZCBjb2RlIGFuZCBy
ZW1vdmUgZGVhZApjb2RlLgoKU2lnbmVkLW9mZi1ieTogSnVlcmdlbiBHcm9zcyA8amdyb3NzQHN1
c2UuY29tPgotLS0KVjM6Ci0gZGVmYXVsdCBLY29uZmlnIG9wdGlvbiB0byBZIChBbmRyZXcgQ29v
cGVyKQotIHJlbW92ZSBoeXBlcnZpc29yIG1lbW9yeSBhY2Nlc3MgKEFuZHJldyBDb29wZXIpCi0t
LQogeGVuL0tjb25maWcuZGVidWcgICAgICAgICAgICAgIHwgIDggKysrKysKIHhlbi9hcmNoL3g4
Ni9NYWtlZmlsZSAgICAgICAgICB8ICAyICstCiB4ZW4vYXJjaC94ODYvZGVidWcuYyAgICAgICAg
ICAgfCA3OCArKysrKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHhlbi9h
cmNoL3g4Ni9kb21jdGwuYyAgICAgICAgICB8ICA0ICsrKwogeGVuL2luY2x1ZGUvYXNtLXg4Ni9k
ZWJ1Z2dlci5oIHwgIDIgKysKIDUgZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygrKSwgNzAg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVuL0tjb25maWcuZGVidWcgYi94ZW4vS2NvbmZp
Zy5kZWJ1ZwppbmRleCBjZjQyZTVlN2EwLi5iMzUxMWU4MWEyIDEwMDY0NAotLS0gYS94ZW4vS2Nv
bmZpZy5kZWJ1ZworKysgYi94ZW4vS2NvbmZpZy5kZWJ1ZwpAQCAtMjAsNiArMjAsMTQgQEAgY29u
ZmlnIENSQVNIX0RFQlVHCiAJICBJZiB5b3Ugd2FudCB0byBhdHRhY2ggZ2RiIHRvIFhlbiB0byBk
ZWJ1ZyBYZW4gaWYgaXQgY3Jhc2hlcwogCSAgdGhlbiBzYXkgWS4KIAorY29uZmlnIEdEQlNYCisJ
Ym9vbCAiR3Vlc3QgZGVidWdnaW5nIHdpdGggZ2Ric3giCisJZGVwZW5kcyBvbiBYODYKKwlkZWZh
dWx0IHkKKwktLS1oZWxwLS0tCisJICBJZiB5b3Ugd2FudCB0byBlbmFibGUgc3VwcG9ydCBmb3Ig
ZGVidWdnaW5nIGd1ZXN0cyBmcm9tIGRvbTAgdmlhCisJICBnZGJzeCB0aGVuIHNheSBZLgorCiBj
b25maWcgREVCVUdfSU5GTwogCWJvb2wgIkNvbXBpbGUgWGVuIHdpdGggZGVidWcgaW5mbyIKIAlk
ZWZhdWx0IHkKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9NYWtlZmlsZSBiL3hlbi9hcmNoL3g4
Ni9NYWtlZmlsZQppbmRleCA3ZGE1YTI2MzFlLi42NzgzNjg4YjAwIDEwMDY0NAotLS0gYS94ZW4v
YXJjaC94ODYvTWFrZWZpbGUKKysrIGIveGVuL2FyY2gveDg2L01ha2VmaWxlCkBAIC0xOSw3ICsx
OSw3IEBAIG9iai1iaW4teSArPSBjb3B5X3BhZ2Uubwogb2JqLXkgKz0gY3B1aWQubwogb2JqLSQo
Q09ORklHX1BWKSArPSBjb21wYXQubyB4ODZfNjQvY29tcGF0Lm8KIG9iai0kKENPTkZJR19LRVhF
QykgKz0gY3Jhc2gubwotb2JqLXkgKz0gZGVidWcubworb2JqLSQoQ09ORklHX0dEQlNYKSArPSBk
ZWJ1Zy5vCiBvYmoteSArPSBkZWxheS5vCiBvYmoteSArPSBkZXNjLm8KIG9iai1iaW4teSArPSBk
bWlfc2Nhbi5pbml0Lm8KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9kZWJ1Zy5jIGIveGVuL2Fy
Y2gveDg2L2RlYnVnLmMKaW5kZXggYTUwMGRmMDFhYy4uNWQ4YWNkYWQ3MSAxMDA2NDQKLS0tIGEv
eGVuL2FyY2gveDg2L2RlYnVnLmMKKysrIGIveGVuL2FyY2gveDg2L2RlYnVnLmMKQEAgLTIyLDIy
ICsyMiw2IEBACiAjaW5jbHVkZSA8YXNtL2RlYnVnZ2VyLmg+CiAjaW5jbHVkZSA8YXNtL3AybS5o
PgogCi0vKiAKLSAqIFRoaXMgZmlsZSBmb3IgZ2VuZXJhbCByb3V0aW5lcyBjb21tb24gdG8gbW9y
ZSB0aGFuIG9uZSBkZWJ1Z2dlciwgbGlrZSBrZGIsCi0gKiBnZGJzeCwgZXRjLi4KLSAqLwotCi0j
aWZkZWYgWEVOX0tEQl9DT05GSUcKLSNpbmNsdWRlICIuLi9rZGIvaW5jbHVkZS9rZGJkZWZzLmgi
Ci0jaW5jbHVkZSAiLi4va2RiL2luY2x1ZGUva2RicHJvdG8uaCIKLSNkZWZpbmUgREJHUCguLi4p
IHsoa2RiZGJnKSA/IGtkYnAoX19WQV9BUkdTX18pOjA7fQotI2RlZmluZSBEQkdQMSguLi4pIHso
a2RiZGJnPjEpID8ga2RicChfX1ZBX0FSR1NfXyk6MDt9Ci0jZGVmaW5lIERCR1AyKC4uLikgeyhr
ZGJkYmc+MikgPyBrZGJwKF9fVkFfQVJHU19fKTowO30KLSNlbHNlCi0jZGVmaW5lIERCR1AxKC4u
LikgKCh2b2lkKTApCi0jZGVmaW5lIERCR1AyKC4uLikgKCh2b2lkKTApCi0jZW5kaWYKLQogdHlw
ZWRlZiB1bnNpZ25lZCBsb25nIGRiZ3ZhX3Q7CiB0eXBlZGVmIHVuc2lnbmVkIGNoYXIgZGJnYnl0
ZV90OwogCkBAIC00OSwyNCArMzMsMTMgQEAgZGJnX2h2bV92YTJtZm4oZGJndmFfdCB2YWRkciwg
c3RydWN0IGRvbWFpbiAqZHAsIGludCB0b2FkZHIsIGdmbl90ICpnZm4pCiAgICAgdWludDMyX3Qg
cGZlYyA9IFBGRUNfcGFnZV9wcmVzZW50OwogICAgIHAybV90eXBlX3QgZ2ZudHlwZTsKIAotICAg
IERCR1AyKCJ2YWRkcjolbHggZG9taWQ6JWRcbiIsIHZhZGRyLCBkcC0+ZG9tYWluX2lkKTsKLQog
ICAgICpnZm4gPSBfZ2ZuKHBhZ2luZ19ndmFfdG9fZ2ZuKGRwLT52Y3B1WzBdLCB2YWRkciwgJnBm
ZWMpKTsKICAgICBpZiAoIGdmbl9lcSgqZ2ZuLCBJTlZBTElEX0dGTikgKQotICAgIHsKLSAgICAg
ICAgREJHUDIoImtkYjpiYWQgZ2ZuIGZyb20gZ3ZhX3RvX2dmblxuIik7CiAgICAgICAgIHJldHVy
biBJTlZBTElEX01GTjsKLSAgICB9CiAKICAgICBtZm4gPSBnZXRfZ2ZuKGRwLCBnZm5feCgqZ2Zu
KSwgJmdmbnR5cGUpOwogICAgIGlmICggcDJtX2lzX3JlYWRvbmx5KGdmbnR5cGUpICYmIHRvYWRk
ciApCi0gICAgewotICAgICAgICBEQkdQMigia2RiOnAybV9pc19yZWFkb25seTogZ2ZudHlwZTol
eFxuIiwgZ2ZudHlwZSk7CiAgICAgICAgIG1mbiA9IElOVkFMSURfTUZOOwotICAgIH0KLSAgICBl
bHNlCi0gICAgICAgIERCR1AyKCJYOiB2YWRkcjolbHggZG9taWQ6JWQgbWZuOiUjIlBSSV9tZm4i
XG4iLAotICAgICAgICAgICAgICB2YWRkciwgZHAtPmRvbWFpbl9pZCwgbWZuX3gobWZuKSk7CiAK
ICAgICBpZiAoIG1mbl9lcShtZm4sIElOVkFMSURfTUZOKSApCiAgICAgewpAQCAtMTAwLDU1ICs3
MywzNiBAQCBkYmdfcHZfdmEybWZuKGRiZ3ZhX3QgdmFkZHIsIHN0cnVjdCBkb21haW4gKmRwLCB1
aW50NjRfdCBwZ2QzdmFsKQogICAgIHVuc2lnbmVkIGxvbmcgY3IzID0gKHBnZDN2YWwgPyBwZ2Qz
dmFsIDogZHAtPnZjcHVbMF0tPmFyY2guY3IzKTsKICAgICBtZm5fdCBtZm4gPSBtYWRkcl90b19t
Zm4oY3IzX3BhKGNyMykpOwogCi0gICAgREJHUDIoInZhZGRyOiVseCBkb21pZDolZCBjcjM6JWx4
IHBnZDM6JWx4XG4iLCB2YWRkciwgZHAtPmRvbWFpbl9pZCwgCi0gICAgICAgICAgY3IzLCBwZ2Qz
dmFsKTsKLQogICAgIGlmICggcGdkM3ZhbCA9PSAwICkKICAgICB7CiAgICAgICAgIGw0dCA9IG1h
cF9kb21haW5fcGFnZShtZm4pOwogICAgICAgICBsNGUgPSBsNHRbbDRfdGFibGVfb2Zmc2V0KHZh
ZGRyKV07CiAgICAgICAgIHVubWFwX2RvbWFpbl9wYWdlKGw0dCk7CiAgICAgICAgIG1mbiA9IGw0
ZV9nZXRfbWZuKGw0ZSk7Ci0gICAgICAgIERCR1AyKCJsNHQ6JXAgbDR0bzolbHggbDRlOiVseCBt
Zm46JSMiUFJJX21mbiJcbiIsIGw0dCwKLSAgICAgICAgICAgICAgbDRfdGFibGVfb2Zmc2V0KHZh
ZGRyKSwgbDRlLCBtZm5feChtZm4pKTsKICAgICAgICAgaWYgKCAhKGw0ZV9nZXRfZmxhZ3MobDRl
KSAmIF9QQUdFX1BSRVNFTlQpICkKLSAgICAgICAgewotICAgICAgICAgICAgREJHUDEoImw0IFBB
R0Ugbm90IHByZXNlbnQuIHZhZGRyOiVseCBjcjM6JWx4XG4iLCB2YWRkciwgY3IzKTsKICAgICAg
ICAgICAgIHJldHVybiBJTlZBTElEX01GTjsKLSAgICAgICAgfQogCiAgICAgICAgIGwzdCA9IG1h
cF9kb21haW5fcGFnZShtZm4pOwogICAgICAgICBsM2UgPSBsM3RbbDNfdGFibGVfb2Zmc2V0KHZh
ZGRyKV07CiAgICAgICAgIHVubWFwX2RvbWFpbl9wYWdlKGwzdCk7CiAgICAgICAgIG1mbiA9IGwz
ZV9nZXRfbWZuKGwzZSk7Ci0gICAgICAgIERCR1AyKCJsM3Q6JXAgbDN0bzolbHggbDNlOiVseCBt
Zm46JSMiUFJJX21mbiJcbiIsIGwzdCwKLSAgICAgICAgICAgICAgbDNfdGFibGVfb2Zmc2V0KHZh
ZGRyKSwgbDNlLCBtZm5feChtZm4pKTsKICAgICAgICAgaWYgKCAhKGwzZV9nZXRfZmxhZ3MobDNl
KSAmIF9QQUdFX1BSRVNFTlQpIHx8CiAgICAgICAgICAgICAgKGwzZV9nZXRfZmxhZ3MobDNlKSAm
IF9QQUdFX1BTRSkgKQotICAgICAgICB7Ci0gICAgICAgICAgICBEQkdQMSgibDMgUEFHRSBub3Qg
cHJlc2VudC4gdmFkZHI6JWx4IGNyMzolbHhcbiIsIHZhZGRyLCBjcjMpOwogICAgICAgICAgICAg
cmV0dXJuIElOVkFMSURfTUZOOwotICAgICAgICB9CiAgICAgfQogCiAgICAgbDJ0ID0gbWFwX2Rv
bWFpbl9wYWdlKG1mbik7CiAgICAgbDJlID0gbDJ0W2wyX3RhYmxlX29mZnNldCh2YWRkcildOwog
ICAgIHVubWFwX2RvbWFpbl9wYWdlKGwydCk7CiAgICAgbWZuID0gbDJlX2dldF9tZm4obDJlKTsK
LSAgICBEQkdQMigibDJ0OiVwIGwydG86JWx4IGwyZTolbHggbWZuOiUjIlBSSV9tZm4iXG4iLAot
ICAgICAgICAgIGwydCwgbDJfdGFibGVfb2Zmc2V0KHZhZGRyKSwgbDJlLCBtZm5feChtZm4pKTsK
ICAgICBpZiAoICEobDJlX2dldF9mbGFncyhsMmUpICYgX1BBR0VfUFJFU0VOVCkgfHwKICAgICAg
ICAgIChsMmVfZ2V0X2ZsYWdzKGwyZSkgJiBfUEFHRV9QU0UpICkKLSAgICB7Ci0gICAgICAgIERC
R1AxKCJsMiBQQUdFIG5vdCBwcmVzZW50LiB2YWRkcjolbHggY3IzOiVseFxuIiwgdmFkZHIsIGNy
Myk7CiAgICAgICAgIHJldHVybiBJTlZBTElEX01GTjsKLSAgICB9CisKICAgICBsMXQgPSBtYXBf
ZG9tYWluX3BhZ2UobWZuKTsKICAgICBsMWUgPSBsMXRbbDFfdGFibGVfb2Zmc2V0KHZhZGRyKV07
CiAgICAgdW5tYXBfZG9tYWluX3BhZ2UobDF0KTsKICAgICBtZm4gPSBsMWVfZ2V0X21mbihsMWUp
OwotICAgIERCR1AyKCJsMXQ6JXAgbDF0bzolbHggbDFlOiVseCBtZm46JSMiUFJJX21mbiJcbiIs
IGwxdCwgbDFfdGFibGVfb2Zmc2V0KHZhZGRyKSwKLSAgICAgICAgICBsMWUsIG1mbl94KG1mbikp
OwogCiAgICAgcmV0dXJuIG1mbl92YWxpZChtZm4pID8gbWZuIDogSU5WQUxJRF9NRk47CiB9CkBA
IC0xOTksNDAgKzE1MywyNiBAQCBzdGF0aWMgdW5zaWduZWQgaW50IGRiZ19yd19ndWVzdF9tZW0o
c3RydWN0IGRvbWFpbiAqZHAsIHZvaWQgKiBfX3VzZXIgZ2FkZHIsCiAgICAgcmV0dXJuIGxlbjsK
IH0KIAotLyogCi0gKiBhZGRyIGlzIGh5cGVydmlzb3IgYWRkciBpZiBkb21pZCA9PSBET01JRF9J
RExFLCBlbHNlIGl0J3MgZ3Vlc3QgYWRkcgorLyoKKyAqIGFkZHIgaXMgZ3Vlc3QgYWRkcgogICog
YnVmIGlzIGRlYnVnZ2VyIGJ1ZmZlci4KICAqIGlmIHRvYWRkciwgdGhlbiBhZGRyID0gYnVmICh3
cml0ZSB0byBhZGRyKSwgZWxzZSBidWYgPSBhZGRyIChyZCBmcm9tIGd1ZXN0KQogICogcGdkMzog
dmFsdWUgb2YgaW5pdF9tbS5wZ2RbM10gaW4gZ3Vlc3QuIHNlZSBhYm92ZS4KLSAqIFJldHVybnM6
IG51bWJlciBvZiBieXRlcyByZW1haW5pbmcgdG8gYmUgY29waWVkLiAKKyAqIFJldHVybnM6IG51
bWJlciBvZiBieXRlcyByZW1haW5pbmcgdG8gYmUgY29waWVkLgogICovCiB1bnNpZ25lZCBpbnQg
ZGJnX3J3X21lbSh2b2lkICogX191c2VyIGFkZHIsIHZvaWQgKiBfX3VzZXIgYnVmLAogICAgICAg
ICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGxlbiwgZG9taWRfdCBkb21pZCwgYm9vbCB0
b2FkZHIsCiAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBwZ2QzKQogewotICAgIERC
R1AyKCJnbWVtOmFkZHI6JWx4IGJ1ZjolcCBsZW46JCV1IGRvbWlkOiVkIHRvYWRkcjoleFxuIiwK
LSAgICAgICAgICBhZGRyLCBidWYsIGxlbiwgZG9taWQsIHRvYWRkcik7Ci0KLSAgICBpZiAoIGRv
bWlkID09IERPTUlEX0lETEUgKQotICAgIHsKLSAgICAgICAgaWYgKCB0b2FkZHIgKQotICAgICAg
ICAgICAgbGVuID0gX19jb3B5X3RvX3VzZXIoYWRkciwgYnVmLCBsZW4pOwotICAgICAgICBlbHNl
Ci0gICAgICAgICAgICBsZW4gPSBfX2NvcHlfZnJvbV91c2VyKGJ1ZiwgYWRkciwgbGVuKTsKLSAg
ICB9Ci0gICAgZWxzZQotICAgIHsKICAgICAgICAgc3RydWN0IGRvbWFpbiAqZCA9IGdldF9kb21h
aW5fYnlfaWQoZG9taWQpOwogCi0gICAgICAgIGlmICggZCApCi0gICAgICAgIHsKLSAgICAgICAg
ICAgIGlmICggIWQtPmlzX2R5aW5nICkKLSAgICAgICAgICAgICAgICBsZW4gPSBkYmdfcndfZ3Vl
c3RfbWVtKGQsIGFkZHIsIGJ1ZiwgbGVuLCB0b2FkZHIsIHBnZDMpOwotICAgICAgICAgICAgcHV0
X2RvbWFpbihkKTsKLSAgICAgICAgfQorICAgIGlmICggZCApCisgICAgeworICAgICAgICBpZiAo
ICFkLT5pc19keWluZyApCisgICAgICAgICAgICBsZW4gPSBkYmdfcndfZ3Vlc3RfbWVtKGQsIGFk
ZHIsIGJ1ZiwgbGVuLCB0b2FkZHIsIHBnZDMpOworICAgICAgICBwdXRfZG9tYWluKGQpOwogICAg
IH0KIAotICAgIERCR1AyKCJnbWVtOmV4aXQ6bGVuOiQlZFxuIiwgbGVuKTsKICAgICByZXR1cm4g
bGVuOwogfQogCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvZG9tY3RsLmMgYi94ZW4vYXJjaC94
ODYvZG9tY3RsLmMKaW5kZXggYjQ2MWFhZGJkNi4uNDNjZDM4YjQzZiAxMDA2NDQKLS0tIGEveGVu
L2FyY2gveDg2L2RvbWN0bC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9kb21jdGwuYwpAQCAtMzYsNiAr
MzYsNyBAQAogI2luY2x1ZGUgPGFzbS9wc3IuaD4KICNpbmNsdWRlIDxhc20vY3B1aWQuaD4KIAor
I2lmZGVmIENPTkZJR19HREJTWAogc3RhdGljIGludCBnZGJzeF9ndWVzdF9tZW1faW8oZG9taWRf
dCBkb21pZCwgc3RydWN0IHhlbl9kb21jdGxfZ2Ric3hfbWVtaW8gKmlvcCkKIHsKICAgICB2b2lk
ICogX191c2VyIGd2YSA9ICh2b2lkICopaW9wLT5ndmEsICogX191c2VyIHV2YSA9ICh2b2lkICop
aW9wLT51dmE7CkBAIC00NSw2ICs0Niw3IEBAIHN0YXRpYyBpbnQgZ2Ric3hfZ3Vlc3RfbWVtX2lv
KGRvbWlkX3QgZG9taWQsIHN0cnVjdCB4ZW5fZG9tY3RsX2dkYnN4X21lbWlvICppb3ApCiAKICAg
ICByZXR1cm4gaW9wLT5yZW1haW4gPyAtRUZBVUxUIDogMDsKIH0KKyNlbmRpZgogCiBzdGF0aWMg
dm9pZCBkb21haW5fY3B1X3BvbGljeV9jaGFuZ2VkKHN0cnVjdCBkb21haW4gKmQpCiB7CkBAIC05
MzIsNiArOTM0LDcgQEAgbG9uZyBhcmNoX2RvX2RvbWN0bCgKICAgICB9CiAjZW5kaWYKIAorI2lm
ZGVmIENPTkZJR19HREJTWAogICAgIGNhc2UgWEVOX0RPTUNUTF9nZGJzeF9ndWVzdG1lbWlvOgog
ICAgICAgICBkb21jdGwtPnUuZ2Ric3hfZ3Vlc3RfbWVtaW8ucmVtYWluID0gZG9tY3RsLT51Lmdk
YnN4X2d1ZXN0X21lbWlvLmxlbjsKICAgICAgICAgcmV0ID0gZ2Ric3hfZ3Vlc3RfbWVtX2lvKGRv
bWN0bC0+ZG9tYWluLCAmZG9tY3RsLT51LmdkYnN4X2d1ZXN0X21lbWlvKTsKQEAgLTk5Niw2ICs5
OTksNyBAQCBsb25nIGFyY2hfZG9fZG9tY3RsKAogICAgICAgICBjb3B5YmFjayA9IHRydWU7CiAg
ICAgICAgIGJyZWFrOwogICAgIH0KKyNlbmRpZgogCiAgICAgY2FzZSBYRU5fRE9NQ1RMX3NldHZj
cHVleHRzdGF0ZToKICAgICBjYXNlIFhFTl9ET01DVExfZ2V0dmNwdWV4dHN0YXRlOgpkaWZmIC0t
Z2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9kZWJ1Z2dlci5oIGIveGVuL2luY2x1ZGUvYXNtLXg4
Ni9kZWJ1Z2dlci5oCmluZGV4IGY1ODcyNmRhZWMuLmE5ZGRiMDE0MzMgMTAwNjQ0Ci0tLSBhL3hl
bi9pbmNsdWRlL2FzbS14ODYvZGVidWdnZXIuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2Rl
YnVnZ2VyLmgKQEAgLTkyLDggKzkyLDEwIEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBkZWJ1Z2dlcl90
cmFwX2VudHJ5KAogCiAjZW5kaWYKIAorI2lmZGVmIENPTkZJR19HREJTWAogdW5zaWduZWQgaW50
IGRiZ19yd19tZW0odm9pZCAqIF9fdXNlciBhZGRyLCB2b2lkICogX191c2VyIGJ1ZiwKICAgICAg
ICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBsZW4sIGRvbWlkX3QgZG9taWQsIGJvb2wg
dG9hZGRyLAogICAgICAgICAgICAgICAgICAgICAgICAgdWludDY0X3QgcGdkMyk7CisjZW5kaWYK
IAogI2VuZGlmIC8qIF9fWDg2X0RFQlVHR0VSX0hfXyAqLwotLSAKMi4xNi40CgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 59EDFBCB96
	for <lists+xen-devel@lfdr.de>; Tue, 24 Sep 2019 17:34:42 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iCmmq-00085q-OY; Tue, 24 Sep 2019 15:31:32 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7zL=XT=gmail.com=olekstysh@srs-us1.protection.inumbo.net>)
 id 1iCmmo-00084o-WB
 for xen-devel@lists.xenproject.org; Tue, 24 Sep 2019 15:31:31 +0000
X-Inumbo-ID: 4f26611a-dee0-11e9-b588-bc764e2007e4
Received: from mail-lj1-x243.google.com (unknown [2a00:1450:4864:20::243])
 by localhost (Halon) with ESMTPS
 id 4f26611a-dee0-11e9-b588-bc764e2007e4;
 Tue, 24 Sep 2019 15:31:00 +0000 (UTC)
Received: by mail-lj1-x243.google.com with SMTP id v24so2364910ljj.3
 for <xen-devel@lists.xenproject.org>; Tue, 24 Sep 2019 08:30:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=g/AM/w//wq1KzJmBr6XyL1KuKQ+WAJLP+iZCkYy2m3E=;
 b=K5nbYjBsYbpMSrOw5SpFZJCFr54FUhqlg7BH9wJ4chgBw5FpVa32vVarQQV3ON30ib
 X8+zPwYSouWjWUy67rR/D73mZmJKnkhh+58eWu9bcmBxNKJeHjrPRLiBzsmlR4z9SJQB
 e1ND6lRaehGDX5MbwcViI+f3RZbkhTkVKxK1dun+3HD3QNuMWdNt+GOhHlrEzLWVZSVL
 WHndHjhAh51+RcX7d6LNoA1MiM0A/GsMgckJ9ZCbcaudzeIpVnwQxa4mKJ7n0diP42kp
 6IjSv22pQwQlZ54YGPSv+3SIdaksgLb7i1AcpRVROYbQhiiT0EQg8EDiNrld8ER68tOb
 wF7w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=g/AM/w//wq1KzJmBr6XyL1KuKQ+WAJLP+iZCkYy2m3E=;
 b=Jm7WWrnG7Db4c1XruYnulWVtSCJmDJ502xtLVhHapO6eh+BIUqnXay5GVO3Meay3Hh
 Xv2/BK68/UA2RY/iXpKfM05RNp+0qB5A8anzEqQvz/eI7Gg5fhT/9QJUhD1xK6Pr3p96
 qRMUT7u/ebqRGJeh4R192Ak56zw5s3uXD50e2s6EL3WH6uB1vrAsB91WW8YUaREbuwmz
 I1EY7yEmTdZBsh6t04nnRyAk+hEWsiJQ67eJ68K28lFSer4fHah+46Lw476E/g2e9sUe
 WEzlo/1ikVeazkpVWM7kwvH4wTEsmWbq4O6AkeMacHDTCxVILFEYMLpjhlL0E2hBb9VN
 yHVw==
X-Gm-Message-State: APjAAAXtdoGVZjFOkBqE0tbo0wSLPP4F8Wynmiaw66exiHObWdIKlP6S
 5ANghzal0RwnElYvtGDe2oo4HjiHLaM=
X-Google-Smtp-Source: APXvYqwn3HBGLTl5wTVkW8Jl4Htnh5g6wsnRg1hyxTt25qQYc8Ox+Wz8iWkYbez3FJkmf2Swm258wA==
X-Received: by 2002:a2e:9a88:: with SMTP id p8mr2362545lji.86.1569339058065;
 Tue, 24 Sep 2019 08:30:58 -0700 (PDT)
Received: from otyshchenko.kyiv.epam.com (ll-74.141.223.85.sovam.net.ua.
 [85.223.141.74])
 by smtp.gmail.com with ESMTPSA id z128sm525818lfa.1.2019.09.24.08.30.56
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Tue, 24 Sep 2019 08:30:57 -0700 (PDT)
From: Oleksandr Tyshchenko <olekstysh@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 24 Sep 2019 18:30:27 +0300
Message-Id: <1569339027-19484-9-git-send-email-olekstysh@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1569339027-19484-1-git-send-email-olekstysh@gmail.com>
References: <1569339027-19484-1-git-send-email-olekstysh@gmail.com>
Subject: [Xen-devel] [PATCH V5 8/8] iommu/arm: Add Renesas IPMMU-VMSA support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>, julien.grall@arm.com,
 sstabellini@kernel.org, volodymyr_babchuk@epam.com,
 Yoshihiro Shimoda <yoshihiro.shimoda.uh@renesas.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtvQGVwYW0uY29t
PgoKVGhlIElQTU1VLVZNU0EgaXMgVk1TQS1jb21wYXRpYmxlIEkvTyBNZW1vcnkgTWFuYWdlbWVu
dCBVbml0IChJT01NVSkKd2hpY2ggcHJvdmlkZXMgYWRkcmVzcyB0cmFuc2xhdGlvbiBhbmQgYWNj
ZXNzIHByb3RlY3Rpb24gZnVuY3Rpb25hbGl0aWVzCnRvIHByb2Nlc3NpbmcgdW5pdHMgYW5kIGlu
dGVyY29ubmVjdCBuZXR3b3Jrcy4KClBsZWFzZSBub3RlLCBjdXJyZW50IGRyaXZlciBpcyBzdXBw
b3NlZCB0byB3b3JrIG9ubHkgd2l0aCBuZXdlc3QKUi1DYXIgR2VuMyBTb0NzIHJldmlzaW9ucyB3
aGljaCBJUE1NVSBoYXJkd2FyZSBzdXBwb3J0cyBzdGFnZSAyIHRyYW5zbGF0aW9uCnRhYmxlIGZv
cm1hdCBhbmQgaXMgYWJsZSB0byB1c2UgQ1BVJ3MgUDJNIHRhYmxlIGFzIGlzIGlmIG9uZSBpcwoz
LWxldmVsIHBhZ2UgdGFibGUgKHVwIHRvIDQwIGJpdCBJUEEpLgoKVGhlIG1ham9yIGRpZmZlcmVu
Y2VzIGNvbXBhcmUgdG8gdGhlIExpbnV4IGRyaXZlciBhcmU6CgoxLiBTdGFnZSAxL1N0YWdlIDIg
dHJhbnNsYXRpb24uIExpbnV4IGRyaXZlciBzdXBwb3J0cyBTdGFnZSAxCnRyYW5zbGF0aW9uIG9u
bHkgKHdpdGggU3RhZ2UgMSB0cmFuc2xhdGlvbiB0YWJsZSBmb3JtYXQpLiBJdCBtYW5hZ2VzCnBh
Z2UgdGFibGUgYnkgaXRzZWxmLiBCdXQgWGVuIGRyaXZlciBzdXBwb3J0cyBTdGFnZSAyIHRyYW5z
bGF0aW9uCih3aXRoIFN0YWdlIDIgdHJhbnNsYXRpb24gdGFibGUgZm9ybWF0KSB0byBiZSBhYmxl
IHRvIHNoYXJlIHRoZSBQMk0Kd2l0aCB0aGUgQ1BVLiBTdGFnZSAxIHRyYW5zbGF0aW9uIGlzIGFs
d2F5cyBieXBhc3NlZCBpbiBYZW4gZHJpdmVyLgoKU28sIFhlbiBkcml2ZXIgaXMgc3VwcG9zZWQg
dG8gYmUgdXNlZCB3aXRoIG5ld2VzdCBSLUNhciBHZW4zIFNvQyByZXZpc2lvbnMKb25seSAoSDMg
RVMzLjAsIE0zLVcrLCBldGMuKSB3aGljaCBJUE1NVSBIL1cgc3VwcG9ydHMgc3RhZ2UgMiB0cmFu
c2xhdGlvbgp0YWJsZSBmb3JtYXQuCgoyLiBBQXJjaDY0IHN1cHBvcnQuIExpbnV4IGRyaXZlciB1
c2VzIFZNU0F2OC0zMiBtb2RlLCB3aGlsZSBYZW4gZHJpdmVyCmVuYWJsZXMgQXJtdjggVk1TQXY4
LTY0IG1vZGUgdG8gY292ZXIgdXAgdG8gNDAgYml0IGlucHV0IGFkZHJlc3MuCgozLiBDb250ZXh0
IGJhbmsgKHNldHMgb2YgcGFnZSB0YWJsZSkgdXNhZ2UuIEluIFhlbiwgZWFjaCBjb250ZXh0IGJh
bmsgaXMKbWFwcGVkIHRvIG9uZSBYZW4gZG9tYWluLiBTbywgYWxsIGRldmljZXMgYmVpbmcgcGFz
cyB0aHJvdWdoZWQgdG8gdGhlCnNhbWUgWGVuIGRvbWFpbiBzaGFyZSB0aGUgc2FtZSBjb250ZXh0
IGJhbmsuCgo0LiBJUE1NVSBkZXZpY2UgdHJhY2tpbmcuIEluIFhlbiwgYWxsIElPTU1VIGRldmlj
ZXMgYXJlIG1hbmFnZWQKYnkgc2luZ2xlIGRyaXZlciBpbnN0YW5jZS4gU28sIGRyaXZlciB1c2Vz
IGdsb2JhbCBsaXN0IHRvIGtlZXAgdHJhY2sKb2YgcmVnaXN0ZXJlZCBJUE1NVSBkZXZpY2VzLgoK
U2lnbmVkLW9mZi1ieTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtv
QGVwYW0uY29tPgpbZm9yIHRoZSBJUE1NVSBIL1cgYml0c10KUmV2aWV3ZWQtYnk6IFlvc2hpaGly
byBTaGltb2RhIDx5b3NoaWhpcm8uc2hpbW9kYS51aEByZW5lc2FzLmNvbT4KQWNrZWQtYnk6IEp1
bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+CgotLS0KQ2hhbmdlcyBWNCAtPiBWNToK
ICAgIC0gYWRkZWQgUi1iL0EtYgogICAgLSBhZGRlZCAiY29uc3QiIHRvIHN0cnVjdCBkdF9waGFu
ZGxlX2FyZ3MgKnNwZWMgaW4gaXBtbXVfZHRfeGxhdGUoKQogICAgLSBhZGRlZCAiY29uc3QiIHRv
IHN0cnVjdCBkdF9waGFuZGxlX2FyZ3MgKmFyZ3MgaW4gaXBtbXVfaW5pdF9wbGF0Zm9ybV9kZXZp
Y2UoKQoKQ2hhbmdlcyBWMyAtPiBWNDoKICAgIC0gY2hhbmdlZCAiR2VuMyIgdG8gIlItQ2FyIEdl
bjMiIGluIGNvbW1pdCBkZXNjcmlwdGlvbgogICAgLSByZW5hbWVkICJvZl94bGF0ZSIgdG8gImR0
X3hsYXRlIgogICAgLSByZW1vdmVkIGNoZWNrIGZvciB0aGUgaW9tbXVfaGFwX3B0X3NoYXJlIGZs
YWcgaW4gaXBtbXVfaW5pdCgpCiAgICAtIG1vZGlmaWVkIHRvIGJlIGFibGUgdG8gc2VsZWN0IElQ
TU1VX1ZNU0Egb3B0aW9uIG9ubHkgaWYgRVhQRVJUIGlzIHNldAogICAgLSByZW1vdmVkIGFuIGVy
cm9yIG1lc3NhZ2Ugd2hlbiBkZWZlcnJpbmcgdGhlIHByb2JlCiAgICAtIG1vdmVkIGNoZWNrIGZv
ciB0aGUgUDJNIHNoYXJpbmcgcG9zc2liaWxpdHkgdG8gdGhlIFJvb3QgSVBNTVUgcGF0aAoKQ2hh
bmdlcyBWMiAtPiBWMzoKICAgIC0gYWRkZWQgQ29weXJpZ2h0IGZyb20gTGludXgKICAgIC0gaW5j
bHVkZWQgPHhlbi9pb21tdS5oPiBhbmQgPGFzbS9pb21tdV9md3NwZWMuaD4gZGlyZWN0bHkKICAg
IC0gcmVtb3ZlZCBwb2ludGxlc3Mgc3Bpbl9sb2NrIGZyb20gaXBtbXVfaW9tbXVfZG9tYWluX3Rl
YXJkb3duKCkKICAgIC0gY2hhbmdlZCAiR2VuMyIgdG8gIlItQ2FyIEdlbjMiLCAiTTMgRVMzLjAi
IHRvICJNMy1XKyIKICAgIC0gY2hhbmdlZCBSQ0FSX1BST0RVQ1RfTTMgdG8gUkNBUl9QUk9EVUNU
X00zVwogICAgLSBjbGFyaWZpZWQgSU1UVEJDUl9UU1oxX01BU0sKICAgIC0gcmVtb3ZlZCBUTEIg
Zmx1c2ggZnJvbSBpcG1tdV9kb21haW5faXJxKCkgdW50aWwgY2xhcmlmaWVkIHRoZSBwdXJwb3Nl
CiAgICAtIHJldHVybmVkIC1FTk9ERVYgaW4gaXBtbXVfaW5pdCgpIGlmIFAyTSBzaGFyaW5nIG9y
IFAyTSBJUEEgc2l6ZQogICAgICBpcyBub3Qgc3VwcG9ydGVkIHRvIHNob3cgdGhhdCBJT01NVSBk
ZXZpY2UgaXMgbm90IHVzYWJsZSBpbiBYZW4KICAgIC0gaW1wbGVtZW50ZWQgbmV3IGNhbGxiYWNr
ICJvZl94bGF0ZSIgdG8gcGFyc2UgRFQgSU9NTVUgc3BlY2lmaWVyCiAgICAgIGFuZCBhZGQgZGV2
aWNlIElEcyB0byAiaW9tbXVfZndzcGVjIgogICAgLSByZXdvcmtlZCAiYWRkX2RldmljZSIgY2Fs
bGJhY2sKICAgIC0gdXBkYXRlZCBwYXRjaCBkZXNjcmlwdGlvbgoKQ2hhbmdlcyBWMSAtPiBWMjoK
ICAgIC0gcmV3cml0ZWQgZHJpdmVyIHRvIHVzZSBpb21tdV9md3NwZWMKICAgIC0gcmVtb3ZlZCBE
VCBwYXJzaW5nIGNvZGUgZm9yIG1pY3JvLVRMQnMKICAgIC0gcmVtb3ZlZCBzdHJ1Y3QgaXBtbXVf
dm1zYV9tYXN0ZXJfY2ZnLCBkZXZfYXJjaGRhdGEgbWFjcm8KICAgIC0gYWRkZWQgaXBtbXVfZmlu
ZF9tbXVfYnlfZGV2KCksIHZhcmlvdXMgaGVscGVycyB0byBhY2Nlc3MKICAgICAgZndzcGVjLT5p
b21tdV9wcml2CiAgICAtIGltcGxlbWVudGVkIG5ldyBjYWxsYmFjayAiYWRkX2RldmljZSIgdG8g
YWRkIG1hc3RlciBkZXZpY2UgdG8gSVBNTVUKICAgIC0gcmVtb3ZlZCBpcG1tdV9wcm90ZWN0X21h
c3RlcnMoKQogICAgLSByZW1vdmVkIGNvZGUgdG8gbG9jYXRlIFJvb3QgZGV2aWNlIGluIHRoZSBm
aXJzdCBwbGFjZSwKICAgICAgdXNlZCBFQUdBSU4gdG8gcmVxdWVzdCBkZWZlcnJlZCBwcm9iaW5n
CiAgICAtIHVzZWQgcHJpbnRrX29uY2UgZm9yIHRoZSBzeXN0ZW0gd2lkZSBlcnJvciBtZXNzYWdl
cyBpbiBpcG1tdV9pbml0KCkKICAgICAgd2hpY2ggZG9uJ3QgbmVlZCB0byBiZSBzaG93biBmb3Ig
ZXZlcnkgZGV2aWNlIGJlaW5nIHByb2JlZAogICAgLSByZW1vdmVkIG1hcF9wYWdlL3VubWFwX3Bh
Z2UgaW1wbGVtZW50YXRpb24sIHJldXNlZCB0aGVtCiAgICAgIGZyb20gaW9tbXVfaGVscGVycy5j
CiAgICAtIHVzZWQgJXBkIGZvciBwcmludGluZyBkb21haWQgaWQKICAgIC0gcGVyZm9ybWVkIHZh
cmlvdXMgY29zbWV0aWMgZml4ZXMKICAgIC0gY2hhbmdlZCB1MzIgLT4gdWludDMyX3QsIHU2NCAt
PiB1aW50NjRfdCwKICAgICAgdW5zaWduZWQgaW50IC0+IHVpbnQzMl90IHdoZXJlIG5lZWRlZAog
ICAgLSBjbGFyaWZpZWQgVE9ET3MKICAgIC0gY2xhZmlyaWVkIHN1cHBvcnRlZCBTb0MgdmVyc2lv
bnMgaW4gY29uZmlnIElQTU1VX1ZNU0EsCiAgICAgIHNldCBkZWZhdWx0IHRvICJuIgogICAgLSB1
cGRhdGVkIGNvbW1lbnRzIGluIGNvZGUsIHByb3ZpZGVkIG1vcmUgYWNjdXJhdGUgZGVzY3JpcHRp
b24sCiAgICAgIGFkZGVkIG5ldyBjb21tZW50cyB3aGVyZSBuZWVkZWQKICAgIC0gdXBkYXRlZCBw
YXRjaCBkZXNjcmlwdGlvbiBieSBwcm92aWRpbmcgZGlmZmVyZW5jZXMgYmV0d2VlbgogICAgICBM
aW51eC9YZW4gaW1wbGVtZW50YXRpb25zCiAgICAtIHJlbW92ZWQgZmllbGRzIGZvciBjYWNoZSBz
bm9vcCB0cmFuc2FjdGlvbiB3aGVuIGNvbmZpZ3VyaW5nIElNVFRCQ1IKICAgICAgKHVwZGF0ZSBm
cm9tIFJlbmVzYXMgQlNQKQotLS0KIHhlbi9hcmNoL2FybS9wbGF0Zm9ybXMvS2NvbmZpZyAgICAg
ICAgICAgfCAgICAxICsKIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL0tjb25maWcgICAgICAgICAg
fCAgIDEzICsKIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmlsZSAgICAgfCAgICAx
ICsKIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pcG1tdS12bXNhLmMgfCAxMzMzICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKwogNCBmaWxlcyBjaGFuZ2VkLCAxMzQ4IGluc2VydGlv
bnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBt
bXUtdm1zYS5jCgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL3BsYXRmb3Jtcy9LY29uZmlnIGIv
eGVuL2FyY2gvYXJtL3BsYXRmb3Jtcy9LY29uZmlnCmluZGV4IGJjMGU5Y2QuLjRiYjczMTkgMTAw
NjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9wbGF0Zm9ybXMvS2NvbmZpZworKysgYi94ZW4vYXJjaC9h
cm0vcGxhdGZvcm1zL0tjb25maWcKQEAgLTI1LDYgKzI1LDcgQEAgY29uZmlnIFJDQVIzCiAJYm9v
bCAiUmVuZXNhcyBSQ2FyMyBzdXBwb3J0IgogCWRlcGVuZHMgb24gQVJNXzY0CiAJc2VsZWN0IEhB
U19TQ0lGCisJc2VsZWN0IElQTU1VX1ZNU0EgaWYgRVhQRVJUCiAJLS0taGVscC0tLQogCUVuYWJs
ZSBhbGwgdGhlIHJlcXVpcmVkIGRyaXZlcnMgZm9yIFJlbmVzYXMgUkNhcjMKIApkaWZmIC0tZ2l0
IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvS2NvbmZpZyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL0tjb25maWcKaW5kZXggYTNjMDY0OS4uZTIyMzAxYyAxMDA2NDQKLS0tIGEveGVuL2RyaXZl
cnMvcGFzc3Rocm91Z2gvS2NvbmZpZworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9LY29u
ZmlnCkBAIC0xMiw0ICsxMiwxNyBAQCBjb25maWcgQVJNX1NNTVUKIAogCSAgU2F5IFkgaGVyZSBp
ZiB5b3VyIFNvQyBpbmNsdWRlcyBhbiBJT01NVSBkZXZpY2UgaW1wbGVtZW50aW5nIHRoZQogCSAg
QVJNIFNNTVUgYXJjaGl0ZWN0dXJlLgorCitjb25maWcgSVBNTVVfVk1TQQorCWJvb2wgIlJlbmVz
YXMgSVBNTVUtVk1TQSBmb3VuZCBpbiBSLUNhciBHZW4zIFNvQ3MiIGlmIEVYUEVSVCA9ICJ5Igor
CWRlZmF1bHQgbgorCWRlcGVuZHMgb24gQVJNXzY0CisJLS0taGVscC0tLQorCSAgU3VwcG9ydCBm
b3IgaW1wbGVtZW50YXRpb25zIG9mIHRoZSBSZW5lc2FzIElQTU1VLVZNU0EgZm91bmQKKwkgIGlu
IFItQ2FyIEdlbjMgU29Dcy4KKworCSAgU2F5IFkgaGVyZSBpZiB5b3UgYXJlIHVzaW5nIG5ld2Vz
dCBSLUNhciBHZW4zIFNvQ3MgcmV2aXNpb25zCisJICAoSDMgRVMzLjAsIE0zLVcrLCBldGMpIHdo
aWNoIElQTU1VIGhhcmR3YXJlIHN1cHBvcnRzIHN0YWdlIDIKKwkgIHRyYW5zbGF0aW9uIHRhYmxl
IGZvcm1hdCBhbmQgaXMgYWJsZSB0byB1c2UgQ1BVJ3MgUDJNIHRhYmxlIGFzIGlzLgorCiBlbmRp
ZgpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL01ha2VmaWxlIGIveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL01ha2VmaWxlCmluZGV4IDVmYmFkNDUuLmZjZDkxOGUg
MTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9NYWtlZmlsZQorKysgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vTWFrZWZpbGUKQEAgLTEsMiArMSwzIEBACiBvYmot
eSArPSBpb21tdS5vIGlvbW11X2hlbHBlcnMubyBpb21tdV9md3NwZWMubwogb2JqLSQoQ09ORklH
X0FSTV9TTU1VKSArPSBzbW11Lm8KK29iai0kKENPTkZJR19JUE1NVV9WTVNBKSArPSBpcG1tdS12
bXNhLm8KZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pcG1tdS12bXNh
LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBtbXUtdm1zYS5jCm5ldyBmaWxlIG1v
ZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmYyZmI0YTIKLS0tIC9kZXYvbnVsbAorKysgYi94ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBtbXUtdm1zYS5jCkBAIC0wLDAgKzEsMTMzMyBAQAor
LyoKKyAqIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pcG1tdS12bXNhLmMKKyAqCisgKiBE
cml2ZXIgZm9yIHRoZSBSZW5lc2FzIElQTU1VLVZNU0EgZm91bmQgaW4gUi1DYXIgR2VuMyBTb0Nz
LgorICoKKyAqIFRoZSBJUE1NVS1WTVNBIGlzIFZNU0EtY29tcGF0aWJsZSBJL08gTWVtb3J5IE1h
bmFnZW1lbnQgVW5pdCAoSU9NTVUpCisgKiB3aGljaCBwcm92aWRlcyBhZGRyZXNzIHRyYW5zbGF0
aW9uIGFuZCBhY2Nlc3MgcHJvdGVjdGlvbiBmdW5jdGlvbmFsaXRpZXMKKyAqIHRvIHByb2Nlc3Np
bmcgdW5pdHMgYW5kIGludGVyY29ubmVjdCBuZXR3b3Jrcy4KKyAqCisgKiBQbGVhc2Ugbm90ZSwg
Y3VycmVudCBkcml2ZXIgaXMgc3VwcG9zZWQgdG8gd29yayBvbmx5IHdpdGggbmV3ZXN0CisgKiBS
LUNhciBHZW4zIFNvQ3MgcmV2aXNpb25zIHdoaWNoIElQTU1VIGhhcmR3YXJlIHN1cHBvcnRzIHN0
YWdlIDIgdHJhbnNsYXRpb24KKyAqIHRhYmxlIGZvcm1hdCBhbmQgaXMgYWJsZSB0byB1c2UgQ1BV
J3MgUDJNIHRhYmxlIGFzIGlzLgorICoKKyAqIEJhc2VkIG9uIExpbnV4J3MgSVBNTVUtVk1TQSBk
cml2ZXIgZnJvbSBSZW5lc2FzIEJTUDoKKyAqICAgIGRyaXZlcnMvaW9tbXUvaXBtbXUtdm1zYS5j
CisgKiB5b3UgY2FuIGZvdW5kIGF0OgorICogICAgdXJsOiBnaXQ6Ly9naXQua2VybmVsLm9yZy9w
dWIvc2NtL2xpbnV4L2tlcm5lbC9naXQvaG9ybXMvcmVuZXNhcy1ic3AuZ2l0CisgKiAgICBicmFu
Y2g6IHY0LjE0Ljc1LWx0c2kvcmNhci0zLjkuNgorICogICAgY29tbWl0OiBlMjA2ZWI1YjgxYTYw
ZTY0YzM1ZmJjM2E5OTliMWEwZGIyYjk4MDQ0CisgKiBhbmQgWGVuJ3MgU01NVSBkcml2ZXI6Cisg
KiAgICB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vc21tdS5jCisgKgorICogQ29weXJpZ2h0
IChDKSAyMDE0LTIwMTkgUmVuZXNhcyBFbGVjdHJvbmljcyBDb3Jwb3JhdGlvbgorICoKKyAqIENv
cHlyaWdodCAoQykgMjAxNi0yMDE5IEVQQU0gU3lzdGVtcyBJbmMuCisgKgorICogVGhpcyBwcm9n
cmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgorICog
bW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgR05VIEdlbmVy
YWwgUHVibGljCisgKiBMaWNlbnNlLCB2ZXJzaW9uIDIsIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJl
ZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRl
ZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogYnV0IFdJVEhPVVQgQU5Z
IFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqIE1FUkNI
QU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUg
R05VCisgKiBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICog
WW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGlj
CisgKiBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBJZiBub3QsIHNlZSA8aHR0cDov
L3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCisgKi8KKworI2luY2x1ZGUgPHhlbi9kZWxheS5oPgor
I2luY2x1ZGUgPHhlbi9lcnIuaD4KKyNpbmNsdWRlIDx4ZW4vaW9tbXUuaD4KKyNpbmNsdWRlIDx4
ZW4vaXJxLmg+CisjaW5jbHVkZSA8eGVuL2xpYi5oPgorI2luY2x1ZGUgPHhlbi9saXN0Lmg+Cisj
aW5jbHVkZSA8eGVuL21tLmg+CisjaW5jbHVkZSA8eGVuL3NjaGVkLmg+CisjaW5jbHVkZSA8eGVu
L3ZtYXAuaD4KKworI2luY2x1ZGUgPGFzbS9hdG9taWMuaD4KKyNpbmNsdWRlIDxhc20vZGV2aWNl
Lmg+CisjaW5jbHVkZSA8YXNtL2lvLmg+CisjaW5jbHVkZSA8YXNtL2lvbW11X2Z3c3BlYy5oPgor
CisjZGVmaW5lIGRldl9uYW1lKGRldikgZHRfbm9kZV9mdWxsX25hbWUoZGV2X3RvX2R0KGRldikp
CisKKy8qIERldmljZSBsb2dnZXIgZnVuY3Rpb25zICovCisjZGVmaW5lIGRldl9wcmludChkZXYs
IGx2bCwgZm10LCAuLi4pICAgIFwKKyAgICBwcmludGsobHZsICJpcG1tdTogJXM6ICIgZm10LCBk
ZXZfbmFtZShkZXYpLCAjIyBfX1ZBX0FSR1NfXykKKworI2RlZmluZSBkZXZfaW5mbyhkZXYsIGZt
dCwgLi4uKSAgICBcCisgICAgZGV2X3ByaW50KGRldiwgWEVOTE9HX0lORk8sIGZtdCwgIyMgX19W
QV9BUkdTX18pCisjZGVmaW5lIGRldl93YXJuKGRldiwgZm10LCAuLi4pICAgIFwKKyAgICBkZXZf
cHJpbnQoZGV2LCBYRU5MT0dfV0FSTklORywgZm10LCAjIyBfX1ZBX0FSR1NfXykKKyNkZWZpbmUg
ZGV2X2VycihkZXYsIGZtdCwgLi4uKSAgICAgXAorICAgIGRldl9wcmludChkZXYsIFhFTkxPR19F
UlIsIGZtdCwgIyMgX19WQV9BUkdTX18pCisjZGVmaW5lIGRldl9lcnJfcmF0ZWxpbWl0ZWQoZGV2
LCBmbXQsIC4uLikgICAgXAorICAgIGRldl9wcmludChkZXYsIFhFTkxPR19FUlIsIGZtdCwgIyMg
X19WQV9BUkdTX18pCisKKy8qCisgKiBSLUNhciBHZW4zIFNvQ3MgbWFrZSB1c2Ugb2YgdXAgdG8g
OCBJUE1NVSBjb250ZXh0cyAoc2V0cyBvZiBwYWdlIHRhYmxlKSBhbmQKKyAqIHRoZXNlIGNhbiBi
ZSBtYW5hZ2VkIGluZGVwZW5kZW50bHkuIEVhY2ggY29udGV4dCBpcyBtYXBwZWQgdG8gb25lIFhl
biBkb21haW4uCisgKi8KKyNkZWZpbmUgSVBNTVVfQ1RYX01BWCAgICAgOAorLyogUi1DYXIgR2Vu
MyBTb0NzIG1ha2UgdXNlIG9mIHVwIHRvIDQ4IG1pY3JvLVRMQnMgcGVyIElQTU1VIGRldmljZS4g
Ki8KKyNkZWZpbmUgSVBNTVVfVVRMQl9NQVggICAgNDgKKworLyogSVBNTVUgY29udGV4dCBzdXBw
b3J0cyBJUEEgc2l6ZSB1cCB0byA0MCBiaXQuICovCisjZGVmaW5lIElQTU1VX01BWF9QMk1fSVBB
X0JJVFMgICAgNDAKKworLyoKKyAqIFhlbidzIGRvbWFpbiBJUE1NVSBpbmZvcm1hdGlvbiBzdG9y
ZWQgaW4gZG9tX2lvbW11KGQpLT5hcmNoLnByaXYKKyAqCisgKiBBcyBlYWNoIGNvbnRleHQgKHNl
dCBvZiBwYWdlIHRhYmxlKSBpcyBtYXBwZWQgdG8gb25lIFhlbiBkb21haW4sCisgKiBhbGwgYXNz
b2NpYXRlZCBJUE1NVSBkb21haW5zIHVzZSB0aGUgc2FtZSBjb250ZXh0IG1hcHBlZCB0byB0aGlz
IFhlbiBkb21haW4uCisgKiBUaGlzIG1ha2VzIGFsbCBtYXN0ZXIgZGV2aWNlcyBiZWluZyBhdHRh
Y2hlZCB0byB0aGUgc2FtZSBYZW4gZG9tYWluIHNoYXJlCisgKiB0aGUgc2FtZSBjb250ZXh0IChQ
Mk0gdGFibGUpLgorICovCitzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5fZG9tYWluIHsKKyAgICAvKgor
ICAgICAqIFVzZWQgdG8gcHJvdGVjdCBldmVyeXRoaW5nIHdoaWNoIGJlbG9uZ3MgdG8gdGhpcyBY
ZW4gZG9tYWluOgorICAgICAqIGRldmljZSBhc3NpZ25tZW50LCBkb21haW4gaW5pdC9kZXN0cm95
LCBmbHVzaCBvcHMsIGV0YworICAgICAqLworICAgIHNwaW5sb2NrX3QgbG9jazsKKyAgICAvKiBP
bmUgb3IgbW9yZSBDYWNoZSBJUE1NVSBkb21haW5zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIFhlbiBk
b21haW4gKi8KKyAgICBzdHJ1Y3QgbGlzdF9oZWFkIGNhY2hlX2RvbWFpbnM7CisgICAgLyogUm9v
dCBJUE1NVSBkb21haW4gYXNzb2NpYXRlZCB3aXRoIHRoaXMgWGVuIGRvbWFpbiAqLworICAgIHN0
cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqcm9vdF9kb21haW47Cit9OworCisvKiBYZW4gbWFzdGVy
IGRldmljZSdzIElQTU1VIGluZm9ybWF0aW9uIHN0b3JlZCBpbiBmd3NwZWMtPmlvbW11X3ByaXYg
Ki8KK3N0cnVjdCBpcG1tdV92bXNhX3hlbl9kZXZpY2UgeworICAgIC8qIENhY2hlIElQTU1VIGRv
bWFpbiB0aGlzIG1hc3RlciBkZXZpY2UgaXMgbG9naWNhbGx5IGF0dGFjaGVkIHRvICovCisgICAg
c3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW47CisgICAgLyogQ2FjaGUgSVBNTVUgdGhp
cyBtYXN0ZXIgZGV2aWNlIGlzIHBoeXNpY2FsbHkgY29ubmVjdGVkIHRvICovCisgICAgc3RydWN0
IGlwbW11X3Ztc2FfZGV2aWNlICptbXU7Cit9OworCisvKiBSb290L0NhY2hlIElQTU1VIGRldmlj
ZSdzIGluZm9ybWF0aW9uICovCitzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgeworICAgIHN0cnVj
dCBkZXZpY2UgKmRldjsKKyAgICB2b2lkIF9faW9tZW0gKmJhc2U7CisgICAgc3RydWN0IGlwbW11
X3Ztc2FfZGV2aWNlICpyb290OworICAgIHN0cnVjdCBsaXN0X2hlYWQgbGlzdDsKKyAgICB1bnNp
Z25lZCBpbnQgbnVtX3V0bGJzOworICAgIHVuc2lnbmVkIGludCBudW1fY3R4OworICAgIHNwaW5s
b2NrX3QgbG9jazsgICAgLyogUHJvdGVjdHMgY3R4IGFuZCBkb21haW5zW10gKi8KKyAgICBERUNM
QVJFX0JJVE1BUChjdHgsIElQTU1VX0NUWF9NQVgpOworICAgIHN0cnVjdCBpcG1tdV92bXNhX2Rv
bWFpbiAqZG9tYWluc1tJUE1NVV9DVFhfTUFYXTsKK307CisKKy8qCisgKiBSb290L0NhY2hlIElQ
TU1VIGRvbWFpbidzIGluZm9ybWF0aW9uCisgKgorICogUm9vdCBJUE1NVSBkZXZpY2UgaXMgYXNz
aWduZWQgdG8gUm9vdCBJUE1NVSBkb21haW4gd2hpbGUgQ2FjaGUgSVBNTVUgZGV2aWNlCisgKiBp
cyBhc3NpZ25lZCB0byBDYWNoZSBJUE1NVSBkb21haW4uIE1hc3RlciBkZXZpY2VzIGFyZSBjb25u
ZWN0ZWQgdG8gQ2FjaGUKKyAqIElQTU1VIGRldmljZXMgdGhyb3VnaCBzcGVjaWZpYyBwb3J0cyBj
YWxsZWQgbWljcm8tVExCcy4KKyAqIEFsbCBDYWNoZSBJUE1NVSBkZXZpY2VzLCBpbiB0dXJuLCBh
cmUgY29ubmVjdGVkIHRvIFJvb3QgSVBNTVUgZGV2aWNlCisgKiB3aGljaCBtYW5hZ2VzIElQTU1V
IGNvbnRleHQuCisgKi8KK3N0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiB7CisgICAgLyoKKyAgICAg
KiBJUE1NVSBkZXZpY2UgYXNzaWduZWQgdG8gdGhpcyBJUE1NVSBkb21haW4uCisgICAgICogRWl0
aGVyIFJvb3QgZGV2aWNlIHdoaWNoIGlzIGxvY2F0ZWQgYXQgdGhlIG1haW4gbWVtb3J5IGJ1cyBk
b21haW4gb3IKKyAgICAgKiBDYWNoZSBkZXZpY2Ugd2hpY2ggaXMgbG9jYXRlZCBhdCBlYWNoIGhp
ZXJhcmNoeSBidXMgZG9tYWluLgorICAgICAqLworICAgIHN0cnVjdCBpcG1tdV92bXNhX2Rldmlj
ZSAqbW11OworCisgICAgLyogQ29udGV4dCB1c2VkIGZvciB0aGlzIElQTU1VIGRvbWFpbiAqLwor
ICAgIHVuc2lnbmVkIGludCBjb250ZXh0X2lkOworCisgICAgLyogWGVuIGRvbWFpbiBhc3NvY2lh
dGVkIHdpdGggdGhpcyBJUE1NVSBkb21haW4gKi8KKyAgICBzdHJ1Y3QgZG9tYWluICpkOworCisg
ICAgLyogVGhlIGZpZWxkcyBiZWxvdyBhcmUgdXNlZCBmb3IgQ2FjaGUgSVBNTVUgZG9tYWluIG9u
bHkgKi8KKworICAgIC8qCisgICAgICogVXNlZCB0byBrZWVwIHRyYWNrIG9mIHRoZSBtYXN0ZXIg
ZGV2aWNlcyB3aGljaCBhcmUgYXR0YWNoZWQgdG8gdGhpcworICAgICAqIElQTU1VIGRvbWFpbiAo
ZG9tYWluIHVzZXJzKS4gTWFzdGVyIGRldmljZXMgYmVoaW5kIHRoZSBzYW1lIElQTU1VIGRldmlj
ZQorICAgICAqIGFyZSBncm91cGVkIHRvZ2V0aGVyIGJ5IHB1dHRpbmcgaW50byB0aGUgc2FtZSBJ
UE1NVSBkb21haW4uCisgICAgICogT25seSB3aGVuIHRoZSByZWZjb3VudCByZWFjaGVzIDAgdGhp
cyBJUE1NVSBkb21haW4gY2FuIGJlIGRlc3Ryb3llZC4KKyAgICAgKi8KKyAgICB1bnNpZ25lZCBp
bnQgcmVmY291bnQ7CisgICAgLyogVXNlZCB0byBsaW5rIHRoaXMgSVBNTVUgZG9tYWluIGZvciB0
aGUgc2FtZSBYZW4gZG9tYWluICovCisgICAgc3RydWN0IGxpc3RfaGVhZCBsaXN0OworfTsKKwor
LyogVXNlZCB0byBrZWVwIHRyYWNrIG9mIHJlZ2lzdGVyZWQgSVBNTVUgZGV2aWNlcyAqLworc3Rh
dGljIExJU1RfSEVBRChpcG1tdV9kZXZpY2VzKTsKK3N0YXRpYyBERUZJTkVfU1BJTkxPQ0soaXBt
bXVfZGV2aWNlc19sb2NrKTsKKworI2RlZmluZSBUTEJfTE9PUF9USU1FT1VUICAgIDEwMCAvKiAx
MDB1cyAqLworCisvKiBSZWdpc3RlcnMgRGVmaW5pdGlvbiAqLworI2RlZmluZSBJTV9DVFhfU0la
RSAgICAweDQwCisKKyNkZWZpbmUgSU1DVFIgICAgICAgICAgICAgICAgMHgwMDAwCisvKgorICog
VGhlc2UgZmllbGRzIGFyZSBpbXBsZW1lbnRlZCBpbiBJUE1NVS1NTSBvbmx5LiBTbywgY2FuIGJl
IHNldCBmb3IKKyAqIFJvb3QgSVBNTVUgb25seS4KKyAqLworI2RlZmluZSBJTUNUUl9WQTY0ICAg
ICAgICAgICAoMSA8PCAyOSkKKyNkZWZpbmUgSU1DVFJfVFJFICAgICAgICAgICAgKDEgPDwgMTcp
CisjZGVmaW5lIElNQ1RSX0FGRSAgICAgICAgICAgICgxIDw8IDE2KQorI2RlZmluZSBJTUNUUl9S
VFNFTF9NQVNLICAgICAoMyA8PCA0KQorI2RlZmluZSBJTUNUUl9SVFNFTF9TSElGVCAgICA0Cisj
ZGVmaW5lIElNQ1RSX1RSRU4gICAgICAgICAgICgxIDw8IDMpCisvKgorICogVGhlc2UgZmllbGRz
IGFyZSBjb21tb24gZm9yIGFsbCBJUE1NVSBkZXZpY2VzLiBTbywgY2FuIGJlIHNldCBmb3IKKyAq
IENhY2hlIElQTU1VcyBhcyB3ZWxsLgorICovCisjZGVmaW5lIElNQ1RSX0lOVEVOICAgICAgICAg
ICgxIDw8IDIpCisjZGVmaW5lIElNQ1RSX0ZMVVNIICAgICAgICAgICgxIDw8IDEpCisjZGVmaW5l
IElNQ1RSX01NVUVOICAgICAgICAgICgxIDw8IDApCisjZGVmaW5lIElNQ1RSX0NPTU1PTl9NQVNL
ICAgICg3IDw8IDApCisKKyNkZWZpbmUgSU1DQUFSICAgICAgICAgICAgICAgMHgwMDA0CisKKyNk
ZWZpbmUgSU1UVEJDUiAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAwOAorI2RlZmluZSBJTVRU
QkNSX0VBRSAgICAgICAgICAgICAgICAgICAgKDEgPDwgMzEpCisjZGVmaW5lIElNVFRCQ1JfUE1C
ICAgICAgICAgICAgICAgICAgICAoMSA8PCAzMCkKKyNkZWZpbmUgSU1UVEJDUl9TSDFfTk9OX1NI
QVJFQUJMRSAgICAgICgwIDw8IDI4KQorI2RlZmluZSBJTVRUQkNSX1NIMV9PVVRFUl9TSEFSRUFC
TEUgICAgKDIgPDwgMjgpCisjZGVmaW5lIElNVFRCQ1JfU0gxX0lOTkVSX1NIQVJFQUJMRSAgICAo
MyA8PCAyOCkKKyNkZWZpbmUgSU1UVEJDUl9TSDFfTUFTSyAgICAgICAgICAgICAgICgzIDw8IDI4
KQorI2RlZmluZSBJTVRUQkNSX09SR04xX05DICAgICAgICAgICAgICAgKDAgPDwgMjYpCisjZGVm
aW5lIElNVFRCQ1JfT1JHTjFfV0JfV0EgICAgICAgICAgICAoMSA8PCAyNikKKyNkZWZpbmUgSU1U
VEJDUl9PUkdOMV9XVCAgICAgICAgICAgICAgICgyIDw8IDI2KQorI2RlZmluZSBJTVRUQkNSX09S
R04xX1dCICAgICAgICAgICAgICAgKDMgPDwgMjYpCisjZGVmaW5lIElNVFRCQ1JfT1JHTjFfTUFT
SyAgICAgICAgICAgICAoMyA8PCAyNikKKyNkZWZpbmUgSU1UVEJDUl9JUkdOMV9OQyAgICAgICAg
ICAgICAgICgwIDw8IDI0KQorI2RlZmluZSBJTVRUQkNSX0lSR04xX1dCX1dBICAgICAgICAgICAg
KDEgPDwgMjQpCisjZGVmaW5lIElNVFRCQ1JfSVJHTjFfV1QgICAgICAgICAgICAgICAoMiA8PCAy
NCkKKyNkZWZpbmUgSU1UVEJDUl9JUkdOMV9XQiAgICAgICAgICAgICAgICgzIDw8IDI0KQorI2Rl
ZmluZSBJTVRUQkNSX0lSR04xX01BU0sgICAgICAgICAgICAgKDMgPDwgMjQpCisjZGVmaW5lIElN
VFRCQ1JfVFNaMV9NQVNLICAgICAgICAgICAgICAoMHgxZiA8PCAxNikKKyNkZWZpbmUgSU1UVEJD
Ul9UU1oxX1NISUZUICAgICAgICAgICAgIDE2CisjZGVmaW5lIElNVFRCQ1JfU0gwX05PTl9TSEFS
RUFCTEUgICAgICAoMCA8PCAxMikKKyNkZWZpbmUgSU1UVEJDUl9TSDBfT1VURVJfU0hBUkVBQkxF
ICAgICgyIDw8IDEyKQorI2RlZmluZSBJTVRUQkNSX1NIMF9JTk5FUl9TSEFSRUFCTEUgICAgKDMg
PDwgMTIpCisjZGVmaW5lIElNVFRCQ1JfU0gwX01BU0sgICAgICAgICAgICAgICAoMyA8PCAxMikK
KyNkZWZpbmUgSU1UVEJDUl9PUkdOMF9OQyAgICAgICAgICAgICAgICgwIDw8IDEwKQorI2RlZmlu
ZSBJTVRUQkNSX09SR04wX1dCX1dBICAgICAgICAgICAgKDEgPDwgMTApCisjZGVmaW5lIElNVFRC
Q1JfT1JHTjBfV1QgICAgICAgICAgICAgICAoMiA8PCAxMCkKKyNkZWZpbmUgSU1UVEJDUl9PUkdO
MF9XQiAgICAgICAgICAgICAgICgzIDw8IDEwKQorI2RlZmluZSBJTVRUQkNSX09SR04wX01BU0sg
ICAgICAgICAgICAgKDMgPDwgMTApCisjZGVmaW5lIElNVFRCQ1JfSVJHTjBfTkMgICAgICAgICAg
ICAgICAoMCA8PCA4KQorI2RlZmluZSBJTVRUQkNSX0lSR04wX1dCX1dBICAgICAgICAgICAgKDEg
PDwgOCkKKyNkZWZpbmUgSU1UVEJDUl9JUkdOMF9XVCAgICAgICAgICAgICAgICgyIDw8IDgpCisj
ZGVmaW5lIElNVFRCQ1JfSVJHTjBfV0IgICAgICAgICAgICAgICAoMyA8PCA4KQorI2RlZmluZSBJ
TVRUQkNSX0lSR04wX01BU0sgICAgICAgICAgICAgKDMgPDwgOCkKKyNkZWZpbmUgSU1UVEJDUl9T
TDBfTFZMXzIgICAgICAgICAgICAgICgwIDw8IDYpCisjZGVmaW5lIElNVFRCQ1JfU0wwX0xWTF8x
ICAgICAgICAgICAgICAoMSA8PCA2KQorI2RlZmluZSBJTVRUQkNSX1RTWjBfTUFTSyAgICAgICAg
ICAgICAgKDB4MWYgPDwgMCkKKyNkZWZpbmUgSU1UVEJDUl9UU1owX1NISUZUICAgICAgICAgICAg
IDAKKworI2RlZmluZSBJTVRUTEJSMCAgICAgICAgICAgICAgMHgwMDEwCisjZGVmaW5lIElNVFRM
QlIwX1RUQlJfTUFTSyAgICAoMHhmZmZmZiA8PCAxMikKKyNkZWZpbmUgSU1UVFVCUjAgICAgICAg
ICAgICAgIDB4MDAxNAorI2RlZmluZSBJTVRUVUJSMF9UVEJSX01BU0sgICAgKDB4ZmYgPDwgMCkK
KyNkZWZpbmUgSU1UVExCUjEgICAgICAgICAgICAgIDB4MDAxOAorI2RlZmluZSBJTVRUTEJSMV9U
VEJSX01BU0sgICAgKDB4ZmZmZmYgPDwgMTIpCisjZGVmaW5lIElNVFRVQlIxICAgICAgICAgICAg
ICAweDAwMWMKKyNkZWZpbmUgSU1UVFVCUjFfVFRCUl9NQVNLICAgICgweGZmIDw8IDApCisKKyNk
ZWZpbmUgSU1TVFIgICAgICAgICAgICAgICAgICAgICAgICAgIDB4MDAyMAorI2RlZmluZSBJTVNU
Ul9FUlJMVkxfTUFTSyAgICAgICAgICAgICAgKDMgPDwgMTIpCisjZGVmaW5lIElNU1RSX0VSUkxW
TF9TSElGVCAgICAgICAgICAgICAxMgorI2RlZmluZSBJTVNUUl9FUlJDT0RFX1RMQl9GT1JNQVQg
ICAgICAgKDEgPDwgOCkKKyNkZWZpbmUgSU1TVFJfRVJSQ09ERV9BQ0NFU1NfUEVSTSAgICAgICg0
IDw8IDgpCisjZGVmaW5lIElNU1RSX0VSUkNPREVfU0VDVVJFX0FDQ0VTUyAgICAoNSA8PCA4KQor
I2RlZmluZSBJTVNUUl9FUlJDT0RFX01BU0sgICAgICAgICAgICAgKDcgPDwgOCkKKyNkZWZpbmUg
SU1TVFJfTUhJVCAgICAgICAgICAgICAgICAgICAgICgxIDw8IDQpCisjZGVmaW5lIElNU1RSX0FC
T1JUICAgICAgICAgICAgICAgICAgICAoMSA8PCAyKQorI2RlZmluZSBJTVNUUl9QRiAgICAgICAg
ICAgICAgICAgICAgICAgKDEgPDwgMSkKKyNkZWZpbmUgSU1TVFJfVEYgICAgICAgICAgICAgICAg
ICAgICAgICgxIDw8IDApCisKKyNkZWZpbmUgSU1FTEFSICAgIDB4MDAzMAorI2RlZmluZSBJTUVV
QVIgICAgMHgwMDM0CisKKyNkZWZpbmUgSU1VQ1RSKG4pICAgICAgICAgICAgICAoKG4pIDwgMzIg
PyBJTVVDVFIwKG4pIDogSU1VQ1RSMzIobikpCisjZGVmaW5lIElNVUNUUjAobikgICAgICAgICAg
ICAgKDB4MDMwMCArICgobikgKiAxNikpCisjZGVmaW5lIElNVUNUUjMyKG4pICAgICAgICAgICAg
KDB4MDYwMCArICgoKG4pIC0gMzIpICogMTYpKQorI2RlZmluZSBJTVVDVFJfRklYQURERU4gICAg
ICAgICgxIDw8IDMxKQorI2RlZmluZSBJTVVDVFJfRklYQUREX01BU0sgICAgICgweGZmIDw8IDE2
KQorI2RlZmluZSBJTVVDVFJfRklYQUREX1NISUZUICAgIDE2CisjZGVmaW5lIElNVUNUUl9UVFNF
TF9NTVUobikgICAgKChuKSA8PCA0KQorI2RlZmluZSBJTVVDVFJfVFRTRUxfUE1CICAgICAgICg4
IDw8IDQpCisjZGVmaW5lIElNVUNUUl9UVFNFTF9NQVNLICAgICAgKDE1IDw8IDQpCisjZGVmaW5l
IElNVUNUUl9GTFVTSCAgICAgICAgICAgKDEgPDwgMSkKKyNkZWZpbmUgSU1VQ1RSX01NVUVOICAg
ICAgICAgICAoMSA8PCAwKQorCisjZGVmaW5lIElNVUFTSUQobikgICAgICAgICAgICAgKChuKSA8
IDMyID8gSU1VQVNJRDAobikgOiBJTVVBU0lEMzIobikpCisjZGVmaW5lIElNVUFTSUQwKG4pICAg
ICAgICAgICAgKDB4MDMwOCArICgobikgKiAxNikpCisjZGVmaW5lIElNVUFTSUQzMihuKSAgICAg
ICAgICAgKDB4MDYwOCArICgoKG4pIC0gMzIpICogMTYpKQorI2RlZmluZSBJTVVBU0lEX0FTSUQ4
X01BU0sgICAgICgweGZmIDw8IDgpCisjZGVmaW5lIElNVUFTSURfQVNJRDhfU0hJRlQgICAgOAor
I2RlZmluZSBJTVVBU0lEX0FTSUQwX01BU0sgICAgICgweGZmIDw8IDApCisjZGVmaW5lIElNVUFT
SURfQVNJRDBfU0hJRlQgICAgMAorCisjZGVmaW5lIElNU0FVWENUTFIgICAgICAgICAgMHgwNTA0
CisjZGVmaW5lIElNU0FVWENUTFJfUzJQVEUgICAgKDEgPDwgMykKKworc3RhdGljIHN0cnVjdCBp
cG1tdV92bXNhX2RldmljZSAqdG9faXBtbXUoc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIHN0
cnVjdCBpb21tdV9md3NwZWMgKmZ3c3BlYyA9IGRldl9pb21tdV9md3NwZWNfZ2V0KGRldik7CisK
KyAgICByZXR1cm4gZndzcGVjICYmIGZ3c3BlYy0+aW9tbXVfcHJpdiA/CisgICAgICAgICgoc3Ry
dWN0IGlwbW11X3Ztc2FfeGVuX2RldmljZSAqKWZ3c3BlYy0+aW9tbXVfcHJpdiktPm1tdSA6IE5V
TEw7Cit9CisKK3N0YXRpYyB2b2lkIHNldF9pcG1tdShzdHJ1Y3QgZGV2aWNlICpkZXYsIHN0cnVj
dCBpcG1tdV92bXNhX2RldmljZSAqbW11KQoreworICAgIHN0cnVjdCBpb21tdV9md3NwZWMgKmZ3
c3BlYyA9IGRldl9pb21tdV9md3NwZWNfZ2V0KGRldik7CisKKyAgICAoKHN0cnVjdCBpcG1tdV92
bXNhX3hlbl9kZXZpY2UgKilmd3NwZWMtPmlvbW11X3ByaXYpLT5tbXUgPSBtbXU7Cit9CisKK3N0
YXRpYyBzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKnRvX2RvbWFpbihzdHJ1Y3QgZGV2aWNlICpk
ZXYpCit7CisgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAqZndzcGVjID0gZGV2X2lvbW11X2Z3c3Bl
Y19nZXQoZGV2KTsKKworICAgIHJldHVybiBmd3NwZWMgJiYgZndzcGVjLT5pb21tdV9wcml2ID8K
KyAgICAgICAgKChzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5fZGV2aWNlICopZndzcGVjLT5pb21tdV9w
cml2KS0+ZG9tYWluIDogTlVMTDsKK30KKworc3RhdGljIHZvaWQgc2V0X2RvbWFpbihzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqZG9tYWluKQoreworICAgIHN0
cnVjdCBpb21tdV9md3NwZWMgKmZ3c3BlYyA9IGRldl9pb21tdV9md3NwZWNfZ2V0KGRldik7CisK
KyAgICAoKHN0cnVjdCBpcG1tdV92bXNhX3hlbl9kZXZpY2UgKilmd3NwZWMtPmlvbW11X3ByaXYp
LT5kb21haW4gPSBkb21haW47Cit9CisKK3N0YXRpYyBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2Ug
KmlwbW11X2ZpbmRfbW11X2J5X2RldihzdHJ1Y3QgZGV2aWNlICpkZXYpCit7CisgICAgc3RydWN0
IGlwbW11X3Ztc2FfZGV2aWNlICptbXUgPSBOVUxMOworICAgIGJvb2wgZm91bmQgPSBmYWxzZTsK
KworICAgIHNwaW5fbG9jaygmaXBtbXVfZGV2aWNlc19sb2NrKTsKKworICAgIGxpc3RfZm9yX2Vh
Y2hfZW50cnkgKCBtbXUsICZpcG1tdV9kZXZpY2VzLCBsaXN0ICkKKyAgICB7CisgICAgICAgIGlm
ICggbW11LT5kZXYgPT0gZGV2ICkKKyAgICAgICAgeworICAgICAgICAgICAgZm91bmQgPSB0cnVl
OworICAgICAgICAgICAgYnJlYWs7CisgICAgICAgIH0KKyAgICB9CisKKyAgICBzcGluX3VubG9j
aygmaXBtbXVfZGV2aWNlc19sb2NrKTsKKworICAgIHJldHVybiBmb3VuZCA/IG1tdSA6IE5VTEw7
Cit9CisKKy8qIFJvb3QgZGV2aWNlIGhhbmRsaW5nICovCitzdGF0aWMgYm9vbCBpcG1tdV9pc19y
b290KHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11KQoreworICAgIHJldHVybiBtbXUtPnJv
b3QgPT0gbW11OworfQorCitzdGF0aWMgc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICppcG1tdV9m
aW5kX3Jvb3Qodm9pZCkKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IE5V
TEw7CisgICAgYm9vbCBmb3VuZCA9IGZhbHNlOworCisgICAgc3Bpbl9sb2NrKCZpcG1tdV9kZXZp
Y2VzX2xvY2spOworCisgICAgbGlzdF9mb3JfZWFjaF9lbnRyeSggbW11LCAmaXBtbXVfZGV2aWNl
cywgbGlzdCApCisgICAgeworICAgICAgICBpZiAoIGlwbW11X2lzX3Jvb3QobW11KSApCisgICAg
ICAgIHsKKyAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKKyAgICAgICAgICAgIGJyZWFrOworICAg
ICAgICB9CisgICAgfQorCisgICAgc3Bpbl91bmxvY2soJmlwbW11X2RldmljZXNfbG9jayk7CisK
KyAgICByZXR1cm4gZm91bmQgPyBtbXUgOiBOVUxMOworfQorCisvKiBSZWFkL1dyaXRlIEFjY2Vz
cyAqLworc3RhdGljIHVpbnQzMl90IGlwbW11X3JlYWQoc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNl
ICptbXUsIHVpbnQzMl90IG9mZnNldCkKK3sKKyAgICByZXR1cm4gcmVhZGwobW11LT5iYXNlICsg
b2Zmc2V0KTsKK30KKworc3RhdGljIHZvaWQgaXBtbXVfd3JpdGUoc3RydWN0IGlwbW11X3Ztc2Ff
ZGV2aWNlICptbXUsIHVpbnQzMl90IG9mZnNldCwKKyAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQzMl90IGRhdGEpCit7CisgICAgd3JpdGVsKGRhdGEsIG1tdS0+YmFzZSArIG9mZnNldCk7Cit9
CisKK3N0YXRpYyB1aW50MzJfdCBpcG1tdV9jdHhfcmVhZF9yb290KHN0cnVjdCBpcG1tdV92bXNh
X2RvbWFpbiAqZG9tYWluLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlu
dDMyX3QgcmVnKQoreworICAgIHJldHVybiBpcG1tdV9yZWFkKGRvbWFpbi0+bW11LT5yb290LAor
ICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+Y29udGV4dF9pZCAqIElNX0NUWF9TSVpFICsg
cmVnKTsKK30KKworc3RhdGljIHZvaWQgaXBtbXVfY3R4X3dyaXRlX3Jvb3Qoc3RydWN0IGlwbW11
X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
aW50MzJfdCByZWcsIHVpbnQzMl90IGRhdGEpCit7CisgICAgaXBtbXVfd3JpdGUoZG9tYWluLT5t
bXUtPnJvb3QsCisgICAgICAgICAgICAgICAgZG9tYWluLT5jb250ZXh0X2lkICogSU1fQ1RYX1NJ
WkUgKyByZWcsIGRhdGEpOworfQorCitzdGF0aWMgdm9pZCBpcG1tdV9jdHhfd3JpdGVfY2FjaGUo
c3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdWludDMyX3QgcmVnLCB1aW50MzJfdCBkYXRhKQoreworICAgIC8qIFdlIGV4
cGVjdCBvbmx5IElNQ1RSIHZhbHVlIHRvIGJlIHBhc3NlZCBhcyBhIHJlZy4gKi8KKyAgICBBU1NF
UlQocmVnID09IElNQ1RSKTsKKworICAgIC8qIE1hc2sgZmllbGRzIHdoaWNoIGFyZSBpbXBsZW1l
bnRlZCBpbiBJUE1NVS1NTSBvbmx5LiAqLworICAgIGlmICggIWlwbW11X2lzX3Jvb3QoZG9tYWlu
LT5tbXUpICkKKyAgICAgICAgaXBtbXVfd3JpdGUoZG9tYWluLT5tbXUsIGRvbWFpbi0+Y29udGV4
dF9pZCAqIElNX0NUWF9TSVpFICsgcmVnLAorICAgICAgICAgICAgICAgICAgICBkYXRhICYgSU1D
VFJfQ09NTU9OX01BU0spOworfQorCisvKgorICogV3JpdGUgdGhlIGNvbnRleHQgdG8gYm90aCBS
b290IElQTU1VIGFuZCBhbGwgQ2FjaGUgSVBNTVVzIGFzc2lnbmVkCisgKiB0byB0aGlzIFhlbiBk
b21haW4uCisgKi8KK3N0YXRpYyB2b2lkIGlwbW11X2N0eF93cml0ZV9hbGwoc3RydWN0IGlwbW11
X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQzMl90IHJlZywgdWludDMyX3QgZGF0YSkKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5f
ZG9tYWluICp4ZW5fZG9tYWluID0gZG9tX2lvbW11KGRvbWFpbi0+ZCktPmFyY2gucHJpdjsKKyAg
ICBzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmNhY2hlX2RvbWFpbjsKKworICAgIGxpc3RfZm9y
X2VhY2hfZW50cnkoIGNhY2hlX2RvbWFpbiwgJnhlbl9kb21haW4tPmNhY2hlX2RvbWFpbnMsIGxp
c3QgKQorICAgICAgICBpcG1tdV9jdHhfd3JpdGVfY2FjaGUoY2FjaGVfZG9tYWluLCByZWcsIGRh
dGEpOworCisgICAgaXBtbXVfY3R4X3dyaXRlX3Jvb3QoZG9tYWluLCByZWcsIGRhdGEpOworfQor
CisvKiBUTEIgYW5kIG1pY3JvLVRMQiBNYW5hZ2VtZW50ICovCisKKy8qIFdhaXQgZm9yIGFueSBw
ZW5kaW5nIFRMQiBpbnZhbGlkYXRpb25zIHRvIGNvbXBsZXRlLiAqLworc3RhdGljIHZvaWQgaXBt
bXVfdGxiX3N5bmMoc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4pCit7CisgICAgdW5z
aWduZWQgaW50IGNvdW50ID0gMDsKKworICAgIHdoaWxlICggaXBtbXVfY3R4X3JlYWRfcm9vdChk
b21haW4sIElNQ1RSKSAmIElNQ1RSX0ZMVVNIICkKKyAgICB7CisgICAgICAgIGNwdV9yZWxheCgp
OworICAgICAgICBpZiAoICsrY291bnQgPT0gVExCX0xPT1BfVElNRU9VVCApCisgICAgICAgIHsK
KyAgICAgICAgICAgIGRldl9lcnJfcmF0ZWxpbWl0ZWQoZG9tYWluLT5tbXUtPmRldiwgIlRMQiBz
eW5jIHRpbWVkIG91dCAtLSBNTVUgbWF5IGJlIGRlYWRsb2NrZWRcbiIpOworICAgICAgICAgICAg
cmV0dXJuOworICAgICAgICB9CisgICAgICAgIHVkZWxheSgxKTsKKyAgICB9Cit9CisKK3N0YXRp
YyB2b2lkIGlwbW11X3RsYl9pbnZhbGlkYXRlKHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqZG9t
YWluKQoreworICAgIHVpbnQzMl90IGRhdGE7CisKKyAgICBkYXRhID0gaXBtbXVfY3R4X3JlYWRf
cm9vdChkb21haW4sIElNQ1RSKTsKKyAgICBkYXRhIHw9IElNQ1RSX0ZMVVNIOworICAgIGlwbW11
X2N0eF93cml0ZV9hbGwoZG9tYWluLCBJTUNUUiwgZGF0YSk7CisKKyAgICBpcG1tdV90bGJfc3lu
Yyhkb21haW4pOworfQorCisvKiBFbmFibGUgTU1VIHRyYW5zbGF0aW9uIGZvciB0aGUgbWljcm8t
VExCLiAqLworc3RhdGljIHZvaWQgaXBtbXVfdXRsYl9lbmFibGUoc3RydWN0IGlwbW11X3Ztc2Ff
ZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBp
bnQgdXRsYikKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IGRvbWFpbi0+
bW11OworCisgICAgLyoKKyAgICAgKiBUT0RPOiBSZWZlcmVuY2UtY291bnQgdGhlIG1pY3JvLVRM
QiBhcyBzZXZlcmFsIGJ1cyBtYXN0ZXJzIGNhbiBiZQorICAgICAqIGNvbm5lY3RlZCB0byB0aGUg
c2FtZSBtaWNyby1UTEIuIFByZXZlbnQgdGhlIHVzZSBjYXNlcyB3aGVyZQorICAgICAqIHRoZSBz
YW1lIG1pY3JvLVRMQiBjb3VsZCBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBYZW4gZG9tYWlu
cy4KKyAgICAgKi8KKyAgICBpcG1tdV93cml0ZShtbXUsIElNVUFTSUQodXRsYiksIDApOworICAg
IGlwbW11X3dyaXRlKG1tdSwgSU1VQ1RSKHV0bGIpLCBpcG1tdV9yZWFkKG1tdSwgSU1VQ1RSKHV0
bGIpKSB8CisgICAgICAgICAgICAgICAgSU1VQ1RSX1RUU0VMX01NVShkb21haW4tPmNvbnRleHRf
aWQpIHwgSU1VQ1RSX01NVUVOKTsKK30KKworLyogRGlzYWJsZSBNTVUgdHJhbnNsYXRpb24gZm9y
IHRoZSBtaWNyby1UTEIuICovCitzdGF0aWMgdm9pZCBpcG1tdV91dGxiX2Rpc2FibGUoc3RydWN0
IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgaW50IHV0bGIpCit7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICpt
bXUgPSBkb21haW4tPm1tdTsKKworICAgIGlwbW11X3dyaXRlKG1tdSwgSU1VQ1RSKHV0bGIpLCAw
KTsKK30KKworLyogRG9tYWluL0NvbnRleHQgTWFuYWdlbWVudCAqLworc3RhdGljIGludCBpcG1t
dV9kb21haW5fYWxsb2NhdGVfY29udGV4dChzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGlwbW11X3Zt
c2FfZG9tYWluICpkb21haW4pCit7CisgICAgdW5zaWduZWQgbG9uZyBmbGFnczsKKyAgICBpbnQg
cmV0OworCisgICAgc3Bpbl9sb2NrX2lycXNhdmUoJm1tdS0+bG9jaywgZmxhZ3MpOworCisgICAg
cmV0ID0gZmluZF9maXJzdF96ZXJvX2JpdChtbXUtPmN0eCwgbW11LT5udW1fY3R4KTsKKyAgICBp
ZiAoIHJldCAhPSBtbXUtPm51bV9jdHggKQorICAgIHsKKyAgICAgICAgbW11LT5kb21haW5zW3Jl
dF0gPSBkb21haW47CisgICAgICAgIHNldF9iaXQocmV0LCBtbXUtPmN0eCk7CisgICAgfQorICAg
IGVsc2UKKyAgICAgICAgcmV0ID0gLUVCVVNZOworCisgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9y
ZSgmbW11LT5sb2NrLCBmbGFncyk7CisKKyAgICByZXR1cm4gcmV0OworfQorCitzdGF0aWMgdm9p
ZCBpcG1tdV9kb21haW5fZnJlZV9jb250ZXh0KHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11
LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgY29u
dGV4dF9pZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIGZsYWdzOworCisgICAgc3Bpbl9sb2NrX2ly
cXNhdmUoJm1tdS0+bG9jaywgZmxhZ3MpOworCisgICAgY2xlYXJfYml0KGNvbnRleHRfaWQsIG1t
dS0+Y3R4KTsKKyAgICBtbXUtPmRvbWFpbnNbY29udGV4dF9pZF0gPSBOVUxMOworCisgICAgc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZSgmbW11LT5sb2NrLCBmbGFncyk7Cit9CisKK3N0YXRpYyBpbnQg
aXBtbXVfZG9tYWluX2luaXRfY29udGV4dChzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFp
bikKK3sKKyAgICB1aW50NjRfdCB0dGJyOworICAgIHVpbnQzMl90IHRzejA7CisgICAgaW50IHJl
dDsKKworICAgIC8qIEZpbmQgYW4gdW51c2VkIGNvbnRleHQuICovCisgICAgcmV0ID0gaXBtbXVf
ZG9tYWluX2FsbG9jYXRlX2NvbnRleHQoZG9tYWluLT5tbXUtPnJvb3QsIGRvbWFpbik7CisgICAg
aWYgKCByZXQgPCAwICkKKyAgICAgICAgcmV0dXJuIHJldDsKKworICAgIGRvbWFpbi0+Y29udGV4
dF9pZCA9IHJldDsKKworICAgIC8qCisgICAgICogVFRCUjAKKyAgICAgKiBVc2UgUDJNIHRhYmxl
IGZvciB0aGlzIFhlbiBkb21haW4uCisgICAgICovCisgICAgQVNTRVJUKGRvbWFpbi0+ZCAhPSBO
VUxMKTsKKyAgICB0dGJyID0gcGFnZV90b19tYWRkcihkb21haW4tPmQtPmFyY2gucDJtLnJvb3Qp
OworCisgICAgZGV2X2luZm8oZG9tYWluLT5tbXUtPnJvb3QtPmRldiwgIiVwZDogU2V0IElQTU1V
IGNvbnRleHQgJXUgKHBnZCAweCUiUFJJeDY0IilcbiIsCisgICAgICAgICAgICAgZG9tYWluLT5k
LCBkb21haW4tPmNvbnRleHRfaWQsIHR0YnIpOworCisgICAgaXBtbXVfY3R4X3dyaXRlX3Jvb3Qo
ZG9tYWluLCBJTVRUTEJSMCwgdHRiciAmIElNVFRMQlIwX1RUQlJfTUFTSyk7CisgICAgaXBtbXVf
Y3R4X3dyaXRlX3Jvb3QoZG9tYWluLCBJTVRUVUJSMCwgKHR0YnIgPj4gMzIpICYgSU1UVFVCUjBf
VFRCUl9NQVNLKTsKKworICAgIC8qCisgICAgICogVFRCQ1IKKyAgICAgKiBXZSB1c2UgbG9uZyBk
ZXNjcmlwdG9ycyBhbmQgYWxsb2NhdGUgdGhlIHdob2xlICJwMm1faXBhX2JpdHMiIElQQSBzcGFj
ZQorICAgICAqIHRvIFRUQlIwLiBVc2UgNEtCIHBhZ2UgZ3JhbnVsZS4gU3RhcnQgcGFnZSB0YWJs
ZSB3YWxrcyBhdCBmaXJzdCBsZXZlbC4KKyAgICAgKiBBbHdheXMgYnlwYXNzIHN0YWdlIDEgdHJh
bnNsYXRpb24uCisgICAgICovCisgICAgdHN6MCA9ICg2NCAtIHAybV9pcGFfYml0cykgPDwgSU1U
VEJDUl9UU1owX1NISUZUOworICAgIGlwbW11X2N0eF93cml0ZV9yb290KGRvbWFpbiwgSU1UVEJD
UiwgSU1UVEJDUl9FQUUgfCBJTVRUQkNSX1BNQiB8CisgICAgICAgICAgICAgICAgICAgICAgICAg
SU1UVEJDUl9TTDBfTFZMXzEgfCB0c3owKTsKKworICAgIC8qCisgICAgICogSU1TVFIKKyAgICAg
KiBDbGVhciBhbGwgaW50ZXJydXB0IGZsYWdzLgorICAgICAqLworICAgIGlwbW11X2N0eF93cml0
ZV9yb290KGRvbWFpbiwgSU1TVFIsIGlwbW11X2N0eF9yZWFkX3Jvb3QoZG9tYWluLCBJTVNUUikp
OworCisgICAgLyoKKyAgICAgKiBJTUNUUgorICAgICAqIEVuYWJsZSB0aGUgTU1VIGFuZCBpbnRl
cnJ1cHQgZ2VuZXJhdGlvbi4gVGhlIGxvbmctZGVzY3JpcHRvcgorICAgICAqIHRyYW5zbGF0aW9u
IHRhYmxlIGZvcm1hdCBkb2Vzbid0IHVzZSBURVggcmVtYXBwaW5nLiBEb24ndCBlbmFibGUgQUYK
KyAgICAgKiBzb2Z0d2FyZSBtYW5hZ2VtZW50IGFzIHdlIGhhdmUgbm8gdXNlIGZvciBpdC4gVXNl
IFZNU0F2OC02NCBtb2RlLgorICAgICAqIEVuYWJsZSB0aGUgY29udGV4dCBmb3IgUm9vdCBJUE1N
VSBvbmx5LiBGbHVzaCB0aGUgVExCIGFzIHJlcXVpcmVkCisgICAgICogd2hlbiBtb2RpZnlpbmcg
dGhlIGNvbnRleHQgcmVnaXN0ZXJzLgorICAgICAqLworICAgIGlwbW11X2N0eF93cml0ZV9yb290
KGRvbWFpbiwgSU1DVFIsCisgICAgICAgICAgICAgICAgICAgICAgICAgSU1DVFJfVkE2NCB8IElN
Q1RSX0lOVEVOIHwgSU1DVFJfRkxVU0ggfCBJTUNUUl9NTVVFTik7CisKKyAgICByZXR1cm4gMDsK
K30KKworc3RhdGljIHZvaWQgaXBtbXVfZG9tYWluX2Rlc3Ryb3lfY29udGV4dChzdHJ1Y3QgaXBt
bXVfdm1zYV9kb21haW4gKmRvbWFpbikKK3sKKyAgICBpZiAoICFkb21haW4tPm1tdSApCisgICAg
ICAgIHJldHVybjsKKworICAgIC8qCisgICAgICogRGlzYWJsZSB0aGUgY29udGV4dCBmb3IgUm9v
dCBJUE1NVSBvbmx5LiBGbHVzaCB0aGUgVExCIGFzIHJlcXVpcmVkCisgICAgICogd2hlbiBtb2Rp
ZnlpbmcgdGhlIGNvbnRleHQgcmVnaXN0ZXJzLgorICAgICAqLworICAgIGlwbW11X2N0eF93cml0
ZV9yb290KGRvbWFpbiwgSU1DVFIsIElNQ1RSX0ZMVVNIKTsKKyAgICBpcG1tdV90bGJfc3luYyhk
b21haW4pOworCisgICAgaXBtbXVfZG9tYWluX2ZyZWVfY29udGV4dChkb21haW4tPm1tdS0+cm9v
dCwgZG9tYWluLT5jb250ZXh0X2lkKTsKK30KKworLyogRmF1bHQgSGFuZGxpbmcgKi8KK3N0YXRp
YyB2b2lkIGlwbW11X2RvbWFpbl9pcnEoc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4p
Cit7CisgICAgY29uc3QgdWludDMyX3QgZXJyX21hc2sgPSBJTVNUUl9NSElUIHwgSU1TVFJfQUJP
UlQgfCBJTVNUUl9QRiB8IElNU1RSX1RGOworICAgIHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAq
bW11ID0gZG9tYWluLT5tbXU7CisgICAgdWludDMyX3Qgc3RhdHVzOworICAgIHVpbnQ2NF90IGlv
dmE7CisKKyAgICBzdGF0dXMgPSBpcG1tdV9jdHhfcmVhZF9yb290KGRvbWFpbiwgSU1TVFIpOwor
ICAgIGlmICggIShzdGF0dXMgJiBlcnJfbWFzaykgKQorICAgICAgICByZXR1cm47CisKKyAgICBp
b3ZhID0gaXBtbXVfY3R4X3JlYWRfcm9vdChkb21haW4sIElNRUxBUikgfAorICAgICAgICAoKHVp
bnQ2NF90KWlwbW11X2N0eF9yZWFkX3Jvb3QoZG9tYWluLCBJTUVVQVIpIDw8IDMyKTsKKworICAg
IC8qCisgICAgICogQ2xlYXIgdGhlIGVycm9yIHN0YXR1cyBmbGFncy4gVW5saWtlIHRyYWRpdGlv
bmFsIGludGVycnVwdCBmbGFnCisgICAgICogcmVnaXN0ZXJzIHRoYXQgbXVzdCBiZSBjbGVhcmVk
IGJ5IHdyaXRpbmcgMSwgdGhpcyBzdGF0dXMgcmVnaXN0ZXIKKyAgICAgKiBzZWVtcyB0byByZXF1
aXJlIDAuIFRoZSBlcnJvciBhZGRyZXNzIHJlZ2lzdGVyIG11c3QgYmUgcmVhZCBiZWZvcmUsCisg
ICAgICogb3RoZXJ3aXNlIGl0cyB2YWx1ZSB3aWxsIGJlIDAuCisgICAgICovCisgICAgaXBtbXVf
Y3R4X3dyaXRlX3Jvb3QoZG9tYWluLCBJTVNUUiwgMCk7CisKKyAgICAvKiBMb2cgZmF0YWwgZXJy
b3JzLiAqLworICAgIGlmICggc3RhdHVzICYgSU1TVFJfTUhJVCApCisgICAgICAgIGRldl9lcnJf
cmF0ZWxpbWl0ZWQobW11LT5kZXYsICIlcGQ6IE11bHRpcGxlIFRMQiBoaXRzIEAweCUiUFJJeDY0
IlxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21haW4tPmQsIGlvdmEpOworICAg
IGlmICggc3RhdHVzICYgSU1TVFJfQUJPUlQgKQorICAgICAgICBkZXZfZXJyX3JhdGVsaW1pdGVk
KG1tdS0+ZGV2LCAiJXBkOiBQYWdlIFRhYmxlIFdhbGsgQWJvcnQgQDB4JSJQUkl4NjQiXG4iLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+ZCwgaW92YSk7CisKKyAgICAvKiBS
ZXR1cm4gaWYgaXQgaXMgbmVpdGhlciBQZXJtaXNzaW9uIEZhdWx0IG5vciBUcmFuc2xhdGlvbiBG
YXVsdC4gKi8KKyAgICBpZiAoICEoc3RhdHVzICYgKElNU1RSX1BGIHwgSU1TVFJfVEYpKSApCisg
ICAgICAgIHJldHVybjsKKworICAgIGRldl9lcnJfcmF0ZWxpbWl0ZWQobW11LT5kZXYsICIlcGQ6
IFVuaGFuZGxlZCBmYXVsdDogc3RhdHVzIDB4JTA4eCBpb3ZhIDB4JSJQUkl4NjQiXG4iLAorICAg
ICAgICAgICAgICAgICAgICAgICAgZG9tYWluLT5kLCBzdGF0dXMsIGlvdmEpOworfQorCitzdGF0
aWMgdm9pZCBpcG1tdV9pcnEoaW50IGlycSwgdm9pZCAqZGV2LCBzdHJ1Y3QgY3B1X3VzZXJfcmVn
cyAqcmVncykKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IGRldjsKKyAg
ICB1bnNpZ25lZCBpbnQgaTsKKyAgICB1bnNpZ25lZCBsb25nIGZsYWdzOworCisgICAgc3Bpbl9s
b2NrX2lycXNhdmUoJm1tdS0+bG9jaywgZmxhZ3MpOworCisgICAgLyoKKyAgICAgKiBXaGVuIGlu
dGVycnVwdCBhcnJpdmVzLCB3ZSBkb24ndCBrbm93IHRoZSBjb250ZXh0IGl0IGlzIHJlbGF0ZWQg
dG8uCisgICAgICogU28sIGNoZWNrIGludGVycnVwdHMgZm9yIGFsbCBhY3RpdmUgY29udGV4dHMg
dG8gbG9jYXRlIGEgY29udGV4dAorICAgICAqIHdpdGggc3RhdHVzIGJpdHMgc2V0LgorICAgICov
CisgICAgZm9yICggaSA9IDA7IGkgPCBtbXUtPm51bV9jdHg7IGkrKyApCisgICAgeworICAgICAg
ICBpZiAoICFtbXUtPmRvbWFpbnNbaV0gKQorICAgICAgICAgICAgY29udGludWU7CisgICAgICAg
IGlwbW11X2RvbWFpbl9pcnEobW11LT5kb21haW5zW2ldKTsKKyAgICB9CisKKyAgICBzcGluX3Vu
bG9ja19pcnFyZXN0b3JlKCZtbXUtPmxvY2ssIGZsYWdzKTsKK30KKworLyogTWFzdGVyIGRldmlj
ZXMgbWFuYWdlbWVudCAqLworc3RhdGljIGludCBpcG1tdV9hdHRhY2hfZGV2aWNlKHN0cnVjdCBp
cG1tdV92bXNhX2RvbWFpbiAqZG9tYWluLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKyAgICBzdHJ1Y3QgaW9tbXVfZndzcGVjICpmd3NwZWMg
PSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYpOworICAgIHN0cnVjdCBpcG1tdV92bXNhX2Rldmlj
ZSAqbW11ID0gdG9faXBtbXUoZGV2KTsKKyAgICB1bnNpZ25lZCBpbnQgaTsKKworICAgIGlmICgg
IW1tdSApCisgICAgeworICAgICAgICBkZXZfZXJyKGRldiwgIkNhbm5vdCBhdHRhY2ggdG8gSVBN
TVVcbiIpOworICAgICAgICByZXR1cm4gLUVOWElPOworICAgIH0KKworICAgIGlmICggIWRvbWFp
bi0+bW11ICkKKyAgICB7CisgICAgICAgIC8qIFRoZSBkb21haW4gaGFzbid0IGJlZW4gdXNlZCB5
ZXQsIGluaXRpYWxpemUgaXQuICovCisgICAgICAgIGRvbWFpbi0+bW11ID0gbW11OworCisgICAg
ICAgIC8qCisgICAgICAgICAqIFdlIGhhdmUgYWxyZWFkeSBlbmFibGVkIGNvbnRleHQgZm9yIFJv
b3QgSVBNTVUgYXNzaWduZWQgdG8gdGhpcworICAgICAgICAgKiBYZW4gZG9tYWluIGluIGlwbW11
X2RvbWFpbl9pbml0X2NvbnRleHQoKS4KKyAgICAgICAgICogRW5hYmxlIHRoZSBjb250ZXh0IGZv
ciBDYWNoZSBJUE1NVSBvbmx5LiBGbHVzaCB0aGUgVExCIGFzIHJlcXVpcmVkCisgICAgICAgICAq
IHdoZW4gbW9kaWZ5aW5nIHRoZSBjb250ZXh0IHJlZ2lzdGVycy4KKyAgICAgICAgICovCisgICAg
ICAgIGlwbW11X2N0eF93cml0ZV9jYWNoZShkb21haW4sIElNQ1RSLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgaXBtbXVfY3R4X3JlYWRfcm9vdChkb21haW4sIElNQ1RSKSB8IElNQ1RS
X0ZMVVNIKTsKKworICAgICAgICBkZXZfaW5mbyhkZXYsICJVc2luZyBJUE1NVSBjb250ZXh0ICV1
XG4iLCBkb21haW4tPmNvbnRleHRfaWQpOworICAgIH0KKyAgICBlbHNlIGlmICggZG9tYWluLT5t
bXUgIT0gbW11ICkKKyAgICB7CisgICAgICAgIC8qCisgICAgICAgICAqIFNvbWV0aGluZyBpcyB3
cm9uZywgd2UgY2FuJ3QgYXR0YWNoIHR3byBtYXN0ZXIgZGV2aWNlcyB1c2luZworICAgICAgICAg
KiBkaWZmZXJlbnQgSU9NTVVzIHRvIHRoZSBzYW1lIElQTU1VIGRvbWFpbi4KKyAgICAgICAgICov
CisgICAgICAgIGRldl9lcnIoZGV2LCAiQ2FuJ3QgYXR0YWNoIElQTU1VICVzIHRvIGRvbWFpbiBv
biBJUE1NVSAlc1xuIiwKKyAgICAgICAgICAgICAgICBkZXZfbmFtZShtbXUtPmRldiksIGRldl9u
YW1lKGRvbWFpbi0+bW11LT5kZXYpKTsKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQor
ICAgIGVsc2UKKyAgICAgICAgZGV2X2luZm8oZGV2LCAiUmV1c2luZyBJUE1NVSBjb250ZXh0ICV1
XG4iLCBkb21haW4tPmNvbnRleHRfaWQpOworCisgICAgZm9yICggaSA9IDA7IGkgPCBmd3NwZWMt
Pm51bV9pZHM7ICsraSApCisgICAgICAgIGlwbW11X3V0bGJfZW5hYmxlKGRvbWFpbiwgZndzcGVj
LT5pZHNbaV0pOworCisgICAgcmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIGlwbW11X2RldGFj
aF9kZXZpY2Uoc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKyAgICBzdHJ1Y3QgaW9t
bXVfZndzcGVjICpmd3NwZWMgPSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYpOworICAgIHVuc2ln
bmVkIGludCBpOworCisgICAgZm9yICggaSA9IDA7IGkgPCBmd3NwZWMtPm51bV9pZHM7ICsraSAp
CisgICAgICAgIGlwbW11X3V0bGJfZGlzYWJsZShkb21haW4sIGZ3c3BlYy0+aWRzW2ldKTsKK30K
Kworc3RhdGljIGludCBpcG1tdV9pbml0X3BsYXRmb3JtX2RldmljZShzdHJ1Y3QgZGV2aWNlICpk
ZXYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBk
dF9waGFuZGxlX2FyZ3MgKmFyZ3MpCit7CisgICAgc3RydWN0IGlvbW11X2Z3c3BlYyAqZndzcGVj
ID0gZGV2X2lvbW11X2Z3c3BlY19nZXQoZGV2KTsKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZp
Y2UgKm1tdTsKKworICAgIG1tdSA9IGlwbW11X2ZpbmRfbW11X2J5X2RldihkdF90b19kZXYoYXJn
cy0+bnApKTsKKyAgICBpZiAoICFtbXUgKQorICAgICAgICByZXR1cm4gLUVOT0RFVjsKKworICAg
IGZ3c3BlYy0+aW9tbXVfcHJpdiA9IHh6YWxsb2Moc3RydWN0IGlwbW11X3Ztc2FfeGVuX2Rldmlj
ZSk7CisgICAgaWYgKCAhZndzcGVjLT5pb21tdV9wcml2ICkKKyAgICAgICAgcmV0dXJuIC1FTk9N
RU07CisKKyAgICBzZXRfaXBtbXUoZGV2LCBtbXUpOworCisgICAgcmV0dXJuIDA7Cit9CisKK3N0
YXRpYyB2b2lkIGlwbW11X2RldmljZV9yZXNldChzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1t
dSkKK3sKKyAgICB1bnNpZ25lZCBpbnQgaTsKKworICAgIC8qIERpc2FibGUgYWxsIGNvbnRleHRz
LiAqLworICAgIGZvciAoIGkgPSAwOyBpIDwgbW11LT5udW1fY3R4OyArK2kgKQorICAgICAgICBp
cG1tdV93cml0ZShtbXUsIGkgKiBJTV9DVFhfU0laRSArIElNQ1RSLCAwKTsKK30KKworLyogUi1D
YXIgR2VuMyBTb0NzIHByb2R1Y3QgYW5kIGN1dCBpbmZvcm1hdGlvbi4gKi8KKyNkZWZpbmUgUkNB
Ul9QUk9EVUNUX01BU0sgICAgMHgwMDAwN0YwMAorI2RlZmluZSBSQ0FSX1BST0RVQ1RfSDMgICAg
ICAweDAwMDA0RjAwCisjZGVmaW5lIFJDQVJfUFJPRFVDVF9NM1cgICAgIDB4MDAwMDUyMDAKKyNk
ZWZpbmUgUkNBUl9QUk9EVUNUX00zTiAgICAgMHgwMDAwNTUwMAorI2RlZmluZSBSQ0FSX0NVVF9N
QVNLICAgICAgICAweDAwMDAwMEZGCisjZGVmaW5lIFJDQVJfQ1VUX1ZFUjMwICAgICAgIDB4MDAw
MDAwMjAKKworc3RhdGljIF9faW5pdCBib29sIGlwbW11X3N0YWdlMl9zdXBwb3J0ZWQodm9pZCkK
K3sKKyAgICBzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgKm5wOworICAgIHVpbnQ2NF90IGFkZHIsIHNp
emU7CisgICAgdm9pZCBfX2lvbWVtICpiYXNlOworICAgIHVpbnQzMl90IHByb2R1Y3QsIGN1dDsK
KyAgICBib29sIHN0YWdlMl9zdXBwb3J0ZWQgPSBmYWxzZTsKKworICAgIG5wID0gZHRfZmluZF9j
b21wYXRpYmxlX25vZGUoTlVMTCwgTlVMTCwgInJlbmVzYXMscHJyIik7CisgICAgaWYgKCAhbnAg
KQorICAgIHsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgImlwbW11OiBGYWlsZWQgdG8gZmlu
ZCBQUlIgbm9kZVxuIik7CisgICAgICAgIHJldHVybiBmYWxzZTsKKyAgICB9CisKKyAgICBpZiAo
IGR0X2RldmljZV9nZXRfYWRkcmVzcyhucCwgMCwgJmFkZHIsICZzaXplKSApCisgICAgeworICAg
ICAgICBwcmludGsoWEVOTE9HX0VSUiAiaXBtbXU6IEZhaWxlZCB0byBnZXQgUFJSIE1NSU9cbiIp
OworICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgfQorCisgICAgYmFzZSA9IGlvcmVtYXBfbm9j
YWNoZShhZGRyLCBzaXplKTsKKyAgICBpZiAoICFiYXNlICkKKyAgICB7CisgICAgICAgIHByaW50
ayhYRU5MT0dfRVJSICJpcG1tdTogRmFpbGVkIHRvIGlvcmVtYXAgUFJSIE1NSU9cbiIpOworICAg
ICAgICByZXR1cm4gZmFsc2U7CisgICAgfQorCisgICAgcHJvZHVjdCA9IHJlYWRsKGJhc2UpOwor
ICAgIGN1dCA9IHByb2R1Y3QgJiBSQ0FSX0NVVF9NQVNLOworICAgIHByb2R1Y3QgJj0gUkNBUl9Q
Uk9EVUNUX01BU0s7CisKKyAgICBzd2l0Y2ggKCBwcm9kdWN0ICkKKyAgICB7CisgICAgY2FzZSBS
Q0FSX1BST0RVQ1RfSDM6CisgICAgY2FzZSBSQ0FSX1BST0RVQ1RfTTNXOgorICAgICAgICBpZiAo
IGN1dCA+PSBSQ0FSX0NVVF9WRVIzMCApCisgICAgICAgICAgICBzdGFnZTJfc3VwcG9ydGVkID0g
dHJ1ZTsKKyAgICAgICAgYnJlYWs7CisKKyAgICBjYXNlIFJDQVJfUFJPRFVDVF9NM046CisgICAg
ICAgIHN0YWdlMl9zdXBwb3J0ZWQgPSB0cnVlOworICAgICAgICBicmVhazsKKworICAgIGRlZmF1
bHQ6CisgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJpcG1tdTogVW5zdXBwb3J0ZWQgU29DIHZl
cnNpb25cbiIpOworICAgICAgICBicmVhazsKKyAgICB9CisKKyAgICBpb3VubWFwKGJhc2UpOwor
CisgICAgcmV0dXJuIHN0YWdlMl9zdXBwb3J0ZWQ7Cit9CisKKy8qCisgKiBUaGlzIGZ1bmN0aW9u
IHJlbGllcyBvbiB0aGUgZmFjdCB0aGF0IFJvb3QgSVBNTVUgZGV2aWNlIGlzIGJlaW5nIHByb2Jl
ZAorICogdGhlIGZpcnN0LiBJZiBub3QgdGhlIGNhc2UsIGl0IGRlbmllcyBmdXJ0aGVyIENhY2hl
IElQTU1VIGRldmljZSBwcm9iZXMKKyAqIChyZXR1cm5zIHRoZSAtRUFHQUlOKSB1bnRpbCB0aGUg
Um9vdCBJUE1NVSBkZXZpY2UgaGFzIGJlZW4gcmVnaXN0ZXJlZAorICogZm9yIHN1cmUuCisgKi8K
K3N0YXRpYyBpbnQgaXBtbXVfcHJvYmUoc3RydWN0IGR0X2RldmljZV9ub2RlICpub2RlKQorewor
ICAgIHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11OworICAgIHVpbnQ2NF90IGFkZHIsIHNp
emU7CisgICAgaW50IGlycSwgcmV0OworCisgICAgbW11ID0geHphbGxvYyhzdHJ1Y3QgaXBtbXVf
dm1zYV9kZXZpY2UpOworICAgIGlmICggIW1tdSApCisgICAgeworICAgICAgICBkZXZfZXJyKCZu
b2RlLT5kZXYsICJDYW5ub3QgYWxsb2NhdGUgZGV2aWNlIGRhdGFcbiIpOworICAgICAgICByZXR1
cm4gLUVOT01FTTsKKyAgICB9CisKKyAgICBtbXUtPmRldiA9ICZub2RlLT5kZXY7CisgICAgbW11
LT5udW1fdXRsYnMgPSBJUE1NVV9VVExCX01BWDsKKyAgICBtbXUtPm51bV9jdHggPSBJUE1NVV9D
VFhfTUFYOworICAgIHNwaW5fbG9ja19pbml0KCZtbXUtPmxvY2spOworICAgIGJpdG1hcF96ZXJv
KG1tdS0+Y3R4LCBJUE1NVV9DVFhfTUFYKTsKKworICAgIC8qIE1hcCBJL08gbWVtb3J5IGFuZCBy
ZXF1ZXN0IElSUS4gKi8KKyAgICByZXQgPSBkdF9kZXZpY2VfZ2V0X2FkZHJlc3Mobm9kZSwgMCwg
JmFkZHIsICZzaXplKTsKKyAgICBpZiAoIHJldCApCisgICAgeworICAgICAgICBkZXZfZXJyKCZu
b2RlLT5kZXYsICJGYWlsZWQgdG8gZ2V0IE1NSU9cbiIpOworICAgICAgICBnb3RvIG91dDsKKyAg
ICB9CisKKyAgICBtbXUtPmJhc2UgPSBpb3JlbWFwX25vY2FjaGUoYWRkciwgc2l6ZSk7CisgICAg
aWYgKCAhbW11LT5iYXNlICkKKyAgICB7CisgICAgICAgIGRldl9lcnIoJm5vZGUtPmRldiwgIkZh
aWxlZCB0byBpb3JlbWFwIE1NSU8gKGFkZHIgMHglIlBSSXg2NCIgc2l6ZSAweCUiUFJJeDY0Iilc
biIsCisgICAgICAgICAgICAgICAgYWRkciwgc2l6ZSk7CisgICAgICAgIHJldCA9IC1FTk9NRU07
CisgICAgICAgIGdvdG8gb3V0OworICAgIH0KKworICAgIC8qCisgICAgICogRGV0ZXJtaW5lIGlm
IHRoaXMgSVBNTVUgbm9kZSBpcyBhIFJvb3QgZGV2aWNlIGJ5IGNoZWNraW5nIGZvcgorICAgICAq
IHRoZSBsYWNrIG9mIHJlbmVzYXMsaXBtbXUtbWFpbiBwcm9wZXJ0eS4KKyAgICAgKi8KKyAgICBp
ZiAoICFkdF9maW5kX3Byb3BlcnR5KG5vZGUsICJyZW5lc2FzLGlwbW11LW1haW4iLCBOVUxMKSAp
CisgICAgICAgIG1tdS0+cm9vdCA9IG1tdTsKKyAgICBlbHNlCisgICAgICAgIG1tdS0+cm9vdCA9
IGlwbW11X2ZpbmRfcm9vdCgpOworCisgICAgLyogV2FpdCB1bnRpbCB0aGUgUm9vdCBkZXZpY2Ug
aGFzIGJlZW4gcmVnaXN0ZXJlZCBmb3Igc3VyZS4gKi8KKyAgICBpZiAoICFtbXUtPnJvb3QgKQor
ICAgIHsKKyAgICAgICAgcmV0ID0gLUVBR0FJTjsKKyAgICAgICAgZ290byBvdXQ7CisgICAgfQor
CisgICAgLyogUm9vdCBkZXZpY2VzIGhhdmUgbWFuZGF0b3J5IElSUXMuICovCisgICAgaWYgKCBp
cG1tdV9pc19yb290KG1tdSkgKQorICAgIHsKKyAgICAgICAgaWYgKCAhaXBtbXVfc3RhZ2UyX3N1
cHBvcnRlZCgpICkKKyAgICAgICAgeworICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgImlw
bW11OiBQMk0gc2hhcmluZyBpcyBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgU29DIHJldmlzaW9u
XG4iKTsKKyAgICAgICAgICAgIHJldCA9IC1FTk9ERVY7CisgICAgICAgICAgICBnb3RvIG91dDsK
KyAgICAgICAgfQorCisgICAgICAgIC8qCisgICAgICAgICAqIEFzIDQtbGV2ZWwgdHJhbnNsYXRp
b24gdGFibGUgaXMgbm90IHN1cHBvcnRlZCBpbiBJUE1NVSwgd2UgbmVlZAorICAgICAgICAgKiB0
byBjaGVjayBJUEEgc2l6ZSB1c2VkIGZvciBQMk0gdGFibGUgYmVmb3JlaGFuZCB0byBiZSBzdXJl
IGl0IGlzCisgICAgICAgICAqIDMtbGV2ZWwgYW5kIHRoZSBJUE1NVSB3aWxsIGJlIGFibGUgdG8g
dXNlIGl0LgorICAgICAgICAgKgorICAgICAgICAgKiBUT0RPOiBGaXJzdCBpbml0aWFsaXplIHRo
ZSBJT01NVSBhbmQgZ2F0aGVyIHRoZSByZXF1aXJlbWVudHMgYW5kCisgICAgICAgICAqIHRoZW4g
aW5pdGlhbGl6ZSB0aGUgUDJNLiBJbiB0aGUgUDJNIGNvZGUsIHRha2UgaW50byB0aGUgYWNjb3Vu
dAorICAgICAgICAgKiB0aGUgSU9NTVUgcmVxdWlyZW1lbnRzIGFuZCByZXN0cmljdCAicGFfcmFu
Z2UiIGlmIG5lY2Vzc2FyeS4KKyAgICAgICAgICovCisgICAgICAgIGlmICggSVBNTVVfTUFYX1Ay
TV9JUEFfQklUUyA8IHAybV9pcGFfYml0cyApCisgICAgICAgIHsKKyAgICAgICAgICAgIHByaW50
ayhYRU5MT0dfRVJSICJpcG1tdTogUDJNIElQQSBzaXplIGlzIG5vdCBzdXBwb3J0ZWQgKFAyTT0l
dSBJUE1NVT0ldSkhXG4iLAorICAgICAgICAgICAgICAgICAgIHAybV9pcGFfYml0cywgSVBNTVVf
TUFYX1AyTV9JUEFfQklUUyk7CisgICAgICAgICAgICByZXQgPSAtRU5PREVWOworICAgICAgICAg
ICAgZ290byBvdXQ7CisgICAgICAgIH0KKworICAgICAgICBpcnEgPSBwbGF0Zm9ybV9nZXRfaXJx
KG5vZGUsIDApOworICAgICAgICBpZiAoIGlycSA8IDAgKQorICAgICAgICB7CisgICAgICAgICAg
ICBkZXZfZXJyKCZub2RlLT5kZXYsICJObyBJUlEgZm91bmRcbiIpOworICAgICAgICAgICAgcmV0
ID0gaXJxOworICAgICAgICAgICAgZ290byBvdXQ7CisgICAgICAgIH0KKworICAgICAgICByZXQg
PSByZXF1ZXN0X2lycShpcnEsIDAsIGlwbW11X2lycSwgZGV2X25hbWUoJm5vZGUtPmRldiksIG1t
dSk7CisgICAgICAgIGlmICggcmV0IDwgMCApCisgICAgICAgIHsKKyAgICAgICAgICAgIGRldl9l
cnIoJm5vZGUtPmRldiwgIkZhaWxlZCB0byByZXF1ZXN0IElSUSAlZFxuIiwgaXJxKTsKKyAgICAg
ICAgICAgIGdvdG8gb3V0OworICAgICAgICB9CisKKyAgICAgICAgaXBtbXVfZGV2aWNlX3Jlc2V0
KG1tdSk7CisKKyAgICAgICAgLyoKKyAgICAgICAgICogVXNlIHN0YWdlIDIgdHJhbnNsYXRpb24g
dGFibGUgZm9ybWF0IHdoZW4gc3RhZ2UgMiB0cmFuc2xhdGlvbgorICAgICAgICAgKiBlbmFibGVk
LgorICAgICAgICAgKi8KKyAgICAgICAgaXBtbXVfd3JpdGUobW11LCBJTVNBVVhDVExSLAorICAg
ICAgICAgICAgICAgICAgICBpcG1tdV9yZWFkKG1tdSwgSU1TQVVYQ1RMUikgfCBJTVNBVVhDVExS
X1MyUFRFKTsKKworICAgICAgICBkZXZfaW5mbygmbm9kZS0+ZGV2LCAiSVBNTVUgY29udGV4dCAw
IGlzIHJlc2VydmVkXG4iKTsKKyAgICAgICAgc2V0X2JpdCgwLCBtbXUtPmN0eCk7CisgICAgfQor
CisgICAgc3Bpbl9sb2NrKCZpcG1tdV9kZXZpY2VzX2xvY2spOworICAgIGxpc3RfYWRkKCZtbXUt
Pmxpc3QsICZpcG1tdV9kZXZpY2VzKTsKKyAgICBzcGluX3VubG9jaygmaXBtbXVfZGV2aWNlc19s
b2NrKTsKKworICAgIGRldl9pbmZvKCZub2RlLT5kZXYsICJSZWdpc3RlcmVkICVzIElQTU1VXG4i
LAorICAgICAgICAgICAgIGlwbW11X2lzX3Jvb3QobW11KSA/ICJSb290IiA6ICJDYWNoZSIpOwor
CisgICAgcmV0dXJuIDA7CisKK291dDoKKyAgICBpZiAoIG1tdS0+YmFzZSApCisgICAgICAgIGlv
dW5tYXAobW11LT5iYXNlKTsKKyAgICB4ZnJlZShtbXUpOworCisgICAgcmV0dXJuIHJldDsKK30K
KworLyogWGVuIElPTU1VIG9wcyAqLworc3RhdGljIGludCBfX211c3RfY2hlY2sgaXBtbXVfaW90
bGJfZmx1c2hfYWxsKHN0cnVjdCBkb21haW4gKmQpCit7CisgICAgc3RydWN0IGlwbW11X3Ztc2Ff
eGVuX2RvbWFpbiAqeGVuX2RvbWFpbiA9IGRvbV9pb21tdShkKS0+YXJjaC5wcml2OworCisgICAg
aWYgKCAheGVuX2RvbWFpbiB8fCAheGVuX2RvbWFpbi0+cm9vdF9kb21haW4gKQorICAgICAgICBy
ZXR1cm4gMDsKKworICAgIHNwaW5fbG9jaygmeGVuX2RvbWFpbi0+bG9jayk7CisgICAgaXBtbXVf
dGxiX2ludmFsaWRhdGUoeGVuX2RvbWFpbi0+cm9vdF9kb21haW4pOworICAgIHNwaW5fdW5sb2Nr
KCZ4ZW5fZG9tYWluLT5sb2NrKTsKKworICAgIHJldHVybiAwOworfQorCitzdGF0aWMgaW50IF9f
bXVzdF9jaGVjayBpcG1tdV9pb3RsYl9mbHVzaChzdHJ1Y3QgZG9tYWluICpkLCBkZm5fdCBkZm4s
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQg
cGFnZV9jb3VudCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVu
c2lnbmVkIGludCBmbHVzaF9mbGFncykKK3sKKyAgICBBU1NFUlQoZmx1c2hfZmxhZ3MpOworCisg
ICAgLyogVGhlIGhhcmR3YXJlIGRvZXNuJ3Qgc3VwcG9ydCBzZWxlY3RpdmUgVExCIGZsdXNoLiAq
LworICAgIHJldHVybiBpcG1tdV9pb3RsYl9mbHVzaF9hbGwoZCk7Cit9CisKK3N0YXRpYyBzdHJ1
Y3QgaXBtbXVfdm1zYV9kb21haW4gKmlwbW11X2dldF9jYWNoZV9kb21haW4oc3RydWN0IGRvbWFp
biAqZCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpcG1tdV92bXNhX3hlbl9k
b21haW4gKnhlbl9kb21haW4gPSBkb21faW9tbXUoZCktPmFyY2gucHJpdjsKKyAgICBzdHJ1Y3Qg
aXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IHRvX2lwbW11KGRldik7CisgICAgc3RydWN0IGlwbW11
X3Ztc2FfZG9tYWluICpkb21haW47CisKKyAgICBpZiAoICFtbXUgKQorICAgICAgICByZXR1cm4g
TlVMTDsKKworICAgIC8qCisgICAgICogTG9vcCB0aHJvdWdoIGFsbCBDYWNoZSBJUE1NVSBkb21h
aW5zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIFhlbiBkb21haW4KKyAgICAgKiB0byBsb2NhdGUgYW4g
SVBNTVUgZG9tYWluIHRoaXMgSVBNTVUgZGV2aWNlIGlzIGFzc2lnbmVkIHRvLgorICAgICAqLwor
ICAgIGxpc3RfZm9yX2VhY2hfZW50cnkoIGRvbWFpbiwgJnhlbl9kb21haW4tPmNhY2hlX2RvbWFp
bnMsIGxpc3QgKQorICAgIHsKKyAgICAgICAgaWYgKCBkb21haW4tPm1tdSA9PSBtbXUgKQorICAg
ICAgICAgICAgcmV0dXJuIGRvbWFpbjsKKyAgICB9CisKKyAgICByZXR1cm4gTlVMTDsKK30KKwor
c3RhdGljIHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqaXBtbXVfYWxsb2NfY2FjaGVfZG9tYWlu
KHN0cnVjdCBkb21haW4gKmQpCit7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfeGVuX2RvbWFpbiAq
eGVuX2RvbWFpbiA9IGRvbV9pb21tdShkKS0+YXJjaC5wcml2OworICAgIHN0cnVjdCBpcG1tdV92
bXNhX2RvbWFpbiAqZG9tYWluOworCisgICAgZG9tYWluID0geHphbGxvYyhzdHJ1Y3QgaXBtbXVf
dm1zYV9kb21haW4pOworICAgIGlmICggIWRvbWFpbiApCisgICAgICAgIHJldHVybiBFUlJfUFRS
KC1FTk9NRU0pOworCisgICAgLyoKKyAgICAgKiBXZSBkb24ndCBhc3NpZ24gdGhlIENhY2hlIElQ
TU1VIGRldmljZSBoZXJlLCBpdCB3aWxsIGJlIGFzc2lnbmVkIHdoZW4KKyAgICAgKiBhdHRhY2hp
bmcgbWFzdGVyIGRldmljZSB0byB0aGlzIGRvbWFpbiBpbiBpcG1tdV9hdHRhY2hfZGV2aWNlKCku
CisgICAgICogZG9tYWluLT5tbXUgPSBOVUxMOworICAgICAqLworCisgICAgZG9tYWluLT5kID0g
ZDsKKyAgICAvKiBVc2UgdGhlIHNhbWUgY29udGV4dCBtYXBwZWQgdG8gdGhpcyBYZW4gZG9tYWlu
LiAqLworICAgIGRvbWFpbi0+Y29udGV4dF9pZCA9IHhlbl9kb21haW4tPnJvb3RfZG9tYWluLT5j
b250ZXh0X2lkOworCisgICAgcmV0dXJuIGRvbWFpbjsKK30KKworc3RhdGljIHZvaWQgaXBtbXVf
ZnJlZV9jYWNoZV9kb21haW4oc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4pCit7Cisg
ICAgbGlzdF9kZWwoJmRvbWFpbi0+bGlzdCk7CisgICAgLyoKKyAgICAgKiBEaXNhYmxlIHRoZSBj
b250ZXh0IGZvciBDYWNoZSBJUE1NVSBvbmx5LiBGbHVzaCB0aGUgVExCIGFzIHJlcXVpcmVkCisg
ICAgICogd2hlbiBtb2RpZnlpbmcgdGhlIGNvbnRleHQgcmVnaXN0ZXJzLgorICAgICAqLworICAg
IGlwbW11X2N0eF93cml0ZV9jYWNoZShkb21haW4sIElNQ1RSLCBJTUNUUl9GTFVTSCk7CisgICAg
eGZyZWUoZG9tYWluKTsKK30KKworc3RhdGljIHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqaXBt
bXVfYWxsb2Nfcm9vdF9kb21haW4oc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICBzdHJ1Y3QgaXBt
bXVfdm1zYV9kb21haW4gKmRvbWFpbjsKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKnJv
b3Q7CisgICAgaW50IHJldDsKKworICAgIC8qIElmIHdlIGFyZSBoZXJlIHRoZW4gUm9vdCBkZXZp
Y2UgbXVzdCBoYXMgYmVlbiByZWdpc3RlcmVkLiAqLworICAgIHJvb3QgPSBpcG1tdV9maW5kX3Jv
b3QoKTsKKyAgICBpZiAoICFyb290ICkKKyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0dfRVJS
ICJpcG1tdTogVW5hYmxlIHRvIGxvY2F0ZSBSb290IElQTU1VXG4iKTsKKyAgICAgICAgcmV0dXJu
IEVSUl9QVFIoLUVOT0RFVik7CisgICAgfQorCisgICAgZG9tYWluID0geHphbGxvYyhzdHJ1Y3Qg
aXBtbXVfdm1zYV9kb21haW4pOworICAgIGlmICggIWRvbWFpbiApCisgICAgICAgIHJldHVybiBF
UlJfUFRSKC1FTk9NRU0pOworCisgICAgZG9tYWluLT5tbXUgPSByb290OworICAgIGRvbWFpbi0+
ZCA9IGQ7CisKKyAgICAvKiBJbml0aWFsaXplIHRoZSBjb250ZXh0IHRvIGJlIG1hcHBlZCB0byB0
aGlzIFhlbiBkb21haW4uICovCisgICAgcmV0ID0gaXBtbXVfZG9tYWluX2luaXRfY29udGV4dChk
b21haW4pOworICAgIGlmICggcmV0IDwgMCApCisgICAgeworICAgICAgICBkZXZfZXJyKHJvb3Qt
PmRldiwgIiVwZDogVW5hYmxlIHRvIGluaXRpYWxpemUgSVBNTVUgY29udGV4dFxuIiwgZCk7Cisg
ICAgICAgIHhmcmVlKGRvbWFpbik7CisgICAgICAgIHJldHVybiBFUlJfUFRSKHJldCk7CisgICAg
fQorCisgICAgcmV0dXJuIGRvbWFpbjsKK30KKworc3RhdGljIHZvaWQgaXBtbXVfZnJlZV9yb290
X2RvbWFpbihzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbikKK3sKKyAgICBpcG1tdV9k
b21haW5fZGVzdHJveV9jb250ZXh0KGRvbWFpbik7CisgICAgeGZyZWUoZG9tYWluKTsKK30KKwor
c3RhdGljIGludCBpcG1tdV9hc3NpZ25fZGV2aWNlKHN0cnVjdCBkb21haW4gKmQsIHU4IGRldmZu
LCBzdHJ1Y3QgZGV2aWNlICpkZXYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlu
dDMyX3QgZmxhZykKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5fZG9tYWluICp4ZW5fZG9t
YWluID0gZG9tX2lvbW11KGQpLT5hcmNoLnByaXY7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZG9t
YWluICpkb21haW47CisgICAgaW50IHJldDsKKworICAgIGlmICggIXhlbl9kb21haW4gKQorICAg
ICAgICByZXR1cm4gLUVJTlZBTDsKKworICAgIGlmICggIXRvX2lwbW11KGRldikgKQorICAgICAg
ICByZXR1cm4gLUVOT0RFVjsKKworICAgIHNwaW5fbG9jaygmeGVuX2RvbWFpbi0+bG9jayk7CisK
KyAgICAvKgorICAgICAqIFRoZSBJUE1NVSBjb250ZXh0IGZvciB0aGUgWGVuIGRvbWFpbiBpcyBu
b3QgYWxsb2NhdGVkIGJlZm9yZWhhbmQKKyAgICAgKiAoYXQgdGhlIFhlbiBkb21haW4gY3JlYXRp
b24gdGltZSksIGJ1dCBvbiBkZW1hbmQgb25seSwgd2hlbiB0aGUgZmlyc3QKKyAgICAgKiBtYXN0
ZXIgZGV2aWNlIGJlaW5nIGF0dGFjaGVkIHRvIGl0LgorICAgICAqIENyZWF0ZSBSb290IElQTU1V
IGRvbWFpbiB3aGljaCBjb250ZXh0IHdpbGwgYmUgbWFwcGVkIHRvIHRoaXMgWGVuIGRvbWFpbgor
ICAgICAqIGlmIG5vdCBleGl0cyB5ZXQuCisgICAgICovCisgICAgaWYgKCAheGVuX2RvbWFpbi0+
cm9vdF9kb21haW4gKQorICAgIHsKKyAgICAgICAgZG9tYWluID0gaXBtbXVfYWxsb2Nfcm9vdF9k
b21haW4oZCk7CisgICAgICAgIGlmICggSVNfRVJSKGRvbWFpbikgKQorICAgICAgICB7CisgICAg
ICAgICAgICByZXQgPSBQVFJfRVJSKGRvbWFpbik7CisgICAgICAgICAgICBnb3RvIG91dDsKKyAg
ICAgICAgfQorCisgICAgICAgIHhlbl9kb21haW4tPnJvb3RfZG9tYWluID0gZG9tYWluOworICAg
IH0KKworICAgIGlmICggdG9fZG9tYWluKGRldikgKQorICAgIHsKKyAgICAgICAgZGV2X2Vycihk
ZXYsICJBbHJlYWR5IGF0dGFjaGVkIHRvIElQTU1VIGRvbWFpblxuIik7CisgICAgICAgIHJldCA9
IC1FRVhJU1Q7CisgICAgICAgIGdvdG8gb3V0OworICAgIH0KKworICAgIC8qCisgICAgICogTWFz
dGVyIGRldmljZXMgYmVoaW5kIHRoZSBzYW1lIENhY2hlIElQTU1VIGNhbiBiZSBhdHRhY2hlZCB0
byB0aGUgc2FtZQorICAgICAqIENhY2hlIElQTU1VIGRvbWFpbi4KKyAgICAgKiBCZWZvcmUgY3Jl
YXRpbmcgbmV3IElQTU1VIGRvbWFpbiBjaGVjayB0byBzZWUgaWYgdGhlIHJlcXVpcmVkIG9uZQor
ICAgICAqIGFscmVhZHkgZXhpc3RzIGZvciB0aGlzIFhlbiBkb21haW4uCisgICAgICovCisgICAg
ZG9tYWluID0gaXBtbXVfZ2V0X2NhY2hlX2RvbWFpbihkLCBkZXYpOworICAgIGlmICggIWRvbWFp
biApCisgICAgeworICAgICAgICAvKiBDcmVhdGUgbmV3IElQTU1VIGRvbWFpbiB0aGlzIG1hc3Rl
ciBkZXZpY2Ugd2lsbCBiZSBhdHRhY2hlZCB0by4gKi8KKyAgICAgICAgZG9tYWluID0gaXBtbXVf
YWxsb2NfY2FjaGVfZG9tYWluKGQpOworICAgICAgICBpZiAoIElTX0VSUihkb21haW4pICkKKyAg
ICAgICAgeworICAgICAgICAgICAgcmV0ID0gUFRSX0VSUihkb21haW4pOworICAgICAgICAgICAg
Z290byBvdXQ7CisgICAgICAgIH0KKworICAgICAgICAvKiBDaGFpbiBuZXcgSVBNTVUgZG9tYWlu
IHRvIHRoZSBYZW4gZG9tYWluLiAqLworICAgICAgICBsaXN0X2FkZCgmZG9tYWluLT5saXN0LCAm
eGVuX2RvbWFpbi0+Y2FjaGVfZG9tYWlucyk7CisgICAgfQorCisgICAgcmV0ID0gaXBtbXVfYXR0
YWNoX2RldmljZShkb21haW4sIGRldik7CisgICAgaWYgKCByZXQgKQorICAgIHsKKyAgICAgICAg
LyoKKyAgICAgICAgICogRGVzdHJveSBDYWNoZSBJUE1NVSBkb21haW4gb25seSBpZiB0aGVyZSBh
cmUgbm8gbWFzdGVyIGRldmljZXMKKyAgICAgICAgICogYXR0YWNoZWQgdG8gaXQuCisgICAgICAg
ICAqLworICAgICAgICBpZiAoICFkb21haW4tPnJlZmNvdW50ICkKKyAgICAgICAgICAgIGlwbW11
X2ZyZWVfY2FjaGVfZG9tYWluKGRvbWFpbik7CisgICAgfQorICAgIGVsc2UKKyAgICB7CisgICAg
ICAgIGRvbWFpbi0+cmVmY291bnQrKzsKKyAgICAgICAgc2V0X2RvbWFpbihkZXYsIGRvbWFpbik7
CisgICAgfQorCitvdXQ6CisgICAgc3Bpbl91bmxvY2soJnhlbl9kb21haW4tPmxvY2spOworCisg
ICAgcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBpcG1tdV9kZWFzc2lnbl9kZXZpY2Uoc3Ry
dWN0IGRvbWFpbiAqZCwgc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpcG1tdV92
bXNhX3hlbl9kb21haW4gKnhlbl9kb21haW4gPSBkb21faW9tbXUoZCktPmFyY2gucHJpdjsKKyAg
ICBzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbiA9IHRvX2RvbWFpbihkZXYpOworCisg
ICAgaWYgKCAhZG9tYWluIHx8IGRvbWFpbi0+ZCAhPSBkICkKKyAgICB7CisgICAgICAgIGRldl9l
cnIoZGV2LCAiTm90IGF0dGFjaGVkIHRvICVwZFxuIiwgZCk7CisgICAgICAgIHJldHVybiAtRVNS
Q0g7CisgICAgfQorCisgICAgc3Bpbl9sb2NrKCZ4ZW5fZG9tYWluLT5sb2NrKTsKKworICAgIGlw
bW11X2RldGFjaF9kZXZpY2UoZG9tYWluLCBkZXYpOworICAgIHNldF9kb21haW4oZGV2LCBOVUxM
KTsKKyAgICBkb21haW4tPnJlZmNvdW50LS07CisKKyAgICAvKgorICAgICAqIERlc3Ryb3kgQ2Fj
aGUgSVBNTVUgZG9tYWluIG9ubHkgaWYgdGhlcmUgYXJlIG5vIG1hc3RlciBkZXZpY2VzCisgICAg
ICogYXR0YWNoZWQgdG8gaXQuCisgICAgICovCisgICAgaWYgKCAhZG9tYWluLT5yZWZjb3VudCAp
CisgICAgICAgIGlwbW11X2ZyZWVfY2FjaGVfZG9tYWluKGRvbWFpbik7CisKKyAgICBzcGluX3Vu
bG9jaygmeGVuX2RvbWFpbi0+bG9jayk7CisKKyAgICByZXR1cm4gMDsKK30KKworc3RhdGljIGlu
dCBpcG1tdV9yZWFzc2lnbl9kZXZpY2Uoc3RydWN0IGRvbWFpbiAqcywgc3RydWN0IGRvbWFpbiAq
dCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU4IGRldmZuLCAgc3RydWN0IGRl
dmljZSAqZGV2KQoreworICAgIGludCByZXQgPSAwOworCisgICAgLyogRG9uJ3QgYWxsb3cgcmVt
YXBwaW5nIG9uIG90aGVyIGRvbWFpbiB0aGFuIGh3ZG9tICovCisgICAgaWYgKCB0ICYmIHQgIT0g
aGFyZHdhcmVfZG9tYWluICkKKyAgICAgICAgcmV0dXJuIC1FUEVSTTsKKworICAgIGlmICggdCA9
PSBzICkKKyAgICAgICAgcmV0dXJuIDA7CisKKyAgICByZXQgPSBpcG1tdV9kZWFzc2lnbl9kZXZp
Y2UocywgZGV2KTsKKyAgICBpZiAoIHJldCApCisgICAgICAgIHJldHVybiByZXQ7CisKKyAgICBp
ZiAoIHQgKQorICAgIHsKKyAgICAgICAgLyogTm8gZmxhZ3MgYXJlIGRlZmluZWQgZm9yIEFSTS4g
Ki8KKyAgICAgICAgcmV0ID0gaXBtbXVfYXNzaWduX2RldmljZSh0LCBkZXZmbiwgZGV2LCAwKTsK
KyAgICAgICAgaWYgKCByZXQgKQorICAgICAgICAgICAgcmV0dXJuIHJldDsKKyAgICB9CisKKyAg
ICByZXR1cm4gMDsKK30KKworc3RhdGljIGludCBpcG1tdV9kdF94bGF0ZShzdHJ1Y3QgZGV2aWNl
ICpkZXYsCisgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBkdF9waGFuZGxl
X2FyZ3MgKnNwZWMpCit7CisgICAgaW50IHJldDsKKworICAgIC8qCisgICAgICogUGVyZm9ybSBz
YW5pdHkgY2hlY2sgb2YgcGFzc2VkIERUIElPTU1VIHNwZWNpZmllci4gRWFjaCBtYXN0ZXIgZGV2
aWNlCisgICAgICogZ2V0cyBtaWNyby1UTEIgKGRldmljZSBJRCkgYXNzaWdubWVudCB2aWEgdGhl
ICJpb21tdXMiIHByb3BlcnR5CisgICAgICogaW4gRFQuIFdlIGV4cGVjdCAjaW9tbXUtY2VsbHMg
dG8gYmUgMSAoTXVsdGlwbGUtbWFzdGVyIElPTU1VKSBhbmQKKyAgICAgKiB0aGlzIGNlbGwgZm9y
IHRoZSBtaWNyby1UTEIgKGRldmljZSBJRCkuCisgICAgICovCisgICAgaWYgKCBzcGVjLT5hcmdz
X2NvdW50ICE9IDEgfHwgc3BlYy0+YXJnc1swXSA+PSBJUE1NVV9VVExCX01BWCApCisgICAgICAg
IHJldHVybiAtRUlOVkFMOworCisgICAgcmV0ID0gaW9tbXVfZndzcGVjX2FkZF9pZHMoZGV2LCBz
cGVjLT5hcmdzLCAxKTsKKyAgICBpZiAoIHJldCApCisgICAgICAgIHJldHVybiByZXQ7CisKKyAg
ICAvKiBJbml0aWFsaXplIG9uY2UgLSB4bGF0ZSgpIHdpbGwgY2FsbCBtdWx0aXBsZSB0aW1lcy4g
Ki8KKyAgICBpZiAoIHRvX2lwbW11KGRldikgKQorICAgICAgICByZXR1cm4gMDsKKworICAgIHJl
dHVybiBpcG1tdV9pbml0X3BsYXRmb3JtX2RldmljZShkZXYsIHNwZWMpOworfQorCitzdGF0aWMg
aW50IGlwbW11X2FkZF9kZXZpY2UodTggZGV2Zm4sIHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKyAg
ICBzdHJ1Y3QgaW9tbXVfZndzcGVjICpmd3NwZWMgPSBkZXZfaW9tbXVfZndzcGVjX2dldChkZXYp
OworCisgICAgLyogT25seSBsZXQgdGhyb3VnaCBkZXZpY2VzIHRoYXQgaGF2ZSBiZWVuIHZlcmlm
aWVkIGluIHhsYXRlKCkuICovCisgICAgaWYgKCAhdG9faXBtbXUoZGV2KSApCisgICAgICAgIHJl
dHVybiAtRU5PREVWOworCisgICAgaWYgKCBkdF9kZXZpY2VfaXNfcHJvdGVjdGVkKGRldl90b19k
dChkZXYpKSApCisgICAgeworICAgICAgICBkZXZfZXJyKGRldiwgIkFscmVhZHkgYWRkZWQgdG8g
SVBNTVVcbiIpOworICAgICAgICByZXR1cm4gLUVFWElTVDsKKyAgICB9CisKKyAgICAvKiBMZXQg
WGVuIGtub3cgdGhhdCB0aGUgbWFzdGVyIGRldmljZSBpcyBwcm90ZWN0ZWQgYnkgYW4gSU9NTVUu
ICovCisgICAgZHRfZGV2aWNlX3NldF9wcm90ZWN0ZWQoZGV2X3RvX2R0KGRldikpOworCisgICAg
ZGV2X2luZm8oZGV2LCAiQWRkZWQgbWFzdGVyIGRldmljZSAoSVBNTVUgJXMgbWljcm8tVExCcyAl
dSlcbiIsCisgICAgICAgICAgICAgZGV2X25hbWUoZndzcGVjLT5pb21tdV9kZXYpLCBmd3NwZWMt
Pm51bV9pZHMpOworCisgICAgcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgaXBtbXVfaW9tbXVf
ZG9tYWluX2luaXQoc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV94
ZW5fZG9tYWluICp4ZW5fZG9tYWluOworCisgICAgeGVuX2RvbWFpbiA9IHh6YWxsb2Moc3RydWN0
IGlwbW11X3Ztc2FfeGVuX2RvbWFpbik7CisgICAgaWYgKCAheGVuX2RvbWFpbiApCisgICAgICAg
IHJldHVybiAtRU5PTUVNOworCisgICAgc3Bpbl9sb2NrX2luaXQoJnhlbl9kb21haW4tPmxvY2sp
OworICAgIElOSVRfTElTVF9IRUFEKCZ4ZW5fZG9tYWluLT5jYWNoZV9kb21haW5zKTsKKyAgICAv
KgorICAgICAqIFdlIGRvbid0IGNyZWF0ZSBSb290IElQTU1VIGRvbWFpbiBoZXJlLCBpdCB3aWxs
IGJlIGNyZWF0ZWQgb24gZGVtYW5kCisgICAgICogb25seSwgd2hlbiBhdHRhY2hpbmcgdGhlIGZp
cnN0IG1hc3RlciBkZXZpY2UgdG8gdGhpcyBYZW4gZG9tYWluIGluCisgICAgICogaXBtbXVfYXNz
aWduX2RldmljZSgpLgorICAgICAqIHhlbl9kb21haW4tPnJvb3RfZG9tYWluID0gTlVMTDsKKyAg
ICAqLworCisgICAgZG9tX2lvbW11KGQpLT5hcmNoLnByaXYgPSB4ZW5fZG9tYWluOworCisgICAg
cmV0dXJuIDA7Cit9CisKK3N0YXRpYyB2b2lkIF9faHdkb21faW5pdCBpcG1tdV9pb21tdV9od2Rv
bV9pbml0KHN0cnVjdCBkb21haW4gKmQpCit7CisgICAgLyogU2V0IHRvIGZhbHNlIG9wdGlvbnMg
bm90IHN1cHBvcnRlZCBvbiBBUk0uICovCisgICAgaWYgKCBpb21tdV9od2RvbV9pbmNsdXNpdmUg
KQorICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgImlwbW11OiBtYXAtaW5jbHVzaXZlIGRv
bTAtaW9tbXUgb3B0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gQVJNXG4iKTsKKyAgICBpb21tdV9o
d2RvbV9pbmNsdXNpdmUgPSBmYWxzZTsKKyAgICBpZiAoIGlvbW11X2h3ZG9tX3Jlc2VydmVkID09
IDEgKQorICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5JTkcgImlwbW11OiBtYXAtcmVzZXJ2ZWQg
ZG9tMC1pb21tdSBvcHRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBUk1cbiIpOworICAgIGlvbW11
X2h3ZG9tX3Jlc2VydmVkID0gMDsKKworICAgIGFyY2hfaW9tbXVfaHdkb21faW5pdChkKTsKK30K
Kworc3RhdGljIHZvaWQgaXBtbXVfaW9tbXVfZG9tYWluX3RlYXJkb3duKHN0cnVjdCBkb21haW4g
KmQpCit7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfeGVuX2RvbWFpbiAqeGVuX2RvbWFpbiA9IGRv
bV9pb21tdShkKS0+YXJjaC5wcml2OworCisgICAgaWYgKCAheGVuX2RvbWFpbiApCisgICAgICAg
IHJldHVybjsKKworICAgIC8qCisgICAgICogRGVzdHJveSBSb290IElQTU1VIGRvbWFpbiB3aGlj
aCBjb250ZXh0IGlzIG1hcHBlZCB0byB0aGlzIFhlbiBkb21haW4KKyAgICAgKiBpZiBleGl0cy4K
KyAgICAgKi8KKyAgICBpZiAoIHhlbl9kb21haW4tPnJvb3RfZG9tYWluICkKKyAgICAgICAgaXBt
bXVfZnJlZV9yb290X2RvbWFpbih4ZW5fZG9tYWluLT5yb290X2RvbWFpbik7CisKKyAgICAvKgor
ICAgICAqIFdlIGFzc3VtZSB0aGF0IGFsbCBtYXN0ZXIgZGV2aWNlcyBoYXZlIGFscmVhZHkgYmVl
biBkZXRhY2hlZCBmcm9tCisgICAgICogdGhpcyBYZW4gZG9tYWluIGFuZCB0aGVyZSBtdXN0IGJl
IG5vIGFzc29jaWF0ZWQgQ2FjaGUgSVBNTVUgZG9tYWlucworICAgICAqIGluIHVzZS4KKyAgICAg
Ki8KKyAgICBBU1NFUlQobGlzdF9lbXB0eSgmeGVuX2RvbWFpbi0+Y2FjaGVfZG9tYWlucykpOwor
ICAgIHhmcmVlKHhlbl9kb21haW4pOworICAgIGRvbV9pb21tdShkKS0+YXJjaC5wcml2ID0gTlVM
TDsKK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCBpb21tdV9vcHMgaXBtbXVfaW9tbXVfb3BzID0K
K3sKKyAgICAuaW5pdCAgICAgICAgICAgID0gaXBtbXVfaW9tbXVfZG9tYWluX2luaXQsCisgICAg
Lmh3ZG9tX2luaXQgICAgICA9IGlwbW11X2lvbW11X2h3ZG9tX2luaXQsCisgICAgLnRlYXJkb3du
ICAgICAgICA9IGlwbW11X2lvbW11X2RvbWFpbl90ZWFyZG93biwKKyAgICAuaW90bGJfZmx1c2gg
ICAgID0gaXBtbXVfaW90bGJfZmx1c2gsCisgICAgLmlvdGxiX2ZsdXNoX2FsbCA9IGlwbW11X2lv
dGxiX2ZsdXNoX2FsbCwKKyAgICAuYXNzaWduX2RldmljZSAgID0gaXBtbXVfYXNzaWduX2Rldmlj
ZSwKKyAgICAucmVhc3NpZ25fZGV2aWNlID0gaXBtbXVfcmVhc3NpZ25fZGV2aWNlLAorICAgIC5t
YXBfcGFnZSAgICAgICAgPSBhcm1faW9tbXVfbWFwX3BhZ2UsCisgICAgLnVubWFwX3BhZ2UgICAg
ICA9IGFybV9pb21tdV91bm1hcF9wYWdlLAorICAgIC5kdF94bGF0ZSAgICAgICAgPSBpcG1tdV9k
dF94bGF0ZSwKKyAgICAuYWRkX2RldmljZSAgICAgID0gaXBtbXVfYWRkX2RldmljZSwKK307CisK
K3N0YXRpYyBjb25zdCBzdHJ1Y3QgZHRfZGV2aWNlX21hdGNoIGlwbW11X2R0X21hdGNoW10gX19p
bml0Y29uc3QgPQoreworICAgIERUX01BVENIX0NPTVBBVElCTEUoInJlbmVzYXMsaXBtbXUtcjhh
Nzc5NSIpLAorICAgIERUX01BVENIX0NPTVBBVElCTEUoInJlbmVzYXMsaXBtbXUtcjhhNzc5NjUi
KSwKKyAgICBEVF9NQVRDSF9DT01QQVRJQkxFKCJyZW5lc2FzLGlwbW11LXI4YTc3OTYiKSwKKyAg
ICB7IC8qIHNlbnRpbmVsICovIH0sCit9OworCitzdGF0aWMgX19pbml0IGludCBpcG1tdV9pbml0
KHN0cnVjdCBkdF9kZXZpY2Vfbm9kZSAqbm9kZSwgY29uc3Qgdm9pZCAqZGF0YSkKK3sKKyAgICBp
bnQgcmV0OworCisgICAgLyoKKyAgICAgKiBFdmVuIGlmIHRoZSBkZXZpY2UgY2FuJ3QgYmUgaW5p
dGlhbGl6ZWQsIHdlIGRvbid0IHdhbnQgdG8gZ2l2ZQorICAgICAqIHRoZSBJUE1NVSBkZXZpY2Ug
dG8gZG9tMC4KKyAgICAgKi8KKyAgICBkdF9kZXZpY2Vfc2V0X3VzZWRfYnkobm9kZSwgRE9NSURf
WEVOKTsKKworICAgIHJldCA9IGlwbW11X3Byb2JlKG5vZGUpOworICAgIGlmICggcmV0ICkKKyAg
ICB7CisgICAgICAgIGRldl9lcnIoJm5vZGUtPmRldiwgIkZhaWxlZCB0byBpbml0IElQTU1VICgl
ZClcbiIsIHJldCk7CisgICAgICAgIHJldHVybiByZXQ7CisgICAgfQorCisgICAgaW9tbXVfc2V0
X29wcygmaXBtbXVfaW9tbXVfb3BzKTsKKworICAgIHJldHVybiAwOworfQorCitEVF9ERVZJQ0Vf
U1RBUlQoaXBtbXUsICJSZW5lc2FzIElQTU1VLVZNU0EiLCBERVZJQ0VfSU9NTVUpCisgICAgLmR0
X21hdGNoID0gaXBtbXVfZHRfbWF0Y2gsCisgICAgLmluaXQgPSBpcG1tdV9pbml0LAorRFRfREVW
SUNFX0VORAorCisvKgorICogTG9jYWwgdmFyaWFibGVzOgorICogbW9kZTogQworICogYy1maWxl
LXN0eWxlOiAiQlNEIgorICogYy1iYXNpYy1vZmZzZXQ6IDQKKyAqIGluZGVudC10YWJzLW1vZGU6
IG5pbAorICogRW5kOgorICovCi0tIAoyLjcuNAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9s
aXN0aW5mby94ZW4tZGV2ZWw=

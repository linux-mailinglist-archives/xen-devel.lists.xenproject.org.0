Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 807AAB09E3
	for <lists+xen-devel@lfdr.de>; Thu, 12 Sep 2019 10:08:46 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i8K7f-0007mH-03; Thu, 12 Sep 2019 08:06:35 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=ncEf=XH=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1i8K7d-0007mC-EW
 for xen-devel@lists.xenproject.org; Thu, 12 Sep 2019 08:06:33 +0000
X-Inumbo-ID: 3abbd8f0-d534-11e9-b76c-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 3abbd8f0-d534-11e9-b76c-bc764e2007e4;
 Thu, 12 Sep 2019 08:06:31 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id AE040AE03;
 Thu, 12 Sep 2019 08:06:30 +0000 (UTC)
To: Andrew Cooper <andrew.cooper3@citrix.com>
References: <20190911200504.5693-1-andrew.cooper3@citrix.com>
 <20190911200504.5693-4-andrew.cooper3@citrix.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <8c6a368c-4409-dc6b-9b73-6e93b8fbd6e7@suse.com>
Date: Thu, 12 Sep 2019 10:06:30 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20190911200504.5693-4-andrew.cooper3@citrix.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 3/8] x86/domctl: Implement
 XEN_DOMCTL_set_cpumsr_policy
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Sergey Dyasli <sergey.dyasli@citrix.com>, Wei Liu <wl@xen.org>,
 Ian Jackson <Ian.Jackson@eu.citrix.com>,
 Xen-devel <xen-devel@lists.xenproject.org>,
 Daniel De Graaf <dgdegra@tycho.nsa.gov>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTEuMDkuMjAxOSAyMjowNCwgQW5kcmV3IENvb3BlciB3cm90ZToKPiAtLS0gYS90b29scy9s
aWJ4Yy94Y19jcHVpZF94ODYuYwo+ICsrKyBiL3Rvb2xzL2xpYnhjL3hjX2NwdWlkX3g4Ni5jCj4g
QEAgLTIyOSw2ICsyMjksNTUgQEAgaW50IHhjX2dldF9kb21haW5fY3B1X3BvbGljeSh4Y19pbnRl
cmZhY2UgKnhjaCwgdWludDMyX3QgZG9taWQsCj4gICAgICByZXR1cm4gcmV0Owo+ICB9Cj4gIAo+
ICtpbnQgeGNfc2V0X2RvbWFpbl9jcHVfcG9saWN5KHhjX2ludGVyZmFjZSAqeGNoLCB1aW50MzJf
dCBkb21pZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBucl9sZWF2
ZXMsIHhlbl9jcHVpZF9sZWFmX3QgKmxlYXZlcywKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50MzJfdCBucl9tc3JzLCB4ZW5fbXNyX2VudHJ5X3QgKm1zcnMsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgKmVycl9sZWFmX3AsIHVpbnQzMl90ICplcnJf
c3VibGVhZl9wLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90ICplcnJf
bXNyX2lkeF9wKQo+ICt7Cj4gKyAgICBERUNMQVJFX0RPTUNUTDsKPiArICAgIERFQ0xBUkVfSFlQ
RVJDQUxMX0JPVU5DRShsZWF2ZXMsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnJf
bGVhdmVzICogc2l6ZW9mKCpsZWF2ZXMpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFhDX0hZUEVSQ0FMTF9CVUZGRVJfQk9VTkNFX0lOKTsKPiArICAgIERFQ0xBUkVfSFlQRVJDQUxM
X0JPVU5DRShtc3JzLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5yX21zcnMgKiBz
aXplb2YoKm1zcnMpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFhDX0hZUEVSQ0FM
TF9CVUZGRVJfQk9VTkNFX0lOKTsKCldpdGggYm90aCBiZWluZyBJTiwgdGhlIHJlc3BlY3RpdmUg
ZnVuY3Rpb24gcGFyYW1ldGVycyBzaG91bGQgaW1vCmJlIHBvaW50ZXJzIHRvIGNvbnN0LgoKPiAr
ICAgIGludCByZXQ7Cj4gKwo+ICsgICAgaWYgKCB4Y19oeXBlcmNhbGxfYm91bmNlX3ByZSh4Y2gs
IGxlYXZlcykgKQo+ICsgICAgICAgIHJldHVybiAtMTsKPiArCj4gKyAgICBpZiAoIHhjX2h5cGVy
Y2FsbF9ib3VuY2VfcHJlKHhjaCwgbXNycykgKQo+ICsgICAgICAgIHJldHVybiAtMTsKPiArCj4g
KyAgICBkb21jdGwuY21kID0gWEVOX0RPTUNUTF9zZXRfY3B1X3BvbGljeTsKPiArICAgIGRvbWN0
bC5kb21haW4gPSBkb21pZDsKPiArICAgIGRvbWN0bC51LmNwdV9wb2xpY3kubnJfbGVhdmVzID0g
bnJfbGVhdmVzOwo+ICsgICAgc2V0X3hlbl9ndWVzdF9oYW5kbGUoZG9tY3RsLnUuY3B1X3BvbGlj
eS5jcHVpZF9wb2xpY3ksIGxlYXZlcyk7Cj4gKyAgICBkb21jdGwudS5jcHVfcG9saWN5Lm5yX21z
cnMgPSBucl9tc3JzOwo+ICsgICAgc2V0X3hlbl9ndWVzdF9oYW5kbGUoZG9tY3RsLnUuY3B1X3Bv
bGljeS5tc3JfcG9saWN5LCBtc3JzKTsKPiArICAgIGRvbWN0bC51LmNwdV9wb2xpY3kuZXJyX2xl
YWYgPSB+MDsKPiArICAgIGRvbWN0bC51LmNwdV9wb2xpY3kuZXJyX3N1YmxlYWYgPSB+MDsKPiAr
ICAgIGRvbWN0bC51LmNwdV9wb2xpY3kuZXJyX21zcl9pZHggPSB+MDsKClRoZSBmaWVsZHMgYXJl
IG1hcmtlZCBPVVQgb25seSBpbiB0aGUgcHVibGljIGhlYWRlciwgd2hpY2ggaW1wbGllcwpubyBp
bml0aWFsaXphdGlvbiBzaG91bGQgYmUgbmVlZGVkIGhlcmUsIGFzIHRoZSBoeXBlcmNhbGwgd291
bGQKb3ZlcndyaXRlIHRoZSBmaWVsZHMgaW4gYW55IGV2ZW50LgoKPiAtLS0gYS94ZW4vYXJjaC94
ODYvZG9tY3RsLmMKPiArKysgYi94ZW4vYXJjaC94ODYvZG9tY3RsLmMKPiBAQCAtMjk0LDYgKzI5
NCw2NSBAQCBzdGF0aWMgaW50IHVwZGF0ZV9kb21haW5fY3B1aWRfaW5mbyhzdHJ1Y3QgZG9tYWlu
ICpkLAo+ICAgICAgcmV0dXJuIDA7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbnQgdXBkYXRlX2RvbWFp
bl9jcHVfcG9saWN5KHN0cnVjdCBkb21haW4gKmQsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHhlbl9kb21jdGxfY3B1X3BvbGljeV90ICp4ZHBjKQo+ICt7Cj4gKyAgICBz
dHJ1Y3QgY3B1X3BvbGljeSBuZXcgPSB7fTsKPiArICAgIGNvbnN0IHN0cnVjdCBjcHVfcG9saWN5
ICpzeXMgPSBpc19wdl9kb21haW4oZCkKPiArICAgICAgICA/ICZzeXN0ZW1fcG9saWNpZXNbWEVO
X1NZU0NUTF9jcHVfcG9saWN5X3B2X21heF0KPiArICAgICAgICA6ICZzeXN0ZW1fcG9saWNpZXNb
WEVOX1NZU0NUTF9jcHVfcG9saWN5X2h2bV9tYXhdOwo+ICsgICAgc3RydWN0IGNwdV9wb2xpY3lf
ZXJyb3JzIGVyciA9IElOSVRfQ1BVX1BPTElDWV9FUlJPUlM7Cj4gKyAgICBpbnQgcmV0ID0gLUVO
T01FTTsKPiArCj4gKyAgICAvKiBTdGFydCBieSBjb3B5aW5nIHRoZSBkb21haW4ncyBleGlzdGlu
ZyBwb2xpY2llcy4gKi8KPiArICAgIGlmICggIShuZXcuY3B1aWQgPSB4bWVtZHVwKGQtPmFyY2gu
Y3B1aWQpKSB8fAo+ICsgICAgICAgICAhKG5ldy5tc3IgICA9IHhtZW1kdXAoZC0+YXJjaC5tc3Ip
KSApCgpUbyBhdm9pZCB0aGUgcmVkdW5kYW50IGluaXRpYWxpemF0aW9uLCB0aGlzIGNvdWxkIGFz
IHdlbGwgYmUgdGhlCmluaXRpYWxpemVyIG9mIHRoZSB2YXJpYWJsZS4KCj4gQEAgLTE0NzYsNiAr
MTUzNSwyNyBAQCBsb25nIGFyY2hfZG9fZG9tY3RsKAo+ICAgICAgICAgIGNvcHliYWNrID0gdHJ1
ZTsKPiAgICAgICAgICBicmVhazsKPiAgCj4gKyAgICBjYXNlIFhFTl9ET01DVExfc2V0X2NwdV9w
b2xpY3k6Cj4gKyAgICAgICAgaWYgKCBkID09IGN1cnJkICkgLyogTm8gZG9tYWluX3BhdXNlKCkg
Ki8KPiArICAgICAgICB7Cj4gKyAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7Cj4gKyAgICAgICAg
ICAgIGJyZWFrOwo+ICsgICAgICAgIH0KPiArCj4gKyAgICAgICAgZG9tYWluX3BhdXNlKGQpOwo+
ICsKPiArICAgICAgICBpZiAoIGQtPmNyZWF0aW9uX2ZpbmlzaGVkICkKPiArICAgICAgICAgICAg
cmV0ID0gLUVFWElTVDsgLyogTm8gY2hhbmdpbmcgb25jZSB0aGUgZG9tYWluIGlzIHJ1bm5pbmcu
ICovCj4gKyAgICAgICAgZWxzZQo+ICsgICAgICAgIHsKPiArICAgICAgICAgICAgcmV0ID0gdXBk
YXRlX2RvbWFpbl9jcHVfcG9saWN5KGQsICZkb21jdGwtPnUuY3B1X3BvbGljeSk7Cj4gKyAgICAg
ICAgICAgIGlmICggcmV0ICkgLyogQ29weSBkb21jdGwtPnUuY3B1X3BvbGljeS5lcnJfKiB0byBn
dWVzdC4gKi8KPiArICAgICAgICAgICAgICAgIGNvcHliYWNrID0gdHJ1ZTsKCkR1ZSB0byB0aGUg
T1VUIGluIHRoZSBwdWJsaWMgaGVhZGVyIEkgdGhpbmsgaXQgd291bGQgYmUgYmV0dGVyIHRvCmFs
d2F5cyBjb3B5IHRoaXMgYmFjayAobWFraW5nIHN1cmUgdGhlIGludmFsaWQgbWFya2VycyBhcmUg
aW4gcGxhY2UKaW4gY2FzZSBvZiBzdWNjZXNzKS4gQnV0IEkgZ3Vlc3Mgd2UncmUgbm90IHZlcnkg
Y29uc2lzdGVudCB3aXRoCmhvbm9yaW5nIE9VVCBsaWtlIHRoaXMuCgo+IC0tLSBhL3hlbi9pbmNs
dWRlL3B1YmxpYy9kb21jdGwuaAo+ICsrKyBiL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaAo+
IEBAIC02NTgsMTcgKzY1OCwyMyBAQCBzdHJ1Y3QgeGVuX2RvbWN0bF9jcHVpZCB7Cj4gIH07Cj4g
IAo+ICAvKgo+IC0gKiBYRU5fRE9NQ1RMX2dldF9jcHVfcG9saWN5ICh4ODYgc3BlY2lmaWMpCj4g
KyAqIFhFTl9ET01DVExfe2dldCxzZXR9X2NwdV9wb2xpY3kgKHg4NiBzcGVjaWZpYykKPiAgICoK
PiAtICogUXVlcnkgdGhlIENQVUlEIGFuZCBNU1IgcG9saWNpZXMgZm9yIGEgc3BlY2lmaWMgZG9t
YWluLgo+ICsgKiBRdWVyeSBvciBzZXQgdGhlIENQVUlEIGFuZCBNU1IgcG9saWNpZXMgZm9yIGEg
c3BlY2lmaWMgZG9tYWluLgo+ICAgKi8KPiAgc3RydWN0IHhlbl9kb21jdGxfY3B1X3BvbGljeSB7
Cj4gICAgICB1aW50MzJfdCBucl9sZWF2ZXM7IC8qIElOL09VVDogTnVtYmVyIG9mIGxlYXZlcyBp
bi93cml0dGVuIHRvCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAqICdjcHVpZF9wb2xpY3kn
LiAqLwo+ICAgICAgdWludDMyX3QgbnJfbXNyczsgICAvKiBJTi9PVVQ6IE51bWJlciBvZiBNU1Jz
IGluL3dyaXR0ZW4gdG8KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICogJ21zcl9kb21haW5f
cG9saWN5JyAqLwo+IC0gICAgWEVOX0dVRVNUX0hBTkRMRV82NCh4ZW5fY3B1aWRfbGVhZl90KSBj
cHVpZF9wb2xpY3k7IC8qIE9VVCAqLwo+IC0gICAgWEVOX0dVRVNUX0hBTkRMRV82NCh4ZW5fbXNy
X2VudHJ5X3QpIG1zcl9wb2xpY3k7ICAgIC8qIE9VVCAqLwo+ICsgICAgWEVOX0dVRVNUX0hBTkRM
RV82NCh4ZW5fY3B1aWRfbGVhZl90KSBjcHVpZF9wb2xpY3k7IC8qIElOL09VVCAqLwo+ICsgICAg
WEVOX0dVRVNUX0hBTkRMRV82NCh4ZW5fbXNyX2VudHJ5X3QpIG1zcl9wb2xpY3k7ICAgIC8qIElO
L09VVCAqLwo+ICsgICAgdWludDMyX3QgZXJyX2xlYWYsIGVycl9zdWJsZWFmOyAvKiBPVVQsIHNl
dF9wb2xpY3kgb25seS4gIElmIG5vdCB+MCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICogaW5kaWNhdGVzIHRoZSBsZWFmL3N1YmxlYWYgd2hpY2gKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICogYXVkaXRpbmcgb2JqZWN0ZWQgdG8uICovCj4g
KyAgICB1aW50MzJfdCBlcnJfbXNyX2lkeDsgICAgICAgICAgIC8qIE9VVCwgc2V0X3BvbGljeSBv
bmx5LiAgSWYgbm90IH4wLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
KiBpbmRpY2F0ZXMgdGhlIE1TUiBpZHggd2hpY2gKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICogYXVkaXRpbmcgb2JqZWN0ZWQgdG8uICovCj4gIH07Cj4gIHR5cGVkZWYg
c3RydWN0IHhlbl9kb21jdGxfY3B1X3BvbGljeSB4ZW5fZG9tY3RsX2NwdV9wb2xpY3lfdDsKPiAg
REVGSU5FX1hFTl9HVUVTVF9IQU5ETEUoeGVuX2RvbWN0bF9jcHVfcG9saWN5X3QpOwoKSSBrbm93
IHlvdSdyZSBub3QgbGlraW5nIHRoZSBjb25jZXB0LCBidXQgWEVOX0RPTUNUTF9JTlRFUkZBQ0Vf
VkVSU0lPTgpoYXNuJ3QgYmVlbiBidW1wZWQgaW4gdGhpcyByZWxlYXNlIGN5Y2xlIHlldCwgYW5k
IGhlbmNlIGEgYmluYXJ5CmluY29tcGF0aWJsZSBjaGFuZ2UgbGlrZSB0aGlzIG9uZSBuZWVkcyB0
by4gV2l0aCBhdCBsZWFzdCB0aGlzIGxhc3QKYXNwZWN0IHRha2VuIGNhcmUgb2YsIGh5cGVydmlz
b3IgcGFydHMKUmV2aWV3ZWQtYnk6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4KCkph
bgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRl
dmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9s
aXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

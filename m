Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id F095C89C73
	for <lists+xen-devel@lfdr.de>; Mon, 12 Aug 2019 13:14:23 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hx8EP-0006lL-DZ; Mon, 12 Aug 2019 11:11:17 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=dIXR=WI=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hx8EN-0006lG-Tv
 for xen-devel@lists.xenproject.org; Mon, 12 Aug 2019 11:11:15 +0000
X-Inumbo-ID: e5d7a1fa-bcf1-11e9-8980-bc764e045a96
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTP
 id e5d7a1fa-bcf1-11e9-8980-bc764e045a96;
 Mon, 12 Aug 2019 11:11:14 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id E05B015AB;
 Mon, 12 Aug 2019 04:11:13 -0700 (PDT)
Received: from [10.1.196.50] (e108454-lin.cambridge.arm.com [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 539F23F706;
 Mon, 12 Aug 2019 04:11:13 -0700 (PDT)
To: Oleksandr Tyshchenko <olekstysh@gmail.com>, xen-devel@lists.xenproject.org
References: <1564763985-20312-1-git-send-email-olekstysh@gmail.com>
 <1564763985-20312-3-git-send-email-olekstysh@gmail.com>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <3c6d54f2-06ad-6bd1-447b-0e4cbef3d391@arm.com>
Date: Mon, 12 Aug 2019 12:11:12 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <1564763985-20312-3-git-send-email-olekstysh@gmail.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH V2 2/6] iommu/arm: Add ability to handle
 deferred probing request
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>,
 sstabellini@kernel.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgT2xla3NhbmRyLAoKT24gMDIvMDgvMjAxOSAxNzozOSwgT2xla3NhbmRyIFR5c2hjaGVua28g
d3JvdGU6Cj4gRnJvbTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtv
QGVwYW0uY29tPgo+IAo+IFRoaXMgcGF0Y2ggYWRkcyBtaW5pbWFsIHJlcXVpcmVkIHN1cHBvcnQg
dG8gR2VuZXJhbCBJT01NVSBmcmFtZXdvcmsKPiB0byBiZSBhYmxlIHRvIGhhbmRsZSBhIGNhc2Ug
d2hlbiBJT01NVSBkcml2ZXIgcmVxdWVzdGluZyBkZWZlcnJlZAo+IHByb2JpbmcgZm9yIGEgZGV2
aWNlLgo+IAo+IEluIG9yZGVyIG5vdCB0byBwdWxsIExpbnV4J3MgZXJyb3IgY29kZSAoLUVQUk9C
RV9ERUZFUikgdG8gWGVuCj4gd2UgaGF2ZSBjaG9zZW4gLUVBR0FJTiB0byBiZSB1c2VkIGZvciBp
bmRpY2F0aW5nIHRoYXQgZGV2aWNlCj4gcHJvYmluZyBpcyBkZWZlcnJlZC4KPiAKPiBUaGlzIGlz
IG5lZWRlZCBmb3IgdGhlIHVwY29taW5nIElQTU1VIGRyaXZlciB3aGljaCBtYXkgcmVxdWVzdAo+
IGRlZmVycmVkIHByb2JpbmcgZGVwZW5kaW5nIG9uIHdoYXQgZGV2aWNlIHdpbGwgYmUgcHJvYmVk
IHRoZSBmaXJzdAo+ICh0aGVyZSBpcyBzb21lIGRlcGVuZGVuY3kgYmV0d2VlbiB0aGVzZSBkZXZp
Y2VzLCBSb290IGRldmljZSBtdXN0IGJlCj4gcmVnaXN0ZXJlZCBiZWZvcmUgQ2FjaGUgZGV2aWNl
cy4gSWYgbm90IHRoZSBjYXNlLCBkcml2ZXIgd2lsbCBkZW55Cj4gZnVydGhlciBDYWNoZSBkZXZp
Y2UgcHJvYmVzIHVudGlsIFJvb3QgZGV2aWNlIGlzIHJlZ2lzdGVyZWQpLgo+IEFzIHdlIGNhbid0
IGd1YXJhbnRlZSBhIGZpeGVkIHByZS1kZWZpbmVkIG9yZGVyIGZvciB0aGUgZGV2aWNlIG5vZGVz
Cj4gaW4gRFQsIHdlIG5lZWQgdG8gYmUgcmVhZHkgZm9yIHRoZSBzaXR1YXRpb24gd2hlcmUgZGV2
aWNlcyBiZWluZwo+IHByb2JlZCBpbiAiYW55IiBvcmRlci4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBP
bGVrc2FuZHIgVHlzaGNoZW5rbyA8b2xla3NhbmRyX3R5c2hjaGVua29AZXBhbS5jb20+Cj4gLS0t
Cj4gICB4ZW4vY29tbW9uL2RldmljZV90cmVlLmMgICAgICAgICAgICB8ICAxICsKPiAgIHhlbi9k
cml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21tdS5jIHwgMzUgKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKy0KPiAgIHhlbi9pbmNsdWRlL2FzbS1hcm0vZGV2aWNlLmggICAgICAgIHwg
IDYgKysrKystCj4gICB4ZW4vaW5jbHVkZS94ZW4vZGV2aWNlX3RyZWUuaCAgICAgICB8ICAxICsK
PiAgIDQgZmlsZXMgY2hhbmdlZCwgNDEgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKPiAK
PiBkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9kZXZpY2VfdHJlZS5jIGIveGVuL2NvbW1vbi9kZXZp
Y2VfdHJlZS5jCj4gaW5kZXggZTEwN2M2Zi4uNmYzNzQ0OCAxMDA2NDQKPiAtLS0gYS94ZW4vY29t
bW9uL2RldmljZV90cmVlLmMKPiArKysgYi94ZW4vY29tbW9uL2RldmljZV90cmVlLmMKPiBAQCAt
MTc3NCw2ICsxNzc0LDcgQEAgc3RhdGljIHVuc2lnbmVkIGxvbmcgX19pbml0IHVuZmxhdHRlbl9k
dF9ub2RlKGNvbnN0IHZvaWQgKmZkdCwKPiAgICAgICAgICAgLyogQnkgZGVmYXVsdCB0aGUgZGV2
aWNlIGlzIG5vdCBwcm90ZWN0ZWQgKi8KPiAgICAgICAgICAgbnAtPmlzX3Byb3RlY3RlZCA9IGZh
bHNlOwo+ICAgICAgICAgICBJTklUX0xJU1RfSEVBRCgmbnAtPmRvbWFpbl9saXN0KTsKPiArICAg
ICAgICBJTklUX0xJU1RfSEVBRCgmbnAtPmRlZmVycmVkX3Byb2JlKTsKCkkgYW0gbm90IGVudGly
ZWx5IGhhcHB5IHRvIGFkZCBhIG5ldyBsaXN0X2hlYWQgZmllbGQgcGVyIG5vZGUganVzdCBmb3Ig
dGhlIApiZW5lZml0cyBvZiBib290IGNvZGUuIENvdWxkIHdlIHJlLXVzZSBkb21haW5fbGlzdCAo
d2l0aCBhIGNvbW1lbnQgaW4gdGhlIGNvZGUgCmFuZCBhcHByb3ByaWF0ZSBBU1NFUlQpPwoKPiAg
IAo+ICAgICAgICAgICBpZiAoIG5ld19mb3JtYXQgKQo+ICAgICAgICAgICB7Cj4gZGlmZiAtLWdp
dCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21tdS5jIGIveGVuL2RyaXZlcnMvcGFz
c3Rocm91Z2gvYXJtL2lvbW11LmMKPiBpbmRleCAyMTM1MjMzLi4zMTk1OTE5IDEwMDY0NAo+IC0t
LSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FybS9pb21tdS5jCj4gKysrIGIveGVuL2RyaXZl
cnMvcGFzc3Rocm91Z2gvYXJtL2lvbW11LmMKPiBAQCAtMjAsNiArMjAsMTIgQEAKPiAgICNpbmNs
dWRlIDx4ZW4vZGV2aWNlX3RyZWUuaD4KPiAgICNpbmNsdWRlIDxhc20vZGV2aWNlLmg+Cj4gICAK
PiArLyoKPiArICogVXNlZCB0byBrZWVwIHRyYWNrIG9mIGRldmljZXMgZm9yIHdoaWNoIGRyaXZl
ciByZXF1ZXN0ZWQgZGVmZXJyZWQgcHJvYmluZwo+ICsgKiAocmV0dXJucyAtRUFHQUlOKS4KPiAr
ICovCj4gK3N0YXRpYyBMSVNUX0hFQUQoZGVmZXJyZWRfcHJvYmVfbGlzdCk7CgpUaGlzIHdhbnRz
IHRvIGJlIGluIGluaXQgc2VjdGlvbiBhcyB0aGlzIGlzIG9ubHkgdXNlZCBhdCBib290LgoKPiAr
Cj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGlvbW11X29wcyAqaW9tbXVfb3BzOwo+ICAgCj4gICBj
b25zdCBzdHJ1Y3QgaW9tbXVfb3BzICppb21tdV9nZXRfb3BzKHZvaWQpCj4gQEAgLTQyLDcgKzQ4
LDcgQEAgdm9pZCBfX2luaXQgaW9tbXVfc2V0X29wcyhjb25zdCBzdHJ1Y3QgaW9tbXVfb3BzICpv
cHMpCj4gICAKPiAgIGludCBfX2luaXQgaW9tbXVfaGFyZHdhcmVfc2V0dXAodm9pZCkKPiAgIHsK
PiAtICAgIHN0cnVjdCBkdF9kZXZpY2Vfbm9kZSAqbnA7Cj4gKyAgICBzdHJ1Y3QgZHRfZGV2aWNl
X25vZGUgKm5wLCAqdG1wOwo+ICAgICAgIGludCByYzsKPiAgICAgICB1bnNpZ25lZCBpbnQgbnVt
X2lvbW11cyA9IDA7Cj4gICAKPiBAQCAtNTEsNiArNTcsMzMgQEAgaW50IF9faW5pdCBpb21tdV9o
YXJkd2FyZV9zZXR1cCh2b2lkKQo+ICAgICAgICAgICByYyA9IGRldmljZV9pbml0KG5wLCBERVZJ
Q0VfSU9NTVUsIE5VTEwpOwo+ICAgICAgICAgICBpZiAoICFyYyApCj4gICAgICAgICAgICAgICBu
dW1faW9tbXVzKys7Cj4gKyAgICAgICAgZWxzZSBpZiAocmMgPT0gLUVBR0FJTikKPiArICAgICAg
ICAgICAgLyoKPiArICAgICAgICAgICAgICogRHJpdmVyIHJlcXVlc3RlZCBkZWZlcnJlZCBwcm9i
aW5nLCBzbyBhZGQgdGhpcyBkZXZpY2UgdG8KPiArICAgICAgICAgICAgICogdGhlIGRlZmVycmVk
IGxpc3QgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZy4KPiArICAgICAgICAgICAgICovCj4gKyAgICAg
ICAgICAgIGxpc3RfYWRkKCZucC0+ZGVmZXJyZWRfcHJvYmUsICZkZWZlcnJlZF9wcm9iZV9saXN0
KTsKPiArICAgIH0KPiArCj4gKyAgICAvKgo+ICsgICAgICogUHJvY2VzcyBkZXZpY2VzIGluIHRo
ZSBkZWZlcnJlZCBsaXN0IGlmIGF0IGxlYXN0IG9uZSBzdWNjZXNzZnVsbHkKPiArICAgICAqIHBy
b2JlZCBkZXZpY2UgaXMgcHJlc2VudC4KPiArICAgICAqLwoKSSB0aGluayB0aGlzIGNhbiB0dXJu
IGludG8gYW4gaW5maW5pdGUgbG9vcCBpZiBhbGwgZGV2aWNlIGluIGRlZmVycmVkX3Byb2JlX2xp
c3QgCnN0aWxsIHJldHVybiAtRURFRkVSX1BST0JFIGFuZCBudW1faW9tbXVzIGlzIGEgbm9uLXpl
cm8uCgpBIGJldHRlciBjb25kaXRpb24gd291bGQgYmUgdG8gY2hlY2sgdGhhdCBhdCBsZWFzdCBv
bmUgSU9NTVUgaXMgYWRkZWQgYXQgZWFjaCAKbG9vcC4gSWYgbm90LCB0aGVuIHdlIHNob3VsZCBi
YWlsIHdpdGggYW4gZXJyb3IgYmVjYXVzZSBpdCBsaWtlbHkgbWVhbnMgCnNvbWV0aGluZyBpcyBi
dWdneS4KCj4gKyAgICB3aGlsZSAoICFsaXN0X2VtcHR5KCZkZWZlcnJlZF9wcm9iZV9saXN0KSAm
JiBudW1faW9tbXVzICkKPiArICAgIHsKPiArICAgICAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5X3Nh
ZmUgKCBucCwgdG1wLCAmZGVmZXJyZWRfcHJvYmVfbGlzdCwKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkZWZlcnJlZF9wcm9iZSApCj4gKyAgICAgICAgewo+ICsgICAgICAg
ICAgICByYyA9IGRldmljZV9pbml0KG5wLCBERVZJQ0VfSU9NTVUsIE5VTEwpOwo+ICsgICAgICAg
ICAgICBpZiAoICFyYyApCj4gKyAgICAgICAgICAgICAgICBudW1faW9tbXVzKys7Cj4gKyAgICAg
ICAgICAgIGlmICggcmMgIT0gLUVBR0FJTiApCj4gKyAgICAgICAgICAgICAgICAvKgo+ICsgICAg
ICAgICAgICAgICAgICogRHJpdmVyIGRpZG4ndCByZXF1ZXN0IGRlZmVycmVkIHByb2JpbmcsIHNv
IHJlbW92ZSB0aGlzIGRldmljZQo+ICsgICAgICAgICAgICAgICAgICogZnJvbSB0aGUgZGVmZXJy
ZWQgbGlzdC4KPiArICAgICAgICAgICAgICAgICAqLwo+ICsgICAgICAgICAgICAgICAgbGlzdF9k
ZWxfaW5pdCgmbnAtPmRlZmVycmVkX3Byb2JlKTsKPiArICAgICAgICB9Cj4gICAgICAgfQo+ICAg
Cj4gICAgICAgcmV0dXJuICggbnVtX2lvbW11cyA+IDAgKSA/IDAgOiAtRU5PREVWOwo+IGRpZmYg
LS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL2RldmljZS5oIGIveGVuL2luY2x1ZGUvYXNtLWFy
bS9kZXZpY2UuaAo+IGluZGV4IDYzYTBmMzYuLmVlMWMzYmMgMTAwNjQ0Cj4gLS0tIGEveGVuL2lu
Y2x1ZGUvYXNtLWFybS9kZXZpY2UuaAo+ICsrKyBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vZGV2aWNl
LmgKPiBAQCAtNDQsNyArNDQsMTEgQEAgc3RydWN0IGRldmljZV9kZXNjIHsKPiAgICAgICBlbnVt
IGRldmljZV9jbGFzcyBjbGFzczsKPiAgICAgICAvKiBMaXN0IG9mIGRldmljZXMgc3VwcG9ydGVk
IGJ5IHRoaXMgZHJpdmVyICovCj4gICAgICAgY29uc3Qgc3RydWN0IGR0X2RldmljZV9tYXRjaCAq
ZHRfbWF0Y2g7Cj4gLSAgICAvKiBEZXZpY2UgaW5pdGlhbGl6YXRpb24gKi8KPiArICAgIC8qCj4g
KyAgICAgKiBEZXZpY2UgaW5pdGlhbGl6YXRpb24uCj4gKyAgICAgKgo+ICsgICAgICogLUVBR0FJ
TiBpcyB1c2VkIHRvIGluZGljYXRlIHRoYXQgZGV2aWNlIHByb2JpbmcgaXMgZGVmZXJyZWQuCj4g
KyAgICAgKi8KPiAgICAgICBpbnQgKCppbml0KShzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgKmRldiwg
Y29uc3Qgdm9pZCAqZGF0YSk7Cj4gICB9Owo+ICAgCj4gZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRl
L3hlbi9kZXZpY2VfdHJlZS5oIGIveGVuL2luY2x1ZGUveGVuL2RldmljZV90cmVlLmgKPiBpbmRl
eCA4MzE1NjI5Li43MWIwZTQ3IDEwMDY0NAo+IC0tLSBhL3hlbi9pbmNsdWRlL3hlbi9kZXZpY2Vf
dHJlZS5oCj4gKysrIGIveGVuL2luY2x1ZGUveGVuL2RldmljZV90cmVlLmgKPiBAQCAtOTMsNiAr
OTMsNyBAQCBzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgewo+ICAgICAgIC8qIElPTU1VIHNwZWNpZmlj
IGZpZWxkcyAqLwo+ICAgICAgIGJvb2wgaXNfcHJvdGVjdGVkOwo+ICAgICAgIHN0cnVjdCBsaXN0
X2hlYWQgZG9tYWluX2xpc3Q7Cj4gKyAgICBzdHJ1Y3QgbGlzdF9oZWFkIGRlZmVycmVkX3Byb2Jl
Owo+ICAgCj4gICAgICAgc3RydWN0IGRldmljZSBkZXY7Cj4gICB9Owo+IAoKQ2hlZXJzLAoKLS0g
Ckp1bGllbiBHcmFsbAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5v
cmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZl
bA==

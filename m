Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2F062FC6FF
	for <lists+xen-devel@lfdr.de>; Thu, 14 Nov 2019 14:10:22 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iVEqo-0007Ik-M8; Thu, 14 Nov 2019 13:07:54 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=KGQC=ZG=amazon.de=prvs=2141b557b=wipawel@srs-us1.protection.inumbo.net>)
 id 1iVEql-0007HA-UO
 for xen-devel@lists.xenproject.org; Thu, 14 Nov 2019 13:07:51 +0000
X-Inumbo-ID: bab05a40-06df-11ea-984a-bc764e2007e4
Received: from smtp-fw-6002.amazon.com (unknown [52.95.49.90])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id bab05a40-06df-11ea-984a-bc764e2007e4;
 Thu, 14 Nov 2019 13:07:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.de; i=@amazon.de; q=dns/txt; s=amazon201209;
 t=1573736857; x=1605272857;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version;
 bh=XvgFGo09xdjEQK8iiQt2PtY3qilVJB4adeN/W+RBgro=;
 b=YxzNWFUnSxAA5+zsAByxX9zm9PX1xOWpwLM1W7XMrap+SUQxGB67X6yD
 Vr9BCoCrAl3vKHqvVqrU7kBYNyKnPVjoL2I66k+61yHoCMJeR49H/Wh69
 z+uI8JC/c9ePgqhKj9XY9i2BGfIBWPp74EHq/kTfIaAaFT0VhPDXdzucI s=;
IronPort-SDR: 7Jg2FxdmiPLYxZtOaOT/beG8DqOBoOZHtPDg4Dj2tUWSrqPtaaQFplG15cvymbSrUdPyW9A2ls
 YER0dSAPoHrQ==
Received: from iad6-co-svc-p1-lb1-vlan3.amazon.com (HELO
 email-inbound-relay-1d-38ae4ad2.us-east-1.amazon.com) ([10.124.125.6])
 by smtp-border-fw-out-6002.iad6.amazon.com with ESMTP;
 14 Nov 2019 13:07:35 +0000
Received: from EX13MTAUEA001.ant.amazon.com
 (iad55-ws-svc-p15-lb9-vlan2.iad.amazon.com [10.40.159.162])
 by email-inbound-relay-1d-38ae4ad2.us-east-1.amazon.com (Postfix) with ESMTPS
 id C1A31A2BC6; Thu, 14 Nov 2019 13:07:30 +0000 (UTC)
Received: from EX13D03EUC001.ant.amazon.com (10.43.164.245) by
 EX13MTAUEA001.ant.amazon.com (10.43.61.82) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Thu, 14 Nov 2019 13:07:18 +0000
Received: from EX13MTAUWA001.ant.amazon.com (10.43.160.58) by
 EX13D03EUC001.ant.amazon.com (10.43.164.245) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Thu, 14 Nov 2019 05:07:17 -0800
Received: from dev-dsk-wipawel-1a-0c4e6d58.eu-west-1.amazon.com (10.4.134.33)
 by mail-relay.amazon.com (10.43.160.118) with Microsoft SMTP Server
 id
 15.0.1367.3 via Frontend Transport; Thu, 14 Nov 2019 13:07:13 +0000
From: Pawel Wieczorkiewicz <wipawel@amazon.de>
To: <xen-devel@lists.xenproject.org>
Date: Thu, 14 Nov 2019 13:06:43 +0000
Message-ID: <20191114130653.51185-3-wipawel@amazon.de>
X-Mailer: git-send-email 2.16.5
In-Reply-To: <20191114130653.51185-1-wipawel@amazon.de>
References: <20191114130653.51185-1-wipawel@amazon.de>
MIME-Version: 1.0
Precedence: Bulk
Subject: [Xen-devel] [PATCH v5 02/12] livepatch: Allow to override
 inter-modules buildid dependency
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>, Andrew
 Cooper <andrew.cooper3@citrix.com>, Ross Lagerwall <ross.lagerwall@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, mpohlack@amazon.com,
 Pawel Wieczorkiewicz <wipawel@amazon.de>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnkgZGVmYXVsdCBMaXZlcGF0Y2ggZW5mb3JjZXMgdGhlIGZvbGxvd2luZyBidWlsZGlkLWJhc2Vk
IGRlcGVuZGVuY3kKY2hhaW4gYmV0d2VlbiBsaXZlcGF0Y2ggbW9kdWxlczoKICAxKSBmaXJzdCBt
b2R1bGUgZGVwZW5kcyBvbiBnaXZlbiBoeXBlcnZpc29yIGJ1aWxkaWQKICAyKSBldmVyeSBjb25z
ZWN1dGl2ZSBtb2R1bGUgZGVwZW5kcyBvbiBwcmV2aW91cyBtb2R1bGUncyBidWlsZGlkClRoaXMg
d2F5IHByb3BlciBsaXZlcGF0Y2ggc3RhY2sgb3JkZXIgaXMgbWFpbnRhaW5lZCBhbmQgZW5mb3Jj
ZWQuCldoaWxlIGl0IGlzIGltcG9ydGFudCBmb3IgcHJvZHVjdGlvbiBsaXZlcGF0Y2hlcyBpdCBs
aW1pdHMgYWdpbGl0eSBhbmQKYmxvY2tzIHVzYWdlIG9mIHRlc3Rpbmcgb3IgZGVidWcgbGl2ZXBh
dGNoZXMuIFRoZXNlIGtpbmRzIG9mIGxpdmVwYXRjaAptb2R1bGVzIGFyZSB0eXBpY2FsbHkgZXhw
ZWN0ZWQgdG8gYmUgbG9hZGVkIGF0IGFueSB0aW1lIGlycmVzcGVjdGl2ZQpvZiBjdXJyZW50IHN0
YXRlIG9mIHRoZSBtb2R1bGVzIHN0YWNrLgoKVG8gZW5hYmxlIHRlc3RpbmcgYW5kIGRlYnVnIGxp
dmVwYXRjaGVzIGFsbG93IHVzZXIgZHluYW1pY2FsbHkgaWdub3JlCnRoZSBpbnRlci1tb2R1bGVz
IGRlcGVuZGVuY3kuIEluIHRoaXMgY2FzZSBvbmx5IGh5cGVydmlzb3IgYnVpbGRpZAptYXRjaCBp
cyB2ZXJpZmllZCBhbmQgZW5mb3JjZWQuCgpUbyBhbGxvdyB1c2VybGFuZCBwYXNzIGFkZGl0aW9u
YWwgcGFyZW1ldGVycyBmb3IgbGl2ZXBhdGNoIGFjdGlvbnMKYWRkIHN1cHBvcnQgZm9yIGFjdGlv
biBmbGFncy4KRWFjaCBvZiB0aGUgYXBwbHksIHJldmVydCwgdW5sb2FkIGFuZCByZXZlcnQgYWN0
aW9uIGdldHMgYWRkaXRpb25hbAozMi1iaXQgcGFyYW1ldGVyICdmbGFncycgd2hlcmUgZXh0cmEg
ZmxhZ3MgY2FuIGJlIGFwcGxpZWQgaW4gYSBtYXNrCmZvcm0uCkluaXRpYWxseSBvbmx5IG9uZSBm
bGFnICctLW5vZGVwcycgaXMgYWRkZWQgZm9yIHRoZSBhcHBseSBhY3Rpb24uClRoaXMgZmxhZyBt
b2RpZmllcyB0aGUgZGVmYXVsdCBidWlsZGlkIGRlcGVuZGVuY3kgY2hlY2sgYXMgZGVzY3JpYmVk
CmFib3ZlLgpUaGUgZ2xvYmFsIHN5c2N0bCBpbnRlcmZhY2UgaW5wdXQgZmxhZyBwYXJhbWV0ZXIg
aXMgZGVmaW5lZCB3aXRoIGEKc2luZ2xlIGNvcnJlc3BvbmRpbmcgZmxhZyBtYWNybzoKICBMSVZF
UEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUyAoMSA8PCAwKQoKVGhlIHVzZXJsYW5kIHhlbi1saXZl
cGF0Y2ggdG9vbCBpcyBtb2RpZmllZCB0byBzdXBwb3J0IHRoZSAnLS1ub2RlcHMnCmZsYWcgZm9y
IGFwcGx5IGFuZCBsb2FkIGNvbW1hbmRzLiBBIGdlbmVyYWwgbWVjaGFuaXNtIGZvciBzcGVjaWZ5
aW5nCm1vcmUgZmxhZ3MgaW4gdGhlIGZ1dHVyZSBmb3IgYXBwbHkgYW5kIG90aGVyIGFjdGlvbiBp
cyBob3dldmVyIGFkZGVkLgoKU2lnbmVkLW9mZi1ieTogUGF3ZWwgV2llY3pvcmtpZXdpY3ogPHdp
cGF3ZWxAYW1hem9uLmRlPgpSZXZpZXdlZC1ieTogQW5kcmEtSXJpbmEgUGFyYXNjaGl2IDxhbmRy
YXByc0BhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogRXNsYW0gRWxuaWtldHkgPGVsbmlrZXR5QGFt
YXpvbi5kZT4KUmV2aWV3ZWQtYnk6IFBldHJlIEVmdGltZSA8ZXBldHJlQGFtYXpvbi5jb20+ClJl
dmlld2VkLWJ5OiBMZW9uYXJkIEZvZXJzdGVyIDxmb2Vyc2xlb0BhbWF6b24uZGU+ClJldmlld2Vk
LWJ5OiBNYXJ0aW4gUG9obGFjayA8bXBvaGxhY2tAYW1hem9uLmRlPgpSZXZpZXdlZC1ieTogTm9y
YmVydCBNYW50aGV5IDxubWFudGhleUBhbWF6b24uZGU+ClNpZ25lZC1vZmYtYnk6IEtvbnJhZCBS
emVzenV0ZWsgV2lsayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4KUmV2aWV3ZWQtYnk6IFJvc3Mg
TGFnZXJ3YWxsIDxyb3NzLmxhZ2Vyd2FsbEBjaXRyaXguY29tPgotLS0KQ2hhbmdlZCBzaW5jZSB2
NDoKICAqIGNoYW5nZWQgZmxhZ3MgZmllbGQgdHlwZSBmcm9tIHVpbnQ2NF90IHRvIHVpbnQzMl90
CiAgKiBhZGRlZCAncGFkJyBmaWVsZCBhZnRlciB0aGUgY2hhbmdlZCBmbGFncyBmaWVsZAoKQ2hh
bmdlZCBzaW5jZSB2MzoKICAqIHNpbXBsaWZpZWQgbG9vcCBpbiB4ZW4tbGl2ZXBhdGNoLmMKLS0t
CiBkb2NzL21pc2MvbGl2ZXBhdGNoLnBhbmRvYyAgICB8ICAgOCArKysKIHRvb2xzL2xpYnhjL2lu
Y2x1ZGUveGVuY3RybC5oIHwgICA5ICsrLS0KIHRvb2xzL2xpYnhjL3hjX21pc2MuYyAgICAgICAg
IHwgIDIwICsrKy0tLS0KIHRvb2xzL21pc2MveGVuLWxpdmVwYXRjaC5jICAgIHwgMTIxICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLQogeGVuL2NvbW1vbi9saXZlcGF0
Y2guYyAgICAgICAgfCAgMTcgKysrKy0tCiB4ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3RsLmggICB8
ICAxMiArKysrLQogNiBmaWxlcyBjaGFuZ2VkLCAxNTEgaW5zZXJ0aW9ucygrKSwgMzYgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9jcy9taXNjL2xpdmVwYXRjaC5wYW5kb2MgYi9kb2NzL21p
c2MvbGl2ZXBhdGNoLnBhbmRvYwppbmRleCBmZDFmNWQwMTI2Li5jZDg1OWJiODExIDEwMDY0NAot
LS0gYS9kb2NzL21pc2MvbGl2ZXBhdGNoLnBhbmRvYworKysgYi9kb2NzL21pc2MvbGl2ZXBhdGNo
LnBhbmRvYwpAQCAtNjU5LDYgKzY1OSwxMCBAQCBUaGUgY2FsbGVyIHByb3ZpZGVzOgogICogYHRp
bWVgIFRoZSB1cHBlciBib3VuZCBvZiB0aW1lIChucykgdGhlIGNtZCBzaG91bGQgdGFrZS4gWmVy
byBtZWFucyB0byB1c2UKICAgIHRoZSBoeXBlcnZpc29yIGRlZmF1bHQuIElmIHdpdGhpbiB0aGUg
dGltZSB0aGUgb3BlcmF0aW9uIGRvZXMgbm90IHN1Y2NlZWQKICAgIHRoZSBvcGVyYXRpb24gd291
bGQgZ28gaW4gZXJyb3Igc3RhdGUuCisgKiBgZmxhZ3NgIHByb3ZpZGVzIGFkZGl0aW9uYWwgcGFy
YW1ldGVycyBmb3IgYW4gYWN0aW9uOgorICAqICpMSVZFUEFUQ0hfQUNUSU9OX0FQUExZX05PREVQ
UyogKDEpIEFwcGx5IGFjdGlvbiBpZ25vcmVzIGludGVyLW1vZHVsZQorICBidWlsZGlkIGRlcGVu
ZGVuY3kuIENoZWNrcyBvbmx5IGlmIG1vZHVsZSBpcyBidWlsdCBmb3IgZ2l2ZW4gaHlwZXJ2aXNv
ciBieQorICBjb21wYXJpbmcgYnVpbGRpZC4KICAqIGBwYWRgIC0gKk1VU1QqIGJlIHplcm8uCiAK
IFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB6ZXJvIHVubGVzcyB0aGUgcHJvdmlkZWQgZmllbGRz
IGFyZSBpbmNvcnJlY3QuCkBAIC02NzYsNiArNjgwLDEwIEBAIFRoZSBzdHJ1Y3R1cmUgaXMgYXMg
Zm9sbG93OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
LyogaHlwZXJ2aXNvciBkZWZhdWx0LiAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgLyogT3IgdXBwZXIgYm91bmQgb2YgdGltZSAobnMpICovCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmb3Igb3BlcmF0
aW9uIHRvIHRha2UuICovCisgICAgICAgIHVpbnQzMl90IGZsYWdzOyAgICAgICAgICAgICAgICAg
ICAgICAgICAvKiBJTjogYWN0aW9uIGZsYWdzLiAqLworICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgLyogUHJvdmlkZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMg
Ki8KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZv
ciBhbiBhY3Rpb24uICovCisgICAgICAgIHVpbnQzMl90IHBhZDsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAvKiBJTjogQWx3YXlzIHplcm8uICovCiAgICAgfTsKIAogCmRpZmYgLS1naXQgYS90
b29scy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaCBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3Ry
bC5oCmluZGV4IGY0NDMxNjg3YjMuLmIwNjczOGM0NzEgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhj
L2luY2x1ZGUveGVuY3RybC5oCisrKyBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oCkBA
IC0yNjA1LDExICsyNjA1LDEyIEBAIGludCB4Y19saXZlcGF0Y2hfbGlzdCh4Y19pbnRlcmZhY2Ug
KnhjaCwgdW5zaWduZWQgaW50IG1heCwgdW5zaWduZWQgaW50IHN0YXJ0LAogICogdG8gY29tcGxl
dGUgdGhlbS4gVGhlIGB0aW1lb3V0YCBvZmZlcnMgYW4gb3B0aW9uIHRvIGV4cGlyZSB0aGUKICAq
IG9wZXJhdGlvbiBpZiBpdCBjb3VsZCBub3QgYmUgY29tcGxldGVkIHdpdGhpbiB0aGUgc3BlY2lm
aWVkIHRpbWUKICAqIChpbiBucykuIFZhbHVlIG9mIDAgbWVhbnMgbGV0IGh5cGVydmlzb3IgZGVj
aWRlIHRoZSBiZXN0IHRpbWVvdXQuCisgKiBUaGUgYGZsYWdzYCBhbGxvd3MgdG8gcGFzcyBleHRy
YSBwYXJhbWV0ZXJzIHRvIHRoZSBhY3Rpb25zLgogICovCi1pbnQgeGNfbGl2ZXBhdGNoX2FwcGx5
KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJfdCB0aW1lb3V0KTsKLWludCB4
Y19saXZlcGF0Y2hfcmV2ZXJ0KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJf
dCB0aW1lb3V0KTsKLWludCB4Y19saXZlcGF0Y2hfdW5sb2FkKHhjX2ludGVyZmFjZSAqeGNoLCBj
aGFyICpuYW1lLCB1aW50MzJfdCB0aW1lb3V0KTsKLWludCB4Y19saXZlcGF0Y2hfcmVwbGFjZSh4
Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCk7CitpbnQgeGNf
bGl2ZXBhdGNoX2FwcGx5KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJfdCB0
aW1lb3V0LCB1aW50MzJfdCBmbGFncyk7CitpbnQgeGNfbGl2ZXBhdGNoX3JldmVydCh4Y19pbnRl
cmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCwgdWludDMyX3QgZmxhZ3Mp
OworaW50IHhjX2xpdmVwYXRjaF91bmxvYWQoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIgKm5hbWUs
IHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKTsKK2ludCB4Y19saXZlcGF0Y2hfcmVw
bGFjZSh4Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCwgdWlu
dDMyX3QgZmxhZ3MpOwogCiAvKgogICogRW5zdXJlIGNhY2hlIGNvaGVyZW5jeSBhZnRlciBtZW1v
cnkgbW9kaWZpY2F0aW9ucy4gQSBjYWxsIHRvIHRoaXMgZnVuY3Rpb24KZGlmZiAtLWdpdCBhL3Rv
b2xzL2xpYnhjL3hjX21pc2MuYyBiL3Rvb2xzL2xpYnhjL3hjX21pc2MuYwppbmRleCA4ZTYwYjZl
OWYwLi4yZGM1MjZiZGE3IDEwMDY0NAotLS0gYS90b29scy9saWJ4Yy94Y19taXNjLmMKKysrIGIv
dG9vbHMvbGlieGMveGNfbWlzYy5jCkBAIC04NTQsNyArODU0LDggQEAgaW50IHhjX2xpdmVwYXRj
aF9saXN0KHhjX2ludGVyZmFjZSAqeGNoLCB1bnNpZ25lZCBpbnQgbWF4LCB1bnNpZ25lZCBpbnQg
c3RhcnQsCiBzdGF0aWMgaW50IF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjX2ludGVyZmFjZSAqeGNo
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpuYW1lLAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgYWN0aW9uLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCB0aW1lb3V0KQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1aW50MzJfdCB0aW1lb3V0LAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1aW50MzJfdCBmbGFncykKIHsKICAgICBpbnQgcmM7CiAgICAgREVDTEFSRV9TWVND
VEw7CkBAIC04ODAsNiArODgxLDcgQEAgc3RhdGljIGludCBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4
Y19pbnRlcmZhY2UgKnhjaCwKICAgICBzeXNjdGwudS5saXZlcGF0Y2gucGFkID0gMDsKICAgICBz
eXNjdGwudS5saXZlcGF0Y2gudS5hY3Rpb24uY21kID0gYWN0aW9uOwogICAgIHN5c2N0bC51Lmxp
dmVwYXRjaC51LmFjdGlvbi50aW1lb3V0ID0gdGltZW91dDsKKyAgICBzeXNjdGwudS5saXZlcGF0
Y2gudS5hY3Rpb24uZmxhZ3MgPSBmbGFnczsKIAogICAgIHN5c2N0bC51LmxpdmVwYXRjaC51LmFj
dGlvbi5uYW1lID0gZGVmX25hbWU7CiAgICAgc2V0X3hlbl9ndWVzdF9oYW5kbGUoc3lzY3RsLnUu
bGl2ZXBhdGNoLnUuYWN0aW9uLm5hbWUubmFtZSwgbmFtZSk7CkBAIC04OTEsMjQgKzg5MywyNCBA
QCBzdGF0aWMgaW50IF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjX2ludGVyZmFjZSAqeGNoLAogICAg
IHJldHVybiByYzsKIH0KIAotaW50IHhjX2xpdmVwYXRjaF9hcHBseSh4Y19pbnRlcmZhY2UgKnhj
aCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCkKK2ludCB4Y19saXZlcGF0Y2hfYXBwbHko
eGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIgKm5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90
IGZsYWdzKQogewotICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJ
VkVQQVRDSF9BQ1RJT05fQVBQTFksIHRpbWVvdXQpOworICAgIHJldHVybiBfeGNfbGl2ZXBhdGNo
X2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05fQVBQTFksIHRpbWVvdXQsIGZsYWdz
KTsKIH0KIAotaW50IHhjX2xpdmVwYXRjaF9yZXZlcnQoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIg
Km5hbWUsIHVpbnQzMl90IHRpbWVvdXQpCitpbnQgeGNfbGl2ZXBhdGNoX3JldmVydCh4Y19pbnRl
cmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCwgdWludDMyX3QgZmxhZ3Mp
CiB7Ci0gICAgcmV0dXJuIF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjaCwgbmFtZSwgTElWRVBBVENI
X0FDVElPTl9SRVZFUlQsIHRpbWVvdXQpOworICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlv
bih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05fUkVWRVJULCB0aW1lb3V0LCBmbGFncyk7CiB9
CiAKLWludCB4Y19saXZlcGF0Y2hfdW5sb2FkKHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1l
LCB1aW50MzJfdCB0aW1lb3V0KQoraW50IHhjX2xpdmVwYXRjaF91bmxvYWQoeGNfaW50ZXJmYWNl
ICp4Y2gsIGNoYXIgKm5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKQogewot
ICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJ
T05fVU5MT0FELCB0aW1lb3V0KTsKKyAgICByZXR1cm4gX3hjX2xpdmVwYXRjaF9hY3Rpb24oeGNo
LCBuYW1lLCBMSVZFUEFUQ0hfQUNUSU9OX1VOTE9BRCwgdGltZW91dCwgZmxhZ3MpOwogfQogCi1p
bnQgeGNfbGl2ZXBhdGNoX3JlcGxhY2UoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIgKm5hbWUsIHVp
bnQzMl90IHRpbWVvdXQpCitpbnQgeGNfbGl2ZXBhdGNoX3JlcGxhY2UoeGNfaW50ZXJmYWNlICp4
Y2gsIGNoYXIgKm5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKQogewotICAg
IHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05f
UkVQTEFDRSwgdGltZW91dCk7CisgICAgcmV0dXJuIF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjaCwg
bmFtZSwgTElWRVBBVENIX0FDVElPTl9SRVBMQUNFLCB0aW1lb3V0LCBmbGFncyk7CiB9CiAKIC8q
CmRpZmYgLS1naXQgYS90b29scy9taXNjL3hlbi1saXZlcGF0Y2guYyBiL3Rvb2xzL21pc2MveGVu
LWxpdmVwYXRjaC5jCmluZGV4IDMyMzM0NzIxNTcuLmI0NjliMjUzYWQgMTAwNjQ0Ci0tLSBhL3Rv
b2xzL21pc2MveGVuLWxpdmVwYXRjaC5jCisrKyBiL3Rvb2xzL21pc2MveGVuLWxpdmVwYXRjaC5j
CkBAIC0yMywxOCArMjMsMjMgQEAgdm9pZCBzaG93X2hlbHAodm9pZCkKIHsKICAgICBmcHJpbnRm
KHN0ZGVyciwKICAgICAgICAgICAgICJ4ZW4tbGl2ZXBhdGNoOiBsaXZlIHBhdGNoaW5nIHRvb2xc
biIKLSAgICAgICAgICAgICJVc2FnZTogeGVuLWxpdmVwYXRjaCA8Y29tbWFuZD4gW2FyZ3NdXG4i
CisgICAgICAgICAgICAiVXNhZ2U6IHhlbi1saXZlcGF0Y2ggPGNvbW1hbmQ+IFthcmdzXSBbY29t
bWFuZC1mbGFnc11cbiIKICAgICAgICAgICAgICIgPG5hbWU+IEFuIHVuaXF1ZSBuYW1lIG9mIHBh
eWxvYWQuIFVwIHRvICVkIGNoYXJhY3RlcnMuXG4iCiAgICAgICAgICAgICAiQ29tbWFuZHM6XG4i
CiAgICAgICAgICAgICAiICBoZWxwICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgdGhpcyBoZWxw
XG4iCiAgICAgICAgICAgICAiICB1cGxvYWQgPG5hbWU+IDxmaWxlPiAgIHVwbG9hZCBmaWxlIDxm
aWxlPiB3aXRoIDxuYW1lPiBuYW1lXG4iCiAgICAgICAgICAgICAiICBsaXN0ICAgICAgICAgICAg
ICAgICAgIGxpc3QgcGF5bG9hZHMgdXBsb2FkZWQuXG4iCi0gICAgICAgICAgICAiICBhcHBseSA8
bmFtZT4gICAgICAgICAgIGFwcGx5IDxuYW1lPiBwYXRjaC5cbiIKKyAgICAgICAgICAgICIgIGFw
cGx5IDxuYW1lPiBbZmxhZ3NdICAgYXBwbHkgPG5hbWU+IHBhdGNoLlxuIgorICAgICAgICAgICAg
IiAgICBTdXBwb3J0ZWQgZmxhZ3M6XG4iCisgICAgICAgICAgICAiICAgICAgLS1ub2RlcHMgICAg
ICAgICAgIERpc2FibGUgaW50ZXItbW9kdWxlIGJ1aWxkaWQgZGVwZW5kZW5jeSBjaGVjay5cbiIK
KyAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2sgb25seSBhZ2FpbnN0
IGh5cGVydmlzb3IgYnVpbGRpZC5cbiIKICAgICAgICAgICAgICIgIHJldmVydCA8bmFtZT4gICAg
ICAgICAgcmV2ZXJ0IG5hbWUgPG5hbWU+IHBhdGNoLlxuIgogICAgICAgICAgICAgIiAgcmVwbGFj
ZSA8bmFtZT4gICAgICAgICBhcHBseSA8bmFtZT4gcGF0Y2ggYW5kIHJldmVydCBhbGwgb3RoZXJz
LlxuIgogICAgICAgICAgICAgIiAgdW5sb2FkIDxuYW1lPiAgICAgICAgICB1bmxvYWQgbmFtZSA8
bmFtZT4gcGF0Y2guXG4iCi0gICAgICAgICAgICAiICBsb2FkICA8ZmlsZT4gICAgICAgICAgIHVw
bG9hZCBhbmQgYXBwbHkgPGZpbGU+LlxuIgotICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAg
ICAgICAgICBuYW1lIGlzIHRoZSA8ZmlsZT4gbmFtZVxuIiwKKyAgICAgICAgICAgICIgIGxvYWQg
PGZpbGU+IFtmbGFnc10gICAgdXBsb2FkIGFuZCBhcHBseSA8ZmlsZT4gd2l0aCBuYW1lIGFzIHRo
ZSA8ZmlsZT4gbmFtZVxuIgorICAgICAgICAgICAgIiAgICBTdXBwb3J0ZWQgZmxhZ3M6XG4iCisg
ICAgICAgICAgICAiICAgICAgLS1ub2RlcHMgICAgICAgICAgIERpc2FibGUgaW50ZXItbW9kdWxl
IGJ1aWxkaWQgZGVwZW5kZW5jeSBjaGVjay5cbiIKKyAgICAgICAgICAgICIgICAgICAgICAgICAg
ICAgICAgICAgICAgQ2hlY2sgb25seSBhZ2FpbnN0IGh5cGVydmlzb3IgYnVpbGRpZC5cbiIsCiAg
ICAgICAgICAgICBYRU5fTElWRVBBVENIX05BTUVfU0laRSk7CiB9CiAKQEAgLTIyNSwxMiArMjMw
LDEzIEBAIHN0YXRpYyBpbnQgdXBsb2FkX2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKICAg
ICByZXR1cm4gcmM7CiB9CiAKLS8qIFRoZXNlIE1VU1QgbWF0Y2ggdG8gdGhlICdhY3Rpb25fb3B0
aW9uc1tdJyBhcnJheSBzbG90cy4gKi8KKy8qIFRoZXNlIE1VU1QgbWF0Y2ggdG8gdGhlICdhY3Rp
b25fb3B0aW9uc1tdJyBhbmQgJ2ZsYWdfb3B0aW9uc1tdJyBhcnJheSBzbG90cy4gKi8KIGVudW0g
ewogICAgIEFDVElPTl9BUFBMWSA9IDAsCiAgICAgQUNUSU9OX1JFVkVSVCA9IDEsCiAgICAgQUNU
SU9OX1VOTE9BRCA9IDIsCiAgICAgQUNUSU9OX1JFUExBQ0UgPSAzLAorICAgIEFDVElPTl9OVU0K
IH07CiAKIHN0cnVjdCB7CkBAIC0yMzgsNyArMjQ0LDcgQEAgc3RydWN0IHsKICAgICBpbnQgZXhw
ZWN0ZWQ7IC8qIFRoZSBzdGF0ZSB0byBiZSBpbiBhZnRlciB0aGUgZnVuY3Rpb24uICovCiAgICAg
Y29uc3QgY2hhciAqbmFtZTsKICAgICBjb25zdCBjaGFyICp2ZXJiOwotICAgIGludCAoKmZ1bmN0
aW9uKSh4Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCk7Cisg
ICAgaW50ICgqZnVuY3Rpb24pKHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJf
dCB0aW1lb3V0LCB1aW50MzJfdCBmbGFncyk7CiB9IGFjdGlvbl9vcHRpb25zW10gPSB7CiAgICAg
eyAgIC5hbGxvdyA9IExJVkVQQVRDSF9TVEFURV9DSEVDS0VELAogICAgICAgICAuZXhwZWN0ZWQg
PSBMSVZFUEFUQ0hfU1RBVEVfQVBQTElFRCwKQEAgLTI2Niw2ICsyNzIsNjYgQEAgc3RydWN0IHsK
ICAgICB9LAogfTsKIAorLyoKKyAqIFRoaXMgc3RydWN0dXJlIGRlZmluZXMgc3VwcG9ydGVkIGZs
YWcgb3B0aW9ucyBmb3IgYWN0aW9ucy4KKyAqIEl0IGRlZmluZXMgZW50cmllcyBmb3IgZWFjaCBh
Y3Rpb24gYW5kIHN1cHBvcnRzIHVwIHRvIDMyCisgKiBmbGFncyBwZXIgYWN0aW9uLgorICovCitz
dHJ1Y3QgeworICAgIGNvbnN0IGNoYXIgKm5hbWU7CisgICAgY29uc3QgdWludDMyX3QgZmxhZzsK
K30gZmxhZ19vcHRpb25zW0FDVElPTl9OVU1dWzggKiBzaXplb2YodWludDMyX3QpXSA9IHsKKyAg
ICB7IC8qIEFDVElPTl9BUFBMWSAqLworICAgICAgICB7ICAgLm5hbWUgPSAiLS1ub2RlcHMiLAor
ICAgICAgICAgICAgLmZsYWcgPSBMSVZFUEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUywKKyAgICAg
ICAgfSwKKyAgICB9LAorICAgIHsgLyogQUNUSU9OX1JFVkVSVCAqLworICAgIH0sCisgICAgeyAv
KiBBQ1RJT05fVU5MT0FEICovCisgICAgfSwKKyAgICB7IC8qIEFDVElPTl9SRVBMQUNFICovCisg
ICAgfQorfTsKKworLyoKKyAqIFBhcnNlIHVzZXIgcHJvdmlkZWQgYWN0aW9uIGZsYWdzLgorICog
VGhpcyBmdW5jdGlvbiBleHBlY3RzIHRvIG9ubHkgcmVjZWl2ZSBhbiBhcnJheSBvZiBpbnB1dCBw
YXJhbWV0ZXJzIGJlaW5nIGZsYWdzLgorICogRXhwZWN0ZWQgYWN0aW9uIGlzIHNwZWNpZmllZCB2
aWEgaWR4IHBhcmFtYXRlciAoaW5kZXggb2YgZmxhZ19vcHRpb25zW10pLgorICovCitzdGF0aWMg
aW50IGdldF9mbGFncyhpbnQgYXJnYywgY2hhciAqYXJndltdLCB1bnNpZ25lZCBpbnQgaWR4LCB1
aW50MzJfdCAqZmxhZ3MpCit7CisgICAgaW50IGksIGo7CisKKyAgICBpZiAoICFmbGFncyB8fCBp
ZHggPj0gQVJSQVlfU0laRShmbGFnX29wdGlvbnMpICkKKyAgICAgICAgcmV0dXJuIC0xOworCisg
ICAgKmZsYWdzID0gMDsKKyAgICBmb3IgKCBpID0gMDsgaSA8IGFyZ2M7IGkrKyApCisgICAgewor
ICAgICAgICBmb3IgKCBqID0gMDsgaiA8IEFSUkFZX1NJWkUoZmxhZ19vcHRpb25zW2lkeF0pOyBq
KysgKQorICAgICAgICB7CisgICAgICAgICAgICBpZiAoICFmbGFnX29wdGlvbnNbaWR4XVtqXS5u
YW1lICkKKyAgICAgICAgICAgICAgICBnb3RvIGVycm9yOworCisgICAgICAgICAgICBpZiAoICFz
dHJjbXAoZmxhZ19vcHRpb25zW2lkeF1bal0ubmFtZSwgYXJndltpXSkgKQorICAgICAgICAgICAg
eworICAgICAgICAgICAgICAgICpmbGFncyB8PSBmbGFnX29wdGlvbnNbaWR4XVtqXS5mbGFnOwor
ICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAgfQorICAgICAgICB9CisKKyAgICAg
ICAgaWYgKCBqID09IEFSUkFZX1NJWkUoZmxhZ19vcHRpb25zW2lkeF0pICkKKyAgICAgICAgICAg
IGdvdG8gZXJyb3I7CisgICAgfQorCisgICAgcmV0dXJuIDA7CitlcnJvcjoKKyAgICBmcHJpbnRm
KHN0ZGVyciwgIlVuc3VwcG9ydGVkIGZsYWc6ICVzLlxuIiwgYXJndltpXSk7CisgICAgZXJybm8g
PSBFSU5WQUw7CisgICAgcmV0dXJuIGVycm5vOworfQorCiAvKiBUaGUgaHlwZXJ2aXNvciB0aW1l
b3V0IGZvciB0aGUgbGl2ZSBwYXRjaGluZyBvcGVyYXRpb24gaXMgMzAgbXNlYywKICAqIGJ1dCBp
dCBjb3VsZCB0YWtlIHNvbWUgdGltZSBmb3IgdGhlIG9wZXJhdGlvbiB0byBzdGFydCwgc28gd2Fp
dCB0d2ljZQogICogdGhhdCBwZXJpb2QuICovCkBAIC0yOTEsOCArMzU3LDkgQEAgaW50IGFjdGlv
bl9mdW5jKGludCBhcmdjLCBjaGFyICphcmd2W10sIHVuc2lnbmVkIGludCBpZHgpCiAgICAgY2hh
ciBuYW1lW1hFTl9MSVZFUEFUQ0hfTkFNRV9TSVpFXTsKICAgICBpbnQgcmM7CiAgICAgeGVuX2xp
dmVwYXRjaF9zdGF0dXNfdCBzdGF0dXM7CisgICAgdWludDMyX3QgZmxhZ3M7CiAKLSAgICBpZiAo
IGFyZ2MgIT0gMSApCisgICAgaWYgKCBhcmdjIDwgMSApCiAgICAgewogICAgICAgICBzaG93X2hl
bHAoKTsKICAgICAgICAgcmV0dXJuIC0xOwpAQCAtMzAxLDcgKzM2OCwxMCBAQCBpbnQgYWN0aW9u
X2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgdW5zaWduZWQgaW50IGlkeCkKICAgICBpZiAo
IGlkeCA+PSBBUlJBWV9TSVpFKGFjdGlvbl9vcHRpb25zKSApCiAgICAgICAgIHJldHVybiAtMTsK
IAotICAgIGlmICggZ2V0X25hbWUoYXJnYywgYXJndiwgbmFtZSkgKQorICAgIGlmICggZ2V0X25h
bWUoYXJnYy0tLCBhcmd2KyssIG5hbWUpICkKKyAgICAgICAgcmV0dXJuIEVJTlZBTDsKKworICAg
IGlmICggZ2V0X2ZsYWdzKGFyZ2MsIGFyZ3YsIGlkeCwgJmZsYWdzKSApCiAgICAgICAgIHJldHVy
biBFSU5WQUw7CiAKICAgICAvKiBDaGVjayBpbml0aWFsIHN0YXR1cy4gKi8KQEAgLTMzMiw3ICs0
MDIsNyBAQCBpbnQgYWN0aW9uX2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgdW5zaWduZWQg
aW50IGlkeCkKICAgICBpZiAoIGFjdGlvbl9vcHRpb25zW2lkeF0uYWxsb3cgJiBzdGF0dXMuc3Rh
dGUgKQogICAgIHsKICAgICAgICAgcHJpbnRmKCIlcyAlcy4uLiAiLCBhY3Rpb25fb3B0aW9uc1tp
ZHhdLnZlcmIsIG5hbWUpOwotICAgICAgICByYyA9IGFjdGlvbl9vcHRpb25zW2lkeF0uZnVuY3Rp
b24oeGNoLCBuYW1lLCBIWVBFUlZJU09SX1RJTUVPVVRfTlMpOworICAgICAgICByYyA9IGFjdGlv
bl9vcHRpb25zW2lkeF0uZnVuY3Rpb24oeGNoLCBuYW1lLCBIWVBFUlZJU09SX1RJTUVPVVRfTlMs
IGZsYWdzKTsKICAgICAgICAgaWYgKCByYyApCiAgICAgICAgIHsKICAgICAgICAgICAgIGludCBz
YXZlZF9lcnJubyA9IGVycm5vOwpAQCAtMzk0LDE3ICs0NjQsMjMgQEAgaW50IGFjdGlvbl9mdW5j
KGludCBhcmdjLCBjaGFyICphcmd2W10sIHVuc2lnbmVkIGludCBpZHgpCiAKIHN0YXRpYyBpbnQg
bG9hZF9mdW5jKGludCBhcmdjLCBjaGFyICphcmd2W10pCiB7Ci0gICAgaW50IHJjOwotICAgIGNo
YXIgKm5ld19hcmd2WzJdOwotICAgIGNoYXIgKnBhdGgsICpuYW1lLCAqbGFzdGRvdDsKKyAgICBp
bnQgaSwgcmMgPSBFTk9NRU07CisgICAgY2hhciAqdXBsb2FkX2FyZ3ZbMl07CisgICAgY2hhciAq
KmFwcGx5X2FyZ3YsICpwYXRoLCAqbmFtZSwgKmxhc3Rkb3Q7CiAKLSAgICBpZiAoIGFyZ2MgIT0g
MSApCisgICAgaWYgKCBhcmdjIDwgMSApCiAgICAgewogICAgICAgICBzaG93X2hlbHAoKTsKICAg
ICAgICAgcmV0dXJuIC0xOwogICAgIH0KKworICAgIC8qIGFwcGx5IGFjdGlvbiBoYXMgPGlkPiBb
ZmxhZ3NdIGlucHV0IHJlcXVpcmVtZW50LCB3aGljaCBtdXN0IGJlIGNvbnN0cnVjdGVkICovCisg
ICAgYXBwbHlfYXJndiA9IChjaGFyICoqKSBtYWxsb2MoYXJnYyAqIHNpemVvZigqYXBwbHlfYXJn
dikpOworICAgIGlmICggIWFwcGx5X2FyZ3YgKQorICAgICAgICByZXR1cm4gcmM7CisKICAgICAv
KiA8ZmlsZT4gKi8KLSAgICBuZXdfYXJndlsxXSA9IGFyZ3ZbMF07CisgICAgdXBsb2FkX2FyZ3Zb
MV0gPSBhcmd2WzBdOwogCiAgICAgLyogU3ludGhlc2l6ZSB0aGUgPGlkPiAqLwogICAgIHBhdGgg
PSBzdHJkdXAoYXJndlswXSk7CkBAIC00MTMsMTYgKzQ4OSwyMyBAQCBzdGF0aWMgaW50IGxvYWRf
ZnVuYyhpbnQgYXJnYywgY2hhciAqYXJndltdKQogICAgIGxhc3Rkb3QgPSBzdHJyY2hyKG5hbWUs
ICcuJyk7CiAgICAgaWYgKCBsYXN0ZG90ICE9IE5VTEwgKQogICAgICAgICAqbGFzdGRvdCA9ICdc
MCc7Ci0gICAgbmV3X2FyZ3ZbMF0gPSBuYW1lOworICAgIHVwbG9hZF9hcmd2WzBdID0gbmFtZTsK
KyAgICBhcHBseV9hcmd2WzBdID0gbmFtZTsKIAotICAgIHJjID0gdXBsb2FkX2Z1bmMoMiAvKiA8
aWQ+IDxmaWxlPiAqLywgbmV3X2FyZ3YpOworICAgIC8qIEZpbGwgaW4gYWxsIHVzZXIgcHJvdmlk
ZWQgZmxhZ3MgKi8KKyAgICBmb3IgKCBpID0gMTsgaSA8IGFyZ2M7IGkrKyApCisgICAgICAgIGFw
cGx5X2FyZ3ZbaV0gPSBhcmd2W2ldOworCisgICAgcmMgPSB1cGxvYWRfZnVuYygyIC8qIDxpZD4g
PGZpbGU+ICovLCB1cGxvYWRfYXJndik7CiAgICAgaWYgKCByYyApCi0gICAgICAgIHJldHVybiBy
YzsKKyAgICAgICAgZ290byBlcnJvcjsKIAotICAgIHJjID0gYWN0aW9uX2Z1bmMoMSAvKiBvbmx5
IDxpZD4gKi8sIG5ld19hcmd2LCBBQ1RJT05fQVBQTFkpOworICAgIHJjID0gYWN0aW9uX2Z1bmMo
YXJnYywgYXBwbHlfYXJndiwgQUNUSU9OX0FQUExZKTsKICAgICBpZiAoIHJjICkKLSAgICAgICAg
YWN0aW9uX2Z1bmMoMSwgbmV3X2FyZ3YsIEFDVElPTl9VTkxPQUQpOworICAgICAgICBhY3Rpb25f
ZnVuYygxIC8qIG9ubHkgPGlkPiAqLywgdXBsb2FkX2FyZ3YsIEFDVElPTl9VTkxPQUQpOwogCitl
cnJvcjoKKyAgICBmcmVlKGFwcGx5X2FyZ3YpOwogICAgIGZyZWUocGF0aCk7CiAgICAgcmV0dXJu
IHJjOwogfQpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9saXZlcGF0Y2guYyBiL3hlbi9jb21tb24v
bGl2ZXBhdGNoLmMKaW5kZXggMTYzYzljNzllYS4uNGU5NmUyZTliMiAxMDA2NDQKLS0tIGEveGVu
L2NvbW1vbi9saXZlcGF0Y2guYworKysgYi94ZW4vY29tbW9uL2xpdmVwYXRjaC5jCkBAIC0xNTAy
LDYgKzE1MDIsOSBAQCBzdGF0aWMgaW50IGxpdmVwYXRjaF9hY3Rpb24oc3RydWN0IHhlbl9zeXNj
dGxfbGl2ZXBhdGNoX2FjdGlvbiAqYWN0aW9uKQogICAgIGNoYXIgbltYRU5fTElWRVBBVENIX05B
TUVfU0laRV07CiAgICAgaW50IHJjOwogCisgICAgaWYgKCBhY3Rpb24tPnBhZCApCisgICAgICAg
IHJldHVybiAtRUlOVkFMOworCiAgICAgcmMgPSBnZXRfbmFtZSgmYWN0aW9uLT5uYW1lLCBuKTsK
ICAgICBpZiAoIHJjICkKICAgICAgICAgcmV0dXJuIHJjOwpAQCAtMTU3NSw5ICsxNTc4LDE3IEBA
IHN0YXRpYyBpbnQgbGl2ZXBhdGNoX2FjdGlvbihzdHJ1Y3QgeGVuX3N5c2N0bF9saXZlcGF0Y2hf
YWN0aW9uICphY3Rpb24pCiAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICB9CiAK
LSAgICAgICAgICAgIHJjID0gYnVpbGRfaWRfZGVwKGRhdGEsICEhbGlzdF9lbXB0eSgmYXBwbGll
ZF9saXN0KSk7Ci0gICAgICAgICAgICBpZiAoIHJjICkKLSAgICAgICAgICAgICAgICBicmVhazsK
KyAgICAgICAgICAgIC8qCisgICAgICAgICAgICAgKiBDaGVjayBpZiBhY3Rpb24gaXMgaXNzdWVk
IHdpdGggbm9kZXBzIGZsYWdzIHRvIGlnbm9yZSBtb2R1bGUKKyAgICAgICAgICAgICAqIHN0YWNr
IGRlcGVuZGVuY2llcy4KKyAgICAgICAgICAgICAqLworICAgICAgICAgICAgaWYgKCAhKGFjdGlv
bi0+ZmxhZ3MgJiBMSVZFUEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUykgKQorICAgICAgICAgICAg
eworICAgICAgICAgICAgICAgIHJjID0gYnVpbGRfaWRfZGVwKGRhdGEsICEhbGlzdF9lbXB0eSgm
YXBwbGllZF9saXN0KSk7CisgICAgICAgICAgICAgICAgaWYgKCByYyApCisgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOworICAgICAgICAgICAgfQorCiAgICAgICAgICAgICBkYXRhLT5yYyA9IC1F
QUdBSU47CiAgICAgICAgICAgICByYyA9IHNjaGVkdWxlX3dvcmsoZGF0YSwgYWN0aW9uLT5jbWQs
IGFjdGlvbi0+dGltZW91dCk7CiAgICAgICAgIH0KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1
YmxpYy9zeXNjdGwuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaAppbmRleCAxOTQ1N2E0
ZTMwLi43YTA4ODRiNzBiIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3RsLmgK
KysrIGIveGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oCkBAIC0zNSw3ICszNSw3IEBACiAjaW5j
bHVkZSAiZG9tY3RsLmgiCiAjaW5jbHVkZSAicGh5c2Rldi5oIgogCi0jZGVmaW5lIFhFTl9TWVND
VExfSU5URVJGQUNFX1ZFUlNJT04gMHgwMDAwMDAxMgorI2RlZmluZSBYRU5fU1lTQ1RMX0lOVEVS
RkFDRV9WRVJTSU9OIDB4MDAwMDAwMTMKIAogLyoKICAqIFJlYWQgY29uc29sZSBjb250ZW50IGZy
b20gWGVuIGJ1ZmZlciByaW5nLgpAQCAtOTcwLDYgKzk3MCwxNiBAQCBzdHJ1Y3QgeGVuX3N5c2N0
bF9saXZlcGF0Y2hfYWN0aW9uIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgLyogaHlwZXJ2aXNvciBkZWZhdWx0LiAqLwogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAvKiBPciB1cHBlciBib3VuZCBvZiB0aW1lIChucykgKi8K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZm9yIG9wZXJh
dGlvbiB0byB0YWtlLiAqLworCisvKgorICogT3ZlcnJpZGUgZGVmYXVsdCBpbnRlci1tb2R1bGUg
YnVpbGRpZCBkZXBlbmRlbmN5IGNoYWluIGVuZm9yY2VtZW50LgorICogQ2hlY2sgb25seSBpZiBt
b2R1bGUgaXMgYnVpbHQgZm9yIGdpdmVuIGh5cGVydmlzb3IgYnkgY29tcGFyaW5nIGJ1aWxkaWQu
CisgKi8KKyNkZWZpbmUgTElWRVBBVENIX0FDVElPTl9BUFBMWV9OT0RFUFMgKDEgPDwgMCkKKyAg
ICB1aW50MzJfdCBmbGFnczsgICAgICAgICAgICAgICAgICAgICAgICAgLyogSU46IGFjdGlvbiBm
bGFncy4gKi8KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyog
UHJvdmlkZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgKi8KKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgLyogZm9yIGFuIGFjdGlvbi4gKi8KKyAgICB1aW50MzJfdCBw
YWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogSU46IEFsd2F5cyB6ZXJvLiAqLwogfTsK
IAogc3RydWN0IHhlbl9zeXNjdGxfbGl2ZXBhdGNoX29wIHsKLS0gCjIuMTYuNQoKCgoKQW1hem9u
IERldmVsb3BtZW50IENlbnRlciBHZXJtYW55IEdtYkgKS3JhdXNlbnN0ci4gMzgKMTAxMTcgQmVy
bGluCkdlc2NoYWVmdHNmdWVocnVuZzogQ2hyaXN0aWFuIFNjaGxhZWdlciwgUmFsZiBIZXJicmlj
aApFaW5nZXRyYWdlbiBhbSBBbXRzZ2VyaWNodCBDaGFybG90dGVuYnVyZyB1bnRlciBIUkIgMTQ5
MTczIEIKU2l0ejogQmVybGluClVzdC1JRDogREUgMjg5IDIzNyA4NzkKCgoKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxp
c3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVj
dC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 11CD59804E
	for <lists+xen-devel@lfdr.de>; Wed, 21 Aug 2019 18:38:51 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i0TaV-0002yP-TT; Wed, 21 Aug 2019 16:35:55 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=+17U=WR=merlin.srs.infradead.org=batv+8cf64aaa8605854ab498+5841+infradead.org+dwmw2@srs-us1.protection.inumbo.net>)
 id 1i0TaU-0002y0-0Y
 for xen-devel@lists.xenproject.org; Wed, 21 Aug 2019 16:35:54 +0000
X-Inumbo-ID: b8952d3a-c431-11e9-ac23-bc764e2007e4
Received: from merlin.infradead.org (unknown [2001:8b0:10b:1231::1])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id b8952d3a-c431-11e9-ac23-bc764e2007e4;
 Wed, 21 Aug 2019 16:35:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=infradead.org; s=merlin.20170209; h=Sender:Content-Transfer-Encoding:
 MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:
 Reply-To:Content-Type:Content-ID:Content-Description:Resent-Date:Resent-From:
 Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
 List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=EVNXMFFacB6w6RyPTDsEgeHhN8lxj/U6IzM80Hjo0Q8=; b=Wh6kZlt+6sHIhZscfOeu0IGfjH
 1aRLcCu6O1LGoQk64laNiHd8OaeWvTVkhksL6i9rLSEOeszDEpuj4w/CDR/1A8mimdHuKiAgksRPK
 +HmJjHI/Wpj/VidHS7F/e3xd/3ahAD7CZPhq4Fum4BIpL4GbqDg7NWD3RBpPCKxDnr7Hy53pzxLY2
 TrvN6FjmYrI+ywhqP1O+9q3o7JmUQajh0xjYONLrU6ol77vkWnaYjWvhSc4HTHvvbZddJhGegxoNo
 yckwstJzq569LIw/l4mowVy6l3KZ2UzdNGgHPAjo8I51atqKTWB2UQgVStRjATb/f5y2W3W0czz3L
 QkhqUezA==;
Received: from i7.infradead.org ([2001:8b0:10b:1:21e:67ff:fecb:7a92])
 by merlin.infradead.org with esmtpsa (Exim 4.92 #3 (Red Hat Linux))
 id 1i0TaJ-0001Di-FP; Wed, 21 Aug 2019 16:35:43 +0000
Received: from dwoodhou by i7.infradead.org with local (Exim 4.92 #3 (Red Hat
 Linux)) id 1i0TaI-000im7-Ls; Wed, 21 Aug 2019 17:35:42 +0100
From: David Woodhouse <dwmw2@infradead.org>
To: xen-devel@lists.xenproject.org
Date: Wed, 21 Aug 2019 17:35:41 +0100
Message-Id: <20190821163542.172063-4-dwmw2@infradead.org>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20190821163542.172063-1-dwmw2@infradead.org>
References: <012a0e6de52d8a0ad50b0b784362cf509768990e.camel@infradead.org>
 <20190821163542.172063-1-dwmw2@infradead.org>
MIME-Version: 1.0
X-SRS-Rewrite: SMTP reverse-path rewritten from <dwmw2@infradead.org> by
 merlin.infradead.org. See http://www.infradead.org/rpr.html
Subject: [Xen-devel] [PATCH v3 4/5] x86/boot: Copy 16-bit boot variables
 back up to Xen image
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogRGF2aWQgV29vZGhvdXNlIDxkd213QGFtYXpvbi5jby51az4KCkRpdGNoIHRoZSBib290
c3ltKCkgYWNjZXNzIGZyb20gQyBjb2RlIGZvciB0aGUgdmFyaWFibGVzIHBvcHVsYXRlZCBieQox
Ni1iaXQgYm9vdCBjb2RlLiBBcyB3ZWxsIGFzIGJlaW5nIGNsZWFuZXIgdGhpcyBhbHNvIHBhdmVz
IHRoZSB3YXkgZm9yCm5vdCBoYXZpbmcgdGhlIDE2LWJpdCBib290IGNvZGUgaW4gbG93IG1lbW9y
eSBmb3Igbm8tcmVhbC1tb2RlIG9yIEVGSQpsb2FkZXIgYm9vdHMgYXQgYWxsLgoKVGhlc2UgdmFy
aWFibGVzIGFyZSBwdXQgaW50byBhIHNlcGFyYXRlIC5kYXRhLmJvb3QxNiBzZWN0aW9uIGFuZAph
Y2Nlc3NlZCBpbiBsb3cgbWVtb3J5IGR1cmluZyB0aGUgcmVhbC1tb2RlIGJvb3QsIHRoZW4gY29w
aWVkIGJhY2sgdG8KdGhlaXIgbmF0aXZlIGxvY2F0aW9uIGluIHRoZSBYZW4gaW1hZ2Ugd2hlbiBy
ZWFsIG1vZGUgaGFzIGZpbmlzaGVkLgoKRml4IHRoZSBsaW1pdCBpbiBnZHRfNDggdG8gYWRtaXQg
dGhhdCB0cmFtcG9saW5lX2dkdCBhY3R1YWxseSBpbmNsdWRlcwo3IGVudHJpZXMsIHNpbmNlIHdl
IGRvIG5vdyB1c2UgdGhlIHNldmVudGggKEJPT1RfRlMpIGluIGxhdGUgY29kZSBzbyBpdAptYXR0
ZXJzLiBBbmRyZXcgaGFzIGEgcGF0Y2ggdG8gZnVydGhlciB0aWR5IHVwIHRoZSBHRFQgYW5kIGlu
aXRpYWxpc2UKYWNjZXNzZWQgYml0cyBldGMuLCBzbyBJIHdvbid0IGdvIG92ZXJib2FyZCB3aXRo
IG1vcmUgdGhhbiB0aGUgdHJpdmlhbApzaXplIGZpeCBmb3Igbm93LgoKVGhlIGJvb3RzeW0oKSBt
YWNybyByZW1haW5zIGluIEMgY29kZSBwdXJlbHkgZm9yIHRoZSB2YXJpYWJsZXMgd2hpY2gKYXJl
IHdyaXR0ZW4gZm9yIHRoZSBsYXRlciBBUCBzdGFydHVwIGFuZCB3YWtldXAgdHJhbXBvbGluZSB0
byB1c2UuCgpTaWduZWQtb2ZmLWJ5OiBEYXZpZCBXb29kaG91c2UgPGR3bXdAYW1hem9uLmNvLnVr
PgotLS0KIHhlbi9hcmNoL3g4Ni9ib290L2VkZC5TICAgICAgICAgICB8ICAyICsrCiB4ZW4vYXJj
aC94ODYvYm9vdC9oZWFkLlMgICAgICAgICAgfCAxNiArKysrKysrKysrKysrKysKIHhlbi9hcmNo
L3g4Ni9ib290L21lbS5TICAgICAgICAgICB8ICAyICsrCiB4ZW4vYXJjaC94ODYvYm9vdC90cmFt
cG9saW5lLlMgICAgfCAzMyArKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tCiB4ZW4vYXJj
aC94ODYvYm9vdC92aWRlby5TICAgICAgICAgfCAzMCArKysrKysrKysrKysrKystLS0tLS0tLS0t
LS0tCiB4ZW4vYXJjaC94ODYvcGxhdGZvcm1faHlwZXJjYWxsLmMgfCAxOCArKysrKysrKy0tLS0t
LS0tLQogeGVuL2FyY2gveDg2L3NldHVwLmMgICAgICAgICAgICAgIHwgMjIgKysrKysrKysrKy0t
LS0tLS0tLS0tCiB4ZW4vYXJjaC94ODYveGVuLmxkcy5TICAgICAgICAgICAgfCAgOSArKysrKysr
Ky0KIHhlbi9pbmNsdWRlL2FzbS14ODYvZWRkLmggICAgICAgICB8ICAxIC0KIDkgZmlsZXMgY2hh
bmdlZCwgOTQgaW5zZXJ0aW9ucygrKSwgMzkgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVu
L2FyY2gveDg2L2Jvb3QvZWRkLlMgYi94ZW4vYXJjaC94ODYvYm9vdC9lZGQuUwppbmRleCA0MzRi
YmJkOTYwLi4xMzhkMDRjOTY0IDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvYm9vdC9lZGQuUwor
KysgYi94ZW4vYXJjaC94ODYvYm9vdC9lZGQuUwpAQCAtMTYzLDYgKzE2Myw3IEBAIGVkZF9kb25l
OgogLkxlZGRfbWJyX3NpZ19za2lwOgogICAgICAgICByZXQKIAorICAgICAgICAucHVzaHNlY3Rp
b24gLmRhdGEuYm9vdDE2LCAiYXciLCBAcHJvZ2JpdHMKIEdMT0JBTChib290X2VkZF9pbmZvX25y
KQogICAgICAgICAuYnl0ZSAgIDAKIEdMT0JBTChib290X21icl9zaWduYXR1cmVfbnIpCkBAIC0x
NzEsMyArMTcyLDQgQEAgR0xPQkFMKGJvb3RfbWJyX3NpZ25hdHVyZSkKICAgICAgICAgLmZpbGwg
ICBFRERfTUJSX1NJR19NQVgqOCwxLDAKIEdMT0JBTChib290X2VkZF9pbmZvKQogICAgICAgICAu
ZmlsbCAgIEVERF9JTkZPX01BWCAqIChFRERFWFRTSVpFICsgRUREUEFSTVNJWkUpLCAxLCAwCisg
ICAgICAgIC5wb3BzZWN0aW9uCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvYm9vdC9oZWFkLlMg
Yi94ZW4vYXJjaC94ODYvYm9vdC9oZWFkLlMKaW5kZXggNDExOGY3MzY4My4uNmQzMTUwMjBkMiAx
MDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2Jvb3QvaGVhZC5TCisrKyBiL3hlbi9hcmNoL3g4Ni9i
b290L2hlYWQuUwpAQCAtNzI1LDYgKzcyNSwxNyBAQCB0cmFtcG9saW5lX3NldHVwOgogICAgICAg
ICBjbXAgICAgICRzeW1fb2ZmcyhfX2Jvb3RzeW1fc2VnX3N0b3ApLCVlZGkKICAgICAgICAgamIg
ICAgICAxYgogCisgICAgICAgIC8qIFJlbG9jYXRpb25zIGZvciB0aGUgYm9vdCBkYXRhIHNlY3Rp
b24uICovCisgICAgICAgIG1vdiAgICAgc3ltX2ZzKHRyYW1wb2xpbmVfcGh5cyksJWVkeAorICAg
ICAgICBhZGQgICAgICQoYm9vdF90cmFtcG9saW5lX2VuZCAtIGJvb3RfdHJhbXBvbGluZV9zdGFy
dCksJWVkeAorICAgICAgICBtb3YgICAgICRzeW1fb2ZmcyhfX2Jvb3RkYXRhc3ltX3JlbF9zdGFy
dCksJWVkaQorMToKKyAgICAgICAgbW92ICAgICAlZnM6KCVlZGkpLCVlYXgKKyAgICAgICAgYWRk
ICAgICAlZWR4LCVmczooJWVkaSwlZWF4KQorICAgICAgICBhZGQgICAgICQ0LCVlZGkKKyAgICAg
ICAgY21wICAgICAkc3ltX29mZnMoX19ib290ZGF0YXN5bV9yZWxfc3RvcCksJWVkaQorICAgICAg
ICBqYiAgICAgIDFiCisKICAgICAgICAgLyogRG8gbm90IHBhcnNlIGNvbW1hbmQgbGluZSBvbiBF
RkkgcGxhdGZvcm0gaGVyZS4gKi8KICAgICAgICAgY21wYiAgICAkMCxzeW1fZnMoZWZpX3BsYXRm
b3JtKQogICAgICAgICBqbnogICAgIDFmCkBAIC03NjIsNiArNzczLDExIEBAIHRyYW1wb2xpbmVf
c2V0dXA6CiAgICAgICAgIG1vdiAgICAgJCgoYm9vdF90cmFtcG9saW5lX2VuZCAtIGJvb3RfdHJh
bXBvbGluZV9zdGFydCkgLyA0KSwlZWN4CiAgICAgICAgIHJlcCBtb3ZzbCAlZnM6KCVlc2kpLCVl
czooJWVkaSkKIAorICAgICAgICAvKiBDb3B5IGJvb3QgZGF0YSB0ZW1wbGF0ZSB0byBsb3cgbWVt
b3J5LiAqLworICAgICAgICBtb3YgICAgICRzeW1fb2Zmcyhib290ZGF0YV9zdGFydCksJWVzaQor
ICAgICAgICBtb3YgICAgICQoKGJvb3RkYXRhX2VuZCAtIGJvb3RkYXRhX3N0YXJ0KSAvIDQpLCVl
Y3gKKyAgICAgICAgcmVwIG1vdnNsICVmczooJWVzaSksJWVzOiglZWRpKQorCiAgICAgICAgIC8q
IEp1bXAgaW50byB0aGUgcmVsb2NhdGVkIHRyYW1wb2xpbmUuICovCiAgICAgICAgIGxyZXQKIApk
aWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2Jvb3QvbWVtLlMgYi94ZW4vYXJjaC94ODYvYm9vdC9t
ZW0uUwppbmRleCBjNWJjNzc0MzI1Li45ZWVjMWM2YWUyIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94
ODYvYm9vdC9tZW0uUworKysgYi94ZW4vYXJjaC94ODYvYm9vdC9tZW0uUwpAQCAtNjcsNiArNjcs
NyBAQCBnZXRfbWVtb3J5X21hcDoKICAgICAgICAgcmV0CiAKICAgICAgICAgLmFsaWduICA0Cisg
ICAgICAgIC5wdXNoc2VjdGlvbiAuZGF0YS5ib290MTYsICJhdyIsIEBwcm9nYml0cwogR0xPQkFM
KGJpb3NfZTgyMG1hcCkKICAgICAgICAgLmZpbGwgICBFODIwX0JJT1NfTUFYKjIwLDEsMAogR0xP
QkFMKGJpb3NfZTgyMG5yKQpAQCAtNzUsMyArNzYsNCBAQCBHTE9CQUwobG93bWVtX2tiKQogICAg
ICAgICAubG9uZyAgIDAKIEdMT0JBTChoaWdobWVtX2tiKQogICAgICAgICAubG9uZyAgIDAKKwku
cG9wc2VjdGlvbgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2Jvb3QvdHJhbXBvbGluZS5TIGIv
eGVuL2FyY2gveDg2L2Jvb3QvdHJhbXBvbGluZS5TCmluZGV4IDcxZDU0MjQxNzkuLmM3NDdkNzA0
MDQgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9ib290L3RyYW1wb2xpbmUuUworKysgYi94ZW4v
YXJjaC94ODYvYm9vdC90cmFtcG9saW5lLlMKQEAgLTQ3LDExICs0NywxNSBAQAogICAgICAgICAu
bG9uZyAxMTFiIC0gKG9mZikgLSAuOyAgICAgICAgICAgIFwKICAgICAgICAgLnBvcHNlY3Rpb24K
IAotI2RlZmluZSBib290ZGF0YXN5bShzKSAoKHMpLWJvb3RfdHJhbXBvbGluZV9zdGFydCkKKyAg
ICAgICAgLnB1c2hzZWN0aW9uIC5kYXRhLmJvb3QxNiwgImF3IiwgQHByb2diaXRzCitHTE9CQUwo
Ym9vdGRhdGFfc3RhcnQpCisgICAgICAgIC5wb3BzZWN0aW9uCisKKyNkZWZpbmUgYm9vdGRhdGFz
eW0ocykgKChzKS1ib290ZGF0YV9zdGFydCsoYm9vdF90cmFtcG9saW5lX2VuZC1ib290X3RyYW1w
b2xpbmVfc3RhcnQpKQogI2RlZmluZSBib290ZGF0YXN5bV9yZWwoc3ltLCBvZmYsIG9wbmQuLi4p
IFwKICAgICAgICAgYm9vdGRhdGFzeW0oc3ltKSwjI29wbmQ7ICAgICAgICAgICBcCiAxMTE6OyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAotICAgICAgICAucHVzaHNlY3Rp
b24gLmJvb3RkYXRhc3ltX3JlbCwgImEiO1wKKyAgICAgICAgLnB1c2hzZWN0aW9uIC5ib290c3lt
X3JlbCwgImEiO1wKICAgICAgICAgLmxvbmcgMTExYiAtIChvZmYpIC0gLjsgICAgICAgICAgICBc
CiAgICAgICAgIC5wb3BzZWN0aW9uCiAKQEAgLTIyNyw3ICsyMzEsNyBAQCBzdGFydDY0OgogICAg
ICAgICAud29yZCAgIDAKIGlkdF80ODogLndvcmQgICAwLCAwLCAwICMgYmFzZSA9IGxpbWl0ID0g
MAogICAgICAgICAud29yZCAgIDAKLWdkdF80ODogLndvcmQgICA2KjgtMQorZ2R0XzQ4OiAud29y
ZCAgIDcqOC0xCiAgICAgICAgIC5sb25nICAgdHJhbXAzMnN5bV9yZWwodHJhbXBvbGluZV9nZHQs
NCkKIAogLyogVGhlIGZpcnN0IHBhZ2Ugb2YgdHJhbXBvbGluZSBpcyBwZXJtYW5lbnQsIHRoZSBy
ZXN0IGJvb3QtdGltZSBvbmx5LiAqLwpAQCAtMzE4LDYgKzMyMiwyMyBAQCB0cmFtcG9saW5lX2Jv
b3RfY3B1X2VudHJ5OgogICAgICAgICBtb3YgICAgICVlYXgsJWdzCiAgICAgICAgIG1vdiAgICAg
JWVheCwlc3MKIAorICAgICAgICAvKgorICAgICAgICAgKiBDb3B5IGxvY2FsbHktZ2F0aGVyZWQg
ZGF0YSBiYWNrIHVwIGludG8gdGhlIFhlbiBwaHlzaWNhbCBpbWFnZQorICAgICAgICAgKi8KKyAg
ICAgICAgbW92ICAgICAkQk9PVF9GUywlZWF4CisgICAgICAgIG1vdiAgICAgJWVheCwlZXMKKwor
ICAgICAgICBtb3YgICAgICRzeW1fb2Zmcyhib290ZGF0YV9lbmQpLCVlY3gKKyAgICAgICAgbW92
ICAgICAkc3ltX29mZnMoYm9vdGRhdGFfc3RhcnQpLCVlZGkKKyAgICAgICAgc3ViICAgICAlZWRp
LCVlY3gKKyAgICAgICAgbW92ICAgICAkYm9vdGRhdGFzeW1fcmVsKGJvb3RkYXRhX3N0YXJ0LDQs
JWVzaSkKKyAgICAgICAgcmVwIG1vdnNiICVkczooJWVzaSksJWVzOiglZWRpKQorCisgICAgICAg
IC8qCisgICAgICAgICAqICVlcyBzdGlsbCBwb2ludHMgdG8gQk9PVF9GUyBidXQgdHJhbXBvbGlu
ZV9wcm90bW9kZV9lbnRyeQorICAgICAgICAgKiByZWxvYWRzIGl0IGFueXdheS4KKyAgICAgICAg
ICovCisKICAgICAgICAgLyogRUJYID09IDAgaW5kaWNhdGVzIHdlIGFyZSB0aGUgQlAgKEJvb3Qg
UHJvY2Vzc29yKS4gKi8KICAgICAgICAgeG9yICAgICAlZWJ4LCVlYngKIApAQCAtMzQ1LDggKzM2
NiwxMCBAQCB2ZXNhX3NpemU6CiAgICAgICAgIC53b3JkICAgMCwwLDAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAvKiB3aWR0aCB4IGRlcHRoIHggaGVpZ2h0ICovCiAjZW5kaWYKIAorICAgICAg
ICAucHVzaHNlY3Rpb24gLmRhdGEuYm9vdDE2LCAiYXciLCBAcHJvZ2JpdHMKIEdMT0JBTChrYmRf
c2hpZnRfZmxhZ3MpCiAgICAgICAgIC5ieXRlICAgMAorICAgICAgICAucG9wc2VjdGlvbgogCiBy
bV9pZHQ6IC53b3JkICAgMjU2KjQtMSwgMCwgMAogCkBAIC0zNTUsMyArMzc4LDcgQEAgcm1faWR0
OiAud29yZCAgIDI1Nio0LTEsIDAsIDAKICNpZmRlZiBDT05GSUdfVklERU8KICNpbmNsdWRlICJ2
aWRlby5TIgogI2VuZGlmCisKKyAgICAgICAgLnB1c2hzZWN0aW9uIC5kYXRhLmJvb3QxNiwgImF3
IiwgQHByb2diaXRzCitHTE9CQUwoYm9vdGRhdGFfZW5kKQorICAgICAgICAucG9wc2VjdGlvbgpk
aWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2Jvb3QvdmlkZW8uUyBiL3hlbi9hcmNoL3g4Ni9ib290
L3ZpZGVvLlMKaW5kZXggNTA4N2M2YTRkNS4uNDYwODQ2NGI3NyAxMDA2NDQKLS0tIGEveGVuL2Fy
Y2gveDg2L2Jvb3QvdmlkZW8uUworKysgYi94ZW4vYXJjaC94ODYvYm9vdC92aWRlby5TCkBAIC0x
NSwxMCArMTUsMTAgQEAKIAogI2luY2x1ZGUgInZpZGVvLmgiCiAKLS8qIFNjcmF0Y2ggc3BhY2Ug
bGF5b3V0OiBib290X3RyYW1wb2xpbmVfZW5kIHRvIGJvb3RfdHJhbXBvbGluZV9lbmQrMHgxMDAw
LiAqLwotI2RlZmluZSBtb2RlbGlzdCAgICAgICBib290c3ltKGJvb3RfdHJhbXBvbGluZV9lbmQp
ICAgLyogMmtCICgyNTYgZW50cmllcykgKi8KLSNkZWZpbmUgdmVzYV9nbG9iX2luZm8gKG1vZGVs
aXN0ICsgMHg4MDApICAgICAgICAvKiAxa0IgKi8KLSNkZWZpbmUgdmVzYV9tb2RlX2luZm8gKHZl
c2FfZ2xvYl9pbmZvICsgMHg0MDApICAvKiAxa0IgKi8KKy8qIFNjcmF0Y2ggc3BhY2UgbGF5b3V0
OiBib290ZGF0YV9lbmQgdG8gYm9vdGRhdGFfZW5kKzB4MTAwMC4gKi8KKyNkZWZpbmUgbW9kZWxp
c3QodCkgICAgICAgYm9vdGRhdGFzeW1fcmVsKGJvb3RkYXRhX2VuZCwyLHQpICAgICAgICAgLyog
MktpQiAoMjU2IGVudHJpZXMpICovCisjZGVmaW5lIHZlc2FfZ2xvYl9pbmZvKHQpIGJvb3RkYXRh
c3ltX3JlbCgoYm9vdGRhdGFfZW5kKzB4ODAwKSwyLHQpIC8qIDFLaUIgKi8KKyNkZWZpbmUgdmVz
YV9tb2RlX2luZm8odCkgYm9vdGRhdGFzeW1fcmVsKChib290ZGF0YV9lbmQrMHhjMDApLDIsdCkg
LyogMUtpQiAqLwogCiAvKiBSZXRyaWV2ZSBFeHRlbmRlZCBEaXNwbGF5IElkZW50aWZpY2F0aW9u
IERhdGEuICovCiAjZGVmaW5lIENPTkZJR19GSVJNV0FSRV9FRElECkBAIC0xMTMsNyArMTEzLDcg
QEAgbW9wYXIyOiBtb3ZiICAgICVhbCwgX3BhcmFtKFBBUkFNX1ZJREVPX0xJTkVTKQogCiAjIEZl
dGNoaW5nIG9mIFZFU0EgZnJhbWUgYnVmZmVyIHBhcmFtZXRlcnMKIG1vcGFyX2dyOgotICAgICAg
ICBsZWF3ICAgIHZlc2FfbW9kZV9pbmZvLCAlZGkKKyAgICAgICAgbGVhdyAgICB2ZXNhX21vZGVf
aW5mbyglZGkpCiAgICAgICAgIG1vdmIgICAgJDB4MjMsIF9wYXJhbShQQVJBTV9IQVZFX1ZHQSkK
ICAgICAgICAgbW92dyAgICAxNiglZGkpLCAlYXgKICAgICAgICAgbW92dyAgICAlYXgsIF9wYXJh
bShQQVJBTV9MRkJfTElORUxFTkdUSCkKQEAgLTEzNCw3ICsxMzQsNyBAQCBtb3Bhcl9ncjoKICAg
ICAgICAgbW92dyAgICAlYXgsIF9wYXJhbShQQVJBTV9WRVNBX0FUVFJJQikKIAogIyBnZXQgdmlk
ZW8gbWVtIHNpemUKLSAgICAgICAgbGVhdyAgICB2ZXNhX2dsb2JfaW5mbywgJWRpCisgICAgICAg
IGxlYXcgICAgdmVzYV9nbG9iX2luZm8oJWRpKQogICAgICAgICB4b3JsICAgICVlYXgsICVlYXgK
ICAgICAgICAgbW92dyAgICAxOCglZGkpLCAlYXgKICAgICAgICAgbW92bCAgICAlZWF4LCBfcGFy
YW0oUEFSQU1fTEZCX1NJWkUpCkBAIC0yMjYsNyArMjI2LDcgQEAgYW4xOiAgICBjYWxsICAgIHBy
dHN0cgogICAgICAgICBsZWF3ICAgIGJvb3RzeW0obGlzdGhkciksICVzaSAgICMgVGFibGUgaGVh
ZGVyCiAgICAgICAgIGNhbGwgICAgcHJ0c3RyCiAgICAgICAgIG1vdmIgICAgJDB4MzAsICVkbCAg
ICAgICAgICAgICAgIyBETCBob2xkcyBtb2RlIG51bWJlcgotICAgICAgICBsZWF3ICAgIG1vZGVs
aXN0LCAlc2kKKyAgICAgICAgbGVhdyAgICBtb2RlbGlzdCglc2kpCiBsbTE6ICAgIGNtcHcgICAg
JEFTS19WR0EsICglc2kpICAgICAgICAgIyBFbmQ/CiAgICAgICAgIGp6ICAgICAgbG0yCiAKQEAg
LTQzNSwxMyArNDM1LDEzIEBAIHNldG1lbnU6CiAgICAgICAgIGptcCAgICAgbW9kZV9zZXQKIAog
Y2hlY2tfdmVzYToKLSAgICAgICAgbGVhdyAgICB2ZXNhX2dsb2JfaW5mbywgJWRpCisgICAgICAg
IGxlYXcgICAgdmVzYV9nbG9iX2luZm8oJWRpKQogICAgICAgICBtb3Z3ICAgICQweDRmMDAsICVh
eAogICAgICAgICBpbnQgICAgICQweDEwCiAgICAgICAgIGNtcHcgICAgJDB4MDA0ZiwgJWF4CiAg
ICAgICAgIGpueiAgICAgc2V0YmFkCiAKLSAgICAgICAgbGVhdyAgICB2ZXNhX21vZGVfaW5mbywg
JWRpCisgICAgICAgIGxlYXcgICAgdmVzYV9tb2RlX2luZm8oJWRpKQogICAgICAgICBzdWJiICAg
ICRWSURFT19GSVJTVF9WRVNBPj44LCAlYmgKICAgICAgICAgbW92dyAgICAlYngsICVjeCAgICAg
ICAgICAgICAgICAjIEdldCBtb2RlIGluZm9ybWF0aW9uIHN0cnVjdHVyZQogICAgICAgICBtb3Z3
ICAgICQweDRmMDEsICVheApAQCAtNTA5LDcgKzUwOSw3IEBAIGluaWR4OiAgb3V0YiAgICAlYWws
ICVkeCAgICAgICAgICAgICAgICAjIFJlYWQgZnJvbSBpbmRleGVkIFZHQSByZWdpc3RlcgogCiBz
ZXR2ZXNhYnlzaXplOgogICAgICAgICBjYWxsICAgIG1vZGVfdGFibGUKLSAgICAgICAgbGVhdyAg
ICBtb2RlbGlzdCwlc2kKKyAgICAgICAgbGVhdyAgICBtb2RlbGlzdCglc2kpCiAxOiAgICAgIGFk
ZCAgICAgJDgsJXNpCiAgICAgICAgIGNtcHcgICAgJEFTS19WR0EsLTgoJXNpKSAgICAgICAgIyBF
bmQ/CiAgICAgICAgIGplICAgICAgX3NldGJhZApAQCAtNjY5LDcgKzY2OSw3IEBAIG1vZGVfdGFi
bGU6CiAgICAgICAgIG9ydyAgICAgJWRpLCAlZGkKICAgICAgICAgam56ICAgICBtdGFiMQogCi0g
ICAgICAgIGxlYXcgICAgbW9kZWxpc3QsICVkaSAgICAgICAgICAgIyBTdG9yZSBzdGFuZGFyZCBt
b2RlczoKKyAgICAgICAgbGVhdyAgICBtb2RlbGlzdCglZGkpICAgICAgICAgICAjIFN0b3JlIHN0
YW5kYXJkIG1vZGVzOgogICAgICAgICBtb3Z3ICAgICRWSURFT184MHgyNSwoJWRpKSAgICAgICMg
VGhlIDgweDI1IG1vZGUgKEFMTCkKICAgICAgICAgbW92dyAgICAkMHg1MCwyKCVkaSkKICAgICAg
ICAgbW92dyAgICAkMHgxOSw0KCVkaSkKQEAgLTY4NCw3ICs2ODQsNyBAQCBtb2RlX3RhYmxlOgog
CiAgICAgICAgIG1vdncgICAgJEFTS19WR0EsICglZGkpICAgICAgICAgIyBFbmQgbWFya2VyCiAg
ICAgICAgIG1vdncgICAgJWRpLCBib290c3ltKG10X2VuZCkKLW10YWIxOiAgbGVhdyAgICBtb2Rl
bGlzdCwgJXNpICAgICAgICAgICAjIFNJPW1vZGUgbGlzdCwgREk9bGlzdCBlbmQKK210YWIxOiAg
bGVhdyAgICBtb2RlbGlzdCglc2kpICAgICAgICAgICAjIFNJPW1vZGUgbGlzdCwgREk9bGlzdCBl
bmQKIHJldDA6ICAgcmV0CiAKICMgTW9kZXMgdXNhYmxlIG9uIGFsbCBzdGFuZGFyZCBWR0FzCkBA
IC03MDAsNyArNzAwLDcgQEAgdmdhX21vZGVzX2VuZDoKICMgRGV0ZWN0IFZFU0EgbW9kZXMuCiB2
ZXNhX21vZGVzOgogICAgICAgICBtb3Z3ICAgICVkaSwgJWJwICAgICAgICAgICAgICAgICMgQlA9
b3JpZ2luYWwgbW9kZSB0YWJsZSBlbmQKLSAgICAgICAgbGVhdyAgICB2ZXNhX2dsb2JfaW5mbywg
JWRpCisgICAgICAgIGxlYXcgICAgdmVzYV9nbG9iX2luZm8oJWRpKQogICAgICAgICBtb3Z3ICAg
ICQweDRmMDAsICVheCAgICAgICAgICAgICMgVkVTQSBHZXQgY2FyZCBpbmZvIGNhbGwKICAgICAg
ICAgaW50ICAgICAkMHgxMAogICAgICAgICBtb3Z3ICAgICVkaSwgJXNpCkBAIC04OTcsNyArODk3
LDcgQEAgc3RvcmVfZWRpZDoKICAgICAgICAgY21wYiAgICAkMSwgYm9vdHN5bShvcHRfZWRpZCkg
ICAjIEVESUQgZGlzYWJsZWQgb24gY21kbGluZSAoZWRpZD1ubyk/CiAgICAgICAgIGplICAgICAg
Lkxub19lZGlkCiAKLSAgICAgICAgbGVhdyAgICB2ZXNhX2dsb2JfaW5mbywgJWRpCisgICAgICAg
IGxlYXcgICAgdmVzYV9nbG9iX2luZm8oJWRpKQogICAgICAgICBtb3Z3ICAgICQweDRmMDAsICVh
eAogICAgICAgICBpbnQgICAgICQweDEwCiAgICAgICAgIGNtcHcgICAgJDB4MDA0ZiwgJWF4CkBA
IC05OTAsNiArOTkwLDcgQEAgbmFtZV9iYW5uOiAgICAgIC5hc2NpeiAgIlZpZGVvIGFkYXB0ZXI6
ICIKIAogZm9yY2Vfc2l6ZTogICAgIC53b3JkICAgMCAgICAgICAjIFVzZSB0aGlzIHNpemUgaW5z
dGVhZCBvZiB0aGUgb25lIGluIEJJT1MgdmFycwogCisgICAgICAgIC5wdXNoc2VjdGlvbiAuZGF0
YS5ib290MTYsICJhdyIsIEBwcm9nYml0cwogR0xPQkFMKGJvb3RfdmlkX2luZm8pCiAgICAgICAg
IC5ieXRlICAgMCwgMCAgICAvKiBvcmlnX3gsIG9yaWdfeSAqLwogICAgICAgICAuYnl0ZSAgIDMg
ICAgICAgLyogdGV4dCBtb2RlIDMgICAgKi8KQEAgLTEwMDEsMyArMTAwMiw0IEBAIEdMT0JBTChi
b290X2VkaWRfaW5mbykKICAgICAgICAgLmZpbGwgICAxMjgsMSwweDEzCiBHTE9CQUwoYm9vdF9l
ZGlkX2NhcHMpCiAgICAgICAgIC53b3JkICAgMHgxMzEzCisgICAgICAgIC5wb3BzZWN0aW9uCmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvcGxhdGZvcm1faHlwZXJjYWxsLmMgYi94ZW4vYXJjaC94
ODYvcGxhdGZvcm1faHlwZXJjYWxsLmMKaW5kZXggYjE5ZjZlYzRlZC4uOWE1NmJkOGY4NCAxMDA2
NDQKLS0tIGEveGVuL2FyY2gveDg2L3BsYXRmb3JtX2h5cGVyY2FsbC5jCisrKyBiL3hlbi9hcmNo
L3g4Ni9wbGF0Zm9ybV9oeXBlcmNhbGwuYwpAQCAtMzE4LDEwICszMTgsMTAgQEAgcmV0X3QgZG9f
cGxhdGZvcm1fb3AoWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fcGxhdGZvcm1fb3BfdCkgdV94
ZW5wZl9vcCkKICAgICAgICAgICAgIHUxNiBsZW5ndGg7CiAKICAgICAgICAgICAgIHJldCA9IC1F
U1JDSDsKLSAgICAgICAgICAgIGlmICggb3AtPnUuZmlybXdhcmVfaW5mby5pbmRleCA+PSBib290
c3ltKGJvb3RfZWRkX2luZm9fbnIpICkKKyAgICAgICAgICAgIGlmICggb3AtPnUuZmlybXdhcmVf
aW5mby5pbmRleCA+PSBib290X2VkZF9pbmZvX25yICkKICAgICAgICAgICAgICAgICBicmVhazsK
IAotICAgICAgICAgICAgaW5mbyA9IGJvb3RzeW0oYm9vdF9lZGRfaW5mbykgKyBvcC0+dS5maXJt
d2FyZV9pbmZvLmluZGV4OworICAgICAgICAgICAgaW5mbyA9IGJvb3RfZWRkX2luZm8gKyBvcC0+
dS5maXJtd2FyZV9pbmZvLmluZGV4OwogCiAgICAgICAgICAgICAvKiBUcmFuc2ZlciB0aGUgRURE
IGluZm8gYmxvY2suICovCiAgICAgICAgICAgICByZXQgPSAtRUZBVUxUOwpAQCAtMzU3LDEwICsz
NTcsMTAgQEAgcmV0X3QgZG9fcGxhdGZvcm1fb3AoWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5f
cGxhdGZvcm1fb3BfdCkgdV94ZW5wZl9vcCkKICAgICAgICAgICAgIGNvbnN0IHN0cnVjdCBtYnJf
c2lnbmF0dXJlICpzaWc7CiAKICAgICAgICAgICAgIHJldCA9IC1FU1JDSDsKLSAgICAgICAgICAg
IGlmICggb3AtPnUuZmlybXdhcmVfaW5mby5pbmRleCA+PSBib290c3ltKGJvb3RfbWJyX3NpZ25h
dHVyZV9ucikgKQorICAgICAgICAgICAgaWYgKCBvcC0+dS5maXJtd2FyZV9pbmZvLmluZGV4ID49
IGJvb3RfbWJyX3NpZ25hdHVyZV9uciApCiAgICAgICAgICAgICAgICAgYnJlYWs7CiAKLSAgICAg
ICAgICAgIHNpZyA9IGJvb3RzeW0oYm9vdF9tYnJfc2lnbmF0dXJlKSArIG9wLT51LmZpcm13YXJl
X2luZm8uaW5kZXg7CisgICAgICAgICAgICBzaWcgPSBib290X21icl9zaWduYXR1cmUgKyBvcC0+
dS5maXJtd2FyZV9pbmZvLmluZGV4OwogCiAgICAgICAgICAgICBvcC0+dS5maXJtd2FyZV9pbmZv
LnUuZGlza19tYnJfc2lnbmF0dXJlLmRldmljZSA9IHNpZy0+ZGV2aWNlOwogICAgICAgICAgICAg
b3AtPnUuZmlybXdhcmVfaW5mby51LmRpc2tfbWJyX3NpZ25hdHVyZS5tYnJfc2lnbmF0dXJlID0K
QEAgLTM3NiwxMyArMzc2LDEzIEBAIHJldF90IGRvX3BsYXRmb3JtX29wKFhFTl9HVUVTVF9IQU5E
TEVfUEFSQU0oeGVuX3BsYXRmb3JtX29wX3QpIHVfeGVucGZfb3ApCiAjaWZkZWYgQ09ORklHX1ZJ
REVPCiAgICAgICAgICAgICBpZiAoIG9wLT51LmZpcm13YXJlX2luZm8uaW5kZXggIT0gMCApCiAg
ICAgICAgICAgICAgICAgYnJlYWs7Ci0gICAgICAgICAgICBpZiAoICoodTMyICopYm9vdHN5bShi
b290X2VkaWRfaW5mbykgPT0gMHgxMzEzMTMxMyApCisgICAgICAgICAgICBpZiAoICoodTMyICop
Ym9vdF9lZGlkX2luZm8gPT0gMHgxMzEzMTMxMyApCiAgICAgICAgICAgICAgICAgYnJlYWs7CiAK
ICAgICAgICAgICAgIG9wLT51LmZpcm13YXJlX2luZm8udS52YmVkZGNfaW5mby5jYXBhYmlsaXRp
ZXMgPQotICAgICAgICAgICAgICAgIGJvb3RzeW0oYm9vdF9lZGlkX2NhcHMpOworICAgICAgICAg
ICAgICAgIGJvb3RfZWRpZF9jYXBzOwogICAgICAgICAgICAgb3AtPnUuZmlybXdhcmVfaW5mby51
LnZiZWRkY19pbmZvLmVkaWRfdHJhbnNmZXJfdGltZSA9Ci0gICAgICAgICAgICAgICAgYm9vdHN5
bShib290X2VkaWRfY2FwcykgPj4gODsKKyAgICAgICAgICAgICAgICBib290X2VkaWRfY2FwcyA+
PiA4OwogCiAgICAgICAgICAgICByZXQgPSAwOwogICAgICAgICAgICAgaWYgKCBfX2NvcHlfZmll
bGRfdG9fZ3Vlc3QodV94ZW5wZl9vcCwgb3AsIHUuZmlybXdhcmVfaW5mby4KQEAgLTM5MCw3ICsz
OTAsNyBAQCByZXRfdCBkb19wbGF0Zm9ybV9vcChYRU5fR1VFU1RfSEFORExFX1BBUkFNKHhlbl9w
bGF0Zm9ybV9vcF90KSB1X3hlbnBmX29wKQogICAgICAgICAgICAgICAgICBfX2NvcHlfZmllbGRf
dG9fZ3Vlc3QodV94ZW5wZl9vcCwgb3AsIHUuZmlybXdhcmVfaW5mby4KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHUudmJlZGRjX2luZm8uZWRpZF90cmFuc2Zlcl90aW1l
KSB8fAogICAgICAgICAgICAgICAgICBjb3B5X3RvX2NvbXBhdChvcC0+dS5maXJtd2FyZV9pbmZv
LnUudmJlZGRjX2luZm8uZWRpZCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9v
dHN5bShib290X2VkaWRfaW5mbyksIDEyOCkgKQorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBib290X2VkaWRfaW5mbywgMTI4KSApCiAgICAgICAgICAgICAgICAgcmV0ID0gLUVGQVVM
VDsKICNlbmRpZgogICAgICAgICAgICAgYnJlYWs7CkBAIC00MDcsNyArNDA3LDcgQEAgcmV0X3Qg
ZG9fcGxhdGZvcm1fb3AoWEVOX0dVRVNUX0hBTkRMRV9QQVJBTSh4ZW5fcGxhdGZvcm1fb3BfdCkg
dV94ZW5wZl9vcCkKICAgICAgICAgICAgIGlmICggb3AtPnUuZmlybXdhcmVfaW5mby5pbmRleCAh
PSAwICkKICAgICAgICAgICAgICAgICBicmVhazsKIAotICAgICAgICAgICAgb3AtPnUuZmlybXdh
cmVfaW5mby51LmtiZF9zaGlmdF9mbGFncyA9IGJvb3RzeW0oa2JkX3NoaWZ0X2ZsYWdzKTsKKyAg
ICAgICAgICAgIG9wLT51LmZpcm13YXJlX2luZm8udS5rYmRfc2hpZnRfZmxhZ3MgPSBrYmRfc2hp
ZnRfZmxhZ3M7CiAKICAgICAgICAgICAgIHJldCA9IDA7CiAgICAgICAgICAgICBpZiAoIF9fY29w
eV9maWVsZF90b19ndWVzdCh1X3hlbnBmX29wLCBvcCwKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9zZXR1cC5jIGIveGVuL2FyY2gveDg2L3NldHVwLmMKaW5kZXggOTEwZTUzMDJkMy4uNWM4MThj
YWVkMiAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3NldHVwLmMKKysrIGIveGVuL2FyY2gveDg2
L3NldHVwLmMKQEAgLTUwNiw3ICs1MDYsNyBAQCBleHRlcm4gc3RydWN0IGJvb3RfdmlkZW9faW5m
byBib290X3ZpZF9pbmZvOwogc3RhdGljIHZvaWQgX19pbml0IHBhcnNlX3ZpZGVvX2luZm8odm9p
ZCkKIHsKICNpZmRlZiBDT05GSUdfVklERU8KLSAgICBzdHJ1Y3QgYm9vdF92aWRlb19pbmZvICpi
dmkgPSAmYm9vdHN5bShib290X3ZpZF9pbmZvKTsKKyAgICBzdHJ1Y3QgYm9vdF92aWRlb19pbmZv
ICpidmkgPSAmYm9vdF92aWRfaW5mbzsKIAogICAgIC8qIHZnYV9jb25zb2xlX2luZm8gaXMgZmls
bGVkIGRpcmVjdGx5IG9uIEVGSSBwbGF0Zm9ybS4gKi8KICAgICBpZiAoIGVmaV9lbmFibGVkKEVG
SV9CT09UKSApCkBAIC02NzEsMTAgKzY3MSwxMCBAQCBzdGF0aWMgY2hhciAqIF9faW5pdCBjbWRs
aW5lX2Nvb2soY2hhciAqcCwgY29uc3QgY2hhciAqbG9hZGVyX25hbWUpCiAKIHN0YXRpYyB1bnNp
Z25lZCBpbnQgX19pbml0IGNvcHlfYmlvc19lODIwKHN0cnVjdCBlODIwZW50cnkgKm1hcCwgdW5z
aWduZWQgaW50IGxpbWl0KQogewotICAgIHVuc2lnbmVkIGludCBuID0gbWluKGJvb3RzeW0oYmlv
c19lODIwbnIpLCBsaW1pdCk7CisgICAgdW5zaWduZWQgaW50IG4gPSBtaW4oYmlvc19lODIwbnIs
IGxpbWl0KTsKIAogICAgIGlmICggbiApCi0gICAgICAgIG1lbWNweShtYXAsIGJvb3RzeW0oYmlv
c19lODIwbWFwKSwgc2l6ZW9mKCptYXApICogbik7CisgICAgICAgIG1lbWNweShtYXAsIGJpb3Nf
ZTgyMG1hcCwgc2l6ZW9mKCptYXApICogbik7CiAKICAgICByZXR1cm4gbjsKIH0KQEAgLTgxNSwx
NSArODE1LDE1IEBAIHZvaWQgX19pbml0IG5vcmV0dXJuIF9fc3RhcnRfeGVuKHVuc2lnbmVkIGxv
bmcgbWJpX3ApCiAgICAgfQogCiAgICAgLyogUHJpbnQgVkJFL0REQyBFRElEIGluZm9ybWF0aW9u
LiAqLwotICAgIGlmICggYm9vdHN5bShib290X2VkaWRfY2FwcykgIT0gMHgxMzEzICkKKyAgICBp
ZiAoIGJvb3RfZWRpZF9jYXBzICE9IDB4MTMxMyApCiAgICAgewotICAgICAgICB1MTYgY2FwcyA9
IGJvb3RzeW0oYm9vdF9lZGlkX2NhcHMpOworICAgICAgICB1MTYgY2FwcyA9IGJvb3RfZWRpZF9j
YXBzOwogICAgICAgICBwcmludGsoIiBWQkUvRERDIG1ldGhvZHM6JXMlcyVzOyAiLAogICAgICAg
ICAgICAgICAgKGNhcHMgJiAxKSA/ICIgVjEiIDogIiIsCiAgICAgICAgICAgICAgICAoY2FwcyAm
IDIpID8gIiBWMiIgOiAiIiwKICAgICAgICAgICAgICAgICEoY2FwcyAmIDMpID8gIiBub25lIiA6
ICIiKTsKICAgICAgICAgcHJpbnRrKCJFRElEIHRyYW5zZmVyIHRpbWU6ICVkIHNlY29uZHNcbiIs
IGNhcHMgPj4gOCk7Ci0gICAgICAgIGlmICggKih1MzIgKilib290c3ltKGJvb3RfZWRpZF9pbmZv
KSA9PSAweDEzMTMxMzEzICkKKyAgICAgICAgaWYgKCAqKHUzMiAqKWJvb3RfZWRpZF9pbmZvID09
IDB4MTMxMzEzMTMgKQogICAgICAgICB7CiAgICAgICAgICAgICBwcmludGsoIiBFRElEIGluZm8g
bm90IHJldHJpZXZlZCBiZWNhdXNlICIpOwogICAgICAgICAgICAgaWYgKCAhKGNhcHMgJiAzKSAp
CkBAIC04MzgsOSArODM4LDkgQEAgdm9pZCBfX2luaXQgbm9yZXR1cm4gX19zdGFydF94ZW4odW5z
aWduZWQgbG9uZyBtYmlfcCkKIAogICAgIHByaW50aygiRGlzYyBpbmZvcm1hdGlvbjpcbiIpOwog
ICAgIHByaW50aygiIEZvdW5kICVkIE1CUiBzaWduYXR1cmVzXG4iLAotICAgICAgICAgICBib290
c3ltKGJvb3RfbWJyX3NpZ25hdHVyZV9ucikpOworICAgICAgICAgICBib290X21icl9zaWduYXR1
cmVfbnIpOwogICAgIHByaW50aygiIEZvdW5kICVkIEVERCBpbmZvcm1hdGlvbiBzdHJ1Y3R1cmVz
XG4iLAotICAgICAgICAgICBib290c3ltKGJvb3RfZWRkX2luZm9fbnIpKTsKKyAgICAgICAgICAg
Ym9vdF9lZGRfaW5mb19ucik7CiAKICAgICAvKiBDaGVjayB0aGF0IHdlIGhhdmUgYXQgbGVhc3Qg
b25lIE11bHRpYm9vdCBtb2R1bGUuICovCiAgICAgaWYgKCAhKG1iaS0+ZmxhZ3MgJiBNQklfTU9E
VUxFUykgfHwgKG1iaS0+bW9kc19jb3VudCA9PSAwKSApCkBAIC05MjMsMTQgKzkyMywxNCBAQCB2
b2lkIF9faW5pdCBub3JldHVybiBfX3N0YXJ0X3hlbih1bnNpZ25lZCBsb25nIG1iaV9wKQogICAg
ICAgICAgICAgYnl0ZXMgKz0gbWFwLT5zaXplICsgNDsKICAgICAgICAgfQogICAgIH0KLSAgICBl
bHNlIGlmICggYm9vdHN5bShsb3dtZW1fa2IpICkKKyAgICBlbHNlIGlmICggbG93bWVtX2tiICkK
ICAgICB7CiAgICAgICAgIG1lbW1hcF90eXBlID0gIlhlbi1lODAxIjsKICAgICAgICAgZTgyMF9y
YXcubWFwWzBdLmFkZHIgPSAwOwotICAgICAgICBlODIwX3Jhdy5tYXBbMF0uc2l6ZSA9IGJvb3Rz
eW0obG93bWVtX2tiKSA8PCAxMDsKKyAgICAgICAgZTgyMF9yYXcubWFwWzBdLnNpemUgPSBsb3dt
ZW1fa2IgPDwgMTA7CiAgICAgICAgIGU4MjBfcmF3Lm1hcFswXS50eXBlID0gRTgyMF9SQU07CiAg
ICAgICAgIGU4MjBfcmF3Lm1hcFsxXS5hZGRyID0gMHgxMDAwMDA7Ci0gICAgICAgIGU4MjBfcmF3
Lm1hcFsxXS5zaXplID0gYm9vdHN5bShoaWdobWVtX2tiKSA8PCAxMDsKKyAgICAgICAgZTgyMF9y
YXcubWFwWzFdLnNpemUgPSBoaWdobWVtX2tiIDw8IDEwOwogICAgICAgICBlODIwX3Jhdy5tYXBb
MV0udHlwZSA9IEU4MjBfUkFNOwogICAgICAgICBlODIwX3Jhdy5ucl9tYXAgPSAyOwogICAgIH0K
ZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni94ZW4ubGRzLlMgYi94ZW4vYXJjaC94ODYveGVuLmxk
cy5TCmluZGV4IDMxMGNjNTI1YWMuLmUyNmJjYjdmNzkgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4
Ni94ZW4ubGRzLlMKKysrIGIveGVuL2FyY2gveDg2L3hlbi5sZHMuUwpAQCAtMjQzLDExICsyNDMs
MTMgQEAgU0VDVElPTlMKICAgICAgICBfX3RyYW1wb2xpbmUzMl9yZWxfc3RvcCA9IC47CiAgICAg
ICAgX19ib290c3ltX3JlbF9zdGFydCA9IC47CiAgICAgICAgKiguYm9vdHN5bV9yZWwpCi0gICAg
ICAgKiguYm9vdGRhdGFzeW1fcmVsKQogICAgICAgIF9fYm9vdHN5bV9yZWxfc3RvcCA9IC47CiAg
ICAgICAgX19ib290c3ltX3NlZ19zdGFydCA9IC47CiAgICAgICAgKiguYm9vdHN5bV9zZWcpCiAg
ICAgICAgX19ib290c3ltX3NlZ19zdG9wID0gLjsKKyAgICAgICBfX2Jvb3RkYXRhc3ltX3JlbF9z
dGFydCA9IC47CisgICAgICAgKiguYm9vdGRhdGFzeW1fcmVsKQorICAgICAgIF9fYm9vdGRhdGFz
eW1fcmVsX3N0b3AgPSAuOwogICAgICAgIC8qCiAgICAgICAgICogc3RydWN0IGFsdF9pbnN0IGVu
dHJpZXMuIEZyb20gdGhlIGhlYWRlciAoYWx0ZXJuYXRpdmUuaCk6CiAgICAgICAgICogIkFsdGVy
bmF0aXZlIGluc3RydWN0aW9ucyBmb3IgZGlmZmVyZW50IENQVSB0eXBlcyBvciBjYXBhYmlsaXRp
ZXMiCkBAIC0yOTAsNiArMjkyLDExIEBAIFNFQ1RJT05TCiAgIERFQ0xfU0VDVElPTiguZGF0YSkg
ewogICAgICAgICooLmRhdGEucGFnZV9hbGlnbmVkKQogICAgICAgICooLmRhdGEpCisgICAgICAg
LiA9IEFMSUdOKDQpOworICAgICAgIF9fYm9vdGRhdGFfc3RhcnQgPSAuOworICAgICAgICooLmRh
dGEuYm9vdDE2KQorICAgICAgIC4gPSBBTElHTig0KTsKKyAgICAgICBfX2Jvb3RkYXRhX2VuZCA9
IC47CiAgICAgICAgKiguZGF0YS5yZWwpCiAgICAgICAgKiguZGF0YS5yZWwuKikKICAgICAgICBD
T05TVFJVQ1RPUlMKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvZWRkLmggYi94ZW4v
aW5jbHVkZS9hc20teDg2L2VkZC5oCmluZGV4IGFmYWEyMzczMmEuLmE0ZDZiNGQ5MGUgMTAwNjQ0
Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS14ODYvZWRkLmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4
Ni9lZGQuaApAQCAtMTQzLDcgKzE0Myw2IEBAIHN0cnVjdCBfX3BhY2tlZCBtYnJfc2lnbmF0dXJl
IHsKICAgICB1MzIgc2lnbmF0dXJlOwogfTsKIAotLyogVGhlc2UgYWxsIHJlc2lkZSBpbiB0aGUg
Ym9vdCB0cmFtcG9saW5lLiBBY2Nlc3MgdmlhIGJvb3RzeW0oKS4gKi8KIGV4dGVybiBzdHJ1Y3Qg
bWJyX3NpZ25hdHVyZSBib290X21icl9zaWduYXR1cmVbXTsKIGV4dGVybiB1OCBib290X21icl9z
aWduYXR1cmVfbnI7CiBleHRlcm4gc3RydWN0IGVkZF9pbmZvIGJvb3RfZWRkX2luZm9bXTsKLS0g
CjIuMjEuMAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Clhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0
dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

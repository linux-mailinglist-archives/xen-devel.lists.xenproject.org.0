Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 6A855259EA
	for <lists+xen-devel@lfdr.de>; Tue, 21 May 2019 23:28:15 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hTCGj-0008Bf-Fy; Tue, 21 May 2019 21:25:57 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=C2a6=TV=epam.com=volodymyr_babchuk@srs-us1.protection.inumbo.net>)
 id 1hTCGi-0008Ai-0j
 for xen-devel@lists.xenproject.org; Tue, 21 May 2019 21:25:56 +0000
X-Inumbo-ID: 03bf2ad0-7c0f-11e9-8980-bc764e045a96
Received: from EUR04-HE1-obe.outbound.protection.outlook.com (unknown
 [2a01:111:f400:fe0d::60f])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 03bf2ad0-7c0f-11e9-8980-bc764e045a96;
 Tue, 21 May 2019 21:25:54 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=epam.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=OIqMIJZNJWHqjzcxzHljUOFxuawwdrleGYrLPmd9fi4=;
 b=ooAWNP2cOaJvoK7Vvd0kO3ox0Y3qe4poJTp8QoPacRAxOcfCNwBl12D+p2ymCxsLChoSRum8cNPG1gdo91oA7cdQm5iVXP6fleH2lduw+wXg9YIpppeOUEmXpL1tyPIJxr19YhN+oosFEWOtbHdLvtK8uQK7chVTE5EHDt3HtaSHbeJLQV+pJ3EWpwx2CeBxUIyUfpIx2d1xlczv74DTEUzFlfmu8r7DaWOjuJwRVt+scvkuPlUCUtYjO8G1BmQczk6VdTCHx7fjPNkii9Db9UvuZysDOfMDYRlje7xJzcp/ArqaAw/HKS/rrEfdVC5/ehh1XbUSHumFPjvQuqP3qA==
Received: from AM0PR03MB4148.eurprd03.prod.outlook.com (20.176.214.210) by
 AM0PR03MB5698.eurprd03.prod.outlook.com (20.179.254.155) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1900.16; Tue, 21 May 2019 21:25:51 +0000
Received: from AM0PR03MB4148.eurprd03.prod.outlook.com
 ([fe80::55c5:599a:1f80:208a]) by AM0PR03MB4148.eurprd03.prod.outlook.com
 ([fe80::55c5:599a:1f80:208a%3]) with mapi id 15.20.1900.020; Tue, 21 May 2019
 21:25:51 +0000
From: Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH v5 03/10] xen/arm: optee: add OP-TEE mediator skeleton
Thread-Index: AQHVEBvDLs72BLmdtUy6R79fOBiNwA==
Date: Tue, 21 May 2019 21:25:51 +0000
Message-ID: <20190521212530.12706-4-volodymyr_babchuk@epam.com>
References: <20190521212530.12706-1-volodymyr_babchuk@epam.com>
In-Reply-To: <20190521212530.12706-1-volodymyr_babchuk@epam.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Volodymyr_Babchuk@epam.com; 
x-originating-ip: [85.223.209.22]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: eeea60d7-de63-4cc9-c3cf-08d6de32e638
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(7168020)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(2017052603328)(7193020);
 SRVR:AM0PR03MB5698; 
x-ms-traffictypediagnostic: AM0PR03MB5698:
x-microsoft-antispam-prvs: <AM0PR03MB5698D3D89A3591251B7A3033E6070@AM0PR03MB5698.eurprd03.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 0044C17179
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(376002)(136003)(366004)(346002)(396003)(39860400002)(189003)(199004)(6512007)(6486002)(5640700003)(6436002)(68736007)(3846002)(2616005)(476003)(11346002)(6916009)(486006)(6116002)(76116006)(14444005)(256004)(64756008)(66476007)(478600001)(305945005)(66946007)(54906003)(316002)(7736002)(73956011)(71190400001)(72206003)(2501003)(66556008)(80792005)(71200400001)(66446008)(26005)(4326008)(14454004)(25786009)(102836004)(2906002)(55236004)(8936002)(81166006)(5660300002)(99286004)(66066001)(1076003)(36756003)(86362001)(53936002)(6506007)(81156014)(446003)(2351001)(186003)(8676002)(76176011)(2004002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:AM0PR03MB5698;
 H:AM0PR03MB4148.eurprd03.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: epam.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: a1K2Ew6v6Lo7GlxXAo51G0ic1WoNzClXHpP5cIA8tGviF8lEA00o3EgQvmILCHyMJSdiKlSmsOl2gN9PsVu6uuXfKbAG44gBr5TcNhy0enl+4E5HAjir3xsrU3+tTY/zLavs9gDr9RpTOCRIsTckoTAbau8sZ9h5y5IhdKtoYycyzbnFUyCxS+Dakwh0LO5CpPPEm0V5Mv3KjlRz3zBhd+qHyWnzdTr0F3zSkmpYwiIDX4YXzgarfACGR1hT2xPkGrfBdIt3qXNBUMkMSNsHEnXlFbyQWDVt54pzSZ9ISTa45FVB16kbE2rey9tuAVKjtMIixC0hFkOE6+fm7PcGUYc0HmhRdzGCbSMwFPHqAXaSLjGkqSOzCyhEEWPmjWN1nQfRIQaqz5kFkNS4161Ot/wrJ0aFdFppiulHFllHuG0=
MIME-Version: 1.0
X-OriginatorOrg: epam.com
X-MS-Exchange-CrossTenant-Network-Message-Id: eeea60d7-de63-4cc9-c3cf-08d6de32e638
X-MS-Exchange-CrossTenant-originalarrivaltime: 21 May 2019 21:25:51.0625 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b41b72d0-4e9f-4c26-8a69-f949f367c91d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM0PR03MB5698
Subject: [Xen-devel] [PATCH v5 03/10] xen/arm: optee: add OP-TEE mediator
 skeleton
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "tee-dev@lists.linaro.org" <tee-dev@lists.linaro.org>,
 Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIHZlcnkgYmFzaWMgT1AtVEVFIG1lZGlhdG9yLiBJdCBjYW4gcHJvYmUgZm9yIE9QLVRFRSBw
cmVzZW5jZSwKdGVsbCBpdCBhYm91dCBkb21haW4gY3JlYXRpb24vZGVzdHJ1Y3Rpb24gYW5kIHRo
ZW4gcmV0dXJuIGFuIGVycm9yCnRvIGFsbCBjYWxscyB0byB0aGUgZ3Vlc3QuCgpUaGlzIGNvZGUg
aXNzdWVzIHR3byBub24tcHJlZW1wdGlibGUgY2FsbHMgdG8gT1AtVEVFOiB0byBjcmVhdGUgYW5k
CnRvIGRlc3Ryb3kgY2xpZW50IGNvbnRleHQuIFRoZXkgY2FuJ3QgYmxvY2sgaW4gT1AtVEVFLCBh
cyB0aGV5IGFyZQpjb25zaWRlcmVkICJmYXN0IGNhbGxzIiBpbiB0ZXJtcyBvZiBBUk0gU01DQ0Mu
CgpTaWduZWQtb2ZmLWJ5OiBWb2xvZHlteXIgQmFiY2h1ayA8dm9sb2R5bXlyX2JhYmNodWtAZXBh
bS5jb20+CgotLS0KCiBBbGwgdGhlIHBhdGNoZXMgdG8gb3B0ZWUuYyBzaG91bGQgYmUgbWVyZ2Vk
IHRvZ2V0aGVyLiBUaGV5IHdlcmUKIHNwbGl0IHRvIGVhc2UgdXAgcmV2aWV3LiBCdXQgdGhleSBk
ZXBlbmQgaGVhdmlseSBvbiBlYWNoIG90aGVyLgoKQ2hhbmdlcyBmcm9tIHY0OgogIC0gUmVtb3Zl
ZCBPUFRFRV9FTkFCTEVEIG1hY3JvLiBFbXB0eSAoZm9yIG5vdykgc3RydWN0IG9wdGVlX2RvbWFp
bgogICAgaXMgdXNlZCBpbnN0ZWFkLgogIC0gUmVtb3ZlZCBmb3J3YXJkX2NhbGwoKSBmdW5jdGlv
biwgbWVkaWF0b3Igbm93IHdpbGwgcmV0dXJuCiAgICBPUFRFRV9TTUNfUkVUVVJOX0VOT1RBVkFJ
TCBmb3IgYWxsIHVuaW1wbGVtZW50ZWQgY2FsbHMKICAtIEZpeGVkIG1pc3Rha2Ugd2hlbiBPUFRF
RV9TTUNfRlVOQ0lEX0dFVF9PU19SRVZJU0lPTiBpbnN0ZWFkIG9mCiAgICBPUFRFRV9TTUNfQ0FM
TF9HRVRfT1NfUkVWSVNJT04gd2FzIHVzZWQKICAtIE9QLVRFRSBpcyBpbmZvcm1lZCBhYm91dCBk
b21haW4gZGVzdHJ1Y3Rpb24gaW4KICAgIG9wdGVlX3JlbGlucXVpc2hfcmVzb3VyY2VzKCkKICAt
IHJlbW92ZWQgb3B0ZWVfZG9tYWluX2Rlc3Ryb3koKSBmdW5jdGlvbiBiZWNhdXNlIGFsbCBqb2Ig
aXMgZG9uZQogICAgaW4gdGhlIG9wdGVlX3JlbGlucXVpc2hfcmVzb3VyY2VzKCkgZnVuY3Rpb24K
CkNoYW5nZXMgZnJvbSB2MzoKICAtIEludHJvZHVjZWQgb3B0ZWVfcmVsaW5xdWlzaF9yZXNvdXJj
ZXMoKSBmdW5jdGlvbiB0byBmcmVlCiAgICBtZWRpYXRvciByZXNvdXJjZXMgaW4gYSBtb3JlIGNv
bnRyb2xsYWJsZSB3YXkKCkNoYW5nZXMgZnJvbSB2MjoKICAtIEZpeGVkIGNvZGluZyBzdHlsZQog
IC0gSW50cm9kdWNlZCB0ZWUvS2NvbmZpZwogIC0gRml4ZWQgZXJyb3IgbWVzc2FnZXMKLS0tCiB4
ZW4vYXJjaC9hcm0vS2NvbmZpZyAgICAgICAgICB8ICAgMiArCiB4ZW4vYXJjaC9hcm0vZG9tYWlu
LmMgICAgICAgICB8ICAgMyArLQogeGVuL2FyY2gvYXJtL3RlZS9LY29uZmlnICAgICAgfCAgIDQg
KwogeGVuL2FyY2gvYXJtL3RlZS9NYWtlZmlsZSAgICAgfCAgIDEgKwogeGVuL2FyY2gvYXJtL3Rl
ZS9vcHRlZS5jICAgICAgfCAxNjYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwog
eGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4uaCAgfCAgIDMgKwogeGVuL2luY2x1ZGUvcHVibGlj
L2FyY2gtYXJtLmggfCAgIDEgKwogNyBmaWxlcyBjaGFuZ2VkLCAxNzkgaW5zZXJ0aW9ucygrKSwg
MSBkZWxldGlvbigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IHhlbi9hcmNoL2FybS90ZWUvS2NvbmZp
ZwogY3JlYXRlIG1vZGUgMTAwNjQ0IHhlbi9hcmNoL2FybS90ZWUvb3B0ZWUuYwoKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL2FybS9LY29uZmlnIGIveGVuL2FyY2gvYXJtL0tjb25maWcKaW5kZXggZTUy
N2IyZjg4NS4uOTllNmYwZWJiMiAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL0tjb25maWcKKysr
IGIveGVuL2FyY2gvYXJtL0tjb25maWcKQEAgLTIzNywzICsyMzcsNSBAQCBzb3VyY2UgImFyY2gv
YXJtL3BsYXRmb3Jtcy9LY29uZmlnIgogc291cmNlICJjb21tb24vS2NvbmZpZyIKIAogc291cmNl
ICJkcml2ZXJzL0tjb25maWciCisKK3NvdXJjZSAiYXJjaC9hcm0vdGVlL0tjb25maWciCmRpZmYg
LS1naXQgYS94ZW4vYXJjaC9hcm0vZG9tYWluLmMgYi94ZW4vYXJjaC9hcm0vZG9tYWluLmMKaW5k
ZXggMGM4ZTUwZjQ4Zi4uOTRlNmY0N2Y3NSAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJtL2RvbWFp
bi5jCisrKyBiL3hlbi9hcmNoL2FybS9kb21haW4uYwpAQCAtNjQ5LDcgKzY0OSw4IEBAIGludCBh
cmNoX3Nhbml0aXNlX2RvbWFpbl9jb25maWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWlu
ICpjb25maWcpCiAgICAgICAgIHJldHVybiAtRUlOVkFMOwogICAgIH0KIAotICAgIGlmICggY29u
ZmlnLT5hcmNoLnRlZV90eXBlICE9IFhFTl9ET01DVExfQ09ORklHX1RFRV9OT05FICkKKyAgICBp
ZiAoIGNvbmZpZy0+YXJjaC50ZWVfdHlwZSAhPSBYRU5fRE9NQ1RMX0NPTkZJR19URUVfTk9ORSAm
JgorICAgICAgICAgY29uZmlnLT5hcmNoLnRlZV90eXBlICE9IHRlZV9nZXRfdHlwZSgpICkKICAg
ICB7CiAgICAgICAgIGRwcmludGsoWEVOTE9HX0lORk8sICJVbnN1cHBvcnRlZCBURUUgdHlwZVxu
Iik7CiAgICAgICAgIHJldHVybiAtRUlOVkFMOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL3Rl
ZS9LY29uZmlnIGIveGVuL2FyY2gvYXJtL3RlZS9LY29uZmlnCm5ldyBmaWxlIG1vZGUgMTAwNjQ0
CmluZGV4IDAwMDAwMDAwMDAuLjViODI5ZGIyZTkKLS0tIC9kZXYvbnVsbAorKysgYi94ZW4vYXJj
aC9hcm0vdGVlL0tjb25maWcKQEAgLTAsMCArMSw0IEBACitjb25maWcgT1BURUUKKwlib29sICJF
bmFibGUgT1AtVEVFIG1lZGlhdG9yIgorCWRlZmF1bHQgbgorCWRlcGVuZHMgb24gVEVFCmRpZmYg
LS1naXQgYS94ZW4vYXJjaC9hcm0vdGVlL01ha2VmaWxlIGIveGVuL2FyY2gvYXJtL3RlZS9NYWtl
ZmlsZQppbmRleCBjNTRkNDc5NmZmLi45ODJjODc5Njg0IDEwMDY0NAotLS0gYS94ZW4vYXJjaC9h
cm0vdGVlL01ha2VmaWxlCisrKyBiL3hlbi9hcmNoL2FybS90ZWUvTWFrZWZpbGUKQEAgLTEgKzEs
MiBAQAogb2JqLXkgKz0gdGVlLm8KK29iai0kKENPTkZJR19PUFRFRSkgKz0gb3B0ZWUubwpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gvYXJtL3RlZS9vcHRlZS5jIGIveGVuL2FyY2gvYXJtL3RlZS9vcHRl
ZS5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAuLmU5YjY5YmQyZDIKLS0t
IC9kZXYvbnVsbAorKysgYi94ZW4vYXJjaC9hcm0vdGVlL29wdGVlLmMKQEAgLTAsMCArMSwxNjYg
QEAKKy8qCisgKiB4ZW4vYXJjaC9hcm0vdGVlL29wdGVlLmMKKyAqCisgKiBPUC1URUUgbWVkaWF0
b3IuIEl0IHNpdHMgaW4gYmV0d2VlbiBPUC1URUUgYW5kIGd1ZXN0cyBhbmQgcGVyZm9ybXMKKyAq
IGFjdHVhbCBjYWxscyB0byBPUC1URUUgd2hlbiBzb21lIGd1ZXN0IHRyaWVzIHRvIGludGVyYWN0
IHdpdGgKKyAqIE9QLVRFRS4gQXMgT1AtVEVFIGRvZXMgbm90IGtub3cgYWJvdXQgc2Vjb25kIHN0
YWdlIE1NVSB0cmFuc2xhdGlvbiwKKyAqIG1lZGlhdG9yIGRvZXMgdGhpcyB0cmFuc2xhdGlvbiBh
bmQgcGVyZm9ybXMgb3RoZXIgaG91c2VrZWVwaW5nIHRhc2tzLgorICoKKyAqIE9QLVRFRSBBQkkv
cHJvdG9jb2wgaXMgZGVzY3JpYmVkIGluIHR3byBoZWFkZXIgZmlsZXM6CisgKiAgLSBvcHRlZV9z
bWMuaCBwcm92aWRlcyBpbmZvcm1hdGlvbiBhYm91dCBTTUNzOiBhbGwgcG9zc2libGUgY2FsbHMs
CisgKiAgICByZWdpc3RlciBhbGxvY2F0aW9uIGFuZCByZXR1cm4gY29kZXMuCisgKiAgLSBvcHRl
ZV9tc2cuaCBwcm92aWRlcyBmb3JtYXQgZm9yIG1lc3NhZ2VzIHRoYXQgYXJlIHBhc3NlZCB3aXRo
CisgKiAgICBzdGFuZGFyZCBjYWxsIE9QVEVFX1NNQ19DQUxMX1dJVEhfQVJHLgorICoKKyAqIFZv
bG9keW15ciBCYWJjaHVrIDx2b2xvZHlteXJfYmFiY2h1a0BlcGFtLmNvbT4KKyAqIENvcHlyaWdo
dCAoYykgMjAxOC0yMDE5IEVQQU0gU3lzdGVtcy4KKyAqCisgKiBUaGlzIHByb2dyYW0gaXMgZnJl
ZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQorICogaXQg
dW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSB2ZXJzaW9u
IDIgYXMKKyAqIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLgorICog
VGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1
c2VmdWwsCisgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1w
bGllZCB3YXJyYW50eSBvZgorICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFS
VElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQorICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2Ug
Zm9yIG1vcmUgZGV0YWlscy4KKyAqLworCisjaW5jbHVkZSA8eGVuL2RldmljZV90cmVlLmg+Cisj
aW5jbHVkZSA8eGVuL3NjaGVkLmg+CisKKyNpbmNsdWRlIDxhc20vc21jY2MuaD4KKyNpbmNsdWRl
IDxhc20vdGVlL3RlZS5oPgorI2luY2x1ZGUgPGFzbS90ZWUvb3B0ZWVfbXNnLmg+CisjaW5jbHVk
ZSA8YXNtL3RlZS9vcHRlZV9zbWMuaD4KKworLyogQ2xpZW50IElEIDAgaXMgcmVzZXJ2ZWQgZm9y
IHRoZSBoeXBlcnZpc29yIGl0c2VsZiAqLworI2RlZmluZSBPUFRFRV9DTElFTlRfSUQoZG9tYWlu
KSAoKGRvbWFpbiktPmRvbWFpbl9pZCArIDEpCisKKy8qIERvbWFpbiBjb250ZXh0ICovCitzdHJ1
Y3Qgb3B0ZWVfZG9tYWluIHsKK307CisKK3N0YXRpYyBib29sIG9wdGVlX3Byb2JlKHZvaWQpCit7
CisgICAgc3RydWN0IGR0X2RldmljZV9ub2RlICpub2RlOworICAgIHN0cnVjdCBhcm1fc21jY2Nf
cmVzIHJlc3A7CisKKyAgICAvKiBDaGVjayBmb3IgZW50cnkgaW4gZHRiICovCisgICAgbm9kZSA9
IGR0X2ZpbmRfY29tcGF0aWJsZV9ub2RlKE5VTEwsIE5VTEwsICJsaW5hcm8sb3B0ZWUtdHoiKTsK
KyAgICBpZiAoICFub2RlICkKKyAgICAgICAgcmV0dXJuIGZhbHNlOworCisgICAgLyogQ2hlY2sg
VUlEICovCisgICAgYXJtX3NtY2NjX3NtYyhBUk1fU01DQ0NfQ0FMTF9VSURfRklEKFRSVVNURURf
T1NfRU5EKSwgJnJlc3ApOworCisgICAgaWYgKCAodWludDMyX3QpcmVzcC5hMCAhPSBPUFRFRV9N
U0dfVUlEXzAgfHwKKyAgICAgICAgICh1aW50MzJfdClyZXNwLmExICE9IE9QVEVFX01TR19VSURf
MSB8fAorICAgICAgICAgKHVpbnQzMl90KXJlc3AuYTIgIT0gT1BURUVfTVNHX1VJRF8yIHx8Cisg
ICAgICAgICAodWludDMyX3QpcmVzcC5hMyAhPSBPUFRFRV9NU0dfVUlEXzMgKQorICAgICAgICBy
ZXR1cm4gZmFsc2U7CisKKyAgICByZXR1cm4gdHJ1ZTsKK30KKworc3RhdGljIGludCBvcHRlZV9k
b21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0cnVjdCBhcm1fc21jY2NfcmVz
IHJlc3A7CisgICAgc3RydWN0IG9wdGVlX2RvbWFpbiAqY3R4OworCisgICAgY3R4ID0geHphbGxv
YyhzdHJ1Y3Qgb3B0ZWVfZG9tYWluKTsKKyAgICBpZiAoICFjdHggKQorICAgICAgICByZXR1cm4g
LUVOT01FTTsKKworICAgIC8qCisgICAgICogSW5mb3JtIE9QLVRFRSBhYm91dCBhIG5ldyBndWVz
dC4gIFRoaXMgaXMgYSAiRmFzdCIgY2FsbCBpbgorICAgICAqIHRlcm1zIG9mIE9QLVRFRS4gVGhp
cyBiYXNpY2FsbHkgbWVhbnMgdGhhdCBpdCBjYW4ndCBiZQorICAgICAqIHByZWVtcHRlZCwgYmVj
YXVzZSB0aGVyZSBpcyBubyB0aHJlYWQgYWxsb2NhdGVkIGZvciBpdCBpbgorICAgICAqIE9QLVRF
RS4gTm8gYmxvY2tpbmcgY2FsbHMgY2FuIGJlIGlzc3VlZCBhbmQgaW50ZXJydXB0cyBhcmUKKyAg
ICAgKiBkaXNhYmxlZC4KKyAgICAgKgorICAgICAqIGE3IHNob3VsZCBiZSAwLCBzbyB3ZSBjYW4n
dCBza2lwIGxhc3QgNiBwYXJhbWV0ZXJzIG9mIGFybV9zbWNjY19zbWMoKQorICAgICAqLworICAg
IGFybV9zbWNjY19zbWMoT1BURUVfU01DX1ZNX0NSRUFURUQsIE9QVEVFX0NMSUVOVF9JRChkKSwg
MCwgMCwgMCwgMCwgMCwgMCwKKyAgICAgICAgICAgICAgICAgICZyZXNwKTsKKyAgICBpZiAoIHJl
c3AuYTAgIT0gT1BURUVfU01DX1JFVFVSTl9PSyApCisgICAgeworICAgICAgICBwcmludGsoWEVO
TE9HX1dBUk5JTkcgIiVwZDogVW5hYmxlIHRvIGNyZWF0ZSBPUFRFRSBjbGllbnQ6IHJjID0gMHgl
WFxuIiwKKyAgICAgICAgICAgICAgIGQsICh1aW50MzJfdClyZXNwLmEwKTsKKworICAgICAgICB4
ZnJlZShjdHgpOworCisgICAgICAgIHJldHVybiAtRU5PREVWOworICAgIH0KKworICAgIGQtPmFy
Y2gudGVlID0gY3R4OworCisgICAgcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgb3B0ZWVfcmVs
aW5xdWlzaF9yZXNvdXJjZXMoc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICBzdHJ1Y3QgYXJtX3Nt
Y2NjX3JlcyByZXNwOworCisgICAgaWYgKCAhZC0+YXJjaC50ZWUgKQorICAgICAgICByZXR1cm4g
MDsKKworICAgIC8qCisgICAgICogSW5mb3JtIE9QLVRFRSB0aGF0IGRvbWFpbiBpcyBzaHV0dGlu
ZyBkb3duLiBUaGlzIGlzCisgICAgICogYWxzbyBhIGZhc3QgU01DIGNhbGwsIGxpa2UgT1BURUVf
U01DX1ZNX0NSRUFURUQsIHNvCisgICAgICogaXQgaXMgYWxzbyBub24tcHJlZW1wdGlibGUuCisg
ICAgICogQXQgdGhpcyB0aW1lIGFsbCBkb21haW4gVkNQVXMgc2hvdWxkIGJlIHN0b3BwZWQuIE9Q
LVRFRQorICAgICAqIHJlbGllcyBvbiB0aGlzLgorICAgICAqCisgICAgICogYTcgc2hvdWxkIGJl
IDAsIHNvIHdlIGNhbid0IHNraXAgbGFzdCA2IHBhcmFtZXRlcnMgb2YgYXJtX3NtY2NjX3NtYygp
CisgICAgICovCisgICAgYXJtX3NtY2NjX3NtYyhPUFRFRV9TTUNfVk1fREVTVFJPWUVELCBPUFRF
RV9DTElFTlRfSUQoZCksIDAsIDAsIDAsIDAsIDAsIDAsCisgICAgICAgICAgICAgICAgICAmcmVz
cCk7CisKKyAgICBYRlJFRShkLT5hcmNoLnRlZSk7CisKKyAgICByZXR1cm4gMDsKK30KKworc3Rh
dGljIGJvb2wgb3B0ZWVfaGFuZGxlX2NhbGwoc3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MpCit7
CisgICAgaWYgKCAhY3VycmVudC0+ZG9tYWluLT5hcmNoLnRlZSApCisgICAgICAgIHJldHVybiBm
YWxzZTsKKworICAgIHN3aXRjaCAoIGdldF91c2VyX3JlZyhyZWdzLCAwKSApCisgICAgeworICAg
IGNhc2UgT1BURUVfU01DX0NBTExTX0NPVU5UOgorICAgIGNhc2UgT1BURUVfU01DX0NBTExTX1VJ
RDoKKyAgICBjYXNlIE9QVEVFX1NNQ19DQUxMU19SRVZJU0lPTjoKKyAgICBjYXNlIE9QVEVFX1NN
Q19DQUxMX0dFVF9PU19VVUlEOgorICAgIGNhc2UgT1BURUVfU01DX0NBTExfR0VUX09TX1JFVklT
SU9OOgorICAgIGNhc2UgT1BURUVfU01DX0VOQUJMRV9TSE1fQ0FDSEU6CisgICAgY2FzZSBPUFRF
RV9TTUNfRElTQUJMRV9TSE1fQ0FDSEU6CisgICAgY2FzZSBPUFRFRV9TTUNfR0VUX1NITV9DT05G
SUc6CisgICAgY2FzZSBPUFRFRV9TTUNfRVhDSEFOR0VfQ0FQQUJJTElUSUVTOgorICAgIGNhc2Ug
T1BURUVfU01DX0NBTExfV0lUSF9BUkc6CisgICAgY2FzZSBPUFRFRV9TTUNfQ0FMTF9SRVRVUk5f
RlJPTV9SUEM6CisgICAgICAgIHNldF91c2VyX3JlZyhyZWdzLCAwLCBPUFRFRV9TTUNfUkVUVVJO
X0VOT1RBVkFJTCk7CisgICAgICAgIHJldHVybiB0cnVlOworCisgICAgZGVmYXVsdDoKKyAgICAg
ICAgcmV0dXJuIGZhbHNlOworICAgIH0KK30KKworc3RhdGljIGNvbnN0IHN0cnVjdCB0ZWVfbWVk
aWF0b3Jfb3BzIG9wdGVlX29wcyA9Cit7CisgICAgLnByb2JlID0gb3B0ZWVfcHJvYmUsCisgICAg
LmRvbWFpbl9pbml0ID0gb3B0ZWVfZG9tYWluX2luaXQsCisgICAgLnJlbGlucXVpc2hfcmVzb3Vy
Y2VzID0gb3B0ZWVfcmVsaW5xdWlzaF9yZXNvdXJjZXMsCisgICAgLmhhbmRsZV9jYWxsID0gb3B0
ZWVfaGFuZGxlX2NhbGwsCit9OworCitSRUdJU1RFUl9URUVfTUVESUFUT1Iob3B0ZWUsICJPUC1U
RUUiLCBYRU5fRE9NQ1RMX0NPTkZJR19URUVfT1BURUUsICZvcHRlZV9vcHMpOworCisvKgorICog
TG9jYWwgdmFyaWFibGVzOgorICogbW9kZTogQworICogYy1maWxlLXN0eWxlOiAiQlNEIgorICog
Yy1iYXNpYy1vZmZzZXQ6IDQKKyAqIGluZGVudC10YWJzLW1vZGU6IG5pbAorICogRW5kOgorICov
CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL2RvbWFpbi5oIGIveGVuL2luY2x1ZGUv
YXNtLWFybS9kb21haW4uaAppbmRleCAwZjE1MzcyMDk4Li4yOTYwYTUzZTY5IDEwMDY0NAotLS0g
YS94ZW4vaW5jbHVkZS9hc20tYXJtL2RvbWFpbi5oCisrKyBiL3hlbi9pbmNsdWRlL2FzbS1hcm0v
ZG9tYWluLmgKQEAgLTk4LDYgKzk4LDkgQEAgc3RydWN0IGFyY2hfZG9tYWluCiAgICAgc3RydWN0
IHZwbDAxMSB2cGwwMTE7CiAjZW5kaWYKIAorI2lmZGVmIENPTkZJR19URUUKKyAgICB2b2lkICp0
ZWU7CisjZW5kaWYKIH0gIF9fY2FjaGVsaW5lX2FsaWduZWQ7CiAKIHN0cnVjdCBhcmNoX3ZjcHUK
ZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9hcmNoLWFybS5oIGIveGVuL2luY2x1ZGUv
cHVibGljL2FyY2gtYXJtLmgKaW5kZXggNWU5MzhhOTFjYy4uY2VkOTU0NTU5NiAxMDA2NDQKLS0t
IGEveGVuL2luY2x1ZGUvcHVibGljL2FyY2gtYXJtLmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGlj
L2FyY2gtYXJtLmgKQEAgLTMwNSw2ICszMDUsNyBAQCBERUZJTkVfWEVOX0dVRVNUX0hBTkRMRSh2
Y3B1X2d1ZXN0X2NvbnRleHRfdCk7CiAjZGVmaW5lIFhFTl9ET01DVExfQ09ORklHX0dJQ19WMiAg
ICAgICAgMQogI2RlZmluZSBYRU5fRE9NQ1RMX0NPTkZJR19HSUNfVjMgICAgICAgIDIKICNkZWZp
bmUgWEVOX0RPTUNUTF9DT05GSUdfVEVFX05PTkUgICAgICAwCisjZGVmaW5lIFhFTl9ET01DVExf
Q09ORklHX1RFRV9PUFRFRSAgICAgMQogc3RydWN0IHhlbl9hcmNoX2RvbWFpbmNvbmZpZyB7CiAg
ICAgLyogSU4vT1VUICovCiAgICAgdWludDhfdCBnaWNfdmVyc2lvbjsKLS0gCjIuMjEuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1h
aWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54
ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

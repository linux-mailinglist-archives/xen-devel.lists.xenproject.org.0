Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DBE281C890
	for <lists+xen-devel@lfdr.de>; Tue, 14 May 2019 14:25:13 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hQWRX-0008JM-Gq; Tue, 14 May 2019 12:22:03 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=zxYt=TO=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hQWRV-0008H5-EV
 for xen-devel@lists.xenproject.org; Tue, 14 May 2019 12:22:01 +0000
X-Inumbo-ID: dfa1e180-7642-11e9-963d-47d53be77ade
Received: from foss.arm.com (unknown [217.140.101.70])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id dfa1e180-7642-11e9-963d-47d53be77ade;
 Tue, 14 May 2019 12:22:00 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.72.51.249])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 1CC79341;
 Tue, 14 May 2019 05:22:00 -0700 (PDT)
Received: from e108454-lin.cambridge.arm.com (e108454-lin.cambridge.arm.com
 [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id DE0753F71E;
 Tue, 14 May 2019 05:21:58 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 14 May 2019 13:21:20 +0100
Message-Id: <20190514122136.28215-12-julien.grall@arm.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190514122136.28215-1-julien.grall@arm.com>
References: <20190514122136.28215-1-julien.grall@arm.com>
Subject: [Xen-devel] [PATCH MM-PART1 v3 6/8] xen/arm: Gather all TLB flush
 helpers in tlbflush.h
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr_Tyshchenko@epam.com, Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QXQgdGhlIG1vbWVudCwgVExCIGhlbHBlcnMgYXJlIHNjYXR0ZXJlZCBpbiAyIGhlYWRlcnM6IHBh
Z2UuaCAoZm9yClhlbiBUTEIgaGVscGVycykgYW5kIHRsYmZsdXNoLmggKGZvciBndWVzdCBUTEIg
aGVscGVycykuCgpUaGlzIHBhdGNoIGlzIGdhdGhlcmluZyBhbGwgb2YgdGhlbSBpbiB0bGJmbHVz
aC4gVGhpcyB3aWxsIGhlbHAgdG8KdW5pZm9ybWl6ZSBhbmQgdXBkYXRlIHRoZSBsb2dpYyBvZiB0
aGUgaGVscGVycyBpbiBmb2xsb3ctdXAgcGF0Y2hlcy4KClNpZ25lZC1vZmYtYnk6IEp1bGllbiBH
cmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+ClJldmlld2VkLWJ5OiBBbmRyaWkgQW5pc292IDxh
bmRyaWlfYW5pc292QGVwYW0uY29tPgpBY2tlZC1ieTogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3Rh
YmVsbGluaUBrZXJuZWwub3JnPgoKLS0tCiAgICBDaGFuZ2VzIGluIHYzOgogICAgICAgIC0gQWRk
IFN0ZWZhbm8ncyBhY2tlZC1ieQoKICAgIENoYW5nZXMgaW4gdjI6CiAgICAgICAgLSBBZGQgQW5k
cmlpJ3MgcmV2aWV3ZWQtYnkKLS0tCiB4ZW4vaW5jbHVkZS9hc20tYXJtL2FybTMyL2ZsdXNodGxi
LmggfCAyMiArKysrKysrKysrKysrKysrKysrKysKIHhlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIv
cGFnZS5oICAgICB8IDIyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLQogeGVuL2luY2x1ZGUvYXNtLWFy
bS9hcm02NC9mbHVzaHRsYi5oIHwgMjMgKysrKysrKysrKysrKysrKysrKysrKwogeGVuL2luY2x1
ZGUvYXNtLWFybS9hcm02NC9wYWdlLmggICAgIHwgMjMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQog
eGVuL2luY2x1ZGUvYXNtLWFybS9mbHVzaHRsYi5oICAgICAgIHwgMzggKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrCiB4ZW4vaW5jbHVkZS9hc20tYXJtL3BhZ2UuaCAgICAgICAg
ICAgfCAzOCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIDYgZmlsZXMgY2hh
bmdlZCwgODMgaW5zZXJ0aW9ucygrKSwgODMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVu
L2luY2x1ZGUvYXNtLWFybS9hcm0zMi9mbHVzaHRsYi5oIGIveGVuL2luY2x1ZGUvYXNtLWFybS9h
cm0zMi9mbHVzaHRsYi5oCmluZGV4IDIyZTEwMGVjY2YuLmI2MjlkYjYxY2IgMTAwNjQ0Ci0tLSBh
L3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIvZmx1c2h0bGIuaAorKysgYi94ZW4vaW5jbHVkZS9h
c20tYXJtL2FybTMyL2ZsdXNodGxiLmgKQEAgLTQ1LDYgKzQ1LDI4IEBAIHN0YXRpYyBpbmxpbmUg
dm9pZCBmbHVzaF9hbGxfZ3Vlc3RzX3RsYih2b2lkKQogICAgIGlzYigpOwogfQogCisvKiBGbHVz
aCBhbGwgaHlwZXJ2aXNvciBtYXBwaW5ncyBmcm9tIHRoZSBUTEIgb2YgdGhlIGxvY2FsIHByb2Nl
c3Nvci4gKi8KK3N0YXRpYyBpbmxpbmUgdm9pZCBmbHVzaF94ZW5fdGxiX2xvY2FsKHZvaWQpCit7
CisgICAgYXNtIHZvbGF0aWxlKCJkc2I7IiAvKiBFbnN1cmUgcHJlY2VkaW5nIGFyZSB2aXNpYmxl
ICovCisgICAgICAgICAgICAgICAgIENNRF9DUDMyKFRMQklBTExIKQorICAgICAgICAgICAgICAg
ICAiZHNiOyIgLyogRW5zdXJlIGNvbXBsZXRpb24gb2YgdGhlIFRMQiBmbHVzaCAqLworICAgICAg
ICAgICAgICAgICAiaXNiOyIKKyAgICAgICAgICAgICAgICAgOiA6IDogIm1lbW9yeSIpOworfQor
CisvKiBGbHVzaCBUTEIgb2YgbG9jYWwgcHJvY2Vzc29yIGZvciBhZGRyZXNzIHZhLiAqLworc3Rh
dGljIGlubGluZSB2b2lkIF9fZmx1c2hfeGVuX3RsYl9vbmVfbG9jYWwodmFkZHJfdCB2YSkKK3sK
KyAgICBhc20gdm9sYXRpbGUoU1RPUkVfQ1AzMigwLCBUTEJJTVZBSCkgOiA6ICJyIiAodmEpIDog
Im1lbW9yeSIpOworfQorCisvKiBGbHVzaCBUTEIgb2YgYWxsIHByb2Nlc3NvcnMgaW4gdGhlIGlu
bmVyLXNoYXJlYWJsZSBkb21haW4gZm9yIGFkZHJlc3MgdmEuICovCitzdGF0aWMgaW5saW5lIHZv
aWQgX19mbHVzaF94ZW5fdGxiX29uZSh2YWRkcl90IHZhKQoreworICAgIGFzbSB2b2xhdGlsZShT
VE9SRV9DUDMyKDAsIFRMQklNVkFISVMpIDogOiAiciIgKHZhKSA6ICJtZW1vcnkiKTsKK30KKwog
I2VuZGlmIC8qIF9fQVNNX0FSTV9BUk0zMl9GTFVTSFRMQl9IX18gKi8KIC8qCiAgKiBMb2NhbCB2
YXJpYWJsZXM6CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTMyL3BhZ2UuaCBi
L3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIvcGFnZS5oCmluZGV4IDBiNDFiOTIxNGIuLjcxNWE5
ZTRmZWYgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIvcGFnZS5oCisrKyBi
L3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIvcGFnZS5oCkBAIC02MSwyOCArNjEsNiBAQCBzdGF0
aWMgaW5saW5lIHZvaWQgaW52YWxpZGF0ZV9pY2FjaGVfbG9jYWwodm9pZCkKICAgICBpc2IoKTsg
ICAgICAgICAgICAgICAgICAgICAgLyogU3luY2hyb25pemUgZmV0Y2hlZCBpbnN0cnVjdGlvbiBz
dHJlYW0uICovCiB9CiAKLS8qIEZsdXNoIGFsbCBoeXBlcnZpc29yIG1hcHBpbmdzIGZyb20gdGhl
IFRMQiBvZiB0aGUgbG9jYWwgcHJvY2Vzc29yLiAqLwotc3RhdGljIGlubGluZSB2b2lkIGZsdXNo
X3hlbl90bGJfbG9jYWwodm9pZCkKLXsKLSAgICBhc20gdm9sYXRpbGUoImRzYjsiIC8qIEVuc3Vy
ZSBwcmVjZWRpbmcgYXJlIHZpc2libGUgKi8KLSAgICAgICAgICAgICAgICAgQ01EX0NQMzIoVExC
SUFMTEgpCi0gICAgICAgICAgICAgICAgICJkc2I7IiAvKiBFbnN1cmUgY29tcGxldGlvbiBvZiB0
aGUgVExCIGZsdXNoICovCi0gICAgICAgICAgICAgICAgICJpc2I7IgotICAgICAgICAgICAgICAg
ICA6IDogOiAibWVtb3J5Iik7Ci19Ci0KLS8qIEZsdXNoIFRMQiBvZiBsb2NhbCBwcm9jZXNzb3Ig
Zm9yIGFkZHJlc3MgdmEuICovCi1zdGF0aWMgaW5saW5lIHZvaWQgX19mbHVzaF94ZW5fdGxiX29u
ZV9sb2NhbCh2YWRkcl90IHZhKQotewotICAgIGFzbSB2b2xhdGlsZShTVE9SRV9DUDMyKDAsIFRM
QklNVkFIKSA6IDogInIiICh2YSkgOiAibWVtb3J5Iik7Ci19Ci0KLS8qIEZsdXNoIFRMQiBvZiBh
bGwgcHJvY2Vzc29ycyBpbiB0aGUgaW5uZXItc2hhcmVhYmxlIGRvbWFpbiBmb3IgYWRkcmVzcyB2
YS4gKi8KLXN0YXRpYyBpbmxpbmUgdm9pZCBfX2ZsdXNoX3hlbl90bGJfb25lKHZhZGRyX3QgdmEp
Ci17Ci0gICAgYXNtIHZvbGF0aWxlKFNUT1JFX0NQMzIoMCwgVExCSU1WQUhJUykgOiA6ICJyIiAo
dmEpIDogIm1lbW9yeSIpOwotfQotCiAvKiBBc2sgdGhlIE1NVSB0byB0cmFuc2xhdGUgYSBWQSBm
b3IgdXMgKi8KIHN0YXRpYyBpbmxpbmUgdWludDY0X3QgX192YV90b19wYXIodmFkZHJfdCB2YSkK
IHsKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtNjQvZmx1c2h0bGIuaCBiL3hl
bi9pbmNsdWRlL2FzbS1hcm0vYXJtNjQvZmx1c2h0bGIuaAppbmRleCBhZGJiZDVjNTIyLi4yZmVk
MzRiMmVjIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTY0L2ZsdXNodGxiLmgK
KysrIGIveGVuL2luY2x1ZGUvYXNtLWFybS9hcm02NC9mbHVzaHRsYi5oCkBAIC00NSw2ICs0NSwy
OSBAQCBzdGF0aWMgaW5saW5lIHZvaWQgZmx1c2hfYWxsX2d1ZXN0c190bGIodm9pZCkKICAgICAg
ICAgOiA6IDogIm1lbW9yeSIpOwogfQogCisvKiBGbHVzaCBhbGwgaHlwZXJ2aXNvciBtYXBwaW5n
cyBmcm9tIHRoZSBUTEIgb2YgdGhlIGxvY2FsIHByb2Nlc3Nvci4gKi8KK3N0YXRpYyBpbmxpbmUg
dm9pZCBmbHVzaF94ZW5fdGxiX2xvY2FsKHZvaWQpCit7CisgICAgYXNtIHZvbGF0aWxlICgKKyAg
ICAgICAgImRzYiAgICBzeTsiICAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgdmlzaWJpbGl0
eSBvZiBQVEUgd3JpdGVzICovCisgICAgICAgICJ0bGJpICAgYWxsZTI7IiAgICAgICAgICAgICAg
ICAgLyogRmx1c2ggaHlwZXJ2aXNvciBUTEIgKi8KKyAgICAgICAgImRzYiAgICBzeTsiICAgICAg
ICAgICAgICAgICAgICAvKiBFbnN1cmUgY29tcGxldGlvbiBvZiBUTEIgZmx1c2ggKi8KKyAgICAg
ICAgImlzYjsiCisgICAgICAgIDogOiA6ICJtZW1vcnkiKTsKK30KKworLyogRmx1c2ggVExCIG9m
IGxvY2FsIHByb2Nlc3NvciBmb3IgYWRkcmVzcyB2YS4gKi8KK3N0YXRpYyBpbmxpbmUgdm9pZCAg
X19mbHVzaF94ZW5fdGxiX29uZV9sb2NhbCh2YWRkcl90IHZhKQoreworICAgIGFzbSB2b2xhdGls
ZSgidGxiaSB2YWUyLCAlMDsiIDogOiAiciIgKHZhPj5QQUdFX1NISUZUKSA6ICJtZW1vcnkiKTsK
K30KKworLyogRmx1c2ggVExCIG9mIGFsbCBwcm9jZXNzb3JzIGluIHRoZSBpbm5lci1zaGFyZWFi
bGUgZG9tYWluIGZvciBhZGRyZXNzIHZhLiAqLworc3RhdGljIGlubGluZSB2b2lkIF9fZmx1c2hf
eGVuX3RsYl9vbmUodmFkZHJfdCB2YSkKK3sKKyAgICBhc20gdm9sYXRpbGUoInRsYmkgdmFlMmlz
LCAlMDsiIDogOiAiciIgKHZhPj5QQUdFX1NISUZUKSA6ICJtZW1vcnkiKTsKK30KKwogI2VuZGlm
IC8qIF9fQVNNX0FSTV9BUk02NF9GTFVTSFRMQl9IX18gKi8KIC8qCiAgKiBMb2NhbCB2YXJpYWJs
ZXM6CmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTY0L3BhZ2UuaCBiL3hlbi9p
bmNsdWRlL2FzbS1hcm0vYXJtNjQvcGFnZS5oCmluZGV4IDMxZDA0ZWNmNzYuLjBjYmEyNjYzNzMg
MTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtNjQvcGFnZS5oCisrKyBiL3hlbi9p
bmNsdWRlL2FzbS1hcm0vYXJtNjQvcGFnZS5oCkBAIC00NSwyOSArNDUsNiBAQCBzdGF0aWMgaW5s
aW5lIHZvaWQgaW52YWxpZGF0ZV9pY2FjaGVfbG9jYWwodm9pZCkKICAgICBpc2IoKTsKIH0KIAot
LyogRmx1c2ggYWxsIGh5cGVydmlzb3IgbWFwcGluZ3MgZnJvbSB0aGUgVExCIG9mIHRoZSBsb2Nh
bCBwcm9jZXNzb3IuICovCi1zdGF0aWMgaW5saW5lIHZvaWQgZmx1c2hfeGVuX3RsYl9sb2NhbCh2
b2lkKQotewotICAgIGFzbSB2b2xhdGlsZSAoCi0gICAgICAgICJkc2IgICAgc3k7IiAgICAgICAg
ICAgICAgICAgICAgLyogRW5zdXJlIHZpc2liaWxpdHkgb2YgUFRFIHdyaXRlcyAqLwotICAgICAg
ICAidGxiaSAgIGFsbGUyOyIgICAgICAgICAgICAgICAgIC8qIEZsdXNoIGh5cGVydmlzb3IgVExC
ICovCi0gICAgICAgICJkc2IgICAgc3k7IiAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIGNv
bXBsZXRpb24gb2YgVExCIGZsdXNoICovCi0gICAgICAgICJpc2I7IgotICAgICAgICA6IDogOiAi
bWVtb3J5Iik7Ci19Ci0KLS8qIEZsdXNoIFRMQiBvZiBsb2NhbCBwcm9jZXNzb3IgZm9yIGFkZHJl
c3MgdmEuICovCi1zdGF0aWMgaW5saW5lIHZvaWQgIF9fZmx1c2hfeGVuX3RsYl9vbmVfbG9jYWwo
dmFkZHJfdCB2YSkKLXsKLSAgICBhc20gdm9sYXRpbGUoInRsYmkgdmFlMiwgJTA7IiA6IDogInIi
ICh2YT4+UEFHRV9TSElGVCkgOiAibWVtb3J5Iik7Ci19Ci0KLS8qIEZsdXNoIFRMQiBvZiBhbGwg
cHJvY2Vzc29ycyBpbiB0aGUgaW5uZXItc2hhcmVhYmxlIGRvbWFpbiBmb3IgYWRkcmVzcyB2YS4g
Ki8KLXN0YXRpYyBpbmxpbmUgdm9pZCBfX2ZsdXNoX3hlbl90bGJfb25lKHZhZGRyX3QgdmEpCi17
Ci0gICAgYXNtIHZvbGF0aWxlKCJ0bGJpIHZhZTJpcywgJTA7IiA6IDogInIiICh2YT4+UEFHRV9T
SElGVCkgOiAibWVtb3J5Iik7Ci19Ci0KIC8qIEFzayB0aGUgTU1VIHRvIHRyYW5zbGF0ZSBhIFZB
IGZvciB1cyAqLwogc3RhdGljIGlubGluZSB1aW50NjRfdCBfX3ZhX3RvX3Bhcih2YWRkcl90IHZh
KQogewpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLWFybS9mbHVzaHRsYi5oIGIveGVuL2lu
Y2x1ZGUvYXNtLWFybS9mbHVzaHRsYi5oCmluZGV4IDgzZmY5ZmE4YjMuLmFiMWFhZTVjOTAgMTAw
NjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZmx1c2h0bGIuaAorKysgYi94ZW4vaW5jbHVk
ZS9hc20tYXJtL2ZsdXNodGxiLmgKQEAgLTI4LDYgKzI4LDQ0IEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBwYWdlX3NldF90bGJmbHVzaF90aW1lc3RhbXAoc3RydWN0IHBhZ2VfaW5mbyAqcGFnZSkKIC8q
IEZsdXNoIHNwZWNpZmllZCBDUFVzJyBUTEJzICovCiB2b2lkIGZsdXNoX3RsYl9tYXNrKGNvbnN0
IGNwdW1hc2tfdCAqbWFzayk7CiAKKy8qCisgKiBGbHVzaCBhIHJhbmdlIG9mIFZBJ3MgaHlwZXJ2
aXNvciBtYXBwaW5ncyBmcm9tIHRoZSBUTEIgb2YgdGhlIGxvY2FsCisgKiBwcm9jZXNzb3IuCisg
Ki8KK3N0YXRpYyBpbmxpbmUgdm9pZCBmbHVzaF94ZW5fdGxiX3JhbmdlX3ZhX2xvY2FsKHZhZGRy
X3QgdmEsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBsb25nIHNpemUpCit7CisgICAgdmFkZHJfdCBlbmQgPSB2YSArIHNpemU7CisKKyAg
ICBkc2Ioc3kpOyAvKiBFbnN1cmUgcHJlY2VkaW5nIGFyZSB2aXNpYmxlICovCisgICAgd2hpbGUg
KCB2YSA8IGVuZCApCisgICAgeworICAgICAgICBfX2ZsdXNoX3hlbl90bGJfb25lX2xvY2FsKHZh
KTsKKyAgICAgICAgdmEgKz0gUEFHRV9TSVpFOworICAgIH0KKyAgICBkc2Ioc3kpOyAvKiBFbnN1
cmUgY29tcGxldGlvbiBvZiB0aGUgVExCIGZsdXNoICovCisgICAgaXNiKCk7Cit9CisKKy8qCisg
KiBGbHVzaCBhIHJhbmdlIG9mIFZBJ3MgaHlwZXJ2aXNvciBtYXBwaW5ncyBmcm9tIHRoZSBUTEIg
b2YgYWxsCisgKiBwcm9jZXNzb3JzIGluIHRoZSBpbm5lci1zaGFyZWFibGUgZG9tYWluLgorICov
CitzdGF0aWMgaW5saW5lIHZvaWQgZmx1c2hfeGVuX3RsYl9yYW5nZV92YSh2YWRkcl90IHZhLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBz
aXplKQoreworICAgIHZhZGRyX3QgZW5kID0gdmEgKyBzaXplOworCisgICAgZHNiKHN5KTsgLyog
RW5zdXJlIHByZWNlZGluZyBhcmUgdmlzaWJsZSAqLworICAgIHdoaWxlICggdmEgPCBlbmQgKQor
ICAgIHsKKyAgICAgICAgX19mbHVzaF94ZW5fdGxiX29uZSh2YSk7CisgICAgICAgIHZhICs9IFBB
R0VfU0laRTsKKyAgICB9CisgICAgZHNiKHN5KTsgLyogRW5zdXJlIGNvbXBsZXRpb24gb2YgdGhl
IFRMQiBmbHVzaCAqLworICAgIGlzYigpOworfQorCiAjZW5kaWYgLyogX19BU01fQVJNX0ZMVVNI
VExCX0hfXyAqLwogLyoKICAqIExvY2FsIHZhcmlhYmxlczoKZGlmZiAtLWdpdCBhL3hlbi9pbmNs
dWRlL2FzbS1hcm0vcGFnZS5oIGIveGVuL2luY2x1ZGUvYXNtLWFybS9wYWdlLmgKaW5kZXggMTk1
MzQ1ZTI0YS4uMmJjZGIwZjFhNSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9wYWdl
LmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLWFybS9wYWdlLmgKQEAgLTIzMyw0NCArMjMzLDYgQEAg
c3RhdGljIGlubGluZSBpbnQgY2xlYW5fYW5kX2ludmFsaWRhdGVfZGNhY2hlX3ZhX3JhbmdlCiAg
ICAgICAgICAgICA6IDogInIiIChfcCksICJtIiAoKl9wKSk7ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBcCiB9IHdoaWxlICgwKQogCi0vKgotICogRmx1c2ggYSByYW5nZSBvZiBW
QSdzIGh5cGVydmlzb3IgbWFwcGluZ3MgZnJvbSB0aGUgVExCIG9mIHRoZSBsb2NhbAotICogcHJv
Y2Vzc29yLgotICovCi1zdGF0aWMgaW5saW5lIHZvaWQgZmx1c2hfeGVuX3RsYl9yYW5nZV92YV9s
b2NhbCh2YWRkcl90IHZhLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdW5zaWduZWQgbG9uZyBzaXplKQotewotICAgIHZhZGRyX3QgZW5kID0gdmEgKyBz
aXplOwotCi0gICAgZHNiKHN5KTsgLyogRW5zdXJlIHByZWNlZGluZyBhcmUgdmlzaWJsZSAqLwot
ICAgIHdoaWxlICggdmEgPCBlbmQgKQotICAgIHsKLSAgICAgICAgX19mbHVzaF94ZW5fdGxiX29u
ZV9sb2NhbCh2YSk7Ci0gICAgICAgIHZhICs9IFBBR0VfU0laRTsKLSAgICB9Ci0gICAgZHNiKHN5
KTsgLyogRW5zdXJlIGNvbXBsZXRpb24gb2YgdGhlIFRMQiBmbHVzaCAqLwotICAgIGlzYigpOwot
fQotCi0vKgotICogRmx1c2ggYSByYW5nZSBvZiBWQSdzIGh5cGVydmlzb3IgbWFwcGluZ3MgZnJv
bSB0aGUgVExCIG9mIGFsbAotICogcHJvY2Vzc29ycyBpbiB0aGUgaW5uZXItc2hhcmVhYmxlIGRv
bWFpbi4KLSAqLwotc3RhdGljIGlubGluZSB2b2lkIGZsdXNoX3hlbl90bGJfcmFuZ2VfdmEodmFk
ZHJfdCB2YSwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2ln
bmVkIGxvbmcgc2l6ZSkKLXsKLSAgICB2YWRkcl90IGVuZCA9IHZhICsgc2l6ZTsKLQotICAgIGRz
YihzeSk7IC8qIEVuc3VyZSBwcmVjZWRpbmcgYXJlIHZpc2libGUgKi8KLSAgICB3aGlsZSAoIHZh
IDwgZW5kICkKLSAgICB7Ci0gICAgICAgIF9fZmx1c2hfeGVuX3RsYl9vbmUodmEpOwotICAgICAg
ICB2YSArPSBQQUdFX1NJWkU7Ci0gICAgfQotICAgIGRzYihzeSk7IC8qIEVuc3VyZSBjb21wbGV0
aW9uIG9mIHRoZSBUTEIgZmx1c2ggKi8KLSAgICBpc2IoKTsKLX0KLQogLyogRmx1c2ggdGhlIGRj
YWNoZSBmb3IgYW4gZW50aXJlIHBhZ2UuICovCiB2b2lkIGZsdXNoX3BhZ2VfdG9fcmFtKHVuc2ln
bmVkIGxvbmcgbWZuLCBib29sIHN5bmNfaWNhY2hlKTsKIAotLSAKMi4xMS4wCgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 26EC04C476
	for <lists+xen-devel@lfdr.de>; Thu, 20 Jun 2019 02:33:50 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hdkz3-00008h-8j; Thu, 20 Jun 2019 00:31:21 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=Y7lb=UT=gmail.com=christopher.w.clark@srs-us1.protection.inumbo.net>)
 id 1hdkz1-00007x-Eh
 for xen-devel@lists.xenproject.org; Thu, 20 Jun 2019 00:31:19 +0000
X-Inumbo-ID: b85a27a8-92f2-11e9-8980-bc764e045a96
Received: from mail-io1-xd42.google.com (unknown [2607:f8b0:4864:20::d42])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id b85a27a8-92f2-11e9-8980-bc764e045a96;
 Thu, 20 Jun 2019 00:31:18 +0000 (UTC)
Received: by mail-io1-xd42.google.com with SMTP id r185so199926iod.6
 for <xen-devel@lists.xenproject.org>; Wed, 19 Jun 2019 17:31:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=AovapQVVTQQkmzcMTzk8JCvrp7vgRfayvjJZaS3T4LE=;
 b=ZPLGYcuewZuqVFVaFwv1q2+rhPU20zHVAw0jIF8slVGmOopj+4xFR6TkmvbtkYZeyH
 TJMk+tV+2uKt3s8q04oeJKwSiRDxHOK9IfNybZV6MvibV3bN8Ufe5d1pCEDmSOq4kgFl
 b0VzU7rlmA14Vbb9kNtWJiSm80L+n7aKDdRhOZdP24q6y1PfW1Dias4fr0NQt6IC9O8A
 ObUG8S2Flx9cMZ/zxOrHFwvjXe6N5+ab2anbEyh3B/bTRjX1La3NKo7YaEfca1dG0Exq
 2D9RRrPLOJMqtoohHyMazQqjWq3gCYAsovUQrrk0l0I8xzBLLCcgD/hu8sbAKewOAfiy
 Z+xQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=AovapQVVTQQkmzcMTzk8JCvrp7vgRfayvjJZaS3T4LE=;
 b=PK5W6IDMP1IlBuMDD1EUrqu2VJsJaJKuZny65RkEHLpNyudl3boCD/3O4wxmF5a1Xh
 2HyTMw0kw6lrbikcoWYlP9JU/iLS8z8oAxmC4P0OjHCCHKwphXAhbWFn0BcI1paS4woN
 kT0h2vHJ8KKB6QH77sg71G9bNda1+Z0iW5dr2/Sro1N+Li0dUtB6aacRrR1tHqz6EnVu
 pT56Y3S31IE2PxuP4BXOdTKWlejXfXm4aa9wc5ALZZO9vw4f8gV9sRCjfaozEGDrR30a
 kXtZmjO82GdxmaGaktMXMaN0AHdlgMdII+gMrEuZzoHul2oxBv+jQYEeY0FSvWfl0XqH
 Ae0A==
X-Gm-Message-State: APjAAAWqEIjMMIC9j2T7W0+GEC3yYJk72rlyGFC+v1LZCzbuvlBgD/gf
 Ai0/QMT2HGz6pxtEB3N+ODO50Y3Sano=
X-Google-Smtp-Source: APXvYqzGlSpiZIQtMj7yCzrhX6rFhS+7cPOwQc8eNg9DoeEKbdcODYvPG11Tkvqw/xWtOkR5gjU0JQ==
X-Received: by 2002:a6b:4f14:: with SMTP id d20mr3528730iob.219.1560990677736; 
 Wed, 19 Jun 2019 17:31:17 -0700 (PDT)
Received: from desktop.ice.pyrology.org
 (static-50-53-74-115.bvtn.or.frontiernet.net. [50.53.74.115])
 by smtp.gmail.com with ESMTPSA id e188sm22579016ioa.3.2019.06.19.17.31.15
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 19 Jun 2019 17:31:16 -0700 (PDT)
From: Christopher Clark <christopher.w.clark@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 19 Jun 2019 17:30:46 -0700
Message-Id: <20190620003053.21993-3-christopher.w.clark@gmail.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190620003053.21993-1-christopher.w.clark@gmail.com>
References: <20190620003053.21993-1-christopher.w.clark@gmail.com>
Subject: [Xen-devel] [RFC 2/9] x86: Introduce Xen detection as separate
 logic from Xen Guest support.
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Wei Liu <wl@xen.org>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Rich Persaud <persaur@gmail.com>,
 Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIEtjb25maWcgb3B0aW9uIFhFTl9ERVRFQ1QgZm9yOgogICJTdXBwb3J0IGZvciBYZW4gZGV0
ZWN0aW5nIHdoZW4gaXQgaXMgcnVubmluZyB1bmRlciBYZW4iLgpJZiBydW5uaW5nIHVuZGVyIFhl
biBpcyBkZXRlY3RlZCwgYSBib290IG1lc3NhZ2Ugd2lsbCBpbmRpY2F0ZSB0aGUKaHlwZXJ2aXNv
ciB2ZXJzaW9uIG9idGFpbmVkIGZyb20gY3B1aWQuCgpVcGRhdGUgdGhlIFhFTl9HVUVTVCBLY29u
ZmlnIG9wdGlvbiB0ZXh0IHRvIHJlZmxlY3QgaXRzIGN1cnJlbnQKcHVycG9zZToKICAiQ29tbW9u
IFBWSF9HVUVTVCBhbmQgUFZfU0hJTSBsb2dpYyBmb3IgWGVuIGFzIGEgWGVuLWF3YXJlIGd1ZXN0
Ii4KClVwZGF0ZSBjYWxpYnJhdGVfQVBJQ19jbG9jayB0byB1c2UgWGVuLXNwZWNpZmljIGluaXQg
aWYgbmVzdGVkIFhlbiBpcwpkZXRlY3RlZCwgZXZlbiBpZiBub3Qgb3BlcmF0aW5nIGFzIGEgUFYg
c2hpbSBvciBib290ZWQgYXMgUFZILgoKVGhpcyB3b3JrIGlzIGEgcHJlY3Vyc29yIHRvIGFkZGlu
ZyB0aGUgaW50ZXJmYWNlIGZvciBzdXBwb3J0IG9mClBWIGRyaXZlcnMgb24gbmVzdGVkIFhlbi4K
ClNpZ25lZC1vZmYtYnk6IENocmlzdG9waGVyIENsYXJrIDxjaHJpc3RvcGhlci5jbGFya0BzdGFy
bGFiLmlvPgotLS0KIHhlbi9hcmNoL3g4Ni9LY29uZmlnICAgICAgICAgICAgfCAxMSArKysrKysr
KysrLQogeGVuL2FyY2gveDg2L01ha2VmaWxlICAgICAgICAgICB8ICAyICstCiB4ZW4vYXJjaC94
ODYvYXBpYy5jICAgICAgICAgICAgIHwgIDQgKystLQogeGVuL2FyY2gveDg2L2d1ZXN0L01ha2Vm
aWxlICAgICB8ICAyICstCiB4ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLWd1ZXN0LmMgIHwgMTAgKysr
KysrKysrKwogeGVuL2FyY2gveDg2L2d1ZXN0L3hlbi5jICAgICAgICB8IDIzICsrKysrKysrKysr
KysrKysrKy0tLS0tCiB4ZW4vYXJjaC94ODYvc2V0dXAuYyAgICAgICAgICAgIHwgIDMgKysrCiB4
ZW4vaW5jbHVkZS9hc20teDg2L2d1ZXN0L3hlbi5oIHwgMjYgKysrKysrKysrKysrKysrKysrKysr
LS0tLS0KIDggZmlsZXMgY2hhbmdlZCwgNjYgaW5zZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25zKC0p
CgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L0tjb25maWcgYi94ZW4vYXJjaC94ODYvS2NvbmZp
ZwppbmRleCBmNTAyZDc2NWJhLi4zMWU1ZmZkMmYyIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYv
S2NvbmZpZworKysgYi94ZW4vYXJjaC94ODYvS2NvbmZpZwpAQCAtMTYxLDExICsxNjEsMjAgQEAg
Y29uZmlnIFhFTl9BTElHTl8yTQogCiBlbmRjaG9pY2UKIAorY29uZmlnIFhFTl9ERVRFQ1QKKwlk
ZWZfYm9vbCB5CisJcHJvbXB0ICJYZW4gRGV0ZWN0aW9uIgorCS0tLWhlbHAtLS0KKwkgIFN1cHBv
cnQgZm9yIFhlbiBkZXRlY3Rpbmcgd2hlbiBpdCBpcyBydW5uaW5nIHVuZGVyIFhlbi4KKworCSAg
SWYgdW5zdXJlLCBzYXkgWS4KKwogY29uZmlnIFhFTl9HVUVTVAogCWRlZl9ib29sIG4KIAlwcm9t
cHQgIlhlbiBHdWVzdCIKKwlkZXBlbmRzIG9uIFhFTl9ERVRFQ1QKIAktLS1oZWxwLS0tCi0JICBT
dXBwb3J0IGZvciBYZW4gZGV0ZWN0aW5nIHdoZW4gaXQgaXMgcnVubmluZyB1bmRlciBYZW4uCisJ
ICBDb21tb24gUFZIX0dVRVNUIGFuZCBQVl9TSElNIGxvZ2ljIGZvciBYZW4gYXMgYSBYZW4tYXdh
cmUgZ3Vlc3QuCiAKIAkgIElmIHVuc3VyZSwgc2F5IE4uCiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNo
L3g4Ni9NYWtlZmlsZSBiL3hlbi9hcmNoL3g4Ni9NYWtlZmlsZQppbmRleCA4YThkOGYwNjBmLi43
NjMwNzdiMGEzIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvTWFrZWZpbGUKKysrIGIveGVuL2Fy
Y2gveDg2L01ha2VmaWxlCkBAIC0xLDcgKzEsNyBAQAogc3ViZGlyLXkgKz0gYWNwaQogc3ViZGly
LXkgKz0gY3B1CiBzdWJkaXIteSArPSBnZW5hcGljCi1zdWJkaXItJChDT05GSUdfWEVOX0dVRVNU
KSArPSBndWVzdAorc3ViZGlyLSQoQ09ORklHX1hFTl9ERVRFQ1QpICs9IGd1ZXN0CiBzdWJkaXIt
JChDT05GSUdfSFZNKSArPSBodm0KIHN1YmRpci15ICs9IG1tCiBzdWJkaXItJChDT05GSUdfWEVO
T1BST0YpICs9IG9wcm9maWxlCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvYXBpYy5jIGIveGVu
L2FyY2gveDg2L2FwaWMuYwppbmRleCA5YzNjOTk4ZDM0Li41OTQ5YTk1ZDU4IDEwMDY0NAotLS0g
YS94ZW4vYXJjaC94ODYvYXBpYy5jCisrKyBiL3hlbi9hcmNoL3g4Ni9hcGljLmMKQEAgLTEyNDcs
NyArMTI0Nyw3IEBAIHN0YXRpYyBpbnQgX19pbml0IGNhbGlicmF0ZV9BUElDX2Nsb2NrKHZvaWQp
CiAgICAgICovCiAgICAgX19zZXR1cF9BUElDX0xWVFQoMTAwMDAwMDAwMCk7CiAKLSAgICBpZiAo
ICF4ZW5fZ3Vlc3QgKQorICAgIGlmICggIXhlbl9kZXRlY3RlZCApCiAgICAgICAgIC8qCiAgICAg
ICAgICAqIFRoZSB0aW1lciBjaGlwIGNvdW50cyBkb3duIHRvIHplcm8uIExldCdzIHdhaXQKICAg
ICAgICAgICogZm9yIGEgd3JhcGFyb3VuZCB0byBzdGFydCBleGFjdCBtZWFzdXJlbWVudDoKQEAg
LTEyNjcsNyArMTI2Nyw3IEBAIHN0YXRpYyBpbnQgX19pbml0IGNhbGlicmF0ZV9BUElDX2Nsb2Nr
KHZvaWQpCiAgICAgICogTGV0J3Mgd2FpdCBMT09QUyB0aWNrczoKICAgICAgKi8KICAgICBmb3Ig
KGkgPSAwOyBpIDwgTE9PUFM7IGkrKykKLSAgICAgICAgaWYgKCAheGVuX2d1ZXN0ICkKKyAgICAg
ICAgaWYgKCAheGVuX2RldGVjdGVkICkKICAgICAgICAgICAgIHdhaXRfODI1NF93cmFwYXJvdW5k
KCk7CiAgICAgICAgIGVsc2UKICAgICAgICAgICAgIHdhaXRfdGlja19wdmgoKTsKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL3g4Ni9ndWVzdC9NYWtlZmlsZSBiL3hlbi9hcmNoL3g4Ni9ndWVzdC9NYWtl
ZmlsZQppbmRleCA2ZGRhYTM3NDhmLi5kM2E3ODQ0ZTYxIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94
ODYvZ3Vlc3QvTWFrZWZpbGUKKysrIGIveGVuL2FyY2gveDg2L2d1ZXN0L01ha2VmaWxlCkBAIC0x
LDQgKzEsNCBAQAotb2JqLXkgKz0gaHlwZXJjYWxsX3BhZ2Uubworb2JqLSQoQ09ORklHX1hFTl9H
VUVTVCkgKz0gaHlwZXJjYWxsX3BhZ2Uubwogb2JqLXkgKz0geGVuLm8KIG9iai0kKENPTkZJR19Y
RU5fR1VFU1QpICs9IHhlbi1ndWVzdC5vCiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9ndWVz
dC94ZW4tZ3Vlc3QuYyBiL3hlbi9hcmNoL3g4Ni9ndWVzdC94ZW4tZ3Vlc3QuYwppbmRleCA2NTU5
NmFiMWIxLi5iNmQ4OWUwMmEzIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLWd1
ZXN0LmMKKysrIGIveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi1ndWVzdC5jCkBAIC0zNSw2ICszNSw4
IEBACiAjaW5jbHVkZSA8cHVibGljL2FyY2gteDg2L2NwdWlkLmg+CiAjaW5jbHVkZSA8cHVibGlj
L2h2bS9wYXJhbXMuaD4KIAorZXh0ZXJuIGNoYXIgaHlwZXJjYWxsX3BhZ2VbXTsKKwogYm9vbCBf
X3JlYWRfbW9zdGx5IHhlbl9ndWVzdDsKIAogc3RhdGljIHN0cnVjdCByYW5nZXNldCAqbWVtOwpA
QCAtNDUsNiArNDcsMTQgQEAgc3RhdGljIHN0cnVjdCB2Y3B1X2luZm8gKnZjcHVfaW5mbzsKIHN0
YXRpYyB1bnNpZ25lZCBsb25nIHZjcHVfaW5mb19tYXBwZWRbQklUU19UT19MT05HUyhOUl9DUFVT
KV07CiBERUZJTkVfUEVSX0NQVShzdHJ1Y3QgdmNwdV9pbmZvICosIHZjcHVfaW5mbyk7CiAKK3Zv
aWQgeGVuX2d1ZXN0X2VuYWJsZSh2b2lkKQoreworICAgIC8qIEZpbGwgdGhlIGh5cGVyY2FsbCBw
YWdlLiAqLworICAgIHdybXNybChjcHVpZF9lYngoaHlwZXJ2aXNvcl9jcHVpZF9iYXNlKCkgKyAy
KSwgX19wYShoeXBlcmNhbGxfcGFnZSkpOworCisgICAgeGVuX2d1ZXN0ID0gdHJ1ZTsKK30KKwog
c3RhdGljIHZvaWQgbWFwX3NoYXJlZF9pbmZvKHZvaWQpCiB7CiAgICAgbWZuX3QgbWZuOwpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L2d1ZXN0L3hlbi5jIGIveGVuL2FyY2gveDg2L2d1ZXN0L3hl
bi5jCmluZGV4IDkwZDQ2NGJkYmQuLmIwYjYwM2ExMWEgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4
Ni9ndWVzdC94ZW4uYworKysgYi94ZW4vYXJjaC94ODYvZ3Vlc3QveGVuLmMKQEAgLTMzLDggKzMz
LDEwIEBACiAjaW5jbHVkZSA8cHVibGljL2FyY2gteDg2L2NwdWlkLmg+CiAjaW5jbHVkZSA8cHVi
bGljL2h2bS9wYXJhbXMuaD4KIAorLyogeGVuX2RldGVjdGVkOiBYZW4gcnVubmluZyBvbiBYZW4g
ZGV0ZWN0ZWQgKi8KK2Jvb2wgX19yZWFkX21vc3RseSB4ZW5fZGV0ZWN0ZWQ7CisKIHN0YXRpYyBf
X3JlYWRfbW9zdGx5IHVpbnQzMl90IHhlbl9jcHVpZF9iYXNlOwotZXh0ZXJuIGNoYXIgaHlwZXJj
YWxsX3BhZ2VbXTsKIAogc3RhdGljIHZvaWQgX19pbml0IGZpbmRfeGVuX2xlYXZlcyh2b2lkKQog
ewpAQCAtNTgsNyArNjAsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgZmluZF94ZW5fbGVhdmVzKHZv
aWQpCiAKIHZvaWQgX19pbml0IHByb2JlX2h5cGVydmlzb3Iodm9pZCkKIHsKLSAgICBpZiAoIHhl
bl9ndWVzdCApCisgICAgaWYgKCB4ZW5fZGV0ZWN0ZWQgKQogICAgICAgICByZXR1cm47CiAKICAg
ICAvKiBUb28gZWFybHkgdG8gdXNlIGNwdV9oYXNfaHlwZXJ2aXNvciAqLwpAQCAtNzAsMTAgKzcy
LDIxIEBAIHZvaWQgX19pbml0IHByb2JlX2h5cGVydmlzb3Iodm9pZCkKICAgICBpZiAoICF4ZW5f
Y3B1aWRfYmFzZSApCiAgICAgICAgIHJldHVybjsKIAotICAgIC8qIEZpbGwgdGhlIGh5cGVyY2Fs
bCBwYWdlLiAqLwotICAgIHdybXNybChjcHVpZF9lYngoeGVuX2NwdWlkX2Jhc2UgKyAyKSwgX19w
YShoeXBlcmNhbGxfcGFnZSkpOworICAgIHhlbl9kZXRlY3RlZCA9IHRydWU7CisKKyAgICB4ZW5f
Z3Vlc3RfZW5hYmxlKCk7Cit9CisKK3ZvaWQgX19pbml0IGh5cGVydmlzb3JfcHJpbnRfaW5mbyh2
b2lkKQoreworICAgIHVpbnQzMl90IGVheCwgZWJ4LCBlY3gsIGVkeDsKKyAgICB1bnNpZ25lZCBp
bnQgbWFqb3IsIG1pbm9yOworCisgICAgY3B1aWQoeGVuX2NwdWlkX2Jhc2UgKyAxLCAmZWF4LCAm
ZWJ4LCAmZWN4LCAmZWR4KTsKIAotICAgIHhlbl9ndWVzdCA9IHRydWU7CisgICAgbWFqb3IgPSBl
YXggPj4gMTY7CisgICAgbWlub3IgPSBlYXggJiAweGZmZmY7CisgICAgcHJpbnRrKCJOZXN0ZWQg
WGVuIHZlcnNpb24gJXUuJXUuXG4iLCBtYWpvciwgbWlub3IpOwogfQogCiB1aW50MzJfdCBoeXBl
cnZpc29yX2NwdWlkX2Jhc2Uodm9pZCkKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9zZXR1cC5j
IGIveGVuL2FyY2gveDg2L3NldHVwLmMKaW5kZXggZDIwMTE5MTBmYS4uNThmNDk5ZWRhZiAxMDA2
NDQKLS0tIGEveGVuL2FyY2gveDg2L3NldHVwLmMKKysrIGIveGVuL2FyY2gveDg2L3NldHVwLmMK
QEAgLTc3NCw2ICs3NzQsOSBAQCB2b2lkIF9faW5pdCBub3JldHVybiBfX3N0YXJ0X3hlbih1bnNp
Z25lZCBsb25nIG1iaV9wKQogICAgIGVoY2lfZGJncF9pbml0KCk7CiAgICAgY29uc29sZV9pbml0
X3ByZWlycSgpOwogCisgICAgaWYgKCB4ZW5fZGV0ZWN0ZWQgKQorICAgICAgICBoeXBlcnZpc29y
X3ByaW50X2luZm8oKTsKKwogICAgIGlmICggcHZoX2Jvb3QgKQogICAgICAgICBwdmhfcHJpbnRf
aW5mbygpOwogCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20teDg2L2d1ZXN0L3hlbi5oIGIv
eGVuL2luY2x1ZGUvYXNtLXg4Ni9ndWVzdC94ZW4uaAppbmRleCA3ZTA0ZTRhN2FiLi4yN2M4NTRh
YjhhIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2d1ZXN0L3hlbi5oCisrKyBiL3hl
bi9pbmNsdWRlL2FzbS14ODYvZ3Vlc3QveGVuLmgKQEAgLTI0LDIwICsyNCwzNyBAQAogI2luY2x1
ZGUgPGFzbS9lODIwLmg+CiAjaW5jbHVkZSA8YXNtL2ZpeG1hcC5oPgogCi0jZGVmaW5lIFhFTl9z
aGFyZWRfaW5mbyAoKHN0cnVjdCBzaGFyZWRfaW5mbyAqKWZpeF90b192aXJ0KEZJWF9YRU5fU0hB
UkVEX0lORk8pKQorI2lmZGVmIENPTkZJR19YRU5fREVURUNUCisKK2V4dGVybiBib29sIHhlbl9k
ZXRlY3RlZDsKKwordm9pZCBwcm9iZV9oeXBlcnZpc29yKHZvaWQpOwordm9pZCBoeXBlcnZpc29y
X3ByaW50X2luZm8odm9pZCk7Cit1aW50MzJfdCBoeXBlcnZpc29yX2NwdWlkX2Jhc2Uodm9pZCk7
CisKKyNlbHNlCisKKyNkZWZpbmUgeGVuX2RldGVjdGVkIDAKKworc3RhdGljIGlubGluZSB2b2lk
IHByb2JlX2h5cGVydmlzb3Iodm9pZCkge30KK3N0YXRpYyBpbmxpbmUgdm9pZCBoeXBlcnZpc29y
X3ByaW50X2luZm8odm9pZCkgeworICAgIEFTU0VSVF9VTlJFQUNIQUJMRSgpOworfQorCisjZW5k
aWYgLyogQ09ORklHX1hFTl9ERVRFQ1QgKi8KIAogI2lmZGVmIENPTkZJR19YRU5fR1VFU1QKKyNk
ZWZpbmUgWEVOX3NoYXJlZF9pbmZvICgoc3RydWN0IHNoYXJlZF9pbmZvICopZml4X3RvX3ZpcnQo
RklYX1hFTl9TSEFSRURfSU5GTykpCiAKIGV4dGVybiBib29sIHhlbl9ndWVzdDsKIGV4dGVybiBi
b29sIHB2X2NvbnNvbGU7CiAKLXZvaWQgcHJvYmVfaHlwZXJ2aXNvcih2b2lkKTsKIHZvaWQgaHlw
ZXJ2aXNvcl9zZXR1cCh2b2lkKTsKIHZvaWQgaHlwZXJ2aXNvcl9hcF9zZXR1cCh2b2lkKTsKIGlu
dCBoeXBlcnZpc29yX2FsbG9jX3VudXNlZF9wYWdlKG1mbl90ICptZm4pOwogaW50IGh5cGVydmlz
b3JfZnJlZV91bnVzZWRfcGFnZShtZm5fdCBtZm4pOwotdWludDMyX3QgaHlwZXJ2aXNvcl9jcHVp
ZF9iYXNlKHZvaWQpOwogdm9pZCBoeXBlcnZpc29yX3Jlc3VtZSh2b2lkKTsKK3ZvaWQgeGVuX2d1
ZXN0X2VuYWJsZSh2b2lkKTsKIAogREVDTEFSRV9QRVJfQ1BVKHVuc2lnbmVkIGludCwgdmNwdV9p
ZCk7CiBERUNMQVJFX1BFUl9DUFUoc3RydWN0IHZjcHVfaW5mbyAqLCB2Y3B1X2luZm8pOwpAQCAt
NDcsOCArNjQsNiBAQCBERUNMQVJFX1BFUl9DUFUoc3RydWN0IHZjcHVfaW5mbyAqLCB2Y3B1X2lu
Zm8pOwogI2RlZmluZSB4ZW5fZ3Vlc3QgMAogI2RlZmluZSBwdl9jb25zb2xlIDAKIAotc3RhdGlj
IGlubGluZSB2b2lkIHByb2JlX2h5cGVydmlzb3Iodm9pZCkge30KLQogc3RhdGljIGlubGluZSB2
b2lkIGh5cGVydmlzb3Jfc2V0dXAodm9pZCkKIHsKICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsK
QEAgLTU3LDYgKzcyLDcgQEAgc3RhdGljIGlubGluZSB2b2lkIGh5cGVydmlzb3JfYXBfc2V0dXAo
dm9pZCkKIHsKICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKIH0KK3N0YXRpYyBpbmxpbmUgdm9p
ZCB4ZW5fZ3Vlc3RfZW5hYmxlKHZvaWQpIHt9CiAKICNlbmRpZiAvKiBDT05GSUdfWEVOX0dVRVNU
ICovCiAjZW5kaWYgLyogX19YODZfR1VFU1RfWEVOX0hfXyAqLwotLSAKMi4xNy4xCgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxp
bmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5w
cm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BD26518F27
	for <lists+xen-devel@lfdr.de>; Thu,  9 May 2019 19:30:42 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hOmpa-0001km-9X; Thu, 09 May 2019 17:27:42 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=fgKw=TJ=oracle.com=ankur.a.arora@srs-us1.protection.inumbo.net>)
 id 1hOmpY-0001k1-Ne
 for xen-devel@lists.xenproject.org; Thu, 09 May 2019 17:27:40 +0000
X-Inumbo-ID: be31a5e6-727f-11e9-8980-bc764e045a96
Received: from userp2120.oracle.com (unknown [156.151.31.85])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id be31a5e6-727f-11e9-8980-bc764e045a96;
 Thu, 09 May 2019 17:27:39 +0000 (UTC)
Received: from pps.filterd (userp2120.oracle.com [127.0.0.1])
 by userp2120.oracle.com (8.16.0.27/8.16.0.27) with SMTP id x49HJQFS169509;
 Thu, 9 May 2019 17:27:38 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=oracle.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-transfer-encoding; s=corp-2018-07-02;
 bh=8/DeRvHfS7GtntS/GuUkuMeOArFNdl2F/EOQIvpvivQ=;
 b=Jed5a7bIAm0K95GIodRsZIGKULT4dU9ZOWjfFK6is/H7RK1WEH8CBBn8AdTM6jQEAsRk
 jcRaGTZa5YL5tEV/yfarQM6JToVKA8k837Ymhet1znYWQ2Hd4gpeKfbv33Hy95mg5uFz
 Oo2AXxZ+XawpfwWm3F0XiftIaNBFE0cRxipjQiB71VU8cbLp4i0wEn+7sW8ZUzvv/vZX
 KLpjKVXvDbP0dj9RhoyGvVKjEvYzaoa+sHJ/wgAmTpBOLqWAnn6DFssE1Ow/WyvoUSPY
 XqwcvQBjG2Wq0BVdRIQ0UVt/3G9H/58K6y3lBMoguKZZ8DCsyQmITbDQLT9DvxejYVZh 1g== 
Received: from aserp3030.oracle.com (aserp3030.oracle.com [141.146.126.71])
 by userp2120.oracle.com with ESMTP id 2s94b14eby-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
 Thu, 09 May 2019 17:27:37 +0000
Received: from pps.filterd (aserp3030.oracle.com [127.0.0.1])
 by aserp3030.oracle.com (8.16.0.27/8.16.0.27) with SMTP id x49HP5c1119589;
 Thu, 9 May 2019 17:25:37 GMT
Received: from userv0122.oracle.com (userv0122.oracle.com [156.151.31.75])
 by aserp3030.oracle.com with ESMTP id 2scpy5t20w-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=OK);
 Thu, 09 May 2019 17:25:37 +0000
Received: from abhmp0008.oracle.com (abhmp0008.oracle.com [141.146.116.14])
 by userv0122.oracle.com (8.14.4/8.14.4) with ESMTP id x49HPZFT031166;
 Thu, 9 May 2019 17:25:35 GMT
Received: from aa1-ca-oracle-com.ca.oracle.com (/10.156.75.204)
 by default (Oracle Beehive Gateway v4.0)
 with ESMTP ; Thu, 09 May 2019 10:25:35 -0700
From: Ankur Arora <ankur.a.arora@oracle.com>
To: linux-kernel@vger.kernel.org, xen-devel@lists.xenproject.org
Date: Thu,  9 May 2019 10:25:25 -0700
Message-Id: <20190509172540.12398-2-ankur.a.arora@oracle.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190509172540.12398-1-ankur.a.arora@oracle.com>
References: <20190509172540.12398-1-ankur.a.arora@oracle.com>
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=nai engine=5900 definitions=9252
 signatures=668686
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 suspectscore=0
 malwarescore=0
 phishscore=0 bulkscore=0 spamscore=0 mlxscore=0 mlxlogscore=999
 adultscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.0.1-1810050000 definitions=main-1905090100
X-Proofpoint-Virus-Version: vendor=nai engine=5900 definitions=9252
 signatures=668686
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0
 priorityscore=1501 malwarescore=0
 suspectscore=0 phishscore=0 bulkscore=0 spamscore=0 clxscore=1015
 lowpriorityscore=0 mlxscore=0 impostorscore=0 mlxlogscore=999 adultscore=0
 classifier=spam adjust=0 reason=mlx scancount=1 engine=8.0.1-1810050000
 definitions=main-1905090100
Subject: [Xen-devel] [RFC PATCH 01/16] x86/xen: add xenhost_t interface
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: jgross@suse.com, sstabellini@kernel.org, konrad.wilk@oracle.com,
 ankur.a.arora@oracle.com, pbonzini@redhat.com, boris.ostrovsky@oracle.com,
 joao.m.martins@oracle.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIHhlbmhvc3RfdCB3aGljaCB3aWxsIHNlcnZlIGFzIGFuIGFic3RyYWN0aW9uIG92ZXIgWGVu
IGludGVyZmFjZXMuCkl0IGNvLWV4aXN0cyB3aXRoIHRoZSBQVi9IVk0vUFZIIGFic3RyYWN0aW9u
cyAoeDg2X2luaXQsIGh5cGVydmlzb3JfeDg2LApwdl9vcHMgZXRjKSBhbmQgaXMgbWVhbnQgdG8g
Y2FwdHVyZSBtZWNoYW5pc21zIGZvciBjb21tdW5pY2F0aW9uIHdpdGgKWGVuIHNvIHdlIGNvdWxk
IGhhdmUgZGlmZmVyZW50IHR5cGVzIG9mIHVuZGVybHlpbmcgWGVuOiByZWd1bGFyLCBsb2NhbCwK
YW5kIG5lc3RlZC4KCkFsc28gYWRkIHhlbmhvc3RfcmVnaXN0ZXIoKSBhbmQgc3R1YiByZWdpc3Ry
YXRpb24gaW4gdGhlIHZhcmlvdXMgZ3Vlc3QKdHlwZXMuCgpTaWduZWQtb2ZmLWJ5OiBBbmt1ciBB
cm9yYSA8YW5rdXIuYS5hcm9yYUBvcmFjbGUuY29tPgotLS0KIGFyY2gveDg2L3hlbi9NYWtlZmls
ZSAgICAgICAgfCAgMSArCiBhcmNoL3g4Ni94ZW4vZW5saWdodGVuX2h2bS5jIHwgMTMgKysrKysK
IGFyY2gveDg2L3hlbi9lbmxpZ2h0ZW5fcHYuYyAgfCAxNiArKysrKysKIGFyY2gveDg2L3hlbi9l
bmxpZ2h0ZW5fcHZoLmMgfCAxMiArKysrKwogYXJjaC94ODYveGVuL3hlbmhvc3QuYyAgICAgICB8
IDc1ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysKIGluY2x1ZGUveGVuL3hlbi5oICAgICAg
ICAgICAgfCAgMyArKwogaW5jbHVkZS94ZW4veGVuaG9zdC5oICAgICAgICB8IDk1ICsrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKwogNyBmaWxlcyBjaGFuZ2VkLCAyMTUgaW5zZXJ0
aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGFyY2gveDg2L3hlbi94ZW5ob3N0LmMKIGNyZWF0
ZSBtb2RlIDEwMDY0NCBpbmNsdWRlL3hlbi94ZW5ob3N0LmgKCmRpZmYgLS1naXQgYS9hcmNoL3g4
Ni94ZW4vTWFrZWZpbGUgYi9hcmNoL3g4Ni94ZW4vTWFrZWZpbGUKaW5kZXggMDg0ZGU3N2ExMDll
Li41NjRiNGRkZGJjMTUgMTAwNjQ0Ci0tLSBhL2FyY2gveDg2L3hlbi9NYWtlZmlsZQorKysgYi9h
cmNoL3g4Ni94ZW4vTWFrZWZpbGUKQEAgLTE4LDYgKzE4LDcgQEAgb2JqLXkJCQkJKz0gbW11Lm8K
IG9iai15CQkJCSs9IHRpbWUubwogb2JqLXkJCQkJKz0gZ3JhbnQtdGFibGUubwogb2JqLXkJCQkJ
Kz0gc3VzcGVuZC5vCitvYmoteQkJCQkrPSB4ZW5ob3N0Lm8KIAogb2JqLSQoQ09ORklHX1hFTl9Q
VkhWTSkJCSs9IGVubGlnaHRlbl9odm0ubwogb2JqLSQoQ09ORklHX1hFTl9QVkhWTSkJCSs9IG1t
dV9odm0ubwpkaWZmIC0tZ2l0IGEvYXJjaC94ODYveGVuL2VubGlnaHRlbl9odm0uYyBiL2FyY2gv
eDg2L3hlbi9lbmxpZ2h0ZW5faHZtLmMKaW5kZXggMGU3NTY0MmQ0MmEzLi4xMDA0NTJmNGY0NGMg
MTAwNjQ0Ci0tLSBhL2FyY2gveDg2L3hlbi9lbmxpZ2h0ZW5faHZtLmMKKysrIGIvYXJjaC94ODYv
eGVuL2VubGlnaHRlbl9odm0uYwpAQCAtNSw2ICs1LDcgQEAKICNpbmNsdWRlIDxsaW51eC9rZXhl
Yy5oPgogI2luY2x1ZGUgPGxpbnV4L21lbWJsb2NrLmg+CiAKKyNpbmNsdWRlIDx4ZW4veGVuaG9z
dC5oPgogI2luY2x1ZGUgPHhlbi9mZWF0dXJlcy5oPgogI2luY2x1ZGUgPHhlbi9ldmVudHMuaD4K
ICNpbmNsdWRlIDx4ZW4vaW50ZXJmYWNlL21lbW9yeS5oPgpAQCAtODIsNiArODMsMTIgQEAgc3Rh
dGljIHZvaWQgX19pbml0IHhlbl9odm1faW5pdF9tZW1fbWFwcGluZyh2b2lkKQogCXhlbl92Y3B1
X2luZm9fcmVzZXQoMCk7CiB9CiAKK3hlbmhvc3Rfb3BzX3QgeGhfaHZtX29wcyA9IHsKK307CisK
K3hlbmhvc3Rfb3BzX3QgeGhfaHZtX25lc3RlZF9vcHMgPSB7Cit9OworCiBzdGF0aWMgdm9pZCBf
X2luaXQgaW5pdF9odm1fcHZfaW5mbyh2b2lkKQogewogCWludCBtYWpvciwgbWlub3I7CkBAIC0x
NzksNiArMTg2LDEyIEBAIHN0YXRpYyB2b2lkIF9faW5pdCB4ZW5faHZtX2d1ZXN0X2luaXQodm9p
ZCkKIHsKIAlpZiAoeGVuX3B2X2RvbWFpbigpKQogCQlyZXR1cm47CisJLyoKKwkgKiBXZSBuZWVk
IG9ubHkgeGVuaG9zdF9yMSBmb3IgSFZNIGd1ZXN0cyBzaW5jZSB0aGV5IGNhbm5vdCBiZQorCSAq
IGRyaXZlciBkb21haW4gKD8pIG9yIGRvbTAuCisJICovCisJaWYgKCF4ZW5fcHZoX2RvbWFpbigp
KQorCQl4ZW5ob3N0X3JlZ2lzdGVyKHhlbmhvc3RfcjEsICZ4aF9odm1fb3BzKTsKIAogCWluaXRf
aHZtX3B2X2luZm8oKTsKIApkaWZmIC0tZ2l0IGEvYXJjaC94ODYveGVuL2VubGlnaHRlbl9wdi5j
IGIvYXJjaC94ODYveGVuL2VubGlnaHRlbl9wdi5jCmluZGV4IGM1NGE0OTNlMTM5YS4uYmI2ZTgx
MWMxNTI1IDEwMDY0NAotLS0gYS9hcmNoL3g4Ni94ZW4vZW5saWdodGVuX3B2LmMKKysrIGIvYXJj
aC94ODYveGVuL2VubGlnaHRlbl9wdi5jCkBAIC0zNiw2ICszNiw3IEBACiAKICNpbmNsdWRlIDx4
ZW4veGVuLmg+CiAjaW5jbHVkZSA8eGVuL2V2ZW50cy5oPgorI2luY2x1ZGUgPHhlbi94ZW5ob3N0
Lmg+CiAjaW5jbHVkZSA8eGVuL2ludGVyZmFjZS94ZW4uaD4KICNpbmNsdWRlIDx4ZW4vaW50ZXJm
YWNlL3ZlcnNpb24uaD4KICNpbmNsdWRlIDx4ZW4vaW50ZXJmYWNlL3BoeXNkZXYuaD4KQEAgLTEx
ODgsNiArMTE4OSwxMiBAQCBzdGF0aWMgdm9pZCBfX2luaXQgeGVuX2RvbTBfc2V0X2xlZ2FjeV9m
ZWF0dXJlcyh2b2lkKQogCXg4Nl9wbGF0Zm9ybS5sZWdhY3kucnRjID0gMTsKIH0KIAoreGVuaG9z
dF9vcHNfdCB4aF9wdl9vcHMgPSB7Cit9OworCit4ZW5ob3N0X29wc190IHhoX3B2X25lc3RlZF9v
cHMgPSB7Cit9OworCiAvKiBGaXJzdCBDIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBYZW4gYm9v
dCAqLwogYXNtbGlua2FnZSBfX3Zpc2libGUgdm9pZCBfX2luaXQgeGVuX3N0YXJ0X2tlcm5lbCh2
b2lkKQogewpAQCAtMTE5OCw2ICsxMjA1LDE1IEBAIGFzbWxpbmthZ2UgX192aXNpYmxlIHZvaWQg
X19pbml0IHhlbl9zdGFydF9rZXJuZWwodm9pZCkKIAlpZiAoIXhlbl9zdGFydF9pbmZvKQogCQly
ZXR1cm47CiAKKwl4ZW5ob3N0X3JlZ2lzdGVyKHhlbmhvc3RfcjEsICZ4aF9wdl9vcHMpOworCisJ
LyoKKwkgKiBEZXRlY3QgaW4gc29tZSBpbXBsZW1lbnRhdGlvbiBkZWZpbmVkIG1hbm5lciB3aGV0
aGVyIHRoaXMgaXMKKwkgKiBuZXN0ZWQgb3Igbm90LgorCSAqLworCWlmICh4ZW5fZHJpdmVyX2Rv
bWFpbigpICYmIHhlbl9uZXN0ZWQoKSkKKwkJeGVuaG9zdF9yZWdpc3Rlcih4ZW5ob3N0X3IyLCAm
eGhfcHZfbmVzdGVkX29wcyk7CisKIAl4ZW5fZG9tYWluX3R5cGUgPSBYRU5fUFZfRE9NQUlOOwog
CXhlbl9zdGFydF9mbGFncyA9IHhlbl9zdGFydF9pbmZvLT5mbGFnczsKIApkaWZmIC0tZ2l0IGEv
YXJjaC94ODYveGVuL2VubGlnaHRlbl9wdmguYyBiL2FyY2gveDg2L3hlbi9lbmxpZ2h0ZW5fcHZo
LmMKaW5kZXggMzViNzU5OWQyZDBiLi44MjZjMjk2ZDI3YTMgMTAwNjQ0Ci0tLSBhL2FyY2gveDg2
L3hlbi9lbmxpZ2h0ZW5fcHZoLmMKKysrIGIvYXJjaC94ODYveGVuL2VubGlnaHRlbl9wdmguYwpA
QCAtOCw2ICs4LDcgQEAKICNpbmNsdWRlIDxhc20vZTgyMC9hcGkuaD4KIAogI2luY2x1ZGUgPHhl
bi94ZW4uaD4KKyNpbmNsdWRlIDx4ZW4veGVuaG9zdC5oPgogI2luY2x1ZGUgPGFzbS94ZW4vaW50
ZXJmYWNlLmg+CiAjaW5jbHVkZSA8YXNtL3hlbi9oeXBlcmNhbGwuaD4KIApAQCAtMjEsMTEgKzIy
LDIyIEBACiAgKi8KIGJvb2wgeGVuX3B2aCBfX2F0dHJpYnV0ZV9fKChzZWN0aW9uKCIuZGF0YSIp
KSkgPSAwOwogCitleHRlcm4geGVuaG9zdF9vcHNfdCB4aF9odm1fb3BzLCB4aF9odm1fbmVzdGVk
X29wczsKKwogdm9pZCBfX2luaXQgeGVuX3B2aF9pbml0KHZvaWQpCiB7CiAJdTMyIG1zcjsKIAl1
NjQgcGZuOwogCisJeGVuaG9zdF9yZWdpc3Rlcih4ZW5ob3N0X3IxLCAmeGhfaHZtX29wcyk7CisK
KwkvKgorCSAqIERldGVjdCBpbiBzb21lIGltcGxlbWVudGF0aW9uIGRlZmluZWQgbWFubmVyIHdo
ZXRoZXIgdGhpcyBpcworCSAqIG5lc3RlZCBvciBub3QuCisJICovCisJaWYgKHhlbl9kcml2ZXJf
ZG9tYWluKCkgJiYgeGVuX25lc3RlZCgpKQorCQl4ZW5ob3N0X3JlZ2lzdGVyKHhlbmhvc3RfcjIs
ICZ4aF9odm1fbmVzdGVkX29wcyk7CisKIAl4ZW5fcHZoID0gMTsKIAl4ZW5fc3RhcnRfZmxhZ3Mg
PSBwdmhfc3RhcnRfaW5mby5mbGFnczsKIApkaWZmIC0tZ2l0IGEvYXJjaC94ODYveGVuL3hlbmhv
c3QuYyBiL2FyY2gveDg2L3hlbi94ZW5ob3N0LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMDAwMDAwLi5jYTkwYWNkNzY4N2UKLS0tIC9kZXYvbnVsbAorKysgYi9hcmNoL3g4Ni94
ZW4veGVuaG9zdC5jCkBAIC0wLDAgKzEsNzUgQEAKKyNpbmNsdWRlIDxsaW51eC90eXBlcy5oPgor
I2luY2x1ZGUgPGxpbnV4L2J1Zy5oPgorI2luY2x1ZGUgPHhlbi94ZW4uaD4KKyNpbmNsdWRlIDx4
ZW4veGVuaG9zdC5oPgorCit4ZW5ob3N0X3QgeGVuaG9zdHNbMl07CisvKgorICogeGhfZGVmYXVs
dDogaW50ZXJmYWNlIHRvIHRoZSByZWd1bGFyIGh5cGVydmlzb3IuIHhlbmhvc3RfdHlwZSBpcyB4
ZW5ob3N0X3IwCisgKiBvciB4ZW5ob3N0X3IxLgorICoKKyAqIHhoX3JlbW90ZTogaW50ZXJmYWNl
IHRvIHJlbW90ZSBoeXBlcnZpc29yLiBOZWVkZWQgZm9yIFBWIGRyaXZlciBzdXBwb3J0IG9uCisg
KiBMMS1kb20wL2RyaXZlci1kb21haW4gZm9yIG5lc3RlZCBYZW4uIHhlbmhvc3RfdHlwZSBpcyB4
ZW5ob3N0X3IyLgorICovCit4ZW5ob3N0X3QgKnhoX2RlZmF1bHQgPSAoeGVuaG9zdF90ICopICZ4
ZW5ob3N0c1swXTsKK3hlbmhvc3RfdCAqeGhfcmVtb3RlID0gKHhlbmhvc3RfdCAqKSAmeGVuaG9z
dHNbMV07CisKKy8qCisgKiBFeHBvcnRlZCBmb3IgdXNlIG9mIGZvcl9lYWNoX3hlbmhvc3QoKS4K
KyAqLworRVhQT1JUX1NZTUJPTF9HUEwoeGVuaG9zdHMpOworCisvKgorICogU29tZSBwbGFjZXMg
cmVmZXIgZGlyZWN0bHkgdG8gYSBzcGVjaWZpYyB0eXBlIG9mIHhlbmhvc3QuCisgKiBUaGlzIG1p
Z2h0IGJlIGJldHRlciBhcyBhIG1hY3JvIHRob3VnaC4KKyAqLworRVhQT1JUX1NZTUJPTF9HUEwo
eGhfZGVmYXVsdCk7CitFWFBPUlRfU1lNQk9MX0dQTCh4aF9yZW1vdGUpOworCit2b2lkIHhlbmhv
c3RfcmVnaXN0ZXIoZW51bSB4ZW5ob3N0X3R5cGUgdHlwZSwgeGVuaG9zdF9vcHNfdCAqb3BzKQor
eworCXN3aXRjaCAodHlwZSkgeworCQljYXNlIHhlbmhvc3RfcjA6CisJCWNhc2UgeGVuaG9zdF9y
MToKKwkJCUJVR19PTih4aF9kZWZhdWx0LT50eXBlICE9IHhlbmhvc3RfaW52YWxpZCk7CisKKwkJ
CXhoX2RlZmF1bHQtPnR5cGUgPSB0eXBlOworCQkJeGhfZGVmYXVsdC0+b3BzID0gb3BzOworCQkJ
YnJlYWs7CisJCWNhc2UgeGVuaG9zdF9yMjoKKwkJCUJVR19PTih4aF9yZW1vdGUtPnR5cGUgIT0g
eGVuaG9zdF9pbnZhbGlkKTsKKworCQkJLyoKKwkJCSAqIFdlIHNob3VsZCBoYXZlIGEgZGVmYXVs
dCB4ZW5ob3N0IGJ5IHRoZQorCQkJICogdGltZSB4aF9yZW1vdGUgaXMgcmVnaXN0ZXJlZC4KKwkJ
CSAqLworCQkJQlVHX09OKCF4aF9kZWZhdWx0KTsKKworCQkJeGhfcmVtb3RlLT50eXBlID0gdHlw
ZTsKKwkJCXhoX3JlbW90ZS0+b3BzID0gb3BzOworCQkJYnJlYWs7CisJCWRlZmF1bHQ6CisJCQlC
VUcoKTsKKwl9Cit9CisKKy8qCisgKiBfX3hlbmhvc3RfdW5yZWdpc3RlcjogZXhwZWN0ZWQgdG8g
YmUgY2FsbGVkIG9ubHkgaWYgdGhlcmUncyBhbgorICogZXJyb3IgZWFybHkgaW4gdGhlIGluaXQu
CisgKi8KK3ZvaWQgX194ZW5ob3N0X3VucmVnaXN0ZXIoZW51bSB4ZW5ob3N0X3R5cGUgdHlwZSkK
K3sKKwlzd2l0Y2ggKHR5cGUpIHsKKwkJY2FzZSB4ZW5ob3N0X3IwOgorCQljYXNlIHhlbmhvc3Rf
cjE6CisJCQl4aF9kZWZhdWx0LT50eXBlID0geGVuaG9zdF9pbnZhbGlkOworCQkJeGhfZGVmYXVs
dC0+b3BzID0gTlVMTDsKKwkJCWJyZWFrOworCQljYXNlIHhlbmhvc3RfcjI6CisJCQl4aF9yZW1v
dGUtPnR5cGUgPSB4ZW5ob3N0X2ludmFsaWQ7CisJCQl4aF9yZW1vdGUtPm9wcyA9IE5VTEw7CisJ
CQlicmVhazsKKwkJZGVmYXVsdDoKKwkJCUJVRygpOworCX0KK30KZGlmZiAtLWdpdCBhL2luY2x1
ZGUveGVuL3hlbi5oIGIvaW5jbHVkZS94ZW4veGVuLmgKaW5kZXggMGUyMTU2Nzg2YWQyLi41NDBk
Yjg0NTk1MzYgMTAwNjQ0Ci0tLSBhL2luY2x1ZGUveGVuL3hlbi5oCisrKyBiL2luY2x1ZGUveGVu
L3hlbi5oCkBAIC00Miw2ICs0Miw5IEBAIGV4dGVybiBzdHJ1Y3QgaHZtX3N0YXJ0X2luZm8gcHZo
X3N0YXJ0X2luZm87CiAjZGVmaW5lIHhlbl9pbml0aWFsX2RvbWFpbigpCSgwKQogI2VuZGlmCS8q
IENPTkZJR19YRU5fRE9NMCAqLwogCisjZGVmaW5lIHhlbl9kcml2ZXJfZG9tYWluKCkJeGVuX2lu
aXRpYWxfZG9tYWluKCkKKyNkZWZpbmUgeGVuX25lc3RlZCgpCTAKKwogc3RydWN0IGJpb192ZWM7
CiBib29sIHhlbl9iaW92ZWNfcGh5c19tZXJnZWFibGUoY29uc3Qgc3RydWN0IGJpb192ZWMgKnZl
YzEsCiAJCWNvbnN0IHN0cnVjdCBiaW9fdmVjICp2ZWMyKTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUv
eGVuL3hlbmhvc3QuaCBiL2luY2x1ZGUveGVuL3hlbmhvc3QuaApuZXcgZmlsZSBtb2RlIDEwMDY0
NAppbmRleCAwMDAwMDAwMDAwMDAuLmE1OGU4ODNmMTQ0ZQotLS0gL2Rldi9udWxsCisrKyBiL2lu
Y2x1ZGUveGVuL3hlbmhvc3QuaApAQCAtMCwwICsxLDk1IEBACisjaWZuZGVmIF9fWEVOSE9TVF9I
CisjZGVmaW5lIF9fWEVOSE9TVF9ICisKKy8qCisgKiBYZW5ob3N0IGFic3RyYWN0cyBvdXQgdGhl
IFhlbiBpbnRlcmZhY2UuIEl0IGNvLWV4aXN0cyB3aXRoIHRoZSBQVi9IVk0vUFZICisgKiBhYnN0
cmFjdGlvbnMgKHg4Nl9pbml0LCBoeXBlcnZpc29yX3g4NiwgcHZfb3BzIGV0YykgYW5kIGlzIG1l
YW50IHRvCisgKiBleHBvc2Ugb3BzIGZvciBjb21tdW5pY2F0aW9uIGJldHdlZW4gdGhlIGd1ZXN0
IGFuZCBYZW4gKGh5cGVyY2FsbCwgY3B1aWQsCisgKiBzaGFyZWRfaW5mby92Y3B1X2luZm8sIGV2
dGNobiwgZ3JhbnQtdGFibGUgYW5kIG9uIHRvcCBvZiB0aG9zZSwgeGVuYnVzLCBiYWxsb29uaW5n
KSwKKyAqIHNvIHRoZXNlIGNvdWxkIGRpZmZlciBiYXNlZCBvbiB0aGUga2luZCBvZiB1bmRlcmx5
aW5nIFhlbjogcmVndWxhciwgbG9jYWwsCisgKiBhbmQgbmVzdGVkLgorICoKKyAqIEFueSBjYWxs
LXNpdGVzIHdoaWNoIGluaXRpYXRlIGNvbW11bmljYXRpb24gd2l0aCB0aGUgaHlwZXJ2aXNvciB0
YWtlCisgKiB4ZW5ob3N0X3QgKiBhcyBhIHBhcmFtZXRlciBhbmQgdXNlIHRoZSBhcHByb3ByaWF0
ZSB4ZW5ob3N0IGludGVyZmFjZS4KKyAqCisgKiBOb3RlLCB0aGF0IHRoZSBpbml0IGZvciB0aGUg
bmVzdGVkIHhlbmhvc3QgKGluIHRoZSBuZXN0ZWQgZG9tMCBjYXNlLAorICogdGhlcmUgYXJlIHR3
bykgaGFwcGVucyBmb3IgZWFjaCBvcGVyYXRpb24gYWxvbmdzaWRlIHRoZSBkZWZhdWx0IHhlbmhv
c3QKKyAqICh3aGljaCByZW1haW5zIHNpbWlsYXIgdG8gdGhlIG9uZSBub3cpIGFuZCBpcyBub3Qg
ZGVmZXJyZWQgZm9yIGxhdGVyLgorICogVGhpcyBhbGxvd3MgdXMgdG8gcGlnZ3ktYmFjayBvbiB0
aGUgbm9uLXRyaXZpYWwgc2VxdWVuY2luZywgaW50ZXItbG9ja2luZworICogbG9naWMgaW4gdGhl
IGluaXQgb2YgdGhlIGRlZmF1bHQgeGVuaG9zdC4KKyAqLworCisvKgorICogeGVuaG9zdF90eXBl
OiBzcGVjaWZpZXMgdGhlIGNvbnRyb2xsaW5nIFhlbiBpbnRlcmZhY2UuIFRoZSBub3RhdGlvbiwK
KyAqIHhlbmhvc3RfcjAsIHhlbmhvc3RfcjEsIHhlbmhvc3RfcjIgaXMgbWVhbnQgdG8gaW52b2tl
IGh5cGVydmlzb3IgZGlzdGFuY2UKKyAqIGZyb20gdGhlIGd1ZXN0LgorICoKKyAqIE5vdGUgdGhh
dCB0aGUgZGlzdGFuY2UgaXMgcmVsYXRpdmUsIGFuZCBzbyBkb2VzIG5vdCBpZGVudGlmeSBhIHNw
ZWNpZmljCisgKiBoeXBlcnZpc29yLCBqdXN0IHRoZSByb2xlIHBsYXllZCBieSB0aGUgaW50ZXJm
YWNlOiBzbywgaW5zdGFuY2UgZm9yIEwwLWd1ZXN0CisgKiB4ZW5ob3N0X3IxIHdvdWxkIGJlIEww
LVhlbiBhbmQgZm9yIGFuIEwxLWd1ZXN0LCBMMS1YZW4uCisgKi8KK2VudW0geGVuaG9zdF90eXBl
IHsKKwl4ZW5ob3N0X2ludmFsaWQgPSAwLAorCS8qCisJICogeGVuaG9zdF9yMTogdGhlIGd1ZXN0
J3MgZnJvbnRlbmQgb3IgYmFja2VuZCBkcml2ZXJzIHRhbGtpbmcKKwkgKiB0byBhIGh5cGVydmlz
b3Igb25lIGxldmVsIHJlbW92ZWQuCisJICogVGhpcyBpcyB0aGUgb3JkaW5hcnksIG5vbi1uZXN0
ZWQgY29uZmlndXJhdGlvbiBhcyB3ZWxsIGFzIGZvciB0aGUKKwkgKiB0eXBpY2FsIG5lc3RlZCBm
cm9udGVuZHMgYW5kIGJhY2tlbmRzLgorCSAqCisJICogVGhlIGNvcnJlc3BvbmRpbmcgeGVuaG9z
dF90IHdvdWxkIGNvbnRpbnVlIHRvIHVzZSB0aGUgY3VycmVudAorCSAqIGludGVyZmFjZXMsIHZp
YSBhIHJlZGlyZWN0aW9uIGxheWVyLgorCSAqLworCXhlbmhvc3RfcjEsCisKKwkvKgorCSAqIHhl
bmhvc3RfcjI6IGZyb250ZW5kIGRyaXZlcnMgY29tbXVuaWNhdGluZyB3aXRoIGEgaHlwZXJ2aXNv
ciB0d28KKwkgKiBsZXZlbHMgcmVtb3ZlZDogc28gTDEtZG9tMC1mcm9udGVuZHMgY29tbXVuaWNh
dGluZyB3aXRoIEwwLVhlbi4KKwkgKgorCSAqIFRoaXMgaXMgdGhlIG5lc3RlZC1YZW4gY29uZmln
dXJhdGlvbjogTDEtZG9tMC1mcm9udGVuZCBkcml2ZXJzIGNhbgorCSAqIG5vdyB0YWxrIHRvIEww
LWRvbTAtYmFja2VuZCBkcml2ZXJzIHZpYSBhIHNlcGFyYXRlIHhlbmhvc3RfdC4KKwkgKi8KKwl4
ZW5ob3N0X3IyLAorCisJLyoKKwkgKiBMb2NhbC9Dby1sb2NhdGVkIGNhc2U6IGJhY2tlbmQgZHJp
dmVycyBub3cgcnVuIGluIHRoZSBzYW1lIGFkZHJlc3MKKwkgKiBzcGFjZSBhcyB0aGUgaHlwZXJ2
aXNvci4gVGhlIGRyaXZlciBtb2RlbCByZW1haW5zIHNhbWUgYXMKKwkgKiB4ZW5ob3N0X3IxLCBi
dXQgd2l0aCBzbGlnaHRseSBkaWZmZXJlbnQgaW50ZXJmYWNlcy4KKwkgKgorCSAqIEFueSBmcm9u
dGVuZCBndWVzdHMgb2YgdGhpcyBoeXBlcnZpc29yIHdpbGwgY29udGludWUgdG8gYmUKKwkgKiB4
ZW5ob3N0X3IxLgorCSAqLworCXhlbmhvc3RfcjAsCit9OworCitzdHJ1Y3QgeGVuaG9zdF9vcHM7
CisKK3R5cGVkZWYgc3RydWN0IHsKKwllbnVtIHhlbmhvc3RfdHlwZSB0eXBlOworCisJc3RydWN0
IHhlbmhvc3Rfb3BzICpvcHM7Cit9IHhlbmhvc3RfdDsKKwordHlwZWRlZiBzdHJ1Y3QgeGVuaG9z
dF9vcHMgeworfSB4ZW5ob3N0X29wc190OworCitleHRlcm4geGVuaG9zdF90ICp4aF9kZWZhdWx0
LCAqeGhfcmVtb3RlOworZXh0ZXJuIHhlbmhvc3RfdCB4ZW5ob3N0c1syXTsKKworLyoKKyAqIHhl
bmhvc3RfcmVnaXN0ZXIoKTogaXMgY2FsbGVkIGVhcmx5IGluIHRoZSBndWVzdCdzIHhlbi1pbml0
LCBhZnRlciBpdCBkZXRlY3RzCisgKiBpbiBzb21lIGltcGxlbWVudGF0aW9uIGRlZmluZWQgbWFu
bmVyIHdoYXQga2luZCBvZiB1bmRlcmx5aW5nIHhlbmhvc3Qgb3IKKyAqIHhlbmhvc3RzIGV4aXN0
LgorICogU3BlY2lmaWVzIHRoZSB0eXBlIG9mIHhlbmhvc3QgYmVpbmcgcmVnaXN0ZXJlZCBhbmQg
dGhlIG9wcyBmb3IgdGhhdC4KKyAqLwordm9pZCB4ZW5ob3N0X3JlZ2lzdGVyKGVudW0geGVuaG9z
dF90eXBlIHR5cGUsIHhlbmhvc3Rfb3BzX3QgKm9wcyk7Cit2b2lkIF9feGVuaG9zdF91bnJlZ2lz
dGVyKGVudW0geGVuaG9zdF90eXBlIHR5cGUpOworCisKKy8qCisgKiBDb252b2x1dGVkIGludGVy
ZmFjZSBzbyB3ZSBjYW4gZG8gdGhpcyB3aXRob3V0IGFkZGluZyBhIGxvb3AgY291bnRlci4KKyAq
LworI2RlZmluZSBmb3JfZWFjaF94ZW5ob3N0KHhoKSBcCisJZm9yICgoeGgpID0gKHhlbmhvc3Rf
dCAqKikgJnhlbmhvc3RzWzBdOwlcCisJCSgoKHhoKSAtICh4ZW5ob3N0X3QgKiopJnhlbmhvc3Rz
KSA8IDIpICYmICgqeGgpLT50eXBlICE9IHhlbmhvc3RfaW52YWxpZDsgKHhoKSsrKQorCisjZW5k
aWYgLyogX19YRU5IT1NUX0ggKi8KLS0gCjIuMjAuMQoKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVs
QGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1h
bi9saXN0aW5mby94ZW4tZGV2ZWw=

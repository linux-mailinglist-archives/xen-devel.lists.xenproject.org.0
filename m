Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 56B2E95241
	for <lists+xen-devel@lfdr.de>; Tue, 20 Aug 2019 02:14:02 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hzrjt-0001Wm-OQ; Tue, 20 Aug 2019 00:11:05 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=oenM=WQ=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hzrjs-0001Wh-3S
 for xen-devel@lists.xen.org; Tue, 20 Aug 2019 00:11:04 +0000
X-Inumbo-ID: ff19334a-c2de-11e9-813a-bc764e2007e4
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id ff19334a-c2de-11e9-813a-bc764e2007e4;
 Tue, 20 Aug 2019 00:11:03 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 232BC2087E;
 Tue, 20 Aug 2019 00:11:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1566259862;
 bh=9lP5KgESgZtV1FbYY5heZiv7OuT7KR4OEb4tkWGpDmQ=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=hOakmLg61kDnKRVD3pTUlgSa/33BtRC4N+ecOX1fb52y5Ceqv7h/vn8g+SR7pvBkJ
 ryKrIqrNnFBpC+kZnsy0VAqWJ9dmsvcQ0naSEb+dGBT2q1RW/JtK/ZVlLlFeU6+hOA
 jl7HE9OF3EWrPJ6HOJYHa6+0oejJ6RLvrF6EbuVM=
Date: Mon, 19 Aug 2019 17:11:01 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <7caa16d8-f8d6-eb7c-cc6a-2cdd0655a544@arm.com>
Message-ID: <alpine.DEB.2.21.1908191654110.20094@sstabellini-ThinkPad-T480s>
References: <alpine.DEB.2.21.1908081609510.22196@sstabellini-ThinkPad-T480s>
 <20190808231242.26424-1-sstabellini@kernel.org>
 <7caa16d8-f8d6-eb7c-cc6a-2cdd0655a544@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH v3 1/6] xen/arm: introduce handle_interrupts
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Volodymyr_Babchuk@epam.com, Achin.Gupta@arm.com,
 Stefano Stabellini <sstabellini@kernel.org>, andrii_anisov@epam.com,
 xen-devel@lists.xen.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gRnJpLCA5IEF1ZyAyMDE5LCBKdWxpZW4gR3JhbGwgd3JvdGU6Cj4gSGkgU3RlZmFubywKPiAK
PiBPbiAwOS8wOC8yMDE5IDAwOjEyLCBTdGVmYW5vIFN0YWJlbGxpbmkgd3JvdGU6Cj4gPiBNb3Zl
IHRoZSBpbnRlcnJ1cHQgaGFuZGxpbmcgY29kZSBvdXQgb2YgaGFuZGxlX2RldmljZSB0byBhIG5l
dyBmdW5jdGlvbgo+ID4gc28gdGhhdCBpdCBjYW4gYmUgcmV1c2VkIGZvciBkb20wbGVzcyBWTXMg
bGF0ZXIuCj4gPiAKPiA+IFNpZ25lZC1vZmYtYnk6IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3RlZmFu
b3NAeGlsaW54LmNvbT4KPiA+IC0tLQo+ID4gQ2hhbmdlcyBpbiB2MzoKPiA+IC0gYWRkIHBhdGNo
Cj4gPiAKPiA+IFRoZSBkaWZmIGlzIGhhcmQgdG8gcmVhZCBidXQgSSBqdXN0IG1vdmVkIHRoZSBp
bnRlcnJ1cHRzIHJlbGF0ZWQgY29kZQo+ID4gZnJvbSBoYW5kbGVfZGV2aWNlcyB0byBhIG5ldyBm
dW5jdGlvbiBoYW5kbGVfaW50ZXJydXB0cywgYW5kIHZlcnkgbGl0dGxlCj4gPiBlbHNlLgo+ID4g
LS0tCj4gPiAgIHhlbi9hcmNoL2FybS9kb21haW5fYnVpbGQuYyB8IDc5ICsrKysrKysrKysrKysr
KysrKysrKysrLS0tLS0tLS0tLS0tLS0KPiA+ICAgMSBmaWxlIGNoYW5nZWQsIDQ5IGluc2VydGlv
bnMoKyksIDMwIGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJt
L2RvbWFpbl9idWlsZC5jIGIveGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jCj4gPiBpbmRleCA0
Yzg0MDQxNTVhLi4wMGRkYjNiMDVkIDEwMDY0NAo+ID4gLS0tIGEveGVuL2FyY2gvYXJtL2RvbWFp
bl9idWlsZC5jCj4gPiArKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKPiA+IEBAIC0x
MjIwLDQxICsxMjIwLDE5IEBAIHN0YXRpYyBpbnQgX19pbml0IG1hcF9kZXZpY2VfY2hpbGRyZW4o
c3RydWN0IGRvbWFpbgo+ID4gKmQsCj4gPiAgIH0KPiA+ICAgICAvKgo+ID4gLSAqIEZvciBhIGdp
dmVuIGRldmljZSBub2RlOgo+ID4gLSAqICAtIEdpdmUgcGVybWlzc2lvbiB0byB0aGUgZ3Vlc3Qg
dG8gbWFuYWdlIElSUSBhbmQgTU1JTyByYW5nZQo+ID4gLSAqICAtIFJldHJpZXZlIHRoZSBJUlEg
Y29uZmlndXJhdGlvbiAoaS5lIGVkZ2UvbGV2ZWwpIGZyb20gZGV2aWNlIHRyZWUKPiA+IC0gKiBX
aGVuIHRoZSBkZXZpY2UgaXMgbm90IG1hcmtlZCBmb3IgZ3Vlc3QgcGFzc3Rocm91Z2g6Cj4gPiAt
ICogIC0gQXNzaWduIHRoZSBkZXZpY2UgdG8gdGhlIGd1ZXN0IGlmIGl0J3MgcHJvdGVjdGVkIGJ5
IGFuIElPTU1VCj4gPiAtICogIC0gTWFwIHRoZSBJUlFzIGFuZCBpb21lbSByZWdpb25zIHRvIERP
TTAKPiA+ICsgKiBSZXR1cm46Cj4gPiArICogICA8IDAgb24gZXJyb3IKPiA+ICsgKiAgIDAgICBv
biBubyBtYXBwaW5nIHJlcXVpcmVkCj4gPiArICogICAxICAgSVJRIG1hcHBpbmcgZG9uZQo+IAo+
IFRoaXMgZmVlbHMgYSBiaXQgb2RkIHRvIGRlc2NyaWJlIHRoZSByZXR1cm4gdmFsdWUgYW5kIG5v
dCB3aGF0IHRoZSBmdW5jdGlvbgo+IGRvZXMuCgpGYWlyIGVub3VnaCwgSSdsbCBhZGQgYSBmZXcg
d29yZHMuCgoKPiBCdXQgSSBkb24ndCB1bmRlcnN0YW5kIHdoeSB5b3UgbmVlZCB0byB0ZWxsIHRo
ZSBjYWxsZXIgd2hldGhlciBtYXBwaW5nIHdlcmUKPiBkb25lIG9yIG5vdC4gVGhpcyBpcyBhbHJl
YWR5IGNvbnZleWVkIGJ5ICJuZWVkX21hcHBpbmciIHByb3ZpZGVkIGJ5IHRoZQo+IGNhbGxlci4K
PiAKPiBMb29raW5nIGF0IHRoZSBvbmx5IHBsYWNlIHdoZXJlIHlvdSBtYWtlIHRoZSBkaXN0aW5j
dGlvbiBiZXR3ZWVuIDAgYW5kIDEKPiAocGF0Y2ggIzMpLCB5b3UgaGF2ZQo+IAo+ICsgICAgICAg
ICAgICByID0gaGFuZGxlX2ludGVycnVwdHMoZCwgbm9kZSwgdHJ1ZSk7Cj4gKyAgICAgICAgICAg
IGlmICggciA8IDAgKQo+ICsgICAgICAgICAgICAgICAgcmV0dXJuIHI7Cj4gKyAgICAgICAgICAg
IGlmICggciA+IDAgKQo+ICsgICAgICAgICAgICB7Cj4gICAgICAgICAgICAgICAgLyogZG8gc29t
ZXRoaW5nICovCj4gKyAgICAgICAgICAgIH0KPiAKPiAKPiBOb3QgbG9va2luZyBhdCB0aGUgY29k
ZSBiZWxvdyAod2hpY2ggbG9va3Mgd3JvbmcpLCBhcyB5b3UgYWx3YXlzIHBhc3MgdHJ1ZQo+IGhl
cmUsIHIgY2FuIGVpdGhlciBiZSBhbiBlcnJvciBvciAxLgoKWWVzLCB0aGUgcmV0dXJuIHN0YXRl
bWVudCBvZiBoYW5kbGVfaW50ZXJydXB0cywgdGhlIHdheSBJIHdyb3RlIGl0OgoKICByZXR1cm4g
ISEobmVlZF9tYXBwaW5nICYmIHJlcyA9PSAwKTsKCmlzIHdyb25nLiBJJ2xsIGZpeCBpdCAoYWxz
byBzZWUgYmVsb3cpLgoKU3RlcHBpbmcgYmFjayBmcm9tIHRoaXMgc3BlY2lmaWMgZXJyb3IsIHRo
ZSByZWFzb24gdG8gZGlzdGluZ3Vpc2gKd2hldGhlciBhIG1hcHBpbmcgd2FzIGRvbmUgb3Igbm90
IGlzIHRvIGZpZ3VyZSBvdXQgd2hldGhlciB3ZSBuZWVkIHRvCmFkZCBhbiBpbnRlcnJ1cHQgcHJv
cGVydHkgdG8gdGhlIGd1ZXN0IGRldmljZSB0cmVlLiBUaGUgaWRlYSBpcyB0aGUKZm9sbG93aW5n
OgoKLSBjYWxsIGhhbmRsZV9pbnRlcnJ1cHRzIHRvIGRvIGFueSByZXF1aXJlZCBpbnRlcnJ1cHQg
bWFwcGluZ3MKLSBpZiBhbnkgbWFwcGluZ3MgYXJlIGRvbmUsIGNvcHkgb3ZlciB0aGUgaW50ZXJy
dXB0cyBwcm9wZXJ0eSB0byB0aGUgZ3Vlc3QKICBkZXZpY2UgdHJlZQoKCj4gPiAgICAqLwo+ID4g
LXN0YXRpYyBpbnQgX19pbml0IGhhbmRsZV9kZXZpY2Uoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0
IGR0X2RldmljZV9ub2RlCj4gPiAqZGV2LAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcDJtX3R5cGVfdCBwMm10KQo+ID4gK3N0YXRpYyBpbnQgX19pbml0IGhhbmRsZV9pbnRl
cnJ1cHRzKHN0cnVjdCBkb21haW4gKmQsCj4gCj4gSG93IGFib3V0IGhhbmRsZV9kZXZpY2VfaW50
ZXJydXB0cz8gT3IgbWFwX2RldmljZV9pbnRlcnJ1cHRzPwoKT0sKCgo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkdF9kZXZpY2Vfbm9kZSAqZGV2LAo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgbmVlZF9tYXBwaW5nKQo+
ID4gICB7Cj4gPiAtICAgIHVuc2lnbmVkIGludCBuaXJxOwo+ID4gLSAgICB1bnNpZ25lZCBpbnQg
bmFkZHI7Cj4gPiAtICAgIHVuc2lnbmVkIGludCBpOwo+ID4gLSAgICBpbnQgcmVzOwo+ID4gKyAg
ICBpbnQgaSwgbmlycSwgcmVzOwo+IAo+IHJlcyB3aWxsIGJlIHVzZWQgdW5pdGlhbGl6ZWQgaWYg
dGhlIGRldmljZSBoYXMgbm8gaW50ZXJydXB0cy4KCldlbGwgc3BvdHRlZCEKCgo+ID4gICAgICAg
c3RydWN0IGR0X3Jhd19pcnEgcmlycTsKPiA+IC0gICAgdTY0IGFkZHIsIHNpemU7Cj4gPiAtICAg
IGJvb2wgbmVlZF9tYXBwaW5nID0gIWR0X2RldmljZV9mb3JfcGFzc3Rocm91Z2goZGV2KTsKPiA+
ICAgICAgICAgbmlycSA9IGR0X251bWJlcl9vZl9pcnEoZGV2KTsKPiA+IC0gICAgbmFkZHIgPSBk
dF9udW1iZXJfb2ZfYWRkcmVzcyhkZXYpOwo+ID4gLQo+ID4gLSAgICBkdF9kcHJpbnRrKCIlcyBw
YXNzdGhyb3VnaCA9ICVkIG5pcnEgPSAlZCBuYWRkciA9ICV1XG4iLAo+ID4gLSAgICAgICAgICAg
ICAgIGR0X25vZGVfZnVsbF9uYW1lKGRldiksIG5lZWRfbWFwcGluZywgbmlycSwgbmFkZHIpOwo+
ID4gLQo+ID4gLSAgICBpZiAoIGR0X2RldmljZV9pc19wcm90ZWN0ZWQoZGV2KSAmJiBuZWVkX21h
cHBpbmcgKQo+ID4gLSAgICB7Cj4gPiAtICAgICAgICBkdF9kcHJpbnRrKCIlcyBzZXR1cCBpb21t
dVxuIiwgZHRfbm9kZV9mdWxsX25hbWUoZGV2KSk7Cj4gPiAtICAgICAgICByZXMgPSBpb21tdV9h
c3NpZ25fZHRfZGV2aWNlKGQsIGRldik7Cj4gPiAtICAgICAgICBpZiAoIHJlcyApCj4gPiAtICAg
ICAgICB7Cj4gPiAtICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgIkZhaWxlZCB0byBzZXR1
cCB0aGUgSU9NTVUgZm9yICVzXG4iLAo+ID4gLSAgICAgICAgICAgICAgICAgICBkdF9ub2RlX2Z1
bGxfbmFtZShkZXYpKTsKPiA+IC0gICAgICAgICAgICByZXR1cm4gcmVzOwo+ID4gLSAgICAgICAg
fQo+ID4gLSAgICB9Cj4gPiAgICAgICAgIC8qIEdpdmUgcGVybWlzc2lvbiBhbmQgbWFwIElSUXMg
Ki8KPiA+ICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbmlycTsgaSsrICkKPiA+IEBAIC0xMjkxLDYg
KzEyNjksNDcgQEAgc3RhdGljIGludCBfX2luaXQgaGFuZGxlX2RldmljZShzdHJ1Y3QgZG9tYWlu
ICpkLAo+ID4gc3RydWN0IGR0X2RldmljZV9ub2RlICpkZXYsCj4gPiAgICAgICAgICAgICAgIHJl
dHVybiByZXM7Cj4gPiAgICAgICB9Cj4gPiAgICsgICAgcmV0dXJuICEhKG5lZWRfbWFwcGluZyAm
JiByZXMgPT0gMCk7Cj4gCj4gV2h5IGRvIHlvdSBuZWVkIHRoZSAhISBoZXJlPyAoYSAmJiBiKSBp
cyBhbHJlYWR5IGEgYm9vbGVhbi4KClllcywgSSdsbCByZW1vdmUgaXQKCgo+IEJ1dCB0aGlzIGxv
b2tzCj4gcHJldHR5IHdyb25nIGFzIHlvdSB3b3VsZCByZXR1cm4gMCB3aGVuIHJlcyBpcyBub24t
emVybyAoaS5lIGFuIGVycm9yKSBhbmQKPiBuZWVkX21hcHBpbmcgaXMgdHJ1ZS4KPgo+IEJ1dCBs
b29raW5nIGF0IHRoZSBjb2RlLCByZXMgY2Fubm90IGJlIDAgaGVyZS4uLiBTbyB3aHkgYXJlIHlv
dSBjaGVja2luZyAicmVzIgo+IGhlcmU/CgpUaGF0IGlzIGEgbWlzdGFrZTogaXQgc2hvdWxkIHJl
dHVybiAxIG9ubHkgd2hlbiBtYXBwaW5ncyBhcmUgYWN0dWFsbHkKZG9uZS4KCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxp
c3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVj
dC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

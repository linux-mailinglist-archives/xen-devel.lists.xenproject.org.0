Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 1C2F26AD6A
	for <lists+xen-devel@lfdr.de>; Tue, 16 Jul 2019 19:10:01 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hnQuP-0005og-Ky; Tue, 16 Jul 2019 17:06:33 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=v+lg=VN=bitdefender.com=ppircalabu@srs-us1.protection.inumbo.net>)
 id 1hnQuN-0005nq-HI
 for xen-devel@lists.xenproject.org; Tue, 16 Jul 2019 17:06:31 +0000
X-Inumbo-ID: 0d7bb84c-a7ec-11e9-8980-bc764e045a96
Received: from mx01.bbu.dsd.mx.bitdefender.com (unknown [91.199.104.161])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 0d7bb84c-a7ec-11e9-8980-bc764e045a96;
 Tue, 16 Jul 2019 17:06:30 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp02.buh.bitdefender.net [10.17.80.76])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 27655305FFA6; Tue, 16 Jul 2019 20:06:26 +0300 (EEST)
Received: from bitdefender.com (unknown [195.189.155.70])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id 0E30D304F607;
 Tue, 16 Jul 2019 20:06:26 +0300 (EEST)
From: Petre Pircalabu <ppircalabu@bitdefender.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 16 Jul 2019 20:06:22 +0300
Message-Id: <2f0d996d9fde04c1a12cee7a1cb58486cf7788d6.1563293545.git.ppircalabu@bitdefender.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <cover.1563293545.git.ppircalabu@bitdefender.com>
References: <cover.1563293545.git.ppircalabu@bitdefender.com>
In-Reply-To: <cover.1563293545.git.ppircalabu@bitdefender.com>
References: <cover.1563293545.git.ppircalabu@bitdefender.com>
Subject: [Xen-devel] [PATCH v2 08/10] xen-access: Use getopt_long for
 cmdline parsing
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Pircalabu <ppircalabu@bitdefender.com>,
 Tamas K Lengyel <tamas@tklengyel.com>,
 Razvan Cojocaru <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 Alexandru Isaila <aisaila@bitdefender.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBzaW1wbGlmaWVzIHRoZSBjb21tYW5kIGxpbmUgcGFyc2luZyBsb2dpYyBhbmQgbWFrZXMg
aXQgZWFzaWVyIHRvCmFkZCBuZXcgdGVzdCBwYXJhbWV0ZXJzLgoKU2lnbmVkLW9mZi1ieTogUGV0
cmUgUGlyY2FsYWJ1IDxwcGlyY2FsYWJ1QGJpdGRlZmVuZGVyLmNvbT4KLS0tCiB0b29scy90ZXN0
cy94ZW4tYWNjZXNzL3hlbi1hY2Nlc3MuYyB8IDYwICsrKysrKysrKysrKysrKysrKysrKy0tLS0t
LS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAzNSBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS90b29scy90ZXN0cy94ZW4tYWNjZXNzL3hlbi1hY2Nlc3MuYyBi
L3Rvb2xzL3Rlc3RzL3hlbi1hY2Nlc3MveGVuLWFjY2Vzcy5jCmluZGV4IDZhYWVlMTYuLjhhM2Vl
YTUgMTAwNjQ0Ci0tLSBhL3Rvb2xzL3Rlc3RzL3hlbi1hY2Nlc3MveGVuLWFjY2Vzcy5jCisrKyBi
L3Rvb2xzL3Rlc3RzL3hlbi1hY2Nlc3MveGVuLWFjY2Vzcy5jCkBAIC0zNyw2ICszNyw3IEBACiAj
aW5jbHVkZSA8dW5pc3RkLmg+CiAjaW5jbHVkZSA8c3lzL21tYW4uaD4KICNpbmNsdWRlIDxwb2xs
Lmg+CisjaW5jbHVkZSA8Z2V0b3B0Lmg+CiAKICNpbmNsdWRlIDx4ZW5jdHJsLmg+CiAjaW5jbHVk
ZSA8eGVuZXZ0Y2huLmg+CkBAIC0zOTcsOTMgKzM5OCwxMDIgQEAgaW50IG1haW4oaW50IGFyZ2Ms
IGNoYXIgKmFyZ3ZbXSkKICAgICB1aW50MTZfdCBhbHRwMm1fdmlld19pZCA9IDA7CiAKICAgICBj
aGFyKiBwcm9nbmFtZSA9IGFyZ3ZbMF07Ci0gICAgYXJndisrOwotICAgIGFyZ2MtLTsKKyAgICBj
aGFyKiBjb21tYW5kOworICAgIGludCBjOworICAgIGludCBvcHRpb25faW5kZXg7CisgICAgc3Ry
dWN0IG9wdGlvbiBsb25nX29wdGlvbnNbXSA9CisgICAgeworICAgICAgICB7ICJtZW0tYWNjZXNz
LWxpc3RlbmVyIiwgbm9fYXJndW1lbnQsIDAsICdtJyB9LAorICAgIH07CiAKLSAgICBpZiAoIGFy
Z2MgPT0gMyAmJiBhcmd2WzBdWzBdID09ICctJyApCisgICAgd2hpbGUgKCAxICkKICAgICB7Ci0g
ICAgICAgIGlmICggIXN0cmNtcChhcmd2WzBdLCAiLW0iKSApCi0gICAgICAgICAgICByZXF1aXJl
ZCA9IDE7Ci0gICAgICAgIGVsc2UKKyAgICAgICAgYyA9IGdldG9wdF9sb25nKGFyZ2MsIGFyZ3Ys
ICJtIiwgbG9uZ19vcHRpb25zLCAmb3B0aW9uX2luZGV4KTsKKyAgICAgICAgaWYgKCBjID09IC0x
ICkKKyAgICAgICAgICAgIGJyZWFrOworCisgICAgICAgIHN3aXRjaCAoIGMgKQogICAgICAgICB7
CisgICAgICAgIGNhc2UgJ20nOgorICAgICAgICAgICAgcmVxdWlyZWQgPSAxOworICAgICAgICAg
ICAgYnJlYWs7CisKKyAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgIHVzYWdlKHByb2duYW1l
KTsKICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgfQotICAgICAgICBhcmd2Kys7Ci0g
ICAgICAgIGFyZ2MtLTsKICAgICB9CiAKLSAgICBpZiAoIGFyZ2MgIT0gMiApCisgICAgaWYgKCBh
cmdjIC0gb3B0aW5kICE9IDIgKQogICAgIHsKICAgICAgICAgdXNhZ2UocHJvZ25hbWUpOwogICAg
ICAgICByZXR1cm4gLTE7CiAgICAgfQogCi0gICAgZG9tYWluX2lkID0gYXRvaShhcmd2WzBdKTsK
LSAgICBhcmd2Kys7Ci0gICAgYXJnYy0tOworICAgIGRvbWFpbl9pZCA9IGF0b2koYXJndltvcHRp
bmQrK10pOworICAgIGNvbW1hbmQgPSBhcmd2W29wdGluZF07CiAKLSAgICBpZiAoICFzdHJjbXAo
YXJndlswXSwgIndyaXRlIikgKQorICAgIGlmICggIXN0cmNtcChjb21tYW5kLCAid3JpdGUiKSAp
CiAgICAgewogICAgICAgICBkZWZhdWx0X2FjY2VzcyA9IFhFTk1FTV9hY2Nlc3Nfcng7CiAgICAg
ICAgIGFmdGVyX2ZpcnN0X2FjY2VzcyA9IFhFTk1FTV9hY2Nlc3Nfcnd4OwogICAgICAgICBtZW1h
Y2Nlc3MgPSAxOwogICAgIH0KLSAgICBlbHNlIGlmICggIXN0cmNtcChhcmd2WzBdLCAiZXhlYyIp
ICkKKyAgICBlbHNlIGlmICggIXN0cmNtcChjb21tYW5kLCAiZXhlYyIpICkKICAgICB7CiAgICAg
ICAgIGRlZmF1bHRfYWNjZXNzID0gWEVOTUVNX2FjY2Vzc19ydzsKICAgICAgICAgYWZ0ZXJfZmly
c3RfYWNjZXNzID0gWEVOTUVNX2FjY2Vzc19yd3g7CiAgICAgICAgIG1lbWFjY2VzcyA9IDE7CiAg
ICAgfQogI2lmIGRlZmluZWQoX19pMzg2X18pIHx8IGRlZmluZWQoX194ODZfNjRfXykKLSAgICBl
bHNlIGlmICggIXN0cmNtcChhcmd2WzBdLCAiYnJlYWtwb2ludCIpICkKKyAgICBlbHNlIGlmICgg
IXN0cmNtcChjb21tYW5kLCAiYnJlYWtwb2ludCIpICkKICAgICB7CiAgICAgICAgIGJyZWFrcG9p
bnQgPSAxOwogICAgIH0KLSAgICBlbHNlIGlmICggIXN0cmNtcChhcmd2WzBdLCAiYWx0cDJtX3dy
aXRlIikgKQorICAgIGVsc2UgaWYgKCAhc3RyY21wKGNvbW1hbmQsICJhbHRwMm1fd3JpdGUiKSAp
CiAgICAgewogICAgICAgICBkZWZhdWx0X2FjY2VzcyA9IFhFTk1FTV9hY2Nlc3Nfcng7CiAgICAg
ICAgIGFsdHAybSA9IDE7CiAgICAgICAgIG1lbWFjY2VzcyA9IDE7CiAgICAgfQotICAgIGVsc2Ug
aWYgKCAhc3RyY21wKGFyZ3ZbMF0sICJhbHRwMm1fZXhlYyIpICkKKyAgICBlbHNlIGlmICggIXN0
cmNtcChjb21tYW5kLCAiYWx0cDJtX2V4ZWMiKSApCiAgICAgewogICAgICAgICBkZWZhdWx0X2Fj
Y2VzcyA9IFhFTk1FTV9hY2Nlc3Nfcnc7CiAgICAgICAgIGFsdHAybSA9IDE7CiAgICAgICAgIG1l
bWFjY2VzcyA9IDE7CiAgICAgfQotICAgIGVsc2UgaWYgKCAhc3RyY21wKGFyZ3ZbMF0sICJhbHRw
Mm1fd3JpdGVfbm9fZ3B0IikgKQorICAgIGVsc2UgaWYgKCAhc3RyY21wKGNvbW1hbmQsICJhbHRw
Mm1fd3JpdGVfbm9fZ3B0IikgKQogICAgIHsKICAgICAgICAgZGVmYXVsdF9hY2Nlc3MgPSBYRU5N
RU1fYWNjZXNzX3J3OwogICAgICAgICBhbHRwMm1fd3JpdGVfbm9fZ3B0ID0gMTsKICAgICAgICAg
bWVtYWNjZXNzID0gMTsKICAgICAgICAgYWx0cDJtID0gMTsKICAgICB9Ci0gICAgZWxzZSBpZiAo
ICFzdHJjbXAoYXJndlswXSwgImRlYnVnIikgKQorICAgIGVsc2UgaWYgKCAhc3RyY21wKGNvbW1h
bmQsICJkZWJ1ZyIpICkKICAgICB7CiAgICAgICAgIGRlYnVnID0gMTsKICAgICB9Ci0gICAgZWxz
ZSBpZiAoICFzdHJjbXAoYXJndlswXSwgImNwdWlkIikgKQorICAgIGVsc2UgaWYgKCAhc3RyY21w
KGNvbW1hbmQsICJjcHVpZCIpICkKICAgICB7CiAgICAgICAgIGNwdWlkID0gMTsKICAgICB9Ci0g
ICAgZWxzZSBpZiAoICFzdHJjbXAoYXJndlswXSwgImRlc2NfYWNjZXNzIikgKQorICAgIGVsc2Ug
aWYgKCAhc3RyY21wKGNvbW1hbmQsICJkZXNjX2FjY2VzcyIpICkKICAgICB7CiAgICAgICAgIGRl
c2NfYWNjZXNzID0gMTsKICAgICB9Ci0gICAgZWxzZSBpZiAoICFzdHJjbXAoYXJndlswXSwgIndy
aXRlX2N0cmxyZWdfY3I0IikgKQorICAgIGVsc2UgaWYgKCAhc3RyY21wKGNvbW1hbmQsICJ3cml0
ZV9jdHJscmVnX2NyNCIpICkKICAgICB7CiAgICAgICAgIHdyaXRlX2N0cmxyZWdfY3I0ID0gMTsK
ICAgICB9CiAjZWxpZiBkZWZpbmVkKF9fYXJtX18pIHx8IGRlZmluZWQoX19hYXJjaDY0X18pCi0g
ICAgZWxzZSBpZiAoICFzdHJjbXAoYXJndlswXSwgInByaXZjYWxsIikgKQorICAgIGVsc2UgaWYg
KCAhc3RyY21wKGNvbW1hbmQsICJwcml2Y2FsbCIpICkKICAgICB7CiAgICAgICAgIHByaXZjYWxs
ID0gMTsKICAgICB9CiAjZW5kaWYKICAgICBlbHNlCiAgICAgewotICAgICAgICB1c2FnZShhcmd2
WzBdKTsKKyAgICAgICAgdXNhZ2UoY29tbWFuZCk7CiAgICAgICAgIHJldHVybiAtMTsKICAgICB9
CiAKQEAgLTQ5NCw3ICs1MDQsNyBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAqYXJndltdKQog
ICAgICAgICByZXR1cm4gMTsKICAgICB9CiAKLSAgICBEUFJJTlRGKCJzdGFydGluZyAlcyAldVxu
IiwgYXJndlswXSwgZG9tYWluX2lkKTsKKyAgICBEUFJJTlRGKCJzdGFydGluZyAlcyAldVxuIiwg
Y29tbWFuZCwgZG9tYWluX2lkKTsKIAogICAgIC8qIGVuc3VyZSB0aGF0IGlmIHdlIGdldCBhIHNp
Z25hbCwgd2UnbGwgZG8gY2xlYW51cCwgdGhlbiBleGl0ICovCiAgICAgYWN0LnNhX2hhbmRsZXIg
PSBjbG9zZV9oYW5kbGVyOwotLSAKMi43LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0
cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlz
dGluZm8veGVuLWRldmVs

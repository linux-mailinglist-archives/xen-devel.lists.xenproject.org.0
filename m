Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0E3C7123C78
	for <lists+xen-devel@lfdr.de>; Wed, 18 Dec 2019 02:36:20 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ihOE7-00064k-Rz; Wed, 18 Dec 2019 01:34:11 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=8lPW=2I=amazon.com=prvs=2481dc0fd=elnikety@srs-us1.protection.inumbo.net>)
 id 1ihOE6-00064J-7a
 for xen-devel@lists.xenproject.org; Wed, 18 Dec 2019 01:34:10 +0000
X-Inumbo-ID: 77c56010-2136-11ea-b6f1-bc764e2007e4
Received: from smtp-fw-33001.amazon.com (unknown [207.171.190.10])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 77c56010-2136-11ea-b6f1-bc764e2007e4;
 Wed, 18 Dec 2019 01:34:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.com; i=@amazon.com; q=dns/txt; s=amazon201209;
 t=1576632841; x=1608168841;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version;
 bh=1AmW2XWh5Y39TfCFI8NO4QAoU0i8Kf6nryaWJ4r9h2s=;
 b=RFT8TwjBgd0XMOOigY/17PEycXqLaDPMW9ZLa1XlDlIOBCkl4PBG+qv8
 KYIEY737j9bJdR0X2fYSa7oF161Ceu8fW4gp+FjRBagLsSmWaPwWhAraO
 7tgfg6pN4c1FHW+cYVISW+ifhafWshpX0FR2miD/SXlYaIdC/rRIBYOX3 I=;
IronPort-SDR: rw+vCH7QJc98JdND6l5XgBJQvc1WZNSTASM00hqT9GjS0QeqfHzpoeoPRSxomYjlENdilYeFUX
 p5XGZ8pbQtRg==
X-IronPort-AV: E=Sophos;i="5.69,327,1571702400"; d="scan'208";a="15519633"
Received: from sea32-co-svc-lb4-vlan3.sea.corp.amazon.com (HELO
 email-inbound-relay-2b-8cc5d68b.us-west-2.amazon.com) ([10.47.23.38])
 by smtp-border-fw-out-33001.sea14.amazon.com with ESMTP;
 18 Dec 2019 01:33:41 +0000
Received: from EX13MTAUEB002.ant.amazon.com
 (pdx4-ws-svc-p6-lb7-vlan3.pdx.amazon.com [10.170.41.166])
 by email-inbound-relay-2b-8cc5d68b.us-west-2.amazon.com (Postfix) with ESMTPS
 id 98870A1BE5; Wed, 18 Dec 2019 01:33:40 +0000 (UTC)
Received: from EX13D08UEB003.ant.amazon.com (10.43.60.11) by
 EX13MTAUEB002.ant.amazon.com (10.43.60.12) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Wed, 18 Dec 2019 01:33:39 +0000
Received: from EX13MTAUEB002.ant.amazon.com (10.43.60.12) by
 EX13D08UEB003.ant.amazon.com (10.43.60.11) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Wed, 18 Dec 2019 01:33:39 +0000
Received: from dev-dsk-elnikety-1b-cd63f796.eu-west-1.amazon.com (10.15.63.96)
 by mail-relay.amazon.com (10.43.60.234) with Microsoft SMTP Server id
 15.0.1367.3 via Frontend Transport; Wed, 18 Dec 2019 01:33:39 +0000
Received: by dev-dsk-elnikety-1b-cd63f796.eu-west-1.amazon.com (Postfix,
 from userid 6438462)
 id 67621A0141; Wed, 18 Dec 2019 01:33:39 +0000 (UTC)
From: Eslam Elnikety <elnikety@amazon.com>
To: <xen-devel@lists.xenproject.org>
Date: Wed, 18 Dec 2019 01:32:59 +0000
Message-ID: <cf29db3bde903a5788322381ef6eac1a6ed9b2b9.1576630344.git.elnikety@amazon.com>
X-Mailer: git-send-email 2.16.5
In-Reply-To: <cover.1576630344.git.elnikety@amazon.com>
References: <cover.1576630344.git.elnikety@amazon.com>
MIME-Version: 1.0
Precedence: Bulk
Subject: [Xen-devel] [PATCH v2 4/4] x86/microcode: Support builtin CPU
 microcode
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Eslam Elnikety <elnikety@amazon.com>,
 Paul Durrant <pdurrant@amazon.co.uk>, Jan Beulich <jbeulich@suse.com>,
 David Woodhouse <dwmw@amazon.co.uk>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

WGVuIHJlbGllcyBvbiBib290IG1vZHVsZXMgdG8gcGVyZm9ybSBlYXJseSBtaWNyb2NvZGUgdXBk
YXRlcy4gVGhpcyBjb21taXQgYWRkcwphbm90aGVyIG1vZGUsIG5hbWVseSAiYnVpbHRpbiIgdmlh
IHRoZSBCVUlMVElOX1VDT0RFIGNvbmZpZyBwYXJhbWV0ZXIuIElmIHNldCwKdGhlIFhlbiBpbWFn
ZSBpdHNlbGYgd2lsbCBjb250YWluIHRoZSBtaWNyb2NvZGUgdXBkYXRlcy4gVXBvbiBib290LCBY
ZW4KaW5zcGVjdHMgaXRzIGltYWdlIGZvciBtaWNyb2NvZGUgYmxvYnMgYW5kIHBlcmZvcm1zIHRo
ZSB1cGRhdGUuCgpBIFhlbiBpbWFnZSB3aXRoIGJ1aWx0aW4gbWljcm9jb2RlIHdpbGwsIGJ5IGRl
ZmF1bHQsIGF0dGVtcHQgdGhlIG1pY3JvY29kZQp1cGRhdGUuIERpc2FibGluZyB0aGUgYnVpbHRp
biBtaWNyb2NvZGUgdXBkYXRlIGNhbiBiZSBkb25lIHZpYSB0aGUgWGVuIGNvbW1hbmQKbGluZSBw
YXJhbWV0ZXIgJ3Vjb2RlPW5vLWJ1aWx0aW4nLiBNb3Jlb3ZlciwgdGhlIG1pY3JvY29kZSBwcm92
aWRlZCB2aWEgb3RoZXIKb3B0aW9ucyAoc3VjaCBhcyAndWNvZGU9PGludGVnZXI+fHNjYW4nIG9y
ICd1Y29kZT08ZmlsZW5hbWU+JyBjb25maWcgd2hlbgpib290aW5nIHZpYSBFRkkpIHRha2VzIHBy
ZWNlZGVuY2Ugb3ZlciB0aGUgYnVpbHRpbiBvbmUuCgpTaWduZWQtb2ZmLWJ5OiBFc2xhbSBFbG5p
a2V0eSA8ZWxuaWtldHlAYW1hem9uLmNvbT4KCi0tLQpDaGFuZ2VzIGluIHYyOgotIEFsbG93IGZv
ciB1Y29kZT08aW50ZWdlcj58c2Nhbix7bm8tfWJ1aWx0aW4gYW5kIGRldGFpbCB0aGUgbW9kZWwu
IFJlZmxlY3QKICB0aG9zZSBjaGFuZ2VzIG9udG8gbWljcm9jb2RlLmMgYW5kIGRvY3MvbWlzYy94
ZW4tY29tbWFuZC1saW5lLnBhbmRvYwotIEFkZCBkb2N1bWVudGF0aW9uIHRvIHRoZSBleGlzdGlu
ZyBkb2NzL2FkbWluLWd1aWRlL21pY3JvY29kZS1sb2FkaW5nLnJzdAotIEJ1aWxkIG9uIFBhdGNo
ZXMgMS0tMyB0byBhdm9pZCB4bWFsbG9jL21lbWNweSBmb3IgdGhlIGJ1aWx0aW4gbWljcm9jb2Rl
Ci0gV29yayBjb25maWd1cmF0aW9uIGluIG9yZGVyIHRvIHNwZWNpZnkgdGhlIGluZGl2aWR1YWwg
bWljcm9jb2RlIGJsb2JzIHRvIHVzZQogIGZvciB0aGUgYnVpbHRpbiBtaWNyb2NvZGUsIGFuZCBy
ZXdvcmsgdGhlIG1pY3JvY29kZS9NYWtlZmlsZSBhY2NvcmRpbmdseQotLS0KIGRvY3MvYWRtaW4t
Z3VpZGUvbWljcm9jb2RlLWxvYWRpbmcucnN0IHwgMzEgKysrKysrKysrKysrKysrCiBkb2NzL21p
c2MveGVuLWNvbW1hbmQtbGluZS5wYW5kb2MgICAgICB8IDEwICsrKystCiB4ZW4vYXJjaC94ODYv
S2NvbmZpZyAgICAgICAgICAgICAgICAgICB8IDMwICsrKysrKysrKysrKysrKwogeGVuL2FyY2gv
eDg2L01ha2VmaWxlICAgICAgICAgICAgICAgICAgfCAgMSArCiB4ZW4vYXJjaC94ODYvbWljcm9j
b2RlLmMgICAgICAgICAgICAgICB8IDUyICsrKysrKysrKysrKysrKysrKysrKysrKysrCiB4ZW4v
YXJjaC94ODYvbWljcm9jb2RlL01ha2VmaWxlICAgICAgICB8IDQ2ICsrKysrKysrKysrKysrKysr
KysrKysrCiB4ZW4vYXJjaC94ODYveGVuLmxkcy5TICAgICAgICAgICAgICAgICB8IDEyICsrKysr
KwogNyBmaWxlcyBjaGFuZ2VkLCAxODAgaW5zZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKIGNy
ZWF0ZSBtb2RlIDEwMDY0NCB4ZW4vYXJjaC94ODYvbWljcm9jb2RlL01ha2VmaWxlCgpkaWZmIC0t
Z2l0IGEvZG9jcy9hZG1pbi1ndWlkZS9taWNyb2NvZGUtbG9hZGluZy5yc3QgYi9kb2NzL2FkbWlu
LWd1aWRlL21pY3JvY29kZS1sb2FkaW5nLnJzdAppbmRleCBlODNjYWRkMmMyLi45ODllOGQ0NDZi
IDEwMDY0NAotLS0gYS9kb2NzL2FkbWluLWd1aWRlL21pY3JvY29kZS1sb2FkaW5nLnJzdAorKysg
Yi9kb2NzL2FkbWluLWd1aWRlL21pY3JvY29kZS1sb2FkaW5nLnJzdApAQCAtMTA0LDYgKzEwNCwz
NyBAQCBUaGUgYGB1Y29kZT1zY2FuYGAgY29tbWFuZCBsaW5lIG9wdGlvbiB3aWxsIGNhdXNlIFhl
biB0byBzZWFyY2ggdGhyb3VnaCBhbGwKIG1vZHVsZXMgdG8gZmluZCBhbnkgQ1BJTyBhcmNoaXZl
cywgYW5kIHNlYXJjaCB0aGUgYXJjaGl2ZSBmb3IgdGhlIGFwcGxpY2FibGUKIGZpbGUuICBYZW4g
d2lsbCBzdG9wIHNlYXJjaGluZyBhdCB0aGUgZmlyc3QgbWF0Y2guCiAKK0xvYWRpbmcgbWljcm9j
b2RlIGJ1aWx0IHdpdGhpbiB0aGUgWGVuIGltYWdlCit+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+
fn5+fn5+fn5+fn5+fn5+fn5+fgorCitYZW4gY2FuIGJ1bmRsZSBtaWNyb2NvZGUgdXBkYXRlcyB3
aXRoaW4gaXRzIGltYWdlLiBUaGlzIHN1cHBvcnQgaXMgY29uZGl0aW9uYWwKK29uIHRoZSBidWls
ZCBjb25maWd1cmF0aW9uIEJVSUxUSU5fVUNPREUgYmVpbmcgZW5hYmxlZC4gQnVpbHRpbiBtaWNy
b2NvZGUgaXMKK3VzZWZ1bCB0byBlbnN1cmUgdGhhdCwgYnkgZGVmYXVsdCwgYSBtaW5pbXVtIG1p
Y3JvY29kZSBwYXRjaCBsZXZlbCB3aWxsIGJlCithcHBsaWVkIHRvIHRoZSB1bmRlcmx5aW5nIENQ
VS4KKworVG8gdXNlIG1pY3JvY29kZSB1cGRhdGVzIGF2YWlsYWJsZSBvbiB0aGUgYnVpbGQgc3lz
dGVtIGFzIGJ1aWx0aW4sCit1c2UgQlVJTFRJTl9VQ09ERV9ESVIgdG8gcmVmZXIgdG8gdGhlIGRp
cmVjdG9yeSBjb250YWluaW5nIHRoZSBmaXJtd2FyZSB1cGRhdGVzCithbmQgc3BlY2lmeSB0aGUg
aW5kaXZpZHVhbCBtaWNyb2NvZGUgcGF0Y2hlcyB2aWEgZWl0aGVyIEJVSUxUSU5fVUNPREVfQU1E
IG9yCitCVUlMVElOX1VDT0RFX0lOVEVMIGZvciBBTUQgbWljcm9jb2RlIG9yIElOVEVMIG1pY3Jv
Y29kZSwgcmVzcGVjdGl2ZWx5LiBGb3IKK2luc3RhbmNlLCB0aGUgY29uZmlndXJhdGlvbiBiZWxv
dyBpcyBzdWl0YWJsZSBmb3IgYSBidWlsZCBzeXN0ZW0gd2hpY2ggaGFzIGEKK2BgL2xpYi9maXJt
d2FyZS9gYCBkaXJlY3Rvcnkgd2hpY2gsIGluIHR1cm4sIGluY2x1ZGVzIHRoZSBpbmRpdmlkdWFs
IG1pY3JvY29kZQorcGF0Y2hlcyBgYGFtZC11Y29kZS9taWNyb2NvZGVfYW1kX2ZhbTE1aC5iaW5g
YCwgYGBpbnRlbC11Y29kZS8wNi0zYS0wOWBgLCBhbmQKK2BgaW50ZWwtdWNvZGUvMDYtMmYtMDJg
YC4KKworICBDT05GSUdfQlVJTFRJTl9VQ09ERT15CisgIENPTkZJR19CVUlMVElOX1VDT0RFX0RJ
Uj0iL2xpYi9maXJtd2FyZS8iCisgIENPTkZJR19CVUlMVElOX1VDT0RFX0FNRD0iYW1kLXVjb2Rl
L21pY3JvY29kZV9hbWRfZmFtMTVoLmJpbiIKKyAgQ09ORklHX0JVSUxUSU5fVUNPREVfSU5URUw9
ImludGVsLXVjb2RlLzA2LTNhLTA5IGludGVsLXVjb2RlLzA2LTJmLTAyIgorCitBbHRlcm5hdGl2
ZWx5LCBDT05GSUdfQlVJTFRJTl9VQ09ERV97QU1ELElOVEVMfSBjYW4gZGlyZWN0bHkgcG9pbnQg
dG8gdGhlCitjb25jYXRlbmF0aW9uIG9mIHRoZSBpbmRpdmlkdWFsIG1pY3JvY29kZSBibG9icy4g
Rm9yIGluc3RhbmNlLCBhc3N1bWluZyB0aGF0CitgYGFtZC11Y29kZS9BdXRoZW50aWNBTUQuYmlu
YGAgYW5kIGBgaW50ZWwtdWNvZGUvR2VudWluZUludGVsLmJpbmBgIGhvbGQKK211bHRpcGxlIG1p
Y3JvY29kZSB1cGRhdGVzIGZvciBBTUQgYW5kIElOVEVMLCByZXNwZWN0aXZlbHksIHlvdSBtYXkg
dXNlIHRoZQorY29uZmlndXJhdGlvbiBiZWxvdy4KKworICBDT05GSUdfQlVJTFRJTl9VQ09ERV9B
TUQ9ImFtZC11Y29kZS9BdXRoZW50aWNBTUQuYmluIgorICBDT05GSUdfQlVJTFRJTl9VQ09ERV9J
TlRFTD0iaW50ZWwtdWNvZGUvR2VudWluZUludGVsLmJpbiIKKwogCiBSdW4gdGltZSBtaWNyb2Nv
ZGUgbG9hZGluZwogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGlmZiAtLWdpdCBhL2RvY3Mv
bWlzYy94ZW4tY29tbWFuZC1saW5lLnBhbmRvYyBiL2RvY3MvbWlzYy94ZW4tY29tbWFuZC1saW5l
LnBhbmRvYwppbmRleCA0MGZhZjNiYzNhLi45Y2ZjMmRmMDVhIDEwMDY0NAotLS0gYS9kb2NzL21p
c2MveGVuLWNvbW1hbmQtbGluZS5wYW5kb2MKKysrIGIvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxp
bmUucGFuZG9jCkBAIC0yMTI2LDEwICsyMTI2LDEwIEBAIGxvZ2ljIGFwcGxpZXM6CiAgICBhY3Rp
dmUgYnkgZGVmYXVsdC4KIAogIyMjIHVjb2RlICh4ODYpCi0+IGA9IExpc3Qgb2YgWyA8aW50ZWdl
cj4gfCBzY2FuPTxib29sPiwgbm1pPTxib29sPiBdYAorPiBgPSBMaXN0IG9mIFsgPGludGVnZXI+
IHwgc2Nhbj08Ym9vbD4sIGJ1aWx0aW49PGJvb2w+LCBubWk9PGJvb2w+IF1gCiAKICAgICBBcHBs
aWNhYmlsaXR5OiB4ODYKLSAgICBEZWZhdWx0OiBgbm1pYAorICAgIERlZmF1bHQ6IGBubWlgIGlm
IEJVSUxUSU5fVUNPREUgaXMgbm90IGVuYWJsZWQsIGBidWlsdGluLG5taWAgb3RoZXJ3aXNlCiAK
IENvbnRyb2xzIGZvciBDUFUgbWljcm9jb2RlIGxvYWRpbmcuIEZvciBlYXJseSBsb2FkaW5nLCB0
aGlzIHBhcmFtZXRlciBjYW4KIHNwZWNpZnkgaG93IGFuZCB3aGVyZSB0byBmaW5kIHRoZSBtaWNy
b2NvZGUgdXBkYXRlIGJsb2IuIEZvciBsYXRlIGxvYWRpbmcsCkBAIC0yMTUwLDYgKzIxNTAsMTIg
QEAgbWljcm9jb2RlIGluIHRoZSBjcGlvIG5hbWUgc3BhY2UgbXVzdCBiZToKICAgLSBvbiBJbnRl
bDoga2VybmVsL3g4Ni9taWNyb2NvZGUvR2VudWluZUludGVsLmJpbgogICAtIG9uIEFNRCAgOiBr
ZXJuZWwveDg2L21pY3JvY29kZS9BdXRoZW50aWNBTUQuYmluCiAKKydidWlsdGluJyBpbnN0cnVj
dHMgdGhlIGh5cGVydmlzb3IgdG8gdXNlIHRoZSBidWlsdGluIG1pY3JvY29kZSB1cGRhdGUuIFRo
aXMKK29wdGlvbiBpcyBhdmFpbGFibGUgb25seSBpZiBvcHRpb24gQlVJTFRJTl9VQ09ERSBpcyBl
bmFibGVkIGF0IGJ1aWxkLiBUaGUKK2RlZmF1bHQgdmFsdWUgaXMgYHRydWVgLiBJZiBhIG1pY3Jv
Y29kZSBpcyBwcm92aWRlZCB2aWEgb3RoZXIgb3B0aW9ucyAoc3VjaAorYXMgJ2ludGVnZXInLCAn
c2NhbicsIG9yIGB1Y29kZT08ZmlsZW5hbWU+YCBjb25maWcgd2hlbiBib290aW5nIHZpYSBFRkkp
LAordGhlIHByb3ZpZGVkIG1pY3JvY29kZSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhlIGJ1aWx0
aW4gb25lLgorCiAnbm1pJyBkZXRlcm1pbmVzIGxhdGUgbG9hZGluZyBpcyBwZXJmb3JtZWQgaW4g
Tk1JIGhhbmRsZXIgb3IganVzdCBpbgogc3RvcF9tYWNoaW5lIGNvbnRleHQuIEluIE5NSSBoYW5k
bGVyLCBldmVuIE5NSXMgYXJlIGJsb2NrZWQsIHdoaWNoIGlzCiBjb25zaWRlcmVkIHNhZmVyLiBU
aGUgZGVmYXVsdCB2YWx1ZSBpcyBgdHJ1ZWAuCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvS2Nv
bmZpZyBiL3hlbi9hcmNoL3g4Ni9LY29uZmlnCmluZGV4IDAyYmIwNWY0MmUuLjliYzIyMDkyNWIg
MTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9LY29uZmlnCisrKyBiL3hlbi9hcmNoL3g4Ni9LY29u
ZmlnCkBAIC0yMTgsNiArMjE4LDM2IEBAIGNvbmZpZyBNRU1fU0hBUklORwogCWJvb2wgIlhlbiBt
ZW1vcnkgc2hhcmluZyBzdXBwb3J0IiBpZiBFWFBFUlQgPSAieSIKIAlkZXBlbmRzIG9uIEhWTQog
Citjb25maWcgQlVJTFRJTl9VQ09ERQorCWJvb2wgIlN1cHBvcnQgZm9yIEJ1aWx0aW4gTWljcm9j
b2RlIgorCS0tLWhlbHAtLS0KKwkgIEluY2x1ZGUgdGhlIENQVSBtaWNyb2NvZGUgdXBkYXRlIGlu
IHRoZSBYZW4gaW1hZ2UgaXRzZWxmLiBXaXRoIHRoaXMKKwkgIHN1cHBvcnQsIFhlbiBjYW4gdXBk
YXRlIHRoZSBDUFUgbWljcm9jb2RlIHVwb24gYm9vdCB1c2luZyB0aGUgYnVpbHRpbgorCSAgbWlj
cm9jb2RlLCB3aXRoIG5vIG5lZWQgZm9yIGFuIGFkZGl0aW9uYWwgbWljcm9jb2RlIGJvb3QgbW9k
dWxlcy4KKworCSAgSWYgdW5zdXJlLCBzYXkgTi4KKworY29uZmlnIEJVSUxUSU5fVUNPREVfRElS
CisJc3RyaW5nICJEaXJlY3RvcnkgY29udGFpbmluZyBtaWNyb2NvZGUgdXBkYXRlcyIKKwlkZWZh
dWx0ICIvbGliL2Zpcm13YXJlLyIKKwlkZXBlbmRzIG9uIEJVSUxUSU5fVUNPREUKKwktLS1oZWxw
LS0tCisJICBUaGUgZGlyZWN0b3J5IGNvbnRhaW5pbmcgdGhlIG1pY3JvY29kZSBibG9icy4KKwor
Y29uZmlnIEJVSUxUSU5fVUNPREVfQU1ECisJc3RyaW5nICJBTUQgbWljcm9jb2RlIHVwZGF0ZXMi
CisJZGVmYXVsdCAiIgorCWRlcGVuZHMgb24gQlVJTFRJTl9VQ09ERQorCS0tLWhlbHAtLS0KKwkg
IEFNRCBidWlsdGluIG1pY3JvY29kZTsgc3BhY2Utc3BhcmF0ZWQsIHJlbGF0aXZlIHRvIEJVSUxU
SU5fVUNPREVfRElSLgorCitjb25maWcgQlVJTFRJTl9VQ09ERV9JTlRFTAorCXN0cmluZyAiSU5U
RUwgbWljcm9jb2RlIHVwZGF0ZXMiCisJZGVmYXVsdCAiIgorCWRlcGVuZHMgb24gQlVJTFRJTl9V
Q09ERQorCS0tLWhlbHAtLS0KKwkgIElOVEVMIGJ1aWx0aW4gbWljcm9jb2RlOyBzcGFjZS1zcGFy
YXRlZCwgcmVsYXRpdmUgdG8gQlVJTFRJTl9VQ09ERV9ESVIuCisKIGVuZG1lbnUKIAogc291cmNl
ICJjb21tb24vS2NvbmZpZyIKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9NYWtlZmlsZSBiL3hl
bi9hcmNoL3g4Ni9NYWtlZmlsZQppbmRleCA3ZGE1YTI2MzFlLi44ODY2OTFhMzc3IDEwMDY0NAot
LS0gYS94ZW4vYXJjaC94ODYvTWFrZWZpbGUKKysrIGIveGVuL2FyY2gveDg2L01ha2VmaWxlCkBA
IC0zLDYgKzMsNyBAQCBzdWJkaXIteSArPSBjcHUKIHN1YmRpci15ICs9IGdlbmFwaWMKIHN1YmRp
ci0kKENPTkZJR19HVUVTVCkgKz0gZ3Vlc3QKIHN1YmRpci0kKENPTkZJR19IVk0pICs9IGh2bQor
c3ViZGlyLSQoQ09ORklHX0JVSUxUSU5fVUNPREUpICs9IG1pY3JvY29kZQogc3ViZGlyLXkgKz0g
bW0KIHN1YmRpci0kKENPTkZJR19YRU5PUFJPRikgKz0gb3Byb2ZpbGUKIHN1YmRpci0kKENPTkZJ
R19QVikgKz0gcHYKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9taWNyb2NvZGUuYyBiL3hlbi9h
cmNoL3g4Ni9taWNyb2NvZGUuYwppbmRleCA0NjE2ZmE5ZDJlLi5iY2ZiZDMxMDQxIDEwMDY0NAot
LS0gYS94ZW4vYXJjaC94ODYvbWljcm9jb2RlLmMKKysrIGIveGVuL2FyY2gveDg2L21pY3JvY29k
ZS5jCkBAIC05Nyw2ICs5NywxNCBAQCBzdGF0aWMgc3RydWN0IHVjb2RlX21vZF9ibG9iIF9faW5p
dGRhdGEgdWNvZGVfYmxvYjsKICAqLwogc3RhdGljIGJvb2xfdCBfX2luaXRkYXRhIHVjb2RlX3Nj
YW47CiAKKyNpZmRlZiBDT05GSUdfQlVJTFRJTl9VQ09ERQorLyogYnVpbHRpbiBpcyB0aGUgZGVm
YXVsdCB3aGVuIEJVSUxUSU5fVUNPREUgaXMgc2V0ICovCitzdGF0aWMgYm9vbCBfX2luaXRkYXRh
IHVjb2RlX2J1aWx0aW4gPSB0cnVlOworCitleHRlcm4gY29uc3QgY2hhciBfX2J1aWx0aW5faW50
ZWxfdWNvZGVfc3RhcnRbXSwgX19idWlsdGluX2ludGVsX3Vjb2RlX2VuZFtdOworZXh0ZXJuIGNv
bnN0IGNoYXIgX19idWlsdGluX2FtZF91Y29kZV9zdGFydFtdLCBfX2J1aWx0aW5fYW1kX3Vjb2Rl
X2VuZFtdOworI2VuZGlmCisKIC8qIEJ5IGRlZmF1bHQsIHVjb2RlIGxvYWRpbmcgaXMgZG9uZSBp
biBOTUkgaGFuZGxlciAqLwogc3RhdGljIGJvb2wgdWNvZGVfaW5fbm1pID0gdHJ1ZTsKIApAQCAt
MTIyLDYgKzEzMCwxMCBAQCBzdGF0aWMgaW50IF9faW5pdCBwYXJzZV91Y29kZV9wYXJhbShjb25z
dCBjaGFyICpzKQogICAgICAgICAgICAgdWNvZGVfaW5fbm1pID0gdmFsOwogICAgICAgICBlbHNl
IGlmICggKHZhbCA9IHBhcnNlX2Jvb2xlYW4oInNjYW4iLCBzLCBzcykpID49IDAgKQogICAgICAg
ICAgICAgdWNvZGVfc2NhbiA9IHZhbDsKKyNpZmRlZiBDT05GSUdfQlVJTFRJTl9VQ09ERQorICAg
ICAgICBlbHNlIGlmICggKHZhbCA9IHBhcnNlX2Jvb2xlYW4oImJ1aWx0aW4iLCBzLCBzcykpID49
IDAgKQorICAgICAgICAgICAgdWNvZGVfYnVpbHRpbiA9IHZhbDsKKyNlbmRpZgogICAgICAgICBl
bHNlCiAgICAgICAgIHsKICAgICAgICAgICAgIGNvbnN0IGNoYXIgKnE7CkBAIC0yMDgsNiArMjIw
LDQwIEBAIHZvaWQgX19pbml0IG1pY3JvY29kZV9ncmFiX21vZHVsZSgKICAgICAgICAgdWNvZGVf
bW9kID0gbW9kW3Vjb2RlX21vZF9pZHhdOwogICAgIGVsc2UgaWYgKCB1Y29kZV9zY2FuICkKICAg
ICAgICAgbWljcm9jb2RlX3NjYW5fbW9kdWxlKG1vZHVsZV9tYXAsIG1iaSk7CisKKyNpZmRlZiBD
T05GSUdfQlVJTFRJTl9VQ09ERQorICAgIC8qCisgICAgICogRG8gbm90IHVzZSB0aGUgYnVpbHRp
biBtaWNyb2NvZGUgaWY6CisgICAgICogKGEpIGJ1aWx0aW4gaGFzIGJlZW4gZXhwbGljaXRseSB0
dXJuZWQgb2ZmIChlLmcuLCB1Y29kZT1uby1idWlsdGluKQorICAgICAqIChiKSBhIG1pY3JvY29k
ZSBtb2R1bGUgaGFzIGJlZW4gc3BlY2lmaWVkIG9yIGEgc2NhbiBpcyBzdWNjZXNzZnVsCisgICAg
ICovCisgICAgaWYgKCAhdWNvZGVfYnVpbHRpbiB8fCB1Y29kZV9tb2QubW9kX2VuZCB8fCB1Y29k
ZV9ibG9iLnNpemUgKQorICAgIHsKKyAgICAgICAgdWNvZGVfYnVpbHRpbiA9IGZhbHNlOworICAg
ICAgICByZXR1cm47CisgICAgfQorCisgICAgLyogU2V0IHVjb2RlX3N0YXJ0L19lbmQgdG8gdGhl
IHByb3BlciBibG9iICovCisgICAgaWYgKCBib290X2NwdV9kYXRhLng4Nl92ZW5kb3IgPT0gWDg2
X1ZFTkRPUl9BTUQgKQorICAgIHsKKyAgICAgICAgdWNvZGVfYmxvYi5zaXplID0gX19idWlsdGlu
X2FtZF91Y29kZV9lbmQgLSBfX2J1aWx0aW5fYW1kX3Vjb2RlX3N0YXJ0OworICAgICAgICB1Y29k
ZV9ibG9iLmRhdGEgPSBfX2J1aWx0aW5fYW1kX3Vjb2RlX3N0YXJ0OworICAgIH0KKyAgICBlbHNl
IGlmICggYm9vdF9jcHVfZGF0YS54ODZfdmVuZG9yID09IFg4Nl9WRU5ET1JfSU5URUwgKQorICAg
IHsKKyAgICAgICAgdWNvZGVfYmxvYi5zaXplID0gX19idWlsdGluX2ludGVsX3Vjb2RlX2VuZCAt
CisgICAgICAgICAgICAgICAgICAgICAgICAgIF9fYnVpbHRpbl9pbnRlbF91Y29kZV9zdGFydDsK
KyAgICAgICAgdWNvZGVfYmxvYi5kYXRhID0gX19idWlsdGluX2ludGVsX3Vjb2RlX3N0YXJ0Owor
ICAgIH0KKyAgICBlbHNlCisgICAgICAgIHJldHVybjsKKworICAgIGlmICggIXVjb2RlX2Jsb2Iu
c2l6ZSApCisgICAgeworICAgICAgICBwcmludGsoIk5vIGJ1aWx0aW4gdWNvZGUgZm9yIHRoZSBD
UFUgdmVuZG9yLlxuIik7CisgICAgICAgIHVjb2RlX2Jsb2IuZGF0YSA9IE5VTEw7CisgICAgfQor
I2VuZGlmCiB9CiAKIGNvbnN0IHN0cnVjdCBtaWNyb2NvZGVfb3BzICptaWNyb2NvZGVfb3BzOwpA
QCAtNzAxLDcgKzc0NywxMyBAQCBzdGF0aWMgaW50IF9faW5pdCBtaWNyb2NvZGVfaW5pdCh2b2lk
KQogICAgICAqLwogICAgIGlmICggdWNvZGVfYmxvYi5zaXplICkKICAgICB7CisjaWZkZWYgQ09O
RklHX0JVSUxUSU5fVUNPREUKKyAgICAgICAgLyogTm8gbmVlZCB0byBkZXN0cm95IG1vZHVsZSBt
YXBwaW5ncyBpZiBidWlsdGluIHdhcyB1c2VkICovCisgICAgICAgIGlmICggIXVjb2RlX2J1aWx0
aW4gKQorICAgICAgICAgICAgYm9vdHN0cmFwX21hcChOVUxMKTsKKyNlbHNlCiAgICAgICAgIGJv
b3RzdHJhcF9tYXAoTlVMTCk7CisjZW5kaWYKICAgICAgICAgdWNvZGVfYmxvYi5zaXplID0gMDsK
ICAgICAgICAgdWNvZGVfYmxvYi5kYXRhID0gTlVMTDsKICAgICB9CmRpZmYgLS1naXQgYS94ZW4v
YXJjaC94ODYvbWljcm9jb2RlL01ha2VmaWxlIGIveGVuL2FyY2gveDg2L21pY3JvY29kZS9NYWtl
ZmlsZQpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwLi5jMzRkOTk5MDNhCi0t
LSAvZGV2L251bGwKKysrIGIveGVuL2FyY2gveDg2L21pY3JvY29kZS9NYWtlZmlsZQpAQCAtMCww
ICsxLDQ2IEBACisjIENvcHlyaWdodCAoQykgMjAxOSBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBh
ZmZpbGlhdGVzLgorIyBBdXRob3I6IEVzbGFtIEVsbmlrZXR5IDxlbG5pa2V0eUBhbWF6b24uY29t
PgorIworIyBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1
dGUgaXQgYW5kL29yIG1vZGlmeQorIyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5l
cmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQorIyB0aGUgRnJlZSBTb2Z0d2FyZSBG
b3VuZGF0aW9uOyBlaXRoZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBvcgorIyAoYXQgeW91
ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgorIworIyBUaGlzIHByb2dyYW0gaXMgZGlzdHJp
YnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyMgYnV0IFdJVEhPVVQg
QU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyMgTUVS
Q0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRo
ZQorIyBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgorCisjIFJl
bW92ZSBxdW90ZXMgYW5kIGV4Y2VzcyBzcGFjZXMgZnJvbSBjb25maWd1cmF0aW9uIHN0cmluZ3MK
K1VDT0RFX0RJUj0kKHN0cmlwICQoc3Vic3QgJFwiLCwkKENPTkZJR19CVUlMVElOX1VDT0RFX0RJ
UikpKQorVUNPREVfQU1EPSQoc3RyaXAgJChzdWJzdCAkXCIsLCQoQ09ORklHX0JVSUxUSU5fVUNP
REVfQU1EKSkpCitVQ09ERV9JTlRFTD0kKHN0cmlwICQoc3Vic3QgJFwiLCwkKENPTkZJR19CVUlM
VElOX1VDT0RFX0lOVEVMKSkpCisKKyMgQU1EIGFuZCBJTlRFTCBtaWNyb2NvZGUgYmxvYnMuIFVz
ZSAnd2lsZGNhcmQnIHRvIGZpbHRlciBmb3IgZXhpc3RpbmcgYmxvYnMuCithbWQtYmxvYnMgOj0g
JCh3aWxkY2FyZCAkKGFkZHByZWZpeCAkKFVDT0RFX0RJUiksJChVQ09ERV9BTUQpKSkKK2ludGVs
LWJsb2JzIDo9ICQod2lsZGNhcmQgJChhZGRwcmVmaXggJChVQ09ERV9ESVIpLCQoVUNPREVfSU5U
RUwpKSkKKworaWZuZXEgKCQoYW1kLWJsb2JzKSwpCitvYmoteSArPSB1Y29kZV9hbWQubworZW5k
aWYKKworaWZuZXEgKCQoaW50ZWwtYmxvYnMpLCkKK29iai15ICs9IHVjb2RlX2ludGVsLm8KK2Vu
ZGlmCisKK2lmZXEgKCQoYW1kLWJsb2JzKSQoaW50ZWwtYmxvYnMpLCkKK29iai15ICs9IHVjb2Rl
X2R1bW15Lm8KK2VuZGlmCisKK3Vjb2RlX2FtZC5vOiBNYWtlZmlsZSAkKGFtZC1ibG9icykKKwlj
YXQgJChhbWQtYmxvYnMpID4gJEAuYmluCisJJChPQkpDT1BZKSAtSSBiaW5hcnkgLU8gZWxmNjQt
eDg2LTY0IC1CIGkzODY6eDg2LTY0IC0tcmVuYW1lLXNlY3Rpb24gLmRhdGE9LmJ1aWx0aW5fYW1k
X3Vjb2RlLGFsbG9jLGxvYWQscmVhZG9ubHksZGF0YSxjb250ZW50cyAkQC5iaW4gJEAKKwlybSAt
ZiAkQC5iaW4KKwordWNvZGVfaW50ZWwubzogTWFrZWZpbGUgJChpbnRlbC1ibG9icykKKwljYXQg
JChpbnRlbC1ibG9icykgPiAkQC5iaW4KKwkkKE9CSkNPUFkpIC1JIGJpbmFyeSAtTyBlbGY2NC14
ODYtNjQgLUIgaTM4Njp4ODYtNjQgLS1yZW5hbWUtc2VjdGlvbiAuZGF0YT0uYnVpbHRpbl9pbnRl
bF91Y29kZSxhbGxvYyxsb2FkLHJlYWRvbmx5LGRhdGEsY29udGVudHMgJEAuYmluICRACisJcm0g
LWYgJEAuYmluCisKK3Vjb2RlX2R1bW15Lm86IE1ha2VmaWxlCisJJChDQykgJChDRkxBR1MpIC1j
IC14IGMgL2Rldi9udWxsIC1vICRAOwpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L3hlbi5sZHMu
UyBiL3hlbi9hcmNoL3g4Ni94ZW4ubGRzLlMKaW5kZXggMTExZWRiNTM2MC4uN2E0YzU4YzI0NiAx
MDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3hlbi5sZHMuUworKysgYi94ZW4vYXJjaC94ODYveGVu
Lmxkcy5TCkBAIC0yNjUsNiArMjY1LDE4IEBAIFNFQ1RJT05TCiAgICAgICAgKihTT1JUKC5kYXRh
LnZwY2kuKikpCiAgICAgICAgX19lbmRfdnBjaV9hcnJheSA9IC47CiAjZW5kaWYKKworI2lmIGRl
ZmluZWQoQ09ORklHX0JVSUxUSU5fVUNPREUpCisgICAgICAgLiA9IEFMSUdOKFBPSU5URVJfQUxJ
R04pOworICAgICAgIF9fYnVpbHRpbl9hbWRfdWNvZGVfc3RhcnQgPSAuOworICAgICAgICooLmJ1
aWx0aW5fYW1kX3Vjb2RlKQorICAgICAgIF9fYnVpbHRpbl9hbWRfdWNvZGVfZW5kID0gLjsKKwor
ICAgICAgIC4gPSBBTElHTihQT0lOVEVSX0FMSUdOKTsKKyAgICAgICBfX2J1aWx0aW5faW50ZWxf
dWNvZGVfc3RhcnQgPSAuOworICAgICAgICooLmJ1aWx0aW5faW50ZWxfdWNvZGUpCisgICAgICAg
X19idWlsdGluX2ludGVsX3Vjb2RlX2VuZCA9IC47CisjZW5kaWYKICAgfSA6dGV4dAogCiAgIC4g
PSBBTElHTihTRUNUSU9OX0FMSUdOKTsKLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRl
dmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFp
bG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

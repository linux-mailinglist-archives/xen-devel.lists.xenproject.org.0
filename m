Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id AB472ADDE3
	for <lists+xen-devel@lfdr.de>; Mon,  9 Sep 2019 19:16:37 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i7NE3-0007v5-IJ; Mon, 09 Sep 2019 17:13:15 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=KiN8=XE=citrix.com=ian.jackson@srs-us1.protection.inumbo.net>)
 id 1i7NE1-0007uh-Kc
 for xen-devel@lists.xenproject.org; Mon, 09 Sep 2019 17:13:13 +0000
X-Inumbo-ID: 1a729180-d325-11e9-978d-bc764e2007e4
Received: from esa1.hc3370-68.iphmx.com (unknown [216.71.145.142])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 1a729180-d325-11e9-978d-bc764e2007e4;
 Mon, 09 Sep 2019 17:13:12 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568049193;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version;
 bh=RexG8BU5FSOE8clmrP1waELHqzuOyqhzkXqTPPj+cu4=;
 b=F9mna6WPYqs9TGbFaoj33scHNQenZEY7A8egkS52BPVI6/toaSDlylB8
 MGAGEaR/Oi5ToLNbxSQQJE+etfGw/yaCKc78rY0rTlq7Vv1Zzh790yIdX
 pODbamaeeYZCDbqwmPu7LtxGCil8Sn4+eYORhytocnoxa0sgKdE3MhpcN Y=;
Authentication-Results: esa1.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=ian.jackson@eu.citrix.com;
 spf=Pass smtp.mailfrom=Ian.Jackson@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa1.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 ian.jackson@eu.citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Ian.Jackson@citrix.com";
 x-sender="ian.jackson@eu.citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa1.hc3370-68.iphmx.com: domain of
 Ian.Jackson@citrix.com designates 162.221.158.21 as permitted
 sender) identity=mailfrom; client-ip=162.221.158.21;
 receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Ian.Jackson@citrix.com";
 x-sender="Ian.Jackson@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa1.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Ian.Jackson@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: pu7M8ZWeiAJI+foKqAHgXdGDSQqLQvyXLZpdS1+Uz4BPy+815XbCnaW16TdXQOVUHSzWvfQSxi
 17CW9xBNxQa1J00NNenMkUq4hfGZC5NbGnFZ/bUXzZ9DhdAsmDnA8xpGn3yNS0jcC3qYXLt9jX
 Bof+Z+dfK6OsbVnRU5TXGtv+WUEQW1isWMYInrv/4XmmsAf775TeMrKR5jYGcCro3sEGaO7H4L
 rlYm79CDuq9NchuCTowZBdt5+eb/D4HZYjoGXvFORdXsYyATLVVVMuN8Sbnmz2i5/eumH9bb2q
 XW8=
X-SBRS: 2.7
X-MesageID: 5380502
X-Ironport-Server: esa1.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,486,1559534400"; 
   d="scan'208";a="5380502"
From: Ian Jackson <ian.jackson@eu.citrix.com>
To: <xen-devel@lists.xenproject.org>
Date: Mon, 9 Sep 2019 18:12:06 +0100
Message-ID: <20190909171206.25585-3-ian.jackson@eu.citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190909171206.25585-1-ian.jackson@eu.citrix.com>
References: <20190909171206.25585-1-ian.jackson@eu.citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 3/3] tools/ocaml: Introduce xenctrl ABI
 build-time checks
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei
 Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Julien Grall <julien.grall@arm.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Yy9zIGYwODlmZGRkOTQxIGJyb2tlIHRoZSBPY2FtbCBBQkkgYnkgcmVudW1lcmluZwpYRU5fU1lT
Q1RMX1BIWVNDQVBfZGlyZWN0aW8gd2l0aG91dCBhZGp1c3RpbmcgdGhlIE9jYW1sCnBoeXNpbmZv
X2NhcF9mbGFnIGVudW1lcmF0aW9uLgoKQWRkIGJ1aWxkIG1hY2hpbmVyeSB3aGljaCB3aWxsIGNo
ZWNrIHRoZSBBQkkgY29ycmVzcG9uZGVuY2UuCgpUaGlzIHdpbGwgcmVzdWx0IGluIGEgY29tcGls
ZSB0aW1lIGZhaWx1cmUgd2hlbmV2ZXIgY29uc3RhbnRzIGdldApyZW51bWJlcmVkL2FkZGVkIHdp
dGhvdXQgYSBjb21wYXRpYmxlIGFkanVzdG1lbnQgdG8gdGhlIE9jYW1sIEFCSS4KClNpZ25lZC1v
ZmYtYnk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+ClNpZ25lZC1v
ZmYtYnk6IElhbiBKYWNrc29uIDxpYW4uamFja3NvbkBldS5jaXRyaXguY29tPgotLS0KdjI6IFNj
cmlwdCB3aXRoIGFkLWhvYyBwYXJzZXJzIHJhdGhlciB0aGFuIGhhbmR3cml0dGVuIEJVSUxEX0JV
R19PTgogICAgbGlzdCAod2hpY2ggd2FzIG91dCBvZiBkYXRlIGV2ZW4gaW4gdjEgb2YgdGhpcyBw
YXRjaCEpCi0tLQogLmdpdGlnbm9yZSAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgMSArCiB0
b29scy9vY2FtbC9saWJzL3hjL01ha2VmaWxlICAgICAgICB8ICA1ICsrKwogdG9vbHMvb2NhbWwv
bGlicy94Yy9hYmktY2hlY2sgICAgICAgfCA4NCArKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrCiB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMuYyB8IDY5ICsrKysr
KysrKysrKysrKysrKysrKy0tLS0tLS0tLQogeGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oICAg
ICAgICAgfCAgNCArKwogNSBmaWxlcyBjaGFuZ2VkLCAxNDMgaW5zZXJ0aW9ucygrKSwgMjAgZGVs
ZXRpb25zKC0pCiBjcmVhdGUgbW9kZSAxMDA3NTUgdG9vbHMvb2NhbWwvbGlicy94Yy9hYmktY2hl
Y2sKCmRpZmYgLS1naXQgYS8uZ2l0aWdub3JlIGIvLmdpdGlnbm9yZQppbmRleCAzYzk0N2FjOTQ4
Li4zYWRhMGM0ZjBiIDEwMDY0NAotLS0gYS8uZ2l0aWdub3JlCisrKyBiLy5naXRpZ25vcmUKQEAg
LTM5Miw2ICszOTIsNyBAQCB0b29scy9vY2FtbC9saWJzL3hlbnRvb2xsb2cvX3h0bF9sZXZlbHMu
KgogdG9vbHMvb2NhbWwvbGlicy94ZW50b29sbG9nL3hlbnRvb2xsb2cubWwKIHRvb2xzL29jYW1s
L2xpYnMveGVudG9vbGxvZy94ZW50b29sbG9nLm1saQogdG9vbHMvb2NhbWwvbGlicy94cy9wYXRo
cy5tbAordG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsX2FiaV9jaGVjay5oCiB0b29scy9vY2Ft
bC94ZW5zdG9yZWQvX3BhdGhzLmgKIHRvb2xzL29jYW1sL3hlbnN0b3JlZC9veGVuc3RvcmVkCiB0
b29scy9vY2FtbC94ZW5zdG9yZWQvb3hlbnN0b3JlZC5jb25mCmRpZmYgLS1naXQgYS90b29scy9v
Y2FtbC9saWJzL3hjL01ha2VmaWxlIGIvdG9vbHMvb2NhbWwvbGlicy94Yy9NYWtlZmlsZQppbmRl
eCBkMjRiMDE0NGQwLi5hYzc4MDYyN2QyIDEwMDY0NAotLS0gYS90b29scy9vY2FtbC9saWJzL3hj
L01ha2VmaWxlCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMvTWFrZWZpbGUKQEAgLTMxLDQgKzMx
LDkgQEAgaW5zdGFsbDogJChMSUJTKSBNRVRBCiB1bmluc3RhbGw6CiAJJChPQ0FNTEZJTkQpIHJl
bW92ZSAtZGVzdGRpciAkKE9DQU1MREVTVERJUikgeGVuY3RybAogCit4ZW5jdHJsX3N0dWJzLm86
IHhlbmN0cmxfYWJpX2NoZWNrLmgKKworeGVuY3RybF9hYmlfY2hlY2suaDogYWJpLWNoZWNrIHhl
bmN0cmxfc3R1YnMuYyB4ZW5jdHJsLm1sCisJJChQRVJMKSAtdyAkXiA+JEAudG1wICYmIG12IC1m
ICRALnRtcCAkQAorCiBpbmNsdWRlICQoVE9QTEVWRUwpL01ha2VmaWxlLnJ1bGVzCmRpZmYgLS1n
aXQgYS90b29scy9vY2FtbC9saWJzL3hjL2FiaS1jaGVjayBiL3Rvb2xzL29jYW1sL2xpYnMveGMv
YWJpLWNoZWNrCm5ldyBmaWxlIG1vZGUgMTAwNzU1CmluZGV4IDAwMDAwMDAwMDAuLmM5ODdjZDg0
NTQKLS0tIC9kZXYvbnVsbAorKysgYi90b29scy9vY2FtbC9saWJzL3hjL2FiaS1jaGVjawpAQCAt
MCwwICsxLDg0IEBACisjIS91c3IvYmluL3BlcmwgLXcKKwordXNlIHN0cmljdDsKK3VzZSBEYXRh
OjpEdW1wZXI7CisKK291ciAlZW51bXM7CisKK0BBUkdWID09IDIgb3IgZGllOworb3VyICgkYywg
JG8pID0gQEFSR1Y7CisKK29wZW4gU1RESU4sICI8IiwgJGMgb3IgZGllICQhOworCitvdXIgJGNs
aW5lID0gLTE7CitvdXIgJGVpOworCit3aGlsZSAoPD4pIHsKKyAgICBpZiAoJGNsaW5lID09IC0x
KSB7CisgICAgICAgIGlmIChtL2NfYml0bWFwX3RvX29jYW1sX2xpc3QvKSB7CisgICAgICAgICAg
ICAkY2xpbmUgPSAwOworICAgICAgICAgICAgJGVpID0geyB9OworICAgICAgICB9CisgICAgfSBl
bHNlIHsKKyAgICAgICAgJGNsaW5lKys7CisgICAgICAgIG17XlxzKy9cKiBccysgISBccysgKC4q
PykgXHMqIFwqL1xzKiR9eCBvciBkaWUgIiRjbGluZSAkXyA/IjsKKyAgICAgICAgbXkgQHZhbHMg
PSBzcGxpdCAvXHMrLywgJDE7CisgICAgICAgIGlmICgkY2xpbmUgPT0gMSAmJiAhQHZhbHMpIHsK
KyAgICAgICAgICAgICRjbGluZSA9IC0xOworICAgICAgICB9IGVsc2lmICgkY2xpbmUgPT0gMSAm
JiBAdmFscyA9PSAzKSB7CisgICAgICAgICAgICAkZWktPnskX30gPSBzaGlmdCBAdmFscyBmb3Jl
YWNoIHF3KE9UeXBlIE9QcmVmaXggTWFuZ2xlKTsKKyAgICAgICAgfSBlbHNpZiAoJGNsaW5lID09
IDIgJiYgQHZhbHMgPT0gMykgeworICAgICAgICAgICAgJGVpLT57JF99ID0gc2hpZnQgQHZhbHMg
Zm9yZWFjaCBxdyhDUHJlZml4IENGaW5hbCBDRmluYWxIb3cpOworICAgICAgICAgICAgZGllIGlm
ICRlbnVtc3sgJGVpLT57T1R5cGV9IH07CisgICAgICAgICAgICAkZW51bXN7ICRlaS0+e09UeXBl
fSB9ID0gJGVpOworICAgICAgICAgICAgJGNsaW5lID0gLTE7CisgICAgICAgIH0gZWxzZSB7Cisg
ICAgICAgICAgICBkaWUgIiRfID8iOworICAgICAgICB9CisgICAgfQorfQorCitzdWIgZXhwZWN0
ICgkJCkgeworICAgIHByaW50ZiAiQlVJTERfQlVHX09OKCAlLTMwcyAhPSAlLTEwcyApO1xuIiwg
QF8gb3IgZGllICQhOworfQorCitvcGVuIFNURElOLCAiPCIsICRvIG9yIGRpZSAkITsKK215ICRj
dmFsOworJGVpID0gdW5kZWY7CitteSAkYml0bnVtID0gMDsKK3doaWxlICg8PikgeworICAgIGlm
ICghJGVpKSB7CisgICAgICAgIGlmIChte150eXBlIFxzKyAoXHcrKSBccyogXD0gXHMqICQvfXgg
JiYgJGVudW1zeyQxfSkgeworICAgICAgICAgICAgJGVpID0gJGVudW1zeyQxfTsKKyAgICAgICAg
ICAgICRjdmFsID0gJyc7CisgICAgICAgICAgICAkYml0bnVtID0gMDsKKyAgICAgICAgfQorICAg
IH0gZWxzZSB7CisgICAgICAgIGlmIChte15ccysgXHwgXHMqICRlaS0+e09QcmVmaXh9IChcdysp
IFxzKiR9eCkgeworICAgICAgICAgICAgJGN2YWwgPSAkMTsKKyAgICAgICAgICAgIGlmICgkZWkt
PntNYW5nbGV9IGVxICdsYycpIHsKKyAgICAgICAgICAgICAgICAkY3ZhbCA9IGxjICRjdmFsOwor
ICAgICAgICAgICAgfSBlbHNpZiAoJGVpLT57TWFuZ2xlfSBlcSAnbm9uZScpIHsKKyAgICAgICAg
ICAgIH0gZWxzZSB7CisgICAgICAgICAgICAgICAgZGllOworICAgICAgICAgICAgfQorICAgICAg
ICAgICAgJGN2YWwgPSAkZWktPntDUHJlZml4fS4kY3ZhbDsKKyAgICAgICAgICAgIGV4cGVjdCgk
Y3ZhbCwgIigxdSA8PCAkYml0bnVtKSIpOworICAgICAgICAgICAgJGJpdG51bSsrOworICAgICAg
ICB9IGVsc2lmIChtL15cd3xcey8pIHsKKyAgICAgICAgICAgIGlmICgkZWktPntDRmluYWxIb3d9
IGVxICdtYXgnKSB7CisgICAgICAgICAgICAgICAgZXhwZWN0KCRlaS0+e0NGaW5hbH0sICIoMXUg
PDwgIi4oJGJpdG51bS0xKS4iKSIpOworICAgICAgICAgICAgfSBlbHNpZiAoJGVpLT57Q0ZpbmFs
SG93fSBlcSAnYWxsJykgeworICAgICAgICAgICAgICAgIGV4cGVjdCgkZWktPntDRmluYWx9LCAi
KDF1IDw8ICRiaXRudW0pLTF1Iik7CisgICAgICAgICAgICB9IGVsc2UgeworICAgICAgICAgICAg
ICAgIGRpZSBEdW1wZXIoJGVpKS4iID8iOworICAgICAgICAgICAgfQorICAgICAgICAgICAgJGVp
ID0gdW5kZWY7CisgICAgICAgIH0gZWxzaWYgKCFte1xTfSkgeworICAgICAgICB9IGVsc2Ugewor
ICAgICAgICAgICAgZGllICIkXyA/IjsKKyAgICAgICAgfQorICAgIH0KK30KKworY2xvc2UgU1RE
T1VUIG9yIGRpZSAkITsKZGlmZiAtLWdpdCBhL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybF9z
dHVicy5jIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsX3N0dWJzLmMKaW5kZXggMmUxYjI5
Y2UzMy4uMzUyYTZiZDJkNiAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJs
X3N0dWJzLmMKKysrIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsX3N0dWJzLmMKQEAgLTMy
LDYgKzMyLDcgQEAKIAogI2RlZmluZSBYQ19XQU5UX0NPTVBBVF9NQVBfRk9SRUlHTl9BUEkKICNp
bmNsdWRlIDx4ZW5jdHJsLmg+CisjaW5jbHVkZSA8eGVuLXRvb2xzL2xpYnMuaD4KIAogI2luY2x1
ZGUgIm1tYXBfc3R1YnMuaCIKIApAQCAtMTE5LDYgKzEyMCwzOSBAQCBzdGF0aWMgdm9pZCBkb21h
aW5faGFuZGxlX29mX3V1aWRfc3RyaW5nKHhlbl9kb21haW5faGFuZGxlX3QgaCwKICN1bmRlZiBY
CiB9CiAKKy8qCisgKiBWYXJpb3VzIGZpZWxkcyB3aGljaCBhcmUgYSBiaXRtYXAgaW4gdGhlIEMg
QUJJIGFyZSBjb252ZXJ0ZWQgdG8gbGlzdHMgb2YKKyAqIGludGVnZXJzIGluIHRoZSBPY2FtbCBB
QkkgZm9yIG1vcmUgaWRpb21hdGljIGhhbmRsaW5nLgorICovCitzdGF0aWMgdmFsdWUgY19iaXRt
YXBfdG9fb2NhbWxfbGlzdAorICAgICAgICAgICAgIC8qICEgKi8KKyAgICAgICAgICAgICAvKgor
CSAgICAgICogQWxsIGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gbXVzdCBiZSBpbiBhIGZvcm0gc3Vp
dGFibGUKKwkgICAgICAqIGZvciB4ZW5jdHJsX2FiaV9jaGVjay4gIFRoZSBwYXJzaW5nIHRoZXJl
IGlzIGFkLWhvYy4KKwkgICAgICAqLworICAgICAgICAgICAgICh1bnNpZ25lZCBpbnQgYml0bWFw
KQoreworCUNBTUxwYXJhbTAoKTsKKwlDQU1MbG9jYWwyKGxpc3QsIHRtcCk7CisKKyNpbmNsdWRl
ICJ4ZW5jdHJsX2FiaV9jaGVjay5oIgorCisJbGlzdCA9IHRtcCA9IFZhbF9lbXB0eWxpc3Q7CisK
Kwlmb3IgKCB1bnNpZ25lZCBpbnQgaSA9IDA7IGJpdG1hcDsgaSsrLCBiaXRtYXAgPj49IDEgKQor
CXsKKwkJaWYgKCAhKGJpdG1hcCAmIDEpICkKKwkJCWNvbnRpbnVlOworCisJCXRtcCA9IGNhbWxf
YWxsb2Nfc21hbGwoMiwgVGFnX2NvbnMpOworCQlGaWVsZCh0bXAsIDApID0gVmFsX2ludChpKTsK
KwkJRmllbGQodG1wLCAxKSA9IGxpc3Q7CisJCWxpc3QgPSB0bXA7CisJfQorCisJQ0FNTHJldHVy
bihsaXN0KTsKK30KKwogQ0FNTHByaW0gdmFsdWUgc3R1Yl94Y19kb21haW5fY3JlYXRlKHZhbHVl
IHhjaCwgdmFsdWUgY29uZmlnKQogewogCUNBTUxwYXJhbTIoeGNoLCBjb25maWcpOwpAQCAtMzE1
LDE2ICszNDksMTMgQEAgc3RhdGljIHZhbHVlIGFsbG9jX2RvbWFpbmluZm8oeGNfZG9tYWluaW5m
b190ICogaW5mbykKIAlTdG9yZV9maWVsZChyZXN1bHQsIDE1LCB0bXApOwogCiAjaWYgZGVmaW5l
ZChfX2kzODZfXykgfHwgZGVmaW5lZChfX3g4Nl82NF9fKQotCS8qIGVtdWxhdGlvbl9mbGFnczog
eDg2X2FyY2hfZW11bGF0aW9uX2ZsYWdzIGxpc3Q7ICovCi0JdG1wID0gZW11bF9saXN0ID0gVmFs
X2VtcHR5bGlzdDsKLQlmb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykgewotCQlpZiAoKGluZm8tPmFy
Y2hfY29uZmlnLmVtdWxhdGlvbl9mbGFncyA+PiBpKSAmIDEpIHsKLQkJCXRtcCA9IGNhbWxfYWxs
b2Nfc21hbGwoMiwgVGFnX2NvbnMpOwotCQkJRmllbGQodG1wLCAwKSA9IFZhbF9pbnQoaSk7Ci0J
CQlGaWVsZCh0bXAsIDEpID0gZW11bF9saXN0OwotCQkJZW11bF9saXN0ID0gdG1wOwotCQl9Ci0J
fQorCS8qCisJICogZW11bGF0aW9uX2ZsYWdzOiB4ODZfYXJjaF9lbXVsYXRpb25fZmxhZ3MgbGlz
dDsKKwkgKi8KKwllbXVsX2xpc3QgPSBjX2JpdG1hcF90b19vY2FtbF9saXN0CisJCS8qICEgeDg2
X2FyY2hfZW11bGF0aW9uX2ZsYWdzIFg4Nl9FTVVfIG5vbmUgKi8KKwkJLyogISBYRU5fWDg2X0VN
VV8gWEVOX1g4Nl9FTVVfQUxMIGFsbCAqLworCQkoaW5mby0+YXJjaF9jb25maWcuZW11bGF0aW9u
X2ZsYWdzKTsKIAogCS8qIHhlbl94ODZfYXJjaF9kb21haW5jb25maWcgKi8KIAl4ODZfYXJjaF9j
b25maWcgPSBjYW1sX2FsbG9jX3R1cGxlKDEpOwpAQCAtNjM1LDcgKzY2Niw3IEBAIENBTUxwcmlt
IHZhbHVlIHN0dWJfeGNfc2VuZF9kZWJ1Z19rZXlzKHZhbHVlIHhjaCwgdmFsdWUga2V5cykKIENB
TUxwcmltIHZhbHVlIHN0dWJfeGNfcGh5c2luZm8odmFsdWUgeGNoKQogewogCUNBTUxwYXJhbTEo
eGNoKTsKLQlDQU1MbG9jYWwzKHBoeXNpbmZvLCBjYXBfbGlzdCwgdG1wKTsKKwlDQU1MbG9jYWwy
KHBoeXNpbmZvLCBjYXBfbGlzdCk7CiAJeGNfcGh5c2luZm9fdCBjX3BoeXNpbmZvOwogCWludCBy
OwogCkBAIC02NDYsMTUgKzY3NywxMyBAQCBDQU1McHJpbSB2YWx1ZSBzdHViX3hjX3BoeXNpbmZv
KHZhbHVlIHhjaCkKIAlpZiAocikKIAkJZmFpbHdpdGhfeGMoX0goeGNoKSk7CiAKLQl0bXAgPSBj
YXBfbGlzdCA9IFZhbF9lbXB0eWxpc3Q7Ci0JZm9yIChyID0gMDsgciA8IDI7IHIrKykgewotCQlp
ZiAoKGNfcGh5c2luZm8uY2FwYWJpbGl0aWVzID4+IHIpICYgMSkgewotCQkJdG1wID0gY2FtbF9h
bGxvY19zbWFsbCgyLCBUYWdfY29ucyk7Ci0JCQlGaWVsZCh0bXAsIDApID0gVmFsX2ludChyKTsK
LQkJCUZpZWxkKHRtcCwgMSkgPSBjYXBfbGlzdDsKLQkJCWNhcF9saXN0ID0gdG1wOwotCQl9Ci0J
fQorCS8qCisJICogY2FwYWJpbGl0aWVzOiBwaHlzaW5mb19jYXBfZmxhZyBsaXN0OworCSAqLwor
CWNhcF9saXN0ID0gY19iaXRtYXBfdG9fb2NhbWxfbGlzdAorCQkvKiAhIHBoeXNpbmZvX2NhcF9m
bGFnIENBUF8gbGMgKi8KKwkJLyogISBYRU5fU1lTQ1RMX1BIWVNDQVBfIFhFTl9TWVNDVExfUEhZ
U0NBUF9NQVggbWF4ICovCisJCShjX3BoeXNpbmZvLmNhcGFiaWxpdGllcyk7CiAKIAlwaHlzaW5m
byA9IGNhbWxfYWxsb2NfdHVwbGUoMTApOwogCVN0b3JlX2ZpZWxkKHBoeXNpbmZvLCAwLCBWYWxf
aW50KGNfcGh5c2luZm8udGhyZWFkc19wZXJfY29yZSkpOwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1
ZGUvcHVibGljL3N5c2N0bC5oIGIveGVuL2luY2x1ZGUvcHVibGljL3N5c2N0bC5oCmluZGV4IDM2
YjNmOGM0MjkuLjU0MDFmOWMyZmUgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNj
dGwuaAorKysgYi94ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3RsLmgKQEAgLTkwLDYgKzkwLDEwIEBA
IHN0cnVjdCB4ZW5fc3lzY3RsX3RidWZfb3AgewogIC8qIFRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBk
aXJlY3QgYWNjZXNzIHRvIEkvTyBkZXZpY2VzIHdpdGggSU9NTVUuICovCiAjZGVmaW5lIF9YRU5f
U1lTQ1RMX1BIWVNDQVBfZGlyZWN0aW8gICAgIDIKICNkZWZpbmUgWEVOX1NZU0NUTF9QSFlTQ0FQ
X2RpcmVjdGlvICAoMXU8PF9YRU5fU1lTQ1RMX1BIWVNDQVBfZGlyZWN0aW8pCisKKy8qIE1heCBY
RU5fU1lTQ1RMX1BIWVNDQVBfKiBjb25zdGFudC4gIFVzZWQgZm9yIEFCSSBjaGVja2luZy4gKi8K
KyNkZWZpbmUgWEVOX1NZU0NUTF9QSFlTQ0FQX01BWCBYRU5fU1lTQ1RMX1BIWVNDQVBfZGlyZWN0
aW8KKwogc3RydWN0IHhlbl9zeXNjdGxfcGh5c2luZm8gewogICAgIHVpbnQzMl90IHRocmVhZHNf
cGVyX2NvcmU7CiAgICAgdWludDMyX3QgY29yZXNfcGVyX3NvY2tldDsKLS0gCjIuMTEuMAoKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBt
YWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMu
eGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

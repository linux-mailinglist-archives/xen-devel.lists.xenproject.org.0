Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 958EF5BA8D
	for <lists+xen-devel@lfdr.de>; Mon,  1 Jul 2019 13:25:58 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hhuOR-0001bP-L8; Mon, 01 Jul 2019 11:22:43 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=YZ94=U6=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1hhuOP-0001b8-JA
 for xen-devel@lists.xenproject.org; Mon, 01 Jul 2019 11:22:41 +0000
X-Inumbo-ID: 87da00f6-9bf2-11e9-b8d1-3780b6f55a2b
Received: from m4a0040g.houston.softwaregrp.com (unknown [15.124.2.86])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 87da00f6-9bf2-11e9-b8d1-3780b6f55a2b;
 Mon, 01 Jul 2019 11:22:38 +0000 (UTC)
Received: FROM m4a0040g.houston.softwaregrp.com (15.120.17.146) BY
 m4a0040g.houston.softwaregrp.com WITH ESMTP; 
 Mon,  1 Jul 2019 11:22:19 +0000
Received: from M4W0334.microfocus.com (2002:f78:1192::f78:1192) by
 M4W0334.microfocus.com (2002:f78:1192::f78:1192) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10; Mon, 1 Jul 2019 11:20:34 +0000
Received: from NAM04-CO1-obe.outbound.protection.outlook.com (15.124.8.10) by
 M4W0334.microfocus.com (15.120.17.146) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10 via Frontend Transport; Mon, 1 Jul 2019 11:20:34 +0000
Received: from BY5PR18MB3394.namprd18.prod.outlook.com (10.255.139.95) by
 BY5PR18MB3363.namprd18.prod.outlook.com (10.255.139.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2032.18; Mon, 1 Jul 2019 11:20:33 +0000
Received: from BY5PR18MB3394.namprd18.prod.outlook.com
 ([fe80::2005:4b02:1d60:d1bc]) by BY5PR18MB3394.namprd18.prod.outlook.com
 ([fe80::2005:4b02:1d60:d1bc%3]) with mapi id 15.20.2008.020; Mon, 1 Jul 2019
 11:20:33 +0000
From: Jan Beulich <JBeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH v9 08/23] x86emul: support AVX512PF insns
Thread-Index: AQHVL/7/6QHyQ/r2N0GJ2x6uY/K0IA==
Date: Mon, 1 Jul 2019 11:20:33 +0000
Message-ID: <4365e23d-c2aa-dc10-46d0-df38d9c36322@suse.com>
References: <f69ca82f-e2db-e85e-ff98-2060a8dc28a5@suse.com>
In-Reply-To: <f69ca82f-e2db-e85e-ff98-2060a8dc28a5@suse.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: LO2P265CA0283.GBRP265.PROD.OUTLOOK.COM
 (2603:10a6:600:a1::31) To BY5PR18MB3394.namprd18.prod.outlook.com
 (2603:10b6:a03:194::31)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=JBeulich@suse.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [87.234.252.170]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: dd08e0ee-8f0e-4500-ae69-08d6fe1621ce
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328)(7193020);
 SRVR:BY5PR18MB3363; 
x-ms-traffictypediagnostic: BY5PR18MB3363:
x-microsoft-antispam-prvs: <BY5PR18MB3363E345CE9E8DD4797040C9B3F90@BY5PR18MB3363.namprd18.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:530;
x-forefront-prvs: 00851CA28B
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(4636009)(396003)(346002)(39860400002)(376002)(136003)(366004)(199004)(189003)(14444005)(25786009)(2616005)(5640700003)(6486002)(256004)(66066001)(6436002)(486006)(36756003)(72206003)(11346002)(476003)(446003)(2501003)(3846002)(6116002)(66946007)(386003)(76176011)(52116002)(81156014)(8676002)(14454004)(8936002)(71190400001)(80792005)(2906002)(81166006)(305945005)(99286004)(31696002)(7736002)(102836004)(26005)(186003)(6506007)(86362001)(54906003)(478600001)(4326008)(316002)(66476007)(5660300002)(64756008)(66446008)(68736007)(73956011)(6512007)(71200400001)(31686004)(6916009)(53936002)(66556008)(2351001)(473944003)(414714003);
 DIR:OUT; SFP:1102; SCL:1; SRVR:BY5PR18MB3363;
 H:BY5PR18MB3394.namprd18.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: suse.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: imAzYaiczo4FtKMNLwpzIgAINwNlc9GV4xQySn7h0aobs7JfcBYkxRaWzOc9qi2Etz9dxWNUa+boZdKLuZbZntl8gBjUjmj7ORaLKXoY+fB2wO6ifa0CWgd2ua0PN6vayKTAyUVNRT4Q0KodbS3GNabE0S2vA5MuyD51G/hZyImd9fn19IDjoO1JzDqHqZU5fAs4c7idfEnvsVCZUfqkomaaUrYbAyMxY0deSo4oDiAiACLarcwXICr4yaEgkd/OEVll5jY2tiaV42tQ9XLNKtxWjZeRQJWSV3C1P2RYftOgAG11cvi938czMCEUCr5hgoCriJ6O/yNql7hVt9OEz64ArG6oRrFruwJVuJG/C7RaFEaC6glM9uc9OBmskqEpBtjWfnX1nju9CLJNwe7A28fecMAzC/OOdi3xdYKSghk=
Content-ID: <5B04E33FEF4C8F4EA75948ECD75E01F4@namprd18.prod.outlook.com>
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-Network-Message-Id: dd08e0ee-8f0e-4500-ae69-08d6fe1621ce
X-MS-Exchange-CrossTenant-originalarrivaltime: 01 Jul 2019 11:20:33.1741 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 856b813c-16e5-49a5-85ec-6f081e13b527
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: JBeulich@suse.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BY5PR18MB3363
X-OriginatorOrg: suse.com
Subject: [Xen-devel] [PATCH v9 08/23] x86emul: support AVX512PF insns
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 RogerPau Monne <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

U29tZSBhZGp1c3RtZW50cyBhcmUgbmVjZXNzYXJ5IHRvIHRoZSBFVkVYIERpc3A4IHNjYWxpbmcg
dGVzdCBjb2RlIHRvDQphY2NvdW50IGZvciB0aGUgemVybyBieXRlIHJlYWRzL3dyaXRlcywgd2hp
Y2ggZ2V0IGlzc3VlZCBmb3IgdGhlIHRlc3QNCmhhcm5lc3Mgb25seS4NCg0KU2lnbmVkLW9mZi1i
eTogSmFuIEJldWxpY2ggPGpiZXVsaWNoQHN1c2UuY29tPg0KLS0tDQp2OTogU3VwcHJlc3MgZ2Vu
ZXJhbCByZWdpc3RlciB1cGRhdGUgdXBvbiBmYWlsdXJlcy4gUmUtYmFzZS4NCnY4OiAjR1AvI1NT
IGRvbid0IGFyaXNlIGhlcmUuIEFkZCBwcmV2aW91c2x5IG1pc3NlZCBjaGFuZ2UgdG8NCiAgICAg
ZW11bF90ZXN0X2luaXQoKS4NCnY3OiBSZS1iYXNlLg0KdjY6IE5ldy4NCg0KLS0tIGEvdG9vbHMv
dGVzdHMveDg2X2VtdWxhdG9yL2V2ZXgtZGlzcDguYw0KKysrIGIvdG9vbHMvdGVzdHMveDg2X2Vt
dWxhdG9yL2V2ZXgtZGlzcDguYw0KQEAgLTUyMCw2ICs1MjAsMTcgQEAgc3RhdGljIGNvbnN0IHN0
cnVjdCB0ZXN0IGF2eDUxMmVyXzUxMltdDQogICAgICBJTlNOKHJzcXJ0MjgsIDY2LCAwZjM4LCBj
ZCwgZWwsIHNkLCBlbCksDQogIH07DQogIA0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgdGVzdCBhdng1
MTJwZl81MTJbXSA9IHsNCisgICAgSU5TTlgoZ2F0aGVycGYwZCwgIDY2LCAwZjM4LCBjNiwgMSwg
dmwsIHNkLCBlbCksDQorICAgIElOU05YKGdhdGhlcnBmMHEsICA2NiwgMGYzOCwgYzcsIDEsIHZs
LCBzZCwgZWwpLA0KKyAgICBJTlNOWChnYXRoZXJwZjFkLCAgNjYsIDBmMzgsIGM2LCAyLCB2bCwg
c2QsIGVsKSwNCisgICAgSU5TTlgoZ2F0aGVycGYxcSwgIDY2LCAwZjM4LCBjNywgMiwgdmwsIHNk
LCBlbCksDQorICAgIElOU05YKHNjYXR0ZXJwZjBkLCA2NiwgMGYzOCwgYzYsIDUsIHZsLCBzZCwg
ZWwpLA0KKyAgICBJTlNOWChzY2F0dGVycGYwcSwgNjYsIDBmMzgsIGM3LCA1LCB2bCwgc2QsIGVs
KSwNCisgICAgSU5TTlgoc2NhdHRlcnBmMWQsIDY2LCAwZjM4LCBjNiwgNiwgdmwsIHNkLCBlbCks
DQorICAgIElOU05YKHNjYXR0ZXJwZjFxLCA2NiwgMGYzOCwgYzcsIDYsIHZsLCBzZCwgZWwpLA0K
K307DQorDQogIHN0YXRpYyBjb25zdCBzdHJ1Y3QgdGVzdCBhdng1MTJfdmJtaV9hbGxbXSA9IHsN
CiAgICAgIElOU04ocGVybWIsICAgICAgICAgNjYsIDBmMzgsIDhkLCB2bCwgYiwgdmwpLA0KICAg
ICAgSU5TTihwZXJtaTJiLCAgICAgICA2NiwgMGYzOCwgNzUsIHZsLCBiLCB2bCksDQpAQCAtNTgw
LDcgKzU5MSw3IEBAIHN0YXRpYyBib29sIHJlY29yZF9hY2Nlc3MoZW51bSB4ODZfc2VnbWUNCiAg
c3RhdGljIGludCByZWFkKGVudW0geDg2X3NlZ21lbnQgc2VnLCB1bnNpZ25lZCBsb25nIG9mZnNl
dCwgdm9pZCAqcF9kYXRhLA0KICAgICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IGJ5dGVzLCBz
dHJ1Y3QgeDg2X2VtdWxhdGVfY3R4dCAqY3R4dCkNCiAgew0KLSAgICBpZiAoICFyZWNvcmRfYWNj
ZXNzKHNlZywgb2Zmc2V0LCBieXRlcykgKQ0KKyAgICBpZiAoICFyZWNvcmRfYWNjZXNzKHNlZywg
b2Zmc2V0LCBieXRlcyArICFieXRlcykgKQ0KICAgICAgICAgIHJldHVybiBYODZFTVVMX1VOSEFO
RExFQUJMRTsNCiAgICAgIG1lbXNldChwX2RhdGEsIDAsIGJ5dGVzKTsNCiAgICAgIHJldHVybiBY
ODZFTVVMX09LQVk7DQpAQCAtNTg5LDcgKzYwMCw3IEBAIHN0YXRpYyBpbnQgcmVhZChlbnVtIHg4
Nl9zZWdtZW50IHNlZywgdW4NCiAgc3RhdGljIGludCB3cml0ZShlbnVtIHg4Nl9zZWdtZW50IHNl
ZywgdW5zaWduZWQgbG9uZyBvZmZzZXQsIHZvaWQgKnBfZGF0YSwNCiAgICAgICAgICAgICAgICAg
ICB1bnNpZ25lZCBpbnQgYnl0ZXMsIHN0cnVjdCB4ODZfZW11bGF0ZV9jdHh0ICpjdHh0KQ0KICB7
DQotICAgIGlmICggIXJlY29yZF9hY2Nlc3Moc2VnLCBvZmZzZXQsIGJ5dGVzKSApDQorICAgIGlm
ICggIXJlY29yZF9hY2Nlc3Moc2VnLCBvZmZzZXQsIGJ5dGVzICsgIWJ5dGVzKSApDQogICAgICAg
ICAgcmV0dXJuIFg4NkVNVUxfVU5IQU5ETEVBQkxFOw0KICAgICAgcmV0dXJuIFg4NkVNVUxfT0tB
WTsNCiAgfQ0KQEAgLTU5Nyw3ICs2MDgsNyBAQCBzdGF0aWMgaW50IHdyaXRlKGVudW0geDg2X3Nl
Z21lbnQgc2VnLCB1DQogIHN0YXRpYyB2b2lkIHRlc3Rfb25lKGNvbnN0IHN0cnVjdCB0ZXN0ICp0
ZXN0LCBlbnVtIHZsIHZsLA0KICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBjaGFyICpp
bnN0ciwgc3RydWN0IHg4Nl9lbXVsYXRlX2N0eHQgKmN0eHQpDQogIHsNCi0gICAgdW5zaWduZWQg
aW50IHZzeiwgZXN6LCBpOw0KKyAgICB1bnNpZ25lZCBpbnQgdnN6LCBlc3osIGksIG47DQogICAg
ICBpbnQgcmM7DQogICAgICBib29sIHNnID0gc3Ryc3RyKHRlc3QtPm1uZW1vbmljLCAiZ2F0aGVy
IikgfHwNCiAgICAgICAgICAgICAgICBzdHJzdHIodGVzdC0+bW5lbW9uaWMsICJzY2F0dGVyIik7
DQpAQCAtNzI1LDEwICs3MzYsMjAgQEAgc3RhdGljIHZvaWQgdGVzdF9vbmUoY29uc3Qgc3RydWN0
IHRlc3QgKg0KICAgICAgZm9yICggaSA9IDA7IGkgPCAodGVzdC0+c2NhbGUgPT0gU0NfdmwgPyB2
c3ogOiBlc3opOyArK2kgKQ0KICAgICAgICAgICBpZiAoIGFjY2Vzc2VkW2ldICkNCiAgICAgICAg
ICAgICAgIGdvdG8gZmFpbDsNCi0gICAgZm9yICggOyBpIDwgKHRlc3QtPnNjYWxlID09IFNDX3Zs
ID8gdnN6IDogZXN6KSArIChzZyA/IGVzeiA6IHZzeik7ICsraSApDQorDQorICAgIG4gPSB0ZXN0
LT5zY2FsZSA9PSBTQ192bCA/IHZzeiA6IGVzejsNCisgICAgaWYgKCAhc2cgKQ0KKyAgICAgICAg
biArPSB2c3o7DQorICAgIGVsc2UgaWYgKCAhc3Ryc3RyKHRlc3QtPm1uZW1vbmljLCAicGYiKSAp
DQorICAgICAgICBuICs9IGVzejsNCisgICAgZWxzZQ0KKyAgICAgICAgKytuOw0KKw0KKyAgICBm
b3IgKCA7IGkgPCBuOyArK2kgKQ0KICAgICAgICAgICBpZiAoIGFjY2Vzc2VkW2ldICE9IChzZyA/
ICh2c3ogLyBlc3opID4+ICh0ZXN0LT5vcGMgJiAxICYgIWV2ZXgudykNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgOiAxKSApDQogICAgICAgICAgICAgICBnb3RvIGZhaWw7DQor
DQogICAgICBmb3IgKCA7IGkgPCBBUlJBWV9TSVpFKGFjY2Vzc2VkKTsgKytpICkNCiAgICAgICAg
ICAgaWYgKCBhY2Nlc3NlZFtpXSApDQogICAgICAgICAgICAgICBnb3RvIGZhaWw7DQpAQCAtODg3
LDYgKzkwOCw4IEBAIHZvaWQgZXZleF9kaXNwOF90ZXN0KHZvaWQgKmluc3RyLCBzdHJ1Y3QNCiAg
ICAgIFJVTihhdng1MTJkcSwgbm8xMjgpOw0KICAgICAgUlVOKGF2eDUxMmRxLCA1MTIpOw0KICAg
ICAgUlVOKGF2eDUxMmVyLCA1MTIpOw0KKyNkZWZpbmUgY3B1X2hhc19hdng1MTJwZiBjcHVfaGFz
X2F2eDUxMmYNCisgICAgUlVOKGF2eDUxMnBmLCA1MTIpOw0KICAgICAgUlVOKGF2eDUxMl92Ym1p
LCBhbGwpOw0KICAgICAgUlVOKGF2eDUxMl92Ym1pMiwgYWxsKTsNCiAgfQ0KLS0tIGEvdG9vbHMv
dGVzdHMveDg2X2VtdWxhdG9yL3g4Ni1lbXVsYXRlLmMNCisrKyBiL3Rvb2xzL3Rlc3RzL3g4Nl9l
bXVsYXRvci94ODYtZW11bGF0ZS5jDQpAQCAtNzMsNiArNzMsNyBAQCBib29sIGVtdWxfdGVzdF9p
bml0KHZvaWQpDQogICAgICAgKi8NCiAgICAgIGNwLmJhc2ljLm1vdmJlID0gdHJ1ZTsNCiAgICAg
IGNwLmZlYXQuYWR4ID0gdHJ1ZTsNCisgICAgY3AuZmVhdC5hdng1MTJwZiA9IGNwLmZlYXQuYXZ4
NTEyZjsNCiAgICAgIGNwLmZlYXQucmRwaWQgPSB0cnVlOw0KICAgICAgY3AuZXh0ZC5jbHplcm8g
PSB0cnVlOw0KICANCkBAIC0xMzUsMTIgKzEzNiwxNCBAQCBpbnQgZW11bF90ZXN0X2NwdWlkKA0K
ICAgICAgICAgIHJlcy0+YyB8PSAxVSA8PCAyMjsNCiAgDQogICAgICAvKg0KLSAgICAgKiBUaGUg
ZW11bGF0b3IgZG9lc24ndCBpdHNlbGYgdXNlIEFEQ1gvQURPWC9SRFBJRCwgc28gd2UgY2FuIGFs
d2F5cyBydW4NCi0gICAgICogdGhlIHJlc3BlY3RpdmUgdGVzdHMuDQorICAgICAqIFRoZSBlbXVs
YXRvciBkb2Vzbid0IGl0c2VsZiB1c2UgQURDWC9BRE9YL1JEUElEIG5vciB0aGUgUy9HIHByZWZl
dGNoDQorICAgICAqIGluc25zLCBzbyB3ZSBjYW4gYWx3YXlzIHJ1biB0aGUgcmVzcGVjdGl2ZSB0
ZXN0cy4NCiAgICAgICAqLw0KICAgICAgaWYgKCBsZWFmID09IDcgJiYgc3VibGVhZiA9PSAwICkN
CiAgICAgIHsNCiAgICAgICAgICByZXMtPmIgfD0gMVUgPDwgMTk7DQorICAgICAgICBpZiAoIHJl
cy0+YiAmICgxVSA8PCAxNikgKQ0KKyAgICAgICAgICAgIHJlcy0+YiB8PSAxVSA8PCAyNjsNCiAg
ICAgICAgICByZXMtPmMgfD0gMVUgPDwgMjI7DQogICAgICB9DQogIA0KLS0tIGEveGVuL2FyY2gv
eDg2L3g4Nl9lbXVsYXRlL3g4Nl9lbXVsYXRlLmMNCisrKyBiL3hlbi9hcmNoL3g4Ni94ODZfZW11
bGF0ZS94ODZfZW11bGF0ZS5jDQpAQCAtNTI1LDYgKzUyNSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgZXh0MGYzOF90YWJsZSB7DQogICAgICBbMHhiZF0gPSB7IC5zaW1kX3NpemUgPSBzaW1kX3Nj
YWxhcl92ZXh3LCAuZDhzID0gZDhzX2RxIH0sDQogICAgICBbMHhiZV0gPSB7IC5zaW1kX3NpemUg
PSBzaW1kX3BhY2tlZF9mcCwgLmQ4cyA9IGQ4c192bCB9LA0KICAgICAgWzB4YmZdID0geyAuc2lt
ZF9zaXplID0gc2ltZF9zY2FsYXJfdmV4dywgLmQ4cyA9IGQ4c19kcSB9LA0KKyAgICBbMHhjNiAu
Li4gMHhjN10gPSB7IC5zaW1kX3NpemUgPSBzaW1kX290aGVyLCAudnNpYiA9IDEsIC5kOHMgPSBk
OHNfZHEgfSwNCiAgICAgIFsweGM4XSA9IHsgLnNpbWRfc2l6ZSA9IHNpbWRfcGFja2VkX2ZwLCAu
dHdvX29wID0gMSwgLmQ4cyA9IGQ4c192bCB9LA0KICAgICAgWzB4YzldID0geyAuc2ltZF9zaXpl
ID0gc2ltZF9vdGhlciB9LA0KICAgICAgWzB4Y2FdID0geyAuc2ltZF9zaXplID0gc2ltZF9wYWNr
ZWRfZnAsIC50d29fb3AgPSAxLCAuZDhzID0gZDhzX3ZsIH0sDQpAQCAtMTg3MSw2ICsxODcyLDcg
QEAgaW5fcHJvdG1vZGUoDQogICNkZWZpbmUgdmNwdV9oYXNfc21hcCgpICAgICAgICAoY3R4dC0+
Y3B1aWQtPmZlYXQuc21hcCkNCiAgI2RlZmluZSB2Y3B1X2hhc19jbGZsdXNob3B0KCkgIChjdHh0
LT5jcHVpZC0+ZmVhdC5jbGZsdXNob3B0KQ0KICAjZGVmaW5lIHZjcHVfaGFzX2Nsd2IoKSAgICAg
ICAgKGN0eHQtPmNwdWlkLT5mZWF0LmNsd2IpDQorI2RlZmluZSB2Y3B1X2hhc19hdng1MTJwZigp
ICAgIChjdHh0LT5jcHVpZC0+ZmVhdC5hdng1MTJwZikNCiAgI2RlZmluZSB2Y3B1X2hhc19hdng1
MTJlcigpICAgIChjdHh0LT5jcHVpZC0+ZmVhdC5hdng1MTJlcikNCiAgI2RlZmluZSB2Y3B1X2hh
c19zaGEoKSAgICAgICAgIChjdHh0LT5jcHVpZC0+ZmVhdC5zaGEpDQogICNkZWZpbmUgdmNwdV9o
YXNfYXZ4NTEyYncoKSAgICAoY3R4dC0+Y3B1aWQtPmZlYXQuYXZ4NTEyYncpDQpAQCAtOTQxMCw2
ICs5NDEyLDk3IEBAIHg4Nl9lbXVsYXRlKA0KICANCiAgICAgICAgICBzdGF0ZS0+c2ltZF9zaXpl
ID0gc2ltZF9ub25lOw0KICAgICAgICAgIGJyZWFrOw0KKyAgICB9DQorDQorICAgIGNhc2UgWDg2
RU1VTF9PUENfRVZFWF82NigweDBmMzgsIDB4YzYpOg0KKyAgICBjYXNlIFg4NkVNVUxfT1BDX0VW
RVhfNjYoMHgwZjM4LCAweGM3KToNCisgICAgew0KKyNpZm5kZWYgX19YRU5fXw0KKyAgICAgICAg
dHlwZW9mKGV2ZXgpICpwZXZleDsNCisgICAgICAgIHVuaW9uIHsNCisgICAgICAgICAgICBpbnQz
Ml90IGR3WzE2XTsNCisgICAgICAgICAgICBpbnQ2NF90IHF3WzhdOw0KKyAgICAgICAgfSBpbmRl
eDsNCisjZW5kaWYNCisNCisgICAgICAgIEFTU0VSVChlYS50eXBlID09IE9QX01FTSk7DQorICAg
ICAgICBnZW5lcmF0ZV9leGNlcHRpb25faWYoKCFjcHVfaGFzX2F2eDUxMmYgfHwgIWV2ZXgub3Bt
c2sgfHwgZXZleC5icnMgfHwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZleC56
IHx8IGV2ZXgucmVnICE9IDB4ZiB8fCBldmV4LmxyICE9IDIpLA0KKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIEVYQ19VRCk7DQorDQorICAgICAgICBzd2l0Y2ggKCBtb2RybV9yZWcgJiA3
ICkNCisgICAgICAgIHsNCisgICAgICAgIGNhc2UgMTogLyogdmdhdGhlcnBmMHtkLHF9cHtzLGR9
IG1lbXtrfSAqLw0KKyAgICAgICAgY2FzZSAyOiAvKiB2Z2F0aGVycGYxe2QscX1we3MsZH0gbWVt
e2t9ICovDQorICAgICAgICBjYXNlIDU6IC8qIHZzY2F0dGVycGYwe2QscX1we3MsZH0gbWVte2t9
ICovDQorICAgICAgICBjYXNlIDY6IC8qIHZzY2F0dGVycGYxe2QscX1we3MsZH0gbWVte2t9ICov
DQorICAgICAgICAgICAgdmNwdV9tdXN0X2hhdmUoYXZ4NTEycGYpOw0KKyAgICAgICAgICAgIGJy
ZWFrOw0KKyAgICAgICAgZGVmYXVsdDoNCisgICAgICAgICAgICBnZW5lcmF0ZV9leGNlcHRpb24o
RVhDX1VEKTsNCisgICAgICAgIH0NCisNCisgICAgICAgIGdldF9mcHUoWDg2RU1VTF9GUFVfem1t
KTsNCisNCisjaWZuZGVmIF9fWEVOX18NCisgICAgICAgIC8qDQorICAgICAgICAgKiBGb3IgdGhl
IHRlc3QgaGFybmVzcyBwZXJmb3JtIHplcm8gYnl0ZSBtZW1vcnkgYWNjZXNzZXMsIHN1Y2ggdGhh
dA0KKyAgICAgICAgICogaW4gcGFydGljdWxhciBjb3JyZWN0IERpc3A4IHNjYWxpbmcgY2FuIGJl
IHZlcmlmaWVkLg0KKyAgICAgICAgICovDQorICAgICAgICBmYWlsX2lmKChtb2RybV9yZWcgJiA0
KSAmJiAhb3BzLT53cml0ZSk7DQorDQorICAgICAgICAvKiBSZWFkIGluZGV4IHJlZ2lzdGVyLiAq
Lw0KKyAgICAgICAgb3BjID0gaW5pdF9ldmV4KHN0dWIpOw0KKyAgICAgICAgcGV2ZXggPSBjb3B5
X0VWRVgob3BjLCBldmV4KTsNCisgICAgICAgIHBldmV4LT5vcGN4ID0gdmV4XzBmOw0KKyAgICAg
ICAgLyogdm1vdmRxdXszMiw2NH0gKi8NCisgICAgICAgIG9wY1swXSA9IDB4N2Y7DQorICAgICAg
ICBwZXZleC0+cGZ4ID0gdmV4X2YzOw0KKyAgICAgICAgcGV2ZXgtPncgPSBiICYgMTsNCisgICAg
ICAgIC8qIFVzZSAoJXJheCkgYXMgZGVzdGluYXRpb24gYW5kIHNpYl9pbmRleCBhcyBzb3VyY2Uu
ICovDQorICAgICAgICBwZXZleC0+YiA9IDE7DQorICAgICAgICBvcGNbMV0gPSAoc3RhdGUtPnNp
Yl9pbmRleCAmIDcpIDw8IDM7DQorICAgICAgICBwZXZleC0+ciA9ICFtb2RlXzY0Yml0KCkgfHwg
IShzdGF0ZS0+c2liX2luZGV4ICYgMHgwOCk7DQorICAgICAgICBwZXZleC0+UiA9ICFtb2RlXzY0
Yml0KCkgfHwgIShzdGF0ZS0+c2liX2luZGV4ICYgMHgxMCk7DQorICAgICAgICBwZXZleC0+Ulgg
PSAxOw0KKyAgICAgICAgb3BjWzJdID0gMHhjMzsNCisNCisgICAgICAgIGludm9rZV9zdHViKCIi
LCAiIiwgIj1tIiAoaW5kZXgpIDogImEiICgmaW5kZXgpKTsNCisgICAgICAgIHB1dF9zdHViKHN0
dWIpOw0KKw0KKyAgICAgICAgLyogQ2xlYXIgdW50b3VjaGVkIHBhcnRzIG9mIHRoZSBtYXNrIHZh
bHVlLiAqLw0KKyAgICAgICAgbiA9IDEgPDwgKDQgLSAoKGIgJiAxKSB8IGV2ZXgudykpOw0KKyAg
ICAgICAgb3BfbWFzayAmPSAoMSA8PCBuKSAtIDE7DQorDQorICAgICAgICBmb3IgKCBpID0gMDsg
cmMgPT0gWDg2RU1VTF9PS0FZICYmIG9wX21hc2s7ICsraSApDQorICAgICAgICB7DQorICAgICAg
ICAgICAgc2lnbmVkIGxvbmcgaWR4ID0gYiAmIDEgPyBpbmRleC5xd1tpXSA6IGluZGV4LmR3W2ld
Ow0KKw0KKyAgICAgICAgICAgIGlmICggIShvcF9tYXNrICYgKDEgPDwgaSkpICkNCisgICAgICAg
ICAgICAgICAgY29udGludWU7DQorDQorICAgICAgICAgICAgcmMgPSAobW9kcm1fcmVnICYgNA0K
KyAgICAgICAgICAgICAgICAgID8gb3BzLT53cml0ZQ0KKyAgICAgICAgICAgICAgICAgIDogb3Bz
LT5yZWFkKShlYS5tZW0uc2VnLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVu
Y2F0ZV9lYShlYS5tZW0ub2ZmICsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgKGlkeCA8PCBzdGF0ZS0+c2liX3NjYWxlKSksDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIE5VTEwsIDAsIGN0eHQpOw0KKyAgICAgICAgICAgIGlmICggcmMgPT0gWDg2
RU1VTF9FWENFUFRJT04gKQ0KKyAgICAgICAgICAgIHsNCisgICAgICAgICAgICAgICAgLyogU3F1
YXNoIG1lbW9yeSBhY2Nlc3MgcmVsYXRlZCBleGNlcHRpb25zLiAqLw0KKyAgICAgICAgICAgICAg
ICB4ODZfZW11bF9yZXNldF9ldmVudChjdHh0KTsNCisgICAgICAgICAgICAgICAgcmMgPSBYODZF
TVVMX09LQVk7DQorICAgICAgICAgICAgfQ0KKw0KKyAgICAgICAgICAgIG9wX21hc2sgJj0gfigx
IDw8IGkpOw0KKyAgICAgICAgfQ0KKw0KKyAgICAgICAgaWYgKCByYyAhPSBYODZFTVVMX09LQVkg
KQ0KKyAgICAgICAgICAgIGdvdG8gZG9uZTsNCisjZW5kaWYNCisNCisgICAgICAgIHN0YXRlLT5z
aW1kX3NpemUgPSBzaW1kX25vbmU7DQorICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgDQogICAg
ICBjYXNlIFg4NkVNVUxfT1BDKDB4MGYzOCwgMHhjOCk6ICAgICAvKiBzaGExbmV4dGUgeG1tL20x
MjgseG1tICovDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3Jn
Cmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

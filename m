Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 4FC9CD04E6
	for <lists+xen-devel@lfdr.de>; Wed,  9 Oct 2019 02:50:36 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iI09X-0008If-01; Wed, 09 Oct 2019 00:48:30 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=RT5Q=YC=invisiblethingslab.com=marmarek@srs-us1.protection.inumbo.net>)
 id 1iI09V-0008IO-Fb
 for xen-devel@lists.xenproject.org; Wed, 09 Oct 2019 00:48:29 +0000
X-Inumbo-ID: 8178681c-ea2e-11e9-97df-12813bfff9fa
Received: from new4-smtp.messagingengine.com (unknown [66.111.4.230])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 8178681c-ea2e-11e9-97df-12813bfff9fa;
 Wed, 09 Oct 2019 00:48:27 +0000 (UTC)
Received: from compute7.internal (compute7.nyi.internal [10.202.2.47])
 by mailnew.nyi.internal (Postfix) with ESMTP id 3C58C6DEA;
 Tue,  8 Oct 2019 20:48:27 -0400 (EDT)
Received: from mailfrontend1 ([10.202.2.162])
 by compute7.internal (MEProxy); Tue, 08 Oct 2019 20:48:27 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=
 messagingengine.com; h=cc:content-transfer-encoding:content-type
 :date:from:in-reply-to:message-id:mime-version:references
 :subject:to:x-me-proxy:x-me-proxy:x-me-sender:x-me-sender
 :x-sasl-enc; s=fm1; bh=6IMZVdl+ti5bO+A51msTWvJawQu2a6oxwsvmW4PMq
 Yo=; b=cRttka1sbqWx39yruBHBgkmXtuyuStOqpAzd3zH/EPwhSrMh1ALoTmeMk
 NEnjK7No7ISZQVeUpy0yT0HZhirUVzauTh5Yt8EBumi88lFqo5L18i0SfKDXF3qp
 jL4uNGgKo75iR35DjhK6pgTSlbYiUNUI7YngVNVxcJv3RX71qFKzKrX95LZiSxrL
 awjPHXfpKnpRYbO0J/i0Z4JYsHgOC8WStcQ9mZg07eWA3fEg+mdLN8xzSWLsMuto
 8b2GIO5HtIJvu45gWnI018UTLm3D3hLxBbooeh63FkivwKh5emCw2ugqsTSCsIoM
 +jS07vJtm6UU7/aThjKw5Sej50rjw==
X-ME-Sender: <xms:Wy6dXYOmCMLz8tPJyrLjgXk9Gjw6kv2GmZunoHgOxT7mJ4famI_8AQ>
X-ME-Proxy-Cause: gggruggvucftvghtrhhoucdtuddrgedufedriedtgdefjecutefuodetggdotefrodftvf
 curfhrohhfihhlvgemucfhrghsthforghilhdpqfgfvfdpuffrtefokffrpgfnqfghnecu
 uegrihhlohhuthemuceftddtnecusecvtfgvtghiphhivghnthhsucdlqddutddtmdenuc
 fjughrpefhvffufffkofgjfhggtgfgsehtkeertdertdejnecuhfhrohhmpeforghrvghk
 ucforghrtgiihihkohifshhkihdqifpkrhgvtghkihcuoehmrghrmhgrrhgvkhesihhnvh
 hishhisghlvghthhhinhhgshhlrggsrdgtohhmqeenucfkphepledurdeihedrfeegrdef
 feenucfrrghrrghmpehmrghilhhfrhhomhepmhgrrhhmrghrvghksehinhhvihhsihgslh
 gvthhhihhnghhslhgrsgdrtghomhenucevlhhushhtvghrufhiiigvpedt
X-ME-Proxy: <xmx:Wy6dXZNKzIrXEQQtY1yokx4nnbxVT5SKo-S0EcepIGVVk7_JVFQKOw>
 <xmx:Wy6dXUtuqHpePRbZThnj3GvDLbEnAPdkFRn088dZAi_xlb9v1rc9lA>
 <xmx:Wy6dXW93kY5pO3DuHEMSVPbM3d_5FpESESPb8p_k_VGvQG1RvNv3vg>
 <xmx:Wy6dXXXgz40OU0IZ5wJe9C64lm7_x4eWE58BsM6MdJFlZEQwm25Abw>
Received: from localhost.localdomain (ip5b412221.dynamic.kabel-deutschland.de
 [91.65.34.33])
 by mail.messagingengine.com (Postfix) with ESMTPA id AA43F8005A;
 Tue,  8 Oct 2019 20:48:25 -0400 (EDT)
From: =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>
To: xen-devel@lists.xenproject.org
Date: Wed,  9 Oct 2019 02:48:19 +0200
Message-Id: <86f8281ca02b344848eaab3e2d211ade6f1d1658.1570582061.git-series.marmarek@invisiblethingslab.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <cover.a213e52849846a404eb0aac59f38015d7bef4f0f.1570582061.git-series.marmarek@invisiblethingslab.com>
References: <cover.a213e52849846a404eb0aac59f38015d7bef4f0f.1570582061.git-series.marmarek@invisiblethingslab.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v1 2/2] xen/efi: optionally call
 SetVirtualAddressMap()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

U29tZSBVRUZJIGltcGxlbWVudGF0aW9ucyBhcmUgbm90IGhhcHB5IGFib3V0IHJ1bm5pbmcgaW4g
MToxIGFkZHJlc3NpbmcsCmJ1dCByZWFsbHkgdmlydHVhbCBhZGRyZXNzIHNwYWNlLiBTcGVjaWZp
Y2FsbHksIHNvbWUgYWNjZXNzCkVmaUJvb3RTZXJ2aWNlc3tDb2RlLERhdGF9LCBvciBldmVuIHRv
dGFsbHkgdW5tYXBwZWQgYXJlYXMuIEV4YW1wbGUKY3Jhc2ggb2YgR2V0VmFyaWFibGUoKSBjYWxs
IG9uIFRoaW5rcGFkIFc1NDA6CgogICAgWGVuIGNhbGwgdHJhY2U6CiAgICAgICBbPDAwMDAwMDAw
MDAwMDAwODA+XSAwMDAwMDAwMDAwMDAwMDgwCiAgICAgICBbPDhjMmIwMzk4ZTAwMDBkYWE+XSA4
YzJiMDM5OGUwMDAwZGFhCgogICAgUGFnZXRhYmxlIHdhbGsgZnJvbSBmZmZmZmZmZjg1ODQ4M2Ex
OgogICAgICAgTDRbMHgxZmZdID0gMDAwMDAwMDAwMDAwMDAwMCBmZmZmZmZmZmZmZmZmZmZmCgog
ICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgUGFuaWMgb24g
Q1BVIDA6CiAgICBGQVRBTCBQQUdFIEZBVUxUCiAgICBbZXJyb3JfY29kZT0wMDAyXQogICAgRmF1
bHRpbmcgbGluZWFyIGFkZHJlc3M6IGZmZmZmZmZmODU4NDgzYTEKICAgICoqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioKCkZpeCB0aGlzIGJ5IGNhbGxpbmcgU2V0VmlydHVh
bEFkZHJlc3NNYXAoKSBydW50aW1lIHNlcnZpY2UsIGdpdmluZyBpdAoxOjEgbWFwIGZvciBhcmVh
cyBtYXJrZWQgYXMgbmVlZGVkIGR1cmluZyBydW50aW1lLiBUaGUgYWRkcmVzcyBzcGFjZSBpbgp3
aGljaCBFRkkgcnVudGltZSBzZXJ2aWNlcyBhcmUgY2FsbGVkIGlzIHVuY2hhbmdlZCwgYnV0IFVF
RkkgdmlldyBvZiBpdAptYXkgYmUuClNldFZpcnR1YWxBZGRyZXNzTWFwKCkgY2FuIGJlIGNhbGxl
ZCBvbmx5IG9uY2UsIGhlbmNlIGl0J3MgaW5jb21wYXRpYmxlCndpdGgga2V4ZWMuIEZvciB0aGlz
IHJlYXNvbiwgbWFrZSBpdCBhbiBvcHRpb25hbCBmZWF0dXJlLCBkZXBlbmRpbmcgb24KIUtFWEVD
LiBBbmQgdG8gbm90IGluZmxhdGUgbnVtYmVyIG9mIHN1cHBvcnRlZCBjb25maWd1cmF0aW9ucywg
aGlkZSBpdApiZWhpbmQgRVhQRVJULgoKU2lnbmVkLW9mZi1ieTogTWFyZWsgTWFyY3p5a293c2tp
LUfDs3JlY2tpIDxtYXJtYXJla0BpbnZpc2libGV0aGluZ3NsYWIuY29tPgotLS0KIHhlbi9jb21t
b24vS2NvbmZpZyAgICB8IDEzICsrKysrKysrKysrKysKIHhlbi9jb21tb24vZWZpL2Jvb3QuYyB8
IDI4ICsrKysrKysrKysrKysrKysrKysrKysrKysrLS0KIDIgZmlsZXMgY2hhbmdlZCwgMzkgaW5z
ZXJ0aW9ucygrKSwgMiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL0tjb25m
aWcgYi94ZW4vY29tbW9uL0tjb25maWcKaW5kZXggMTY4MjlmNi4uZmU5OGY4YSAxMDA2NDQKLS0t
IGEveGVuL2NvbW1vbi9LY29uZmlnCisrKyBiL3hlbi9jb21tb24vS2NvbmZpZwpAQCAtODgsNiAr
ODgsMTkgQEAgY29uZmlnIEtFWEVDCiAKIAkgIElmIHVuc3VyZSwgc2F5IFkuCiAKK2NvbmZpZyBT
RVRfVklSVFVBTF9BRERSRVNTX01BUAorICAgIGJvb2wgIkVGSTogY2FsbCBTZXRWaXJ0dWFsQWRk
cmVzc01hcCgpIiBpZiBFWFBFUlQgPSAieSIKKyAgICBkZWZhdWx0IG4KKyAgICBkZXBlbmRzIG9u
ICFLRVhFQworICAgIC0tLWhlbHAtLS0KKyAgICAgIENhbGwgRUZJIFNldFZpcnR1YWxBZGRyZXNz
TWFwKCkgcnVudGltZSBzZXJ2aWNlIHRvIHNldHVwIG1lbW9yeSBtYXAgZm9yCisgICAgICBmdXJ0
aGVyIHJ1bnRpbWUgc2VydmljZXMuIEFjY29yZGluZyB0byBVRUZJIHNwZWMsIGl0IGlzbid0IHN0
cmljdGx5CisgICAgICBuZWNlc3NhcnksIGJ1dCBtYW55IFVFRkkgaW1wbGVtZW50YXRpb25zIG1p
c2JlaGF2ZSB3aGVuIHRoaXMgY2FsbCBpcworICAgICAgbWlzc2luZy4gT24gdGhlIG90aGVyIGhh
bmQsIHRoaXMgY2FsbCBjYW4gYmUgbWFkZSBvbmx5IG9uY2UsIHdoaWNoIG1ha2VzCisgICAgICBp
dCBpbmNvbXBhdGlibGUgd2l0aCBrZXhlYyAoa2V4ZWMtaW5nIHRoaXMgWGVuIGZyb20gb3RoZXIg
WGVuIG9yIExpbnV4KS4KKworICAgICAgSWYgdW5zdXNlciwgc2F5IE4uCisKIGNvbmZpZyBYRU5P
UFJPRgogCWRlZl9ib29sIHkKIAlwcm9tcHQgIlhlbiBPcHJvZmlsZSBTdXBwb3J0IiBpZiBFWFBF
UlQgPSAieSIKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vZWZpL2Jvb3QuYyBiL3hlbi9jb21tb24v
ZWZpL2Jvb3QuYwppbmRleCBjZGRmM2RlLi41YzE4N2RiIDEwMDY0NAotLS0gYS94ZW4vY29tbW9u
L2VmaS9ib290LmMKKysrIGIveGVuL2NvbW1vbi9lZmkvYm9vdC5jCkBAIC0xMDU2LDExICsxMDU2
LDE3IEBAIHN0YXRpYyB2b2lkIF9faW5pdCBlZmlfc2V0X2dvcF9tb2RlKEVGSV9HUkFQSElDU19P
VVRQVVRfUFJPVE9DT0wgKmdvcCwgVUlOVE4gZ29wCiAgICAgICAgIGVmaV9hcmNoX3ZpZGVvX2lu
aXQoZ29wLCBpbmZvX3NpemUsIG1vZGVfaW5mbyk7CiB9CiAKKyNkZWZpbmUgSU5WQUxJRF9WSVJU
VUFMX0FERFJFU1MgKDB4QkFBQURVTCA8PCBcCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAoRUZJX1BBR0VfU0hJRlQgKyBCSVRTX1BFUl9MT05HIC0gMzIpKQorCiBzdGF0aWMgdm9p
ZCBfX2luaXQgZWZpX2V4aXRfYm9vdChFRklfSEFORExFIEltYWdlSGFuZGxlLCBFRklfU1lTVEVN
X1RBQkxFICpTeXN0ZW1UYWJsZSkKIHsKICAgICBFRklfU1RBVFVTIHN0YXR1czsKICAgICBVSU5U
TiBpbmZvX3NpemUgPSAwLCBtYXBfa2V5OwogICAgIGJvb2wgcmV0cnk7CisjaWZkZWYgQ09ORklH
X1NFVF9WSVJUVUFMX0FERFJFU1NfTUFQCisgICAgdW5zaWduZWQgaW50IGk7CisjZW5kaWYKIAog
ICAgIGVmaV9icy0+R2V0TWVtb3J5TWFwKCZpbmZvX3NpemUsIE5VTEwsICZtYXBfa2V5LAogICAg
ICAgICAgICAgICAgICAgICAgICAgICZlZmlfbWRlc2Nfc2l6ZSwgJm1kZXNjX3Zlcik7CkBAIC0x
MDk4LDYgKzExMDQsMjYgQEAgc3RhdGljIHZvaWQgX19pbml0IGVmaV9leGl0X2Jvb3QoRUZJX0hB
TkRMRSBJbWFnZUhhbmRsZSwgRUZJX1NZU1RFTV9UQUJMRSAqU3lzdGUKICAgICBlZmlfY3QgPSAo
dm9pZCAqKWVmaV9jdCArIERJUkVDVE1BUF9WSVJUX1NUQVJUOwogICAgIGVmaV9tZW1tYXAgPSAo
dm9pZCAqKWVmaV9tZW1tYXAgKyBESVJFQ1RNQVBfVklSVF9TVEFSVDsKICAgICBlZmlfZndfdmVu
ZG9yID0gKHZvaWQgKillZmlfZndfdmVuZG9yICsgRElSRUNUTUFQX1ZJUlRfU1RBUlQ7CisKKyNp
ZmRlZiBDT05GSUdfU0VUX1ZJUlRVQUxfQUREUkVTU19NQVAKKyAgICBmb3IgKCBpID0gMDsgaSA8
IGVmaV9tZW1tYXBfc2l6ZTsgaSArPSBlZmlfbWRlc2Nfc2l6ZSApCisgICAgeworICAgICAgICBF
RklfTUVNT1JZX0RFU0NSSVBUT1IgKmRlc2MgPSBlZmlfbWVtbWFwICsgaTsKKworICAgICAgICBp
ZiAoIGRlc2MtPkF0dHJpYnV0ZSAmIEVGSV9NRU1PUllfUlVOVElNRSApCisgICAgICAgICAgICBk
ZXNjLT5WaXJ0dWFsU3RhcnQgPSBkZXNjLT5QaHlzaWNhbFN0YXJ0OworICAgICAgICBlbHNlCisg
ICAgICAgICAgICBkZXNjLT5WaXJ0dWFsU3RhcnQgPSBJTlZBTElEX1ZJUlRVQUxfQUREUkVTUzsK
KyAgICB9CisgICAgc3RhdHVzID0gZWZpX3JzLT5TZXRWaXJ0dWFsQWRkcmVzc01hcChlZmlfbWVt
bWFwX3NpemUsIGVmaV9tZGVzY19zaXplLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgbWRlc2NfdmVyLCBlZmlfbWVtbWFwKTsKKyAgICBpZiAoIHN0YXR1cyAhPSBF
RklfU1VDQ0VTUyApCisgICAgeworICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiRUZJOiBTZXRW
aXJ0dWFsQWRkcmVzc01hcCgpIGZhaWxlZCAoJSNseCksIGRpc2FibGluZyBydW50aW1lIHNlcnZp
Y2VzXG4iLAorICAgICAgICAgICAgICAgc3RhdHVzKTsKKyAgICAgICAgX19jbGVhcl9iaXQoRUZJ
X1JTLCAmZWZpX2ZsYWdzKTsKKyAgICB9CisjZW5kaWYKIH0KIAogc3RhdGljIGludCBfX2luaXQg
X19tYXliZV91bnVzZWQgc2V0X2NvbG9yKHUzMiBtYXNrLCBpbnQgYnBwLCB1OCAqcG9zLCB1OCAq
c3opCkBAIC0xNDYwLDggKzE0ODYsNiBAQCBzdGF0aWMgYm9vbCBfX2luaXQgcnRfcmFuZ2VfdmFs
aWQodW5zaWduZWQgbG9uZyBzbWZuLCB1bnNpZ25lZCBsb25nIGVtZm4pCiAgICAgcmV0dXJuIHRy
dWU7CiB9CiAKLSNkZWZpbmUgSU5WQUxJRF9WSVJUVUFMX0FERFJFU1MgKDB4QkFBQURVTCA8PCBc
Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoRUZJX1BBR0VfU0hJRlQgKyBCSVRT
X1BFUl9MT05HIC0gMzIpKQogCiB2b2lkIF9faW5pdCBlZmlfaW5pdF9tZW1vcnkodm9pZCkKIHsK
LS0gCmdpdC1zZXJpZXMgMC45LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnBy
b2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94
ZW4tZGV2ZWw=

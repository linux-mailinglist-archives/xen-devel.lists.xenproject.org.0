Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 772366AD72
	for <lists+xen-devel@lfdr.de>; Tue, 16 Jul 2019 19:10:48 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hnQuN-0005nZ-2M; Tue, 16 Jul 2019 17:06:31 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=v+lg=VN=bitdefender.com=ppircalabu@srs-us1.protection.inumbo.net>)
 id 1hnQuL-0005n7-93
 for xen-devel@lists.xenproject.org; Tue, 16 Jul 2019 17:06:29 +0000
X-Inumbo-ID: 0bcbf44b-a7ec-11e9-8980-bc764e045a96
Received: from mx01.bbu.dsd.mx.bitdefender.com (unknown [91.199.104.161])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 0bcbf44b-a7ec-11e9-8980-bc764e045a96;
 Tue, 16 Jul 2019 17:06:27 +0000 (UTC)
Received: from smtp.bitdefender.com (smtp02.buh.bitdefender.net [10.17.80.76])
 by mx01.bbu.dsd.mx.bitdefender.com (Postfix) with ESMTPS id
 C127A30644BA; Tue, 16 Jul 2019 20:06:25 +0300 (EEST)
Received: from bitdefender.com (unknown [195.189.155.70])
 by smtp.bitdefender.com (Postfix) with ESMTPSA id B33A5305B7B3;
 Tue, 16 Jul 2019 20:06:25 +0300 (EEST)
From: Petre Pircalabu <ppircalabu@bitdefender.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 16 Jul 2019 20:06:16 +0300
Message-Id: <05d37a1cb32ed76fe728f5ebb296aca55455b56a.1563293545.git.ppircalabu@bitdefender.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <cover.1563293545.git.ppircalabu@bitdefender.com>
References: <cover.1563293545.git.ppircalabu@bitdefender.com>
In-Reply-To: <cover.1563293545.git.ppircalabu@bitdefender.com>
References: <cover.1563293545.git.ppircalabu@bitdefender.com>
Subject: [Xen-devel] [PATCH v2 02/10] vm_event: Remove "ring" suffix from
 vm_event_check_ring
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Pircalabu <ppircalabu@bitdefender.com>,
 Tamas K Lengyel <tamas@tklengyel.com>, Wei Liu <wl@xen.org>,
 Razvan Cojocaru <rcojocaru@bitdefender.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Jan Beulich <jbeulich@suse.com>,
 Alexandru Isaila <aisaila@bitdefender.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RGVjb3VwbGUgaW1wbGVtZW50YXRpb24gZnJvbSBpbnRlcmZhY2UgdG8gYWxsb3cgdm1fZXZlbnRf
Y2hlY2sgdG8gYmUKdXNlZCByZWdhcmRsZXNzIG9mIHRoZSB2bV9ldmVudCB1bmRlcmx5aW5nIGlt
cGxlbWVudGF0aW9uLgoKU2lnbmVkLW9mZi1ieTogUGV0cmUgUGlyY2FsYWJ1IDxwcGlyY2FsYWJ1
QGJpdGRlZmVuZGVyLmNvbT4KQWNrZWQtYnk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIz
QGNpdHJpeC5jb20+CkFja2VkLWJ5OiBUYW1hcyBLIExlbmd5ZWwgPHRhbWFzQHRrbGVuZ3llbC5j
b20+Ci0tLQogeGVuL2FyY2gvYXJtL21lbV9hY2Nlc3MuYyAgICAgfCAgMiArLQogeGVuL2FyY2gv
eDg2L21tL21lbV9hY2Nlc3MuYyAgfCAgNCArKy0tCiB4ZW4vYXJjaC94ODYvbW0vbWVtX3BhZ2lu
Zy5jICB8ICAyICstCiB4ZW4vY29tbW9uL21lbV9hY2Nlc3MuYyAgICAgICB8ICAyICstCiB4ZW4v
Y29tbW9uL3ZtX2V2ZW50LmMgICAgICAgICB8IDI0ICsrKysrKysrKysrKy0tLS0tLS0tLS0tLQog
eGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMgfCAgMiArLQogeGVuL2luY2x1ZGUveGVuL3Zt
X2V2ZW50LmggICAgfCAgNCArKy0tCiA3IGZpbGVzIGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKyks
IDIwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9tZW1fYWNjZXNzLmMg
Yi94ZW4vYXJjaC9hcm0vbWVtX2FjY2Vzcy5jCmluZGV4IDNlMzYyMDIuLmQ1NDc2MGIgMTAwNjQ0
Ci0tLSBhL3hlbi9hcmNoL2FybS9tZW1fYWNjZXNzLmMKKysrIGIveGVuL2FyY2gvYXJtL21lbV9h
Y2Nlc3MuYwpAQCAtMjkwLDcgKzI5MCw3IEBAIGJvb2wgcDJtX21lbV9hY2Nlc3NfY2hlY2socGFk
ZHJfdCBncGEsIHZhZGRyX3QgZ2xhLCBjb25zdCBzdHJ1Y3QgbnBmZWMgbnBmZWMpCiAgICAgfQog
CiAgICAgLyogT3RoZXJ3aXNlLCBjaGVjayBpZiB0aGVyZSBpcyBhIHZtX2V2ZW50IG1vbml0b3Ig
c3Vic2NyaWJlciAqLwotICAgIGlmICggIXZtX2V2ZW50X2NoZWNrX3Jpbmcodi0+ZG9tYWluLT52
bV9ldmVudF9tb25pdG9yKSApCisgICAgaWYgKCAhdm1fZXZlbnRfY2hlY2sodi0+ZG9tYWluLT52
bV9ldmVudF9tb25pdG9yKSApCiAgICAgewogICAgICAgICAvKiBObyBsaXN0ZW5lciAqLwogICAg
ICAgICBpZiAoIHAybS0+YWNjZXNzX3JlcXVpcmVkICkKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9tbS9tZW1fYWNjZXNzLmMgYi94ZW4vYXJjaC94ODYvbW0vbWVtX2FjY2Vzcy5jCmluZGV4IDAx
NDRmOTIuLjY0MDM1MmUgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9tbS9tZW1fYWNjZXNzLmMK
KysrIGIveGVuL2FyY2gveDg2L21tL21lbV9hY2Nlc3MuYwpAQCAtMTgyLDcgKzE4Miw3IEBAIGJv
b2wgcDJtX21lbV9hY2Nlc3NfY2hlY2socGFkZHJfdCBncGEsIHVuc2lnbmVkIGxvbmcgZ2xhLAog
ICAgIGdmbl91bmxvY2socDJtLCBnZm4sIDApOwogCiAgICAgLyogT3RoZXJ3aXNlLCBjaGVjayBp
ZiB0aGVyZSBpcyBhIG1lbW9yeSBldmVudCBsaXN0ZW5lciwgYW5kIHNlbmQgdGhlIG1lc3NhZ2Ug
YWxvbmcgKi8KLSAgICBpZiAoICF2bV9ldmVudF9jaGVja19yaW5nKGQtPnZtX2V2ZW50X21vbml0
b3IpIHx8ICFyZXFfcHRyICkKKyAgICBpZiAoICF2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9t
b25pdG9yKSB8fCAhcmVxX3B0ciApCiAgICAgewogICAgICAgICAvKiBObyBsaXN0ZW5lciAqLwog
ICAgICAgICBpZiAoIHAybS0+YWNjZXNzX3JlcXVpcmVkICkKQEAgLTIxMCw3ICsyMTAsNyBAQCBi
b29sIHAybV9tZW1fYWNjZXNzX2NoZWNrKHBhZGRyX3QgZ3BhLCB1bnNpZ25lZCBsb25nIGdsYSwK
ICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICB9CiAgICAgfQotICAgIGlmICggdm1f
ZXZlbnRfY2hlY2tfcmluZyhkLT52bV9ldmVudF9tb25pdG9yKSAmJgorICAgIGlmICggdm1fZXZl
bnRfY2hlY2soZC0+dm1fZXZlbnRfbW9uaXRvcikgJiYKICAgICAgICAgIGQtPmFyY2gubW9uaXRv
ci5pbmd1ZXN0X3BhZ2VmYXVsdF9kaXNhYmxlZCAmJgogICAgICAgICAgbnBmZWMua2luZCAhPSBu
cGZlY19raW5kX3dpdGhfZ2xhICkgLyogZG9uJ3Qgc2VuZCBhIG1lbV9ldmVudCAqLwogICAgIHsK
ZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS9tZW1fcGFnaW5nLmMgYi94ZW4vYXJjaC94ODYv
bW0vbWVtX3BhZ2luZy5jCmluZGV4IDU0YTk0ZmEuLmRjMmE1OWEgMTAwNjQ0Ci0tLSBhL3hlbi9h
cmNoL3g4Ni9tbS9tZW1fcGFnaW5nLmMKKysrIGIveGVuL2FyY2gveDg2L21tL21lbV9wYWdpbmcu
YwpAQCAtNDQsNyArNDQsNyBAQCBpbnQgbWVtX3BhZ2luZ19tZW1vcChYRU5fR1VFU1RfSEFORExF
X1BBUkFNKHhlbl9tZW1fcGFnaW5nX29wX3QpIGFyZykKICAgICAgICAgZ290byBvdXQ7CiAKICAg
ICByYyA9IC1FTk9ERVY7Ci0gICAgaWYgKCB1bmxpa2VseSghdm1fZXZlbnRfY2hlY2tfcmluZyhk
LT52bV9ldmVudF9wYWdpbmcpKSApCisgICAgaWYgKCB1bmxpa2VseSghdm1fZXZlbnRfY2hlY2so
ZC0+dm1fZXZlbnRfcGFnaW5nKSkgKQogICAgICAgICBnb3RvIG91dDsKIAogICAgIHN3aXRjaCgg
bXBvLm9wICkKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vbWVtX2FjY2Vzcy5jIGIveGVuL2NvbW1v
bi9tZW1fYWNjZXNzLmMKaW5kZXggMDEwZTZmOC4uNTFlNGUyYiAxMDA2NDQKLS0tIGEveGVuL2Nv
bW1vbi9tZW1fYWNjZXNzLmMKKysrIGIveGVuL2NvbW1vbi9tZW1fYWNjZXNzLmMKQEAgLTUyLDcg
KzUyLDcgQEAgaW50IG1lbV9hY2Nlc3NfbWVtb3AodW5zaWduZWQgbG9uZyBjbWQsCiAgICAgICAg
IGdvdG8gb3V0OwogCiAgICAgcmMgPSAtRU5PREVWOwotICAgIGlmICggdW5saWtlbHkoIXZtX2V2
ZW50X2NoZWNrX3JpbmcoZC0+dm1fZXZlbnRfbW9uaXRvcikpICkKKyAgICBpZiAoIHVubGlrZWx5
KCF2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9tb25pdG9yKSkgKQogICAgICAgICBnb3RvIG91
dDsKIAogICAgIHN3aXRjaCAoIG1hby5vcCApCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL3ZtX2V2
ZW50LmMgYi94ZW4vY29tbW9uL3ZtX2V2ZW50LmMKaW5kZXggNTZiNTA2YS4uNTE1YTkxNyAxMDA2
NDQKLS0tIGEveGVuL2NvbW1vbi92bV9ldmVudC5jCisrKyBiL3hlbi9jb21tb24vdm1fZXZlbnQu
YwpAQCAtMTc5LDcgKzE3OSw3IEBAIHN0YXRpYyBpbnQgdm1fZXZlbnRfZGlzYWJsZShzdHJ1Y3Qg
ZG9tYWluICpkLCBzdHJ1Y3Qgdm1fZXZlbnRfZG9tYWluICoqcF92ZWQpCiB7CiAgICAgc3RydWN0
IHZtX2V2ZW50X2RvbWFpbiAqdmVkID0gKnBfdmVkOwogCi0gICAgaWYgKCB2bV9ldmVudF9jaGVj
a19yaW5nKHZlZCkgKQorICAgIGlmICggdm1fZXZlbnRfY2hlY2sodmVkKSApCiAgICAgewogICAg
ICAgICBzdHJ1Y3QgdmNwdSAqdjsKIApAQCAtMjU5LDcgKzI1OSw3IEBAIHZvaWQgdm1fZXZlbnRf
cHV0X3JlcXVlc3Qoc3RydWN0IGRvbWFpbiAqZCwKICAgICBSSU5HX0lEWCByZXFfcHJvZDsKICAg
ICBzdHJ1Y3QgdmNwdSAqY3VyciA9IGN1cnJlbnQ7CiAKLSAgICBpZiggIXZtX2V2ZW50X2NoZWNr
X3JpbmcodmVkKSApCisgICAgaWYoICF2bV9ldmVudF9jaGVjayh2ZWQpICkKICAgICAgICAgcmV0
dXJuOwogCiAgICAgaWYgKCBjdXJyLT5kb21haW4gIT0gZCApCkBAIC0zNjIsNyArMzYyLDcgQEAg
c3RhdGljIGludCB2bV9ldmVudF9yZXN1bWUoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHZtX2V2
ZW50X2RvbWFpbiAqdmVkKQogICAgICAqLwogICAgIEFTU0VSVChkICE9IGN1cnJlbnQtPmRvbWFp
bik7CiAKLSAgICBpZiAoIHVubGlrZWx5KCF2bV9ldmVudF9jaGVja19yaW5nKHZlZCkpICkKKyAg
ICBpZiAoIHVubGlrZWx5KCF2bV9ldmVudF9jaGVjayh2ZWQpKSApCiAgICAgICAgICByZXR1cm4g
LUVOT0RFVjsKIAogICAgIC8qIFB1bGwgYWxsIHJlc3BvbnNlcyBvZmYgdGhlIHJpbmcuICovCkBA
IC00MzMsNyArNDMzLDcgQEAgc3RhdGljIGludCB2bV9ldmVudF9yZXN1bWUoc3RydWN0IGRvbWFp
biAqZCwgc3RydWN0IHZtX2V2ZW50X2RvbWFpbiAqdmVkKQogCiB2b2lkIHZtX2V2ZW50X2NhbmNl
bF9zbG90KHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCB2bV9ldmVudF9kb21haW4gKnZlZCkKIHsK
LSAgICBpZiggIXZtX2V2ZW50X2NoZWNrX3JpbmcodmVkKSApCisgICAgaWYoICF2bV9ldmVudF9j
aGVjayh2ZWQpICkKICAgICAgICAgcmV0dXJuOwogCiAgICAgc3Bpbl9sb2NrKCZ2ZWQtPmxvY2sp
OwpAQCAtNDg4LDcgKzQ4OCw3IEBAIHN0YXRpYyBpbnQgdm1fZXZlbnRfd2FpdF9zbG90KHN0cnVj
dCB2bV9ldmVudF9kb21haW4gKnZlZCkKICAgICByZXR1cm4gcmM7CiB9CiAKLWJvb2wgdm1fZXZl
bnRfY2hlY2tfcmluZyhzdHJ1Y3Qgdm1fZXZlbnRfZG9tYWluICp2ZWQpCitib29sIHZtX2V2ZW50
X2NoZWNrKHN0cnVjdCB2bV9ldmVudF9kb21haW4gKnZlZCkKIHsKICAgICByZXR1cm4gdmVkICYm
IHZlZC0+cmluZ19wYWdlOwogfQpAQCAtNTA4LDcgKzUwOCw3IEBAIGJvb2wgdm1fZXZlbnRfY2hl
Y2tfcmluZyhzdHJ1Y3Qgdm1fZXZlbnRfZG9tYWluICp2ZWQpCiBpbnQgX192bV9ldmVudF9jbGFp
bV9zbG90KHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCB2bV9ldmVudF9kb21haW4gKnZlZCwKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBhbGxvd19zbGVlcCkKIHsKLSAgICBpZiAoICF2
bV9ldmVudF9jaGVja19yaW5nKHZlZCkgKQorICAgIGlmICggIXZtX2V2ZW50X2NoZWNrKHZlZCkg
KQogICAgICAgICByZXR1cm4gLUVPUE5PVFNVUFA7CiAKICAgICBpZiAoIChjdXJyZW50LT5kb21h
aW4gPT0gZCkgJiYgYWxsb3dfc2xlZXAgKQpAQCAtNTQzLDcgKzU0Myw3IEBAIHN0YXRpYyB2b2lk
IG1lbV9zaGFyaW5nX25vdGlmaWNhdGlvbihzdHJ1Y3QgdmNwdSAqdiwgdW5zaWduZWQgaW50IHBv
cnQpCiB2b2lkIHZtX2V2ZW50X2NsZWFudXAoc3RydWN0IGRvbWFpbiAqZCkKIHsKICNpZmRlZiBD
T05GSUdfSEFTX01FTV9QQUdJTkcKLSAgICBpZiAoIHZtX2V2ZW50X2NoZWNrX3JpbmcoZC0+dm1f
ZXZlbnRfcGFnaW5nKSApCisgICAgaWYgKCB2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9wYWdp
bmcpICkKICAgICB7CiAgICAgICAgIC8qIERlc3Ryb3lpbmcgdGhlIHdhaXQgcXVldWUgaGVhZCBt
ZWFucyB3YWtpbmcgdXAgYWxsCiAgICAgICAgICAqIHF1ZXVlZCB2Y3B1cy4gVGhpcyB3aWxsIGRy
YWluIHRoZSBsaXN0LCBhbGxvd2luZwpAQCAtNTU2LDEzICs1NTYsMTMgQEAgdm9pZCB2bV9ldmVu
dF9jbGVhbnVwKHN0cnVjdCBkb21haW4gKmQpCiAgICAgICAgICh2b2lkKXZtX2V2ZW50X2Rpc2Fi
bGUoZCwgJmQtPnZtX2V2ZW50X3BhZ2luZyk7CiAgICAgfQogI2VuZGlmCi0gICAgaWYgKCB2bV9l
dmVudF9jaGVja19yaW5nKGQtPnZtX2V2ZW50X21vbml0b3IpICkKKyAgICBpZiAoIHZtX2V2ZW50
X2NoZWNrKGQtPnZtX2V2ZW50X21vbml0b3IpICkKICAgICB7CiAgICAgICAgIGRlc3Ryb3lfd2Fp
dHF1ZXVlX2hlYWQoJmQtPnZtX2V2ZW50X21vbml0b3ItPndxKTsKICAgICAgICAgKHZvaWQpdm1f
ZXZlbnRfZGlzYWJsZShkLCAmZC0+dm1fZXZlbnRfbW9uaXRvcik7CiAgICAgfQogI2lmZGVmIENP
TkZJR19IQVNfTUVNX1NIQVJJTkcKLSAgICBpZiAoIHZtX2V2ZW50X2NoZWNrX3JpbmcoZC0+dm1f
ZXZlbnRfc2hhcmUpICkKKyAgICBpZiAoIHZtX2V2ZW50X2NoZWNrKGQtPnZtX2V2ZW50X3NoYXJl
KSApCiAgICAgewogICAgICAgICBkZXN0cm95X3dhaXRxdWV1ZV9oZWFkKCZkLT52bV9ldmVudF9z
aGFyZS0+d3EpOwogICAgICAgICAodm9pZCl2bV9ldmVudF9kaXNhYmxlKGQsICZkLT52bV9ldmVu
dF9zaGFyZSk7CkBAIC02NDYsNyArNjQ2LDcgQEAgaW50IHZtX2V2ZW50X2RvbWN0bChzdHJ1Y3Qg
ZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2RvbWN0bF92bV9ldmVudF9vcCAqdmVjKQogICAgICAgICBi
cmVhazsKIAogICAgICAgICBjYXNlIFhFTl9WTV9FVkVOVF9ESVNBQkxFOgotICAgICAgICAgICAg
aWYgKCB2bV9ldmVudF9jaGVja19yaW5nKGQtPnZtX2V2ZW50X3BhZ2luZykgKQorICAgICAgICAg
ICAgaWYgKCB2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9wYWdpbmcpICkKICAgICAgICAgICAg
IHsKICAgICAgICAgICAgICAgICBkb21haW5fcGF1c2UoZCk7CiAgICAgICAgICAgICAgICAgcmMg
PSB2bV9ldmVudF9kaXNhYmxlKGQsICZkLT52bV9ldmVudF9wYWdpbmcpOwpAQCAtNjgzLDcgKzY4
Myw3IEBAIGludCB2bV9ldmVudF9kb21jdGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9k
b21jdGxfdm1fZXZlbnRfb3AgKnZlYykKICAgICAgICAgICAgIGJyZWFrOwogCiAgICAgICAgIGNh
c2UgWEVOX1ZNX0VWRU5UX0RJU0FCTEU6Ci0gICAgICAgICAgICBpZiAoIHZtX2V2ZW50X2NoZWNr
X3JpbmcoZC0+dm1fZXZlbnRfbW9uaXRvcikgKQorICAgICAgICAgICAgaWYgKCB2bV9ldmVudF9j
aGVjayhkLT52bV9ldmVudF9tb25pdG9yKSApCiAgICAgICAgICAgICB7CiAgICAgICAgICAgICAg
ICAgZG9tYWluX3BhdXNlKGQpOwogICAgICAgICAgICAgICAgIHJjID0gdm1fZXZlbnRfZGlzYWJs
ZShkLCAmZC0+dm1fZXZlbnRfbW9uaXRvcik7CkBAIC03MjgsNyArNzI4LDcgQEAgaW50IHZtX2V2
ZW50X2RvbWN0bChzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2RvbWN0bF92bV9ldmVudF9v
cCAqdmVjKQogICAgICAgICAgICAgYnJlYWs7CiAKICAgICAgICAgY2FzZSBYRU5fVk1fRVZFTlRf
RElTQUJMRToKLSAgICAgICAgICAgIGlmICggdm1fZXZlbnRfY2hlY2tfcmluZyhkLT52bV9ldmVu
dF9zaGFyZSkgKQorICAgICAgICAgICAgaWYgKCB2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9z
aGFyZSkgKQogICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIGRvbWFpbl9wYXVzZShkKTsK
ICAgICAgICAgICAgICAgICByYyA9IHZtX2V2ZW50X2Rpc2FibGUoZCwgJmQtPnZtX2V2ZW50X3No
YXJlKTsKZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3BjaS5jIGIveGVuL2Ry
aXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMKaW5kZXggZTg4Njg5NC4uZWVjNzY4NiAxMDA2NDQKLS0t
IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMKKysrIGIveGVuL2RyaXZlcnMvcGFzc3Ro
cm91Z2gvcGNpLmMKQEAgLTE0NTEsNyArMTQ1MSw3IEBAIHN0YXRpYyBpbnQgYXNzaWduX2Rldmlj
ZShzdHJ1Y3QgZG9tYWluICpkLCB1MTYgc2VnLCB1OCBidXMsIHU4IGRldmZuLCB1MzIgZmxhZykK
ICAgICAvKiBQcmV2ZW50IGRldmljZSBhc3NpZ24gaWYgbWVtIHBhZ2luZyBvciBtZW0gc2hhcmlu
ZyBoYXZlIGJlZW4gCiAgICAgICogZW5hYmxlZCBmb3IgdGhpcyBkb21haW4gKi8KICAgICBpZiAo
IHVubGlrZWx5KGQtPmFyY2guaHZtLm1lbV9zaGFyaW5nX2VuYWJsZWQgfHwKLSAgICAgICAgICAg
ICAgICAgIHZtX2V2ZW50X2NoZWNrX3JpbmcoZC0+dm1fZXZlbnRfcGFnaW5nKSB8fAorICAgICAg
ICAgICAgICAgICAgdm1fZXZlbnRfY2hlY2soZC0+dm1fZXZlbnRfcGFnaW5nKSB8fAogICAgICAg
ICAgICAgICAgICAgcDJtX2dldF9ob3N0cDJtKGQpLT5nbG9iYWxfbG9nZGlydHkpICkKICAgICAg
ICAgcmV0dXJuIC1FWERFVjsKIApkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUveGVuL3ZtX2V2ZW50
LmggYi94ZW4vaW5jbHVkZS94ZW4vdm1fZXZlbnQuaAppbmRleCAzY2MyYjIwLi4zODFiZTBiIDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS94ZW4vdm1fZXZlbnQuaAorKysgYi94ZW4vaW5jbHVkZS94
ZW4vdm1fZXZlbnQuaApAQCAtMjksOCArMjksOCBAQAogLyogQ2xlYW4gdXAgb24gZG9tYWluIGRl
c3RydWN0aW9uICovCiB2b2lkIHZtX2V2ZW50X2NsZWFudXAoc3RydWN0IGRvbWFpbiAqZCk7CiAK
LS8qIFJldHVybnMgd2hldGhlciBhIHJpbmcgaGFzIGJlZW4gc2V0IHVwICovCi1ib29sIHZtX2V2
ZW50X2NoZWNrX3Jpbmcoc3RydWN0IHZtX2V2ZW50X2RvbWFpbiAqdmVkKTsKKy8qIFJldHVybnMg
d2hldGhlciB0aGUgVk0gZXZlbnQgZG9tYWluIGhhcyBiZWVuIHNldCB1cCAqLworYm9vbCB2bV9l
dmVudF9jaGVjayhzdHJ1Y3Qgdm1fZXZlbnRfZG9tYWluICp2ZWQpOwogCiAvKiBSZXR1cm5zIDAg
b24gc3VjY2VzcywgLUVOT1NZUyBpZiB0aGVyZSBpcyBubyByaW5nLCAtRUJVU1kgaWYgdGhlcmUg
aXMgbm8KICAqIGF2YWlsYWJsZSBzcGFjZSBhbmQgdGhlIGNhbGxlciBpcyBhIGZvcmVpZ24gZG9t
YWluLiBJZiB0aGUgZ3Vlc3QgaXRzZWxmCi0tIAoyLjcuNAoKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRl
dmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFp
bG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

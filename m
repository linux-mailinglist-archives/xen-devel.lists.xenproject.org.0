Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 4B86E420CB
	for <lists+xen-devel@lfdr.de>; Wed, 12 Jun 2019 11:30:43 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hazXY-0003hc-Mk; Wed, 12 Jun 2019 09:27:32 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=/bx6=UL=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1hazXX-0003hX-Du
 for xen-devel@lists.xenproject.org; Wed, 12 Jun 2019 09:27:31 +0000
X-Inumbo-ID: 4ba59da0-8cf4-11e9-998b-9b4a85fc2ef7
Received: from EUR03-AM5-obe.outbound.protection.outlook.com (unknown
 [40.107.3.100]) by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 4ba59da0-8cf4-11e9-998b-9b4a85fc2ef7;
 Wed, 12 Jun 2019 09:27:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector1-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=0jqiMS/4snfH0jDjjqOz2WCbWoyirbgMGgvwBLdumlg=;
 b=UN/44yOLwxadtqX+nisFDO5rk6EdTH45KnSdNyBqeS98ozFFrPRE+76TR6VniChs4AKgJO8IVNuCJNtaDhGj1NR2VbsSMfhAk0LWiUgLmOpkYJ6eINhsY3Hkx5mGSHz/t0V+5R+15bqk4UG2HLAR1uUoA1n351WvDX3BFAhWn5A=
Received: from VI1PR0202MB2928.eurprd02.prod.outlook.com (10.171.106.11) by
 VI1PR0202MB3501.eurprd02.prod.outlook.com (52.134.17.143) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1965.15; Wed, 12 Jun 2019 09:27:24 +0000
Received: from VI1PR0202MB2928.eurprd02.prod.outlook.com
 ([fe80::fdcf:4771:37b7:9830]) by VI1PR0202MB2928.eurprd02.prod.outlook.com
 ([fe80::fdcf:4771:37b7:9830%9]) with mapi id 15.20.1965.017; Wed, 12 Jun 2019
 09:27:24 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 "wl@xen.org" <wl@xen.org>, "boris.ostrovsky@oracle.com"
 <boris.ostrovsky@oracle.com>, "suravee.suthikulpanit@amd.com"
 <suravee.suthikulpanit@amd.com>, "brian.woods@amd.com" <brian.woods@amd.com>, 
 "tamas@tklengyel.com" <tamas@tklengyel.com>, "jun.nakajima@intel.com"
 <jun.nakajima@intel.com>, "kevin.tian@intel.com" <kevin.tian@intel.com>,
 "george.dunlap@eu.citrix.com" <george.dunlap@eu.citrix.com>, "tim@xen.org"
 <tim@xen.org>
Thread-Topic: [PATCH v5] x86/emulate: Send vm_event from emulate
Thread-Index: AQHVGsuhtcaVOzv43UiBDvbMIKzJ0qaXzHkA
Date: Wed, 12 Jun 2019 09:27:24 +0000
Message-ID: <3937cd36-6ecf-5f90-e6b1-fa84ead3dd1b@bitdefender.com>
References: <20190604114943.4840-1-aisaila@bitdefender.com>
In-Reply-To: <20190604114943.4840-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM7PR03CA0024.eurprd03.prod.outlook.com
 (2603:10a6:20b:130::34) To VI1PR0202MB2928.eurprd02.prod.outlook.com
 (2603:10a6:800:e3::11)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: b0d7bc10-2234-42ab-e81f-08d6ef182d4b
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328)(7193020);
 SRVR:VI1PR0202MB3501; 
x-ms-traffictypediagnostic: VI1PR0202MB3501:|VI1PR0202MB3501:
x-microsoft-antispam-prvs: <VI1PR0202MB3501D5FE414ED0132328773AABEC0@VI1PR0202MB3501.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:499;
x-forefront-prvs: 0066D63CE6
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(376002)(396003)(136003)(366004)(39860400002)(346002)(53754006)(189003)(199004)(229853002)(478600001)(31686004)(14454004)(53936002)(66446008)(73956011)(5660300002)(316002)(2906002)(4326008)(107886003)(54906003)(25786009)(6116002)(256004)(3846002)(52116002)(6246003)(14444005)(110136005)(7416002)(71200400001)(81156014)(81166006)(8676002)(68736007)(66476007)(99286004)(71190400001)(186003)(66556008)(11346002)(64756008)(26005)(66946007)(8936002)(2501003)(30864003)(6506007)(53546011)(386003)(6512007)(53946003)(305945005)(6436002)(6486002)(446003)(36756003)(31696002)(7736002)(86362001)(76176011)(2201001)(476003)(2616005)(66066001)(486006)(102836004)(921003)(1121003)(309714004);
 DIR:OUT; SFP:1102; SCL:1; SRVR:VI1PR0202MB3501;
 H:VI1PR0202MB2928.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 9V/BCyywRcM/fqOz0Arwydhk01n033JWkTT9sDrZdzlYshUl0IYsH+ZVwqFSTzM4RE1OFQ8nIXKcI6omxccWeN9wsgoIL41v77bsE/CwBEkqcqyWYTjw29QCJ6I9ZxnWZQrCzv1fooN1VBqEKW5XzBU7Thuys/GC53aeOZfmz8Uy4UbYFmhahF0jofqX+66PPLG1Ph17ZE+v3NgQagCRvyyFtf61eMcv2NRWSe2F+DDifR6Ipm8x4pYMl8dy72PrOY2eMQ3cJqSmgRu3UWfi07KrHIwAFKWAKBrCKnp2J3a7HxwIcjvjpAaWVsajr4Rc//hgv+squDb+ZzSoTp51dZ8rwk5dA7Q5n868nSqqeqPwt1uqSrawsBb2ePR4R19vL1ZaohS0thsJ0nJpZtlS8KvmnhTjRzgWbu+GRp/es8I=
Content-ID: <F0660A247C120846A939210739ED6B51@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: b0d7bc10-2234-42ab-e81f-08d6ef182d4b
X-MS-Exchange-CrossTenant-originalarrivaltime: 12 Jun 2019 09:27:24.2270 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: aisaila@bbu.bitdefender.biz
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR0202MB3501
Subject: Re: [Xen-devel] [PATCH v5] x86/emulate: Send vm_event from emulate
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "andrew.cooper3@citrix.com" <andrew.cooper3@citrix.com>,
 "paul.durrant@citrix.com" <paul.durrant@citrix.com>,
 "rcojocaru@bitdefender.com" <rcojocaru@bitdefender.com>,
 "jbeulich@suse.com" <jbeulich@suse.com>,
 "roger.pau@citrix.com" <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgYWxsLA0KDQpBbnkgcmVtYXJrcyBvbiB0aGUgcGF0Y2ggYXQgaGFuZCBhcmUgYXBwcmVjaWF0
ZWQuDQoNClRoYW5rcywNCkFsZXgNCg0KT24gMDQuMDYuMjAxOSAxNDo0OSwgQWxleGFuZHJ1IFN0
ZWZhbiBJU0FJTEEgd3JvdGU6DQo+IFRoaXMgcGF0Y2ggYWltcyB0byBoYXZlIG1lbSBhY2Nlc3Mg
dm0gZXZlbnRzIHNlbnQgZnJvbSB0aGUgZW11bGF0b3IuDQo+IFRoaXMgaXMgdXNlZnVsIHdoZXJl
IHdlIHdhbnQgdG8gb25seSBlbXVsYXRlIGEgcGFnZSB3YWxrIHdpdGhvdXQNCj4gY2hlY2tpbmcg
dGhlIEVQVCwgYnV0IHdlIHN0aWxsIHdhbnQgdG8gY2hlY2sgdGhlIEVQVCB3aGVuIGVtdWxhdGlu
Zw0KPiB0aGUgaW5zdHJ1Y3Rpb24gdGhhdCBjYXVzZWQgdGhlIHBhZ2Ugd2Fsay4gSW4gdGhpcyBj
YXNlLCB0aGUgb3JpZ2luYWwNCj4gRVBUIGZhdWx0IGlzIGNhdXNlZCBieSB0aGUgd2FsayB0cnlp
bmcgdG8gc2V0IHRoZSBhY2Nlc3NlZCBvciBkaXJ0eQ0KPiBiaXRzLCBidXQgZXhlY3V0aW5nIHRo
ZSBpbnN0cnVjdGlvbiBpdHNlbGYgbWlnaHQgYWxzbyBjYXVzZSBhbiBFUFQNCj4gZmF1bHQgaWYg
cGVybWl0dGVkIHRvIHJ1biwgYW5kIHRoaXMgc2Vjb25kIGZhdWx0IHNob3VsZCBub3QgYmUgbG9z
dC4NCj4gDQo+IFdlIHVzZSBodm1lbXVsX21hcF9saW5lYXJfYWRkcigpIHRvIGludGVyY2VwdCBy
L3cgYWNjZXNzIGFuZA0KPiBfX2h2bV9jb3B5KCkgdG8gaW50ZXJjZXB0IGV4ZWMgYWNjZXNzLg0K
PiANCj4gRmlyc3Qgd2UgdHJ5IHRvIHNlbmQgYSB2bSBldmVudCBhbmQgaWYgdGhlIGV2ZW50IGlz
IHNlbnQgdGhlbiBlbXVsYXRpb24NCj4gcmV0dXJucyBYODZFTVVMX1JFVFJZIGluIG9yZGVyIHRv
IHN0b3AgZW11bGF0aW9uIG9uIGluc3RydWN0aW9ucyB0aGF0DQo+IHVzZSBhY2Nlc3MgcHJvdGVj
dGVkIHBhZ2VzLiBJZiB0aGUgZXZlbnQgaXMgbm90IHNlbnQgdGhlbiB0aGUNCj4gZW11bGF0aW9u
IGdvZXMgb24gYXMgZXhwZWN0ZWQuDQo+IA0KPiBTaWduZWQtb2ZmLWJ5OiBBbGV4YW5kcnUgSXNh
aWxhIDxhaXNhaWxhQGJpdGRlZmVuZGVyLmNvbT4NCj4gDQo+IC0tLQ0KPiBDaGFuZ2VzIHNpbmNl
IFY0Og0KPiAJLSBNb3ZlIHRoZSBleGVjIGludGVyY2VwdGlvbiB0byBfX2h2bV9jb3B5KCkNCj4g
CS0gUmVtb3ZlIHRoZSBwYWdlLXdhbGsgaW4gaHZtX2VtdWxhdGVfc2VuZF92bV9ldmVudCgpIGFu
ZCBnZXQNCj4gdGhlIG5lZWRlZCBhZGRyZXNzIGZyb20gdGhlIGV4aXN0aW5nIHBhZ2Ugd2Fsaw0K
PiAJLSBBZGQgc2VuZF9ldmVudCBwYXJhbSB0byBfX2h2bV9jb3B5KCkgYW5kDQo+IGh2bV9jb3B5
X2Zyb21fZ3Vlc3RfbGluZWFyKCkNCj4gCS0gRHJvcCBYODZFTVVMX0FDQ0VTU19FWENFUFRJT04g
YW5kIHVzZSBYODZFTVVMX1JFVFJZIGluc3RlYWQuDQo+IC0tLQ0KPiAgIHhlbi9hcmNoL3g4Ni9o
dm0vZW11bGF0ZS5jICAgICAgICB8IDcxICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0N
Cj4gICB4ZW4vYXJjaC94ODYvaHZtL2h2bS5jICAgICAgICAgICAgfCAyNyArKysrKysrLS0tLS0N
Cj4gICB4ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm0uYyAgICAgICAgfCAgMiArLQ0KPiAgIHhlbi9h
cmNoL3g4Ni9odm0vdm1fZXZlbnQuYyAgICAgICB8ICAyICstDQo+ICAgeGVuL2FyY2gveDg2L2h2
bS92bXgvdnZteC5jICAgICAgIHwgIDIgKy0NCj4gICB4ZW4vYXJjaC94ODYvbW0vbWVtX2FjY2Vz
cy5jICAgICAgfCAgMyArLQ0KPiAgIHhlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvY29tbW9uLmMgICB8
ICA0ICstDQo+ICAgeGVuL2FyY2gveDg2L21tL3NoYWRvdy9odm0uYyAgICAgIHwgIDIgKy0NCj4g
ICB4ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9lbXVsYXRlLmggfCAgOSArKystDQo+ICAgeGVuL2lu
Y2x1ZGUvYXNtLXg4Ni9odm0vc3VwcG9ydC5oIHwgIDIgKy0NCj4gICAxMCBmaWxlcyBjaGFuZ2Vk
LCAxMDEgaW5zZXJ0aW9ucygrKSwgMjMgZGVsZXRpb25zKC0pDQo+IA0KPiBkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L2h2bS9lbXVsYXRlLmMgYi94ZW4vYXJjaC94ODYvaHZtL2VtdWxhdGUuYw0K
PiBpbmRleCA4NjU5Yzg5ODYyLi45YjJkOGMyMDE0IDEwMDY0NA0KPiAtLS0gYS94ZW4vYXJjaC94
ODYvaHZtL2VtdWxhdGUuYw0KPiArKysgYi94ZW4vYXJjaC94ODYvaHZtL2VtdWxhdGUuYw0KPiBA
QCAtMTIsOSArMTIsMTEgQEANCj4gICAjaW5jbHVkZSA8eGVuL2luaXQuaD4NCj4gICAjaW5jbHVk
ZSA8eGVuL2xpYi5oPg0KPiAgICNpbmNsdWRlIDx4ZW4vc2NoZWQuaD4NCj4gKyNpbmNsdWRlIDx4
ZW4vbW9uaXRvci5oPg0KPiAgICNpbmNsdWRlIDx4ZW4vcGFnaW5nLmg+DQo+ICAgI2luY2x1ZGUg
PHhlbi90cmFjZS5oPg0KPiAgICNpbmNsdWRlIDx4ZW4vdm1fZXZlbnQuaD4NCj4gKyNpbmNsdWRl
IDxhc20vYWx0cDJtLmg+DQo+ICAgI2luY2x1ZGUgPGFzbS9ldmVudC5oPg0KPiAgICNpbmNsdWRl
IDxhc20vaTM4Ny5oPg0KPiAgICNpbmNsdWRlIDxhc20veHN0YXRlLmg+DQo+IEBAIC01MzAsNiAr
NTMyLDU3IEBAIHN0YXRpYyBpbnQgaHZtZW11bF9kb19tbWlvX2FkZHIocGFkZHJfdCBtbWlvX2dw
YSwNCj4gICAgICAgcmV0dXJuIGh2bWVtdWxfZG9faW9fYWRkcigxLCBtbWlvX2dwYSwgcmVwcywg
c2l6ZSwgZGlyLCBkZiwgcmFtX2dwYSk7DQo+ICAgfQ0KPiAgIA0KPiArYm9vbCBodm1fZW11bGF0
ZV9zZW5kX3ZtX2V2ZW50KHVuc2lnbmVkIGxvbmcgZ2xhLCBnZm5fdCBnZm4sDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgcGZlYywgYm9vbCBzZW5kX2V2ZW50KQ0K
PiArew0KPiArICAgIHhlbm1lbV9hY2Nlc3NfdCBhY2Nlc3M7DQo+ICsgICAgdm1fZXZlbnRfcmVx
dWVzdF90IHJlcSA9IHt9Ow0KPiArICAgIHBhZGRyX3QgZ3BhID0gKChnZm5feChnZm4pIDw8IFBB
R0VfU0hJRlQpIHwgKGdsYSAmIH5QQUdFX01BU0spKTsNCj4gKw0KPiArICAgIGlmICggIXNlbmRf
ZXZlbnQgfHwgIXBmZWMgKQ0KPiArICAgICAgICByZXR1cm4gZmFsc2U7DQo+ICsNCj4gKyAgICBp
ZiAoIHAybV9nZXRfbWVtX2FjY2VzcyhjdXJyZW50LT5kb21haW4sIGdmbiwgJmFjY2VzcywNCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRwMm1fdmNwdV9pZHgoY3VycmVudCkpICE9
IDAgKQ0KPiArICAgICAgICByZXR1cm4gZmFsc2U7DQo+ICsNCj4gKyAgICBzd2l0Y2ggKCBhY2Nl
c3MgKSB7DQo+ICsgICAgY2FzZSBYRU5NRU1fYWNjZXNzX3g6DQo+ICsgICAgY2FzZSBYRU5NRU1f
YWNjZXNzX3J4Og0KPiArICAgICAgICBpZiAoIHBmZWMgJiBQRkVDX3dyaXRlX2FjY2VzcyApDQo+
ICsgICAgICAgICAgICByZXEudS5tZW1fYWNjZXNzLmZsYWdzID0gTUVNX0FDQ0VTU19SIHwgTUVN
X0FDQ0VTU19XOw0KPiArICAgICAgICBicmVhazsNCj4gKw0KPiArICAgIGNhc2UgWEVOTUVNX2Fj
Y2Vzc193Og0KPiArICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19ydzoNCj4gKyAgICAgICAgaWYgKCBw
ZmVjICYgUEZFQ19pbnNuX2ZldGNoICkNCj4gKyAgICAgICAgICAgIHJlcS51Lm1lbV9hY2Nlc3Mu
ZmxhZ3MgPSBNRU1fQUNDRVNTX1g7DQo+ICsgICAgICAgIGJyZWFrOw0KPiArDQo+ICsgICAgY2Fz
ZSBYRU5NRU1fYWNjZXNzX3I6DQo+ICsgICAgY2FzZSBYRU5NRU1fYWNjZXNzX246DQo+ICsgICAg
ICAgIGlmICggcGZlYyAmIFBGRUNfd3JpdGVfYWNjZXNzICkNCj4gKyAgICAgICAgICAgIHJlcS51
Lm1lbV9hY2Nlc3MuZmxhZ3MgfD0gTUVNX0FDQ0VTU19SIHwgTUVNX0FDQ0VTU19XOw0KPiArICAg
ICAgICBpZiAoIHBmZWMgJiBQRkVDX2luc25fZmV0Y2ggKQ0KPiArICAgICAgICAgICAgcmVxLnUu
bWVtX2FjY2Vzcy5mbGFncyB8PSBNRU1fQUNDRVNTX1g7DQo+ICsgICAgICAgIGJyZWFrOw0KPiAr
DQo+ICsgICAgZGVmYXVsdDoNCj4gKyAgICAgICAgcmV0dXJuIGZhbHNlOw0KPiArICAgIH0NCj4g
Kw0KPiArICAgIGlmICggIXJlcS51Lm1lbV9hY2Nlc3MuZmxhZ3MgKQ0KPiArICAgICAgICByZXR1
cm4gZmFsc2U7IC8qIG5vIHZpb2xhdGlvbiAqLw0KPiArDQo+ICsgICAgcmVxLnJlYXNvbiA9IFZN
X0VWRU5UX1JFQVNPTl9NRU1fQUNDRVNTOw0KPiArICAgIHJlcS51Lm1lbV9hY2Nlc3MuZ2ZuID0g
Z2ZuX3goZ2ZuKTsNCj4gKyAgICByZXEudS5tZW1fYWNjZXNzLmZsYWdzIHw9IE1FTV9BQ0NFU1Nf
RkFVTFRfV0lUSF9HTEEgfCBNRU1fQUNDRVNTX0dMQV9WQUxJRDsNCj4gKyAgICByZXEudS5tZW1f
YWNjZXNzLmdsYSA9IGdsYTsNCj4gKyAgICByZXEudS5tZW1fYWNjZXNzLm9mZnNldCA9IGdwYSAm
ICgoMSA8PCBQQUdFX1NISUZUKSAtIDEpOw0KPiArDQo+ICsgICAgcmV0dXJuIG1vbml0b3JfdHJh
cHMoY3VycmVudCwgdHJ1ZSwgJnJlcSkgPj0gMDsNCj4gK30NCj4gKw0KPiAgIC8qDQo+ICAgICog
TWFwIHRoZSBmcmFtZShzKSBjb3ZlcmluZyBhbiBpbmRpdmlkdWFsIGxpbmVhciBhY2Nlc3MsIGZv
ciB3cml0ZWFibGUNCj4gICAgKiBhY2Nlc3MuICBNYXkgcmV0dXJuIE5VTEwgZm9yIE1NSU8sIG9y
IEVSUl9QVFIoflg4NkVNVUxfKikgZm9yIG90aGVyIGVycm9ycw0KPiBAQCAtNTQ3LDYgKzYwMCw3
IEBAIHN0YXRpYyB2b2lkICpodm1lbXVsX21hcF9saW5lYXJfYWRkcigNCj4gICAgICAgdW5zaWdu
ZWQgaW50IG5yX2ZyYW1lcyA9ICgobGluZWFyICsgYnl0ZXMgLSAhIWJ5dGVzKSA+PiBQQUdFX1NI
SUZUKSAtDQo+ICAgICAgICAgICAobGluZWFyID4+IFBBR0VfU0hJRlQpICsgMTsNCj4gICAgICAg
dW5zaWduZWQgaW50IGk7DQo+ICsgICAgZ2ZuX3QgZ2ZuOw0KPiAgIA0KPiAgICAgICAvKg0KPiAg
ICAgICAgKiBtZm4gcG9pbnRzIHRvIHRoZSBuZXh0IGZyZWUgc2xvdC4gIEFsbCB1c2VkIHNsb3Rz
IGhhdmUgYSBwYWdlIHJlZmVyZW5jZQ0KPiBAQCAtNTg1LDcgKzYzOSw3IEBAIHN0YXRpYyB2b2lk
ICpodm1lbXVsX21hcF9saW5lYXJfYWRkcigNCj4gICAgICAgICAgIEFTU0VSVChtZm5feCgqbWZu
KSA9PSAwKTsNCj4gICANCj4gICAgICAgICAgIHJlcyA9IGh2bV90cmFuc2xhdGVfZ2V0X3BhZ2Uo
Y3VyciwgYWRkciwgdHJ1ZSwgcGZlYywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmcGZpbmZvLCAmcGFnZSwgTlVMTCwgJnAybXQpOw0KPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICZwZmluZm8sICZwYWdlLCAmZ2ZuLCAmcDJtdCk7DQo+ICAg
DQo+ICAgICAgICAgICBzd2l0Y2ggKCByZXMgKQ0KPiAgICAgICAgICAgew0KPiBAQCAtNjE1LDYg
KzY2OSwxMyBAQCBzdGF0aWMgdm9pZCAqaHZtZW11bF9tYXBfbGluZWFyX2FkZHIoDQo+ICAgDQo+
ICAgICAgICAgICBpZiAoIHBmZWMgJiBQRkVDX3dyaXRlX2FjY2VzcyApDQo+ICAgICAgICAgICB7
DQo+ICsgICAgICAgICAgICBpZiAoIGh2bV9lbXVsYXRlX3NlbmRfdm1fZXZlbnQoYWRkciwgZ2Zu
LCBwZmVjLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2
bWVtdWxfY3R4dC0+c2VuZF9ldmVudCkgKQ0KPiArICAgICAgICAgICAgew0KPiArICAgICAgICAg
ICAgICAgIGVyciA9IEVSUl9QVFIoflg4NkVNVUxfUkVUUlkpOw0KPiArICAgICAgICAgICAgICAg
IGdvdG8gb3V0Ow0KPiArICAgICAgICAgICAgfQ0KPiArDQo+ICAgICAgICAgICAgICAgaWYgKCBw
Mm1faXNfZGlzY2FyZF93cml0ZShwMm10KSApDQo+ICAgICAgICAgICAgICAgew0KPiAgICAgICAg
ICAgICAgICAgICBlcnIgPSBFUlJfUFRSKH5YODZFTVVMX09LQVkpOw0KPiBAQCAtMTExNSw3ICsx
MTc2LDggQEAgc3RhdGljIGludCBsaW5lYXJfcmVhZCh1bnNpZ25lZCBsb25nIGFkZHIsIHVuc2ln
bmVkIGludCBieXRlcywgdm9pZCAqcF9kYXRhLA0KPiAgICAgICAgKiBjbGVhbiB1cCBhbnkgaW50
ZXJpbSBzdGF0ZS4NCj4gICAgICAgICovDQo+ICAgICAgIGlmICggIWh2bWVtdWxfZmluZF9tbWlv
X2NhY2hlKHZpbywgYWRkciwgSU9SRVFfUkVBRCwgZmFsc2UpICkNCj4gLSAgICAgICAgcmMgPSBo
dm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcihwX2RhdGEsIGFkZHIsIGJ5dGVzLCBwZmVjLCAmcGZp
bmZvKTsNCj4gKyAgICAgICAgcmMgPSBodm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcihwX2RhdGEs
IGFkZHIsIGJ5dGVzLCBwZmVjLCAmcGZpbmZvLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGh2bWVtdWxfY3R4dC0+c2VuZF9ldmVudCk7DQo+ICAgDQo+ICAgICAg
IHN3aXRjaCAoIHJjICkNCj4gICAgICAgew0KPiBAQCAtMjUwOSwxMiArMjU3MSwxMyBAQCBpbnQg
aHZtX2VtdWxhdGVfb25lX21taW8odW5zaWduZWQgbG9uZyBtZm4sIHVuc2lnbmVkIGxvbmcgZ2xh
KQ0KPiAgIH0NCj4gICANCj4gICB2b2lkIGh2bV9lbXVsYXRlX29uZV92bV9ldmVudChlbnVtIGVt
dWxfa2luZCBraW5kLCB1bnNpZ25lZCBpbnQgdHJhcG5yLA0KPiAtICAgIHVuc2lnbmVkIGludCBl
cnJjb2RlKQ0KPiArICAgIHVuc2lnbmVkIGludCBlcnJjb2RlLCBib29sIHNlbmRfZXZlbnQpDQo+
ICAgew0KPiAgICAgICBzdHJ1Y3QgaHZtX2VtdWxhdGVfY3R4dCBjdHggPSB7eyAwIH19Ow0KPiAg
ICAgICBpbnQgcmM7DQo+ICAgDQo+ICAgICAgIGh2bV9lbXVsYXRlX2luaXRfb25jZSgmY3R4LCBO
VUxMLCBndWVzdF9jcHVfdXNlcl9yZWdzKCkpOw0KPiArICAgIGN0eC5zZW5kX2V2ZW50ID0gc2Vu
ZF9ldmVudDsNCj4gICANCj4gICAgICAgc3dpdGNoICgga2luZCApDQo+ICAgICAgIHsNCj4gQEAg
LTI2MjksNyArMjY5Miw3IEBAIHZvaWQgaHZtX2VtdWxhdGVfaW5pdF9wZXJfaW5zbigNCj4gICAg
ICAgICAgICAgICAgaHZtX2NvcHlfZnJvbV9ndWVzdF9saW5lYXIoaHZtZW11bF9jdHh0LT5pbnNu
X2J1ZiwgYWRkciwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c2l6ZW9mKGh2bWVtdWxfY3R4dC0+aW5zbl9idWYpLA0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBwZmVjIHwgUEZFQ19pbnNuX2ZldGNoLA0KPiAtICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5VTEwpID09IEhWTVRSQU5TX29rYXkpID8N
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVUxMLCBmYWxzZSkg
PT0gSFZNVFJBTlNfb2theSkgPw0KPiAgICAgICAgICAgICAgIHNpemVvZihodm1lbXVsX2N0eHQt
Pmluc25fYnVmKSA6IDA7DQo+ICAgICAgIH0NCj4gICAgICAgZWxzZQ0KPiBkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L2h2bS9odm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMNCj4gaW5kZXgg
MDI5ZWVhM2I4NS4uZjZkZjU3YjQ0MiAxMDA2NDQNCj4gLS0tIGEveGVuL2FyY2gveDg2L2h2bS9o
dm0uYw0KPiArKysgYi94ZW4vYXJjaC94ODYvaHZtL2h2bS5jDQo+IEBAIC0yOTQyLDcgKzI5NDIs
NyBAQCB2b2lkIGh2bV90YXNrX3N3aXRjaCgNCj4gICAgICAgfQ0KPiAgIA0KPiAgICAgICByYyA9
IGh2bV9jb3B5X2Zyb21fZ3Vlc3RfbGluZWFyKA0KPiAtICAgICAgICAmdHNzLCBwcmV2X3RyLmJh
c2UsIHNpemVvZih0c3MpLCBQRkVDX3BhZ2VfcHJlc2VudCwgJnBmaW5mbyk7DQo+ICsgICAgICAg
ICZ0c3MsIHByZXZfdHIuYmFzZSwgc2l6ZW9mKHRzcyksIFBGRUNfcGFnZV9wcmVzZW50LCAmcGZp
bmZvLCBmYWxzZSk7DQo+ICAgICAgIGlmICggcmMgPT0gSFZNVFJBTlNfYmFkX2xpbmVhcl90b19n
Zm4gKQ0KPiAgICAgICAgICAgaHZtX2luamVjdF9wYWdlX2ZhdWx0KHBmaW5mby5lYywgcGZpbmZv
LmxpbmVhcik7DQo+ICAgICAgIGlmICggcmMgIT0gSFZNVFJBTlNfb2theSApDQo+IEBAIC0yOTg5
LDcgKzI5ODksNyBAQCB2b2lkIGh2bV90YXNrX3N3aXRjaCgNCj4gICAgICAgICAgIGdvdG8gb3V0
Ow0KPiAgIA0KPiAgICAgICByYyA9IGh2bV9jb3B5X2Zyb21fZ3Vlc3RfbGluZWFyKA0KPiAtICAg
ICAgICAmdHNzLCB0ci5iYXNlLCBzaXplb2YodHNzKSwgUEZFQ19wYWdlX3ByZXNlbnQsICZwZmlu
Zm8pOw0KPiArICAgICAgICAmdHNzLCB0ci5iYXNlLCBzaXplb2YodHNzKSwgUEZFQ19wYWdlX3By
ZXNlbnQsICZwZmluZm8sIGZhbHNlKTsNCj4gICAgICAgaWYgKCByYyA9PSBIVk1UUkFOU19iYWRf
bGluZWFyX3RvX2dmbiApDQo+ICAgICAgICAgICBodm1faW5qZWN0X3BhZ2VfZmF1bHQocGZpbmZv
LmVjLCBwZmluZm8ubGluZWFyKTsNCj4gICAgICAgLyoNCj4gQEAgLTMxODAsNyArMzE4MCw3IEBA
IGVudW0gaHZtX3RyYW5zbGF0aW9uX3Jlc3VsdCBodm1fdHJhbnNsYXRlX2dldF9wYWdlKA0KPiAg
ICNkZWZpbmUgSFZNQ09QWV9saW5lYXIgICAgICgxdTw8MikNCj4gICBzdGF0aWMgZW51bSBodm1f
dHJhbnNsYXRpb25fcmVzdWx0IF9faHZtX2NvcHkoDQo+ICAgICAgIHZvaWQgKmJ1ZiwgcGFkZHJf
dCBhZGRyLCBpbnQgc2l6ZSwgc3RydWN0IHZjcHUgKnYsIHVuc2lnbmVkIGludCBmbGFncywNCj4g
LSAgICB1aW50MzJfdCBwZmVjLCBwYWdlZmF1bHRfaW5mb190ICpwZmluZm8pDQo+ICsgICAgdWlu
dDMyX3QgcGZlYywgcGFnZWZhdWx0X2luZm9fdCAqcGZpbmZvLCBib29sIHNlbmRfZXZlbnQpDQo+
ICAgew0KPiAgICAgICBnZm5fdCBnZm47DQo+ICAgICAgIHN0cnVjdCBwYWdlX2luZm8gKnBhZ2U7
DQo+IEBAIC0zMjI0LDYgKzMyMjQsMTIgQEAgc3RhdGljIGVudW0gaHZtX3RyYW5zbGF0aW9uX3Jl
c3VsdCBfX2h2bV9jb3B5KA0KPiAgICAgICAgICAgICAgIHJldHVybiBIVk1UUkFOU19iYWRfZ2Zu
X3RvX21mbjsNCj4gICAgICAgICAgIH0NCj4gICANCj4gKyAgICAgICAgaWYgKCBodm1fZW11bGF0
ZV9zZW5kX3ZtX2V2ZW50KGFkZHIsIGdmbiwgcGZlYywgc2VuZF9ldmVudCkgKQ0KPiArICAgICAg
ICB7DQo+ICsgICAgICAgICAgICBwdXRfcGFnZShwYWdlKTsNCj4gKyAgICAgICAgICAgIHJldHVy
biBIVk1UUkFOU19nZm5fcGFnZWRfb3V0Ow0KPiArICAgICAgICB9DQo+ICsNCj4gICAgICAgICAg
IHAgPSAoY2hhciAqKV9fbWFwX2RvbWFpbl9wYWdlKHBhZ2UpICsgKGFkZHIgJiB+UEFHRV9NQVNL
KTsNCj4gICANCj4gICAgICAgICAgIGlmICggZmxhZ3MgJiBIVk1DT1BZX3RvX2d1ZXN0ICkNCj4g
QEAgLTMyNjcsMTQgKzMyNzMsMTQgQEAgZW51bSBodm1fdHJhbnNsYXRpb25fcmVzdWx0IGh2bV9j
b3B5X3RvX2d1ZXN0X3BoeXMoDQo+ICAgICAgIHBhZGRyX3QgcGFkZHIsIHZvaWQgKmJ1ZiwgaW50
IHNpemUsIHN0cnVjdCB2Y3B1ICp2KQ0KPiAgIHsNCj4gICAgICAgcmV0dXJuIF9faHZtX2NvcHko
YnVmLCBwYWRkciwgc2l6ZSwgdiwNCj4gLSAgICAgICAgICAgICAgICAgICAgICBIVk1DT1BZX3Rv
X2d1ZXN0IHwgSFZNQ09QWV9waHlzLCAwLCBOVUxMKTsNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICBIVk1DT1BZX3RvX2d1ZXN0IHwgSFZNQ09QWV9waHlzLCAwLCBOVUxMLCBmYWxzZSk7DQo+ICAg
fQ0KPiAgIA0KPiAgIGVudW0gaHZtX3RyYW5zbGF0aW9uX3Jlc3VsdCBodm1fY29weV9mcm9tX2d1
ZXN0X3BoeXMoDQo+ICAgICAgIHZvaWQgKmJ1ZiwgcGFkZHJfdCBwYWRkciwgaW50IHNpemUpDQo+
ICAgew0KPiAgICAgICByZXR1cm4gX19odm1fY29weShidWYsIHBhZGRyLCBzaXplLCBjdXJyZW50
LA0KPiAtICAgICAgICAgICAgICAgICAgICAgIEhWTUNPUFlfZnJvbV9ndWVzdCB8IEhWTUNPUFlf
cGh5cywgMCwgTlVMTCk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgSFZNQ09QWV9mcm9tX2d1
ZXN0IHwgSFZNQ09QWV9waHlzLCAwLCBOVUxMLCBmYWxzZSk7DQo+ICAgfQ0KPiAgIA0KPiAgIGVu
dW0gaHZtX3RyYW5zbGF0aW9uX3Jlc3VsdCBodm1fY29weV90b19ndWVzdF9saW5lYXIoDQo+IEBA
IC0zMjgzLDE2ICszMjg5LDE3IEBAIGVudW0gaHZtX3RyYW5zbGF0aW9uX3Jlc3VsdCBodm1fY29w
eV90b19ndWVzdF9saW5lYXIoDQo+ICAgew0KPiAgICAgICByZXR1cm4gX19odm1fY29weShidWYs
IGFkZHIsIHNpemUsIGN1cnJlbnQsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIEhWTUNPUFlf
dG9fZ3Vlc3QgfCBIVk1DT1BZX2xpbmVhciwNCj4gLSAgICAgICAgICAgICAgICAgICAgICBQRkVD
X3BhZ2VfcHJlc2VudCB8IFBGRUNfd3JpdGVfYWNjZXNzIHwgcGZlYywgcGZpbmZvKTsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICBQRkVDX3BhZ2VfcHJlc2VudCB8IFBGRUNfd3JpdGVfYWNjZXNz
IHwgcGZlYywgcGZpbmZvLA0KPiArICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTsNCj4gICB9
DQo+ICAgDQo+ICAgZW51bSBodm1fdHJhbnNsYXRpb25fcmVzdWx0IGh2bV9jb3B5X2Zyb21fZ3Vl
c3RfbGluZWFyKA0KPiAgICAgICB2b2lkICpidWYsIHVuc2lnbmVkIGxvbmcgYWRkciwgaW50IHNp
emUsIHVpbnQzMl90IHBmZWMsDQo+IC0gICAgcGFnZWZhdWx0X2luZm9fdCAqcGZpbmZvKQ0KPiAr
ICAgIHBhZ2VmYXVsdF9pbmZvX3QgKnBmaW5mbywgYm9vbCBzZW5kX2V2ZW50KQ0KPiAgIHsNCj4g
ICAgICAgcmV0dXJuIF9faHZtX2NvcHkoYnVmLCBhZGRyLCBzaXplLCBjdXJyZW50LA0KPiAgICAg
ICAgICAgICAgICAgICAgICAgICBIVk1DT1BZX2Zyb21fZ3Vlc3QgfCBIVk1DT1BZX2xpbmVhciwN
Cj4gLSAgICAgICAgICAgICAgICAgICAgICBQRkVDX3BhZ2VfcHJlc2VudCB8IHBmZWMsIHBmaW5m
byk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgUEZFQ19wYWdlX3ByZXNlbnQgfCBwZmVjLCBw
ZmluZm8sIHNlbmRfZXZlbnQpOw0KPiAgIH0NCj4gICANCj4gICB1bnNpZ25lZCBsb25nIGNvcHlf
dG9fdXNlcl9odm0odm9pZCAqdG8sIGNvbnN0IHZvaWQgKmZyb20sIHVuc2lnbmVkIGludCBsZW4p
DQo+IEBAIC0zMzMzLDcgKzMzNDAsNyBAQCB1bnNpZ25lZCBsb25nIGNvcHlfZnJvbV91c2VyX2h2
bSh2b2lkICp0bywgY29uc3Qgdm9pZCAqZnJvbSwgdW5zaWduZWQgbGVuKQ0KPiAgICAgICAgICAg
cmV0dXJuIDA7DQo+ICAgICAgIH0NCj4gICANCj4gLSAgICByYyA9IGh2bV9jb3B5X2Zyb21fZ3Vl
c3RfbGluZWFyKHRvLCAodW5zaWduZWQgbG9uZylmcm9tLCBsZW4sIDAsIE5VTEwpOw0KPiArICAg
IHJjID0gaHZtX2NvcHlfZnJvbV9ndWVzdF9saW5lYXIodG8sICh1bnNpZ25lZCBsb25nKWZyb20s
IGxlbiwgMCwgTlVMTCwgZmFsc2UpOw0KPiAgICAgICByZXR1cm4gcmMgPyBsZW4gOiAwOyAvKiBm
YWtlIGEgY29weV9mcm9tX3VzZXIoKSByZXR1cm4gY29kZSAqLw0KPiAgIH0NCj4gICANCj4gQEAg
LTM3MDcsNyArMzcxNCw3IEBAIHZvaWQgaHZtX3VkX2ludGVyY2VwdChzdHJ1Y3QgY3B1X3VzZXJf
cmVncyAqcmVncykNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c2l6ZW9mKHNpZyksIGh2bV9hY2Nlc3NfaW5zbl9mZXRjaCwNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY3MsICZhZGRyKSAmJg0KPiAgICAgICAgICAgICAgICAo
aHZtX2NvcHlfZnJvbV9ndWVzdF9saW5lYXIoc2lnLCBhZGRyLCBzaXplb2Yoc2lnKSwNCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FsaywgTlVMTCkgPT0gSFZN
VFJBTlNfb2theSkgJiYNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgd2FsaywgTlVMTCwgZmFsc2UpID09IEhWTVRSQU5TX29rYXkpICYmDQo+ICAgICAgICAgICAg
ICAgIChtZW1jbXAoc2lnLCAiXHhmXHhieGVuIiwgc2l6ZW9mKHNpZykpID09IDApICkNCj4gICAg
ICAgICAgIHsNCj4gICAgICAgICAgICAgICByZWdzLT5yaXAgKz0gc2l6ZW9mKHNpZyk7DQo+IGRp
ZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm0uYyBiL3hlbi9hcmNoL3g4Ni9odm0v
c3ZtL3N2bS5jDQo+IGluZGV4IGNkNmE2YjM4MmIuLmQwZDFkN2UwYTcgMTAwNjQ0DQo+IC0tLSBh
L3hlbi9hcmNoL3g4Ni9odm0vc3ZtL3N2bS5jDQo+ICsrKyBiL3hlbi9hcmNoL3g4Ni9odm0vc3Zt
L3N2bS5jDQo+IEBAIC0xMjU1LDcgKzEyNTUsNyBAQCBzdGF0aWMgdm9pZCBzdm1fZW11bF9zd2lu
dF9pbmplY3Rpb24oc3RydWN0IHg4Nl9ldmVudCAqZXZlbnQpDQo+ICAgICAgICAgICBnb3RvIHJh
aXNlX2V4Y2VwdGlvbjsNCj4gICANCj4gICAgICAgcmMgPSBodm1fY29weV9mcm9tX2d1ZXN0X2xp
bmVhcigmaWR0ZSwgaWR0ZV9saW5lYXJfYWRkciwgaWR0ZV9zaXplLA0KPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgUEZFQ19pbXBsaWNpdCwgJnBmaW5mbyk7DQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQRkVDX2ltcGxpY2l0LCAmcGZpbmZvLCBm
YWxzZSk7DQo+ICAgICAgIGlmICggcmMgKQ0KPiAgICAgICB7DQo+ICAgICAgICAgICBpZiAoIHJj
ID09IEhWTVRSQU5TX2JhZF9saW5lYXJfdG9fZ2ZuICkNCj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNo
L3g4Ni9odm0vdm1fZXZlbnQuYyBiL3hlbi9hcmNoL3g4Ni9odm0vdm1fZXZlbnQuYw0KPiBpbmRl
eCAxMjFkZTIzMDcxLi42ZDIwM2U4ZGI1IDEwMDY0NA0KPiAtLS0gYS94ZW4vYXJjaC94ODYvaHZt
L3ZtX2V2ZW50LmMNCj4gKysrIGIveGVuL2FyY2gveDg2L2h2bS92bV9ldmVudC5jDQo+IEBAIC04
Nyw3ICs4Nyw3IEBAIHZvaWQgaHZtX3ZtX2V2ZW50X2RvX3Jlc3VtZShzdHJ1Y3QgdmNwdSAqdikN
Cj4gICAgICAgICAgICAgICBraW5kID0gRU1VTF9LSU5EX1NFVF9DT05URVhUX0lOU047DQo+ICAg
DQo+ICAgICAgICAgICBodm1fZW11bGF0ZV9vbmVfdm1fZXZlbnQoa2luZCwgVFJBUF9pbnZhbGlk
X29wLA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWDg2X0VWRU5UX05PX0VD
KTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFg4Nl9FVkVOVF9OT19FQywg
ZmFsc2UpOw0KPiAgIA0KPiAgICAgICAgICAgdi0+YXJjaC52bV9ldmVudC0+ZW11bGF0ZV9mbGFn
cyA9IDA7DQo+ICAgICAgIH0NCj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9odm0vdm14L3Z2
bXguYyBiL3hlbi9hcmNoL3g4Ni9odm0vdm14L3Z2bXguYw0KPiBpbmRleCA3YmNhNTcyZDg4Li4w
NGJlOGI5OGI2IDEwMDY0NA0KPiAtLS0gYS94ZW4vYXJjaC94ODYvaHZtL3ZteC92dm14LmMNCj4g
KysrIGIveGVuL2FyY2gveDg2L2h2bS92bXgvdnZteC5jDQo+IEBAIC00MjYsNyArNDI2LDcgQEAg
c3RhdGljIGludCBkZWNvZGVfdm14X2luc3Qoc3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MsDQo+
ICAgICAgICAgICB7DQo+ICAgICAgICAgICAgICAgcGFnZWZhdWx0X2luZm9fdCBwZmluZm87DQo+
ICAgICAgICAgICAgICAgaW50IHJjID0gaHZtX2NvcHlfZnJvbV9ndWVzdF9saW5lYXIocG9wZXJh
bmRTLCBiYXNlLCBzaXplLA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgMCwgJnBmaW5mbyk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAwLCAmcGZpbmZvLCBmYWxzZSk7DQo+ICAgDQo+ICAgICAgICAg
ICAgICAgaWYgKCByYyA9PSBIVk1UUkFOU19iYWRfbGluZWFyX3RvX2dmbiApDQo+ICAgICAgICAg
ICAgICAgICAgIGh2bV9pbmplY3RfcGFnZV9mYXVsdChwZmluZm8uZWMsIHBmaW5mby5saW5lYXIp
Ow0KPiBkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L21tL21lbV9hY2Nlc3MuYyBiL3hlbi9hcmNo
L3g4Ni9tbS9tZW1fYWNjZXNzLmMNCj4gaW5kZXggMDE0NGY5MmI5OC4uYzk5NzJiYWI4YyAxMDA2
NDQNCj4gLS0tIGEveGVuL2FyY2gveDg2L21tL21lbV9hY2Nlc3MuYw0KPiArKysgYi94ZW4vYXJj
aC94ODYvbW0vbWVtX2FjY2Vzcy5jDQo+IEBAIC0yMTQsNyArMjE0LDggQEAgYm9vbCBwMm1fbWVt
X2FjY2Vzc19jaGVjayhwYWRkcl90IGdwYSwgdW5zaWduZWQgbG9uZyBnbGEsDQo+ICAgICAgICAg
ICAgZC0+YXJjaC5tb25pdG9yLmluZ3Vlc3RfcGFnZWZhdWx0X2Rpc2FibGVkICYmDQo+ICAgICAg
ICAgICAgbnBmZWMua2luZCAhPSBucGZlY19raW5kX3dpdGhfZ2xhICkgLyogZG9uJ3Qgc2VuZCBh
IG1lbV9ldmVudCAqLw0KPiAgICAgICB7DQo+IC0gICAgICAgIGh2bV9lbXVsYXRlX29uZV92bV9l
dmVudChFTVVMX0tJTkRfTk9STUFMLCBUUkFQX2ludmFsaWRfb3AsIFg4Nl9FVkVOVF9OT19FQyk7
DQo+ICsgICAgICAgIGh2bV9lbXVsYXRlX29uZV92bV9ldmVudChFTVVMX0tJTkRfTk9STUFMLCBU
UkFQX2ludmFsaWRfb3AsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYODZf
RVZFTlRfTk9fRUMsIHRydWUpOw0KPiAgIA0KPiAgICAgICAgICAgcmV0dXJuIHRydWU7DQo+ICAg
ICAgIH0NCj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvY29tbW9uLmMgYi94
ZW4vYXJjaC94ODYvbW0vc2hhZG93L2NvbW1vbi5jDQo+IGluZGV4IDc5NTIwMWRjODIuLjJiYjgw
YWNjZjAgMTAwNjQ0DQo+IC0tLSBhL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvY29tbW9uLmMNCj4g
KysrIGIveGVuL2FyY2gveDg2L21tL3NoYWRvdy9jb21tb24uYw0KPiBAQCAtMTY2LDcgKzE2Niw3
IEBAIGNvbnN0IHN0cnVjdCB4ODZfZW11bGF0ZV9vcHMgKnNoYWRvd19pbml0X2VtdWxhdGlvbigN
Cj4gICAgICAgICAgICAgICBodm1fYWNjZXNzX2luc25fZmV0Y2gsIHNoX2N0eHQsICZhZGRyKSAm
Jg0KPiAgICAgICAgICAgICFodm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcigNCj4gICAgICAgICAg
ICAgICAgc2hfY3R4dC0+aW5zbl9idWYsIGFkZHIsIHNpemVvZihzaF9jdHh0LT5pbnNuX2J1Ziks
DQo+IC0gICAgICAgICAgICAgUEZFQ19pbnNuX2ZldGNoLCBOVUxMKSkNCj4gKyAgICAgICAgICAg
ICBQRkVDX2luc25fZmV0Y2gsIE5VTEwsIGZhbHNlKSkNCj4gICAgICAgICAgID8gc2l6ZW9mKHNo
X2N0eHQtPmluc25fYnVmKSA6IDA7DQo+ICAgDQo+ICAgICAgIHJldHVybiAmaHZtX3NoYWRvd19l
bXVsYXRvcl9vcHM7DQo+IEBAIC0yMDEsNyArMjAxLDcgQEAgdm9pZCBzaGFkb3dfY29udGludWVf
ZW11bGF0aW9uKHN0cnVjdCBzaF9lbXVsYXRlX2N0eHQgKnNoX2N0eHQsDQo+ICAgICAgICAgICAg
ICAgICAgIGh2bV9hY2Nlc3NfaW5zbl9mZXRjaCwgc2hfY3R4dCwgJmFkZHIpICYmDQo+ICAgICAg
ICAgICAgICAgICFodm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcigNCj4gICAgICAgICAgICAgICAg
ICAgIHNoX2N0eHQtPmluc25fYnVmLCBhZGRyLCBzaXplb2Yoc2hfY3R4dC0+aW5zbl9idWYpLA0K
PiAtICAgICAgICAgICAgICAgICBQRkVDX2luc25fZmV0Y2gsIE5VTEwpKQ0KPiArICAgICAgICAg
ICAgICAgICBQRkVDX2luc25fZmV0Y2gsIE5VTEwsIGZhbHNlKSkNCj4gICAgICAgICAgICAgICA/
IHNpemVvZihzaF9jdHh0LT5pbnNuX2J1ZikgOiAwOw0KPiAgICAgICAgICAgc2hfY3R4dC0+aW5z
bl9idWZfZWlwID0gcmVncy0+cmlwOw0KPiAgICAgICB9DQo+IGRpZmYgLS1naXQgYS94ZW4vYXJj
aC94ODYvbW0vc2hhZG93L2h2bS5jIGIveGVuL2FyY2gveDg2L21tL3NoYWRvdy9odm0uYw0KPiBp
bmRleCBjNjQ2OWM4NDZjLi4zODQxZDBjZWI3IDEwMDY0NA0KPiAtLS0gYS94ZW4vYXJjaC94ODYv
bW0vc2hhZG93L2h2bS5jDQo+ICsrKyBiL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvaHZtLmMNCj4g
QEAgLTEyNSw3ICsxMjUsNyBAQCBodm1fcmVhZChlbnVtIHg4Nl9zZWdtZW50IHNlZywNCj4gICAg
ICAgcmMgPSBodm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcihwX2RhdGEsIGFkZHIsIGJ5dGVzLA0K
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhY2Nlc3NfdHlwZSA9PSBo
dm1fYWNjZXNzX2luc25fZmV0Y2gNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgPyBQRkVDX2luc25fZmV0Y2ggOiAwKSwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICZwZmluZm8pOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJnBmaW5mbywgZmFsc2UpOw0KPiAgIA0KPiAgICAgICBzd2l0Y2ggKCByYyApDQo+ICAg
ICAgIHsNCj4gZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL2VtdWxhdGUuaCBi
L3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL2VtdWxhdGUuaA0KPiBpbmRleCBiMzlhMWEwMzMxLi45
YmVkMGFhODNlIDEwMDY0NA0KPiAtLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9lbXVsYXRl
LmgNCj4gKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vZW11bGF0ZS5oDQo+IEBAIC00Nyw2
ICs0Nyw3IEBAIHN0cnVjdCBodm1fZW11bGF0ZV9jdHh0IHsNCj4gICAgICAgdWludDMyX3QgaW50
cl9zaGFkb3c7DQo+ICAgDQo+ICAgICAgIGJvb2xfdCBzZXRfY29udGV4dDsNCj4gKyAgICBib29s
IHNlbmRfZXZlbnQ7DQo+ICAgfTsNCj4gICANCj4gICBlbnVtIGVtdWxfa2luZCB7DQo+IEBAIC02
Myw3ICs2NCw4IEBAIGludCBodm1fZW11bGF0ZV9vbmUoDQo+ICAgICAgIHN0cnVjdCBodm1fZW11
bGF0ZV9jdHh0ICpodm1lbXVsX2N0eHQpOw0KPiAgIHZvaWQgaHZtX2VtdWxhdGVfb25lX3ZtX2V2
ZW50KGVudW0gZW11bF9raW5kIGtpbmQsDQo+ICAgICAgIHVuc2lnbmVkIGludCB0cmFwbnIsDQo+
IC0gICAgdW5zaWduZWQgaW50IGVycmNvZGUpOw0KPiArICAgIHVuc2lnbmVkIGludCBlcnJjb2Rl
LA0KPiArICAgIGJvb2wgc2VuZF9ldmVudCk7DQo+ICAgLyogTXVzdCBiZSBjYWxsZWQgb25jZSB0
byBzZXQgdXAgaHZtZW11bCBzdGF0ZS4gKi8NCj4gICB2b2lkIGh2bV9lbXVsYXRlX2luaXRfb25j
ZSgNCj4gICAgICAgc3RydWN0IGh2bV9lbXVsYXRlX2N0eHQgKmh2bWVtdWxfY3R4dCwNCj4gQEAg
LTgwLDYgKzgyLDExIEBAIHN0cnVjdCBzZWdtZW50X3JlZ2lzdGVyICpodm1lbXVsX2dldF9zZWdf
cmVnKA0KPiAgICAgICBlbnVtIHg4Nl9zZWdtZW50IHNlZywNCj4gICAgICAgc3RydWN0IGh2bV9l
bXVsYXRlX2N0eHQgKmh2bWVtdWxfY3R4dCk7DQo+ICAgaW50IGh2bV9lbXVsYXRlX29uZV9tbWlv
KHVuc2lnbmVkIGxvbmcgbWZuLCB1bnNpZ25lZCBsb25nIGdsYSk7DQo+ICtib29sIGh2bV9lbXVs
YXRlX3NlbmRfdm1fZXZlbnQoDQo+ICsgICAgdW5zaWduZWQgbG9uZyBnbGEsDQo+ICsgICAgZ2Zu
X3QgZ2ZuLA0KPiArICAgIHVpbnQzMl90IHBmZWMsDQo+ICsgICAgYm9vbCBzZW5kX2V2ZW50KTsN
Cj4gICANCj4gICBzdGF0aWMgaW5saW5lIGJvb2wgaGFuZGxlX21taW8odm9pZCkNCj4gICB7DQo+
IGRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9zdXBwb3J0LmggYi94ZW4vaW5j
bHVkZS9hc20teDg2L2h2bS9zdXBwb3J0LmgNCj4gaW5kZXggZTk4OWFhNzM0OS4uOTE0ZjM4ODky
MSAxMDA2NDQNCj4gLS0tIGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vc3VwcG9ydC5oDQo+ICsr
KyBiL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL3N1cHBvcnQuaA0KPiBAQCAtOTksNyArOTksNyBA
QCBlbnVtIGh2bV90cmFuc2xhdGlvbl9yZXN1bHQgaHZtX2NvcHlfdG9fZ3Vlc3RfbGluZWFyKA0K
PiAgICAgICBwYWdlZmF1bHRfaW5mb190ICpwZmluZm8pOw0KPiAgIGVudW0gaHZtX3RyYW5zbGF0
aW9uX3Jlc3VsdCBodm1fY29weV9mcm9tX2d1ZXN0X2xpbmVhcigNCj4gICAgICAgdm9pZCAqYnVm
LCB1bnNpZ25lZCBsb25nIGFkZHIsIGludCBzaXplLCB1aW50MzJfdCBwZmVjLA0KPiAtICAgIHBh
Z2VmYXVsdF9pbmZvX3QgKnBmaW5mbyk7DQo+ICsgICAgcGFnZWZhdWx0X2luZm9fdCAqcGZpbmZv
LCBib29sIHNlbmRfZXZlbnQpOw0KPiAgIA0KPiAgIC8qDQo+ICAgICogR2V0IGEgcmVmZXJlbmNl
IG9uIHRoZSBwYWdlIHVuZGVyIGFuIEhWTSBwaHlzaWNhbCBvciBsaW5lYXIgYWRkcmVzcy4gIElm
DQo+IA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVu
LWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6
Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

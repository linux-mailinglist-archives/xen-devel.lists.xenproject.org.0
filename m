Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id D5B0B819E7
	for <lists+xen-devel@lfdr.de>; Mon,  5 Aug 2019 14:46:13 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hucKb-0000cv-KS; Mon, 05 Aug 2019 12:43:17 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=6VNZ=WB=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1hucKa-0000cX-Cc
 for xen-devel@lists.xenproject.org; Mon, 05 Aug 2019 12:43:16 +0000
X-Inumbo-ID: 95f9c430-b77e-11e9-98fa-fb38854f42ba
Received: from esa2.hc3370-68.iphmx.com (unknown [216.71.145.153])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 95f9c430-b77e-11e9-98fa-fb38854f42ba;
 Mon, 05 Aug 2019 12:43:12 +0000 (UTC)
Authentication-Results: esa2.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa2.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: sMscg5SJLSEIy+f8nnxntp1V4z/XA/yImLrvMo+KGxBfxqHsf7ZArVFCfpwzajAnFDlL1dQNeR
 9uF67LP8TUTY+JvL71R/tKPkYD2/wtOXXdxuvSjnPnr/nBCYsX3kG10EoT/4M5uoK0Norlb/c6
 D8UxW0e8LZHgNdlvPQaGsB+pjPzOAJuO1M2UoImU7Jnx5wHAjJSgfYboiJPJE1AvWTqGoK/lZ6
 qTKGmYkZyPd/DRzgROeYEmDmYc3Hzu7EL3fMLeZx+yxLGE54xS7lGHTVu2DkWg2/qivjfEcKg2
 Nuo=
X-SBRS: 2.7
X-MesageID: 3859934
X-Ironport-Server: esa2.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,349,1559534400"; 
   d="scan'208";a="3859934"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Mon, 5 Aug 2019 13:43:00 +0100
Message-ID: <20190805124301.12887-4-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190805124301.12887-1-andrew.cooper3@citrix.com>
References: <20190805124301.12887-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 3/4] x86/desc: Shorten boot_{,
 comat_}gdt[] variable names
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 Jan Beulich <JBeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGN1cnJlbnQgbmFtZXMsIGJvb3RfY3B1X3ssY29tcGF0X31nZHRfdGFibGUsIGhhdmUgYSB0
YWJsZSBzdWZmaXggd2hpY2ggaXMKcmVkdW5kYW50IHdpdGggdGhlIFQgb2YgR0RULCBhbmQgdGhl
IGNwdSBpbmZpeCBkb2Vzbid0IHByb3ZpZGUgYW55IG1lYW5pbmdmdWwKY29udGV4dC4gIERyb3Ag
dGhlbSBib3RoLgoKTGlrZXdpc2UsIHNob3J0ZW4gdGhlIHssY29tcGF0X31nZHR7LF9sMWV9IHZh
cmlhYmxlcy4KCkZpbmFsbHksIHJlbmFtZSBnZHRfZGVzY3IgdG8gYm9vdF9nZHRyIHRvIG1vcmUg
Y2xlYXJseSBpZGVudGlmeSBpdHMgcHVycG9zZS4KClNpZ25lZC1vZmYtYnk6IEFuZHJldyBDb29w
ZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+Ci0tLQpDQzogSmFuIEJldWxpY2ggPEpCZXVs
aWNoQHN1c2UuY29tPgpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4KQ0M6IFJvZ2VyIFBhdSBNb25u
w6kgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgotLS0KIHhlbi9hcmNoL3g4Ni9ib290L3g4Nl82NC5T
ICB8IDEwICsrKysrLS0tLS0KIHhlbi9hcmNoL3g4Ni9jcHUvY29tbW9uLmMgICB8ICA0ICsrLS0K
IHhlbi9hcmNoL3g4Ni9kb21haW4uYyAgICAgICB8ICA3ICsrKy0tLS0KIHhlbi9hcmNoL3g4Ni9l
ZmkvZWZpLWJvb3QuaCB8ICAyICstCiB4ZW4vYXJjaC94ODYvaHZtL3N2bS9zdm0uYyAgfCAgMiAr
LQogeGVuL2FyY2gveDg2L2h2bS92bXgvdm1jcy5jIHwgIDIgKy0KIHhlbi9hcmNoL3g4Ni9zbXBi
b290LmMgICAgICB8IDE4ICsrKysrKysrKy0tLS0tLS0tLQogeGVuL2FyY2gveDg2L3RyYXBzLmMg
ICAgICAgIHwgMzAgKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tCiB4ZW4vY29tbW9uL2Vm
aS9ydW50aW1lLmMgICAgfCAgMiArLQogeGVuL2luY2x1ZGUvYXNtLXg4Ni9kZXNjLmggIHwgMTIg
KysrKysrLS0tLS0tCiB4ZW4vaW5jbHVkZS9hc20teDg2L2xkdC5oICAgfCAgMyArLS0KIDExIGZp
bGVzIGNoYW5nZWQsIDQ0IGluc2VydGlvbnMoKyksIDQ4IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL3g4Ni9ib290L3g4Nl82NC5TIGIveGVuL2FyY2gveDg2L2Jvb3QveDg2XzY0
LlMKaW5kZXggY2Y0N2UwMTlmNS4uMzkwOTM2M2NhMyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2
L2Jvb3QveDg2XzY0LlMKKysrIGIveGVuL2FyY2gveDg2L2Jvb3QveDg2XzY0LlMKQEAgLTMsNyAr
Myw3IEBACiAKIEVOVFJZKF9faGlnaF9zdGFydCkKICAgICAgICAgLyogSW5zdGFsbCByZWxvY2F0
ZWQgZGF0YSBzZWxlY3RvcnMuICovCi0gICAgICAgIGxnZHQgICAgZ2R0X2Rlc2NyKCVyaXApCisg
ICAgICAgIGxnZHQgICAgYm9vdF9nZHRyKCVyaXApCiAgICAgICAgIG1vdiAgICAgJChfX0hZUEVS
VklTT1JfRFM2NCksJWVjeAogICAgICAgICBtb3YgICAgICVlY3gsJWRzCiAgICAgICAgIG1vdiAg
ICAgJWVjeCwlZXMKQEAgLTQ0LDE2ICs0NCwxNiBAQCBtdWx0aWJvb3RfcHRyOgogICAgICAgICAu
bG9uZyAgIDAKIAogICAgICAgICAud29yZCAgIDAKLUdMT0JBTChnZHRfZGVzY3IpCitHTE9CQUwo
Ym9vdF9nZHRyKQogICAgICAgICAud29yZCAgIExBU1RfUkVTRVJWRURfR0RUX0JZVEUKLSAgICAg
ICAgLnF1YWQgICBib290X2NwdV9nZHRfdGFibGUgLSBGSVJTVF9SRVNFUlZFRF9HRFRfQllURQor
ICAgICAgICAucXVhZCAgIGJvb3RfZ2R0IC0gRklSU1RfUkVTRVJWRURfR0RUX0JZVEUKIAogR0xP
QkFMKHN0YWNrX3N0YXJ0KQogICAgICAgICAucXVhZCAgIGNwdTBfc3RhY2sKIAogICAgICAgICAu
c2VjdGlvbiAuZGF0YS5wYWdlX2FsaWduZWQsICJhdyIsIEBwcm9nYml0cwogICAgICAgICAuYWxp
Z24gUEFHRV9TSVpFLCAwCi1HTE9CQUwoYm9vdF9jcHVfZ2R0X3RhYmxlKQorR0xPQkFMKGJvb3Rf
Z2R0KQogICAgICAgICAucXVhZCAweDAwMDAwMDAwMDAwMDAwMDAgICAgIC8qIHVudXNlZCAqLwog
ICAgICAgICAucXVhZCAweDAwYWY5YTAwMDAwMGZmZmYgICAgIC8qIDB4ZTAwOCByaW5nIDAgY29k
ZSwgNjQtYml0IG1vZGUgICAqLwogICAgICAgICAucXVhZCAweDAwY2Y5MjAwMDAwMGZmZmYgICAg
IC8qIDB4ZTAxMCByaW5nIDAgZGF0YSAgICAgICAgICAgICAgICAqLwpAQCAtNjgsNyArNjgsNyBA
QCBHTE9CQUwoYm9vdF9jcHVfZ2R0X3RhYmxlKQogICAgICAgICAuYWxpZ24gUEFHRV9TSVpFLCAw
CiAvKiBOQi4gRXZlbiByaW5ncyAhPSAwIGdldCBhY2Nlc3MgdG8gdGhlIGZ1bGwgNEdiLCBhcyBv
bmx5IHRoZSAgICAgICAgICAgICovCiAvKiAgICAgKGNvbXBhdGliaWxpdHkpIG1hY2hpbmUtPnBo
eXNpY2FsIG1hcHBpbmcgdGFibGUgbGl2ZXMgdGhlcmUuICAgICAgICovCi1HTE9CQUwoYm9vdF9j
cHVfY29tcGF0X2dkdF90YWJsZSkKK0dMT0JBTChib290X2NvbXBhdF9nZHQpCiAgICAgICAgIC5x
dWFkIDB4MDAwMDAwMDAwMDAwMDAwMCAgICAgLyogdW51c2VkICovCiAgICAgICAgIC5xdWFkIDB4
MDBhZjlhMDAwMDAwZmZmZiAgICAgLyogMHhlMDA4IHJpbmcgMCBjb2RlLCA2NC1iaXQgbW9kZSAg
ICovCiAgICAgICAgIC5xdWFkIDB4MDBjZjkyMDAwMDAwZmZmZiAgICAgLyogMHhlMDEwIHJpbmcg
MCBkYXRhICAgICAgICAgICAgICAgICovCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvY3B1L2Nv
bW1vbi5jIGIveGVuL2FyY2gveDg2L2NwdS9jb21tb24uYwppbmRleCA3NDc4ZTIxMTc3Li5kYzJk
ZWE0ZDZkIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvY3B1L2NvbW1vbi5jCisrKyBiL3hlbi9h
cmNoL3g4Ni9jcHUvY29tbW9uLmMKQEAgLTcwOSw5ICs3MDksOSBAQCB2b2lkIGxvYWRfc3lzdGVt
X3RhYmxlcyh2b2lkKQogCiAJc3RydWN0IHRzc19zdHJ1Y3QgKnRzcyA9ICZ0aGlzX2NwdShpbml0
X3Rzcyk7CiAJc2VnX2Rlc2NfdCAqZ2R0ID0KLQkJdGhpc19jcHUoZ2R0X3RhYmxlKSAtIEZJUlNU
X1JFU0VSVkVEX0dEVF9FTlRSWTsKKwkJdGhpc19jcHUoZ2R0KSAtIEZJUlNUX1JFU0VSVkVEX0dE
VF9FTlRSWTsKIAlzZWdfZGVzY190ICpjb21wYXRfZ2R0ID0KLQkJdGhpc19jcHUoY29tcGF0X2dk
dF90YWJsZSkgLSBGSVJTVF9SRVNFUlZFRF9HRFRfRU5UUlk7CisJCXRoaXNfY3B1KGNvbXBhdF9n
ZHQpIC0gRklSU1RfUkVTRVJWRURfR0RUX0VOVFJZOwogCiAJY29uc3Qgc3RydWN0IGRlc2NfcHRy
IGdkdHIgPSB7CiAJCS5iYXNlID0gKHVuc2lnbmVkIGxvbmcpZ2R0LApkaWZmIC0tZ2l0IGEveGVu
L2FyY2gveDg2L2RvbWFpbi5jIGIveGVuL2FyY2gveDg2L2RvbWFpbi5jCmluZGV4IDU5MzNiM2Y1
MWIuLjYxMmFmYjY4M2YgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9kb21haW4uYworKysgYi94
ZW4vYXJjaC94ODYvZG9tYWluLmMKQEAgLTE2NjYsOCArMTY2Niw4IEBAIHN0YXRpYyBpbmxpbmUg
Ym9vbCBuZWVkX2Z1bGxfZ2R0KGNvbnN0IHN0cnVjdCBkb21haW4gKmQpCiBzdGF0aWMgdm9pZCB1
cGRhdGVfeGVuX3Nsb3RfaW5fZnVsbF9nZHQoY29uc3Qgc3RydWN0IHZjcHUgKnYsIHVuc2lnbmVk
IGludCBjcHUpCiB7CiAgICAgbDFlX3dyaXRlKHB2X2dkdF9wdGVzKHYpICsgRklSU1RfUkVTRVJW
RURfR0RUX1BBR0UsCi0gICAgICAgICAgICAgICFpc19wdl8zMmJpdF92Y3B1KHYpID8gcGVyX2Nw
dShnZHRfdGFibGVfbDFlLCBjcHUpCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IDogcGVyX2NwdShjb21wYXRfZ2R0X3RhYmxlX2wxZSwgY3B1KSk7CisgICAgICAgICAgICAgICFp
c19wdl8zMmJpdF92Y3B1KHYpID8gcGVyX2NwdShnZHRfbDFlLCBjcHUpCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIDogcGVyX2NwdShjb21wYXRfZ2R0X2wxZSwgY3B1KSk7CiB9
CiAKIHN0YXRpYyB2b2lkIGxvYWRfZnVsbF9nZHQoY29uc3Qgc3RydWN0IHZjcHUgKnYsIHVuc2ln
bmVkIGludCBjcHUpCkBAIC0xNjg2LDggKzE2ODYsNyBAQCBzdGF0aWMgdm9pZCBsb2FkX2RlZmF1
bHRfZ2R0KHVuc2lnbmVkIGludCBjcHUpCiB7CiAgICAgc3RydWN0IGRlc2NfcHRyIGdkdF9kZXNj
ID0gewogICAgICAgICAubGltaXQgPSBMQVNUX1JFU0VSVkVEX0dEVF9CWVRFLAotICAgICAgICAu
YmFzZSAgPSAodW5zaWduZWQgbG9uZykocGVyX2NwdShnZHRfdGFibGUsIGNwdSkgLQotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgRklSU1RfUkVTRVJWRURfR0RUX0VOVFJZKSwKKyAg
ICAgICAgLmJhc2UgID0gKHVuc2lnbmVkIGxvbmcpKHBlcl9jcHUoZ2R0LCBjcHUpIC0gRklSU1Rf
UkVTRVJWRURfR0RUX0VOVFJZKSwKICAgICB9OwogCiAgICAgbGdkdCgmZ2R0X2Rlc2MpOwpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L2VmaS9lZmktYm9vdC5oIGIveGVuL2FyY2gveDg2L2VmaS9l
ZmktYm9vdC5oCmluZGV4IDJmNTlkOGJkYmQuLjUzMjQxNDlmOTMgMTAwNjQ0Ci0tLSBhL3hlbi9h
cmNoL3g4Ni9lZmkvZWZpLWJvb3QuaAorKysgYi94ZW4vYXJjaC94ODYvZWZpL2VmaS1ib290LmgK
QEAgLTI1MCw3ICsyNTAsNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgbm9yZXR1cm4gZWZpX2FyY2hf
cG9zdF9leGl0X2Jvb3Qodm9pZCkKICAgICAgICAgICAgICAgICAgICAibW92ICAgICVbY3I0XSwg
JSVjcjRcblx0IgogI2VuZGlmCiAgICAgICAgICAgICAgICAgICAgLyogTG9hZCBkYXRhIHNlZ21l
bnRzLiAqLwotICAgICAgICAgICAgICAgICAgICJsZ2R0ICAgZ2R0X2Rlc2NyKCUlcmlwKVxuXHQi
CisgICAgICAgICAgICAgICAgICAgImxnZHQgICBib290X2dkdHIoJSVyaXApXG5cdCIKICAgICAg
ICAgICAgICAgICAgICAibW92ICAgICVbZHNdLCAlJXNzXG5cdCIKICAgICAgICAgICAgICAgICAg
ICAibW92ICAgICVbZHNdLCAlJWRzXG5cdCIKICAgICAgICAgICAgICAgICAgICAibW92ICAgICVb
ZHNdLCAlJWVzXG5cdCIKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9odm0vc3ZtL3N2bS5jIGIv
eGVuL2FyY2gveDg2L2h2bS9zdm0vc3ZtLmMKaW5kZXggZDgxNDAxZGJjMC4uZGVhZmEzODY0ZSAx
MDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2h2bS9zdm0vc3ZtLmMKKysrIGIveGVuL2FyY2gveDg2
L2h2bS9zdm0vc3ZtLmMKQEAgLTE1NjgsNyArMTU2OCw3IEBAIGJvb2wgc3ZtX2xvYWRfc2Vncyh1
bnNpZ25lZCBpbnQgbGR0X2VudHMsIHVuc2lnbmVkIGxvbmcgbGR0X2Jhc2UsCiAgICAgewogICAg
ICAgICAvKiBLZWVwIEdEVCBpbiBzeW5jLiAqLwogICAgICAgICBzZWdfZGVzY190ICpkZXNjID0K
LSAgICAgICAgICAgIHRoaXNfY3B1KGdkdF90YWJsZSkgKyBMRFRfRU5UUlkgLSBGSVJTVF9SRVNF
UlZFRF9HRFRfRU5UUlk7CisgICAgICAgICAgICB0aGlzX2NwdShnZHQpICsgTERUX0VOVFJZIC0g
RklSU1RfUkVTRVJWRURfR0RUX0VOVFJZOwogCiAgICAgICAgIF9zZXRfdHNzbGR0X2Rlc2MoZGVz
YywgbGR0X2Jhc2UsIGxkdF9lbnRzICogOCAtIDEsIFNZU19ERVNDX2xkdCk7CiAKZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL3g4Ni9odm0vdm14L3ZtY3MuYyBiL3hlbi9hcmNoL3g4Ni9odm0vdm14L3Zt
Y3MuYwppbmRleCA0NWQxODQ5M2RmLi4wOTg2MTM4MjJhIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94
ODYvaHZtL3ZteC92bWNzLmMKKysrIGIveGVuL2FyY2gveDg2L2h2bS92bXgvdm1jcy5jCkBAIC03
OTMsNyArNzkzLDcgQEAgc3RhdGljIHZvaWQgdm14X3NldF9ob3N0X2VudihzdHJ1Y3QgdmNwdSAq
dikKICAgICB1bnNpZ25lZCBpbnQgY3B1ID0gc21wX3Byb2Nlc3Nvcl9pZCgpOwogCiAgICAgX192
bXdyaXRlKEhPU1RfR0RUUl9CQVNFLAotICAgICAgICAgICAgICAodW5zaWduZWQgbG9uZykodGhp
c19jcHUoZ2R0X3RhYmxlKSAtIEZJUlNUX1JFU0VSVkVEX0dEVF9FTlRSWSkpOworICAgICAgICAg
ICAgICAodW5zaWduZWQgbG9uZykodGhpc19jcHUoZ2R0KSAtIEZJUlNUX1JFU0VSVkVEX0dEVF9F
TlRSWSkpOwogICAgIF9fdm13cml0ZShIT1NUX0lEVFJfQkFTRSwgKHVuc2lnbmVkIGxvbmcpaWR0
X3RhYmxlc1tjcHVdKTsKIAogICAgIF9fdm13cml0ZShIT1NUX1RSX0JBU0UsICh1bnNpZ25lZCBs
b25nKSZwZXJfY3B1KGluaXRfdHNzLCBjcHUpKTsKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9z
bXBib290LmMgYi94ZW4vYXJjaC94ODYvc21wYm9vdC5jCmluZGV4IDY1ZTljZWVlY2UuLjhkNWZl
ZjAwMTIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9zbXBib290LmMKKysrIGIveGVuL2FyY2gv
eDg2L3NtcGJvb3QuYwpAQCAtOTQ0LDExICs5NDQsMTEgQEAgc3RhdGljIHZvaWQgY3B1X3NtcGJv
b3RfZnJlZSh1bnNpZ25lZCBpbnQgY3B1LCBib29sIHJlbW92ZSkKICAgICAgICAgICAgIGZyZWVf
ZG9taGVhcF9wYWdlKG1mbl90b19wYWdlKG1mbikpOwogICAgIH0KIAotICAgIEZSRUVfWEVOSEVB
UF9QQUdFKHBlcl9jcHUoY29tcGF0X2dkdF90YWJsZSwgY3B1KSk7CisgICAgRlJFRV9YRU5IRUFQ
X1BBR0UocGVyX2NwdShjb21wYXRfZ2R0LCBjcHUpKTsKIAogICAgIGlmICggcmVtb3ZlICkKICAg
ICB7Ci0gICAgICAgIEZSRUVfWEVOSEVBUF9QQUdFKHBlcl9jcHUoZ2R0X3RhYmxlLCBjcHUpKTsK
KyAgICAgICAgRlJFRV9YRU5IRUFQX1BBR0UocGVyX2NwdShnZHQsIGNwdSkpOwogICAgICAgICBG
UkVFX1hFTkhFQVBfUEFHRShpZHRfdGFibGVzW2NwdV0pOwogCiAgICAgICAgIGlmICggc3RhY2tf
YmFzZVtjcHVdICkKQEAgLTk3NiwyMiArOTc2LDIyIEBAIHN0YXRpYyBpbnQgY3B1X3NtcGJvb3Rf
YWxsb2ModW5zaWduZWQgaW50IGNwdSkKICAgICAgICAgZ290byBvdXQ7CiAgICAgbWVtZ3VhcmRf
Z3VhcmRfc3RhY2soc3RhY2tfYmFzZVtjcHVdKTsKIAotICAgIGdkdCA9IHBlcl9jcHUoZ2R0X3Rh
YmxlLCBjcHUpID86IGFsbG9jX3hlbmhlYXBfcGFnZXMoMCwgbWVtZmxhZ3MpOworICAgIGdkdCA9
IHBlcl9jcHUoZ2R0LCBjcHUpID86IGFsbG9jX3hlbmhlYXBfcGFnZXMoMCwgbWVtZmxhZ3MpOwog
ICAgIGlmICggZ2R0ID09IE5VTEwgKQogICAgICAgICBnb3RvIG91dDsKLSAgICBwZXJfY3B1KGdk
dF90YWJsZSwgY3B1KSA9IGdkdDsKLSAgICBwZXJfY3B1KGdkdF90YWJsZV9sMWUsIGNwdSkgPQor
ICAgIHBlcl9jcHUoZ2R0LCBjcHUpID0gZ2R0OworICAgIHBlcl9jcHUoZ2R0X2wxZSwgY3B1KSA9
CiAgICAgICAgIGwxZV9mcm9tX3Bmbih2aXJ0X3RvX21mbihnZHQpLCBfX1BBR0VfSFlQRVJWSVNP
Ul9SVyk7Ci0gICAgbWVtY3B5KGdkdCwgYm9vdF9jcHVfZ2R0X3RhYmxlLCBOUl9SRVNFUlZFRF9H
RFRfUEFHRVMgKiBQQUdFX1NJWkUpOworICAgIG1lbWNweShnZHQsIGJvb3RfZ2R0LCBOUl9SRVNF
UlZFRF9HRFRfUEFHRVMgKiBQQUdFX1NJWkUpOwogICAgIEJVSUxEX0JVR19PTihOUl9DUFVTID4g
MHgxMDAwMCk7CiAgICAgZ2R0W1BFUl9DUFVfR0RUX0VOVFJZIC0gRklSU1RfUkVTRVJWRURfR0RU
X0VOVFJZXS5hID0gY3B1OwogCi0gICAgcGVyX2NwdShjb21wYXRfZ2R0X3RhYmxlLCBjcHUpID0g
Z2R0ID0gYWxsb2NfeGVuaGVhcF9wYWdlcygwLCBtZW1mbGFncyk7CisgICAgcGVyX2NwdShjb21w
YXRfZ2R0LCBjcHUpID0gZ2R0ID0gYWxsb2NfeGVuaGVhcF9wYWdlcygwLCBtZW1mbGFncyk7CiAg
ICAgaWYgKCBnZHQgPT0gTlVMTCApCiAgICAgICAgIGdvdG8gb3V0OwotICAgIHBlcl9jcHUoY29t
cGF0X2dkdF90YWJsZV9sMWUsIGNwdSkgPQorICAgIHBlcl9jcHUoY29tcGF0X2dkdF9sMWUsIGNw
dSkgPQogICAgICAgICBsMWVfZnJvbV9wZm4odmlydF90b19tZm4oZ2R0KSwgX19QQUdFX0hZUEVS
VklTT1JfUlcpOwotICAgIG1lbWNweShnZHQsIGJvb3RfY3B1X2NvbXBhdF9nZHRfdGFibGUsIE5S
X1JFU0VSVkVEX0dEVF9QQUdFUyAqIFBBR0VfU0laRSk7CisgICAgbWVtY3B5KGdkdCwgYm9vdF9j
b21wYXRfZ2R0LCBOUl9SRVNFUlZFRF9HRFRfUEFHRVMgKiBQQUdFX1NJWkUpOwogICAgIGdkdFtQ
RVJfQ1BVX0dEVF9FTlRSWSAtIEZJUlNUX1JFU0VSVkVEX0dEVF9FTlRSWV0uYSA9IGNwdTsKIAog
ICAgIGlmICggaWR0X3RhYmxlc1tjcHVdID09IE5VTEwgKQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gv
eDg2L3RyYXBzLmMgYi94ZW4vYXJjaC94ODYvdHJhcHMuYwppbmRleCAzOGQxMjAxM2RiLi4xNjJm
NzA4YWMzIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvdHJhcHMuYworKysgYi94ZW4vYXJjaC94
ODYvdHJhcHMuYwpAQCAtOTYsMTAgKzk2LDEwIEBAIHN0cmluZ19wYXJhbSgibm1pIiwgb3B0X25t
aSk7CiBERUZJTkVfUEVSX0NQVSh1aW50NjRfdCwgZWZlcik7CiBzdGF0aWMgREVGSU5FX1BFUl9D
UFUodW5zaWduZWQgbG9uZywgbGFzdF9leHRhYmxlX2FkZHIpOwogCi1ERUZJTkVfUEVSX0NQVV9S
RUFEX01PU1RMWShzZWdfZGVzY190ICosIGdkdF90YWJsZSk7Ci1ERUZJTkVfUEVSX0NQVV9SRUFE
X01PU1RMWShsMV9wZ2VudHJ5X3QsIGdkdF90YWJsZV9sMWUpOwotREVGSU5FX1BFUl9DUFVfUkVB
RF9NT1NUTFkoc2VnX2Rlc2NfdCAqLCBjb21wYXRfZ2R0X3RhYmxlKTsKLURFRklORV9QRVJfQ1BV
X1JFQURfTU9TVExZKGwxX3BnZW50cnlfdCwgY29tcGF0X2dkdF90YWJsZV9sMWUpOworREVGSU5F
X1BFUl9DUFVfUkVBRF9NT1NUTFkoc2VnX2Rlc2NfdCAqLCBnZHQpOworREVGSU5FX1BFUl9DUFVf
UkVBRF9NT1NUTFkobDFfcGdlbnRyeV90LCBnZHRfbDFlKTsKK0RFRklORV9QRVJfQ1BVX1JFQURf
TU9TVExZKHNlZ19kZXNjX3QgKiwgY29tcGF0X2dkdCk7CitERUZJTkVfUEVSX0NQVV9SRUFEX01P
U1RMWShsMV9wZ2VudHJ5X3QsIGNvbXBhdF9nZHRfbDFlKTsKIAogLyogTWFzdGVyIHRhYmxlLCB1
c2VkIGJ5IENQVTAuICovCiBpZHRfZW50cnlfdCBfX3NlY3Rpb24oIi5ic3MucGFnZV9hbGlnbmVk
IikgX19hbGlnbmVkKFBBR0VfU0laRSkKQEAgLTE4OTksMTcgKzE4OTksMTcgQEAgdm9pZCBsb2Fk
X1RSKHZvaWQpCiB7CiAgICAgc3RydWN0IHRzc19zdHJ1Y3QgKnRzcyA9ICZ0aGlzX2NwdShpbml0
X3Rzcyk7CiAgICAgc3RydWN0IGRlc2NfcHRyIG9sZF9nZHQsIHRzc19nZHQgPSB7Ci0gICAgICAg
IC5iYXNlID0gKGxvbmcpKHRoaXNfY3B1KGdkdF90YWJsZSkgLSBGSVJTVF9SRVNFUlZFRF9HRFRf
RU5UUlkpLAorICAgICAgICAuYmFzZSA9IChsb25nKSh0aGlzX2NwdShnZHQpIC0gRklSU1RfUkVT
RVJWRURfR0RUX0VOVFJZKSwKICAgICAgICAgLmxpbWl0ID0gTEFTVF9SRVNFUlZFRF9HRFRfQllU
RQogICAgIH07CiAKICAgICBfc2V0X3Rzc2xkdF9kZXNjKAotICAgICAgICB0aGlzX2NwdShnZHRf
dGFibGUpICsgVFNTX0VOVFJZIC0gRklSU1RfUkVTRVJWRURfR0RUX0VOVFJZLAorICAgICAgICB0
aGlzX2NwdShnZHQpICsgVFNTX0VOVFJZIC0gRklSU1RfUkVTRVJWRURfR0RUX0VOVFJZLAogICAg
ICAgICAodW5zaWduZWQgbG9uZyl0c3MsCiAgICAgICAgIG9mZnNldG9mKHN0cnVjdCB0c3Nfc3Ry
dWN0LCBfX2NhY2hlbGluZV9maWxsZXIpIC0gMSwKICAgICAgICAgU1lTX0RFU0NfdHNzX2F2YWls
KTsKICAgICBfc2V0X3Rzc2xkdF9kZXNjKAotICAgICAgICB0aGlzX2NwdShjb21wYXRfZ2R0X3Rh
YmxlKSArIFRTU19FTlRSWSAtIEZJUlNUX1JFU0VSVkVEX0dEVF9FTlRSWSwKKyAgICAgICAgdGhp
c19jcHUoY29tcGF0X2dkdCkgKyBUU1NfRU5UUlkgLSBGSVJTVF9SRVNFUlZFRF9HRFRfRU5UUlks
CiAgICAgICAgICh1bnNpZ25lZCBsb25nKXRzcywKICAgICAgICAgb2Zmc2V0b2Yoc3RydWN0IHRz
c19zdHJ1Y3QsIF9fY2FjaGVsaW5lX2ZpbGxlcikgLSAxLAogICAgICAgICBTWVNfREVTQ190c3Nf
YnVzeSk7CkBAIC0yMDAwLDggKzIwMDAsOCBAQCB2b2lkIF9faW5pdCBpbml0X2lkdF90cmFwcyh2
b2lkKQogICAgIC8qIENQVTAgdXNlcyB0aGUgbWFzdGVyIElEVC4gKi8KICAgICBpZHRfdGFibGVz
WzBdID0gaWR0X3RhYmxlOwogCi0gICAgdGhpc19jcHUoZ2R0X3RhYmxlKSA9IGJvb3RfY3B1X2dk
dF90YWJsZTsKLSAgICB0aGlzX2NwdShjb21wYXRfZ2R0X3RhYmxlKSA9IGJvb3RfY3B1X2NvbXBh
dF9nZHRfdGFibGU7CisgICAgdGhpc19jcHUoZ2R0KSA9IGJvb3RfZ2R0OworICAgIHRoaXNfY3B1
KGNvbXBhdF9nZHQpID0gYm9vdF9jb21wYXRfZ2R0OwogfQogCiBleHRlcm4gdm9pZCAoKmNvbnN0
IGF1dG9nZW5fZW50cnlwb2ludHNbTlJfVkVDVE9SU10pKHZvaWQpOwpAQCAtMjAyOSwxMyArMjAy
OSwxMSBAQCB2b2lkIF9faW5pdCB0cmFwX2luaXQodm9pZCkKICAgICAgICAgfQogICAgIH0KIAot
ICAgIC8qIENhY2hlIHssY29tcGF0X31nZHRfdGFibGVfbDFlIG5vdyB0aGF0IHBoeXNpY2FsbHkg
cmVsb2NhdGlvbiBpcyBkb25lLiAqLwotICAgIHRoaXNfY3B1KGdkdF90YWJsZV9sMWUpID0KLSAg
ICAgICAgbDFlX2Zyb21fcGZuKHZpcnRfdG9fbWZuKGJvb3RfY3B1X2dkdF90YWJsZSksCi0gICAg
ICAgICAgICAgICAgICAgICBfX1BBR0VfSFlQRVJWSVNPUl9SVyk7Ci0gICAgdGhpc19jcHUoY29t
cGF0X2dkdF90YWJsZV9sMWUpID0KLSAgICAgICAgbDFlX2Zyb21fcGZuKHZpcnRfdG9fbWZuKGJv
b3RfY3B1X2NvbXBhdF9nZHRfdGFibGUpLAotICAgICAgICAgICAgICAgICAgICAgX19QQUdFX0hZ
UEVSVklTT1JfUlcpOworICAgIC8qIENhY2hlIHssY29tcGF0X31nZHRfbDFlIG5vdyB0aGF0IHBo
eXNpY2FsbHkgcmVsb2NhdGlvbiBpcyBkb25lLiAqLworICAgIHRoaXNfY3B1KGdkdF9sMWUpID0K
KyAgICAgICAgbDFlX2Zyb21fcGZuKHZpcnRfdG9fbWZuKGJvb3RfZ2R0KSwgX19QQUdFX0hZUEVS
VklTT1JfUlcpOworICAgIHRoaXNfY3B1KGNvbXBhdF9nZHRfbDFlKSA9CisgICAgICAgIGwxZV9m
cm9tX3Bmbih2aXJ0X3RvX21mbihib290X2NvbXBhdF9nZHQpLCBfX1BBR0VfSFlQRVJWSVNPUl9S
Vyk7CiAKICAgICBwZXJjcHVfdHJhcHNfaW5pdCgpOwogCmRpZmYgLS1naXQgYS94ZW4vY29tbW9u
L2VmaS9ydW50aW1lLmMgYi94ZW4vY29tbW9uL2VmaS9ydW50aW1lLmMKaW5kZXggM2QxMThkNTcx
ZC4uYWI1M2ViY2M1NSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9lZmkvcnVudGltZS5jCisrKyBi
L3hlbi9jb21tb24vZWZpL3J1bnRpbWUuYwpAQCAtMTA0LDcgKzEwNCw3IEBAIHN0cnVjdCBlZmlf
cnNfc3RhdGUgZWZpX3JzX2VudGVyKHZvaWQpCiAgICAgewogICAgICAgICBzdHJ1Y3QgZGVzY19w
dHIgZ2R0X2Rlc2MgPSB7CiAgICAgICAgICAgICAubGltaXQgPSBMQVNUX1JFU0VSVkVEX0dEVF9C
WVRFLAotICAgICAgICAgICAgLmJhc2UgID0gKHVuc2lnbmVkIGxvbmcpKHBlcl9jcHUoZ2R0X3Rh
YmxlLCBzbXBfcHJvY2Vzc29yX2lkKCkpIC0KKyAgICAgICAgICAgIC5iYXNlICA9ICh1bnNpZ25l
ZCBsb25nKShwZXJfY3B1KGdkdCwgc21wX3Byb2Nlc3Nvcl9pZCgpKSAtCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgRklSU1RfUkVTRVJWRURfR0RUX0VOVFJZKQogICAgICAg
ICB9OwogCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9hc20teDg2L2Rlc2MuaCBiL3hlbi9pbmNs
dWRlL2FzbS14ODYvZGVzYy5oCmluZGV4IGMwMTFjMDNhZTIuLjBiZTkzNDhkMjkgMTAwNjQ0Ci0t
LSBhL3hlbi9pbmNsdWRlL2FzbS14ODYvZGVzYy5oCisrKyBiL3hlbi9pbmNsdWRlL2FzbS14ODYv
ZGVzYy5oCkBAIC0yMDQsMTIgKzIwNCwxMiBAQCBzdHJ1Y3QgX19wYWNrZWQgZGVzY19wdHIgewog
CXVuc2lnbmVkIGxvbmcgYmFzZTsKIH07CiAKLWV4dGVybiBzZWdfZGVzY190IGJvb3RfY3B1X2dk
dF90YWJsZVtdOwotREVDTEFSRV9QRVJfQ1BVKHNlZ19kZXNjX3QgKiwgZ2R0X3RhYmxlKTsKLURF
Q0xBUkVfUEVSX0NQVShsMV9wZ2VudHJ5X3QsIGdkdF90YWJsZV9sMWUpOwotZXh0ZXJuIHNlZ19k
ZXNjX3QgYm9vdF9jcHVfY29tcGF0X2dkdF90YWJsZVtdOwotREVDTEFSRV9QRVJfQ1BVKHNlZ19k
ZXNjX3QgKiwgY29tcGF0X2dkdF90YWJsZSk7Ci1ERUNMQVJFX1BFUl9DUFUobDFfcGdlbnRyeV90
LCBjb21wYXRfZ2R0X3RhYmxlX2wxZSk7CitleHRlcm4gc2VnX2Rlc2NfdCBib290X2dkdFtdOwor
REVDTEFSRV9QRVJfQ1BVKHNlZ19kZXNjX3QgKiwgZ2R0KTsKK0RFQ0xBUkVfUEVSX0NQVShsMV9w
Z2VudHJ5X3QsIGdkdF9sMWUpOworZXh0ZXJuIHNlZ19kZXNjX3QgYm9vdF9jb21wYXRfZ2R0W107
CitERUNMQVJFX1BFUl9DUFUoc2VnX2Rlc2NfdCAqLCBjb21wYXRfZ2R0KTsKK0RFQ0xBUkVfUEVS
X0NQVShsMV9wZ2VudHJ5X3QsIGNvbXBhdF9nZHRfbDFlKTsKIERFQ0xBUkVfUEVSX0NQVShib29s
LCBmdWxsX2dkdF9sb2FkZWQpOwogCiBleHRlcm4gdm9pZCBsb2FkX1RSKHZvaWQpOwpkaWZmIC0t
Z2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9sZHQuaCBiL3hlbi9pbmNsdWRlL2FzbS14ODYvbGR0
LmgKaW5kZXggZGE1MDIzMjlmYi4uMTM4M2Y1NTMwOCAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUv
YXNtLXg4Ni9sZHQuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2xkdC5oCkBAIC0xMyw4ICsx
Myw3IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBsb2FkX0xEVChzdHJ1Y3QgdmNwdSAqdikKICAgICAg
ICAgbGxkdCgwKTsKICAgICBlbHNlCiAgICAgewotICAgICAgICBkZXNjID0gKCFpc19wdl8zMmJp
dF92Y3B1KHYpCi0gICAgICAgICAgICAgICAgPyB0aGlzX2NwdShnZHRfdGFibGUpIDogdGhpc19j
cHUoY29tcGF0X2dkdF90YWJsZSkpCisgICAgICAgIGRlc2MgPSAoIWlzX3B2XzMyYml0X3ZjcHUo
dikgPyB0aGlzX2NwdShnZHQpIDogdGhpc19jcHUoY29tcGF0X2dkdCkpCiAgICAgICAgICAgICAg
ICArIExEVF9FTlRSWSAtIEZJUlNUX1JFU0VSVkVEX0dEVF9FTlRSWTsKICAgICAgICAgX3NldF90
c3NsZHRfZGVzYyhkZXNjLCBMRFRfVklSVF9TVEFSVCh2KSwgZW50cyo4LTEsIFNZU19ERVNDX2xk
dCk7CiAgICAgICAgIGxsZHQoTERUX0VOVFJZIDw8IDMpOwotLSAKMi4xMS4wCgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

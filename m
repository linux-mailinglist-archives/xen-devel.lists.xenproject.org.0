Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 93542D4502
	for <lists+xen-devel@lfdr.de>; Fri, 11 Oct 2019 18:09:14 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iIxR5-0001BL-Su; Fri, 11 Oct 2019 16:06:35 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=LlWf=YE=virtuozzo.com=vsementsov@srs-us1.protection.inumbo.net>)
 id 1iIxR4-0001BE-CU
 for xen-devel@lists.xenproject.org; Fri, 11 Oct 2019 16:06:34 +0000
X-Inumbo-ID: 171e0912-ec41-11e9-933c-12813bfff9fa
Received: from relay.sw.ru (unknown [185.231.240.75])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 171e0912-ec41-11e9-933c-12813bfff9fa;
 Fri, 11 Oct 2019 16:06:32 +0000 (UTC)
Received: from [10.94.3.0] (helo=kvm.qa.sw.ru)
 by relay.sw.ru with esmtp (Exim 4.92.2)
 (envelope-from <vsementsov@virtuozzo.com>)
 id 1iIxQd-0003XG-Ez; Fri, 11 Oct 2019 19:06:07 +0300
From: Vladimir Sementsov-Ogievskiy <vsementsov@virtuozzo.com>
To: qemu-devel@nongnu.org
Date: Fri, 11 Oct 2019 19:04:17 +0300
Message-Id: <20191011160552.22907-32-vsementsov@virtuozzo.com>
X-Mailer: git-send-email 2.21.0
In-Reply-To: <20191011160552.22907-1-vsementsov@virtuozzo.com>
References: <20191011160552.22907-1-vsementsov@virtuozzo.com>
MIME-Version: 1.0
Subject: [Xen-devel] [RFC v5 031/126] xen: introduce ERRP_AUTO_PROPAGATE
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Wolf <kwolf@redhat.com>, vsementsov@virtuozzo.com,
 qemu-block@nongnu.org, Paul Durrant <paul@xen.org>, armbru@redhat.com,
 Greg Kurz <groug@kaod.org>, Stefano Stabellini <sstabellini@kernel.org>,
 Stefan Hajnoczi <stefanha@redhat.com>,
 Anthony Perard <anthony.perard@citrix.com>, xen-devel@lists.xenproject.org,
 Max Reitz <mreitz@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SWYgd2Ugd2FudCB0byBhZGQgc29tZSBpbmZvIHRvIGVycnAgKGJ5IGVycm9yX3ByZXBlbmQoKSBv
cgplcnJvcl9hcHBlbmRfaGludCgpKSwgd2UgbXVzdCB1c2UgdGhlIEVSUlBfQVVUT19QUk9QQUdB
VEUgbWFjcm8uCk90aGVyd2lzZSwgdGhpcyBpbmZvIHdpbGwgbm90IGJlIGFkZGVkIHdoZW4gZXJy
cCA9PSAmZmF0YWxfZXJyCih0aGUgcHJvZ3JhbSB3aWxsIGV4aXQgcHJpb3IgdG8gdGhlIGVycm9y
X2FwcGVuZF9oaW50KCkgb3IKZXJyb3JfcHJlcGVuZCgpIGNhbGwpLiAgRml4IHN1Y2ggY2FzZXMu
CgpJZiB3ZSB3YW50IHRvIGNoZWNrIGVycm9yIGFmdGVyIGVycnAtZnVuY3Rpb24gY2FsbCwgd2Ug
bmVlZCB0bwppbnRyb2R1Y2UgbG9jYWxfZXJyIGFuZCB0aGFuIHByb3BhZ2F0ZSBpdCB0byBlcnJw
LiBJbnN0ZWFkLCB1c2UKRVJSUF9BVVRPX1BST1BBR0FURSBtYWNybywgYmVuZWZpdHMgYXJlOgox
LiBObyBuZWVkIG9mIGV4cGxpY2l0IGVycm9yX3Byb3BhZ2F0ZSBjYWxsCjIuIE5vIG5lZWQgb2Yg
ZXhwbGljaXQgbG9jYWxfZXJyIHZhcmlhYmxlOiB1c2UgZXJycCBkaXJlY3RseQozLiBFUlJQX0FV
VE9fUFJPUEFHQVRFIGxlYXZlcyBlcnJwIGFzIGlzIGlmIGl0J3Mgbm90IE5VTEwgb3IKICAgJmVy
cm9yX2ZhdGVsLCB0aGlzIG1lYW5zIHRoYXQgd2UgZG9uJ3QgYnJlYWsgZXJyb3JfYWJvcnQKICAg
KHdlJ2xsIGFib3J0IG9uIGVycm9yX3NldCwgbm90IG9uIGVycm9yX3Byb3BhZ2F0ZSkKClRoaXMg
Y29tbWl0ICh0b2dldGhlciB3aXRoIGl0cyBuZWlnaGJvcnMpIHdhcyBnZW5lcmF0ZWQgYnkKCmZv
ciBmIGluICQoZ2l0IGdyZXAgLWwgZXJycCBcKi5bY2hdKTsgZG8gXAogICAgc3BhdGNoIC0tc3At
ZmlsZSBzY3JpcHRzL2NvY2NpbmVsbGUvYXV0by1wcm9wYWdhdGVkLWVycnAuY29jY2kgXAogICAg
LS1tYWNyby1maWxlIHNjcmlwdHMvY29jY2ktbWFjcm8tZmlsZS5oIC0taW4tcGxhY2UgLS1uby1z
aG93LWRpZmYgJGY7IFwKZG9uZTsKCnRoZW4gZml4IGEgYml0IG9mIGNvbXBpbGF0aW9uIHByb2Js
ZW1zOiBjb2NjaW5lbGxlIGZvciBzb21lIHJlYXNvbgpsZWF2ZXMgc2V2ZXJhbApmKCkgewogICAg
Li4uCiAgICBnb3RvIG91dDsKICAgIC4uLgogICAgb3V0Ogp9CnBhdHRlcm5zLCB3aXRoICJvdXQ6
IiBhdCBmdW5jdGlvbiBlbmQuCgp0aGVuCi4vcHl0aG9uL2NvbW1pdC1wZXItc3Vic3lzdGVtLnB5
IE1BSU5UQUlORVJTICIkKDwgYXV0by1tc2cpIgoKKGF1dG8tbXNnIHdhcyBhIGZpbGUgd2l0aCB0
aGlzIGNvbW1pdCBtZXNzYWdlKQoKU3RpbGwsIGZvciBiYWNrcG9ydGluZyBpdCBtYXkgYmUgbW9y
ZSBjb21mb3J0YWJsZSB0byB1c2Ugb25seSB0aGUgZmlyc3QKY29tbWFuZCBhbmQgdGhlbiBkbyBv
bmUgaHVnZSBjb21taXQuCgpSZXBvcnRlZC1ieTogS2V2aW4gV29sZiA8a3dvbGZAcmVkaGF0LmNv
bT4KUmVwb3J0ZWQtYnk6IEdyZWcgS3VyeiA8Z3JvdWdAa2FvZC5vcmc+ClNpZ25lZC1vZmYtYnk6
IFZsYWRpbWlyIFNlbWVudHNvdi1PZ2lldnNraXkgPHZzZW1lbnRzb3ZAdmlydHVvenpvLmNvbT4K
LS0tCiBody9ibG9jay9kYXRhcGxhbmUveGVuLWJsb2NrLmMgfCAgMTcgKystLS0KIGh3L2Jsb2Nr
L3hlbi1ibG9jay5jICAgICAgICAgICB8IDExOSArKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0t
LS0tLS0KIGh3L3hlbi94ZW4tYmFja2VuZC5jICAgICAgICAgICB8ICAgNyArLQogaHcveGVuL3hl
bi1idXMuYyAgICAgICAgICAgICAgIHwgIDkyICsrKysrKysrKysrKy0tLS0tLS0tLS0tLS0KIGh3
L3hlbi94ZW4taG9zdC1wY2ktZGV2aWNlLmMgICB8ICAyNyArKysrLS0tLQogaHcveGVuL3hlbl9w
dC5jICAgICAgICAgICAgICAgIHwgIDI1ICsrKy0tLS0KIGh3L3hlbi94ZW5fcHRfY29uZmlnX2lu
aXQuYyAgICB8ICAyMCArKystLS0KIDcgZmlsZXMgY2hhbmdlZCwgMTM5IGluc2VydGlvbnMoKyks
IDE2OCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9ody9ibG9jay9kYXRhcGxhbmUveGVuLWJs
b2NrLmMgYi9ody9ibG9jay9kYXRhcGxhbmUveGVuLWJsb2NrLmMKaW5kZXggM2I5Y2FlYjJmYS4u
YzM4ZTNjM2Q4NSAxMDA2NDQKLS0tIGEvaHcvYmxvY2svZGF0YXBsYW5lL3hlbi1ibG9jay5jCisr
KyBiL2h3L2Jsb2NrL2RhdGFwbGFuZS94ZW4tYmxvY2suYwpAQCAtNzI3LDggKzcyNyw4IEBAIHZv
aWQgeGVuX2Jsb2NrX2RhdGFwbGFuZV9zdGFydChYZW5CbG9ja0RhdGFQbGFuZSAqZGF0YXBsYW5l
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBwcm90b2NvbCwK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvciAqKmVycnApCiB7CisgICAgRVJS
UF9BVVRPX1BST1BBR0FURSgpOwogICAgIFhlbkRldmljZSAqeGVuZGV2ID0gZGF0YXBsYW5lLT54
ZW5kZXY7Ci0gICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7CiAgICAgdW5zaWduZWQgaW50IHJp
bmdfc2l6ZTsKICAgICB1bnNpZ25lZCBpbnQgaTsKIApAQCAtNzY0LDkgKzc2NCw4IEBAIHZvaWQg
eGVuX2Jsb2NrX2RhdGFwbGFuZV9zdGFydChYZW5CbG9ja0RhdGFQbGFuZSAqZGF0YXBsYW5lLAog
ICAgIH0KIAogICAgIHhlbl9kZXZpY2Vfc2V0X21heF9ncmFudF9yZWZzKHhlbmRldiwgZGF0YXBs
YW5lLT5ucl9yaW5nX3JlZiwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbG9j
YWxfZXJyKTsKLSAgICBpZiAobG9jYWxfZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZShl
cnJwLCBsb2NhbF9lcnIpOworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycnAp
OworICAgIGlmICgqZXJycCkgewogICAgICAgICBnb3RvIHN0b3A7CiAgICAgfQogCkBAIC03NzQs
OSArNzczLDggQEAgdm9pZCB4ZW5fYmxvY2tfZGF0YXBsYW5lX3N0YXJ0KFhlbkJsb2NrRGF0YVBs
YW5lICpkYXRhcGxhbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZGF0YXBsYW5lLT5yaW5nX3JlZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkYXRhcGxhbmUtPm5yX3JpbmdfcmVmLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBST1RfUkVBRCB8IFBST1RfV1JJVEUsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmxvY2FsX2Vycik7
Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9j
YWxfZXJyKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBl
cnJwKTsKKyAgICBpZiAoKmVycnApIHsKICAgICAgICAgZ290byBzdG9wOwogICAgIH0KIApAQCAt
ODA5LDkgKzgwNyw4IEBAIHZvaWQgeGVuX2Jsb2NrX2RhdGFwbGFuZV9zdGFydChYZW5CbG9ja0Rh
dGFQbGFuZSAqZGF0YXBsYW5lLAogICAgIGRhdGFwbGFuZS0+ZXZlbnRfY2hhbm5lbCA9CiAgICAg
ICAgIHhlbl9kZXZpY2VfYmluZF9ldmVudF9jaGFubmVsKHhlbmRldiwgZGF0YXBsYW5lLT5jdHgs
IGV2ZW50X2NoYW5uZWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhl
bl9ibG9ja19kYXRhcGxhbmVfZXZlbnQsIGRhdGFwbGFuZSwKLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAg
ICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9jYWxfZXJyKTsKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZXJycCk7CisgICAgaWYgKCplcnJwKSB7CiAgICAgICAgIGdv
dG8gc3RvcDsKICAgICB9CiAKZGlmZiAtLWdpdCBhL2h3L2Jsb2NrL3hlbi1ibG9jay5jIGIvaHcv
YmxvY2sveGVuLWJsb2NrLmMKaW5kZXggODc5ZmMzMTBhNC4uOGY0MTY1ZWRkOSAxMDA2NDQKLS0t
IGEvaHcvYmxvY2sveGVuLWJsb2NrLmMKKysrIGIvaHcvYmxvY2sveGVuLWJsb2NrLmMKQEAgLTE5
NCw2ICsxOTQsNyBAQCBzdGF0aWMgY29uc3QgQmxvY2tEZXZPcHMgeGVuX2Jsb2NrX2Rldl9vcHMg
PSB7CiAKIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19yZWFsaXplKFhlbkRldmljZSAqeGVuZGV2LCBF
cnJvciAqKmVycnApCiB7CisgICAgRVJSUF9BVVRPX1BST1BBR0FURSgpOwogICAgIFhlbkJsb2Nr
RGV2aWNlICpibG9ja2RldiA9IFhFTl9CTE9DS19ERVZJQ0UoeGVuZGV2KTsKICAgICBYZW5CbG9j
a0RldmljZUNsYXNzICpibG9ja2Rldl9jbGFzcyA9CiAgICAgICAgIFhFTl9CTE9DS19ERVZJQ0Vf
R0VUX0NMQVNTKHhlbmRldik7CkBAIC0yMDEsNyArMjAyLDYgQEAgc3RhdGljIHZvaWQgeGVuX2Js
b2NrX3JlYWxpemUoWGVuRGV2aWNlICp4ZW5kZXYsIEVycm9yICoqZXJycCkKICAgICBYZW5CbG9j
a1ZkZXYgKnZkZXYgPSAmYmxvY2tkZXYtPnByb3BzLnZkZXY7CiAgICAgQmxvY2tDb25mICpjb25m
ID0gJmJsb2NrZGV2LT5wcm9wcy5jb25mOwogICAgIEJsb2NrQmFja2VuZCAqYmxrID0gY29uZi0+
YmxrOwotICAgIEVycm9yICpsb2NhbF9lcnIgPSBOVUxMOwogCiAgICAgaWYgKHZkZXYtPnR5cGUg
PT0gWEVOX0JMT0NLX1ZERVZfVFlQRV9JTlZBTElEKSB7CiAgICAgICAgIGVycm9yX3NldGcoZXJy
cCwgInZkZXYgcHJvcGVydHkgbm90IHNldCIpOwpAQCAtMjExLDkgKzIxMSw4IEBAIHN0YXRpYyB2
b2lkIHhlbl9ibG9ja19yZWFsaXplKFhlbkRldmljZSAqeGVuZGV2LCBFcnJvciAqKmVycnApCiAg
ICAgdHJhY2VfeGVuX2Jsb2NrX3JlYWxpemUodHlwZSwgdmRldi0+ZGlzaywgdmRldi0+cGFydGl0
aW9uKTsKIAogICAgIGlmIChibG9ja2Rldl9jbGFzcy0+cmVhbGl6ZSkgewotICAgICAgICBibG9j
a2Rldl9jbGFzcy0+cmVhbGl6ZShibG9ja2RldiwgJmxvY2FsX2Vycik7Ci0gICAgICAgIGlmIChs
b2NhbF9lcnIpIHsKLSAgICAgICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBsb2NhbF9lcnIp
OworICAgICAgICBibG9ja2Rldl9jbGFzcy0+cmVhbGl6ZShibG9ja2RldiwgZXJycCk7CisgICAg
ICAgIGlmICgqZXJycCkgewogICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CiAgICAgfQpA
QCAtMjgzLDggKzI4Miw4IEBAIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19mcm9udGVuZF9jaGFuZ2Vk
KFhlbkRldmljZSAqeGVuZGV2LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgZW51bSB4ZW5idXNfc3RhdGUgZnJvbnRlbmRfc3RhdGUsCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBFcnJvciAqKmVycnApCiB7CisgICAgRVJSUF9BVVRPX1BST1BB
R0FURSgpOwogICAgIGVudW0geGVuYnVzX3N0YXRlIGJhY2tlbmRfc3RhdGUgPSB4ZW5fZGV2aWNl
X2JhY2tlbmRfZ2V0X3N0YXRlKHhlbmRldik7Ci0gICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7
CiAKICAgICBzd2l0Y2ggKGZyb250ZW5kX3N0YXRlKSB7CiAgICAgY2FzZSBYZW5idXNTdGF0ZUlu
aXRpYWxpc2VkOgpAQCAtMjkzLDE1ICsyOTIsMTMgQEAgc3RhdGljIHZvaWQgeGVuX2Jsb2NrX2Zy
b250ZW5kX2NoYW5nZWQoWGVuRGV2aWNlICp4ZW5kZXYsCiAgICAgICAgICAgICBicmVhazsKICAg
ICAgICAgfQogCi0gICAgICAgIHhlbl9ibG9ja19kaXNjb25uZWN0KHhlbmRldiwgJmxvY2FsX2Vy
cik7Ci0gICAgICAgIGlmIChsb2NhbF9lcnIpIHsKLSAgICAgICAgICAgIGVycm9yX3Byb3BhZ2F0
ZShlcnJwLCBsb2NhbF9lcnIpOworICAgICAgICB4ZW5fYmxvY2tfZGlzY29ubmVjdCh4ZW5kZXYs
IGVycnApOworICAgICAgICBpZiAoKmVycnApIHsKICAgICAgICAgICAgIGJyZWFrOwogICAgICAg
ICB9CiAKLSAgICAgICAgeGVuX2Jsb2NrX2Nvbm5lY3QoeGVuZGV2LCAmbG9jYWxfZXJyKTsKLSAg
ICAgICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICAgICAgZXJyb3JfcHJvcGFnYXRlKGVycnAs
IGxvY2FsX2Vycik7CisgICAgICAgIHhlbl9ibG9ja19jb25uZWN0KHhlbmRldiwgZXJycCk7Cisg
ICAgICAgIGlmICgqZXJycCkgewogICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIH0KIApAQCAt
MzE0LDkgKzMxMSw4IEBAIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19mcm9udGVuZF9jaGFuZ2VkKFhl
bkRldmljZSAqeGVuZGV2LAogCiAgICAgY2FzZSBYZW5idXNTdGF0ZUNsb3NlZDoKICAgICBjYXNl
IFhlbmJ1c1N0YXRlVW5rbm93bjoKLSAgICAgICAgeGVuX2Jsb2NrX2Rpc2Nvbm5lY3QoeGVuZGV2
LCAmbG9jYWxfZXJyKTsKLSAgICAgICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICAgICAgZXJy
b3JfcHJvcGFnYXRlKGVycnAsIGxvY2FsX2Vycik7CisgICAgICAgIHhlbl9ibG9ja19kaXNjb25u
ZWN0KHhlbmRldiwgZXJycCk7CisgICAgICAgIGlmICgqZXJycCkgewogICAgICAgICAgICAgYnJl
YWs7CiAgICAgICAgIH0KIApAQCAtNDAzLDEwICszOTksMTAgQEAgc3RhdGljIGludCB2YmRfbmFt
ZV90b19kaXNrKGNvbnN0IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKiplbmRwLAogc3RhdGljIHZv
aWQgeGVuX2Jsb2NrX3NldF92ZGV2KE9iamVjdCAqb2JqLCBWaXNpdG9yICp2LCBjb25zdCBjaGFy
ICpuYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKm9wYXF1ZSwgRXJy
b3IgKiplcnJwKQogeworICAgIEVSUlBfQVVUT19QUk9QQUdBVEUoKTsKICAgICBEZXZpY2VTdGF0
ZSAqZGV2ID0gREVWSUNFKG9iaik7CiAgICAgUHJvcGVydHkgKnByb3AgPSBvcGFxdWU7CiAgICAg
WGVuQmxvY2tWZGV2ICp2ZGV2ID0gcWRldl9nZXRfcHJvcF9wdHIoZGV2LCBwcm9wKTsKLSAgICBF
cnJvciAqbG9jYWxfZXJyID0gTlVMTDsKICAgICBjaGFyICpzdHIsICpwOwogICAgIGNvbnN0IGNo
YXIgKmVuZDsKIApAQCAtNDE1LDkgKzQxMSw4IEBAIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19zZXRf
dmRldihPYmplY3QgKm9iaiwgVmlzaXRvciAqdiwgY29uc3QgY2hhciAqbmFtZSwKICAgICAgICAg
cmV0dXJuOwogICAgIH0KIAotICAgIHZpc2l0X3R5cGVfc3RyKHYsIG5hbWUsICZzdHIsICZsb2Nh
bF9lcnIpOwotICAgIGlmIChsb2NhbF9lcnIpIHsKLSAgICAgICAgZXJyb3JfcHJvcGFnYXRlKGVy
cnAsIGxvY2FsX2Vycik7CisgICAgdmlzaXRfdHlwZV9zdHIodiwgbmFtZSwgJnN0ciwgZXJycCk7
CisgICAgaWYgKCplcnJwKSB7CiAgICAgICAgIHJldHVybjsKICAgICB9CiAKQEAgLTY3MSw5ICs2
NjYsOSBAQCBzdGF0aWMgdm9pZCB4ZW5fYmxvY2tfYmxvY2tkZXZfZGVsKGNvbnN0IGNoYXIgKm5v
ZGVfbmFtZSwgRXJyb3IgKiplcnJwKQogc3RhdGljIGNoYXIgKnhlbl9ibG9ja19ibG9ja2Rldl9h
ZGQoY29uc3QgY2hhciAqaWQsIFFEaWN0ICpxZGljdCwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIEVycm9yICoqZXJycCkKIHsKKyAgICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7
CiAgICAgY29uc3QgY2hhciAqZHJpdmVyID0gcWRpY3RfZ2V0X3RyeV9zdHIocWRpY3QsICJkcml2
ZXIiKTsKICAgICBCbG9ja2Rldk9wdGlvbnMgKm9wdGlvbnMgPSBOVUxMOwotICAgIEVycm9yICps
b2NhbF9lcnIgPSBOVUxMOwogICAgIGNoYXIgKm5vZGVfbmFtZTsKICAgICBWaXNpdG9yICp2Owog
CkBAIC02ODgsMTggKzY4MywxNiBAQCBzdGF0aWMgY2hhciAqeGVuX2Jsb2NrX2Jsb2NrZGV2X2Fk
ZChjb25zdCBjaGFyICppZCwgUURpY3QgKnFkaWN0LAogICAgIHRyYWNlX3hlbl9ibG9ja19ibG9j
a2Rldl9hZGQobm9kZV9uYW1lKTsKIAogICAgIHYgPSBxb2JqZWN0X2lucHV0X3Zpc2l0b3JfbmV3
KFFPQkpFQ1QocWRpY3QpKTsKLSAgICB2aXNpdF90eXBlX0Jsb2NrZGV2T3B0aW9ucyh2LCBOVUxM
LCAmb3B0aW9ucywgJmxvY2FsX2Vycik7CisgICAgdmlzaXRfdHlwZV9CbG9ja2Rldk9wdGlvbnMo
diwgTlVMTCwgJm9wdGlvbnMsIGVycnApOwogICAgIHZpc2l0X2ZyZWUodik7CiAKLSAgICBpZiAo
bG9jYWxfZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBsb2NhbF9lcnIpOwor
ICAgIGlmICgqZXJycCkgewogICAgICAgICBnb3RvIGZhaWw7CiAgICAgfQogCi0gICAgcW1wX2Js
b2NrZGV2X2FkZChvcHRpb25zLCAmbG9jYWxfZXJyKTsKKyAgICBxbXBfYmxvY2tkZXZfYWRkKG9w
dGlvbnMsIGVycnApOwogCi0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJvcl9wcm9w
YWdhdGUoZXJycCwgbG9jYWxfZXJyKTsKKyAgICBpZiAoKmVycnApIHsKICAgICAgICAgZ290byBm
YWlsOwogICAgIH0KIApAQCAtNzE4LDE0ICs3MTEsMTIgQEAgZmFpbDoKIAogc3RhdGljIHZvaWQg
eGVuX2Jsb2NrX2RyaXZlX2Rlc3Ryb3koWGVuQmxvY2tEcml2ZSAqZHJpdmUsIEVycm9yICoqZXJy
cCkKIHsKKyAgICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgY2hhciAqbm9kZV9uYW1lID0g
ZHJpdmUtPm5vZGVfbmFtZTsKIAogICAgIGlmIChub2RlX25hbWUpIHsKLSAgICAgICAgRXJyb3Ig
KmxvY2FsX2VyciA9IE5VTEw7Ci0KLSAgICAgICAgeGVuX2Jsb2NrX2Jsb2NrZGV2X2RlbChub2Rl
X25hbWUsICZsb2NhbF9lcnIpOwotICAgICAgICBpZiAobG9jYWxfZXJyKSB7Ci0gICAgICAgICAg
ICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9jYWxfZXJyKTsKKyAgICAgICAgeGVuX2Jsb2NrX2Js
b2NrZGV2X2RlbChub2RlX25hbWUsIGVycnApOworICAgICAgICBpZiAoKmVycnApIHsKICAgICAg
ICAgICAgIHJldHVybjsKICAgICAgICAgfQogICAgICAgICBnX2ZyZWUobm9kZV9uYW1lKTsKQEAg
LTczOSw2ICs3MzAsNyBAQCBzdGF0aWMgWGVuQmxvY2tEcml2ZSAqeGVuX2Jsb2NrX2RyaXZlX2Ny
ZWF0ZShjb25zdCBjaGFyICppZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbnN0IGNoYXIgKmRldmljZV90eXBlLAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgUURpY3QgKm9wdHMsIEVycm9yICoqZXJycCkKIHsKKyAg
ICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgY29uc3QgY2hhciAqcGFyYW1zID0gcWRpY3Rf
Z2V0X3RyeV9zdHIob3B0cywgInBhcmFtcyIpOwogICAgIGNvbnN0IGNoYXIgKm1vZGUgPSBxZGlj
dF9nZXRfdHJ5X3N0cihvcHRzLCAibW9kZSIpOwogICAgIGNvbnN0IGNoYXIgKmRpcmVjdF9pb19z
YWZlID0gcWRpY3RfZ2V0X3RyeV9zdHIob3B0cywgImRpcmVjdC1pby1zYWZlIik7CkBAIC03NDYs
NyArNzM4LDYgQEAgc3RhdGljIFhlbkJsb2NrRHJpdmUgKnhlbl9ibG9ja19kcml2ZV9jcmVhdGUo
Y29uc3QgY2hhciAqaWQsCiAgICAgY2hhciAqZHJpdmVyID0gTlVMTDsKICAgICBjaGFyICpmaWxl
bmFtZSA9IE5VTEw7CiAgICAgWGVuQmxvY2tEcml2ZSAqZHJpdmUgPSBOVUxMOwotICAgIEVycm9y
ICpsb2NhbF9lcnIgPSBOVUxMOwogICAgIFFEaWN0ICpmaWxlX2xheWVyOwogICAgIFFEaWN0ICpk
cml2ZXJfbGF5ZXI7CiAKQEAgLTgyNSwxMyArODE2LDEyIEBAIHN0YXRpYyBYZW5CbG9ja0RyaXZl
ICp4ZW5fYmxvY2tfZHJpdmVfY3JlYXRlKGNvbnN0IGNoYXIgKmlkLAogCiAgICAgZ19hc3NlcnQo
IWRyaXZlLT5ub2RlX25hbWUpOwogICAgIGRyaXZlLT5ub2RlX25hbWUgPSB4ZW5fYmxvY2tfYmxv
Y2tkZXZfYWRkKGRyaXZlLT5pZCwgZHJpdmVyX2xheWVyLAotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICZsb2NhbF9lcnIpOworICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycnApOwogCiAgICAgcW9iamVjdF91bnJlZihk
cml2ZXJfbGF5ZXIpOwogCiBkb25lOgotICAgIGlmIChsb2NhbF9lcnIpIHsKLSAgICAgICAgZXJy
b3JfcHJvcGFnYXRlKGVycnAsIGxvY2FsX2Vycik7CisgICAgaWYgKCplcnJwKSB7CiAgICAgICAg
IHhlbl9ibG9ja19kcml2ZV9kZXN0cm95KGRyaXZlLCBOVUxMKTsKICAgICAgICAgcmV0dXJuIE5V
TEw7CiAgICAgfQpAQCAtODU2LDE1ICs4NDYsMTMgQEAgc3RhdGljIHZvaWQgeGVuX2Jsb2NrX2lv
dGhyZWFkX2Rlc3Ryb3koWGVuQmxvY2tJT1RocmVhZCAqaW90aHJlYWQsCiBzdGF0aWMgWGVuQmxv
Y2tJT1RocmVhZCAqeGVuX2Jsb2NrX2lvdGhyZWFkX2NyZWF0ZShjb25zdCBjaGFyICppZCwKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yICoq
ZXJycCkKIHsKKyAgICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgWGVuQmxvY2tJT1RocmVh
ZCAqaW90aHJlYWQgPSBnX25ldyhYZW5CbG9ja0lPVGhyZWFkLCAxKTsKLSAgICBFcnJvciAqbG9j
YWxfZXJyID0gTlVMTDsKIAogICAgIGlvdGhyZWFkLT5pZCA9IGdfc3RyZHVwKGlkKTsKIAotICAg
IHFtcF9vYmplY3RfYWRkKFRZUEVfSU9USFJFQUQsIGlkLCBmYWxzZSwgTlVMTCwgJmxvY2FsX2Vy
cik7Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwg
bG9jYWxfZXJyKTsKLQorICAgIHFtcF9vYmplY3RfYWRkKFRZUEVfSU9USFJFQUQsIGlkLCBmYWxz
ZSwgTlVMTCwgZXJycCk7CisgICAgaWYgKCplcnJwKSB7CiAgICAgICAgIGdfZnJlZShpb3RocmVh
ZC0+aWQpOwogICAgICAgICBnX2ZyZWUoaW90aHJlYWQpOwogICAgICAgICByZXR1cm4gTlVMTDsK
QEAgLTg3Niw2ICs4NjQsNyBAQCBzdGF0aWMgWGVuQmxvY2tJT1RocmVhZCAqeGVuX2Jsb2NrX2lv
dGhyZWFkX2NyZWF0ZShjb25zdCBjaGFyICppZCwKIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19kZXZp
Y2VfY3JlYXRlKFhlbkJhY2tlbmRJbnN0YW5jZSAqYmFja2VuZCwKICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFFEaWN0ICpvcHRzLCBFcnJvciAqKmVycnApCiB7CisgICAgRVJS
UF9BVVRPX1BST1BBR0FURSgpOwogICAgIFhlbkJ1cyAqeGVuYnVzID0geGVuX2JhY2tlbmRfZ2V0
X2J1cyhiYWNrZW5kKTsKICAgICBjb25zdCBjaGFyICpuYW1lID0geGVuX2JhY2tlbmRfZ2V0X25h
bWUoYmFja2VuZCk7CiAgICAgdW5zaWduZWQgbG9uZyBudW1iZXI7CkBAIC04ODMsNyArODcyLDYg
QEAgc3RhdGljIHZvaWQgeGVuX2Jsb2NrX2RldmljZV9jcmVhdGUoWGVuQmFja2VuZEluc3RhbmNl
ICpiYWNrZW5kLAogICAgIFhlbkJsb2NrRHJpdmUgKmRyaXZlID0gTlVMTDsKICAgICBYZW5CbG9j
a0lPVGhyZWFkICppb3RocmVhZCA9IE5VTEw7CiAgICAgWGVuRGV2aWNlICp4ZW5kZXYgPSBOVUxM
OwotICAgIEVycm9yICpsb2NhbF9lcnIgPSBOVUxMOwogICAgIGNvbnN0IGNoYXIgKnR5cGU7CiAg
ICAgWGVuQmxvY2tEZXZpY2UgKmJsb2NrZGV2OwogCkBAIC05MTUsMTUgKzkwMywxNSBAQCBzdGF0
aWMgdm9pZCB4ZW5fYmxvY2tfZGV2aWNlX2NyZWF0ZShYZW5CYWNrZW5kSW5zdGFuY2UgKmJhY2tl
bmQsCiAgICAgICAgIGdvdG8gZmFpbDsKICAgICB9CiAKLSAgICBkcml2ZSA9IHhlbl9ibG9ja19k
cml2ZV9jcmVhdGUodmRldiwgZGV2aWNlX3R5cGUsIG9wdHMsICZsb2NhbF9lcnIpOworICAgIGRy
aXZlID0geGVuX2Jsb2NrX2RyaXZlX2NyZWF0ZSh2ZGV2LCBkZXZpY2VfdHlwZSwgb3B0cywgZXJy
cCk7CiAgICAgaWYgKCFkcml2ZSkgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGVfcHJlcGVuZChl
cnJwLCBsb2NhbF9lcnIsICJmYWlsZWQgdG8gY3JlYXRlIGRyaXZlOiAiKTsKKyAgICAgICAgZXJy
b3JfcHJlcGVuZChlcnJwLCAiZmFpbGVkIHRvIGNyZWF0ZSBkcml2ZTogIik7CiAgICAgICAgIGdv
dG8gZmFpbDsKICAgICB9CiAKLSAgICBpb3RocmVhZCA9IHhlbl9ibG9ja19pb3RocmVhZF9jcmVh
dGUodmRldiwgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJv
cl9wcm9wYWdhdGVfcHJlcGVuZChlcnJwLCBsb2NhbF9lcnIsCisgICAgaW90aHJlYWQgPSB4ZW5f
YmxvY2tfaW90aHJlYWRfY3JlYXRlKHZkZXYsIGVycnApOworICAgIGlmICgqZXJycCkgeworICAg
ICAgICBlcnJvcl9wcmVwZW5kKGVycnAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICJmYWlsZWQgdG8gY3JlYXRlIGlvdGhyZWFkOiAiKTsKICAgICAgICAgZ290byBmYWlsOwogICAg
IH0KQEAgLTkzMSwyNCArOTE5LDI0IEBAIHN0YXRpYyB2b2lkIHhlbl9ibG9ja19kZXZpY2VfY3Jl
YXRlKFhlbkJhY2tlbmRJbnN0YW5jZSAqYmFja2VuZCwKICAgICB4ZW5kZXYgPSBYRU5fREVWSUNF
KHFkZXZfY3JlYXRlKEJVUyh4ZW5idXMpLCB0eXBlKSk7CiAgICAgYmxvY2tkZXYgPSBYRU5fQkxP
Q0tfREVWSUNFKHhlbmRldik7CiAKLSAgICBvYmplY3RfcHJvcGVydHlfc2V0X3N0cihPQkpFQ1Qo
eGVuZGV2KSwgdmRldiwgInZkZXYiLCAmbG9jYWxfZXJyKTsKLSAgICBpZiAobG9jYWxfZXJyKSB7
Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwgImZhaWxl
ZCB0byBzZXQgJ3ZkZXYnOiAiKTsKKyAgICBvYmplY3RfcHJvcGVydHlfc2V0X3N0cihPQkpFQ1Qo
eGVuZGV2KSwgdmRldiwgInZkZXYiLCBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKKyAgICAgICAg
ZXJyb3JfcHJlcGVuZChlcnJwLCAiZmFpbGVkIHRvIHNldCAndmRldic6ICIpOwogICAgICAgICBn
b3RvIGZhaWw7CiAgICAgfQogCiAgICAgb2JqZWN0X3Byb3BlcnR5X3NldF9zdHIoT0JKRUNUKHhl
bmRldiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVuX2Jsb2NrX2RyaXZlX2dldF9u
b2RlX25hbWUoZHJpdmUpLCAiZHJpdmUiLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICZs
b2NhbF9lcnIpOwotICAgIGlmIChsb2NhbF9lcnIpIHsKLSAgICAgICAgZXJyb3JfcHJvcGFnYXRl
X3ByZXBlbmQoZXJycCwgbG9jYWxfZXJyLCAiZmFpbGVkIHRvIHNldCAnZHJpdmUnOiAiKTsKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKKyAgICAg
ICAgZXJyb3JfcHJlcGVuZChlcnJwLCAiZmFpbGVkIHRvIHNldCAnZHJpdmUnOiAiKTsKICAgICAg
ICAgZ290byBmYWlsOwogICAgIH0KIAogICAgIG9iamVjdF9wcm9wZXJ0eV9zZXRfc3RyKE9CSkVD
VCh4ZW5kZXYpLCBpb3RocmVhZC0+aWQsICJpb3RocmVhZCIsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJv
cl9wcm9wYWdhdGVfcHJlcGVuZChlcnJwLCBsb2NhbF9lcnIsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZXJycCk7CisgICAgaWYgKCplcnJwKSB7CisgICAgICAgIGVycm9yX3ByZXBlbmQo
ZXJycCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZhaWxlZCB0byBzZXQgJ2lv
dGhyZWFkJzogIik7CiAgICAgICAgIGdvdG8gZmFpbDsKICAgICB9CkBAIC05NTYsOSArOTQ0LDkg
QEAgc3RhdGljIHZvaWQgeGVuX2Jsb2NrX2RldmljZV9jcmVhdGUoWGVuQmFja2VuZEluc3RhbmNl
ICpiYWNrZW5kLAogICAgIGJsb2NrZGV2LT5pb3RocmVhZCA9IGlvdGhyZWFkOwogICAgIGJsb2Nr
ZGV2LT5kcml2ZSA9IGRyaXZlOwogCi0gICAgb2JqZWN0X3Byb3BlcnR5X3NldF9ib29sKE9CSkVD
VCh4ZW5kZXYpLCB0cnVlLCAicmVhbGl6ZWQiLCAmbG9jYWxfZXJyKTsKLSAgICBpZiAobG9jYWxf
ZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwK
KyAgICBvYmplY3RfcHJvcGVydHlfc2V0X2Jvb2woT0JKRUNUKHhlbmRldiksIHRydWUsICJyZWFs
aXplZCIsIGVycnApOworICAgIGlmICgqZXJycCkgeworICAgICAgICBlcnJvcl9wcmVwZW5kKGVy
cnAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJyZWFsaXphdGlvbiBvZiBkZXZp
Y2UgJXMgZmFpbGVkOiAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlKTsK
ICAgICAgICAgZ290byBmYWlsOwpAQCAtOTg0LDYgKzk3Miw3IEBAIGZhaWw6CiBzdGF0aWMgdm9p
ZCB4ZW5fYmxvY2tfZGV2aWNlX2Rlc3Ryb3koWGVuQmFja2VuZEluc3RhbmNlICpiYWNrZW5kLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yICoqZXJycCkKIHsKKyAg
ICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgWGVuRGV2aWNlICp4ZW5kZXYgPSB4ZW5fYmFj
a2VuZF9nZXRfZGV2aWNlKGJhY2tlbmQpOwogICAgIFhlbkJsb2NrRGV2aWNlICpibG9ja2RldiA9
IFhFTl9CTE9DS19ERVZJQ0UoeGVuZGV2KTsKICAgICBYZW5CbG9ja1ZkZXYgKnZkZXYgPSAmYmxv
Y2tkZXYtPnByb3BzLnZkZXY7CkBAIC05OTUsMjIgKzk4NCwxOCBAQCBzdGF0aWMgdm9pZCB4ZW5f
YmxvY2tfZGV2aWNlX2Rlc3Ryb3koWGVuQmFja2VuZEluc3RhbmNlICpiYWNrZW5kLAogICAgIG9i
amVjdF91bnBhcmVudChPQkpFQ1QoeGVuZGV2KSk7CiAKICAgICBpZiAoaW90aHJlYWQpIHsKLSAg
ICAgICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7Ci0KLSAgICAgICAgeGVuX2Jsb2NrX2lvdGhy
ZWFkX2Rlc3Ryb3koaW90aHJlYWQsICZsb2NhbF9lcnIpOwotICAgICAgICBpZiAobG9jYWxfZXJy
KSB7Ci0gICAgICAgICAgICBlcnJvcl9wcm9wYWdhdGVfcHJlcGVuZChlcnJwLCBsb2NhbF9lcnIs
CisgICAgICAgIHhlbl9ibG9ja19pb3RocmVhZF9kZXN0cm95KGlvdGhyZWFkLCBlcnJwKTsKKyAg
ICAgICAgaWYgKCplcnJwKSB7CisgICAgICAgICAgICBlcnJvcl9wcmVwZW5kKGVycnAsCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gZGVzdHJveSBpb3RocmVhZDog
Iik7CiAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgIH0KICAgICB9CiAKICAgICBpZiAoZHJp
dmUpIHsKLSAgICAgICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7Ci0KLSAgICAgICAgeGVuX2Js
b2NrX2RyaXZlX2Rlc3Ryb3koZHJpdmUsICZsb2NhbF9lcnIpOwotICAgICAgICBpZiAobG9jYWxf
ZXJyKSB7Ci0gICAgICAgICAgICBlcnJvcl9wcm9wYWdhdGVfcHJlcGVuZChlcnJwLCBsb2NhbF9l
cnIsCisgICAgICAgIHhlbl9ibG9ja19kcml2ZV9kZXN0cm95KGRyaXZlLCBlcnJwKTsKKyAgICAg
ICAgaWYgKCplcnJwKSB7CisgICAgICAgICAgICBlcnJvcl9wcmVwZW5kKGVycnAsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gZGVzdHJveSBkcml2ZTogIik7CiAg
ICAgICAgIH0KICAgICB9CmRpZmYgLS1naXQgYS9ody94ZW4veGVuLWJhY2tlbmQuYyBiL2h3L3hl
bi94ZW4tYmFja2VuZC5jCmluZGV4IGRhMDY1ZjgxYjcuLjFjYzA2OTQwNTMgMTAwNjQ0Ci0tLSBh
L2h3L3hlbi94ZW4tYmFja2VuZC5jCisrKyBiL2h3L3hlbi94ZW4tYmFja2VuZC5jCkBAIC05OCw5
ICs5OCw5IEBAIHN0YXRpYyB2b2lkIHhlbl9iYWNrZW5kX2xpc3RfcmVtb3ZlKFhlbkJhY2tlbmRJ
bnN0YW5jZSAqYmFja2VuZCkKIHZvaWQgeGVuX2JhY2tlbmRfZGV2aWNlX2NyZWF0ZShYZW5CdXMg
KnhlbmJ1cywgY29uc3QgY2hhciAqdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBjaGFyICpuYW1lLCBRRGljdCAqb3B0cywgRXJyb3IgKiplcnJwKQogeworICAgIEVS
UlBfQVVUT19QUk9QQUdBVEUoKTsKICAgICBjb25zdCBYZW5CYWNrZW5kSW1wbCAqaW1wbCA9IHhl
bl9iYWNrZW5kX3RhYmxlX2xvb2t1cCh0eXBlKTsKICAgICBYZW5CYWNrZW5kSW5zdGFuY2UgKmJh
Y2tlbmQ7Ci0gICAgRXJyb3IgKmxvY2FsX2Vycm9yID0gTlVMTDsKIAogICAgIGlmICghaW1wbCkg
ewogICAgICAgICByZXR1cm47CkBAIC0xMTAsOSArMTEwLDggQEAgdm9pZCB4ZW5fYmFja2VuZF9k
ZXZpY2VfY3JlYXRlKFhlbkJ1cyAqeGVuYnVzLCBjb25zdCBjaGFyICp0eXBlLAogICAgIGJhY2tl
bmQtPnhlbmJ1cyA9IHhlbmJ1czsKICAgICBiYWNrZW5kLT5uYW1lID0gZ19zdHJkdXAobmFtZSk7
CiAKLSAgICBpbXBsLT5jcmVhdGUoYmFja2VuZCwgb3B0cywgJmxvY2FsX2Vycm9yKTsKLSAgICBp
ZiAobG9jYWxfZXJyb3IpIHsKLSAgICAgICAgZXJyb3JfcHJvcGFnYXRlKGVycnAsIGxvY2FsX2Vy
cm9yKTsKKyAgICBpbXBsLT5jcmVhdGUoYmFja2VuZCwgb3B0cywgZXJycCk7CisgICAgaWYgKCpl
cnJwKSB7CiAgICAgICAgIGdfZnJlZShiYWNrZW5kLT5uYW1lKTsKICAgICAgICAgZ19mcmVlKGJh
Y2tlbmQpOwogICAgICAgICByZXR1cm47CmRpZmYgLS1naXQgYS9ody94ZW4veGVuLWJ1cy5jIGIv
aHcveGVuL3hlbi1idXMuYwppbmRleCBjMmFkMjJhNDJkLi5jZWVjZjBkYWNiIDEwMDY0NAotLS0g
YS9ody94ZW4veGVuLWJ1cy5jCisrKyBiL2h3L3hlbi94ZW4tYnVzLmMKQEAgLTUzLDkgKzUzLDkg
QEAgc3RhdGljIGNoYXIgKnhlbl9kZXZpY2VfZ2V0X2Zyb250ZW5kX3BhdGgoWGVuRGV2aWNlICp4
ZW5kZXYpCiAKIHN0YXRpYyB2b2lkIHhlbl9kZXZpY2VfdW5wbHVnKFhlbkRldmljZSAqeGVuZGV2
LCBFcnJvciAqKmVycnApCiB7CisgICAgRVJSUF9BVVRPX1BST1BBR0FURSgpOwogICAgIFhlbkJ1
cyAqeGVuYnVzID0gWEVOX0JVUyhxZGV2X2dldF9wYXJlbnRfYnVzKERFVklDRSh4ZW5kZXYpKSk7
CiAgICAgY29uc3QgY2hhciAqdHlwZSA9IG9iamVjdF9nZXRfdHlwZW5hbWUoT0JKRUNUKHhlbmRl
dikpOwotICAgIEVycm9yICpsb2NhbF9lcnIgPSBOVUxMOwogICAgIHhzX3RyYW5zYWN0aW9uX3Qg
dGlkOwogCiAgICAgdHJhY2VfeGVuX2RldmljZV91bnBsdWcodHlwZSwgeGVuZGV2LT5uYW1lKTsK
QEAgLTY5LDE0ICs2OSwxNCBAQCBhZ2FpbjoKICAgICB9CiAKICAgICB4c19ub2RlX3ByaW50Zih4
ZW5idXMtPnhzaCwgdGlkLCB4ZW5kZXYtPmJhY2tlbmRfcGF0aCwgIm9ubGluZSIsCi0gICAgICAg
ICAgICAgICAgICAgJmxvY2FsX2VyciwgIiV1IiwgMCk7Ci0gICAgaWYgKGxvY2FsX2Vycikgewor
ICAgICAgICAgICAgICAgICAgIGVycnAsICIldSIsIDApOworICAgIGlmICgqZXJycCkgewogICAg
ICAgICBnb3RvIGFib3J0OwogICAgIH0KIAogICAgIHhzX25vZGVfcHJpbnRmKHhlbmJ1cy0+eHNo
LCB0aWQsIHhlbmRldi0+YmFja2VuZF9wYXRoLCAic3RhdGUiLAotICAgICAgICAgICAgICAgICAg
ICZsb2NhbF9lcnIsICIldSIsIFhlbmJ1c1N0YXRlQ2xvc2luZyk7Ci0gICAgaWYgKGxvY2FsX2Vy
cikgeworICAgICAgICAgICAgICAgICAgIGVycnAsICIldSIsIFhlbmJ1c1N0YXRlQ2xvc2luZyk7
CisgICAgaWYgKCplcnJwKSB7CiAgICAgICAgIGdvdG8gYWJvcnQ7CiAgICAgfQogCkBAIC05Niw3
ICs5Niw2IEBAIGFib3J0OgogICAgICAqIGZyb20gZW5kaW5nIHRoZSB0cmFuc2FjdGlvbi4KICAg
ICAgKi8KICAgICB4c190cmFuc2FjdGlvbl9lbmQoeGVuYnVzLT54c2gsIHRpZCwgdHJ1ZSk7Ci0g
ICAgZXJyb3JfcHJvcGFnYXRlKGVycnAsIGxvY2FsX2Vycik7CiB9CiAKIHN0YXRpYyB2b2lkIHhl
bl9idXNfcHJpbnRfZGV2KE1vbml0b3IgKm1vbiwgRGV2aWNlU3RhdGUgKmRldiwgaW50IGluZGVu
dCkKQEAgLTIwNSwxNSArMjA0LDEzIEBAIHN0YXRpYyBYZW5XYXRjaCAqd2F0Y2hfbGlzdF9hZGQo
WGVuV2F0Y2hMaXN0ICp3YXRjaF9saXN0LCBjb25zdCBjaGFyICpub2RlLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICprZXksIFhlbldhdGNoSGFuZGxlciBoYW5k
bGVyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkICpvcGFxdWUsIEVycm9y
ICoqZXJycCkKIHsKKyAgICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgWGVuV2F0Y2ggKndh
dGNoID0gbmV3X3dhdGNoKG5vZGUsIGtleSwgaGFuZGxlciwgb3BhcXVlKTsKLSAgICBFcnJvciAq
bG9jYWxfZXJyID0gTlVMTDsKIAogICAgIG5vdGlmaWVyX2xpc3RfYWRkKCZ3YXRjaF9saXN0LT5u
b3RpZmllcnMsICZ3YXRjaC0+bm90aWZpZXIpOwogCi0gICAgeHNfbm9kZV93YXRjaCh3YXRjaF9s
aXN0LT54c2gsIG5vZGUsIGtleSwgd2F0Y2gtPnRva2VuLCAmbG9jYWxfZXJyKTsKLSAgICBpZiAo
bG9jYWxfZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBsb2NhbF9lcnIpOwot
CisgICAgeHNfbm9kZV93YXRjaCh3YXRjaF9saXN0LT54c2gsIG5vZGUsIGtleSwgd2F0Y2gtPnRv
a2VuLCBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKICAgICAgICAgbm90aWZpZXJfcmVtb3ZlKCZ3
YXRjaC0+bm90aWZpZXIpOwogICAgICAgICBmcmVlX3dhdGNoKHdhdGNoKTsKIApAQCAtMjU1LDEx
ICsyNTIsMTEgQEAgc3RhdGljIHZvaWQgeGVuX2J1c19iYWNrZW5kX2NyZWF0ZShYZW5CdXMgKnhl
bmJ1cywgY29uc3QgY2hhciAqdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgY29uc3QgY2hhciAqbmFtZSwgY2hhciAqcGF0aCwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgRXJyb3IgKiplcnJwKQogeworICAgIEVSUlBfQVVUT19QUk9QQUdBVEUoKTsK
ICAgICB4c190cmFuc2FjdGlvbl90IHRpZDsKICAgICBjaGFyICoqa2V5OwogICAgIFFEaWN0ICpv
cHRzOwogICAgIHVuc2lnbmVkIGludCBpLCBuOwotICAgIEVycm9yICpsb2NhbF9lcnIgPSBOVUxM
OwogCiAgICAgdHJhY2VfeGVuX2J1c19iYWNrZW5kX2NyZWF0ZSh0eXBlLCBwYXRoKTsKIApAQCAt
MzE0LDExICszMTEsMTEgQEAgYWdhaW46CiAgICAgICAgIHJldHVybjsKICAgICB9CiAKLSAgICB4
ZW5fYmFja2VuZF9kZXZpY2VfY3JlYXRlKHhlbmJ1cywgdHlwZSwgbmFtZSwgb3B0cywgJmxvY2Fs
X2Vycik7CisgICAgeGVuX2JhY2tlbmRfZGV2aWNlX2NyZWF0ZSh4ZW5idXMsIHR5cGUsIG5hbWUs
IG9wdHMsIGVycnApOwogICAgIHFvYmplY3RfdW5yZWYob3B0cyk7CiAKLSAgICBpZiAobG9jYWxf
ZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwK
KyAgICBpZiAoKmVycnApIHsKKyAgICAgICAgZXJyb3JfcHJlcGVuZChlcnJwLAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAiZmFpbGVkIHRvIGNyZWF0ZSAnJXMnIGRldmljZSAnJXMn
OiAiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLCBuYW1lKTsKICAgICB9
CkBAIC00NTEsOSArNDQ4LDkgQEAgc3RhdGljIHZvaWQgeGVuX2J1c191bnJlYWxpemUoQnVzU3Rh
dGUgKmJ1cywgRXJyb3IgKiplcnJwKQogCiBzdGF0aWMgdm9pZCB4ZW5fYnVzX3JlYWxpemUoQnVz
U3RhdGUgKmJ1cywgRXJyb3IgKiplcnJwKQogeworICAgIEVSUlBfQVVUT19QUk9QQUdBVEUoKTsK
ICAgICBYZW5CdXMgKnhlbmJ1cyA9IFhFTl9CVVMoYnVzKTsKICAgICB1bnNpZ25lZCBpbnQgZG9t
aWQ7Ci0gICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7CiAKICAgICB0cmFjZV94ZW5fYnVzX3Jl
YWxpemUoKTsKIApAQCAtNDc2LDEwICs0NzMsMTAgQEAgc3RhdGljIHZvaWQgeGVuX2J1c19yZWFs
aXplKEJ1c1N0YXRlICpidXMsIEVycm9yICoqZXJycCkKIAogICAgIHhlbmJ1cy0+YmFja2VuZF93
YXRjaCA9CiAgICAgICAgIHhlbl9idXNfYWRkX3dhdGNoKHhlbmJ1cywgIiIsIC8qIGRvbWFpbiBy
b290IG5vZGUgKi8KLSAgICAgICAgICAgICAgICAgICAgICAgICAgImJhY2tlbmQiLCB4ZW5fYnVz
X2JhY2tlbmRfY2hhbmdlZCwgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2VycikgeworICAg
ICAgICAgICAgICAgICAgICAgICAgICAiYmFja2VuZCIsIHhlbl9idXNfYmFja2VuZF9jaGFuZ2Vk
LCBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKICAgICAgICAgLyogVGhpcyBuZWVkIG5vdCBiZSB0
cmVhdGVkIGFzIGEgaGFyZCBlcnJvciBzbyBkb24ndCBwcm9wYWdhdGUgKi8KLSAgICAgICAgZXJy
b3JfcmVwb3J0Zl9lcnIobG9jYWxfZXJyLAorICAgICAgICBlcnJvcl9yZXBvcnRmX2VycigqZXJy
cCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgImZhaWxlZCB0byBzZXQgdXAgZW51bWVyYXRp
b24gd2F0Y2g6ICIpOwogICAgIH0KIApAQCAtNjkyLDkgKzY4OSw5IEBAIHN0YXRpYyB2b2lkIHhl
bl9kZXZpY2VfcmVtb3ZlX3dhdGNoKFhlbkRldmljZSAqeGVuZGV2LCBYZW5XYXRjaCAqd2F0Y2gs
CiAKIHN0YXRpYyB2b2lkIHhlbl9kZXZpY2VfYmFja2VuZF9jcmVhdGUoWGVuRGV2aWNlICp4ZW5k
ZXYsIEVycm9yICoqZXJycCkKIHsKKyAgICBFUlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgWGVu
QnVzICp4ZW5idXMgPSBYRU5fQlVTKHFkZXZfZ2V0X3BhcmVudF9idXMoREVWSUNFKHhlbmRldikp
KTsKICAgICBzdHJ1Y3QgeHNfcGVybWlzc2lvbnMgcGVybXNbMl07Ci0gICAgRXJyb3IgKmxvY2Fs
X2VyciA9IE5VTEw7CiAKICAgICB4ZW5kZXYtPmJhY2tlbmRfcGF0aCA9IHhlbl9kZXZpY2VfZ2V0
X2JhY2tlbmRfcGF0aCh4ZW5kZXYpOwogCkBAIC03MDYsOSArNzAzLDkgQEAgc3RhdGljIHZvaWQg
eGVuX2RldmljZV9iYWNrZW5kX2NyZWF0ZShYZW5EZXZpY2UgKnhlbmRldiwgRXJyb3IgKiplcnJw
KQogICAgIGdfYXNzZXJ0KHhlbmJ1cy0+eHNoKTsKIAogICAgIHhzX25vZGVfY3JlYXRlKHhlbmJ1
cy0+eHNoLCBYQlRfTlVMTCwgeGVuZGV2LT5iYWNrZW5kX3BhdGgsIHBlcm1zLAotICAgICAgICAg
ICAgICAgICAgIEFSUkFZX1NJWkUocGVybXMpLCAmbG9jYWxfZXJyKTsKLSAgICBpZiAobG9jYWxf
ZXJyKSB7Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwK
KyAgICAgICAgICAgICAgICAgICBBUlJBWV9TSVpFKHBlcm1zKSwgZXJycCk7CisgICAgaWYgKCpl
cnJwKSB7CisgICAgICAgIGVycm9yX3ByZXBlbmQoZXJycCwKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgImZhaWxlZCB0byBjcmVhdGUgYmFja2VuZDogIik7CiAgICAgICAgIHJldHVy
bjsKICAgICB9CkBAIC03MTYsOSArNzEzLDkgQEAgc3RhdGljIHZvaWQgeGVuX2RldmljZV9iYWNr
ZW5kX2NyZWF0ZShYZW5EZXZpY2UgKnhlbmRldiwgRXJyb3IgKiplcnJwKQogICAgIHhlbmRldi0+
YmFja2VuZF9zdGF0ZV93YXRjaCA9CiAgICAgICAgIHhlbl9kZXZpY2VfYWRkX3dhdGNoKHhlbmRl
diwgeGVuZGV2LT5iYWNrZW5kX3BhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJz
dGF0ZSIsIHhlbl9kZXZpY2VfYmFja2VuZF9jaGFuZ2VkLAotICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAmbG9jYWxfZXJyKTsKLSAgICBpZiAobG9jYWxfZXJyKSB7Ci0gICAgICAgIGVycm9y
X3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZXJycCk7CisgICAgaWYgKCplcnJwKSB7CisgICAgICAgIGVycm9yX3ByZXBlbmQo
ZXJycCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZhaWxlZCB0byB3YXRjaCBi
YWNrZW5kIHN0YXRlOiAiKTsKICAgICAgICAgcmV0dXJuOwogICAgIH0KQEAgLTcyNiw5ICs3MjMs
OSBAQCBzdGF0aWMgdm9pZCB4ZW5fZGV2aWNlX2JhY2tlbmRfY3JlYXRlKFhlbkRldmljZSAqeGVu
ZGV2LCBFcnJvciAqKmVycnApCiAgICAgeGVuZGV2LT5iYWNrZW5kX29ubGluZV93YXRjaCA9CiAg
ICAgICAgIHhlbl9kZXZpY2VfYWRkX3dhdGNoKHhlbmRldiwgeGVuZGV2LT5iYWNrZW5kX3BhdGgs
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvbmxpbmUiLCB4ZW5fZGV2aWNlX2JhY2tl
bmRfY2hhbmdlZCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmxvY2FsX2Vycik7Ci0g
ICAgaWYgKGxvY2FsX2VycikgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGVfcHJlcGVuZChlcnJw
LCBsb2NhbF9lcnIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycnApOworICAgIGlm
ICgqZXJycCkgeworICAgICAgICBlcnJvcl9wcmVwZW5kKGVycnAsCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gd2F0Y2ggYmFja2VuZCBvbmxpbmU6ICIpOwogICAg
ICAgICByZXR1cm47CiAgICAgfQpAQCAtODY2LDkgKzg2Myw5IEBAIHN0YXRpYyBib29sIHhlbl9k
ZXZpY2VfZnJvbnRlbmRfZXhpc3RzKFhlbkRldmljZSAqeGVuZGV2KQogCiBzdGF0aWMgdm9pZCB4
ZW5fZGV2aWNlX2Zyb250ZW5kX2NyZWF0ZShYZW5EZXZpY2UgKnhlbmRldiwgRXJyb3IgKiplcnJw
KQogeworICAgIEVSUlBfQVVUT19QUk9QQUdBVEUoKTsKICAgICBYZW5CdXMgKnhlbmJ1cyA9IFhF
Tl9CVVMocWRldl9nZXRfcGFyZW50X2J1cyhERVZJQ0UoeGVuZGV2KSkpOwogICAgIHN0cnVjdCB4
c19wZXJtaXNzaW9ucyBwZXJtc1syXTsKLSAgICBFcnJvciAqbG9jYWxfZXJyID0gTlVMTDsKIAog
ICAgIHhlbmRldi0+ZnJvbnRlbmRfcGF0aCA9IHhlbl9kZXZpY2VfZ2V0X2Zyb250ZW5kX3BhdGgo
eGVuZGV2KTsKIApAQCAtODg1LDkgKzg4Miw5IEBAIHN0YXRpYyB2b2lkIHhlbl9kZXZpY2VfZnJv
bnRlbmRfY3JlYXRlKFhlbkRldmljZSAqeGVuZGV2LCBFcnJvciAqKmVycnApCiAgICAgICAgIGdf
YXNzZXJ0KHhlbmJ1cy0+eHNoKTsKIAogICAgICAgICB4c19ub2RlX2NyZWF0ZSh4ZW5idXMtPnhz
aCwgWEJUX05VTEwsIHhlbmRldi0+ZnJvbnRlbmRfcGF0aCwgcGVybXMsCi0gICAgICAgICAgICAg
ICAgICAgICAgIEFSUkFZX1NJWkUocGVybXMpLCAmbG9jYWxfZXJyKTsKLSAgICAgICAgaWYgKGxv
Y2FsX2VycikgewotICAgICAgICAgICAgZXJyb3JfcHJvcGFnYXRlX3ByZXBlbmQoZXJycCwgbG9j
YWxfZXJyLAorICAgICAgICAgICAgICAgICAgICAgICBBUlJBWV9TSVpFKHBlcm1zKSwgZXJycCk7
CisgICAgICAgIGlmICgqZXJycCkgeworICAgICAgICAgICAgZXJyb3JfcHJlcGVuZChlcnJwLAog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImZhaWxlZCB0byBjcmVhdGUgZnJv
bnRlbmQ6ICIpOwogICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CkBAIC04OTUsOSArODky
LDkgQEAgc3RhdGljIHZvaWQgeGVuX2RldmljZV9mcm9udGVuZF9jcmVhdGUoWGVuRGV2aWNlICp4
ZW5kZXYsIEVycm9yICoqZXJycCkKIAogICAgIHhlbmRldi0+ZnJvbnRlbmRfc3RhdGVfd2F0Y2gg
PQogICAgICAgICB4ZW5fZGV2aWNlX2FkZF93YXRjaCh4ZW5kZXYsIHhlbmRldi0+ZnJvbnRlbmRf
cGF0aCwgInN0YXRlIiwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGVuX2RldmljZV9m
cm9udGVuZF9jaGFuZ2VkLCAmbG9jYWxfZXJyKTsKLSAgICBpZiAobG9jYWxfZXJyKSB7Ci0gICAg
ICAgIGVycm9yX3Byb3BhZ2F0ZV9wcmVwZW5kKGVycnAsIGxvY2FsX2VyciwKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgeGVuX2RldmljZV9mcm9udGVuZF9jaGFuZ2VkLCBlcnJwKTsKKyAg
ICBpZiAoKmVycnApIHsKKyAgICAgICAgZXJyb3JfcHJlcGVuZChlcnJwLAogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAiZmFpbGVkIHRvIHdhdGNoIGZyb250ZW5kIHN0YXRlOiAiKTsK
ICAgICB9CiB9CkBAIC0xMjI4LDExICsxMjI1LDExIEBAIHN0YXRpYyB2b2lkIHhlbl9kZXZpY2Vf
ZXhpdChOb3RpZmllciAqbiwgdm9pZCAqZGF0YSkKIAogc3RhdGljIHZvaWQgeGVuX2RldmljZV9y
ZWFsaXplKERldmljZVN0YXRlICpkZXYsIEVycm9yICoqZXJycCkKIHsKKyAgICBFUlJQX0FVVE9f
UFJPUEFHQVRFKCk7CiAgICAgWGVuRGV2aWNlICp4ZW5kZXYgPSBYRU5fREVWSUNFKGRldik7CiAg
ICAgWGVuRGV2aWNlQ2xhc3MgKnhlbmRldl9jbGFzcyA9IFhFTl9ERVZJQ0VfR0VUX0NMQVNTKHhl
bmRldik7CiAgICAgWGVuQnVzICp4ZW5idXMgPSBYRU5fQlVTKHFkZXZfZ2V0X3BhcmVudF9idXMo
REVWSUNFKHhlbmRldikpKTsKICAgICBjb25zdCBjaGFyICp0eXBlID0gb2JqZWN0X2dldF90eXBl
bmFtZShPQkpFQ1QoeGVuZGV2KSk7Ci0gICAgRXJyb3IgKmxvY2FsX2VyciA9IE5VTEw7CiAKICAg
ICBpZiAoeGVuZGV2LT5mcm9udGVuZF9pZCA9PSBET01JRF9JTlZBTElEKSB7CiAgICAgICAgIHhl
bmRldi0+ZnJvbnRlbmRfaWQgPSB4ZW5fZG9taWQ7CkBAIC0xMjQ4LDkgKzEyNDUsOSBAQCBzdGF0
aWMgdm9pZCB4ZW5fZGV2aWNlX3JlYWxpemUoRGV2aWNlU3RhdGUgKmRldiwgRXJyb3IgKiplcnJw
KQogICAgICAgICBnb3RvIHVucmVhbGl6ZTsKICAgICB9CiAKLSAgICB4ZW5kZXYtPm5hbWUgPSB4
ZW5kZXZfY2xhc3MtPmdldF9uYW1lKHhlbmRldiwgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2Fs
X2VycikgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGVfcHJlcGVuZChlcnJwLCBsb2NhbF9lcnIs
CisgICAgeGVuZGV2LT5uYW1lID0geGVuZGV2X2NsYXNzLT5nZXRfbmFtZSh4ZW5kZXYsIGVycnAp
OworICAgIGlmICgqZXJycCkgeworICAgICAgICBlcnJvcl9wcmVwZW5kKGVycnAsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJmYWlsZWQgdG8gZ2V0IGRldmljZSBuYW1lOiAiKTsK
ICAgICAgICAgZ290byB1bnJlYWxpemU7CiAgICAgfQpAQCAtMTI3NCwyMiArMTI3MSwxOSBAQCBz
dGF0aWMgdm9pZCB4ZW5fZGV2aWNlX3JlYWxpemUoRGV2aWNlU3RhdGUgKmRldiwgRXJyb3IgKipl
cnJwKQogICAgIHhlbmRldi0+ZmVhdHVyZV9ncmFudF9jb3B5ID0KICAgICAgICAgKHhlbmdudHRh
Yl9ncmFudF9jb3B5KHhlbmRldi0+eGd0aCwgMCwgTlVMTCkgPT0gMCk7CiAKLSAgICB4ZW5fZGV2
aWNlX2JhY2tlbmRfY3JlYXRlKHhlbmRldiwgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2Vy
cikgewotICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9jYWxfZXJyKTsKKyAgICB4ZW5f
ZGV2aWNlX2JhY2tlbmRfY3JlYXRlKHhlbmRldiwgZXJycCk7CisgICAgaWYgKCplcnJwKSB7CiAg
ICAgICAgIGdvdG8gdW5yZWFsaXplOwogICAgIH0KIAotICAgIHhlbl9kZXZpY2VfZnJvbnRlbmRf
Y3JlYXRlKHhlbmRldiwgJmxvY2FsX2Vycik7Ci0gICAgaWYgKGxvY2FsX2VycikgewotICAgICAg
ICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9jYWxfZXJyKTsKKyAgICB4ZW5fZGV2aWNlX2Zyb250
ZW5kX2NyZWF0ZSh4ZW5kZXYsIGVycnApOworICAgIGlmICgqZXJycCkgewogICAgICAgICBnb3Rv
IHVucmVhbGl6ZTsKICAgICB9CiAKICAgICBpZiAoeGVuZGV2X2NsYXNzLT5yZWFsaXplKSB7Ci0g
ICAgICAgIHhlbmRldl9jbGFzcy0+cmVhbGl6ZSh4ZW5kZXYsICZsb2NhbF9lcnIpOwotICAgICAg
ICBpZiAobG9jYWxfZXJyKSB7Ci0gICAgICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9j
YWxfZXJyKTsKKyAgICAgICAgeGVuZGV2X2NsYXNzLT5yZWFsaXplKHhlbmRldiwgZXJycCk7Cisg
ICAgICAgIGlmICgqZXJycCkgewogICAgICAgICAgICAgZ290byB1bnJlYWxpemU7CiAgICAgICAg
IH0KICAgICB9CmRpZmYgLS1naXQgYS9ody94ZW4veGVuLWhvc3QtcGNpLWRldmljZS5jIGIvaHcv
eGVuL3hlbi1ob3N0LXBjaS1kZXZpY2UuYwppbmRleCAxYjQ0ZGNhZmFmLi4wMjM3OWMzNDFjIDEw
MDY0NAotLS0gYS9ody94ZW4veGVuLWhvc3QtcGNpLWRldmljZS5jCisrKyBiL2h3L3hlbi94ZW4t
aG9zdC1wY2ktZGV2aWNlLmMKQEAgLTMzMyw4ICszMzMsOCBAQCB2b2lkIHhlbl9ob3N0X3BjaV9k
ZXZpY2VfZ2V0KFhlbkhvc3RQQ0lEZXZpY2UgKmQsIHVpbnQxNl90IGRvbWFpbiwKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdWludDhfdCBidXMsIHVpbnQ4X3QgZGV2LCB1aW50OF90IGZ1
bmMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yICoqZXJycCkKIHsKKyAgICBF
UlJQX0FVVE9fUFJPUEFHQVRFKCk7CiAgICAgdW5zaWduZWQgaW50IHY7Ci0gICAgRXJyb3IgKmVy
ciA9IE5VTEw7CiAKICAgICBkLT5jb25maWdfZmQgPSAtMTsKICAgICBkLT5kb21haW4gPSBkb21h
aW47CkBAIC0zNDIsMzYgKzM0MiwzNiBAQCB2b2lkIHhlbl9ob3N0X3BjaV9kZXZpY2VfZ2V0KFhl
bkhvc3RQQ0lEZXZpY2UgKmQsIHVpbnQxNl90IGRvbWFpbiwKICAgICBkLT5kZXYgPSBkZXY7CiAg
ICAgZC0+ZnVuYyA9IGZ1bmM7CiAKLSAgICB4ZW5faG9zdF9wY2lfY29uZmlnX29wZW4oZCwgJmVy
cik7Ci0gICAgaWYgKGVycikgeworICAgIHhlbl9ob3N0X3BjaV9jb25maWdfb3BlbihkLCBlcnJw
KTsKKyAgICBpZiAoKmVycnApIHsKICAgICAgICAgZ290byBlcnJvcjsKICAgICB9CiAKLSAgICB4
ZW5faG9zdF9wY2lfZ2V0X3Jlc291cmNlKGQsICZlcnIpOwotICAgIGlmIChlcnIpIHsKKyAgICB4
ZW5faG9zdF9wY2lfZ2V0X3Jlc291cmNlKGQsIGVycnApOworICAgIGlmICgqZXJycCkgewogICAg
ICAgICBnb3RvIGVycm9yOwogICAgIH0KIAotICAgIHhlbl9ob3N0X3BjaV9nZXRfaGV4X3ZhbHVl
KGQsICJ2ZW5kb3IiLCAmdiwgJmVycik7Ci0gICAgaWYgKGVycikgeworICAgIHhlbl9ob3N0X3Bj
aV9nZXRfaGV4X3ZhbHVlKGQsICJ2ZW5kb3IiLCAmdiwgZXJycCk7CisgICAgaWYgKCplcnJwKSB7
CiAgICAgICAgIGdvdG8gZXJyb3I7CiAgICAgfQogICAgIGQtPnZlbmRvcl9pZCA9IHY7CiAKLSAg
ICB4ZW5faG9zdF9wY2lfZ2V0X2hleF92YWx1ZShkLCAiZGV2aWNlIiwgJnYsICZlcnIpOwotICAg
IGlmIChlcnIpIHsKKyAgICB4ZW5faG9zdF9wY2lfZ2V0X2hleF92YWx1ZShkLCAiZGV2aWNlIiwg
JnYsIGVycnApOworICAgIGlmICgqZXJycCkgewogICAgICAgICBnb3RvIGVycm9yOwogICAgIH0K
ICAgICBkLT5kZXZpY2VfaWQgPSB2OwogCi0gICAgeGVuX2hvc3RfcGNpX2dldF9kZWNfdmFsdWUo
ZCwgImlycSIsICZ2LCAmZXJyKTsKLSAgICBpZiAoZXJyKSB7CisgICAgeGVuX2hvc3RfcGNpX2dl
dF9kZWNfdmFsdWUoZCwgImlycSIsICZ2LCBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKICAgICAg
ICAgZ290byBlcnJvcjsKICAgICB9CiAgICAgZC0+aXJxID0gdjsKIAotICAgIHhlbl9ob3N0X3Bj
aV9nZXRfaGV4X3ZhbHVlKGQsICJjbGFzcyIsICZ2LCAmZXJyKTsKLSAgICBpZiAoZXJyKSB7Cisg
ICAgeGVuX2hvc3RfcGNpX2dldF9oZXhfdmFsdWUoZCwgImNsYXNzIiwgJnYsIGVycnApOworICAg
IGlmICgqZXJycCkgewogICAgICAgICBnb3RvIGVycm9yOwogICAgIH0KICAgICBkLT5jbGFzc19j
b2RlID0gdjsKQEAgLTM4MSw3ICszODEsNiBAQCB2b2lkIHhlbl9ob3N0X3BjaV9kZXZpY2VfZ2V0
KFhlbkhvc3RQQ0lEZXZpY2UgKmQsIHVpbnQxNl90IGRvbWFpbiwKICAgICByZXR1cm47CiAKIGVy
cm9yOgotICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBlcnIpOwogCiAgICAgaWYgKGQtPmNvbmZp
Z19mZCA+PSAwKSB7CiAgICAgICAgIGNsb3NlKGQtPmNvbmZpZ19mZCk7CmRpZmYgLS1naXQgYS9o
dy94ZW4veGVuX3B0LmMgYi9ody94ZW4veGVuX3B0LmMKaW5kZXggOGZiYWYyZWFlOS4uNGJmOTM1
M2JjYiAxMDA2NDQKLS0tIGEvaHcveGVuL3hlbl9wdC5jCisrKyBiL2h3L3hlbi94ZW5fcHQuYwpA
QCAtNzY1LDEyICs3NjUsMTIgQEAgc3RhdGljIHZvaWQgeGVuX3B0X2Rlc3Ryb3koUENJRGV2aWNl
ICpkKSB7CiAKIHN0YXRpYyB2b2lkIHhlbl9wdF9yZWFsaXplKFBDSURldmljZSAqZCwgRXJyb3Ig
KiplcnJwKQogeworICAgIEVSUlBfQVVUT19QUk9QQUdBVEUoKTsKICAgICBYZW5QQ0lQYXNzdGhy
b3VnaFN0YXRlICpzID0gWEVOX1BUX0RFVklDRShkKTsKICAgICBpbnQgaSwgcmMgPSAwOwogICAg
IHVpbnQ4X3QgbWFjaGluZV9pcnEgPSAwLCBzY3JhdGNoOwogICAgIHVpbnQxNl90IGNtZCA9IDA7
CiAgICAgaW50IHBpcnEgPSBYRU5fUFRfVU5BU1NJR05FRF9QSVJROwotICAgIEVycm9yICplcnIg
PSBOVUxMOwogCiAgICAgLyogcmVnaXN0ZXIgcmVhbCBkZXZpY2UgKi8KICAgICBYRU5fUFRfTE9H
KGQsICJBc3NpZ25pbmcgcmVhbCBwaHlzaWNhbCBkZXZpY2UgJTAyeDolMDJ4LiVkIgpAQCAtNzgx
LDEwICs3ODEsOSBAQCBzdGF0aWMgdm9pZCB4ZW5fcHRfcmVhbGl6ZShQQ0lEZXZpY2UgKmQsIEVy
cm9yICoqZXJycCkKICAgICB4ZW5faG9zdF9wY2lfZGV2aWNlX2dldCgmcy0+cmVhbF9kZXZpY2Us
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy0+aG9zdGFkZHIuZG9tYWluLCBzLT5ob3N0
YWRkci5idXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcy0+aG9zdGFkZHIuc2xvdCwg
cy0+aG9zdGFkZHIuZnVuY3Rpb24sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmVycik7
Ci0gICAgaWYgKGVycikgewotICAgICAgICBlcnJvcl9hcHBlbmRfaGludCgmZXJyLCAiRmFpbGVk
IHRvIFwib3BlblwiIHRoZSByZWFsIHBjaSBkZXZpY2UiKTsKLSAgICAgICAgZXJyb3JfcHJvcGFn
YXRlKGVycnAsIGVycik7CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJycCk7CisgICAg
aWYgKCplcnJwKSB7CisgICAgICAgIGVycm9yX2FwcGVuZF9oaW50KGVycnAsICJGYWlsZWQgdG8g
XCJvcGVuXCIgdGhlIHJlYWwgcGNpIGRldmljZSIpOwogICAgICAgICByZXR1cm47CiAgICAgfQog
CkBAIC04MTEsMTEgKzgxMCwxMCBAQCBzdGF0aWMgdm9pZCB4ZW5fcHRfcmVhbGl6ZShQQ0lEZXZp
Y2UgKmQsIEVycm9yICoqZXJycCkKICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgfQogCi0g
ICAgICAgIHhlbl9wdF9zZXR1cF92Z2EocywgJnMtPnJlYWxfZGV2aWNlLCAmZXJyKTsKLSAgICAg
ICAgaWYgKGVycikgewotICAgICAgICAgICAgZXJyb3JfYXBwZW5kX2hpbnQoJmVyciwgIlNldHVw
IFZHQSBCSU9TIG9mIHBhc3N0aHJvdWdoIgotICAgICAgICAgICAgICAgICAgICAiIEdGWCBmYWls
ZWQiKTsKLSAgICAgICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBlcnIpOworICAgICAgICB4
ZW5fcHRfc2V0dXBfdmdhKHMsICZzLT5yZWFsX2RldmljZSwgZXJycCk7CisgICAgICAgIGlmICgq
ZXJycCkgeworICAgICAgICAgICAgZXJyb3JfYXBwZW5kX2hpbnQoZXJycCwgIlNldHVwIFZHQSBC
SU9TIG9mIHBhc3N0aHJvdWdoIgorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBHRlgg
ZmFpbGVkIik7CiAgICAgICAgICAgICB4ZW5faG9zdF9wY2lfZGV2aWNlX3B1dCgmcy0+cmVhbF9k
ZXZpY2UpOwogICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICB9CkBAIC04MjgsMTAgKzgyNiw5
IEBAIHN0YXRpYyB2b2lkIHhlbl9wdF9yZWFsaXplKFBDSURldmljZSAqZCwgRXJyb3IgKiplcnJw
KQogICAgIHhlbl9wdF9yZWdpc3Rlcl9yZWdpb25zKHMsICZjbWQpOwogCiAgICAgLyogcmVpbml0
aWFsaXplIGVhY2ggY29uZmlnIHJlZ2lzdGVyIHRvIGJlIGVtdWxhdGVkICovCi0gICAgeGVuX3B0
X2NvbmZpZ19pbml0KHMsICZlcnIpOwotICAgIGlmIChlcnIpIHsKLSAgICAgICAgZXJyb3JfYXBw
ZW5kX2hpbnQoJmVyciwgIlBDSSBDb25maWcgc3BhY2UgaW5pdGlhbGlzYXRpb24gZmFpbGVkIik7
Ci0gICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBlcnIpOworICAgIHhlbl9wdF9jb25maWdf
aW5pdChzLCBlcnJwKTsKKyAgICBpZiAoKmVycnApIHsKKyAgICAgICAgZXJyb3JfYXBwZW5kX2hp
bnQoZXJycCwgIlBDSSBDb25maWcgc3BhY2UgaW5pdGlhbGlzYXRpb24gZmFpbGVkIik7CiAgICAg
ICAgIHJjID0gLTE7CiAgICAgICAgIGdvdG8gZXJyX291dDsKICAgICB9CmRpZmYgLS1naXQgYS9o
dy94ZW4veGVuX3B0X2NvbmZpZ19pbml0LmMgYi9ody94ZW4veGVuX3B0X2NvbmZpZ19pbml0LmMK
aW5kZXggMzFlYzVhZGQxZC4uYWYzZmJkMWJmYiAxMDA2NDQKLS0tIGEvaHcveGVuL3hlbl9wdF9j
b25maWdfaW5pdC5jCisrKyBiL2h3L3hlbi94ZW5fcHRfY29uZmlnX2luaXQuYwpAQCAtMjAwOCw4
ICsyMDA4LDggQEAgc3RhdGljIHZvaWQgeGVuX3B0X2NvbmZpZ19yZWdfaW5pdChYZW5QQ0lQYXNz
dGhyb3VnaFN0YXRlICpzLAogCiB2b2lkIHhlbl9wdF9jb25maWdfaW5pdChYZW5QQ0lQYXNzdGhy
b3VnaFN0YXRlICpzLCBFcnJvciAqKmVycnApCiB7CisgICAgRVJSUF9BVVRPX1BST1BBR0FURSgp
OwogICAgIGludCBpLCByYzsKLSAgICBFcnJvciAqZXJyID0gTlVMTDsKIAogICAgIFFMSVNUX0lO
SVQoJnMtPnJlZ19ncnBzKTsKIApAQCAtMjA1MiwxMCArMjA1Miw5IEBAIHZvaWQgeGVuX3B0X2Nv
bmZpZ19pbml0KFhlblBDSVBhc3N0aHJvdWdoU3RhdGUgKnMsIEVycm9yICoqZXJycCkKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnX2dycF9vZmZz
ZXQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZy
ZWdfZ3JwX2VudHJ5LT5zaXplKTsKICAgICAgICAgICAgIGlmIChyYyA8IDApIHsKLSAgICAgICAg
ICAgICAgICBlcnJvcl9zZXRnKCZlcnIsICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSAlZC8lenUsIHR5
cGUgPSAweCV4LCIKKyAgICAgICAgICAgICAgICBlcnJvcl9zZXRnKGVycnAsICJGYWlsZWQgdG8g
aW5pdGlhbGl6ZSAlZC8lenUsIHR5cGUgPSAweCV4LCIKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICIgcmM6ICVkIiwgaSwgQVJSQVlfU0laRSh4ZW5fcHRfZW11X3JlZ19ncnBzKSwKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHhlbl9wdF9lbXVfcmVnX2dycHNbaV0uZ3JwX3R5cGUsIHJj
KTsKLSAgICAgICAgICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgZXJyKTsKICAgICAgICAg
ICAgICAgICB4ZW5fcHRfY29uZmlnX2RlbGV0ZShzKTsKICAgICAgICAgICAgICAgICByZXR1cm47
CiAgICAgICAgICAgICB9CkBAIC0yMDY4LDEzICsyMDY3LDE0IEBAIHZvaWQgeGVuX3B0X2NvbmZp
Z19pbml0KFhlblBDSVBhc3N0aHJvdWdoU3RhdGUgKnMsIEVycm9yICoqZXJycCkKIAogICAgICAg
ICAgICAgICAgIC8qIGluaXRpYWxpemUgY2FwYWJpbGl0eSByZWdpc3RlciAqLwogICAgICAgICAg
ICAgICAgIGZvciAoaiA9IDA7IHJlZ3MtPnNpemUgIT0gMDsgaisrLCByZWdzKyspIHsKLSAgICAg
ICAgICAgICAgICAgICAgeGVuX3B0X2NvbmZpZ19yZWdfaW5pdChzLCByZWdfZ3JwX2VudHJ5LCBy
ZWdzLCAmZXJyKTsKLSAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewotICAgICAgICAgICAg
ICAgICAgICAgICAgZXJyb3JfYXBwZW5kX2hpbnQoJmVyciwgIkZhaWxlZCB0byBpbml0IHJlZ2lz
dGVyICVkIgotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIG9mZnNldHMgMHgleCBp
biBncnBfdHlwZSA9IDB4JXggKCVkLyV6dSkiLCBqLAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICByZWdzLT5vZmZzZXQsIHhlbl9wdF9lbXVfcmVnX2dycHNbaV0uZ3JwX3R5cGUsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGksIEFSUkFZX1NJWkUoeGVuX3B0X2VtdV9y
ZWdfZ3JwcykpOwotICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfcHJvcGFnYXRlKGVycnAs
IGVycik7CisgICAgICAgICAgICAgICAgICAgIHhlbl9wdF9jb25maWdfcmVnX2luaXQocywgcmVn
X2dycF9lbnRyeSwgcmVncywgZXJycCk7CisgICAgICAgICAgICAgICAgICAgIGlmICgqZXJycCkg
eworICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JfYXBwZW5kX2hpbnQoZXJycCwgIkZhaWxl
ZCB0byBpbml0IHJlZ2lzdGVyICVkIgorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIiBvZmZzZXRzIDB4JXggaW4gZ3JwX3R5cGUgPSAweCV4ICglZC8lenUpIiwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGosCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdzLT5vZmZzZXQsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZW5fcHRfZW11X3JlZ19ncnBzW2ldLmdycF90
eXBlLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSwgQVJSQVlf
U0laRSh4ZW5fcHRfZW11X3JlZ19ncnBzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICB4ZW5f
cHRfY29uZmlnX2RlbGV0ZShzKTsKICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAg
ICAgICAgICAgICAgICAgICAgfQotLSAKMi4yMS4wCgoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxA
bGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFu
L2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id EC493165920
	for <lists+xen-devel@lfdr.de>; Thu, 20 Feb 2020 09:24:42 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j4h6X-00044N-63; Thu, 20 Feb 2020 08:22:41 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=vvQh=4I=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1j4h6V-00044I-0C
 for xen-devel@lists.xenproject.org; Thu, 20 Feb 2020 08:22:39 +0000
X-Inumbo-ID: 273defca-53ba-11ea-84e6-12813bfff9fa
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 273defca-53ba-11ea-84e6-12813bfff9fa;
 Thu, 20 Feb 2020 08:22:38 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 14C75AD63;
 Thu, 20 Feb 2020 08:22:37 +0000 (UTC)
To: Jan Beulich <jbeulich@suse.com>
References: <20200219081126.29534-1-jgross@suse.com>
 <20200219081126.29534-9-jgross@suse.com>
 <28a1b6e6-2d55-999a-ff23-caae5d0e8c08@suse.com>
From: =?UTF-8?B?SsO8cmdlbiBHcm/Dnw==?= <jgross@suse.com>
Message-ID: <7f14b966-2494-870a-b35c-23ea44e9989b@suse.com>
Date: Thu, 20 Feb 2020 09:22:34 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.4.1
MIME-Version: 1.0
In-Reply-To: <28a1b6e6-2d55-999a-ff23-caae5d0e8c08@suse.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v5 8/8] xen: add runtime parameter access
 support to hypfs
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Jun Nakajima <jun.nakajima@intel.com>,
 xen-devel@lists.xenproject.org, Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTkuMDIuMjAgMTc6NDQsIEphbiBCZXVsaWNoIHdyb3RlOgo+IE9uIDE5LjAyLjIwMjAgMDk6
MTEsIEp1ZXJnZW4gR3Jvc3Mgd3JvdGU6Cj4+IC0tLSBhL2RvY3MvbWlzYy9oeXBmcy1wYXRocy5w
YW5kb2MKPj4gKysrIGIvZG9jcy9taXNjL2h5cGZzLXBhdGhzLnBhbmRvYwo+PiBAQCAtMTUyLDMg
KzE1MiwxMiBAQCBUaGUgbWFqb3IgdmVyc2lvbiBvZiBYZW4uCj4+ICAgIyMjIyAvYnVpbGRpbmZv
L3ZlcnNpb24vbWlub3IgPSBJTlRFR0VSCj4+ICAgCj4+ICAgVGhlIG1pbm9yIHZlcnNpb24gb2Yg
WGVuLgo+PiArCj4+ICsjIyMjIC9wYXJhbXMvCj4+ICsKPj4gK0EgZGlyZWN0b3J5IG9mIHJ1bnRp
bWUgcGFyYW1ldGVycy4KPj4gKwo+PiArIyMjIyAvcGFyYW1zLyoKPj4gKwo+PiArVGhlIHNpbmds
ZSBwYXJhbWV0ZXJzLiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIGRpZmZlcmVudCBwYXJhbWV0ZXJz
IGNhbiBiZQo+IAo+IHMvc2luZ2xlL2luZGl2aWR1YWwvPwoKWWVzLCB0aGlzIGlzIGJldHRlci4K
Cj4gCj4+IC0tLSBhL3hlbi9hcmNoL2FybS94ZW4ubGRzLlMKPj4gKysrIGIveGVuL2FyY2gvYXJt
L3hlbi5sZHMuUwo+PiBAQCAtODksNiArODksMTEgQEAgU0VDVElPTlMKPj4gICAgICAgICAgX19z
dGFydF9zY2hlZHVsZXJzX2FycmF5ID0gLjsKPj4gICAgICAgICAgKiguZGF0YS5zY2hlZHVsZXJz
KQo+PiAgICAgICAgICBfX2VuZF9zY2hlZHVsZXJzX2FycmF5ID0gLjsKPj4gKwo+PiArICAgICAg
IC4gPSBBTElHTig4KTsKPj4gKyAgICAgICBfX3BhcmFtaHlwZnNfc3RhcnQgPSAuOwo+PiArICAg
ICAgICooLmRhdGEucGFyYW1oeXBmcykKPj4gKyAgICAgICBfX3BhcmFtaHlwZnNfZW5kID0gLjsK
PiAKPiBEbyB5b3UgcmVhbGx5IG5lZWQgOC1ieXRlIGFsaWdubWVudCBldmVuIG9uIDMyLWJpdCBB
cm0/CgpJIGp1c3QgZm9sbG93ZWQgdGhlIGdlbmVyYWwgcGF0dGVybiBpbiB0aGlzIGZpbGUuCgo+
IAo+PiAtLS0gYS94ZW4vYXJjaC94ODYvaHZtL3ZteC92bWNzLmMKPj4gKysrIGIveGVuL2FyY2gv
eDg2L2h2bS92bXgvdm1jcy5jCj4+IEBAIC03MCw2ICs3MCwxNyBAQCBpbnRlZ2VyX3BhcmFtKCJw
bGVfd2luZG93IiwgcGxlX3dpbmRvdyk7Cj4+ICAgc3RhdGljIGJvb2wgX19yZWFkX21vc3RseSBv
cHRfZXB0X3BtbCA9IHRydWU7Cj4+ICAgc3RhdGljIHM4IF9fcmVhZF9tb3N0bHkgb3B0X2VwdF9h
ZCA9IC0xOwo+PiAgIGludDhfdCBfX3JlYWRfbW9zdGx5IG9wdF9lcHRfZXhlY19zcCA9IC0xOwo+
PiArc3RhdGljIGNoYXIgb3B0X2VwdF9zZXR0aW5nWzE2XSA9ICJwbWw9MSI7Cj4gCj4gVGhpcyBp
cyBkYW5nZXJvdXMgaW1vIC0gc3VjaCBzdHJpbmdzIHdvdWxkIGJldHRlciBiZSBwb3B1bGF0ZWQK
PiBkdXJpbmcgYm9vdCBieSBpbnZva2luZyB0aGUgc2FtZSBmdW5jdGlvbiB0aGF0IGFsc28gZG9l
cyBzbwo+IGFmdGVyIHVwZGF0aW5nLiBPdGhlcndpc2UgaXQgd29uJ3QgdGFrZSBsb25nIHVudGls
IHJlcG9ydGVkCj4gYW5kIGFjdHVhbCBzZXR0aW5ncyB3aWxsIGJlIG91dCBvZiBzeW5jLCB1bnRp
bCBmaXJzdCBtb2RpZmllZAo+IHZpYSB0aGlzIG5ldyBpbnRlcmZhY2UuCgpIbW0sIHRoaXMgd291
bGQgcmVxdWlyZSBhIGdlbmVyYWwgdXBkYXRlX3ZhbHVlKCkgZnVuY3Rpb24gZm9yIGVhY2gKY3Vz
dG9tIHJ1bnRpbWUgcGFyYW1ldGVyLgoKSSBjYW4gc2VlIGhvdyB0aGlzIHdvdWxkIGxvb2sgbGlr
ZS4KCj4gCj4+ICsKPj4gKwo+PiArc3RhdGljIHZvaWQgdXBkYXRlX2VwdF9wYXJhbSh2b2lkKQo+
IAo+IE5vIGRvdWJsZSBibGFuayBsaW5lcyBwbGVhc2UuCgpPaCwgc29ycnkuCgo+IAo+PiBAQCAt
MzEsMTAgKzMyLDEyIEBAIHN0YXRpYyBpbnQgcGFyc2VfcGNpZChjb25zdCBjaGFyICpzKQo+PiAg
ICAgICB7Cj4+ICAgICAgIGNhc2UgMDoKPj4gICAgICAgICAgIG9wdF9wY2lkID0gUENJRF9PRkY7
Cj4+ICsgICAgICAgIHNucHJpbnRmKG9wdF9wY2lkX3ZhbCwgc2l6ZW9mKG9wdF9wY2lkX3ZhbCks
ICJvZmYiKTsKPj4gICAgICAgICAgIGJyZWFrOwo+PiAgIAo+PiAgICAgICBjYXNlIDE6Cj4+ICAg
ICAgICAgICBvcHRfcGNpZCA9IFBDSURfQUxMOwo+PiArICAgICAgICBzbnByaW50ZihvcHRfcGNp
ZF92YWwsIHNpemVvZihvcHRfcGNpZF92YWwpLCAib24iKTsKPj4gICAgICAgICAgIGJyZWFrOwo+
PiAgIAo+PiAgICAgICBkZWZhdWx0Ogo+PiBAQCAtNDIsMTAgKzQ1LDEyIEBAIHN0YXRpYyBpbnQg
cGFyc2VfcGNpZChjb25zdCBjaGFyICpzKQo+PiAgICAgICAgICAgewo+PiAgICAgICAgICAgY2Fz
ZSAwOgo+PiAgICAgICAgICAgICAgIG9wdF9wY2lkID0gUENJRF9OT1hQVEk7Cj4+ICsgICAgICAg
ICAgICBzbnByaW50ZihvcHRfcGNpZF92YWwsIHNpemVvZihvcHRfcGNpZF92YWwpLCAibm94cHRp
Iik7Cj4+ICAgICAgICAgICAgICAgYnJlYWs7Cj4+ICAgCj4+ICAgICAgICAgICBjYXNlIDE6Cj4+
ICAgICAgICAgICAgICAgb3B0X3BjaWQgPSBQQ0lEX1hQVEk7Cj4+ICsgICAgICAgICAgICBzbnBy
aW50ZihvcHRfcGNpZF92YWwsIHNpemVvZihvcHRfcGNpZF92YWwpLCAieHB0aSIpOwo+PiAgICAg
ICAgICAgICAgIGJyZWFrOwo+IAo+IFByZXR0eSBleHBlbnNpdmUgdG8gdXNlIHNucHJpbnRmKCkg
aGVyZSAtIGhvdyBhYm91dCBzdHJsY3B5KCk/CgpPaCwgb2YgY291cnNlLgoKPiAKPj4gQEAgLTk5
LDI4ICsxMDEsMzMgQEAgc3RhdGljIGludCBwYXJzZV9nbnR0YWJfbGltaXQoY29uc3QgY2hhciAq
cGFyYW0sIGNvbnN0IGNoYXIgKmFyZywKPj4gICAgICAgICAgIHJldHVybiAtRVJBTkdFOwo+PiAg
IAo+PiAgICAgICAqdmFscCA9IHZhbDsKPj4gKyAgICBzbnByaW50ZihwYXJfdmFsLCBQQVJfVkFM
X1NaLCAiJWx1IiwgdmFsKTsKPj4gICAKPj4gICAgICAgcmV0dXJuIDA7Cj4+ICAgfQo+PiAgIAo+
PiAgIHVuc2lnbmVkIGludCBfX3JlYWRfbW9zdGx5IG9wdF9tYXhfZ3JhbnRfZnJhbWVzID0gNjQ7
Cj4+ICtzdGF0aWMgY2hhciBnbnR0YWJfbWF4X2ZyYW1lc192YWxbUEFSX1ZBTF9TWl0gPSAiNjQi
Owo+IAo+IFRoaXMgYW5kIHRoZSBvdGhlciBvcHRpb24gYXJlIHBsYWluIGludGVnZXIgb25lcyBm
cm9tIGEgcHJlc2VudGF0aW9uCj4gcG92LCBzbyBpdCB3b3VsZCBiZSBuaWNlIHRvIGdldCBhd2F5
IGhlcmUgd2l0aG91dCB0aGUgZXh0cmEgYnVmZmVycy4KClRoZXJlIGlzIG1vcmUgdGhhbiBwdXJl
IGludGVnZXIgc2VtYW50aWNzIGhlcmU6IHRoZSB2YWx1ZSBpcyBsaW1pdGVkLApzbyBJIGNhbid0
IGp1c3QgdXNlIHRoZSBub3JtYWwgaW50ZWdlciBhc3NpZ25tZW50LgoKSXRzIG5vdCBhcyBpZiB0
aG9zZSBmdW5jdGlvbnMgYXJlIHBlcmZvcm1hbmNlIGNyaXRpY2FsLCBhbmQgc3BlY2lhbApjYXNp
bmcgZm9yIHNwYXJpbmcgdGhlIGJ1ZmZlciBtZW1vcnkgd2lsbCBwcm9iYWJseSB3YXN0ZSBtb3Jl
IG1lbW9yeQpkdWUgdG8gbGFyZ2VyIGNvZGUgc2l6ZS4KCj4gCj4+IEBAIC0yODksNiArMjkwLDMz
IEBAIGludCBoeXBmc193cml0ZV9ib29sKHN0cnVjdCBoeXBmc19lbnRyeV9sZWFmICpsZWFmLAo+
PiAgICAgICByZXR1cm4gMDsKPj4gICB9Cj4+ICAgCj4+ICtpbnQgaHlwZnNfd3JpdGVfY3VzdG9t
KHN0cnVjdCBoeXBmc19lbnRyeV9sZWFmICpsZWFmLAo+PiArICAgICAgICAgICAgICAgICAgICAg
ICBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHZvaWQpIHVhZGRyLCB1bnNpZ25lZCBsb25nIHVsZW4p
Cj4+ICt7Cj4+ICsgICAgc3RydWN0IHBhcmFtX2h5cGZzICpwOwo+PiArICAgIGNoYXIgKmJ1ZjsK
Pj4gKyAgICBpbnQgcmV0Owo+PiArCj4+ICsgICAgYnVmID0geHphbGxvY19hcnJheShjaGFyLCB1
bGVuKTsKPj4gKyAgICBpZiAoICFidWYgKQo+PiArICAgICAgICByZXR1cm4gLUVOT01FTTsKPj4g
Kwo+PiArICAgIHJldCA9IC1FRkFVTFQ7Cj4+ICsgICAgaWYgKCBjb3B5X2Zyb21fZ3Vlc3QoYnVm
LCB1YWRkciwgdWxlbikgKQo+PiArICAgICAgICBnb3RvIG91dDsKPj4gKwo+PiArICAgIHJldCA9
IC1FRE9NOwo+PiArICAgIGlmICggYnVmW3VsZW4gLSAxXSApCj4gCj4gUGVyaGFwcyBtZW1jaHIo
KSBhZ2Fpbi4KCk9rYXkuCgo+IAo+PiBAQCAtMjMsMTAgKzI0LDE3IEBAIHN0cnVjdCBrZXJuZWxf
cGFyYW0gewo+PiAgICAgICB9IHBhcjsKPj4gICB9Owo+PiAgIAo+PiArc3RydWN0IHBhcmFtX2h5
cGZzIHsKPj4gKyAgICBjb25zdCBzdHJ1Y3Qga2VybmVsX3BhcmFtICpwYXJhbTsKPiAKPiBBcyBs
b25nIGFzIHRoaXMgaXMgaGVyZSwgSSBkb24ndCB0aGluayAuLi4KPiAKPj4gQEAgLTc2LDQwICs4
NCw4NyBAQCBleHRlcm4gY29uc3Qgc3RydWN0IGtlcm5lbF9wYXJhbSBfX3BhcmFtX3N0YXJ0W10s
IF9fcGFyYW1fZW5kW107Cj4+ICAgICAgICAgICAgIC50eXBlID0gT1BUX0lHTk9SRSB9Cj4+ICAg
Cj4+ICAgI2RlZmluZSBfX3J0cGFyYW0gICAgICAgICBfX3BhcmFtKF9fZGF0YXBhcmFtKQo+PiAr
I2RlZmluZSBfX3BhcmFtZnMgICAgICAgICBzdGF0aWMgX19wYXJhbWh5cGZzIFwKPj4gKyAgICBf
X2F0dHJpYnV0ZV9fKChfX2FsaWduZWRfXyhzaXplb2Yodm9pZCAqKSkpKSBzdHJ1Y3QgcGFyYW1f
aHlwZnMKPiAKPiAuLi4geW91IG5lZWQgdGhlIGFsaWdubWVudCBhdHRyaWJ1dGUgaGVyZS4gQnV0
IHNlZSBiZWxvdy4KPiAKPj4gLSNkZWZpbmUgY3VzdG9tX3J1bnRpbWVfb25seV9wYXJhbShfbmFt
ZSwgX3ZhcikgXAo+PiArI2RlZmluZSBjdXN0b21fcnVudGltZV9vbmx5X3BhcmFtKF9uYW1lLCBf
dmFyLCBjb250dmFyKSBcCj4+ICAgICAgIF9fcnRwYXJhbSBfX3J0cGFyXyMjX3ZhciA9IFwKPj4g
ICAgICAgICB7IC5uYW1lID0gX25hbWUsIFwKPj4gICAgICAgICAgICAgLnR5cGUgPSBPUFRfQ1VT
VE9NLCBcCj4+IC0gICAgICAgICAgLnBhci5mdW5jID0gX3ZhciB9Cj4+ICsgICAgICAgICAgLnBh
ci5mdW5jID0gX3ZhciB9OyBcCj4+ICsgICAgX19wYXJhbWZzIF9fcGFyZnNfIyNfdmFyID0gXAo+
PiArICAgICAgICB7IC5wYXJhbSA9ICZfX3J0cGFyXyMjX3ZhciwgXAo+IAo+IEluc3RlYWQgb2Yg
YSBwb2ludGVyLCBjYW4ndCB0aGUgcGFyYW0gc3RydWN0IGJlIHBhcnQgb2YgdGhpcwo+IGJpZ2dl
ciBzdHJ1Y3R1cmU/CgpJIGhhdmUgc29tZSBmdXJ0aGVyIHBhdGNoZXMgaW4gbXkgcGlwZWxpbmUg
d2hpY2ggd2lsbCBkbyBldmVuIG1vcmUsCmJ5IHJlbW92aW5nIHRoZSBzeXNjdGwgZm9yIHNldHRp
bmcgcGFyYW1ldGVycyBhbmQgdXNpbmcgaHlwZnMgZm9yCnRoYXQgcHVycG9zZSBpbiBsaWJ4bC4g
VGhpcyB3aWxsIHJlbW92ZSB0aGUgbmVlZCBmb3IgdGhlIHJ1bnRpbWUKY29weSBvZiBzdHJ1Y3Qg
a2VybmVsX3BhcmFtIGNvbXBsZXRlbHkuCgpCdXQgcgoKPiAKPj4gKyAgICAgICAgICAuaHlwZnMu
ZS50eXBlID0gWEVOX0hZUEZTX1RZUEVfU1RSSU5HLCBcCj4+ICsgICAgICAgICAgLmh5cGZzLmUu
ZW5jb2RpbmcgPSBYRU5fSFlQRlNfRU5DX1BMQUlOLCBcCj4+ICsgICAgICAgICAgLmh5cGZzLmUu
bmFtZSA9IF9uYW1lLCBcCj4+ICsgICAgICAgICAgLmh5cGZzLmUuc2l6ZSA9IHNpemVvZihjb250
dmFyKSwgXAo+IAo+IFRoaXMgd2lsbCBnbyB3cm9uZyBpZiBjb250dmFyIGlzIG5vdCBhbiBhcnJh
eS4gSSBndWVzcyB5b3Ugd2FudAo+IEFSUkFZX1NJWkUoY29udHZhcikgKiBzaXplb2YoKihjb252
YXIpKSBoZXJlLCBhbmQgcGVyaGFwcyBhbHNvCgpBaCwgbmljZSBpZGVhLgoKPiAuLi4KPiAKPj4g
KyAgICAgICAgICAuaHlwZnMuZS5yZWFkID0gaHlwZnNfcmVhZF9sZWFmLCBcCj4+ICsgICAgICAg
ICAgLmh5cGZzLmUud3JpdGUgPSBoeXBmc193cml0ZV9jdXN0b20sIFwKPj4gKyAgICAgICAgICAu
aHlwZnMuY29udGVudCA9ICZjb250dmFyIH0KPiAKPiAuLi4gb21pdCB0aGUgJiBoZXJlLgoKT2th
eS4KCj4gCj4+IEBAIC0xMjMsNCArMTc4LDcgQEAgZXh0ZXJuIGNvbnN0IHN0cnVjdCBrZXJuZWxf
cGFyYW0gX19wYXJhbV9zdGFydFtdLCBfX3BhcmFtX2VuZFtdOwo+PiAgICAgICBzdHJpbmdfcGFy
YW0oX25hbWUsIF92YXIpOyBcCj4+ICAgICAgIHN0cmluZ19ydW50aW1lX29ubHlfcGFyYW0oX25h
bWUsIF92YXIpCj4+ICAgCj4+ICsjZGVmaW5lIHBhcmFtX2FwcGVuZF9zdHIodmFyLCBmbXQsIHZh
bCkgXAo+PiArICAgIHNucHJpbnRmKHZhciArIHN0cmxlbih2YXIpLCBzaXplb2YodmFyKSAtIHN0
cmxlbih2YXIpLCBmbXQsIHZhbCkKPiAKPiBUaGUgc2l6ZW9mKCkgaGVyZSBhZ2FpbiBpc24ndCBz
YWZlIGFnYWluc3QgdmFyIG5vdCBiZWluZyBvZiBhcnJheQo+IHR5cGUuIEFsc28gYWdhaW4gcGVy
aGFwcyBjaGVhcGVyIHRvIHVzZSBzdHJsY2F0KCk/CgpZZXMuCgoKSnVlcmdlbgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

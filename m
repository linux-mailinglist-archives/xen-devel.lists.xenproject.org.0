Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id A9C568B600
	for <lists+xen-devel@lfdr.de>; Tue, 13 Aug 2019 12:56:59 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hxURI-0002Wq-Os; Tue, 13 Aug 2019 10:54:04 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=8rFE=WJ=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1hxURH-0002WP-In
 for xen-devel@lists.xenproject.org; Tue, 13 Aug 2019 10:54:03 +0000
X-Inumbo-ID: a92ba39e-bdb8-11e9-9fcc-27bbbe29133e
Received: from esa3.hc3370-68.iphmx.com (unknown [216.71.145.155])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id a92ba39e-bdb8-11e9-9fcc-27bbbe29133e;
 Tue, 13 Aug 2019 10:54:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1565693642;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=p+gI0ZKyLHYvavp9A9GRbSgdMOeMaOJ2xE7mKOy3I3Y=;
 b=I3i2xbjHYYuo0NRl0r8waLiKm3Dq4YLGUtdFoaKAJmcf6HftTAPyq+kZ
 paNHbEOCgE3WWwR/iHIAMeYt7oHnzcixuv6uvUn3+ydG+ef4ZOMVNamGt
 nMccJ01mFeSOYTZ5Ttj8BLErJhGojqP6uFr9a7Ygt5dsfu+1t9twgCHEM k=;
Authentication-Results: esa3.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa3.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa3.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa3.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: H8y8SNDjGC9Q7vYu9uqReRjuu903JkZ4Rl0u7QgahrMHg486HYbpb0zZWgQYXQPWqQZBeFagHc
 hpn1FSchmmnfVkphZL3eUmFiO2wu6tf4j4G/yYIgg3PEd3op5FHHmwWr5FE6dc8ZP+4Sd7v8ji
 K1m/oq6WDbnH/dMxeb9qaXwZOJoAVp0AjeSX99moQzY+TjnAgOiDNYRlKwmh1jQaeIc1af3REB
 jLXjg7uxBsQIGKOSmtuWNPL9kHqNyK4AkVNFQtUZGAHb6MdxyZyhOzty9VLwzncAdHFuRN1tSO
 jNU=
X-SBRS: 2.7
X-MesageID: 4208596
X-Ironport-Server: esa3.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,381,1559534400"; 
   d="scan'208";a="4208596"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Tue, 13 Aug 2019 11:53:52 +0100
Message-ID: <20190813105352.32412-3-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190813105352.32412-1-andrew.cooper3@citrix.com>
References: <20190813105352.32412-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 2/2] xen: Drop XEN_DOMCTL_{get,
 set}_machine_address_size
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Wei Liu <wl@xen.org>, Andrew Cooper <andrew.cooper3@citrix.com>,
 =?UTF-8?q?Marek=20Marczykowski-G=C3=B3recki?=
 <marmarek@invisiblethingslab.com>, Rob Hoes <Rob.Hoes@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <JBeulich@suse.com>, Ian Jackson <Ian.Jackson@citrix.com>,
 Daniel De Graaf <dgdegra@tycho.nsa.gov>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBmdW5jdGlvbmFsaXR5IGlzIG9ic29sZXRlLiAgSXQgd2FzIGludHJvZHVjZWQgYnkgYy9z
IDQxMjk2MzE3YTMxIGludG8KWGVuZCwgYnV0IHdhcyBuZXZlciBleHBvc2VkIGluIGxpYnhsLgoK
Tm90aGluZyBsaW1pdHMgdGhpcyB0byBQViBndWVzdHMsIGJ1dCBpdCBtYWtlcyBubyBzZW5zZSBm
b3IgSFZNIGd1ZXN0cy4KCkxvb2tpbmcgdGhyb3VnaCB0aGUgWGVuU2VydmVyIHRlbXBsYXRlcywg
dGhpcyB3YXMgdXNlZCB0byB3b3JrIGFyb3VuZCBidWdzIGluCnRoZSAzMmJpdCBSSEVML0NlbnRP
UyA0LjcgYW5kIDQuOCBrZXJuZWxzIChmaXhlZCBpbiA0LjkpIGFuZCBSSEVML0NlbnRPUy9PRUwK
NS4yIGFuZCA1LjMga2VybmVscyAoZml4ZWQgaW4gNS40KS4gIFJIRUwgNCBhcyBhIG1ham9yIHZl
cnNpb24gd2VudCBvdXQgb2YKc3VwcG9ydCBpbiAyMDE3LCB3aGVyZWFzIHRoZSA1LjIvNS4zIGtl
cm5lbHMgd2VudCBvdXQgb2Ygc3VwcG9ydCB3aGVuIDUuNCB3YXMKcmVsZWFzZWQgaW4gMjAwOS4K
ClNpZ25lZC1vZmYtYnk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+
Ci0tLQpDQzogSmFuIEJldWxpY2ggPEpCZXVsaWNoQHN1c2UuY29tPgpDQzogV2VpIExpdSA8d2xA
eGVuLm9yZz4KQ0M6IFJvZ2VyIFBhdSBNb25uw6kgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgpDQzog
SWFuIEphY2tzb24gPElhbi5KYWNrc29uQGNpdHJpeC5jb20+CkNDOiBNYXJlayBNYXJjenlrb3dz
a2ktR8OzcmVja2kgPG1hcm1hcmVrQGludmlzaWJsZXRoaW5nc2xhYi5jb20+CkNDOiBEYW5pZWwg
RGUgR3JhYWYgPGRnZGVncmFAdHljaG8ubnNhLmdvdj4KQ0M6IENocmlzdGlhbiBMaW5kaWcgPGNo
cmlzdGlhbi5saW5kaWdAY2l0cml4LmNvbT4KQ0M6IFJvYiBIb2VzIDxSb2IuSG9lc0BjaXRyaXgu
Y29tPgoKVGhlcmUgbWF5IGJlIHNvbWUgcmVzdWx0aW5nIHNpbXBsaWZpY2F0aW9ucyB3aGljaCBj
YW4gYmUgbWFkZSB0byB0aGUgaGVhcAphbGxvY2F0b3IsIGJ1dCB0aGF0IGludm9sdmVzIHVudGFu
Z2xpbmcgdGhlIG90aGVyIGFkZHJlc3MgY2xhbXBpbmcgbG9naWMKZmlyc3QuCi0tLQogdG9vbHMv
bGlieGMvaW5jbHVkZS94ZW5jdHJsLmggICAgICAgfCAgNiAtLS0tLS0KIHRvb2xzL2xpYnhjL3hj
X2RvbWFpbi5jICAgICAgICAgICAgIHwgMjkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0K
IHRvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbCAgICAgIHwgIDUgLS0tLS0KIHRvb2xzL29j
YW1sL2xpYnMveGMveGVuY3RybC5tbGkgICAgIHwgIDUgLS0tLS0KIHRvb2xzL29jYW1sL2xpYnMv
eGMveGVuY3RybF9zdHVicy5jIHwgMjYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHRvb2xz
L3B5dGhvbi94ZW4vbG93bGV2ZWwveGMveGMuYyAgIHwgMjMgLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0KIHhlbi9hcmNoL3g4Ni9kb21jdGwuYyAgICAgICAgICAgICAgIHwgMTIgLS0tLS0tLS0tLS0t
CiB4ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmggICAgICAgICB8IDExICsrLS0tLS0tLS0tCiB4
ZW4veHNtL2ZsYXNrL2hvb2tzLmMgICAgICAgICAgICAgICB8ICAyIC0tCiB4ZW4veHNtL2ZsYXNr
L3BvbGljeS9hY2Nlc3NfdmVjdG9ycyB8ICA0ICsrLS0KIDEwIGZpbGVzIGNoYW5nZWQsIDQgaW5z
ZXJ0aW9ucygrKSwgMTE5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhjL2lu
Y2x1ZGUveGVuY3RybC5oIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgKaW5kZXggYTM2
ODk2MDM0YS4uYzkyMzg2YWFiOCAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5j
dHJsLmgKKysrIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgKQEAgLTE3ODEsMTIgKzE3
ODEsNiBAQCBpbnQgeGNfZG9tYWluX3VuYmluZF9wdF9zcGlfaXJxKHhjX2ludGVyZmFjZSAqeGNo
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2c3BpLAogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCBzcGkpOwogCi1pbnQgeGNfZG9tYWlu
X3NldF9tYWNoaW5lX2FkZHJlc3Nfc2l6ZSh4Y19pbnRlcmZhY2UgKnhjaCwKLQkJCQkgICAgICAg
dWludDMyX3QgZG9taWQsCi0JCQkJICAgICAgIHVuc2lnbmVkIGludCB3aWR0aCk7Ci1pbnQgeGNf
ZG9tYWluX2dldF9tYWNoaW5lX2FkZHJlc3Nfc2l6ZSh4Y19pbnRlcmZhY2UgKnhjaCwKLQkJCQkg
ICAgICAgdWludDMyX3QgZG9taWQpOwotCiAvKiBTZXQgdGhlIHRhcmdldCBkb21haW4gKi8KIGlu
dCB4Y19kb21haW5fc2V0X3RhcmdldCh4Y19pbnRlcmZhY2UgKnhjaCwKICAgICAgICAgICAgICAg
ICAgICAgICAgICB1aW50MzJfdCBkb21pZCwKZGlmZiAtLWdpdCBhL3Rvb2xzL2xpYnhjL3hjX2Rv
bWFpbi5jIGIvdG9vbHMvbGlieGMveGNfZG9tYWluLmMKaW5kZXggNjRjYTUxM2FhZS4uZTU0NDIx
OGQyZSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGMveGNfZG9tYWluLmMKKysrIGIvdG9vbHMvbGli
eGMveGNfZG9tYWluLmMKQEAgLTIxNjEsMzUgKzIxNjEsNiBAQCBpbnQgeGNfZG9tYWluX3N1YnNj
cmliZV9mb3Jfc3VzcGVuZCgKICAgICByZXR1cm4gZG9fZG9tY3RsKHhjaCwgJmRvbWN0bCk7CiB9
CiAKLWludCB4Y19kb21haW5fc2V0X21hY2hpbmVfYWRkcmVzc19zaXplKHhjX2ludGVyZmFjZSAq
eGNoLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3QgZG9t
aWQsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQg
d2lkdGgpCi17Ci0gICAgREVDTEFSRV9ET01DVEw7Ci0KLSAgICBtZW1zZXQoJmRvbWN0bCwgMCwg
c2l6ZW9mKGRvbWN0bCkpOwotICAgIGRvbWN0bC5kb21haW4gPSBkb21pZDsKLSAgICBkb21jdGwu
Y21kICAgID0gWEVOX0RPTUNUTF9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemU7Ci0gICAgZG9tY3Rs
LnUuYWRkcmVzc19zaXplLnNpemUgPSB3aWR0aDsKLQotICAgIHJldHVybiBkb19kb21jdGwoeGNo
LCAmZG9tY3RsKTsKLX0KLQotCi1pbnQgeGNfZG9tYWluX2dldF9tYWNoaW5lX2FkZHJlc3Nfc2l6
ZSh4Y19pbnRlcmZhY2UgKnhjaCwgdWludDMyX3QgZG9taWQpCi17Ci0gICAgREVDTEFSRV9ET01D
VEw7Ci0gICAgaW50IHJjOwotCi0gICAgbWVtc2V0KCZkb21jdGwsIDAsIHNpemVvZihkb21jdGwp
KTsKLSAgICBkb21jdGwuZG9tYWluID0gZG9taWQ7Ci0gICAgZG9tY3RsLmNtZCAgICA9IFhFTl9E
T01DVExfZ2V0X21hY2hpbmVfYWRkcmVzc19zaXplOwotCi0gICAgcmMgPSBkb19kb21jdGwoeGNo
LCAmZG9tY3RsKTsKLQotICAgIHJldHVybiByYyA9PSAwID8gZG9tY3RsLnUuYWRkcmVzc19zaXpl
LnNpemUgOiByYzsKLX0KLQogaW50IHhjX2RvbWFpbl9kZWJ1Z19jb250cm9sKHhjX2ludGVyZmFj
ZSAqeGMsIHVpbnQzMl90IGRvbWlkLCB1aW50MzJfdCBzb3AsIHVpbnQzMl90IHZjcHUpCiB7CiAg
ICAgREVDTEFSRV9ET01DVEw7CmRpZmYgLS1naXQgYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0
cmwubWwgYi90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwKaW5kZXggYTU3MTMwYTNjMy4u
MzU5NThiOTRkNSAxMDA2NDQKLS0tIGEvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1sCisr
KyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbApAQCAtMjQxLDExICsyNDEsNiBAQCBl
eHRlcm5hbCBkb21haW5fc2V0X21lbW1hcF9saW1pdDogaGFuZGxlIC0+IGRvbWlkIC0+IGludDY0
IC0+IHVuaXQKIGV4dGVybmFsIGRvbWFpbl9tZW1vcnlfaW5jcmVhc2VfcmVzZXJ2YXRpb246IGhh
bmRsZSAtPiBkb21pZCAtPiBpbnQ2NCAtPiB1bml0CiAgICAgICAgPSAic3R1Yl94Y19kb21haW5f
bWVtb3J5X2luY3JlYXNlX3Jlc2VydmF0aW9uIgogCi1leHRlcm5hbCBkb21haW5fc2V0X21hY2hp
bmVfYWRkcmVzc19zaXplOiBoYW5kbGUgLT4gZG9taWQgLT4gaW50IC0+IHVuaXQKLSAgICAgICA9
ICJzdHViX3hjX2RvbWFpbl9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemUiCi1leHRlcm5hbCBkb21h
aW5fZ2V0X21hY2hpbmVfYWRkcmVzc19zaXplOiBoYW5kbGUgLT4gZG9taWQgLT4gaW50Ci0gICAg
ICAgPSAic3R1Yl94Y19kb21haW5fZ2V0X21hY2hpbmVfYWRkcmVzc19zaXplIgotCiBleHRlcm5h
bCBkb21haW5fY3B1aWRfc2V0OiBoYW5kbGUgLT4gZG9taWQgLT4gKGludDY0ICogKGludDY0IG9w
dGlvbikpCiAgICAgICAgICAgICAgICAgICAgICAgICAtPiBzdHJpbmcgb3B0aW9uIGFycmF5CiAg
ICAgICAgICAgICAgICAgICAgICAgICAtPiBzdHJpbmcgb3B0aW9uIGFycmF5CmRpZmYgLS1naXQg
YS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94
ZW5jdHJsLm1saQppbmRleCA0NzZiYmVjYjkwLi42YzQyNjhkNDUzIDEwMDY0NAotLS0gYS90b29s
cy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVu
Y3RybC5tbGkKQEAgLTIwMiwxMSArMjAyLDYgQEAgdmFsIHBhZ2VzX3RvX21pYiA6IGludDY0IC0+
IGludDY0CiBleHRlcm5hbCB3YXRjaGRvZyA6IGhhbmRsZSAtPiBpbnQgLT4gaW50MzIgLT4gaW50
CiAgID0gInN0dWJfeGNfd2F0Y2hkb2ciCiAKLWV4dGVybmFsIGRvbWFpbl9zZXRfbWFjaGluZV9h
ZGRyZXNzX3NpemU6IGhhbmRsZSAtPiBkb21pZCAtPiBpbnQgLT4gdW5pdAotICA9ICJzdHViX3hj
X2RvbWFpbl9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemUiCi1leHRlcm5hbCBkb21haW5fZ2V0X21h
Y2hpbmVfYWRkcmVzc19zaXplOiBoYW5kbGUgLT4gZG9taWQgLT4gaW50Ci0gICAgICAgPSAic3R1
Yl94Y19kb21haW5fZ2V0X21hY2hpbmVfYWRkcmVzc19zaXplIgotCiBleHRlcm5hbCBkb21haW5f
Y3B1aWRfc2V0OiBoYW5kbGUgLT4gZG9taWQgLT4gKGludDY0ICogKGludDY0IG9wdGlvbikpCiAg
ICAgICAgICAgICAgICAgICAgICAgICAtPiBzdHJpbmcgb3B0aW9uIGFycmF5CiAgICAgICAgICAg
ICAgICAgICAgICAgICAtPiBzdHJpbmcgb3B0aW9uIGFycmF5CmRpZmYgLS1naXQgYS90b29scy9v
Y2FtbC9saWJzL3hjL3hlbmN0cmxfc3R1YnMuYyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3Ry
bF9zdHVicy5jCmluZGV4IGM0ZmRjNThiMmQuLjJlMWIyOWNlMzMgMTAwNjQ0Ci0tLSBhL3Rvb2xz
L29jYW1sL2xpYnMveGMveGVuY3RybF9zdHVicy5jCisrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMv
eGVuY3RybF9zdHVicy5jCkBAIC03NTksMzIgKzc1OSw2IEBAIENBTUxwcmltIHZhbHVlIHN0dWJf
eGNfZG9tYWluX21lbW9yeV9pbmNyZWFzZV9yZXNlcnZhdGlvbih2YWx1ZSB4Y2gsCiAJQ0FNTHJl
dHVybihWYWxfdW5pdCk7CiB9CiAKLUNBTUxwcmltIHZhbHVlIHN0dWJfeGNfZG9tYWluX3NldF9t
YWNoaW5lX2FkZHJlc3Nfc2l6ZSh2YWx1ZSB4Y2gsCi0JCQkJCQkgICAgICAgdmFsdWUgZG9taWQs
Ci0JCQkJCQkgICAgICAgdmFsdWUgd2lkdGgpCi17Ci0JQ0FNTHBhcmFtMyh4Y2gsIGRvbWlkLCB3
aWR0aCk7Ci0JdWludDMyX3QgY19kb21pZCA9IF9EKGRvbWlkKTsKLQlpbnQgY193aWR0aCA9IElu
dF92YWwod2lkdGgpOwotCi0JaW50IHJldHZhbCA9IHhjX2RvbWFpbl9zZXRfbWFjaGluZV9hZGRy
ZXNzX3NpemUoX0goeGNoKSwgY19kb21pZCwgY193aWR0aCk7Ci0JaWYgKHJldHZhbCkKLQkJZmFp
bHdpdGhfeGMoX0goeGNoKSk7Ci0JQ0FNTHJldHVybihWYWxfdW5pdCk7Ci19Ci0KLUNBTUxwcmlt
IHZhbHVlIHN0dWJfeGNfZG9tYWluX2dldF9tYWNoaW5lX2FkZHJlc3Nfc2l6ZSh2YWx1ZSB4Y2gs
Ci0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dmFsdWUgZG9taWQpCi17Ci0JQ0FNTHBhcmFtMih4Y2gsIGRvbWlkKTsKLQlpbnQgcmV0dmFsOwot
Ci0JcmV0dmFsID0geGNfZG9tYWluX2dldF9tYWNoaW5lX2FkZHJlc3Nfc2l6ZShfSCh4Y2gpLCBf
RChkb21pZCkpOwotCWlmIChyZXR2YWwgPCAwKQotCQlmYWlsd2l0aF94YyhfSCh4Y2gpKTsKLQlD
QU1McmV0dXJuKFZhbF9pbnQocmV0dmFsKSk7Ci19Ci0KIENBTUxwcmltIHZhbHVlIHN0dWJfeGNf
ZG9tYWluX2NwdWlkX3NldCh2YWx1ZSB4Y2gsIHZhbHVlIGRvbWlkLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGlucHV0LAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGNvbmZpZykKZGlmZiAtLWdpdCBhL3Rvb2xzL3B5
dGhvbi94ZW4vbG93bGV2ZWwveGMveGMuYyBiL3Rvb2xzL3B5dGhvbi94ZW4vbG93bGV2ZWwveGMv
eGMuYwppbmRleCA3ZTgzMWEyNmE3Li5mMDQzMGNhODVlIDEwMDY0NAotLS0gYS90b29scy9weXRo
b24veGVuL2xvd2xldmVsL3hjL3hjLmMKKysrIGIvdG9vbHMvcHl0aG9uL3hlbi9sb3dsZXZlbC94
Yy94Yy5jCkBAIC03NzAsMjIgKzc3MCw2IEBAIHN0YXRpYyBQeU9iamVjdCAqcHl4Y19kb21fc2V0
X2NwdWlkKFhjT2JqZWN0ICpzZWxmLAogCiAgICAgcmV0dXJuIHB5eGNfY3JlYXRlX2NwdWlkX2Rp
Y3QocmVnc190cmFuc2Zvcm0pOwogfQotCi1zdGF0aWMgUHlPYmplY3QgKnB5eGNfZG9tX3NldF9t
YWNoaW5lX2FkZHJlc3Nfc2l6ZShYY09iamVjdCAqc2VsZiwKLQkJCQkJCSAgIFB5T2JqZWN0ICph
cmdzLAotCQkJCQkJICAgUHlPYmplY3QgKmt3ZHMpCi17Ci0gICAgdWludDMyX3QgZG9tLCB3aWR0
aDsKLQotICAgIGlmICghUHlBcmdfUGFyc2VUdXBsZShhcmdzLCAiaWkiLCAmZG9tLCAmd2lkdGgp
KQotCXJldHVybiBOVUxMOwotCi0gICAgaWYgKHhjX2RvbWFpbl9zZXRfbWFjaGluZV9hZGRyZXNz
X3NpemUoc2VsZi0+eGNfaGFuZGxlLCBkb20sIHdpZHRoKSAhPSAwKQotCXJldHVybiBweXhjX2Vy
cm9yX3RvX2V4Y2VwdGlvbihzZWxmLT54Y19oYW5kbGUpOwotCi0gICAgUHlfSU5DUkVGKHplcm8p
OwotICAgIHJldHVybiB6ZXJvOwotfQogI2VuZGlmIC8qIF9faTM4Nl9fIHx8IF9feDg2XzY0X18g
Ki8KIAogc3RhdGljIFB5T2JqZWN0ICpweXhjX2dudHRhYl9odm1fc2VlZChYY09iamVjdCAqc2Vs
ZiwKQEAgLTI0MTMsMTMgKzIzOTcsNiBAQCBzdGF0aWMgUHlNZXRob2REZWYgcHl4Y19tZXRob2Rz
W10gPSB7CiAgICAgICAiU2V0IHRoZSBkZWZhdWx0IGNwdWlkIHBvbGljeSBmb3IgYSBkb21haW4u
XG4iCiAgICAgICAiIGRvbSBbaW50XTogSWRlbnRpZmllciBvZiBkb21haW4uXG5cbiIKICAgICAg
ICJSZXR1cm5zOiBbaW50XSAwIG9uIHN1Y2Nlc3M7IGV4Y2VwdGlvbiBvbiBlcnJvci5cbiIgfSwK
LQotICAgIHsgImRvbWFpbl9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemUiLAotICAgICAgKFB5Q0Z1
bmN0aW9uKXB5eGNfZG9tX3NldF9tYWNoaW5lX2FkZHJlc3Nfc2l6ZSwKLSAgICAgIE1FVEhfVkFS
QVJHUywgIlxuIgotICAgICAgIlNldCBtYXhpbXVtIG1hY2hpbmUgYWRkcmVzcyBzaXplIGZvciB0
aGlzIGRvbWFpbi5cbiIKLSAgICAgICIgZG9tIFtpbnRdOiBJZGVudGlmaWVyIG9mIGRvbWFpbi5c
biIKLSAgICAgICIgd2lkdGggW2ludF06IE1heGltdW0gbWFjaGluZSBhZGRyZXNzIHdpZHRoLlxu
IiB9LAogI2VuZGlmCiAKICAgICB7ICJkb21fc2V0X21lbXNociIsIApkaWZmIC0tZ2l0IGEveGVu
L2FyY2gveDg2L2RvbWN0bC5jIGIveGVuL2FyY2gveDg2L2RvbWN0bC5jCmluZGV4IDM0YTZmODhi
OGEuLjFlOThmYzgwMDkgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9kb21jdGwuYworKysgYi94
ZW4vYXJjaC94ODYvZG9tY3RsLmMKQEAgLTY0MywxOCArNjQzLDYgQEAgbG9uZyBhcmNoX2RvX2Rv
bWN0bCgKICAgICAgICAgICAgIEFTU0VSVF9VTlJFQUNIQUJMRSgpOwogICAgICAgICBicmVhazsK
IAotICAgIGNhc2UgWEVOX0RPTUNUTF9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemU6Ci0gICAgICAg
IGlmICggZC0+dG90X3BhZ2VzID4gMCApCi0gICAgICAgICAgICByZXQgPSAtRUJVU1k7Ci0gICAg
ICAgIGVsc2UKLSAgICAgICAgICAgIGQtPmFyY2gucGh5c2FkZHJfYml0c2l6ZSA9IGRvbWN0bC0+
dS5hZGRyZXNzX3NpemUuc2l6ZTsKLSAgICAgICAgYnJlYWs7Ci0KLSAgICBjYXNlIFhFTl9ET01D
VExfZ2V0X21hY2hpbmVfYWRkcmVzc19zaXplOgotICAgICAgICBkb21jdGwtPnUuYWRkcmVzc19z
aXplLnNpemUgPSBkLT5hcmNoLnBoeXNhZGRyX2JpdHNpemU7Ci0gICAgICAgIGNvcHliYWNrID0g
dHJ1ZTsKLSAgICAgICAgYnJlYWs7Ci0KICAgICBjYXNlIFhFTl9ET01DVExfc2VuZHRyaWdnZXI6
CiAgICAgewogICAgICAgICBzdHJ1Y3QgdmNwdSAqdjsKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRl
L3B1YmxpYy9kb21jdGwuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaAppbmRleCA3MjZj
ZTY3NWU4Li43MmQ1MTMzY2JhIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3Rs
LmgKKysrIGIveGVuL2luY2x1ZGUvcHVibGljL2RvbWN0bC5oCkBAIC02OTEsMTMgKzY5MSw2IEBA
IHN0cnVjdCB4ZW5fZG9tY3RsX3N1YnNjcmliZSB7CiAgICAgdWludDMyX3QgcG9ydDsgLyogSU4g
Ki8KIH07CiAKLS8qCi0gKiBEZWZpbmUgdGhlIG1heGltdW0gbWFjaGluZSBhZGRyZXNzIHNpemUg
d2hpY2ggc2hvdWxkIGJlIGFsbG9jYXRlZAotICogdG8gYSBndWVzdC4KLSAqLwotLyogWEVOX0RP
TUNUTF9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemUgKi8KLS8qIFhFTl9ET01DVExfZ2V0X21hY2hp
bmVfYWRkcmVzc19zaXplICovCi0KIC8qIFhFTl9ET01DVExfZGVidWdfb3AgKi8KICNkZWZpbmUg
WEVOX0RPTUNUTF9ERUJVR19PUF9TSU5HTEVfU1RFUF9PRkYgICAgICAgICAwCiAjZGVmaW5lIFhF
Tl9ET01DVExfREVCVUdfT1BfU0lOR0xFX1NURVBfT04gICAgICAgICAgMQpAQCAtMTE2NSw4ICsx
MTU4LDggQEAgc3RydWN0IHhlbl9kb21jdGwgewogI2RlZmluZSBYRU5fRE9NQ1RMX3VuYmluZF9w
dF9pcnEgICAgICAgICAgICAgICAgIDQ4CiAjZGVmaW5lIFhFTl9ET01DVExfc2V0X2NwdWlkICAg
ICAgICAgICAgICAgICAgICAgNDkKICNkZWZpbmUgWEVOX0RPTUNUTF9nZXRfZGV2aWNlX2dyb3Vw
ICAgICAgICAgICAgICA1MAotI2RlZmluZSBYRU5fRE9NQ1RMX3NldF9tYWNoaW5lX2FkZHJlc3Nf
c2l6ZSAgICAgIDUxCi0jZGVmaW5lIFhFTl9ET01DVExfZ2V0X21hY2hpbmVfYWRkcmVzc19zaXpl
ICAgICAgNTIKKy8qICNkZWZpbmUgWEVOX0RPTUNUTF9zZXRfbWFjaGluZV9hZGRyZXNzX3NpemUg
ICA1MSAtIE9ic29sZXRlICovCisvKiAjZGVmaW5lIFhFTl9ET01DVExfZ2V0X21hY2hpbmVfYWRk
cmVzc19zaXplICAgNTIgLSBPYnNvbGV0ZSAqLwogLyogI2RlZmluZSBYRU5fRE9NQ1RMX3N1cHBy
ZXNzX3NwdXJpb3VzX3BhZ2VfZmF1bHRzIDUzIC0gT2Jzb2xldGUgKi8KICNkZWZpbmUgWEVOX0RP
TUNUTF9kZWJ1Z19vcCAgICAgICAgICAgICAgICAgICAgICA1NAogI2RlZmluZSBYRU5fRE9NQ1RM
X2dldGh2bWNvbnRleHRfcGFydGlhbCAgICAgICAgIDU1CmRpZmYgLS1naXQgYS94ZW4veHNtL2Zs
YXNrL2hvb2tzLmMgYi94ZW4veHNtL2ZsYXNrL2hvb2tzLmMKaW5kZXggZmQ1ZWM5OTJjZi4uNjgw
MGYyZDlhMCAxMDA2NDQKLS0tIGEveGVuL3hzbS9mbGFzay9ob29rcy5jCisrKyBiL3hlbi94c20v
Zmxhc2svaG9va3MuYwpAQCAtNjg0LDExICs2ODQsOSBAQCBzdGF0aWMgaW50IGZsYXNrX2RvbWN0
bChzdHJ1Y3QgZG9tYWluICpkLCBpbnQgY21kKQogICAgICAgICByZXR1cm4gY3VycmVudF9oYXNf
cGVybShkLCBTRUNDTEFTU19IVk0sIEhWTV9fR0VUSFZNQyk7CiAKICAgICBjYXNlIFhFTl9ET01D
VExfc2V0X2FkZHJlc3Nfc2l6ZToKLSAgICBjYXNlIFhFTl9ET01DVExfc2V0X21hY2hpbmVfYWRk
cmVzc19zaXplOgogICAgICAgICByZXR1cm4gY3VycmVudF9oYXNfcGVybShkLCBTRUNDTEFTU19E
T01BSU4sIERPTUFJTl9fU0VUQUREUlNJWkUpOwogCiAgICAgY2FzZSBYRU5fRE9NQ1RMX2dldF9h
ZGRyZXNzX3NpemU6Ci0gICAgY2FzZSBYRU5fRE9NQ1RMX2dldF9tYWNoaW5lX2FkZHJlc3Nfc2l6
ZToKICAgICAgICAgcmV0dXJuIGN1cnJlbnRfaGFzX3Blcm0oZCwgU0VDQ0xBU1NfRE9NQUlOLCBE
T01BSU5fX0dFVEFERFJTSVpFKTsKIAogICAgIGNhc2UgWEVOX0RPTUNUTF9tZW1fc2hhcmluZ19v
cDoKZGlmZiAtLWdpdCBhL3hlbi94c20vZmxhc2svcG9saWN5L2FjY2Vzc192ZWN0b3JzIGIveGVu
L3hzbS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3RvcnMKaW5kZXggYzllYmQwZjM3ZS4uNzZmM2Q2
MGRkZCAxMDA2NDQKLS0tIGEveGVuL3hzbS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3RvcnMKKysr
IGIveGVuL3hzbS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3RvcnMKQEAgLTE2Niw5ICsxNjYsOSBA
QCBjbGFzcyBkb21haW4KICAgICBzZXRfdGFyZ2V0CiAjIFNDSEVET1BfcmVtb3RlX3NodXRkb3du
CiAgICAgc2h1dGRvd24KLSMgWEVOX0RPTUNUTF9zZXR7LF9tYWNoaW5lfV9hZGRyZXNzX3NpemUK
KyMgWEVOX0RPTUNUTF9zZXRfYWRkcmVzc19zaXplCiAgICAgc2V0YWRkcnNpemUKLSMgWEVOX0RP
TUNUTF9nZXR7LF9tYWNoaW5lfV9hZGRyZXNzX3NpemUKKyMgWEVOX0RPTUNUTF9nZXRfYWRkcmVz
c19zaXplCiAgICAgZ2V0YWRkcnNpemUKICMgWEVOX0RPTUNUTF9zZW5kdHJpZ2dlcgogICAgIHRy
aWdnZXIKLS0gCjIuMTEuMAoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2pl
Y3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4t
ZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F8244AEB0
	for <lists+xen-devel@lfdr.de>; Wed, 19 Jun 2019 01:23:09 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hdNOu-0004sh-QI; Tue, 18 Jun 2019 23:20:28 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=PyOf=UR=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hdNOt-0004s1-1r
 for xen-devel@lists.xenproject.org; Tue, 18 Jun 2019 23:20:27 +0000
X-Inumbo-ID: a723a48a-921f-11e9-8118-f3a670875dcd
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id a723a48a-921f-11e9-8118-f3a670875dcd;
 Tue, 18 Jun 2019 23:20:26 +0000 (UTC)
Received: from sstabellini-ThinkPad-T480s.hsd1.ca.comcast.net
 (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 3F9C1214AF;
 Tue, 18 Jun 2019 23:20:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1560900025;
 bh=HkXCY7hv5J3WXPS9KxQulFJeApct47ijpI8oixCxGVQ=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=hxqafs8npeMOI045aBD8L80jhBhH2Hn/JV2Pe4h1hGXsiBQIWk8eqeq5gax5V1LKR
 KjaMsHkxO+0nK8N48S3eZ11LDTyt2cB43u+BuOujczy3UHJApWw+MdR9Fg5Z1UvYw1
 76X7cStgtHRPYyvQV8wTzJLuFjDDCQvKoVYR1ljU=
From: Stefano Stabellini <sstabellini@kernel.org>
To: xen-devel@lists.xenproject.org
Date: Tue, 18 Jun 2019 16:20:18 -0700
Message-Id: <20190618232019.26425-4-sstabellini@kernel.org>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <alpine.DEB.2.21.1906181618130.2072@sstabellini-ThinkPad-T480s>
References: <alpine.DEB.2.21.1906181618130.2072@sstabellini-ThinkPad-T480s>
Subject: [Xen-devel] [PATCH v3 4/5] libxl/xl: add memory policy option to
 iomem
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <stefanos@xilinx.com>, julien.grall@arm.com,
 sstabellini@kernel.org, ian.jackson@eu.citrix.com, wei.liu2@citrix.com
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIGEgbmV3IG1lbW9yeSBwb2xpY3kgb3B0aW9uIGZvciB0aGUgaW9tZW0gcGFyYW1ldGVyLgpQ
b3NzaWJsZSB2YWx1ZXMgYXJlOgotIGFybV9kZXZfbkduUkUsIERldmljZS1uR25SRSwgdGhlIGRl
ZmF1bHQgb24gQVJNCi0gYXJtX21lbV9XQiwgV0IgY2FjaGFibGUgbWVtb3J5Ci0geDg2X1VDX21p
bnVzOiB1bmNhY2hhYmxlIG1lbW9yeSwgdGhlIGRlZmF1bHQgb24geDg2CgpTdG9yZSB0aGUgcGFy
YW1ldGVyIGluIGEgbmV3IGZpZWxkIGluIGxpYnhsX2lvbWVtX3JhbmdlLgoKUGFzcyB0aGUgbWVt
b3J5IHBvbGljeSBvcHRpb24gdG8geGNfZG9tYWluX21lbV9tYXBfcG9saWN5LgoKRG8gdGhlIGxp
YnhsIHRvIGxpYnhjIHZhbHVlIGNvbnZlcnNpb24gaW4gcGVyLWFyY2ggZnVuY3Rpb25zIHNvIHRo
YXQgd2UKY2FuIHJldHVybiBlcnJvciBmb3IgeDg2IHBhcmFtZXRlcnMgb24gQXJtIGFyY2hpdGVj
dHVyZXMgYW5kIHZpY2UgdmVyc2EuCgpTaWduZWQtb2ZmLWJ5OiBTdGVmYW5vIFN0YWJlbGxpbmkg
PHN0ZWZhbm9zQHhpbGlueC5jb20+CkNDOiBpYW4uamFja3NvbkBldS5jaXRyaXguY29tCkNDOiB3
ZWkubGl1MkBjaXRyaXguY29tCi0tLQoKQW5kcmV3IHN1Z2dlc3RlZCB0byByZW1vdmUgTUVNT1JZ
X1BPTElDWV9YODZfVUNfTUlOVVMgYW5kIHg4Nl9VQ19taW51cwpjb21wbGV0ZWx5LiAgSWYgdGhh
dCdzIHRoZSBjb25zZW5zdXMgSSBhbSBoYXBweSB0byByZXNwaW4gdGhlIHNlcmllcwpyZW1vdmlu
ZyBjb2RlLgoKCkNoYW5nZXMgaW4gdjM6Ci0gcy9uR1JFL25HblJFL2cKLSBzL0xJQlhMX01FTU9S
WV9QT0xJQ1lfQVJNX0RFVl9OR1JFL0xJQlhMX01FTU9SWV9QT0xJQ1lfQVJNX0RFVl9OR05SRS9n
Ci0gcy9hcm1fZGV2bWVtL2FybV9kZXZfbkduUkUvZwotIHMvYXJtX21lbW9yeS9hcm1fbWVtX1dC
L2cKLSBpbXByb3ZlIGNvbW1pdCBtZXNzYWdlCi0gaW1wcm92ZSBtYW4gcGFnZQotIHMvTUVNT1JZ
X1BPTElDWV9YODZfVUMvTUVNT1JZX1BPTElDWV9YODZfVUNfTUlOVVMvZwotIHMveDg2X3VjL3g4
Nl9VQ19taW51cy9nCi0gbW92ZSBzZWN1cml0eSBzdXBwb3J0IGNsYXJpZmljYXRpb24gdG8gYSBz
ZXBhcmF0ZSBwYXRjaAoKQ2hhbmdlcyBpbiB2MjoKLSBhZGQgI2RlZmluZSBMSUJYTF9IQVZFX01F
TU9SWV9QT0xJQ1kKLSBhYmlsaXR5IHRvIHBhcnQgdGhlIG1lbW9yeSBwb2xpY3kgcGFyYW1ldGVy
IGV2ZW4gaWYgZ2ZuIGlzIG5vdCBwYXNzZWQKLSByZW5hbWUgY2FjaGVfcG9saWN5IHRvIG1lbW9y
eSBwb2xpY3kKLSByZW5hbWUgTUVNT1JZX1BPTElDWV9ERVZNRU0gdG8gTUVNT1JZX1BPTElDWV9B
Uk1fREVWX25HUkUKLSByZW5hbWUgTUVNT1JZX1BPTElDWV9NRU1PUlkgdG8gTUVNT1JZX1BPTElD
WV9BUk1fTUVNX1dCCi0gcmVuYW1lIG1lbW9yeSB0byBhcm1fbWVtb3J5IGFuZCBkZXZtZW0gdG8g
YXJtX2Rldm1lbQotIGV4cGFuZCB0aGUgbm9uLXNlY3VyaXR5IHN1cHBvcnQgc3RhdHVzIHRvIG5v
biBkZXZpY2UgcGFzc3Rocm91Z2ggaW9tZW0KICBjb25maWd1cmF0aW9ucwotIHJlbmFtZSBpb21l
bSBvcHRpb25zCi0gYWRkIHg4NiBzcGVjaWZpYyBpb21lbSBvcHRpb24KLS0tCiBkb2NzL21hbi94
bC5jZmcuNS5wb2QuaW4gICAgfCAxMCArKysrKysrKystCiB0b29scy9saWJ4bC9saWJ4bC5oICAg
ICAgICAgfCAgNSArKysrKwogdG9vbHMvbGlieGwvbGlieGxfYXJjaC5oICAgIHwgIDMgKysrCiB0
b29scy9saWJ4bC9saWJ4bF9hcm0uYyAgICAgfCAxNCArKysrKysrKysrKysrKwogdG9vbHMvbGli
eGwvbGlieGxfY3JlYXRlLmMgIHwgMTIgKysrKysrKysrKy0tCiB0b29scy9saWJ4bC9saWJ4bF90
eXBlcy5pZGwgfCAgOSArKysrKysrKysKIHRvb2xzL2xpYnhsL2xpYnhsX3g4Ni5jICAgICB8IDEy
ICsrKysrKysrKysrKwogdG9vbHMveGwveGxfcGFyc2UuYyAgICAgICAgIHwgMjIgKysrKysrKysr
KysrKysrKysrKysrLQogOCBmaWxlcyBjaGFuZ2VkLCA4MyBpbnNlcnRpb25zKCspLCA0IGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RvY3MvbWFuL3hsLmNmZy41LnBvZC5pbiBiL2RvY3MvbWFu
L3hsLmNmZy41LnBvZC5pbgppbmRleCBjOTlkNDAzMDdlLi5mYmI5ZTQzZTllIDEwMDY0NAotLS0g
YS9kb2NzL21hbi94bC5jZmcuNS5wb2QuaW4KKysrIGIvZG9jcy9tYW4veGwuY2ZnLjUucG9kLmlu
CkBAIC0xMjIyLDcgKzEyMjIsNyBAQCBpcyBnaXZlbiBpbiBoZXhhZGVjaW1hbCBmb3JtYXQgYW5k
IG1heSBlaXRoZXIgYmUgYSByYW5nZSwgZS5nLiBDPDJmOC0yZmY+CiBJdCBpcyByZWNvbW1lbmRl
ZCB0byBvbmx5IHVzZSB0aGlzIG9wdGlvbiBmb3IgdHJ1c3RlZCBWTXMgdW5kZXIKIGFkbWluaXN0
cmF0b3IncyBjb250cm9sLgogCi09aXRlbSBCPGlvbWVtPVsgIklPTUVNX1NUQVJULE5VTV9QQUdF
U1tAR0ZOXSIsICJJT01FTV9TVEFSVCxOVU1fUEFHRVNbQEdGTl0iLCAuLi5dPgorPWl0ZW0gQjxp
b21lbT1bICJJT01FTV9TVEFSVCxOVU1fUEFHRVNbQEdGTl0sTUVNT1JZX1BPTElDWSIsICJJT01F
TV9TVEFSVCxOVU1fUEFHRVNbQEdGTl1bLE1FTU9SWV9QT0xJQ1ldIiwgLi4uXT4KIAogQWxsb3cg
YXV0by10cmFuc2xhdGVkIGRvbWFpbnMgdG8gYWNjZXNzIHNwZWNpZmljIGhhcmR3YXJlIEkvTyBt
ZW1vcnkgcGFnZXMuCiAKQEAgLTEyMzMsNiArMTIzMywxNCBAQCBCPEdGTj4gaXMgbm90IHNwZWNp
ZmllZCwgdGhlIG1hcHBpbmcgd2lsbCBiZSBwZXJmb3JtZWQgdXNpbmcgQjxJT01FTV9TVEFSVD4K
IGFzIGEgc3RhcnQgaW4gdGhlIGd1ZXN0J3MgYWRkcmVzcyBzcGFjZSwgdGhlcmVmb3JlIHBlcmZv
cm1pbmcgYSAxOjEgbWFwcGluZwogYnkgZGVmYXVsdC4KIEFsbCBvZiB0aGVzZSB2YWx1ZXMgbXVz
dCBiZSBnaXZlbiBpbiBoZXhhZGVjaW1hbCBmb3JtYXQuCitCPE1FTU9SWV9QT0xJQ1k+IGZvciBB
Uk0gcGxhdGZvcm1zOgorICAtICJhcm1fZGV2X25HblJFIiBmb3IgRGV2aWNlLW5HblJFIChEZXZp
Y2UgTWVtb3J5IG9uIEFybXY3KSwgdGhlIGRlZmF1bHQgb24gQVJNCisgIC0gImFybV9tZW1fV0Ii
IGZvciBPdXRlciBTaGFyZWFibGUgV3JpdGUtQmFjayBDYWNoZWFibGUgTWVtb3J5CitUaGV5IHNl
bGVjdCB0aGUgc3RhZ2UtMiBtZW1vcnkgYXR0cmlidXRlcywgYnV0IG5vdGUgdGhhdCB0aGUgcmVz
dWx0aW5nCittZW1vcnkgYXR0cmlidXRlcyB3aWxsIGJlIGEgY29tYmluYXRpb24gb2Ygc3RhZ2Ut
MiBhbmQgc3RhZ2UtMSBtZW1vcnkKK2F0dHJpYnV0ZXM6IGl0IHdpbGwgYmUgdGhlIHN0cm9uZ2Vz
dCBiZXR3ZWVuIHRoZSAyIHN0YWdlcyBhdHRyaWJ1dGVzLgorQjxNRU1PUllfUE9MSUNZPiBjYW4g
YmUgZm9yIHg4NiBwbGF0Zm9ybXM6CisgIC0gIng4Nl9VQ19taW51cyIgZm9yIFVuY2FjaGFibGUg
TWVtb3J5LCB0aGUgZGVmYXVsdCBvbiB4ODYKIAogTm90ZSB0aGF0IHRoZSBJT01NVSB3b24ndCBi
ZSB1cGRhdGVkIHdpdGggdGhlIG1hcHBpbmdzIHNwZWNpZmllZCB3aXRoIHRoaXMKIG9wdGlvbi4g
VGhpcyBvcHRpb24gdGhlcmVmb3JlIHNob3VsZCBub3QgYmUgdXNlZCB0byBwYXNzIHRocm91Z2gg
YW55CmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bC5oIGIvdG9vbHMvbGlieGwvbGlieGwu
aAppbmRleCA5YmFjZmI5N2YwLi5jZjEyZjFkM2JkIDEwMDY0NAotLS0gYS90b29scy9saWJ4bC9s
aWJ4bC5oCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsLmgKQEAgLTM3OCw2ICszNzgsMTEgQEAKICNk
ZWZpbmUgTElCWExfSEFWRV9CVUlMRElORk9fQk9PVExPQURFUiAxCiAjZGVmaW5lIExJQlhMX0hB
VkVfQlVJTERJTkZPX0JPT1RMT0FERVJfQVJHUyAxCiAKKy8qCisgKiBTdXBwb3J0IHNwZWNpZnlp
bmcgbWVtb3J5IHBvbGljeSBpbmZvcm1hdGlvbiBmb3IgbWVtb3J5IG1hcHBpbmdzLgorICovCisj
ZGVmaW5lIExJQlhMX0hBVkVfTUVNT1JZX1BPTElDWSAxCisKIC8qCiAgKiBMSUJYTF9IQVZFX0VY
VEVOREVEX1ZLQiBpbmRpY2F0ZXMgdGhhdCBsaWJ4bF9kZXZpY2VfdmtiIGhhcyBleHRlbmRlZCBm
aWVsZHM6CiAgKiAgLSB1bmlxdWVfaWQ7CmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9h
cmNoLmggYi90b29scy9saWJ4bC9saWJ4bF9hcmNoLmgKaW5kZXggZDYyNDE1OWU1My4uOWM4NThi
MDZjZSAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfYXJjaC5oCisrKyBiL3Rvb2xzL2xp
YnhsL2xpYnhsX2FyY2guaApAQCAtNzcsNiArNzcsOSBAQCBpbnQgbGlieGxfX2FyY2hfZXh0cmFf
bWVtb3J5KGxpYnhsX19nYyAqZ2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0
IGxpYnhsX2RvbWFpbl9idWlsZF9pbmZvICppbmZvLAogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50NjRfdCAqb3V0KTsKIAorX2hpZGRlbgoraW50IGxpYnhsX19tZW1vcnlfcG9saWN5
X3RvX3hjKGxpYnhsX21lbW9yeV9wb2xpY3kgYyk7CisKICNpZiBkZWZpbmVkKF9faTM4Nl9fKSB8
fCBkZWZpbmVkKF9feDg2XzY0X18pCiAKICNkZWZpbmUgTEFQSUNfQkFTRV9BRERSRVNTICAweGZl
ZTAwMDAwCmRpZmYgLS1naXQgYS90b29scy9saWJ4bC9saWJ4bF9hcm0uYyBiL3Rvb2xzL2xpYnhs
L2xpYnhsX2FybS5jCmluZGV4IDE0MWUxNTkwNDMuLjYzNTRiODUyZGMgMTAwNjQ0Ci0tLSBhL3Rv
b2xzL2xpYnhsL2xpYnhsX2FybS5jCisrKyBiL3Rvb2xzL2xpYnhsL2xpYnhsX2FybS5jCkBAIC0x
MTQ5LDYgKzExNDksMjAgQEAgdm9pZCBsaWJ4bF9fYXJjaF9kb21haW5fYnVpbGRfaW5mb19zZXRk
ZWZhdWx0KGxpYnhsX19nYyAqZ2MsCiAgICAgbGlieGxfZG9tYWluX2J1aWxkX2luZm9faW5pdF90
eXBlKGJfaW5mbywgTElCWExfRE9NQUlOX1RZUEVfUFZIKTsKIH0KIAoraW50IGxpYnhsX19tZW1v
cnlfcG9saWN5X3RvX3hjKGxpYnhsX21lbW9yeV9wb2xpY3kgYykKK3sKKyAgICBzd2l0Y2ggKGMp
IHsKKyAgICBjYXNlIExJQlhMX01FTU9SWV9QT0xJQ1lfQVJNX01FTV9XQjoKKyAgICAgICAgcmV0
dXJuIE1FTU9SWV9QT0xJQ1lfQVJNX01FTV9XQjsKKyAgICBjYXNlIExJQlhMX01FTU9SWV9QT0xJ
Q1lfQVJNX0RFVl9OR05SRToKKyAgICAgICAgcmV0dXJuIE1FTU9SWV9QT0xJQ1lfQVJNX0RFVl9u
R25SRTsKKyAgICBjYXNlIExJQlhMX01FTU9SWV9QT0xJQ1lfREVGQVVMVDoKKyAgICAgICAgcmV0
dXJuIE1FTU9SWV9QT0xJQ1lfREVGQVVMVDsKKyAgICBkZWZhdWx0OgorICAgICAgICByZXR1cm4g
RVJST1JfSU5WQUw7CisgICAgfQorfQorCiAvKgogICogTG9jYWwgdmFyaWFibGVzOgogICogbW9k
ZTogQwpkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGwvbGlieGxfY3JlYXRlLmMgYi90b29scy9saWJ4
bC9saWJ4bF9jcmVhdGUuYwppbmRleCAwM2NlMTY2ZjRmLi44NGRhNjQwNmQwIDEwMDY0NAotLS0g
YS90b29scy9saWJ4bC9saWJ4bF9jcmVhdGUuYworKysgYi90b29scy9saWJ4bC9saWJ4bF9jcmVh
dGUuYwpAQCAtMTM1Nyw2ICsxMzU3LDcgQEAgc3RhdGljIHZvaWQgZG9tY3JlYXRlX2xhdW5jaF9k
bShsaWJ4bF9fZWdjICplZ2MsIGxpYnhsX19tdWx0aWRldiAqbXVsdGlkZXYsCiAKICAgICBmb3Ig
KGkgPSAwOyBpIDwgZF9jb25maWctPmJfaW5mby5udW1faW9tZW07IGkrKykgewogICAgICAgICBs
aWJ4bF9pb21lbV9yYW5nZSAqaW8gPSAmZF9jb25maWctPmJfaW5mby5pb21lbVtpXTsKKyAgICAg
ICAgaW50IG1lbW9yeV9wb2xpY3k7CiAKICAgICAgICAgTE9HRChERUJVRywgZG9taWQsICJpb21l
bSAlIlBSSXg2NCItJSJQUkl4NjQsCiAgICAgICAgICAgICAgaW8tPnN0YXJ0LCBpby0+c3RhcnQg
KyBpby0+bnVtYmVyIC0gMSk7CkBAIC0xMzcwLDkgKzEzNzEsMTYgQEAgc3RhdGljIHZvaWQgZG9t
Y3JlYXRlX2xhdW5jaF9kbShsaWJ4bF9fZWdjICplZ2MsIGxpYnhsX19tdWx0aWRldiAqbXVsdGlk
ZXYsCiAgICAgICAgICAgICByZXQgPSBFUlJPUl9GQUlMOwogICAgICAgICAgICAgZ290byBlcnJv
cl9vdXQ7CiAgICAgICAgIH0KLSAgICAgICAgcmV0ID0geGNfZG9tYWluX21lbW9yeV9tYXBwaW5n
KENUWC0+eGNoLCBkb21pZCwKKyAgICAgICAgbWVtb3J5X3BvbGljeSA9IGxpYnhsX19tZW1vcnlf
cG9saWN5X3RvX3hjKGlvLT5tZW1vcnlfcG9saWN5KTsKKyAgICAgICAgaWYgKG1lbW9yeV9wb2xp
Y3kgPCAwKSB7CisgICAgICAgICAgICBMT0dFRChFUlJPUiwgZG9taWQsCisgICAgICAgICAgICAg
ICAgICAiaW52YWxpZCBtZW1vcnkgcG9saWN5ICV1IiwgaW8tPm1lbW9yeV9wb2xpY3kpOworICAg
ICAgICAgICAgcmV0ID0gRVJST1JfRkFJTDsKKyAgICAgICAgICAgIGdvdG8gZXJyb3Jfb3V0Owor
ICAgICAgICB9CisgICAgICAgIHJldCA9IHhjX2RvbWFpbl9tZW1fbWFwX3BvbGljeShDVFgtPnhj
aCwgZG9taWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpby0+Z2Zu
LCBpby0+c3RhcnQsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpby0+
bnVtYmVyLCAxKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlvLT5u
dW1iZXIsIDEsIG1lbW9yeV9wb2xpY3kpOwogICAgICAgICBpZiAocmV0IDwgMCkgewogICAgICAg
ICAgICAgTE9HRUQoRVJST1IsIGRvbWlkLAogICAgICAgICAgICAgICAgICAgImZhaWxlZCB0byBt
YXAgdG8gZG9tYWluIGlvbWVtIHJhbmdlICUiUFJJeDY0Ii0lIlBSSXg2NApkaWZmIC0tZ2l0IGEv
dG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRsIGIvdG9vbHMvbGlieGwvbGlieGxfdHlwZXMuaWRs
CmluZGV4IGI2MTM5OWNlMzYuLmJkNzkxZDMzOGQgMTAwNjQ0Ci0tLSBhL3Rvb2xzL2xpYnhsL2xp
YnhsX3R5cGVzLmlkbAorKysgYi90b29scy9saWJ4bC9saWJ4bF90eXBlcy5pZGwKQEAgLTI3Miw2
ICsyNzIsMTMgQEAgbGlieGxfaW9wb3J0X3JhbmdlID0gU3RydWN0KCJpb3BvcnRfcmFuZ2UiLCBb
CiAgICAgKCJudW1iZXIiLCB1aW50MzIpLAogICAgIF0pCiAKK2xpYnhsX21lbW9yeV9wb2xpY3kg
PSBFbnVtZXJhdGlvbigibWVtb3J5X3BvbGljeSIsIFsKKyAgICAoMCwgImRlZmF1bHQiKSwKKyAg
ICAoMSwgIkFSTV9EZXZfbkduUkUiKSwKKyAgICAoMiwgIkFSTV9NZW1fV0IiKSwKKyAgICAoMywg
Ing4Nl9VQ19NSU5VUyIpLAorICAgIF0sIGluaXRfdmFsID0gIkxJQlhMX01FTU9SWV9QT0xJQ1lf
REVGQVVMVCIpCisKIGxpYnhsX2lvbWVtX3JhbmdlID0gU3RydWN0KCJpb21lbV9yYW5nZSIsIFsK
ICAgICAjIHN0YXJ0IGhvc3QgZnJhbWUgbnVtYmVyIHRvIGJlIG1hcHBlZCB0byB0aGUgZ3Vlc3QK
ICAgICAoInN0YXJ0IiwgdWludDY0KSwKQEAgLTI3OSw2ICsyODYsOCBAQCBsaWJ4bF9pb21lbV9y
YW5nZSA9IFN0cnVjdCgiaW9tZW1fcmFuZ2UiLCBbCiAgICAgKCJudW1iZXIiLCB1aW50NjQpLAog
ICAgICMgZ3Vlc3QgZnJhbWUgbnVtYmVyIHVzZWQgYXMgYSBzdGFydCBmb3IgdGhlIG1hcHBpbmcK
ICAgICAoImdmbiIsIHVpbnQ2NCwgeydpbml0X3ZhbCc6ICJMSUJYTF9JTlZBTElEX0dGTiJ9KSwK
KyAgICAjIG1lbW9yeV9wb2xpY3kgb2YgdGhlIG1lbW9yeSByZWdpb24KKyAgICAoIm1lbW9yeV9w
b2xpY3kiLCBsaWJ4bF9tZW1vcnlfcG9saWN5KSwKICAgICBdKQogCiBsaWJ4bF92Z2FfaW50ZXJm
YWNlX2luZm8gPSBTdHJ1Y3QoInZnYV9pbnRlcmZhY2VfaW5mbyIsIFsKZGlmZiAtLWdpdCBhL3Rv
b2xzL2xpYnhsL2xpYnhsX3g4Ni5jIGIvdG9vbHMvbGlieGwvbGlieGxfeDg2LmMKaW5kZXggYzBm
ODhhN2VhYS4uYzdjMGFkOTIxOCAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGwvbGlieGxfeDg2LmMK
KysrIGIvdG9vbHMvbGlieGwvbGlieGxfeDg2LmMKQEAgLTYzMSw2ICs2MzEsMTggQEAgdm9pZCBs
aWJ4bF9fYXJjaF9kb21haW5fYnVpbGRfaW5mb19zZXRkZWZhdWx0KGxpYnhsX19nYyAqZ2MsCiAg
ICAgbGlieGxfZGVmYm9vbF9zZXRkZWZhdWx0KCZiX2luZm8tPmFjcGksIHRydWUpOwogfQogCitp
bnQgbGlieGxfX21lbW9yeV9wb2xpY3lfdG9feGMobGlieGxfbWVtb3J5X3BvbGljeSBjKQorewor
ICAgIHN3aXRjaCAoYykgeworICAgIGNhc2UgTElCWExfTUVNT1JZX1BPTElDWV9YODZfVUNfTUlO
VVM6CisgICAgICAgIHJldHVybiBNRU1PUllfUE9MSUNZX1g4Nl9VQ19NSU5VUzsKKyAgICBjYXNl
IExJQlhMX01FTU9SWV9QT0xJQ1lfREVGQVVMVDoKKyAgICAgICAgcmV0dXJuIE1FTU9SWV9QT0xJ
Q1lfREVGQVVMVDsKKyAgICBkZWZhdWx0OgorICAgICAgICByZXR1cm4gRVJST1JfSU5WQUw7Cisg
ICAgfQorfQorCiAvKgogICogTG9jYWwgdmFyaWFibGVzOgogICogbW9kZTogQwpkaWZmIC0tZ2l0
IGEvdG9vbHMveGwveGxfcGFyc2UuYyBiL3Rvb2xzL3hsL3hsX3BhcnNlLmMKaW5kZXggZTEwNWJk
YTJiYi4uNDY1MjVmNDBmNSAxMDA2NDQKLS0tIGEvdG9vbHMveGwveGxfcGFyc2UuYworKysgYi90
b29scy94bC94bF9wYXJzZS5jCkBAIC0xODgzLDYgKzE4ODMsNyBAQCB2b2lkIHBhcnNlX2NvbmZp
Z19kYXRhKGNvbnN0IGNoYXIgKmNvbmZpZ19zb3VyY2UsCiAgICAgICAgIH0KICAgICAgICAgZm9y
IChpID0gMDsgaSA8IG51bV9pb21lbTsgaSsrKSB7CiAgICAgICAgICAgICBpbnQgdXNlZDsKKyAg
ICAgICAgICAgIGNvbnN0IGNoYXIgKm1lbXBvbGljeTsKIAogICAgICAgICAgICAgYnVmID0geGx1
X2NmZ19nZXRfbGlzdGl0ZW0gKGlvbWVtLCBpKTsKICAgICAgICAgICAgIGlmICghYnVmKSB7CkBA
IC0xODk1LDExICsxODk2LDMwIEBAIHZvaWQgcGFyc2VfY29uZmlnX2RhdGEoY29uc3QgY2hhciAq
Y29uZmlnX3NvdXJjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAmYl9pbmZvLT5pb21lbVtp
XS5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgICAmYl9pbmZvLT5pb21lbVtpXS5udW1i
ZXIsICZ1c2VkLAogICAgICAgICAgICAgICAgICAgICAgICAgICZiX2luZm8tPmlvbWVtW2ldLmdm
biwgJnVzZWQpOwotICAgICAgICAgICAgaWYgKHJldCA8IDIgfHwgYnVmW3VzZWRdICE9ICdcMCcp
IHsKKyAgICAgICAgICAgIGlmIChyZXQgPCAyKSB7CiAgICAgICAgICAgICAgICAgZnByaW50Zihz
dGRlcnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAieGw6IEludmFsaWQgYXJndW1lbnQgcGFy
c2luZyBpb21lbTogJXNcbiIsIGJ1Zik7CiAgICAgICAgICAgICAgICAgZXhpdCgxKTsKICAgICAg
ICAgICAgIH0KKyAgICAgICAgICAgIG1lbXBvbGljeSA9ICZidWZbdXNlZF07CisgICAgICAgICAg
ICBpZiAoc3RybGVuKG1lbXBvbGljeSkgPiAxKSB7CisgICAgICAgICAgICAgICAgbWVtcG9saWN5
Kys7CisgICAgICAgICAgICAgICAgaWYgKCFzdHJjbXAobWVtcG9saWN5LCAiYXJtX2Rldl9uR25S
RSIpKQorICAgICAgICAgICAgICAgICAgICBiX2luZm8tPmlvbWVtW2ldLm1lbW9yeV9wb2xpY3kg
PQorICAgICAgICAgICAgICAgICAgICAgICAgTElCWExfTUVNT1JZX1BPTElDWV9BUk1fREVWX05H
TlJFOworICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFzdHJjbXAobWVtcG9saWN5LCAieDg2X1VD
X21pbnVzIikpCisgICAgICAgICAgICAgICAgICAgIGJfaW5mby0+aW9tZW1baV0ubWVtb3J5X3Bv
bGljeSA9CisgICAgICAgICAgICAgICAgICAgICAgICBMSUJYTF9NRU1PUllfUE9MSUNZX1g4Nl9V
Q19NSU5VUzsKKyAgICAgICAgICAgICAgICBlbHNlIGlmICghc3RyY21wKG1lbXBvbGljeSwgImFy
bV9tZW1fV0IiKSkKKyAgICAgICAgICAgICAgICAgICAgYl9pbmZvLT5pb21lbVtpXS5tZW1vcnlf
cG9saWN5ID0KKyAgICAgICAgICAgICAgICAgICAgICAgIExJQlhMX01FTU9SWV9QT0xJQ1lfQVJN
X01FTV9XQjsKKyAgICAgICAgICAgICAgICBlbHNlIHsKKyAgICAgICAgICAgICAgICAgICAgZnBy
aW50ZihzdGRlcnIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgInhsOiBJbnZhbGlkIGlv
bWVtIG1lbW9yeSBwb2xpY3kgcGFyYW1ldGVyOiAlc1xuIiwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBtZW1wb2xpY3kpOworICAgICAgICAgICAgICAgICAgICBleGl0KDEpOworICAgICAg
ICAgICAgICAgIH0KKyAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgIH0KIAotLSAKMi4xNy4x
CgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRl
dmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9s
aXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

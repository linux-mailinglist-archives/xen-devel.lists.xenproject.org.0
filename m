Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id D555A15196D
	for <lists+xen-devel@lfdr.de>; Tue,  4 Feb 2020 12:15:52 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iyw95-0002Hu-17; Tue, 04 Feb 2020 11:13:31 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=fS9R=3Y=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iyw93-0002Ho-LY
 for xen-devel@lists.xenproject.org; Tue, 04 Feb 2020 11:13:29 +0000
X-Inumbo-ID: 5d125e7f-473f-11ea-8f0f-12813bfff9fa
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 5d125e7f-473f-11ea-8f0f-12813bfff9fa;
 Tue, 04 Feb 2020 11:13:27 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 39E28B12D;
 Tue,  4 Feb 2020 11:13:26 +0000 (UTC)
To: Andrew Cooper <andrew.cooper3@citrix.com>
References: <d9ac8ea4-9f2a-93d5-7656-48d93930ed2e@suse.com>
 <cd3d95e9-7305-539c-a6e3-babd226eaea4@suse.com>
 <8a2beec3-1be3-e1f8-89bc-dde28a16eea0@citrix.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <047498e6-b57c-b180-057f-51ab46b48f0d@suse.com>
Date: Tue, 4 Feb 2020 12:13:31 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:68.0) Gecko/20100101
 Thunderbird/68.4.2
MIME-Version: 1.0
In-Reply-To: <8a2beec3-1be3-e1f8-89bc-dde28a16eea0@citrix.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v4 4/7] x86/HVM: implement memory read
 caching for insn emulation
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>, Wei Liu <wl@xen.org>,
 Paul Durrant <paul@xen.org>, George Dunlap <George.Dunlap@eu.citrix.com>,
 Jun Nakajima <jun.nakajima@intel.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMDMuMDIuMjAyMCAyMDo0OCwgQW5kcmV3IENvb3BlciB3cm90ZToKPiBPbiAzMS8wMS8yMDIw
IDE2OjQ0LCBKYW4gQmV1bGljaCB3cm90ZToKPj4gRW11bGF0aW9uIHJlcXVpcmluZyBkZXZpY2Ug
bW9kZWwgYXNzaXN0YW5jZSB1c2VzIGEgZm9ybSBvZiBpbnN0cnVjdGlvbgo+PiByZS1leGVjdXRp
b24sIGFzc3VtaW5nIHRoYXQgdGhlIHNlY29uZCAoYW5kIGFueSBmdXJ0aGVyKSBwYXNzIHRha2Vz
Cj4+IGV4YWN0bHkgdGhlIHNhbWUgcGF0aC4gVGhpcyBpcyBhIHZhbGlkIGFzc3VtcHRpb24gYXMg
ZmFyIGFzIHVzZSBvZiBDUFUKPj4gcmVnaXN0ZXJzIGdvZXMgKGFzIHRob3NlIGNhbid0IGNoYW5n
ZSB3aXRob3V0IGFueSBvdGhlciBpbnN0cnVjdGlvbgo+PiBleGVjdXRpbmcgaW4gYmV0d2Vlbiks
IGJ1dCBpcyB3cm9uZyBmb3IgbWVtb3J5IGFjY2Vzc2VzLgo+IAo+IFRoaXMgc3RhdGVtZW50IGlz
bid0IHF1aXRlIGFjY3VyYXRlLsKgIFZhcmlvdXMgaHlwZXJjYWxscyBhbmQgSVBJcyBjYW4KPiBw
bGF5IHdpdGggR1BSIHN0YXRlIGluIHRoZSBtaWRkbGUgb2YgZW11bGF0aW9uLgo+IAo+IFdoYXQg
bWF0dGVycyBpcyB0aGF0IHRoZSBHUFIgdmFsdWVzIGFyZW4ndCBleHBlY3RlZCB0byBjaGFuZ2Us
IGFuZCBhCj4gZ3Vlc3QgZ2V0cyB0byBrZWVwIGFsbCB0aGUgcGllY2VzIGlmIHRoZXkgdHJ5IHRv
IHBsYXkgZ2FtZXMgaW4gdGhpcyBhcmVhLgoKTm90IGp1c3QgR1BSIHZhbHVlcy4gSSd2ZSBhZGRl
ZCBhIGZvb3Rub3RlOgoKWzFdIE90aGVyIHRoYW4gb24gYWN0dWFsIGhhcmR3YXJlLCBhY3Rpb25z
IGxpa2UKICAgIFhFTl9ET01DVExfc2V0aHZtY29udGV4dCwgWEVOX0RPTUNUTF9zZXR2Y3B1Y29u
dGV4dCwKICAgIFhFTl9ET01DVExfc2V0X2V4dF92Y3B1Y29udGV4dCwgVkNQVU9QX2luaXRpYWxp
c2UsIElOSVQsIG9yIFNJUEkKICAgIGlzc3VlZCBhZ2FpbnN0IHRoZSB2Q1BVIGNhbiBvY2N1ciB3
aGlsZSB0aGUgdkNQVSBpcyBibG9ja2VkIHdhaXRpbmcKICAgIGZvciBhIGRldmljZSBtb2RlbCB0
byByZXR1cm4gZGF0YS4gVGhpcyB3b24ndCBhZmZlY3Qgc3RhYmlsaXR5IG9mCiAgICBYZW4sIHRo
b3VnaCwgaXQgbWF5IGp1c3QgbGVhZCB0byBndWVzdCBtaXNiZWhhdmlvci4KCkknbGwgc2VlIHdo
ZXRoZXIgSSBjYW4gY29tZSB1cCB3aXRoIGEgcmVhc29uYWJsZSB3YXkgdG8gZGVhbCB3aXRoIHRo
ZQpzaXR1YXRpb24uIElmIHNvLCBJIG1heSBpbnNlcnQgYW5vdGhlciBwYXRjaCBhaGVhZCBvZiB0
aGlzIG9uIGluIHY1LgpCdXQgSSBkb24ndCB0aGluayB0aGlzIGlzIGFuIHVyZ2VudCBpc3N1ZSB0
byBhZGRyZXNzLgoKPj4gQXMgdG8gdGhlIGFjdHVhbCBkYXRhIHBhZ2UgaW4gdGhpcyBzY2VuYXJp
bywgdGhlcmUgYXJlIGEgY291cGxlIG9mCj4+IGFzcGVjdHMgdG8gdGFrZSBpbnRvIGNvbnNpZGVy
YXRpb246Cj4+IC0gV2UgbXVzdCBiZSB0YWxraW5nIGFib3V0IGFuIGluc24gYWNjZXNzaW5nIHR3
byBsb2NhdGlvbnMgKHR3byBtZW1vcnkKPj4gICBvbmVzLCBvbmUgb2Ygd2hpY2ggaXMgTU1JTywg
b3IgYSBtZW1vcnkgYW5kIGFuIEkvTyBvbmUpLgo+IAo+IFJlYWxseT8KPiAKPiBXZSdyZSB0YWxr
aW5nIGFib3V0IGFsbCBpbnN0cnVjdGlvbnMsIGV2ZW4gd2l0aG91dCBhbnkgbWVtb3J5IG9wZXJh
bmRzLAo+IGJlY2F1c2UgYXQgdGhlIHZlcnkgbWluaW11bSB3ZSBjYWNoZSB0aGUgaW5zdHJ1Y3Rp
b24gc3RyZWFtLCBhbmQgKHdpdGgKPiB0aGUgZm9sbG93aW5nIHBhdGNoKSwgdGhlIHBhZ2V3YWxr
IHRvIGl0LgoKSSdtIGRlc2NyaWJpbmcgdGhlIHByb2JsZW0gY2FzZSBoZXJlIHRoYXQgd2FudHMg
Zml4aW5nLCBub3QgdGhlIGdlbmVyYWwKb25lLiBJLmUuIHRoZSBjYXNlIHdoZXJlIHdpdGhvdXQg
dGhpcyBjaGFuZ2UgcmUtZXhlY3V0aW9uIG1pZ2h0IGdvIHdyb25nCmFmdGVyIHRoZSBkZXZpY2Ug
bW9kZWwgaGFzIHJldHVybmVkIGRhdGEuCgo+PiBUQkQ6IEluIHByaW5jaXBsZSB0aGUgY2FjaGlu
ZyBoZXJlIHlpZWxkcyB1bm5lY2Vzc2FyeSB0aGUgb25lIHVzZWQgZm9yCj4+ICAgICAgaW5zbiBi
eXRlcyAodmlvLT5tbWlvX2luc257LF9ieXRlc30uIEhvd2V2ZXIsIHRvIHNlZWQgdGhlIGNhY2hl
Cj4+ICAgICAgd2l0aCB0aGUgZGF0YSBTVk0gbWF5IGhhdmUgbWFkZSBhdmFpbGFibGUsIHdlJ2Qg
aGF2ZSB0byBhbHNvIGtub3cKPj4gICAgICB0aGUgY29ycmVzcG9uZGluZyBHUEEuIEl0J3Mgbm90
IHNhZmUsIGhvd2V2ZXIsIHRvIHJlLXdhbGsgdGhlIHBhZ2UKPj4gICAgICB0YWJsZXMgdG8gZmlu
ZCBvdXQsIGFzIHRoZSBwYWdlIHRhYmxlcyBtYXkgaGF2ZSBjaGFuZ2VkIGluIHRoZQo+PiAgICAg
IG1lYW50aW1lLiBUaGVyZWZvcmUgSSBndWVzcyB3ZSBuZWVkIHRvIGtlZXAgdGhlIGR1cGxpY2F0
ZQo+PiAgICAgIGZ1bmN0aW9uYWxpdHkgZm9yIG5vdy4gQSBwb3NzaWJsZSBzb2x1dGlvbiB0byB0
aGlzIGNvdWxkIGJlIHRvIHVzZQo+PiAgICAgIGEgcGh5c2ljYWwtYWRkcmVzcy1iYXNlZCBjYWNo
ZSBmb3IgcGFnZSB0YWJsZSBhY2Nlc3NlcyAoYW5kIGxvb2tpbmcKPj4gICAgICBmb3J3YXJkIGFs
c28gZS5nLiBTVk0vVk1YIGluc24gZW11bGF0aW9uKSwgYW5kIGEgbGluZWFyLWFkZHJlc3MtCj4+
ICAgICAgYmFzZWQgb25lIGZvciBhbGwgb3RoZXIgcmVhZHMuCj4gCj4gU3BsaXR0aW5nIGNhY2hp
bmcgbGlrZSB0aGF0IHdpbGwgcmUtaW50cm9kdWNlIHRoZSBzYW1lIGJ1Z3MgSSBwb2ludGVkCj4g
b3V0IGluIGVhcmxpZXIgcmV2aXNpb25zIG9mIHRoaXMgc2VyaWVzLsKgIEl0IGlzIG5vdCBjb3Jy
ZWN0IHRvIGhhdmUKPiBtdWx0aXBsZSAoYW5kIHRoZXJlZm9yZSwgbm9uLWNvaGVyZW50KSBjYWNo
ZXMgb2YgbWVtb3J5LgoKV2VsbCwgSSBjb250aW51ZSB0byBkaXNhZ3JlZSwgYW5kIEkgY2FuIG9u
bHkgcG9pbnQgeW91IGJhY2sgYXQgdGhlCmV4YW1wbGUgb2YgaW5zbnMgd2l0aCBtdWx0aXBsZSBl
eHBsaWNpdCBtZW1vcnkgcmVmZXJlbmNlcyBhY3R1YWxseQpwaWNraW5nIHVwIGNoYW5nZXMgZG9u
ZSBieSBhIHJlbW90ZSBhZ2VudC4gRS5nLiBSRVAgQ01QU0Igd2l0aApyU0kgPT0gckRJIGNhbiBi
ZSBvYnNlcnZlZCB0byB0ZXJtaW5hdGUgd2l0aCBaRiBjbGVhciBhbmQgckNYIG5vbi0KemVyby4g
SSBjYW4gb25seSByZS1pdGVyYXRlIHRoYXQgd2hhdCBJIGludHJvZHVjZSBoZXJlIGlzIG5vdCBh
CmNhY2hlIGluIHRoZSBzZW5zZSB0aGUgQ1BVIGNhY2hlcyB3b3JrIChpdCBpcyBub3cgY29taW5n
IGNsb3Nlcgp0aGFuIGluIHByaW9yIHZlcnNpb25zLCBidXQgdGhlcmUgYXJlIGRpZmZlcmVuY2Vz
IHdoaWNoIEkgdGhpbmsKd2lsbCBuZWVkIHRvIHJlbWFpbiAtIHNlZSBmdXJ0aGVyIGRvd24pLiBJ
bnN0ZWFkIGl0IGlzIG9uZSBpbiB0aGUKc2Vuc2Ugb2YgInNlY3JldCBzdG9yZSBmb3IgaW50ZXJt
ZWRpYXRlIGRhdGEiLiBUaGVyZSBpcyBubwpxdWVzdGlvbiBvZiBjb2hlcmVuY3kgd2hhdHNvZXZl
ciBmb3IgdGhlIHB1cnBvc2VzIGhlcmU6IEEgZGF0dW0Kb25jZSByZWFkIGNhbid0IGJlY29tZSBz
dGFsZSwgbm8gbWF0dGVyIHdoYXQgd3JpdGVzIChhbmQgYnkgd2hvbSkKdG8gdGhlIHNhbWUgbWVt
b3J5IGxvY2F0aW9uIG1pZ2h0IG9jY3VyLgoKPiBUaGUgQU1EIGluc3RydWN0aW9uIHN0cmVhbSBi
eXRlcyBzdXBwb3J0IGlzIGJ5IG5vIG1lYW5zIHBlcmZlY3QgZWl0aGVyLsKgCj4gSXQgZG9lc24n
dCBmdW5jdGlvbiBwcm9wZXJseSB3aGVuIFNNQVAgaXMgYWN0aXZlIChFcnJhdHVtICMxMDk2KSwg
d2hpY2gKPiBpcyBhY3R1YWxseSBjYXVzZWQgYnkgdGhlIGluc3RydWN0aW9uIHN0cmVhbSBiZWlu
ZyByZS1mZXRjaGVkIGF0IHZtZXhpdAo+IHRpbWUsIHdpdGggYSBkYXRhIHNpZGUgYWNjZXNzICho
ZW5jZSB0aGUgaW50ZXJhY3Rpb24gd2l0aCBTTUFQKS4KPiAKPiBKdXN0IGFzIHdpdGggdGhlIGVt
dWxhdGlvbiBmb3Igbm9uLU5yaXBzIGhhcmR3YXJlLCB0aGUgY29udGVudHMgb2YgdGhlCj4gaW5z
dHJ1Y3Rpb24gYnVmZmVyIChpZiB2YWxpZCkgbmVlZCBjcm9zcyByZWZlcmVuY2luZyB3aXRoIHRo
ZSB2bWV4aXQKPiByZWFzb24gdG8gc3BvdCByYWNlcywgYW5kIHRoZSBzYW1lIGNoZWNraW5nIHdv
dWxkIG1ha2UgaXQgc2FmZSB0bwo+IGRlZHVwbGljYXRlIHRoZSBjYWNoaW5nLgoKUmlnaHQsIGFu
ZCB3ZSd2ZSBwdXQgaW4gcGxhY2Ugc29tZSBiYXNpYyBzYW5pdHkgY2hlY2tzIGZvciB0aGlzCnB1
cnBvc2UsIGJ1dCBubywgSSdtIG5vdCBjb252aW5jZWQgdGhpcyBpcyBnb29kIGVub3VnaCB0byBh
bGxvdwpzYWZlbHkgZHJvcHBpbmcgdGhlIGR1cGxpY2F0ZSBjYWNoaW5nLiBCdXQgYW55d2F5LCB0
aGlzIGlzbid0CmFueXRoaW5nIHRvIGJlIGRvbmUgaW4gdGhpcyBwYXRjaCwgYnV0IG9ubHkgLSBp
ZiBhdCBhbGwgLSBpbiBhCmZvbGxvdy1vbiBvbmUuCgo+PiAtLS0gYS94ZW4vYXJjaC94ODYvaHZt
L2VtdWxhdGUuYwo+PiArKysgYi94ZW4vYXJjaC94ODYvaHZtL2VtdWxhdGUuYwo+PiBAQCAtMjgs
NiArMjgsMTcgQEAKPj4gICNpbmNsdWRlIDxhc20vaW9jYXAuaD4KPj4gICNpbmNsdWRlIDxhc20v
dm1fZXZlbnQuaD4KPj4gIAo+PiArc3RydWN0IGh2bWVtdWxfY2FjaGUKPj4gK3sKPiAKPiBUaGlz
IG5lZWRzIGEgY29tbWVudCAoc2VlIGJlbG93LikKCkkgZG9uJ3QgdGhpbmsgSSd2ZSBzcG90dGVk
IHdoaWNoIG9mIHlvdXIgZnVydGhlciByZW1hcmtzIHRoaXMgcmVmZXJzCnRvLCBhbmQgaGVuY2Ug
d2hhdCBpdCBpcyBhIGNvbW1lbnQgaGVyZSB3b3VsZCBuZWVkIHRvIHNheS4KCj4+ICsgICAgdW5z
aWduZWQgaW50IG51bV9lbnRzOwo+PiArICAgIHVuc2lnbmVkIGludCBtYXhfZW50czsKPj4gKyAg
ICBzdHJ1Y3Qgewo+PiArICAgICAgICBwYWRkcl90IGdwYTpQQUREUl9CSVRTOwo+PiArICAgICAg
ICB1bnNpZ25lZCBpbnQgc2l6ZTpCSVRTX1BFUl9MT05HIC0gUEFERFJfQklUUzsKPiAKPiBUaGlz
IHdvdWxkIHByb2JhYmx5IHJlc3VsdCBpbiByYXRoZXIgYmV0dGVyIGNvZGUgaWYgc2l6ZSB3YXMg
OCBiaXRzCj4gcmF0aGVyIHRoYW4gMTIuCgpJIGNhbiBtYWtlIGl0IHNvLCBieSBpbnNlcnRpbmcg
YSBCSVRTX1BFUl9MT05HIC0gUEFERFJfQklUUyAtIDgKdW5uYW1lZCBmaWVsZC4gSSBhZ3JlZSB0
aGF0IHRoaXMgd2F5IG5vIHNoaWZ0IGlzIGdvaW5nIHRvIGJlCm5lZWRlZC4KCj4gTG9uZ2VyIHRl
cm0sIHRoZSBzaXplIGZpZWxkIHNob3VsZCBkaXNhcHBlYXIgYW5kIGZ1bmN0aW9uYWxpdHkgYWRq
dXN0ZWQKPiB0byBhbHdheXMgcmVhZCBhbGlnbmVkIDggKG9yIGxhcmdlcikgYnl0ZSB2YWx1ZXMu
wqAgVGhhdCB3YXksIHRoZSBjYWNoZQo+IGJlaGF2ZXMgbXVjaCBtb3JlIGxpa2UgY2FjaGVzIGlu
IHJlYWwgcHJvY2Vzc29ycy4KCkFzIHBlciBhYm92ZSwgSSBkb24ndCB0aGluayB0aGlzIGNhbiBv
ciBzaG91bGQgYmUgdGhlIGdvYWwuIE5vdAp0aGUgbGVhc3QgYmVjYXVzZSB0aGlzIGNhY2hlIChh
cyBzYWlkLCBhcyBpbiAic2VjcmV0IHN0b3JlIikgaXMKYWxzbyB1c2VkIHRvICJjYWNoZSIgdW5j
YWNoZWFibGUgZGF0YS4gSW4gc3VjaCBjYXNlcyB3ZSBtYXkgbm90CnJlYWQgbW9yZSB0aGFuIHdo
YXQgd2FzIGFza2VkLgoKPj4gQEAgLTI4MzgsNiArMjg2OCwxMjMgQEAgdm9pZCBodm1fZHVtcF9l
bXVsYXRpb25fc3RhdGUoY29uc3QgY2hhcgo+PiAgICAgICAgICAgICBodm1lbXVsX2N0eHQtPmlu
c25fYnVmKTsKPj4gIH0KPj4gIAo+PiAraW50IGh2bWVtdWxfY2FjaGVfaW5pdChzdHJ1Y3QgdmNw
dSAqdikKPj4gK3sKPj4gKyAgICAvKgo+PiArICAgICAqIE5vIGluc24gY2FuIGFjY2VzcyBtb3Jl
IHRoYW4gMTYgaW5kZXBlbmRlbnQgbGluZWFyIGFkZHJlc3NlcyAoQVZYNTEyRgo+PiArICAgICAq
IHNjYXR0ZXJzL2dhdGhlcnMgYmVpbmcgdGhlIHdvcnN0KS4KPiAKPiBJdCBpcyBhdCBsZWFzdCA1
IG1vcmUgdGhhbiB0aGUgd29yc2UgY2FzZSBudW1iZXIgb2YgcmVndWxhciBvcGVyYW5kcywgdG8K
PiBjb3ZlciBleGNlcHRpb25zLCBhbmQgdGhlcmVmb3JlIGFjY2Vzc2VzIGludG8gdGhlIElEVC9H
RFQvTERUIGFuZCBUUiBhbmQKPiBzdGFjay4KClRoZSBlbXVsYXRvciBkb2Vzbid0IGFjdHVhbGx5
IGVtdWxhdGUgZXhjZXB0aW9uIGRlbGl2ZXJ5ICh5ZXQ/KSwKc28gbm8gc3VjaCBtZW1vcnkgYWNj
ZXNzZXMgd291bGQgcmVzdWx0LiBJJ2QgYWxzbyBub3QgY2FsbCB0aGlzCmFjY2Vzc2VzIHRoZSBp
bnNuIGl0c2VsZiBjYXVzZXMgKG90aGVyIHRoZW4gZS5nLiBhIGRlc2NyaXB0b3IKdGFibGUgYWNj
ZXNzIGJ5IGEgc2VnbWVudCByZWdpc3RlciBsb2FkKS4KCj4gWW91IGNhbiBtYW5hZ2UgdGhhdCB3
aXRoIGEgMzJiaXQgZ3Vlc3Qgd2l0aCBhbiBleGNlcHRpb24sICVjcyBhbmQgJXNzIGluCj4gZGlm
ZmVyZW50IHRhYmxlcywgYW5kIGhhdmluZyB0byBjcm9zcyBhIHBhZ2UgYm91bmRhcnkgd2hlbiBw
dXNoaW5nIHRoZQo+IGVzcDAgZXhjZXB0aW9uIGZyYW1lLgo+IAo+IEl0IGlzIG9uZSBmZXdlciBn
ZW5lcmFsbHkgaW4gNjRiaXQgbW9kZSwgYmVjYXVzZSB0aGVyZSBhcmUgbm8gJXNzCj4gcmVmZXJl
bmNlcyB0byBkZWFsIHdpdGgsIGJ1dCBib3RoIGNhc2VzIGdldCBldmVuIG1vcmUgY29tcGxpY2F0
ZWQgZm9yIGEKPiBjb250cmlidXRvcnkgZXhjZXB0aW9uLCBhcyB0aGUgc2Vjb25kICVjcyBjYW4g
YmUgZGlmZmVyZW50IHRvICVjcyBmb3IKPiB0aGUgZmlyc3QgZXhjZXB0aW9uLgo+IAo+PiAgRWFj
aCBzdWNoIGxpbmVhciByYW5nZSBjYW4gc3BhbiBhCj4+ICsgICAgICogcGFnZSBib3VuZGFyeSwg
aS5lLiBtYXkgcmVxdWlyZSB0d28gcGFnZSB3YWxrcy4gQWNjb3VudCBmb3IgZWFjaCBpbnNuCj4+
ICsgICAgICogYnl0ZSBpbmRpdmlkdWFsbHkuCj4gCj4gV2h5IGFyZSB3ZSBjb3VudGluZyA1IGVu
dHJpZXMgZm9yIGV2ZXJ5IGluc3RydWN0aW9uIGJ5dGU/wqAgR2l2ZW4gYW4KPiA4LWJ5dGUgbWF4
aW11bSBjYWNoZWQgc2l6ZSwgd2UgbmVlZCBhdCBtb3N0IDIgZW50cmllcyB0byBjb3ZlciBhIHNp
bmdsZQo+IGluc3RydWN0aW9uLgoKMyBlbnRyaWVzIGlmIHRoZSBpbnNuIHNwYW5zIGEgcGFnZSBi
b3VuZGFyeSwgcGx1cyB0aGUgdHdvCmNvcnJlc3BvbmRpbmcgcGFnZSB3YWxrcy4gQnV0OiBXaGls
ZSB0aGUgcGFnZSB3YWxrIGRhdGEgd291bGQKYmUgc2hhcmVkIGZvciB0aGUgaW5kaXZpZHVhbCwg
cGVyaGFwcyBhcyBzbWFsbCBhcyBieXRlLCByZWFkcywKdGhlIGZldGNoZWQgZGF0YSBtYXkgY29u
c3VtZSBhcyBtYW55IHNsb3RzIGFzIHRoZXJlIGFyZQpzZXBhcmF0ZSBmZXRjaCByZXF1ZXN0cy4g
UmVjYWxsIHRoYXQgcmVhZHMgb2YgYWRqYWNlbnQKYWRkcmVzc2VzIGRvbid0IGdldCBmb2xkZWQs
IGV2ZW4gaWYgdGhlIG92ZXJhbGwgcmFuZ2Ugd291bGQKZml0LiBJIGNhbiBvZiBjb3Vyc2UgbWFr
ZSB0aGUgZXhwcmVzc2lvbiBoZXJlIG1vcmUgY29tcGxpY2F0ZWQsCnRvIGV4cHJlc3MgTUFYX0lO
U1RfTEVOIGFjdHVhbCBkYXRhIHNsb3RzIHBsdXMgdHdvIHNldHMgb2YKcGFnZSB3YWxrIG9uZXMu
IEFsdGVybmF0aXZlbHkgSSBjYW4gYXBwZW5kICJmb3Igc2ltcGxpY2l0eSIgdG8KdGhlIGNvbW1l
bnQsIGlmIHRoYXQgaGVscHMuIEp1c3QgbGV0IG1lIGtub3cuCgo+PiArICAgICAqLwo+PiArICAg
IGNvbnN0IHVuc2lnbmVkIGludCBuZW50cyA9IChDT05GSUdfUEFHSU5HX0xFVkVMUyArIDEpICoK
Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoTUFYX0lOU1RfTEVOICsgMTYgKiAy
KTsKPj4gKyAgICBzdHJ1Y3QgaHZtZW11bF9jYWNoZSAqY2FjaGUgPSB4bWFsbG9jX2ZsZXhfc3Ry
dWN0KHN0cnVjdCBodm1lbXVsX2NhY2hlLAo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cywgbmVudHMpOwo+PiArCj4+ICsgICAgaWYg
KCAhY2FjaGUgKQo+PiArICAgICAgICByZXR1cm4gLUVOT01FTTsKPj4gKwo+PiArICAgIC8qIENh
Y2hlIGlzIGRpc2FibGVkIGluaXRpYWxseS4gKi8KPj4gKyAgICBjYWNoZS0+bnVtX2VudHMgPSBu
ZW50cyArIDE7Cj4+ICsgICAgY2FjaGUtPm1heF9lbnRzID0gbmVudHM7Cj4gCj4gKEJlbG93Oikg
WW91IG5lZWQgdG8gZG9jdW1lbnQgdGhlIGludGVybmFsIHNlbWFudGljcyAocHJvYmFibHkgYmVz
dCBpbgo+IHRoZSBzdHJ1Y3QgZGVmaW5pdGlvbi4pCgpJJ3ZlIGFkZGVkICJUaGUgY2FjaGUgaXMg
ZGlzYWJsZWQgYXMgbG9uZyBhcyBudW1fZW50cyA+IG1heF9lbnRzLiIgSXMKdGhlcmUgYW55dGhp
bmcgZWxzZSBJIHNob3VsZCBhZGQ/Cgo+IEkgdGhvdWdodCBJJ2QgcmV2ZXJzZSBlbmdpbmVlcmVk
IGhvdyBkaXNhYmxpbmcgd29ya3MgKHN0YXJ0aW5nIGZyb20gdGhlCj4gY29tcGxldGVseSBvYnNj
dXJlIGh2bWVtdWxfY2FjaGVfZGlzYWJsZWQoKSksCgpJZiBpdCdzICJjb21wbGV0ZWx5IG9ic2N1
cmUiIC0gYW55IHN1Z2dlc3Rpb25zIGhvdyB0byBpbXByb3ZlIHRoZQpzaXR1YXRpb24/Cgo+IGJ1
dCBnaXZlbiB0aGF0IHRoZSBjYWNoZQo+IGlzIGFwcGFyZW50bHkgZGlzYWJsZWQgYnkgZGVmYXVs
dCwgSSBub3cgY2FuJ3QgZmlndXJlIG91dCBob3cgaXQgZXZlcgo+IGdldHMgZW5hYmxlZC4KPiAK
PiBJIGNhbid0IHNlZSBhbnkgY29kZSBwYXRoIHdoZXJlIG51bV9lbnRzIGVuZHMgdXAgbG93ZXIg
dGhhbiBtYXhfZW50cywKPiBhbmQgdGhlIHJlYWQvd3JpdGUgaGVscGVycyBiZWxvdyBkb24ndCB0
YWtlIHRoZWlyIGVhcmx5IGV4aXQgcGF0aC4KCkNoZWNrIHRoZSBodW5rIGNoYW5naW5nIHRoZSB0
b3Agb2YgX2h2bV9lbXVsYXRlX29uZSgpLgoKPj4gK2Jvb2wgaHZtZW11bF9yZWFkX2NhY2hlKGNv
bnN0IHN0cnVjdCB2Y3B1ICp2LCBwYWRkcl90IGdwYSwKPj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgIHZvaWQgKmJ1ZmZlciwgdW5zaWduZWQgaW50IHNpemUpCj4+ICt7Cj4+ICsgICAgY29uc3Qg
c3RydWN0IGh2bWVtdWxfY2FjaGUgKmNhY2hlID0gdi0+YXJjaC5odm0uaHZtX2lvLmNhY2hlOwo+
PiArICAgIHVuc2lnbmVkIGludCBpOwo+PiArCj4+ICsgICAgLyogQ2FjaGUgdW5hdmFpbGFibGU/
ICovCj4+ICsgICAgaWYgKCBjYWNoZS0+bnVtX2VudHMgPiBjYWNoZS0+bWF4X2VudHMgKQo+PiAr
ICAgICAgICByZXR1cm4gZmFsc2U7Cj4+ICsKPj4gKyAgICB3aGlsZSAoIHNpemUgPiBzaXplb2Yo
Y2FjaGUtPmVudHMtPmRhdGEpICkKPj4gKyAgICB7Cj4+ICsgICAgICAgIGkgPSBncGEgJiAoc2l6
ZW9mKGNhY2hlLT5lbnRzLT5kYXRhKSAtIDEpCj4+ICsgICAgICAgICAgICA/IC1ncGEgJiAoc2l6
ZW9mKGNhY2hlLT5lbnRzLT5kYXRhKSAtIDEpCj4+ICsgICAgICAgICAgICA6IHNpemVvZihjYWNo
ZS0+ZW50cy0+ZGF0YSk7Cj4+ICsgICAgICAgIGlmICggIWh2bWVtdWxfcmVhZF9jYWNoZSh2LCBn
cGEsIGJ1ZmZlciwgaSkgKQo+PiArICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwo+IAo+IFdoYXQg
aXMgdGhpcyBjYWxsIHRyeWluZyB0byBhY2hpZXZlPwoKV2hlbiB0aGUgZnVsbCByZXF1ZXN0IHdv
bid0IGZpdCBhIHNpbmdsZSBlbnRyeSwgdGhpcyByZWFkcwp0aGUgZmlyc3Qgc28gbWFueSBieXRl
cyB0byBtYWtlIGdwYSA4LWJ5dGUgYWxpZ25lZCBpZiBpdAppc24ndCBhbHJlYWR5LCBvciBhIHNp
bmdsZSBlbnRyeSdzIHdvcnRoIG9mIGRhdGEgb3RoZXJ3aXNlLgoKPj4gKyAgICAgICAgZ3BhICs9
IGk7Cj4+ICsgICAgICAgIGJ1ZmZlciArPSBpOwo+PiArICAgICAgICBzaXplIC09IGk7Cj4+ICsg
ICAgfQo+PiArCj4+ICsgICAgZm9yICggaSA9IDA7IGkgPCBjYWNoZS0+bnVtX2VudHM7ICsraSAp
Cj4+ICsgICAgICAgIGlmICggY2FjaGUtPmVudHNbaV0uZ3BhID09IGdwYSAmJiBjYWNoZS0+ZW50
c1tpXS5zaXplID09IHNpemUgKQo+IAo+IFdpdGggbnVtX2VudHMgY3VycmVudGx5IHRvcHBpbmcg
b3V0IGF0IDIzNSAoYW5kIG5lZWRpbmcgdG8gaW5jcmVhc2UKPiBhbnl3YXkpLCB0aGlzIGNhbiBl
bmQgdXAgYmVpbmcgYSB2ZXJ5IGxvbmcgbG9vcC4KPiAKPiBHaXZlbiB0aGF0IGl0IHdpbGwgYmUg
cG9wdWxhdGVkIHdpdGggaGlnaGVyIGxldmVsIFBURXMgdG8gYmVpbmcgd2l0aCwKPiB0aGUgY29t
bW9uIGNhc2Ugb2YgYWNjZXNzaW5nIHJlYWwgZGF0YSB3aWxsIGJlIGF0IHRoZSBlbmQgb2YgdGhl
IE8obikKPiBzZWFyY2ggcmF0aGVyIHRoYW4gdGhlIHN0YXJ0LgoKQW55ICJyZWFsIGRhdGEiIGFj
Y2VzcyB3aWxsIGFsc28gYmUgYWNjb21wYW5pZWQgYnkgYSBwYWdlIHdhbGsuCkkgdGhlcmVmb3Jl
IGRvbid0IHNlZSBob3cgcmUtYXJyYW5nZW1lbnQgd291bGQgaGVscC4gQWxzbwpudW1fZW50cyBp
cyBoYXJkbHkgZXZlciBnb2luZyB0byBiZSBtb3JlIHRoYW4gYSBkb3plbiBvciBzbywKdW5sZXNz
IHdlIHJlYWxseSBuZWVkIHRvIGVtdWxhdGUgc29tZXRoaW5nIGV4b3RpYyBsaWtlIGFuIFMvRwpp
bnNuLgoKPiBUaGUgY2FjaGUgaXMgYSBzaW5nbGUgYmxvY2sgb2YgbWVtb3J5LCBzbyBpdCBpcyBh
bG1vc3QgY2VydGFpbmx5IGJldHRlcgo+IHRvIGtlZXAgaXQgc29ydGVkLsKgIFRoYXQgc2FpZCwg
aXQgaXMgcHJvYmxlbWF0aWMgZHVlIHRvIHRoZSBvdmVybGFwIG9mCj4gc2l6ZXMsIHdoaWNoIEkn
bSBzdGlsbCBjb25jZXJuZWQgY29uY2VybmVkIGFib3V0IGdlbmVyYWxseS4KCldlbGwsIEkgdGhv
dWdodCBJJ2Qgc3RhcnQgd2l0aCBzb21ldGhpbmcgcmVhbGx5IHNpbXBsZS4gQXMgcGVyCmFib3Zl
IHRoZSAib3ZlcmxhcCIgb2Ygc2l6ZXMgaXMgbm90IGEgcHJvYmxlbSwgc2luY2UgZWFjaAppbmRp
dmlkdWFsIHJlYWQgaXNzdWVkIG1heSBiZSBjb25zaWRlcmVkIHRvIG9ic2VydmUgbWVtb3J5CnN0
YXRlIGF0IHRoZSB0aW1lIG9mIGl0cyBpc3N1aW5nIChyYXRoZXIgdGhhbiB0aGF0IGF0IHRoZSB0
aW1lCndoZW4gYSBwcmlvciBvdmVybGFwcGluZyByZWFkIHdhcyBpc3N1ZWQpLiBNZXJnaW5nIHdv
dWxkIF9hbHNvXwpiZSBva2F5LCBidXQgaXMgbm90IHJlcXVpcmVkIGZvciBjb3JyZWN0bmVzcy4K
ClRoZSBxdWVzdGlvbiBpcyB3aGV0aGVyIHRoZSBoaWdoZXIgY29zdCBvZiBpbnNlcnRpb24gKHdo
ZW4Kd2FudGluZyB0byBtYWtlIHRoZSBjYWNoZSBzb3J0ZWQpIGlzIG91dHdlaWdoZWQgYnkgdGhl
IGNoZWFwZXIKbG9va3VwLiBUaGUgY29tbW9uIGNhc2UgaXMgZm9yIHRoZXJlIHRvIG5vdCBiZSBy
ZS1leGVjdXRpb246Ck5laXRoZXIgaW50ZXJuYWxseSBoYW5kbGVkIE1NSU8gbmVlZCBpdCwgbm9y
IHdyaXRlcyBzZW50IHRvCnRoZSBETSwgbm9yIGFsbW9zdCBhbnl0aGluZyB0aGF0J3MgaW50cm9z
cGVjdGlvbiByZWxhdGVkLgoKT25lIG9wdGlvbiBJJ3ZlIGJlZW4gY29uc2lkZXJpbmcgaXMgdG8g
YWN0dWFsbHkgInNlcXVlbmNlLQpudW1iZXIiIHRoZSBhY2Nlc3Nlcy4gVXBvbiByZXBsYXkgdGhl
IHNhbWUgc2VxdWVuY2Ugb2YKb3BlcmF0aW9ucyBpcyB0byBvY2N1ciBhbnl3YXksIHdoaWNoIHdv
dWxkIG1ha2UgYW4gYWN0dWFsCmxvb2t1cCAoYXMgaW4gInNlYXJjaCIpIG9mIHRoZSBjb3JyZWN0
IGVudHJ5IHVubmVjZXNzYXJ5LiBPZgpjb3Vyc2UgdGhpcyB3b3VsZCBtb3ZlIHVzIGZ1cnRoZXIg
YXdheSBhZ2FpbiBmcm9tIGhvdyBhY3R1YWwKQ1BVIGNhY2hlcyB3b3JrLiBJIGNvdWxkIGFsc28g
aW1hZ2luZSBhIGh5YnJpZCBtb2RlbCwgd2hlcmUKdGhlIGxhc3QgcmVhZCBzbG90IGlzIHJlY29y
ZGVkLCBhbmQgdGhlIG5leHQgcmVhZCB3b3VsZCBsb29rCmF0IHRoZSBzdWJzZXF1ZW50IHNsb3Qg
Zmlyc3QuCgo+PiAtLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9lbXVsYXRlLmgKPj4gKysr
IGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vZW11bGF0ZS5oCj4+IEBAIC0xMyw2ICsxMyw3IEBA
Cj4+ICAjZGVmaW5lIF9fQVNNX1g4Nl9IVk1fRU1VTEFURV9IX18KPj4gIAo+PiAgI2luY2x1ZGUg
PHhlbi9lcnIuaD4KPj4gKyNpbmNsdWRlIDx4ZW4vc2NoZWQuaD4KPj4gICNpbmNsdWRlIDxhc20v
aHZtL2h2bS5oPgo+PiAgI2luY2x1ZGUgPGFzbS94ODZfZW11bGF0ZS5oPgo+PiAgCj4+IEBAIC05
Niw2ICs5NywzMSBAQCBpbnQgaHZtZW11bF9kb19waW9fYnVmZmVyKHVpbnQxNl90IHBvcnQsCj4+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QgZGlyLAo+PiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB2b2lkICpidWZmZXIpOwo+PiAgCj4+ICsjaWZkZWYgQ09ORklHX0hWTQo+
IAo+IFRoaXMgbmVlZHMgYSBjb21tZW50IGJsb2NrIHN0YXRpbmcsIGF0IGEgbWluaW11bSwgdGhl
IHNlbWFudGljcyBhbmQKPiBleHBlY3RlZCB1c2UgZm9yIHRoZSBjYWNoZS4KPiAKPiBPdGhlcndp
c2UsIHRoaXMgaXMgfjE1MCBsaW5lcyBvZiB0b3RhbGx5IHVuZG9jdW1lbnRlZCBhbmQgcHJhY3Rp
Y2FsbHkKPiB1bmNvbW1lbnRlZCwgY3JpdGljYWwgYW5kIHN1YnRsZSBpbmZyYXN0cnVjdHVyZS4K
CldpbGwgZG87IGxldCdzIHNlZSBpZiB3aGF0IEkgY2FuIGNvbWUgdXAgd2l0aCBpcyBnb29kIGVu
b3VnaC4KCkphbgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcK
aHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 00C046A67F
	for <lists+xen-devel@lfdr.de>; Tue, 16 Jul 2019 12:27:42 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hnKdZ-0007Xc-8A; Tue, 16 Jul 2019 10:24:45 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=WCCO=VN=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1hnKdX-0007XG-8D
 for xen-devel@lists.xenproject.org; Tue, 16 Jul 2019 10:24:43 +0000
X-Inumbo-ID: ebb849fb-a7b3-11e9-8980-bc764e045a96
Received: from esa2.hc3370-68.iphmx.com (unknown [216.71.145.153])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id ebb849fb-a7b3-11e9-8980-bc764e045a96;
 Tue, 16 Jul 2019 10:24:41 +0000 (UTC)
Authentication-Results: esa2.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa2.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: ZZ0I9LFXVeExVtccDFjjA2w8njDSJhcesVcuANsIyo2H+9HynZF+8A69vroeyahG9rYyx4K6sD
 Auo/uSHqP6X4vQPfJ/+tpIZo5Dg5R59xUA7eTyx7dsy1R+QY6nOuLWu4SysoxTF/9MRZgF3DwU
 1s3q41BzhCshMTEH5zk39JUkUzj0NytgxyF+ze9gVwfwm6Uk7m2eAzgokGfWvP1oh91XWGxtnt
 4nwA8OrO2bhPh3bztKjVe5oMvVdnlGnl2EPOEnv021cS+bt6kyqVV8TAIm/p6yQ+EOPTN9/kiQ
 +EA=
X-SBRS: 2.7
X-MesageID: 3006705
X-Ironport-Server: esa2.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.63,498,1557201600"; 
   d="scan'208";a="3006705"
To: Paul Durrant <paul.durrant@citrix.com>, <xen-devel@lists.xenproject.org>
References: <20190716101657.23327-1-paul.durrant@citrix.com>
 <20190716101657.23327-3-paul.durrant@citrix.com>
From: Andrew Cooper <andrew.cooper3@citrix.com>
Openpgp: preference=signencrypt
Autocrypt: addr=andrew.cooper3@citrix.com; prefer-encrypt=mutual; keydata=
 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
 6+ahAA==
Message-ID: <6f318f2a-374e-d8e8-0974-47b709dd629b@citrix.com>
Date: Tue, 16 Jul 2019 11:24:36 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.2
MIME-Version: 1.0
In-Reply-To: <20190716101657.23327-3-paul.durrant@citrix.com>
Content-Language: en-GB
X-ClientProxiedBy: AMSPEX02CAS02.citrite.net (10.69.22.113) To
 AMSPEX02CL02.citrite.net (10.69.22.126)
Subject: Re: [Xen-devel] [PATCH v3 2/4] pci: add all-device iterator
 function...
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>, Tim
 Deegan <tim@xen.org>, Ian Jackson <ian.jackson@eu.citrix.com>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTYvMDcvMjAxOSAxMToxNiwgUGF1bCBEdXJyYW50IHdyb3RlOgo+IC4uLmFuZCB1c2UgaXQg
Zm9yIHNldHVwX2h3ZG9tX3BjaV9kZXZpY2VzKCkgYW5kIGR1bXBfcGNpX2RldmljZXMoKS4KPgo+
IFRoZSB1bmxvY2svcHJvY2Vzcy1wZW5kaW5nLXNvZnRpcnFzL2xvY2sgc2VxdWVuY2UgdGhhdCB3
YXMgaW4KPiBfc2V0dXBfaHdkb21fcGNpX2RldmljZXMoKSBpcyBub3cgZG9uZSBpbiB0aGUgZ2Vu
ZXJpYyBpdGVyYXRvciBmdW5jdGlvbiwKPiB3aGljaCBkb2VzIG1lYW4gaXQgaXMgYWxzbyBkb25l
ICh1bm5lY2Vzc2FyaWx5KSBpbiB0aGUgY2FzZSBvZgo+IGR1bXBfcGNpX2RldmljZXMoKSwgc2lu
Y2UgcnVuX2FsbF9ub25pcnFfa2V5aGFuZGxlcnMoKSB3aWxsIGNhbGwKPiBwcm9jZXNzX3BlbmRp
bmdfc29mdGlycXMoKSBiZWZvcmUgaW52b2tpbmcgZWFjaCBrZXkgaGFuZGxlciBhbnl3YXksIGJ1
dAo+IHRoaXMgaXMgbm90IHBlcmZvcm1hbmNlIGNyaXRpY2FsIGNvZGUuCj4KPiBUaGUgIj09PT0g
c2VnbWVudCBYWFhYID09PT0iIGhlYWRsaW5lIHRoYXQgd2FzIGluIF9kdW1wX3BjaV9kZXZpY2Vz
KCkgaGFzCj4gYmVlbiBkcm9wcGVkIGJlY2F1c2UgaXQgaXMgbm9uLXRyaXZpYWwgdG8gZGVhbCB3
aXRoIGl0IHdoZW4gdXNpbmcgYQo+IGdlbmVyaWMgYWxsLWRldmljZSBpdGVyYXRvciBhbmQsIHNp
bmNlIHRoZSBzZWdtZW50IG51bWJlciBpcyBpbmNsdWRlZAo+IGluIGV2ZXJ5IGxvZyBsaW5lIGFu
eXdheSwgaXQgZGlkbid0IGFkZCBtdWNoIHZhbHVlIGFueXdheS4KPgo+IFNpZ25lZC1vZmYtYnk6
IFBhdWwgRHVycmFudCA8cGF1bC5kdXJyYW50QGNpdHJpeC5jb20+Cj4gUmV2aWV3ZWQtYnk6ICJS
b2dlciBQYXUgTW9ubsOpIiA8cm9nZXIucGF1QGNpdHJpeC5jb20+Cj4gLS0tCj4gQ2M6IEphbiBC
ZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4KPiBDYzogQW5kcmV3IENvb3BlciA8YW5kcmV3LmNv
b3BlcjNAY2l0cml4LmNvbT4KPiBDYzogR2VvcmdlIER1bmxhcCA8R2VvcmdlLkR1bmxhcEBldS5j
aXRyaXguY29tPgo+IENjOiBJYW4gSmFja3NvbiA8aWFuLmphY2tzb25AZXUuY2l0cml4LmNvbT4K
PiBDYzogSnVsaWVuIEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KPiBDYzogS29ucmFkIFJ6
ZXN6dXRlayBXaWxrIDxrb25yYWQud2lsa0BvcmFjbGUuY29tPgo+IENjOiBTdGVmYW5vIFN0YWJl
bGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+Cj4gQ2M6IFRpbSBEZWVnYW4gPHRpbUB4ZW4u
b3JnPgo+IENjOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgo+Cj4gdjM6Cj4gIC0gQWRkcmVzc2VkIHJl
dmlldyBjb21tZW50cyBmcm9tIFJvZ2VyLgo+Cj4gdjI6Cj4gIC0gTmV3IGluIHYyLgo+IC0tLQo+
ICB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9wY2kuYyB8IDEyMSArKysrKysrKysrKysrKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0KPiAgeGVuL2luY2x1ZGUveGVuL3BjaS5oICAgICAgICAg
fCAgIDEgKwo+ICAyIGZpbGVzIGNoYW5nZWQsIDY5IGluc2VydGlvbnMoKyksIDUzIGRlbGV0aW9u
cygtKQo+Cj4gZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3BjaS5jIGIveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMKPiBpbmRleCBlODg2ODk0MjVkLi40YmI5OTk2MDQ5
IDEwMDY0NAo+IC0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL3BjaS5jCj4gKysrIGIveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvcGNpLmMKPiBAQCAtMTEzNCw2NCArMTEzNCw4NyBAQCBzdGF0
aWMgdm9pZCBfX2h3ZG9tX2luaXQgc2V0dXBfb25lX2h3ZG9tX2RldmljZShjb25zdCBzdHJ1Y3Qg
c2V0dXBfaHdkb20gKmN0eHQsCj4gICAgICAgICAgICAgICAgIGN0eHQtPmQtPmRvbWFpbl9pZCwg
ZXJyKTsKPiAgfQo+ICAKPiAtc3RhdGljIGludCBfX2h3ZG9tX2luaXQgX3NldHVwX2h3ZG9tX3Bj
aV9kZXZpY2VzKHN0cnVjdCBwY2lfc2VnICpwc2VnLCB2b2lkICphcmcpCj4gK3N0YXRpYyBpbnQg
X19od2RvbV9pbml0IHNldHVwX2h3ZG9tX3BjaV9kZXZpY2Uoc3RydWN0IHBjaV9kZXYgKnBkZXYs
IHZvaWQgKmFyZykKPiAgewo+ICAgICAgc3RydWN0IHNldHVwX2h3ZG9tICpjdHh0ID0gYXJnOwo+
IC0gICAgaW50IGJ1cywgZGV2Zm47Cj4gKyAgICBzdHJ1Y3QgZG9tYWluICpkID0gY3R4dC0+ZDsK
PiAgCj4gLSAgICBmb3IgKCBidXMgPSAwOyBidXMgPCAyNTY7IGJ1cysrICkKPiArICAgIGlmICgg
IXBkZXYtPmRvbWFpbiApCj4gKyAgICB7Cj4gKyAgICAgICAgcGRldi0+ZG9tYWluID0gZDsKPiAr
ICAgICAgICBsaXN0X2FkZCgmcGRldi0+ZG9tYWluX2xpc3QsICZkLT5wZGV2X2xpc3QpOwo+ICsg
ICAgICAgIHNldHVwX29uZV9od2RvbV9kZXZpY2UoY3R4dCwgcGRldik7Cj4gKyAgICB9Cj4gKyAg
ICBlbHNlIGlmICggcGRldi0+ZG9tYWluID09IGRvbV94ZW4gKQo+ICAgICAgewo+IC0gICAgICAg
IGZvciAoIGRldmZuID0gMDsgZGV2Zm4gPCAyNTY7IGRldmZuKysgKQo+ICsgICAgICAgIHBkZXYt
PmRvbWFpbiA9IGQ7Cj4gKyAgICAgICAgc2V0dXBfb25lX2h3ZG9tX2RldmljZShjdHh0LCBwZGV2
KTsKPiArICAgICAgICBwZGV2LT5kb21haW4gPSBkb21feGVuOwo+ICsgICAgfQo+ICsgICAgZWxz
ZSBpZiAoIHBkZXYtPmRvbWFpbiAhPSBkICkKPiArICAgICAgICBwcmludGsoWEVOTE9HX1dBUk5J
TkcgIkRvbSVwZCBvd25pbmcgJTA0eDolMDJ4OiUwMnguJXU/XG4iLAoKSnVzdCAlcGQuwqAgSXQg
dGFrZXMgY2FyZSBvZiByZW5kZXJpbmcgZCV1IG9yIGRbJG5hbWVdIGZvciBzeXN0ZW0gZG9tYWlu
cy4KCkNhbiBiZSBmaXhlZCBvbiBjb21taXQuCgo+ICsgICAgICAgICAgICAgICBwZGV2LT5kb21h
aW4sIHBkZXYtPnNlZywgcGRldi0+YnVzLCBQQ0lfU0xPVChwZGV2LT5kZXZmbiksCj4gKyAgICAg
ICAgICAgICAgIFBDSV9GVU5DKHBkZXYtPmRldmZuKSk7Cj4gKwo+ICsgICAgcmV0dXJuIDA7Cj4g
K30KPiArCj4gK3N0cnVjdCBwc2RpX2N0eHQgewo+ICsgICAgaW50ICgqY2IpKHN0cnVjdCBwY2lf
ZGV2ICosIHZvaWQgKik7Cj4gKyAgICB2b2lkICphcmc7Cj4gK307Cj4gKwo+ICtzdGF0aWMgaW50
IHBjaV9zZWdtZW50X2RldmljZXNfaXRlcmF0ZShzdHJ1Y3QgcGNpX3NlZyAqcHNlZywgdm9pZCAq
YXJnKQo+ICt7Cj4gKyAgICBzdHJ1Y3QgcHNkaV9jdHh0ICpjdHh0ID0gYXJnOwo+ICsgICAgdW5z
aWduZWQgaW50IGJ1cywgZGV2Zm47Cj4gKyAgICBpbnQgcmMgPSAwOwo+ICsKPiArICAgIC8qCj4g
KyAgICAgKiBXZSBkb24ndCBpdGVyYXRlIGJ5IHdhbGtpbmcgcHNlZy0+YWxsZGV2c19saXN0IGhl
cmUgYmVjYXVzZSB0aGF0Cj4gKyAgICAgKiB3b3VsZCBtYWtlIHRoZSBwY2lkZXZzX3VubG9jaygp
L2xvY2soKSBzZXF1ZW5jZSBiZWxvdyB1bnNhZmUuCj4gKyAgICAgKi8KPiArICAgIGZvciAoIGJ1
cyA9IDA7ICFyYyAmJiBidXMgPCAyNTY7IGJ1cysrICkKPiArICAgICAgICBmb3IgKCBkZXZmbiA9
IDA7ICFyYyAmJiBkZXZmbiA8IDI1NjsgZGV2Zm4rKyApCj4gICAgICAgICAgewo+ICAgICAgICAg
ICAgICBzdHJ1Y3QgcGNpX2RldiAqcGRldiA9IHBjaV9nZXRfcGRldihwc2VnLT5uciwgYnVzLCBk
ZXZmbik7Cj4gIAo+ICAgICAgICAgICAgICBpZiAoICFwZGV2ICkKPiAgICAgICAgICAgICAgICAg
IGNvbnRpbnVlOwo+ICAKPiAtICAgICAgICAgICAgaWYgKCAhcGRldi0+ZG9tYWluICkKPiAtICAg
ICAgICAgICAgewo+IC0gICAgICAgICAgICAgICAgcGRldi0+ZG9tYWluID0gY3R4dC0+ZDsKPiAt
ICAgICAgICAgICAgICAgIGxpc3RfYWRkKCZwZGV2LT5kb21haW5fbGlzdCwgJmN0eHQtPmQtPnBk
ZXZfbGlzdCk7Cj4gLSAgICAgICAgICAgICAgICBzZXR1cF9vbmVfaHdkb21fZGV2aWNlKGN0eHQs
IHBkZXYpOwo+IC0gICAgICAgICAgICB9Cj4gLSAgICAgICAgICAgIGVsc2UgaWYgKCBwZGV2LT5k
b21haW4gPT0gZG9tX3hlbiApCj4gLSAgICAgICAgICAgIHsKPiAtICAgICAgICAgICAgICAgIHBk
ZXYtPmRvbWFpbiA9IGN0eHQtPmQ7Cj4gLSAgICAgICAgICAgICAgICBzZXR1cF9vbmVfaHdkb21f
ZGV2aWNlKGN0eHQsIHBkZXYpOwo+IC0gICAgICAgICAgICAgICAgcGRldi0+ZG9tYWluID0gZG9t
X3hlbjsKPiAtICAgICAgICAgICAgfQo+IC0gICAgICAgICAgICBlbHNlIGlmICggcGRldi0+ZG9t
YWluICE9IGN0eHQtPmQgKQo+IC0gICAgICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19XQVJOSU5H
ICJEb20lZCBvd25pbmcgJTA0eDolMDJ4OiUwMnguJXU/XG4iLAo+IC0gICAgICAgICAgICAgICAg
ICAgICAgIHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkLCBwc2VnLT5uciwgYnVzLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgIFBDSV9TTE9UKGRldmZuKSwgUENJX0ZVTkMoZGV2Zm4pKTsKPiAtCj4g
LSAgICAgICAgICAgIGlmICggaW9tbXVfdmVyYm9zZSApCj4gLSAgICAgICAgICAgIHsKPiAtICAg
ICAgICAgICAgICAgIHBjaWRldnNfdW5sb2NrKCk7Cj4gLSAgICAgICAgICAgICAgICBwcm9jZXNz
X3BlbmRpbmdfc29mdGlycXMoKTsKPiAtICAgICAgICAgICAgICAgIHBjaWRldnNfbG9jaygpOwo+
IC0gICAgICAgICAgICB9Cj4gLSAgICAgICAgfQo+ICsgICAgICAgICAgICByYyA9IGN0eHQtPmNi
KHBkZXYsIGN0eHQtPmFyZyk7Cj4gIAo+IC0gICAgICAgIGlmICggIWlvbW11X3ZlcmJvc2UgKQo+
IC0gICAgICAgIHsKPiArICAgICAgICAgICAgLyoKPiArICAgICAgICAgICAgICogRXJyIG9uIHRo
ZSBzYWZlIHNpZGUgYW5kIGFzc3VtZSB0aGUgY2FsbGJhY2sgaGFzIHRha2VuCj4gKyAgICAgICAg
ICAgICAqIGEgc2lnbmlmaWNhbnQgYW1vdW50IG9mIHRpbWUuCj4gKyAgICAgICAgICAgICAqLwo+
ICAgICAgICAgICAgICBwY2lkZXZzX3VubG9jaygpOwo+ICAgICAgICAgICAgICBwcm9jZXNzX3Bl
bmRpbmdfc29mdGlycXMoKTsKPiAgICAgICAgICAgICAgcGNpZGV2c19sb2NrKCk7Cj4gICAgICAg
ICAgfQo+IC0gICAgfQo+ICAKPiAtICAgIHJldHVybiAwOwo+ICsgICAgcmV0dXJuIHJjOwo+ICt9
Cj4gKwo+ICtpbnQgcGNpX3BkZXZzX2l0ZXJhdGUoaW50ICgqY2IpKHN0cnVjdCBwY2lfZGV2ICos
IHZvaWQgKiksIHZvaWQgKmFyZykKPiArewo+ICsgICAgc3RydWN0IHBzZGlfY3R4dCBjdHh0ID0g
eyAuY2IgPSBjYiwgLmFyZyA9IGFyZyB9Owo+ICsgICAgaW50IHJjOwo+ICsKPiArICAgIHBjaWRl
dnNfbG9jaygpOwo+ICsgICAgcmMgPSBwY2lfc2VnbWVudHNfaXRlcmF0ZShwY2lfc2VnbWVudF9k
ZXZpY2VzX2l0ZXJhdGUsICZjdHh0KTsKPiArICAgIHBjaWRldnNfdW5sb2NrKCk7Cj4gKwo+ICsg
ICAgcmV0dXJuIHJjOwo+ICB9Cj4gIAo+ICB2b2lkIF9faHdkb21faW5pdCBzZXR1cF9od2RvbV9w
Y2lfZGV2aWNlcygKPiAgICAgIHN0cnVjdCBkb21haW4gKmQsIGludCAoKmhhbmRsZXIpKHU4IGRl
dmZuLCBzdHJ1Y3QgcGNpX2RldiAqKSkKPiAgewo+ICAgICAgc3RydWN0IHNldHVwX2h3ZG9tIGN0
eHQgPSB7IC5kID0gZCwgLmhhbmRsZXIgPSBoYW5kbGVyIH07Cj4gKyAgICBpbnQgcmMgPSBwY2lf
cGRldnNfaXRlcmF0ZShzZXR1cF9od2RvbV9wY2lfZGV2aWNlLCAmY3R4dCk7Cj4gIAo+IC0gICAg
cGNpZGV2c19sb2NrKCk7Cj4gLSAgICBwY2lfc2VnbWVudHNfaXRlcmF0ZShfc2V0dXBfaHdkb21f
cGNpX2RldmljZXMsICZjdHh0KTsKPiAtICAgIHBjaWRldnNfdW5sb2NrKCk7Cj4gKyAgICBBU1NF
UlQoIXJjKTsKPiAgfQo+ICAKPiAgI2lmZGVmIENPTkZJR19BQ1BJCj4gQEAgLTEyOTQsMjQgKzEz
MTcsMTggQEAgYm9vbF90IHBjaWVfYWVyX2dldF9maXJtd2FyZV9maXJzdChjb25zdCBzdHJ1Y3Qg
cGNpX2RldiAqcGRldikKPiAgfQo+ICAjZW5kaWYKPiAgCj4gLXN0YXRpYyBpbnQgX2R1bXBfcGNp
X2RldmljZXMoc3RydWN0IHBjaV9zZWcgKnBzZWcsIHZvaWQgKmFyZykKPiArc3RhdGljIGludCBk
dW1wX3BjaV9kZXZpY2Uoc3RydWN0IHBjaV9kZXYgKnBkZXYsIHZvaWQgKmFyZykKPiAgewo+IC0g
ICAgc3RydWN0IHBjaV9kZXYgKnBkZXY7Cj4gICAgICBzdHJ1Y3QgbXNpX2Rlc2MgKm1zaTsKPiAg
Cj4gLSAgICBwcmludGsoIj09PT0gc2VnbWVudCAlMDR4ID09PT1cbiIsIHBzZWctPm5yKTsKPiAt
Cj4gLSAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5ICggcGRldiwgJnBzZWctPmFsbGRldnNfbGlzdCwg
YWxsZGV2c19saXN0ICkKPiAtICAgIHsKPiAtICAgICAgICBwcmludGsoIiUwNHg6JTAyeDolMDJ4
LiV1IC0gZG9tICUtM2QgLSBub2RlICUtM2QgLSBNU0lzIDwgIiwKPiAtICAgICAgICAgICAgICAg
cHNlZy0+bnIsIHBkZXYtPmJ1cywKPiAtICAgICAgICAgICAgICAgUENJX1NMT1QocGRldi0+ZGV2
Zm4pLCBQQ0lfRlVOQyhwZGV2LT5kZXZmbiksCj4gLSAgICAgICAgICAgICAgIHBkZXYtPmRvbWFp
biA/IHBkZXYtPmRvbWFpbi0+ZG9tYWluX2lkIDogLTEsCj4gLSAgICAgICAgICAgICAgIChwZGV2
LT5ub2RlICE9IE5VTUFfTk9fTk9ERSkgPyBwZGV2LT5ub2RlIDogLTEpOwo+IC0gICAgICAgIGxp
c3RfZm9yX2VhY2hfZW50cnkgKCBtc2ksICZwZGV2LT5tc2lfbGlzdCwgbGlzdCApCj4gLSAgICAg
ICAgICAgICAgIHByaW50aygiJWQgIiwgbXNpLT5pcnEpOwo+IC0gICAgICAgIHByaW50aygiPlxu
Iik7Cj4gLSAgICB9Cj4gKyAgICBwcmludGsoIiUwNHg6JTAyeDolMDJ4LiV1IC0gZG9tICUtM2Qg
LSBub2RlICUtM2QgLSBNU0lzIDwgIiwKPiArICAgICAgICAgICBwZGV2LT5zZWcsIHBkZXYtPmJ1
cywgUENJX1NMT1QocGRldi0+ZGV2Zm4pLAo+ICsgICAgICAgICAgIFBDSV9GVU5DKHBkZXYtPmRl
dmZuKSwKPiArICAgICAgICAgICBwZGV2LT5kb21haW4gPyBwZGV2LT5kb21haW4tPmRvbWFpbl9p
ZCA6IC0xLAo+ICsgICAgICAgICAgIChwZGV2LT5ub2RlICE9IE5VTUFfTk9fTk9ERSkgPyBwZGV2
LT5ub2RlIDogLTEpOwo+ICsgICAgbGlzdF9mb3JfZWFjaF9lbnRyeSAoIG1zaSwgJnBkZXYtPm1z
aV9saXN0LCBsaXN0ICkKPiArICAgICAgICBwcmludGsoIiVkICIsIG1zaS0+aXJxKTsKCkkga25v
dyB5b3UncmUganVzdCBjb3B5aW5nIHRoZSBleGlzdGluZyBjb2RlLCBidXQgdGhpcyB3b3VsZCBi
ZSBiZXR0ZXIKdG8gc3RyaXAgdGhlIHNwYWNlIGFmdGVyIHRoZSA8LCBhbmQgdXNlICIgJWQiIGhl
cmUsIHdoaWNoIHdpbGwgZHJvcCB0aGUKZmluYWwgc3BhY2UgYmVmb3JlIHRoZSA+IGluIHRoZSBl
dmVudHVhbCBvdXRwdXQuCgpBZ2FpbiwgY2FuIGJlIGZpeGVkIG9uIGNvbW1pdC4KCn5BbmRyZXcK
Cj4gKyAgICBwcmludGsoIj5cbiIpOwo+ICAKPiAgICAgIHJldHVybiAwOwo+ICB9Cj4gQEAgLTEz
MTksOSArMTMzNiw3IEBAIHN0YXRpYyBpbnQgX2R1bXBfcGNpX2RldmljZXMoc3RydWN0IHBjaV9z
ZWcgKnBzZWcsIHZvaWQgKmFyZykKPiAgc3RhdGljIHZvaWQgZHVtcF9wY2lfZGV2aWNlcyh1bnNp
Z25lZCBjaGFyIGNoKQo+ICB7Cj4gICAgICBwcmludGsoIj09PT0gUENJIGRldmljZXMgPT09PVxu
Iik7Cj4gLSAgICBwY2lkZXZzX2xvY2soKTsKPiAtICAgIHBjaV9zZWdtZW50c19pdGVyYXRlKF9k
dW1wX3BjaV9kZXZpY2VzLCBOVUxMKTsKPiAtICAgIHBjaWRldnNfdW5sb2NrKCk7Cj4gKyAgICBw
Y2lfcGRldnNfaXRlcmF0ZShkdW1wX3BjaV9kZXZpY2UsIE5VTEwpOwo+ICB9Cj4gIAo+ICBzdGF0
aWMgaW50IF9faW5pdCBzZXR1cF9kdW1wX3BjaWRldnModm9pZCkKPiBkaWZmIC0tZ2l0IGEveGVu
L2luY2x1ZGUveGVuL3BjaS5oIGIveGVuL2luY2x1ZGUveGVuL3BjaS5oCj4gaW5kZXggMDRhOWY0
NmNjMy4uNzllYjI1NDE3YiAxMDA2NDQKPiAtLS0gYS94ZW4vaW5jbHVkZS94ZW4vcGNpLmgKPiAr
KysgYi94ZW4vaW5jbHVkZS94ZW4vcGNpLmgKPiBAQCAtMTU0LDYgKzE1NCw3IEBAIGludCBmaW5k
X3Vwc3RyZWFtX2JyaWRnZSh1MTYgc2VnLCB1OCAqYnVzLCB1OCAqZGV2Zm4sIHU4ICpzZWNidXMp
Owo+ICBzdHJ1Y3QgcGNpX2RldiAqcGNpX2xvY2tfcGRldihpbnQgc2VnLCBpbnQgYnVzLCBpbnQg
ZGV2Zm4pOwo+ICBzdHJ1Y3QgcGNpX2RldiAqcGNpX2xvY2tfZG9tYWluX3BkZXYoCj4gICAgICBz
dHJ1Y3QgZG9tYWluICosIGludCBzZWcsIGludCBidXMsIGludCBkZXZmbik7Cj4gK2ludCBwY2lf
cGRldnNfaXRlcmF0ZShpbnQgKCpjYikoc3RydWN0IHBjaV9kZXYgKiwgdm9pZCAqKSwgdm9pZCAq
YXJnKTsKPiAgCj4gIHZvaWQgc2V0dXBfaHdkb21fcGNpX2RldmljZXMoc3RydWN0IGRvbWFpbiAq
LAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ICgqKSh1OCBkZXZmbiwgc3RydWN0
IHBjaV9kZXYgKikpOwoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qu
b3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2
ZWw=

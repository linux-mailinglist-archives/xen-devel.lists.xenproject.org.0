Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id B604CD8055
	for <lists+xen-devel@lfdr.de>; Tue, 15 Oct 2019 21:31:16 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iKSV2-0004l5-5c; Tue, 15 Oct 2019 19:28:52 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=yms0=YI=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iKSV0-0004kq-5l
 for xen-devel@lists.xenproject.org; Tue, 15 Oct 2019 19:28:50 +0000
X-Inumbo-ID: 03707fd2-ef82-11e9-beca-bc764e2007e4
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 03707fd2-ef82-11e9-beca-bc764e2007e4;
 Tue, 15 Oct 2019 19:28:49 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id DB0ED20854;
 Tue, 15 Oct 2019 19:28:48 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1571167729;
 bh=6qs6nIo8RiVVqSN6RB8PELBIdl/RK+o3nc1m7a4XHTs=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=i7K4mjcyjL02gAipQ8w6VzGZmu30W27pxr8cI6R8BFGRGhxOprONyAlct/0Gp3Jh5
 /FHQxK7PPrb2YL2LWHpZ5tbbOIlCaNRplJMPX9gf6nEKOST6pK7djha+o9E2AlPiox
 2JT3lkfNzIqbf/aNY86e/ZNksYJwOpS2LAu0c/wI=
Date: Tue, 15 Oct 2019 12:28:48 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20191015191610.28680-1-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1910151217020.30080@sstabellini-ThinkPad-T480s>
References: <20191015191610.28680-1-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH for-4.13 v3] xen/arm: mm: Allow generic xen
 page-tables helpers to be called early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: jgross@suse.com, xen-devel@lists.xenproject.org,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVHVlLCAxNSBPY3QgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IFRoZSBjdXJyZW50IGlt
cGxlbWVudGF0aW9ucyBvZiB4ZW5fe21hcCwgdW5tYXB9X3RhYmxlKCkgZXhwZWN0Cj4ge21hcCwg
dW5tYXB9X2RvbWFpbl9wYWdlKCkgdG8gYmUgdXNhYmxlLiBUaG9zZSBoZWxwZXJzIGFyZSB1c2Vk
IHRvCj4gbWFwL3VubWFwIHBhZ2UgdGFibGVzIHdoaWxlIHVwZGF0ZSBYZW4gcGFnZS10YWJsZXMu
Cj4gCj4gU2luY2UgY29tbWl0IDAyMjM4N2VlMWEgInhlbi9hcm06IG1tOiBEb24ndCBvcGVuLWNv
ZGUgWGVuIFBUIHVwZGF0ZSBpbgo+IHtzZXQsIGNsZWFyfV9maXhtYXAoKSIsIHNldHVwX2ZpeG1h
cCgpIHdpbGwgbWFrZSB1c2Ugb2YgdGhlIGhlbHBlcnMKPiBtZW50aW9uZWQgYWJvdmUuIFdoZW4g
Ym9vdGluZyBYZW4gdXNpbmcgR1JVQiwgc2V0dXBfZml4bWFwKCkgbWF5IGJlIHVzZWQKPiBiZWZv
cmUgbWFwX2RvbWFpbl9wYWdlKCkgY2FuIGJlIGNhbGxlZC4gVGhpcyB3aWxsIHJlc3VsdCB0byBk
YXRhIGFib3J0Ogo+IAo+IChYRU4pIERhdGEgQWJvcnQgVHJhcC4gU3luZHJvbWU9MHg1Cj4gKFhF
TikgQ1BVMDogVW5leHBlY3RlZCBUcmFwOiBEYXRhIEFib3J0Cj4gCj4gWy4uLl0KPiAKPiAoWEVO
KSBYZW4gY2FsbCB0cmFjZToKPiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyNWFiNmM+XSBtbS5jI3hl
bl9wdF91cGRhdGUrMHgyYjQvMHg1OWMgKFBDKQo+IChYRU4pICAgIFs8MDAwMDAwMDAwMDI1YWIy
MD5dIG1tLmMjeGVuX3B0X3VwZGF0ZSsweDI2OC8weDU5YyAoTFIpCj4gKFhFTikgICAgWzwwMDAw
MDAwMDAwMjVhZTcwPl0gc2V0X2ZpeG1hcCsweDFjLzB4MmMKPiAoWEVOKSAgICBbPDAwMDAwMDAw
MDAyYTljOTg+XSBjb3B5X2Zyb21fcGFkZHIrMHg3Yy8weGRjCj4gKFhFTikgICAgWzwwMDAwMDAw
MDAwMmE0YWUwPl0gaGFzX3hzbV9tYWdpYysweDE4LzB4MzQKPiAoWEVOKSAgICBbPDAwMDAwMDAw
MDAyYTViNWM+XSBib290ZmR0LmMjZWFybHlfc2Nhbl9ub2RlKzB4Mzk4LzB4NTYwCj4gKFhFTikg
ICAgWzwwMDAwMDAwMDAwMmE1ZGUwPl0gZGV2aWNlX3RyZWVfZm9yX2VhY2hfbm9kZSsweGJjLzB4
MTQ0Cj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmE1ZWQ0Pl0gYm9vdF9mZHRfaW5mbysweDZjLzB4
MjYwCj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmFjMGQwPl0gc3RhcnRfeGVuKzB4MTA4LzB4Yzc0
Cj4gKFhFTikgICAgWzwwMDAwMDAwMDAwMjAwNDRjPl0gYXJtNjQvaGVhZC5vI3BhZ2luZysweDYw
LzB4ODgKPiAKPiBEdXJpbmcgZWFybHkgYm9vdCwgdGhlIHBhZ2UgdGFibGVzIGFyZSBlaXRoZXIg
c3RhdGljYWxseSBhbGxvY2F0ZWQgaW4KPiBYZW4gYmluYXJ5IG9yIGFsbG9jYXRlZCB2aWEgYWxs
b2NfYm9vdF9wYWdlcygpLgo+IAo+IEZvciBzdGF0aWNhbGx5IGFsbG9jYXRlZCBwYWdlLXRhYmxl
cywgdGhleSB3aWxsIGFscmVhZHkgYmUgbWFwcGVkIGFzCj4gcGFydCBvZiBYZW4gYmluYXJ5LiBT
byB3ZSBjYW4gZWFzaWx5IGZpbmQgdGhlIHZpcnR1YWwgYWRkcmVzcy4KPiAKPiBGb3IgZHluYW1p
Y2FsbHkgYWxsb2NhdGVkIHBhZ2UtdGFibGVzLCB3ZSBuZWVkIHRvIHJlbHkKPiBtYXBfZG9tYWlu
X3BhZ2UoKSB0byBiZSBmdW5jdGlvbmFsbHkgd29ya2luZy4KPiAKPiBGb3IgYXJtMzIsIHRoZSBj
YWxsIHdpbGwgYmUgdXNhYmxlIG11Y2ggYmVmb3JlIHBhZ2UgY2FuIGJlIGR5bmFtaWNhbGx5Cj4g
YWxsb2NhdGVkIChzZWUgc2V0dXBfcGFnZXRhYmxlcygpKS4gRm9yIGFybTY0LCB0aGUgY2FsbCB3
aWxsIGJlIHVzYWJsZQo+IGFmdGVyIHNldHVwX3hlbmhlYXBfbWFwcGluZ3MoKS4KPiAKPiBJbiBi
b3RoIGNhc2VzLCBtZW1vcnkgYXJlIGdpdmVuIHRvIHRoZSBib290IGFsbG9jYXRvciBhZnRlcndh
cmRzLiBTbyB3ZQo+IGNhbiByZWx5IG9uIG1hcF9kb21haW5fcGFnZSgpIGZvciBtYXBwaW5nIHBh
Z2UgdGFibGVzIGFsbG9jYXRlZAo+IGR5bmFtaWNhbGx5Lgo+IAo+IFRoZSBoZWxwZXJzIHhlbl97
bWFwLCB1bm1hcH1fdGFibGUoKSBhcmUgbm93IHVwZGF0ZWQgdG8gdGFrZSBpbnRvCj4gYWNjb3Vu
dCB0aGUgY2FzZSB3aGVyZSBwYWdlLXRhYmxlcyBhcmUgcGFydCBvZiBYZW4gYmluYXJ5Lgo+IAo+
IEZpeGVzOiAwMjIzODdlZTFhICgneGVuL2FybTogbW06IERvbid0IG9wZW4tY29kZSBYZW4gUFQg
dXBkYXRlIGluIHtzZXQsIGNsZWFyfV9maXhtYXAoKScpCj4gU2lnbmVkLW9mZi1ieTogSnVsaWVu
IEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KPiBSZWxlYXNlLWFja2VkLWJ5OiBKdWVyZ2Vu
IEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+CgpSZXZpZXdlZC1ieTogU3RlZmFubyBTdGFiZWxsaW5p
IDxzc3RhYmVsbGluaUBrZXJuZWwub3JnPgoKCj4gLS0tCj4gICAgIENoYW5nZXMgaW4gdjM6Cj4g
ICAgICAgICAtIFVzZSBpc194ZW5fZml4ZWRfbWZuCj4gICAgICAgICAtIEFkZCBhIGNvbW1lbnQg
YWJvdXQgZGVtb3RpbmcgdGhlIHR5cGUuCj4gCj4gICAgIENoYW5nZXMgaW4gdjI6Cj4gICAgICAg
ICAtIEFkZCBSYUIgSnVlcmdlbgo+ICAgICAgICAgLSBSZXdvcmsgdGhlIGNoZWNrIHRvIGF2b2lk
IHRydW5jYXRpb24KPiAKPiAgICAgTm90ZSB0aGlzIHBhdGNoIHJlbGllcyBvbiBpc194ZW5fZml4
ZWRfbWZuIHRvIGJlIGNvcnJlY3QgKHNlZSBbMV0pLgo+IAo+ICAgICBbMV0gaHR0cHM6Ly9saXN0
cy54ZW4ub3JnL2FyY2hpdmVzL2h0bWwveGVuLWRldmVsLzIwMTktMTAvbXNnMDExMzguaHRtbAo+
IC0tLQo+ICB4ZW4vYXJjaC9hcm0vbW0uYyB8IDMwICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKwo+ICAxIGZpbGUgY2hhbmdlZCwgMzAgaW5zZXJ0aW9ucygrKQo+IAo+IGRpZmYgLS1naXQg
YS94ZW4vYXJjaC9hcm0vbW0uYyBiL3hlbi9hcmNoL2FybS9tbS5jCj4gaW5kZXggYmUyM2FjZmUy
Ni4uNDUxNGJjNmJiMCAxMDA2NDQKPiAtLS0gYS94ZW4vYXJjaC9hcm0vbW0uYwo+ICsrKyBiL3hl
bi9hcmNoL2FybS9tbS5jCj4gQEAgLTk2NCwxMSArOTY0LDQxIEBAIHN0YXRpYyBpbnQgY3JlYXRl
X3hlbl90YWJsZShscGFlX3QgKmVudHJ5KQo+ICAKPiAgc3RhdGljIGxwYWVfdCAqeGVuX21hcF90
YWJsZShtZm5fdCBtZm4pCj4gIHsKPiArICAgIC8qCj4gKyAgICAgKiBXZSBtYXkgcmVxdWlyZSB0
byBtYXAgdGhlIHBhZ2UgdGFibGUgYmVmb3JlIG1hcF9kb21haW5fcGFnZSgpIGlzCj4gKyAgICAg
KiB1c2VhYmxlLiBUaGUgcmVxdWlyZW1lbnRzIGhlcmUgaXMgaXQgbXVzdCBiZSB1c2VhYmxlIGFz
IHNvb24gYXMKPiArICAgICAqIHBhZ2UtdGFibGVzIGFyZSBhbGxvY2F0ZWQgZHluYW1pY2FsbHkg
dmlhIGFsbG9jX2Jvb3RfcGFnZXMoKS4KPiArICAgICAqCj4gKyAgICAgKiBXZSBuZWVkIHRvIGRv
IHRoZSBjaGVjayBvbiBwaHlzaWNhbCBhZGRyZXNzIHJhdGhlciB0aGFuIHZpcnR1YWwKPiArICAg
ICAqIGFkZHJlc3MgdG8gYXZvaWQgdHJ1bmNhdGlvbiBvbiBBcm0zMi4gVGhlcmVmb3JlIGlzX2tl
cm5lbCgpIGNhbm5vdAo+ICsgICAgICogYmUgdXNlZC4KPiArICAgICAqLwo+ICsgICAgaWYgKCBz
eXN0ZW1fc3RhdGUgPT0gU1lTX1NUQVRFX2Vhcmx5X2Jvb3QgKQo+ICsgICAgewo+ICsgICAgICAg
IGlmICggaXNfeGVuX2ZpeGVkX21mbihtZm4pICkKPiArICAgICAgICB7Cj4gKyAgICAgICAgICAg
IC8qCj4gKyAgICAgICAgICAgICAqIEl0IGlzIGZpbmUgdG8gZGVtb3RlIHRoZSB0eXBlIGJlY2F1
c2UgdGhlIHNpemUgb2YgWGVuCj4gKyAgICAgICAgICAgICAqIHdpbGwgYWx3YXlzIGZpdCBpbiB2
YWRkcl90Lgo+ICsgICAgICAgICAgICAgKi8KPiArICAgICAgICAgICAgdmFkZHJfdCBvZmZzZXQg
PSBtZm5fdG9fbWFkZHIobWZuKSAtIHZpcnRfdG9fbWFkZHIoJl9zdGFydCk7Cj4gKwo+ICsgICAg
ICAgICAgICByZXR1cm4gKGxwYWVfdCAqKShYRU5fVklSVF9TVEFSVCArIG9mZnNldCk7Cj4gKyAg
ICAgICAgfQo+ICsgICAgfQo+ICsKPiAgICAgIHJldHVybiBtYXBfZG9tYWluX3BhZ2UobWZuKTsK
PiAgfQo+ICAKPiAgc3RhdGljIHZvaWQgeGVuX3VubWFwX3RhYmxlKGNvbnN0IGxwYWVfdCAqdGFi
bGUpCj4gIHsKPiArICAgIC8qCj4gKyAgICAgKiBEdXJpbmcgZWFybHkgYm9vdCwgeGVuX21hcF90
YWJsZSgpIHdpbGwgbm90IHVzZSBtYXBfZG9tYWluX3BhZ2UoKQo+ICsgICAgICogZm9yIHBhZ2Ut
dGFibGVzIHJlc2lkaW5nIGluIFhlbiBiaW5hcnkuIFNvIHNraXAgdGhlIHVubWFwIHBhcnQuCj4g
KyAgICAgKi8KPiArICAgIGlmICggc3lzdGVtX3N0YXRlID09IFNZU19TVEFURV9lYXJseV9ib290
ICYmIGlzX2tlcm5lbCh0YWJsZSkgKQo+ICsgICAgICAgIHJldHVybjsKPiArCj4gICAgICB1bm1h
cF9kb21haW5fcGFnZSh0YWJsZSk7Cj4gIH0KPiAgCj4gLS0gCj4gMi4xMS4wCj4gCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGlu
ZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnBy
b2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

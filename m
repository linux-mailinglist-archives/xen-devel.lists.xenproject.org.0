Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3DFD2170979
	for <lists+xen-devel@lfdr.de>; Wed, 26 Feb 2020 21:25:13 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j73CU-0003jf-QX; Wed, 26 Feb 2020 20:22:34 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=dr0i=4O=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1j73CT-0003jE-HV
 for xen-devel@lists.xenproject.org; Wed, 26 Feb 2020 20:22:33 +0000
X-Inumbo-ID: b58023a0-58d5-11ea-aba8-bc764e2007e4
Received: from esa6.hc3370-68.iphmx.com (unknown [216.71.155.175])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id b58023a0-58d5-11ea-aba8-bc764e2007e4;
 Wed, 26 Feb 2020 20:22:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1582748548;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=dq09f6IQNB5lfMnrAuTuyNDc3XCBHoDzUrB9JPOM2b4=;
 b=esI4UTu7JAhc3Rzg2jJOArLJfzE8ZAenUPgOFP2p7L+ZTshEE5EmrMYQ
 LMIVuBHnfJGw9ndc6fGfiYwrT44QcxqgaOCWAmZmI2jb56RekWya/CUE7
 xcsWO44XnA0ODPPpp8OJjMCZtYTTxdsP7WCpKVDyG7zU9E65MGLKPbRlM c=;
Authentication-Results: esa6.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa6.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83
 ip4:168.245.78.127 ~all"
Received-SPF: None (esa6.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa6.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: YU14lgep6DCZjxl/Ho/WAS2tWbFyWXi49jhPdg+wkVhZloXWfqCzmMJAjUHgbq3mzlxL7wjBwn
 +nWxg6iu3itTQjmKmVez8d69T9GjExOF58/8q70GhNSAfk7xQpI+D4iLQBBqHMJbCcGz3j2jG9
 46c2sPCWZGjgZLthwh3ohJ9Kvh5Cr6n2I2yL8nl/ZbRKo/9BMDnXhS4zHW7OsWS0yg2m47MlN+
 iXk3NIZwH6VKpWQTrYVAJzhtsfWXdLfK5sY92pA+kX7IVRr/VYwUSrSZBbfKdWdP0WYXqAkUZ1
 J6A=
X-SBRS: 2.7
X-MesageID: 13496571
X-Ironport-Server: esa6.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.70,489,1574139600"; d="scan'208";a="13496571"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Wed, 26 Feb 2020 20:22:15 +0000
Message-ID: <20200226202221.6555-5-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20200226202221.6555-1-andrew.cooper3@citrix.com>
References: <20200226202221.6555-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 04/10] x86/gen-cpuid: Create max and default
 variations of INIT_*_FEATURES
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>, Wei Liu <wl@xen.org>,
 Jan Beulich <JBeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

Rm9yIG5vdywgd3JpdGUgdGhlIHNhbWUgY29udGVudCBmb3IgYm90aC4gIFVwZGF0ZSB0aGUgdXNl
cnMgb2YgdGhlCmluaXRpYWxpc2VycyB0byB1c2UgdGhlIG5ldyBuYW1lLCBhbmQgZXh0ZW5kIHhl
bi1jcHVpZCB0byBkdW1wIGJvdGggZGVmYXVsdAphbmQgbWF4IGZlYXR1cmVzZXRzLgoKU2lnbmVk
LW9mZi1ieTogQW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3BlcjNAY2l0cml4LmNvbT4KLS0tCkND
OiBKYW4gQmV1bGljaCA8SkJldWxpY2hAc3VzZS5jb20+CkNDOiBXZWkgTGl1IDx3bEB4ZW4ub3Jn
PgpDQzogUm9nZXIgUGF1IE1vbm7DqSA8cm9nZXIucGF1QGNpdHJpeC5jb20+Ci0tLQogdG9vbHMv
bGlieGMvaW5jbHVkZS94ZW5jdHJsLmggfCAgOSArKysrKystLS0KIHRvb2xzL2xpYnhjL3hjX2Nw
dWlkX3g4Ni5jICAgIHwgIDkgKysrKysrLS0tCiB0b29scy9taXNjL3hlbi1jcHVpZC5jICAgICAg
ICB8IDE4ICsrKysrKysrKysrKy0tLS0tLQogeGVuL2FyY2gveDg2L2NwdWlkLmMgICAgICAgICAg
fCAyMCArKysrKysrKysrLS0tLS0tLS0tLQogeGVuL3Rvb2xzL2dlbi1jcHVpZC5weSAgICAgICAg
fCA0MCArKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tCiA1IGZpbGVzIGNo
YW5nZWQsIDYyIGluc2VydGlvbnMoKyksIDM0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3Rv
b2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJs
LmgKaW5kZXggZGVjM2M1ZGUyYi4uZmM2ZTU3YTFhMCAxMDA2NDQKLS0tIGEvdG9vbHMvbGlieGMv
aW5jbHVkZS94ZW5jdHJsLmgKKysrIGIvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgKQEAg
LTI0ODUsOSArMjQ4NSwxMiBAQCB1aW50MzJfdCB4Y19nZXRfY3B1X2ZlYXR1cmVzZXRfc2l6ZSh2
b2lkKTsKIGVudW0geGNfc3RhdGljX2NwdV9mZWF0dXJlbWFzayB7CiAgICAgWENfRkVBVFVSRU1B
U0tfS05PV04sCiAgICAgWENfRkVBVFVSRU1BU0tfU1BFQ0lBTCwKLSAgICBYQ19GRUFUVVJFTUFT
S19QViwKLSAgICBYQ19GRUFUVVJFTUFTS19IVk1fU0hBRE9XLAotICAgIFhDX0ZFQVRVUkVNQVNL
X0hWTV9IQVAsCisgICAgWENfRkVBVFVSRU1BU0tfUFZfTUFYLAorICAgIFhDX0ZFQVRVUkVNQVNL
X1BWX0RFRiwKKyAgICBYQ19GRUFUVVJFTUFTS19IVk1fU0hBRE9XX01BWCwKKyAgICBYQ19GRUFU
VVJFTUFTS19IVk1fU0hBRE9XX0RFRiwKKyAgICBYQ19GRUFUVVJFTUFTS19IVk1fSEFQX01BWCwK
KyAgICBYQ19GRUFUVVJFTUFTS19IVk1fSEFQX0RFRiwKIH07CiBjb25zdCB1aW50MzJfdCAqeGNf
Z2V0X3N0YXRpY19jcHVfZmVhdHVyZW1hc2soZW51bSB4Y19zdGF0aWNfY3B1X2ZlYXR1cmVtYXNr
KTsKIApkaWZmIC0tZ2l0IGEvdG9vbHMvbGlieGMveGNfY3B1aWRfeDg2LmMgYi90b29scy9saWJ4
Yy94Y19jcHVpZF94ODYuYwppbmRleCA1M2NiNzI0MzhhLi5jMmVhMGRiMjVjIDEwMDY0NAotLS0g
YS90b29scy9saWJ4Yy94Y19jcHVpZF94ODYuYworKysgYi90b29scy9saWJ4Yy94Y19jcHVpZF94
ODYuYwpAQCAtOTUsOSArOTUsMTIgQEAgY29uc3QgdWludDMyX3QgKnhjX2dldF9zdGF0aWNfY3B1
X2ZlYXR1cmVtYXNrKAogCiAgICAgICAgIE1BU0soS05PV04pLAogICAgICAgICBNQVNLKFNQRUNJ
QUwpLAotICAgICAgICBNQVNLKFBWKSwKLSAgICAgICAgTUFTSyhIVk1fU0hBRE9XKSwKLSAgICAg
ICAgTUFTSyhIVk1fSEFQKSwKKyAgICAgICAgTUFTSyhQVl9NQVgpLAorICAgICAgICBNQVNLKFBW
X0RFRiksCisgICAgICAgIE1BU0soSFZNX1NIQURPV19NQVgpLAorICAgICAgICBNQVNLKEhWTV9T
SEFET1dfREVGKSwKKyAgICAgICAgTUFTSyhIVk1fSEFQX01BWCksCisgICAgICAgIE1BU0soSFZN
X0hBUF9ERUYpLAogCiAjdW5kZWYgTUFTSwogICAgIH07CmRpZmYgLS1naXQgYS90b29scy9taXNj
L3hlbi1jcHVpZC5jIGIvdG9vbHMvbWlzYy94ZW4tY3B1aWQuYwppbmRleCAzNmMxN2JmNzc3Li41
ODViNTMwYjIxIDEwMDY0NAotLS0gYS90b29scy9taXNjL3hlbi1jcHVpZC5jCisrKyBiL3Rvb2xz
L21pc2MveGVuLWNwdWlkLmMKQEAgLTI4MywxMiArMjgzLDE4IEBAIHN0YXRpYyB2b2lkIGR1bXBf
aW5mbyh4Y19pbnRlcmZhY2UgKnhjaCwgYm9vbCBkZXRhaWwpCiAgICAgICAgICAgICAgICAgICAg
ICAgbnJfZmVhdHVyZXMsICJLbm93biIsIGRldGFpbCk7CiAgICAgZGVjb2RlX2ZlYXR1cmVzZXQo
eGNfZ2V0X3N0YXRpY19jcHVfZmVhdHVyZW1hc2soWENfRkVBVFVSRU1BU0tfU1BFQ0lBTCksCiAg
ICAgICAgICAgICAgICAgICAgICAgbnJfZmVhdHVyZXMsICJTcGVjaWFsIiwgZGV0YWlsKTsKLSAg
ICBkZWNvZGVfZmVhdHVyZXNldCh4Y19nZXRfc3RhdGljX2NwdV9mZWF0dXJlbWFzayhYQ19GRUFU
VVJFTUFTS19QViksCi0gICAgICAgICAgICAgICAgICAgICAgbnJfZmVhdHVyZXMsICJQViBNYXNr
IiwgZGV0YWlsKTsKLSAgICBkZWNvZGVfZmVhdHVyZXNldCh4Y19nZXRfc3RhdGljX2NwdV9mZWF0
dXJlbWFzayhYQ19GRUFUVVJFTUFTS19IVk1fU0hBRE9XKSwKLSAgICAgICAgICAgICAgICAgICAg
ICBucl9mZWF0dXJlcywgIkhWTSBTaGFkb3cgTWFzayIsIGRldGFpbCk7Ci0gICAgZGVjb2RlX2Zl
YXR1cmVzZXQoeGNfZ2V0X3N0YXRpY19jcHVfZmVhdHVyZW1hc2soWENfRkVBVFVSRU1BU0tfSFZN
X0hBUCksCi0gICAgICAgICAgICAgICAgICAgICAgbnJfZmVhdHVyZXMsICJIVk0gSGFwIE1hc2si
LCBkZXRhaWwpOworICAgIGRlY29kZV9mZWF0dXJlc2V0KHhjX2dldF9zdGF0aWNfY3B1X2ZlYXR1
cmVtYXNrKFhDX0ZFQVRVUkVNQVNLX1BWX01BWCksCisgICAgICAgICAgICAgICAgICAgICAgbnJf
ZmVhdHVyZXMsICJQViBNYXgiLCBkZXRhaWwpOworICAgIGRlY29kZV9mZWF0dXJlc2V0KHhjX2dl
dF9zdGF0aWNfY3B1X2ZlYXR1cmVtYXNrKFhDX0ZFQVRVUkVNQVNLX1BWX0RFRiksCisgICAgICAg
ICAgICAgICAgICAgICAgbnJfZmVhdHVyZXMsICJQViBEZWZhdWx0IiwgZGV0YWlsKTsKKyAgICBk
ZWNvZGVfZmVhdHVyZXNldCh4Y19nZXRfc3RhdGljX2NwdV9mZWF0dXJlbWFzayhYQ19GRUFUVVJF
TUFTS19IVk1fU0hBRE9XX01BWCksCisgICAgICAgICAgICAgICAgICAgICAgbnJfZmVhdHVyZXMs
ICJIVk0gU2hhZG93IE1heCIsIGRldGFpbCk7CisgICAgZGVjb2RlX2ZlYXR1cmVzZXQoeGNfZ2V0
X3N0YXRpY19jcHVfZmVhdHVyZW1hc2soWENfRkVBVFVSRU1BU0tfSFZNX1NIQURPV19ERUYpLAor
ICAgICAgICAgICAgICAgICAgICAgIG5yX2ZlYXR1cmVzLCAiSFZNIFNoYWRvdyBEZWZhdWx0Iiwg
ZGV0YWlsKTsKKyAgICBkZWNvZGVfZmVhdHVyZXNldCh4Y19nZXRfc3RhdGljX2NwdV9mZWF0dXJl
bWFzayhYQ19GRUFUVVJFTUFTS19IVk1fSEFQX01BWCksCisgICAgICAgICAgICAgICAgICAgICAg
bnJfZmVhdHVyZXMsICJIVk0gSGFwIE1heCIsIGRldGFpbCk7CisgICAgZGVjb2RlX2ZlYXR1cmVz
ZXQoeGNfZ2V0X3N0YXRpY19jcHVfZmVhdHVyZW1hc2soWENfRkVBVFVSRU1BU0tfSFZNX0hBUF9E
RUYpLAorICAgICAgICAgICAgICAgICAgICAgIG5yX2ZlYXR1cmVzLCAiSFZNIEhhcCBEZWZhdWx0
IiwgZGV0YWlsKTsKIAogICAgIHByaW50ZigiXG5EeW5hbWljIHNldHM6XG4iKTsKICAgICBmb3Ig
KCBpID0gMDsgaSA8IEFSUkFZX1NJWkUoZmVhdHVyZXNldHMpOyArK2kgKQpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L2NwdWlkLmMgYi94ZW4vYXJjaC94ODYvY3B1aWQuYwppbmRleCBhZWUyMjFk
YzQ0Li41NDZhZTMxYmI5IDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvY3B1aWQuYworKysgYi94
ZW4vYXJjaC94ODYvY3B1aWQuYwpAQCAtMTUsOSArMTUsOSBAQAogY29uc3QgdWludDMyX3Qga25v
d25fZmVhdHVyZXNbXSA9IElOSVRfS05PV05fRkVBVFVSRVM7CiBjb25zdCB1aW50MzJfdCBzcGVj
aWFsX2ZlYXR1cmVzW10gPSBJTklUX1NQRUNJQUxfRkVBVFVSRVM7CiAKLXN0YXRpYyBjb25zdCB1
aW50MzJfdCBwdl9mZWF0dXJlbWFza1tdID0gSU5JVF9QVl9GRUFUVVJFUzsKLXN0YXRpYyBjb25z
dCB1aW50MzJfdCBodm1fc2hhZG93X2ZlYXR1cmVtYXNrW10gPSBJTklUX0hWTV9TSEFET1dfRkVB
VFVSRVM7Ci1zdGF0aWMgY29uc3QgdWludDMyX3QgaHZtX2hhcF9mZWF0dXJlbWFza1tdID0gSU5J
VF9IVk1fSEFQX0ZFQVRVUkVTOworc3RhdGljIGNvbnN0IHVpbnQzMl90IHB2X21heF9mZWF0dXJl
bWFza1tdID0gSU5JVF9QVl9NQVhfRkVBVFVSRVM7CitzdGF0aWMgY29uc3QgdWludDMyX3QgaHZt
X3NoYWRvd19tYXhfZmVhdHVyZW1hc2tbXSA9IElOSVRfSFZNX1NIQURPV19NQVhfRkVBVFVSRVM7
CitzdGF0aWMgY29uc3QgdWludDMyX3QgaHZtX2hhcF9tYXhfZmVhdHVyZW1hc2tbXSA9IElOSVRf
SFZNX0hBUF9NQVhfRkVBVFVSRVM7CiBzdGF0aWMgY29uc3QgdWludDMyX3QgZGVlcF9mZWF0dXJl
c1tdID0gSU5JVF9ERUVQX0ZFQVRVUkVTOwogCiBzdGF0aWMgaW50IF9faW5pdCBwYXJzZV94ZW5f
Y3B1aWQoY29uc3QgY2hhciAqcykKQEAgLTM1OSw3ICszNTksNyBAQCBzdGF0aWMgdm9pZCBfX2lu
aXQgY2FsY3VsYXRlX3B2X21heF9wb2xpY3kodm9pZCkKICAgICBjcHVpZF9wb2xpY3lfdG9fZmVh
dHVyZXNldChwLCBwdl9mZWF0dXJlc2V0KTsKIAogICAgIGZvciAoIGkgPSAwOyBpIDwgQVJSQVlf
U0laRShwdl9mZWF0dXJlc2V0KTsgKytpICkKLSAgICAgICAgcHZfZmVhdHVyZXNldFtpXSAmPSBw
dl9mZWF0dXJlbWFza1tpXTsKKyAgICAgICAgcHZfZmVhdHVyZXNldFtpXSAmPSBwdl9tYXhfZmVh
dHVyZW1hc2tbaV07CiAKICAgICAvKgogICAgICAqIElmIFhlbiBpc24ndCB2aXJ0dWFsaXNpbmcg
TVNSX1NQRUNfQ1RSTCBmb3IgUFYgZ3Vlc3RzIGJlY2F1c2Ugb2YKQEAgLTM5MSw3ICszOTEsNyBA
QCBzdGF0aWMgdm9pZCBfX2luaXQgY2FsY3VsYXRlX2h2bV9tYXhfcG9saWN5KHZvaWQpCiAgICAg
Y3B1aWRfcG9saWN5X3RvX2ZlYXR1cmVzZXQocCwgaHZtX2ZlYXR1cmVzZXQpOwogCiAgICAgaHZt
X2ZlYXR1cmVtYXNrID0gaHZtX2hhcF9zdXBwb3J0ZWQoKSA/Ci0gICAgICAgIGh2bV9oYXBfZmVh
dHVyZW1hc2sgOiBodm1fc2hhZG93X2ZlYXR1cmVtYXNrOworICAgICAgICBodm1faGFwX21heF9m
ZWF0dXJlbWFzayA6IGh2bV9zaGFkb3dfbWF4X2ZlYXR1cmVtYXNrOwogCiAgICAgZm9yICggaSA9
IDA7IGkgPCBBUlJBWV9TSVpFKGh2bV9mZWF0dXJlc2V0KTsgKytpICkKICAgICAgICAgaHZtX2Zl
YXR1cmVzZXRbaV0gJj0gaHZtX2ZlYXR1cmVtYXNrW2ldOwpAQCAtNTAwLDcgKzUwMCw3IEBAIHZv
aWQgcmVjYWxjdWxhdGVfY3B1aWRfcG9saWN5KHN0cnVjdCBkb21haW4gKmQpCiAgICAgICAgIGlm
ICggIWhhcF9lbmFibGVkKGQpICkKICAgICAgICAgewogICAgICAgICAgICAgZm9yICggaSA9IDA7
IGkgPCBBUlJBWV9TSVpFKG1heF9mcyk7IGkrKyApCi0gICAgICAgICAgICAgICAgbWF4X2ZzW2ld
ICY9IGh2bV9zaGFkb3dfZmVhdHVyZW1hc2tbaV07CisgICAgICAgICAgICAgICAgbWF4X2ZzW2ld
ICY9IGh2bV9zaGFkb3dfbWF4X2ZlYXR1cmVtYXNrW2ldOwogICAgICAgICB9CiAKICAgICAgICAg
LyogSGlkZSBuZXN0ZWQtdmlydCBpZiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IGNvbmZpZ3Vy
ZWQuICovCkBAIC05NjQsNyArOTY0LDcgQEAgdm9pZCBndWVzdF9jcHVpZChjb25zdCBzdHJ1Y3Qg
dmNwdSAqdiwgdWludDMyX3QgbGVhZiwKIAogICAgICAgICAgICAgLyoKICAgICAgICAgICAgICAq
IFBTRTM2IGlzIG5vdCBzdXBwb3J0ZWQgaW4gc2hhZG93IG1vZGUuICBUaGlzIGJpdCBzaG91bGQg
YmUKLSAgICAgICAgICAgICAqIGNsZWFyIGluIGh2bV9zaGFkb3dfZmVhdHVyZW1hc2tbXS4KKyAg
ICAgICAgICAgICAqIGNsZWFyIGluIGh2bV9zaGFkb3dfbWF4X2ZlYXR1cmVtYXNrW10uCiAgICAg
ICAgICAgICAgKgogICAgICAgICAgICAgICogSG93ZXZlciwgYW4gdW5zcGVjaWZpZWQgdmVyc2lv
biBvZiBIeXBlci1WIGZyb20gMjAxMSByZWZ1c2VzIHRvCiAgICAgICAgICAgICAgKiBzdGFydCBh
cyB0aGUgImNwdSBkb2VzIG5vdCBwcm92aWRlIHJlcXVpcmVkIGh3IGZlYXR1cmVzIiBpZiBpdApA
QCAtMTAwMyw5ICsxMDAzLDkgQEAgc3RhdGljIHZvaWQgX19pbml0IF9fbWF5YmVfdW51c2VkIGJ1
aWxkX2Fzc2VydGlvbnModm9pZCkKIHsKICAgICBCVUlMRF9CVUdfT04oQVJSQVlfU0laRShrbm93
bl9mZWF0dXJlcykgIT0gRlNDQVBJTlRTKTsKICAgICBCVUlMRF9CVUdfT04oQVJSQVlfU0laRShz
cGVjaWFsX2ZlYXR1cmVzKSAhPSBGU0NBUElOVFMpOwotICAgIEJVSUxEX0JVR19PTihBUlJBWV9T
SVpFKHB2X2ZlYXR1cmVtYXNrKSAhPSBGU0NBUElOVFMpOwotICAgIEJVSUxEX0JVR19PTihBUlJB
WV9TSVpFKGh2bV9zaGFkb3dfZmVhdHVyZW1hc2spICE9IEZTQ0FQSU5UUyk7Ci0gICAgQlVJTERf
QlVHX09OKEFSUkFZX1NJWkUoaHZtX2hhcF9mZWF0dXJlbWFzaykgIT0gRlNDQVBJTlRTKTsKKyAg
ICBCVUlMRF9CVUdfT04oQVJSQVlfU0laRShwdl9tYXhfZmVhdHVyZW1hc2spICE9IEZTQ0FQSU5U
Uyk7CisgICAgQlVJTERfQlVHX09OKEFSUkFZX1NJWkUoaHZtX3NoYWRvd19tYXhfZmVhdHVyZW1h
c2spICE9IEZTQ0FQSU5UUyk7CisgICAgQlVJTERfQlVHX09OKEFSUkFZX1NJWkUoaHZtX2hhcF9t
YXhfZmVhdHVyZW1hc2spICE9IEZTQ0FQSU5UUyk7CiAgICAgQlVJTERfQlVHX09OKEFSUkFZX1NJ
WkUoZGVlcF9mZWF0dXJlcykgIT0gRlNDQVBJTlRTKTsKIAogICAgIC8qIEZpbmQgc29tZSBtb3Jl
IGNsZXZlciBhbGxvY2F0aW9uIHNjaGVtZSBpZiB0aGlzIHRyaXBzLiAqLwpkaWZmIC0tZ2l0IGEv
eGVuL3Rvb2xzL2dlbi1jcHVpZC5weSBiL3hlbi90b29scy9nZW4tY3B1aWQucHkKaW5kZXggOTli
MmU3YWVlZS4uYWY1NjEwYTVlNiAxMDA3NTUKLS0tIGEveGVuL3Rvb2xzL2dlbi1jcHVpZC5weQor
KysgYi94ZW4vdG9vbHMvZ2VuLWNwdWlkLnB5CkBAIC0yOCw5ICsyOCwxMiBAQCBkZWYgX19pbml0
X18oc2VsZiwgaW5wdXQsIG91dHB1dCk6CiAgICAgICAgICMgU3RhdGUgY2FsY3VsYXRlZAogICAg
ICAgICBzZWxmLm5yX2VudHJpZXMgPSAwICMgTnVtYmVyIG9mIHdvcmRzIGluIGEgZmVhdHVyZXNl
dAogICAgICAgICBzZWxmLmNvbW1vbl8xZCA9IDAgIyBDb21tb24gZmVhdHVyZXMgYmV0d2VlbiAx
ZCBhbmQgZTFkCi0gICAgICAgIHNlbGYucHYgPSBzZXQoKSAjIFBWIGZlYXR1cmVzCi0gICAgICAg
IHNlbGYuaHZtX3NoYWRvdyA9IHNldCgpICMgSFZNIHNoYWRvdyBmZWF0dXJlcwotICAgICAgICBz
ZWxmLmh2bV9oYXAgPSBzZXQoKSAjIEhWTSBIQVAgZmVhdHVyZXMKKyAgICAgICAgc2VsZi5wdl9k
ZWYgPSBzZXQoKSAjIFBWIGRlZmF1bHQgZmVhdHVyZXMKKyAgICAgICAgc2VsZi5odm1fc2hhZG93
X2RlZiA9IHNldCgpICMgSFZNIHNoYWRvdyBkZWZhdWx0IGZlYXR1cmVzCisgICAgICAgIHNlbGYu
aHZtX2hhcF9kZWYgPSBzZXQoKSAjIEhWTSBIQVAgZGVmYXVsdCBmZWF0dXJlcworICAgICAgICBz
ZWxmLnB2X21heCA9IHNldCgpICMgUFYgbWF4IGZlYXR1cmVzCisgICAgICAgIHNlbGYuaHZtX3No
YWRvd19tYXggPSBzZXQoKSAjIEhWTSBzaGFkb3cgbWF4IGZlYXR1cmVzCisgICAgICAgIHNlbGYu
aHZtX2hhcF9tYXggPSBzZXQoKSAjIEhWTSBIQVAgbWF4IGZlYXR1cmVzCiAgICAgICAgIHNlbGYu
Yml0ZmllbGRzID0gW10gIyBUZXh0IHRvIGRlY2xhcmUgbmFtZWQgYml0ZmllbGRzIGluIEMKICAg
ICAgICAgc2VsZi5kZWVwX2RlcHMgPSB7fSAjIHsgZmVhdHVyZSBudW0gPT4gZGVwZW5kYW50IGZl
YXR1cmVzIH0KICAgICAgICAgc2VsZi5ucl9kZWVwX2RlcHMgPSAwICMgTnVtYmVyIG9mIGVudHJp
ZXMgaW4gZGVlcF9kZXBzCkBAIC0xMjYsOSArMTI5LDEzIEBAIGRlZiBjcnVuY2hfbnVtYmVycyhz
dGF0ZSk6CiAgICAgICAgICAgICAgICAgIE1UUlIsIFBHRSwgTUNBLCBDTU9WLCBQQVQsIFBTRTM2
LCBNTVgsIEZYU1IpCiAgICAgc3RhdGUuY29tbW9uXzFkID0gY29tbW9uXzFkCiAKLSAgICBzdGF0
ZS5wdiA9IHN0YXRlLnJhd1snQSddCi0gICAgc3RhdGUuaHZtX3NoYWRvdyA9IHN0YXRlLnB2IHwg
c3RhdGUucmF3WydTJ10KLSAgICBzdGF0ZS5odm1faGFwID0gc3RhdGUuaHZtX3NoYWRvdyB8IHN0
YXRlLnJhd1snSCddCisgICAgc3RhdGUucHZfZGVmID0gc3RhdGUucmF3WydBJ10KKyAgICBzdGF0
ZS5odm1fc2hhZG93X2RlZiA9IHN0YXRlLnB2X2RlZiB8IHN0YXRlLnJhd1snUyddCisgICAgc3Rh
dGUuaHZtX2hhcF9kZWYgPSBzdGF0ZS5odm1fc2hhZG93X2RlZiB8IHN0YXRlLnJhd1snSCddCisK
KyAgICBzdGF0ZS5wdl9tYXggPSBzdGF0ZS5wdl9kZWYKKyAgICBzdGF0ZS5odm1fc2hhZG93X21h
eCA9IHN0YXRlLmh2bV9zaGFkb3dfZGVmCisgICAgc3RhdGUuaHZtX2hhcF9tYXggPSBzdGF0ZS5o
dm1faGFwX2RlZgogCiAgICAgIwogICAgICMgRmVhdHVyZSBkZXBlbmRlbmN5IGluZm9ybWF0aW9u
LgpAQCAtMzUxLDExICszNTgsMTcgQEAgZGVmIHdyaXRlX3Jlc3VsdHMoc3RhdGUpOgogCiAjZGVm
aW5lIElOSVRfU1BFQ0lBTF9GRUFUVVJFUyB7IFxcXG4lc1xufQogCi0jZGVmaW5lIElOSVRfUFZf
RkVBVFVSRVMgeyBcXFxuJXNcbn0KKyNkZWZpbmUgSU5JVF9QVl9ERUZfRkVBVFVSRVMgeyBcXFxu
JXNcbn0KKworI2RlZmluZSBJTklUX1BWX01BWF9GRUFUVVJFUyB7IFxcXG4lc1xufQorCisjZGVm
aW5lIElOSVRfSFZNX1NIQURPV19ERUZfRkVBVFVSRVMgeyBcXFxuJXNcbn0KKworI2RlZmluZSBJ
TklUX0hWTV9TSEFET1dfTUFYX0ZFQVRVUkVTIHsgXFxcbiVzXG59CiAKLSNkZWZpbmUgSU5JVF9I
Vk1fU0hBRE9XX0ZFQVRVUkVTIHsgXFxcbiVzXG59CisjZGVmaW5lIElOSVRfSFZNX0hBUF9ERUZf
RkVBVFVSRVMgeyBcXFxuJXNcbn0KIAotI2RlZmluZSBJTklUX0hWTV9IQVBfRkVBVFVSRVMgeyBc
XFxuJXNcbn0KKyNkZWZpbmUgSU5JVF9IVk1fSEFQX01BWF9GRUFUVVJFUyB7IFxcXG4lc1xufQog
CiAjZGVmaW5lIE5SX0RFRVBfREVQUyAlc1UKIApAQCAtMzY2LDkgKzM3OSwxMiBAQCBkZWYgd3Jp
dGVfcmVzdWx0cyhzdGF0ZSk6CiAgICAgICAgbmV4dChmZWF0dXJlc2V0X3RvX3VpbnQzMnMoc3Rh
dGUuY29tbW9uXzFkLCAxKSksCiAgICAgICAgZm9ybWF0X3VpbnQzMnMoc3RhdGUsIHN0YXRlLm5h
bWVzLmtleXMoKSwgNCksCiAgICAgICAgZm9ybWF0X3VpbnQzMnMoc3RhdGUsIHN0YXRlLnJhd1sn
ISddLCA0KSwKLSAgICAgICBmb3JtYXRfdWludDMycyhzdGF0ZSwgc3RhdGUucHYsIDQpLAotICAg
ICAgIGZvcm1hdF91aW50MzJzKHN0YXRlLCBzdGF0ZS5odm1fc2hhZG93LCA0KSwKLSAgICAgICBm
b3JtYXRfdWludDMycyhzdGF0ZSwgc3RhdGUuaHZtX2hhcCwgNCksCisgICAgICAgZm9ybWF0X3Vp
bnQzMnMoc3RhdGUsIHN0YXRlLnB2X2RlZiwgNCksCisgICAgICAgZm9ybWF0X3VpbnQzMnMoc3Rh
dGUsIHN0YXRlLnB2X21heCwgNCksCisgICAgICAgZm9ybWF0X3VpbnQzMnMoc3RhdGUsIHN0YXRl
Lmh2bV9zaGFkb3dfZGVmLCA0KSwKKyAgICAgICBmb3JtYXRfdWludDMycyhzdGF0ZSwgc3RhdGUu
aHZtX3NoYWRvd19tYXgsIDQpLAorICAgICAgIGZvcm1hdF91aW50MzJzKHN0YXRlLCBzdGF0ZS5o
dm1faGFwX2RlZiwgNCksCisgICAgICAgZm9ybWF0X3VpbnQzMnMoc3RhdGUsIHN0YXRlLmh2bV9o
YXBfbWF4LCA0KSwKICAgICAgICBzdGF0ZS5ucl9kZWVwX2RlcHMsCiAgICAgICAgZm9ybWF0X3Vp
bnQzMnMoc3RhdGUsIHN0YXRlLmRlZXBfZmVhdHVyZXMsIDQpLAogICAgICAgICkpCi0tIAoyLjEx
LjAKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

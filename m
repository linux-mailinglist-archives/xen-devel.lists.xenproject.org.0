Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E495718891F
	for <lists+xen-devel@lfdr.de>; Tue, 17 Mar 2020 16:26:10 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1jEE3s-000310-JY; Tue, 17 Mar 2020 15:23:20 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=wpLQ=5C=gmail.com=jandryuk@srs-us1.protection.inumbo.net>)
 id 1jEE3r-00030q-2Y
 for xen-devel@lists.xenproject.org; Tue, 17 Mar 2020 15:23:19 +0000
X-Inumbo-ID: 3aa0f20c-6863-11ea-bec1-bc764e2007e4
Received: from mail-qk1-x744.google.com (unknown [2607:f8b0:4864:20::744])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 3aa0f20c-6863-11ea-bec1-bc764e2007e4;
 Tue, 17 Mar 2020 15:23:18 +0000 (UTC)
Received: by mail-qk1-x744.google.com with SMTP id u25so33133973qkk.3
 for <xen-devel@lists.xenproject.org>; Tue, 17 Mar 2020 08:23:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=wR68S1Mw0gQSPqHRHBHR+Y0NCGjTjjXzcusPQMKNQGM=;
 b=JlptXmKH3m8rCJtfPzp/ZBFtTZ4b1ONb/a86P7VAGppONpYb2gqpARb4wgcet5ibWe
 ClJ8SNYkJNTe308g83eFRPpKBtG5XwIrb5TIIsJm5DL1De6+Ki7yUtJN4uDF+FLnGaiA
 VWqi8p6FwM+TVawijfUO8Hm2TTrx7SnHhDiUvMA4gzH2AyG2F4/0NL3iSJAze9W0unAQ
 +LTeNxKnsV6mCIDgQ9Lk18/ySZjK6QuyS38orpdpCOH1W2wcf31Jf/qV0tbBBjTYCKE4
 VX0eHXXfUlO9BA07KGuu/0s1UuXixrDS+stIVbVKNxzpghKyxcq9T8lMCtsxUCfz2plk
 MRvw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=wR68S1Mw0gQSPqHRHBHR+Y0NCGjTjjXzcusPQMKNQGM=;
 b=D/xQ8M+teqFyELIEEJ8HQqr8uYBZA0/f2GxxDIz273EmkvZ7risKlopzvdYM5Jw6zq
 kuSBap5THt7OyezSsKwQ/NO6A1AyCXXJfMIQreWt8/zdYTM9S2h/+KfvBk0cm1X5P/kx
 1PfAh25pAaIDYu2hlItWLx/IJOt+poddilp95x2brFve87vn5qeWDBj41/ItXx77qP+r
 6HWsKh4E1m7ezuo/a1kHKfHcoxu4lqeQ/u5xoqTkc0HVYiTbOKpoCFBuNxLA6zT/BdyY
 5q3smjA0uV7k/yW0rFYi5HLQrtqrKTis23kOtnGjeo6x4H9WE0p4omf/7kpNqLrtoRoy
 qNhQ==
X-Gm-Message-State: ANhLgQ3Qt5m4j8cfZ5+wS4q7cTZwxLFlEgHDTRw99GANX9Wg1orQUHUZ
 0jjnZZ3OahnYBths/8jwwBA=
X-Google-Smtp-Source: ADFU+vsZpy1Bu9XyDdEhh4h8Ckc1w8oLjTBo2UPMA3xYk2xnqQMpBetGwvGdm4rxEznXgPy6wOaRHQ==
X-Received: by 2002:a37:61d0:: with SMTP id v199mr5462433qkb.305.1584458597898; 
 Tue, 17 Mar 2020 08:23:17 -0700 (PDT)
Received: from pm2-ws13.praxislan02.com ([2001:470:8:67e:7408:9006:8741:9ceb])
 by smtp.gmail.com with ESMTPSA id
 s49sm2431358qtc.29.2020.03.17.08.23.16
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 17 Mar 2020 08:23:17 -0700 (PDT)
From: Jason Andryuk <jandryuk@gmail.com>
To: jbeulich@suse.com
Date: Tue, 17 Mar 2020 11:23:10 -0400
Message-Id: <20200317152310.114567-1-jandryuk@gmail.com>
X-Mailer: git-send-email 2.24.1
In-Reply-To: <cfbb5553-b9dc-ee86-145f-3cab92289c4d@suse.com>
References: <cfbb5553-b9dc-ee86-145f-3cab92289c4d@suse.com>
MIME-Version: 1.0
Subject: Re: [Xen-devel] [BUG] panic: "IO-APIC + timer doesn't work" -
 several people have reproduced
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: andrew.cooper3@citrix.com, aaron@ajanse.me, xen-devel@lists.xenproject.org,
 jandryuk@gmail.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTcuMDMuMjAyMCAxNTowOCwgSmFuIEJldWxpY2ggd3JvdGU6Cj5PbiAxNy4wMy4yMDIwIDE1
OjA4LCBKYW4gQmV1bGljaCB3cm90ZToKPj4gT24gMTcuMDMuMjAyMCAxNDo0OCwgSmFzb24gQW5k
cnl1ayB3cm90ZToKPj4+IEkgZ290IGl0IHRvIGJvb3QgcGFzdCAiSU8tQVBJQyArIHRpbWVyIGRv
ZXNuJ3Qgd29yayIuICBJIHByb2dyYW1tZWQKPj4+IHRoZSBIUEVUIHRvIHByb3ZpZGUgYSBwZXJp
b2RpYyB0aW1lciBpbiBocGV0X3Jlc3VtZSgpIG9uIFQwLiAgV2hlbiBJCj4+PiBhY3R1YWxseSBn
b3QgaXQgcHJvZ3JhbW1lZCBwcm9wZXJseSwgaXQgd29ya2VkIHRvIGluY3JlbWVudAo+Pj4gcGl0
MF90aWNrcy4gIEkgYWxzbyBtYWRlIHRpbWVyX2ludGVycnVwdCgpIHVuY29uZGl0aW9uYWxseQo+
Pj4gcGl0MF90aWNrcysrIHRob3VnaCB0aGF0IG1heSBub3QgbWF0dGVyLgo+PiAKPj4gSG1tLCBh
dCB0aGUgZmlyc3QgZ2xhbmNlIEkgd291bGQgaW1wbHkgdGhlIHN5c3RlbSBnZXRzIGhhbmRlZCB0
byBYZW4KPj4gd2l0aCBhIEhQRVQgc3RhdGUgdGhhdCB3ZSBkb24ndCAoYW5kIHByb2JhYmx5IGFs
c28gc2hvdWxkbid0KSBleHBlY3QuCj4+IENvdWxkIHlvdSBwcm92aWRlIEhQRVRfQ0ZHIGFzIHdl
bGwgYXMgYWxsIEhQRVRfVG5fQ0ZHIGFuZAo+PiBIUEVUX1RuX1JPVVRFIHZhbHVlcyBhcyBocGV0
X3Jlc3VtZSgpIGZpbmRzIHRoZW0gYmVmb3JlIGRvaW5nIGFueQo+PiBhZGp1c3RtZW50cyB0byB0
aGVtPyBXaGF0IGFyZSB0aGUgY29tcG9uZW50cyAvIHBhcnRpZXMgaW52b2x2ZWQgaW4KPj4gZ2V0
dGluZyBYZW4gbG9hZGVkIGFuZCBzdGFydGVkPwo+Cj5PZiBjb3Vyc2UgbXVjaCBkZXBlbmRzIG9u
IHdoYXQgZXhhY3RseSB5b3UgbWVhbiB5b3UndmUgZG9uZSB0bwo+dGhlIEhQRVQgYnkgc2F5aW5n
ICJJIHByb2dyYW1tZWQgdGhlIEhQRVQgdG8gcHJvdmlkZSAuLi4iLgoKQmVsb3cgaXMgdGhlIGRp
ZmYuICBJdCB3YXMgbWVzc2llciBhbmQgSSB0aWRpZWQgaXQgdXAgc29tZS4KCkl0J3MgbWFpbmx5
IHRoZSBjaGFuZ2UgdG8gaHBldF9yZXN1bWUoKSB0byBtaW1pYyBMaW51eCdzIGxlZ2FjeSBIUEVU
CnNldHVwIG9uIFQwLiAgSXQgdHVybnMgb24gSFBFVF9DRkdfTEVHQUNZIHRvIGVuc3VyZSB0aGUg
dGltZXIgaW50ZXJydXB0CmlzIHJ1bm5pbmcuICBBbmQgaXQgYWxzbyBpbmNsdWRlcyB0aGUgcHJp
bnRpbmcgb2YgdGhlIGluaXRpYWwgSFBFVApjb25maWc6CkhQRVRfQ0ZHIDAwMDAwMDAxCkhQRVRf
VDBfQ0ZHIDAwMDA4MDMwCkhQRVRfVDBfUk9VVEUgMDAwMDAxNmMKSFBFVF9UMV9DRkcgMDAwMDgw
MDAKSFBFVF9UMV9ST1VURSAwMDAwMDAwMApIUEVUX1QyX0NGRyAwMDAwODAwMApIUEVUX1QyX1JP
VVRFIDAwMDAwMDAwCkhQRVRfVDNfQ0ZHIDAwMDA4MDAwCkhQRVRfVDNfUk9VVEUgMDAwMDAwMDAK
SFBFVF9UNF9DRkcgMDAwMGMwMDAKSFBFVF9UNF9ST1VURSAwMDAwMDAwMApIUEVUX1Q1X0NGRyAw
MDAwYzAwMApIUEVUX1Q1X1JPVVRFIDAwMDAwMDAwCkhQRVRfVDZfQ0ZHIDAwMDBjMDAwCkhQRVRf
VDZfUk9VVEUgMDAwMDAwMDAKSFBFVF9UN19DRkcgMDAwMGMwMDAKSFBFVF9UN19ST1VURSAwMDAw
MDAwMAoKT3RoZXIgY2hhbmdlcyBhcmUgdG8gdHJ5IHRvIHByZXZlbnQgWGVuIGZyb20gY2xvYmJl
cmluZyBUMCBhcyBhIHBlcmlvZGljCnRpbWVyLiAgSSBoYWQgc29tZSBwcmludGtzIGFuZCBkaWRu
J3Qgc2VlIFhlbiBjYWxsIGFueSBvZiB0aGVtIHRob3VnaC4KClJlZ2FyZHMsCkphc29uCgpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L2hwZXQuYyBiL3hlbi9hcmNoL3g4Ni9ocGV0LmMKaW5kZXgg
ODY5MjliOWJhMS4uZjM5YWFmZGE3ZCAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2hwZXQuYwor
KysgYi94ZW4vYXJjaC94ODYvaHBldC5jCkBAIC01ODUsMTYgKzU4NSwyNyBAQCB2b2lkIF9faW5p
dCBocGV0X2Jyb2FkY2FzdF9pbml0KHZvaWQpCiAgICAgICAgICAgICBwdl9ydGNfaGFuZGxlciA9
IGhhbmRsZV9ydGNfb25jZTsKICAgICB9CiAKKyAgICBwcmludGsoWEVOTE9HX0lORk8gIiVzIGNm
ZyAlZFxuIiwgX19mdW5jX18sIGNmZyk7CiAgICAgaHBldF93cml0ZTMyKGNmZywgSFBFVF9DRkcp
OwogCiAgICAgZm9yICggaSA9IDA7IGkgPCBuOyBpKysgKQogICAgIHsKLSAgICAgICAgaWYgKCBp
ID09IDAgJiYgKGNmZyAmIEhQRVRfQ0ZHX0xFR0FDWSkgKQorICAgICAgICBwcmludGsoWEVOTE9H
X0lORk8gImhwZXQgY2ZnICVkIGxlZ2FjeSAlZFxuIiwgaSwgY2ZnICYgSFBFVF9DRkdfTEVHQUNZ
KTsKKyAgICAgICAgaWYgKCBpID09IDEgJiYgKGNmZyAmIEhQRVRfQ0ZHX0xFR0FDWSkgKQogICAg
ICAgICB7CiAgICAgICAgICAgICAvKiBzZXQgSFBFVCBUMCBhcyBvbmVzaG90ICovCi0gICAgICAg
ICAgICBjZmcgPSBocGV0X3JlYWQzMihIUEVUX1RuX0NGRygwKSk7CisgICAgICAgICAgICBjZmcg
PSBocGV0X3JlYWQzMihIUEVUX1RuX0NGRygxKSk7CiAgICAgICAgICAgICBjZmcgJj0gfihIUEVU
X1ROX0xFVkVMIHwgSFBFVF9UTl9QRVJJT0RJQyk7CiAgICAgICAgICAgICBjZmcgfD0gSFBFVF9U
Tl9FTkFCTEUgfCBIUEVUX1ROXzMyQklUOworICAgICAgICAgICAgaHBldF93cml0ZTMyKGNmZywg
SFBFVF9Ubl9DRkcoMSkpOworICAgICAgICB9CisKKyAgICAgICAgaWYgKCBpID09IDAgJiYgKGNm
ZyAmIEhQRVRfQ0ZHX0xFR0FDWSkgKQorICAgICAgICB7CisgICAgICAgICAgICAvKiBzZXQgSFBF
VCBUMCBhcyBwZXJpb2RpYyAqLworICAgICAgICAgICAgY2ZnID0gaHBldF9yZWFkMzIoSFBFVF9U
bl9DRkcoMCkpOworICAgICAgICAgICAgY2ZnIHw9IChIUEVUX1ROX0xFVkVMIHwgSFBFVF9UTl9Q
RVJJT0RJQyk7CisgICAgICAgICAgICBjZmcgfD0gSFBFVF9UTl9FTkFCTEUgfCBIUEVUX1ROXzMy
QklUOwogICAgICAgICAgICAgaHBldF93cml0ZTMyKGNmZywgSFBFVF9Ubl9DRkcoMCkpOwogICAg
ICAgICB9CiAKQEAgLTY0NSw2ICs2NTYsNyBAQCB2b2lkIGhwZXRfYnJvYWRjYXN0X3Jlc3VtZSh2
b2lkKQogICAgICAgICBuID0gMTsKICAgICB9CiAKKyAgICBwcmludGsoWEVOTE9HX0lORk8gIiVz
IGNmZyAlZFxuIiwgX19mdW5jX18sIGNmZyk7CiAgICAgaHBldF93cml0ZTMyKGNmZywgSFBFVF9D
RkcpOwogCiAgICAgZm9yICggaSA9IDA7IGkgPCBuOyBpKysgKQpAQCAtNjUyLDYgKzY2NCw3IEBA
IHZvaWQgaHBldF9icm9hZGNhc3RfcmVzdW1lKHZvaWQpCiAgICAgICAgIGlmICggaHBldF9ldmVu
dHNbaV0ubXNpLmlycSA+PSAwICkKICAgICAgICAgICAgIF9faHBldF9zZXR1cF9tc2lfaXJxKGly
cV90b19kZXNjKGhwZXRfZXZlbnRzW2ldLm1zaS5pcnEpKTsKIAorCWlmIChpICE9IDApIHsKICAg
ICAgICAgLyogc2V0IEhQRVQgVG4gYXMgb25lc2hvdCAqLwogICAgICAgICBjZmcgPSBocGV0X3Jl
YWQzMihIUEVUX1RuX0NGRyhocGV0X2V2ZW50c1tpXS5pZHgpKTsKICAgICAgICAgY2ZnICY9IH4o
SFBFVF9UTl9MRVZFTCB8IEhQRVRfVE5fUEVSSU9ESUMpOwpAQCAtNjU5LDYgKzY3Miw3IEBAIHZv
aWQgaHBldF9icm9hZGNhc3RfcmVzdW1lKHZvaWQpCiAgICAgICAgIGlmICggIShocGV0X2V2ZW50
c1tpXS5mbGFncyAmIEhQRVRfRVZUX0xFR0FDWSkgKQogICAgICAgICAgICAgY2ZnIHw9IEhQRVRf
VE5fRlNCOwogICAgICAgICBocGV0X3dyaXRlMzIoY2ZnLCBIUEVUX1RuX0NGRyhocGV0X2V2ZW50
c1tpXS5pZHgpKTsKKwl9CiAKICAgICAgICAgaHBldF9ldmVudHNbaV0ubmV4dF9ldmVudCA9IFNU
SU1FX01BWDsKICAgICB9CkBAIC02ODQsNiArNjk4LDcgQEAgdm9pZCBocGV0X2Rpc2FibGVfbGVn
YWN5X2Jyb2FkY2FzdCh2b2lkKQogICAgIC8qIFN0b3AgSFBFVCBsZWdhY3kgaW50ZXJydXB0cyAq
LwogICAgIGNmZyA9IGhwZXRfcmVhZDMyKEhQRVRfQ0ZHKTsKICAgICBjZmcgJj0gfkhQRVRfQ0ZH
X0xFR0FDWTsKKyAgICBwcmludGsoWEVOTE9HX0lORk8gIiVzIGNmZyAlZFxuIiwgX19mdW5jX18s
IGNmZyk7CiAgICAgaHBldF93cml0ZTMyKGNmZywgSFBFVF9DRkcpOwogCiAgICAgc3Bpbl91bmxv
Y2tfaXJxcmVzdG9yZSgmaHBldF9ldmVudHMtPmxvY2ssIGZsYWdzKTsKQEAgLTc1OSw2ICs3NzQs
NyBAQCBpbnQgaHBldF9sZWdhY3lfaXJxX3RpY2sodm9pZCkKICAgICAgICAgIChocGV0X2V2ZW50
cy0+ZmxhZ3MgJiAoSFBFVF9FVlRfRElTQUJMRXxIUEVUX0VWVF9MRUdBQ1kpKSAhPQogICAgICAg
ICAgSFBFVF9FVlRfTEVHQUNZICkKICAgICAgICAgcmV0dXJuIDA7CisKICAgICBocGV0X2V2ZW50
cy0+ZXZlbnRfaGFuZGxlcihocGV0X2V2ZW50cyk7CiAgICAgcmV0dXJuIDE7CiB9CkBAIC04MDQs
NiArODIwLDggQEAgdTY0IF9faW5pdCBocGV0X3NldHVwKHZvaWQpCiAgICAgcmV0dXJuIGhwZXRf
cmF0ZSArIChsYXN0ICogMiA+IGhwZXRfcGVyaW9kKTsKIH0KIAorI2luY2x1ZGUgPGFzbS9kZWxh
eS5oPgorCiB2b2lkIGhwZXRfcmVzdW1lKHUzMiAqYm9vdF9jZmcpCiB7CiAgICAgc3RhdGljIHUz
MiBzeXN0ZW1fcmVzZXRfbGF0Y2g7CkBAIC04MTUsNiArODMzLDcgQEAgdm9pZCBocGV0X3Jlc3Vt
ZSh1MzIgKmJvb3RfY2ZnKQogICAgIHN5c3RlbV9yZXNldF9sYXRjaCA9IHN5c3RlbV9yZXNldF9j
b3VudGVyOwogCiAgICAgY2ZnID0gaHBldF9yZWFkMzIoSFBFVF9DRkcpOworICAgIHByaW50ayhY
RU5MT0dfSU5GTyAiJXMgSFBFVF9DRkcgJTA4eFxuIiwgX19mdW5jX18sIGNmZyk7CiAgICAgaWYg
KCBib290X2NmZyApCiAgICAgICAgICpib290X2NmZyA9IGNmZzsKICAgICBjZmcgJj0gfihIUEVU
X0NGR19FTkFCTEUgfCBIUEVUX0NGR19MRUdBQ1kpOwpAQCAtODI1LDEzICs4NDQsMTggQEAgdm9p
ZCBocGV0X3Jlc3VtZSh1MzIgKmJvb3RfY2ZnKQogICAgICAgICAgICAgICAgY2ZnKTsKICAgICAg
ICAgY2ZnID0gMDsKICAgICB9CisgICAgcHJpbnRrKFhFTkxPR19JTkZPICIlcyBjZmcgJWRcbiIs
IF9fZnVuY19fLCBjZmcpOwogICAgIGhwZXRfd3JpdGUzMihjZmcsIEhQRVRfQ0ZHKTsKIAogICAg
IGhwZXRfaWQgPSBocGV0X3JlYWQzMihIUEVUX0lEKTsKICAgICBsYXN0ID0gKGhwZXRfaWQgJiBI
UEVUX0lEX05VTUJFUikgPj4gSFBFVF9JRF9OVU1CRVJfU0hJRlQ7CiAgICAgZm9yICggaSA9IDA7
IGkgPD0gbGFzdDsgKytpICkKICAgICB7CisgICAgICAgIHUzMiB0bXA7CiAgICAgICAgIGNmZyA9
IGhwZXRfcmVhZDMyKEhQRVRfVG5fQ0ZHKGkpKTsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19JTkZP
ICIlcyBIUEVUX1QlZF9DRkcgJTA4eFxuIiwgX19mdW5jX18sIGksIGNmZyk7CisgICAgICAgIHRt
cCA9IGhwZXRfcmVhZDMyKEhQRVRfVG5fUk9VVEUoaSkpOworICAgICAgICBwcmludGsoWEVOTE9H
X0lORk8gIiVzIEhQRVRfVCVkX1JPVVRFICUwOHhcbiIsIF9fZnVuY19fLCBpLCB0bXApOwogICAg
ICAgICBpZiAoIGJvb3RfY2ZnICkKICAgICAgICAgICAgIGJvb3RfY2ZnW2kgKyAxXSA9IGNmZzsK
ICAgICAgICAgY2ZnICY9IH5IUEVUX1ROX0VOQUJMRTsKQEAgLTg0MiwxMSArODY2LDM0IEBAIHZv
aWQgaHBldF9yZXN1bWUodTMyICpib290X2NmZykKICAgICAgICAgICAgICAgICAgICBjZmcgJiBI
UEVUX1ROX1JFU0VSVkVELCBpKTsKICAgICAgICAgICAgIGNmZyAmPSB+SFBFVF9UTl9SRVNFUlZF
RDsKICAgICAgICAgfQorICAgICAgICBpZiAoaSA9PSAwKSB7CisgICAgICAgICAgICBjZmcgfD0g
SFBFVF9UTl9FTkFCTEUgfCBIUEVUX1ROX1BFUklPRElDIHwgSFBFVF9UTl9TRVRWQUwgfAorICAg
ICAgICAgICAgICAgICAgIEhQRVRfVE5fMzJCSVQ7CisgICAgICAgIH0KICAgICAgICAgaHBldF93
cml0ZTMyKGNmZywgSFBFVF9Ubl9DRkcoaSkpOworICAgICAgICBpZiAoaSA9PSAwKSB7CisjZGVm
aW5lIE5TRUNfUEVSX1NFQyAgICAxMDAwMDAwMDAwTAorICAgICAgICAgICAgdWludDY0X3QgZGVs
dGE7CisgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbm93OworICAgICAgICAgICAgdW5zaWduZWQg
aW50IGNtcDsKKyAgICAgICAgICAgIHU2NCBocGV0X3JhdGUgPSBocGV0X3NldHVwKCk7CisgICAg
ICAgICAgICB1aW50MzJfdCBtdWx0ID0gZGl2X3NjKCh1bnNpZ25lZCBsb25nKWhwZXRfcmF0ZSwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDAwMDAwMDAwdWwsIDMyKTsK
KyAgICAgICAgICAgIHVpbnQzMl90IHNoaWZ0ID0gMzI7CisgICAgICAgICAgICBwcmludGsoWEVO
TE9HX0lORk8gImhwZXQgbXVsdCAlZCBzaGlmdCAlZFxuIiwgbXVsdCwgc2hpZnQpOworICAgICAg
ICAgICAgZGVsdGEgPSAoKHVpbnQ2NF90KShOU0VDX1BFUl9TRUMgLyBIWikpICogbXVsdDsKKyAg
ICAgICAgICAgIGRlbHRhID4+PSBzaGlmdDsKKyAgICAgICAgICAgIG5vdyA9IGhwZXRfcmVhZDMy
KEhQRVRfQ09VTlRFUik7CisgICAgICAgICAgICBjbXAgPSBub3cgKyAodW5zaWduZWQgaW50KWRl
bHRhOworICAgICAgICAgICAgaHBldF93cml0ZTMyKGNtcCwgSFBFVF9Ubl9DTVAoaSkpOworICAg
ICAgICAgICAgdWRlbGF5KDEpOworICAgICAgICAgICAgaHBldF93cml0ZTMyKGRlbHRhLCBIUEVU
X1RuX0NNUChpKSk7CisgICAgICAgIH0KICAgICB9CiAKICAgICBjZmcgPSBocGV0X3JlYWQzMihI
UEVUX0NGRyk7Ci0gICAgY2ZnIHw9IEhQRVRfQ0ZHX0VOQUJMRTsKKyAgICBjZmcgfD0gSFBFVF9D
RkdfRU5BQkxFIHwgSFBFVF9DRkdfTEVHQUNZOworICAgIHByaW50ayhYRU5MT0dfSU5GTyAiJXMg
Y2ZnICVkXG4iLCBfX2Z1bmNfXywgY2ZnKTsKICAgICBocGV0X3dyaXRlMzIoY2ZnLCBIUEVUX0NG
Ryk7CiB9CiAKQEAgLTg2Miw2ICs5MDksNyBAQCB2b2lkIGhwZXRfZGlzYWJsZSh2b2lkKQogICAg
ICAgICByZXR1cm47CiAgICAgfQogCisgICAgcHJpbnRrKFhFTkxPR19JTkZPICIlcyBjZmcgJWRc
biIsIF9fZnVuY19fLCAqaHBldF9ib290X2NmZyk7CiAgICAgaHBldF93cml0ZTMyKCpocGV0X2Jv
b3RfY2ZnICYgfkhQRVRfQ0ZHX0VOQUJMRSwgSFBFVF9DRkcpOwogCiAgICAgaWQgPSBocGV0X3Jl
YWQzMihIUEVUX0lEKTsKQEAgLTg2OSw1ICs5MTcsNiBAQCB2b2lkIGhwZXRfZGlzYWJsZSh2b2lk
KQogICAgICAgICBocGV0X3dyaXRlMzIoaHBldF9ib290X2NmZ1tpICsgMV0sIEhQRVRfVG5fQ0ZH
KGkpKTsKIAogICAgIGlmICggKmhwZXRfYm9vdF9jZmcgJiBIUEVUX0NGR19FTkFCTEUgKQorICAg
ICAgICBwcmludGsoWEVOTE9HX0lORk8gIiVzIGNmZyAlZFxuIiwgX19mdW5jX18sICpocGV0X2Jv
b3RfY2ZnKTsKICAgICAgICAgaHBldF93cml0ZTMyKCpocGV0X2Jvb3RfY2ZnLCBIUEVUX0NGRyk7
CiB9CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4t
ZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczov
L2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

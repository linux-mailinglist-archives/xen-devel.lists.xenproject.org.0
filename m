Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id E77C0114956
	for <lists+xen-devel@lfdr.de>; Thu,  5 Dec 2019 23:33:12 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iczdh-0002mP-AD; Thu, 05 Dec 2019 22:30:25 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=G9sg=Z3=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1iczdg-0002mH-G4
 for xen-devel@lists.xenproject.org; Thu, 05 Dec 2019 22:30:24 +0000
X-Inumbo-ID: ce4df294-17ae-11ea-a4aa-bc764e2007e4
Received: from esa2.hc3370-68.iphmx.com (unknown [216.71.145.153])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id ce4df294-17ae-11ea-a4aa-bc764e2007e4;
 Thu, 05 Dec 2019 22:30:14 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1575585015;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=TWpK657P4Q9TvUsBYvgoVQV0UnIwAhfH5As98xFiTGE=;
 b=g+FOdUkGfeH391h02baEMMsxJHXS5YCbqd7GFfb4/kGChRJwM09+Ucp0
 N4KmDlZLoLhBzLbLLpB/TanQcm0PxEuYBlG1grjbxuHGJ5zLhFpXEAjQ5
 41ChQ1a8dnaNiUJUzEfXJDvcvRbaB4C5XNsFtYHl+zpdsPPLMyDLN4RTT A=;
Authentication-Results: esa2.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa2.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83
 ip4:168.245.78.127 ~all"
Received-SPF: None (esa2.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa2.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: F4JyJUdu1joLd6jcDtvvgBvuQNWJXmkqvC5aHeyJh7KlcM8yXF6y//wLH6CQAOJKf5O0ZdB8Y1
 XFP8f79dqzhQq7hQH39Jnety2OLgVWLRuIrb+xZb/52Me3vnaBijTotLxwgq+JCDsuvUdQ4lIl
 e+QF9heBEFxAEw4XI8vX7yuv8cM8SAIX09BVWqopOvhnzUdJzYgi+NLpeKfnhutCbMzBGQRngT
 k5DiO8XBA9ZkLkyxe7aZf+uOg7dMg8y9ZDitjwjhksj4G/xHKWQkenrBIT+U6nXdfDtB08s703
 LBE=
X-SBRS: 2.7
X-MesageID: 9283663
X-Ironport-Server: esa2.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.69,282,1571716800"; 
   d="scan'208";a="9283663"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Thu, 5 Dec 2019 22:30:04 +0000
Message-ID: <20191205223008.8623-3-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20191205223008.8623-1-andrew.cooper3@citrix.com>
References: <20191205223008.8623-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 2/6] xen/tasklet: Switch data parameter from
 unsigned long to void *.
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Andrew Cooper <andrew.cooper3@citrix.com>,
 Jan Beulich <JBeulich@suse.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

TW9zdCB1c2VycyBwYXNzIGEgdmNwdSBwb2ludGVyLCBhbmQgb25seSBzdG9wbWFjaGluZV9hY3Rp
b24oKSB0YWtlcyBhbiBpbnRlZ2VyCnBhcmFtZXRlci4gIFN3aXRjaCB0byB1c2luZyB2b2lkICog
dG8gc3Vic3RhbnRpYWxseSByZWR1Y2UgdGhlIG51bWJlciBvZgpleHBsaWNpdCBjYXN0cy4KCk5v
IGZ1bmN0aW9uYWwgY2hhbmdlLgoKU2lnbmVkLW9mZi1ieTogQW5kcmV3IENvb3BlciA8YW5kcmV3
LmNvb3BlcjNAY2l0cml4LmNvbT4KLS0tCkNDOiBKYW4gQmV1bGljaCA8SkJldWxpY2hAc3VzZS5j
b20+CkNDOiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgpDQzogUm9nZXIgUGF1IE1vbm7DqSA8cm9nZXIu
cGF1QGNpdHJpeC5jb20+CkNDOiBTdGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5l
bC5vcmc+CkNDOiBKdWxpZW4gR3JhbGwgPGp1bGllbkB4ZW4ub3JnPgpDQzogVm9sb2R5bXlyIEJh
YmNodWsgPFZvbG9keW15cl9CYWJjaHVrQGVwYW0uY29tPgotLS0KIHhlbi9hcmNoL3g4Ni9odm0v
aHZtLmMgICAgICAgICAgICAgICAgICAgIHwgIDYgKystLS0tCiB4ZW4vYXJjaC94ODYvaHZtL3Zs
YXBpYy5jICAgICAgICAgICAgICAgICB8ICA4ICsrKy0tLS0tCiB4ZW4vYXJjaC94ODYvbW0vc2hh
ZG93L2NvbW1vbi5jICAgICAgICAgICB8ICA0ICsrLS0KIHhlbi9jb21tb24vZG9tYWluLmMgICAg
ICAgICAgICAgICAgICAgICAgIHwgMTUgKysrKysrLS0tLS0tLS0tCiB4ZW4vY29tbW9uL2tleWhh
bmRsZXIuYyAgICAgICAgICAgICAgICAgICB8IDE5ICsrKysrKysrKy0tLS0tLS0tLS0KIHhlbi9j
b21tb24vc3RvcF9tYWNoaW5lLmMgICAgICAgICAgICAgICAgIHwgIDUgKysrLS0KIHhlbi9jb21t
b24vdGFza2xldC5jICAgICAgICAgICAgICAgICAgICAgIHwgIDYgKystLS0tCiB4ZW4vY29tbW9u
L3RyYWNlLmMgICAgICAgICAgICAgICAgICAgICAgICB8ICA0ICsrLS0KIHhlbi9kcml2ZXJzL2No
YXIvY29uc29sZS5jICAgICAgICAgICAgICAgIHwgIDQgKystLQogeGVuL2RyaXZlcnMvcGFzc3Ro
cm91Z2gvYW1kL2lvbW11X2d1ZXN0LmMgfCAgNyArKystLS0tCiB4ZW4vZHJpdmVycy9wYXNzdGhy
b3VnaC9hbWQvaW9tbXVfaW5pdC5jICB8ICA2ICsrKy0tLQogeGVuL2RyaXZlcnMvcGFzc3Rocm91
Z2gvaW9tbXUuYyAgICAgICAgICAgfCAgNCArKy0tCiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92
dGQvaW9tbXUuYyAgICAgICB8ICA0ICsrLS0KIHhlbi9pbmNsdWRlL2FzbS14ODYvc2hhZG93Lmgg
ICAgICAgICAgICAgIHwgIDUgKystLS0KIHhlbi9pbmNsdWRlL3hlbi90YXNrbGV0LmggICAgICAg
ICAgICAgICAgIHwgMTAgKysrKy0tLS0tLQogMTUgZmlsZXMgY2hhbmdlZCwgNDcgaW5zZXJ0aW9u
cygrKSwgNjAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9odm0u
YyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMKaW5kZXggNDc1NzNmNzFiOC4uZDkwOWZlYzMwZCAx
MDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2h2bS9odm0uYworKysgYi94ZW4vYXJjaC94ODYvaHZt
L2h2bS5jCkBAIC0xNTI1LDEwICsxNTI1LDggQEAgaW50IGh2bV92Y3B1X2luaXRpYWxpc2Uoc3Ry
dWN0IHZjcHUgKnYpCiAgICAgaWYgKCAocmMgPSBodm1fZnVuY3MudmNwdV9pbml0aWFsaXNlKHYp
KSAhPSAwICkgLyogdGVhcmRvd246IGh2bV9mdW5jcy52Y3B1X2Rlc3Ryb3kgKi8KICAgICAgICAg
Z290byBmYWlsMzsKIAotICAgIHNvZnRpcnFfdGFza2xldF9pbml0KAotICAgICAgICAmdi0+YXJj
aC5odm0uYXNzZXJ0X2V2dGNobl9pcnFfdGFza2xldCwKLSAgICAgICAgKHZvaWQoKikodW5zaWdu
ZWQgbG9uZykpaHZtX2Fzc2VydF9ldnRjaG5faXJxLAotICAgICAgICAodW5zaWduZWQgbG9uZyl2
KTsKKyAgICBzb2Z0aXJxX3Rhc2tsZXRfaW5pdCgmdi0+YXJjaC5odm0uYXNzZXJ0X2V2dGNobl9p
cnFfdGFza2xldCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAodm9pZCAoKikodm9pZCAqKSlo
dm1fYXNzZXJ0X2V2dGNobl9pcnEsIHYpOwogCiAgICAgdi0+YXJjaC5odm0uaW5qZWN0X2V2ZW50
LnZlY3RvciA9IEhWTV9FVkVOVF9WRUNUT1JfVU5TRVQ7CiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNo
L3g4Ni9odm0vdmxhcGljLmMgYi94ZW4vYXJjaC94ODYvaHZtL3ZsYXBpYy5jCmluZGV4IDliOGFm
YjcyZTguLjA2MjM1ZjE4M2UgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9odm0vdmxhcGljLmMK
KysrIGIveGVuL2FyY2gveDg2L2h2bS92bGFwaWMuYwpAQCAtMzA5LDkgKzMwOSw5IEBAIHN0YXRp
YyB2b2lkIHZsYXBpY19pbml0X3NpcGlfb25lKHN0cnVjdCB2Y3B1ICp0YXJnZXQsIHVpbnQzMl90
IGljcikKICAgICB2Y3B1X3VucGF1c2UodGFyZ2V0KTsKIH0KIAotc3RhdGljIHZvaWQgdmxhcGlj
X2luaXRfc2lwaV9hY3Rpb24odW5zaWduZWQgbG9uZyBfdmNwdSkKK3N0YXRpYyB2b2lkIHZsYXBp
Y19pbml0X3NpcGlfYWN0aW9uKHZvaWQgKmRhdGEpCiB7Ci0gICAgc3RydWN0IHZjcHUgKm9yaWdp
biA9IChzdHJ1Y3QgdmNwdSAqKV92Y3B1OworICAgIHN0cnVjdCB2Y3B1ICpvcmlnaW4gPSBkYXRh
OwogICAgIHVpbnQzMl90IGljciA9IHZjcHVfdmxhcGljKG9yaWdpbiktPmluaXRfc2lwaS5pY3I7
CiAgICAgdWludDMyX3QgZGVzdCA9IHZjcHVfdmxhcGljKG9yaWdpbiktPmluaXRfc2lwaS5kZXN0
OwogICAgIHVpbnQzMl90IHNob3J0X2hhbmQgPSBpY3IgJiBBUElDX1NIT1JUX01BU0s7CkBAIC0x
NjM3LDkgKzE2MzcsNyBAQCBpbnQgdmxhcGljX2luaXQoc3RydWN0IHZjcHUgKnYpCiAKICAgICBz
cGluX2xvY2tfaW5pdCgmdmxhcGljLT5lc3JfbG9jayk7CiAKLSAgICB0YXNrbGV0X2luaXQoJnZs
YXBpYy0+aW5pdF9zaXBpLnRhc2tsZXQsCi0gICAgICAgICAgICAgICAgIHZsYXBpY19pbml0X3Np
cGlfYWN0aW9uLAotICAgICAgICAgICAgICAgICAodW5zaWduZWQgbG9uZyl2KTsKKyAgICB0YXNr
bGV0X2luaXQoJnZsYXBpYy0+aW5pdF9zaXBpLnRhc2tsZXQsIHZsYXBpY19pbml0X3NpcGlfYWN0
aW9uLCB2KTsKIAogICAgIGlmICggdi0+dmNwdV9pZCA9PSAwICkKICAgICAgICAgcmVnaXN0ZXJf
bW1pb19oYW5kbGVyKHYtPmRvbWFpbiwgJnZsYXBpY19tbWlvX29wcyk7CmRpZmYgLS1naXQgYS94
ZW4vYXJjaC94ODYvbW0vc2hhZG93L2NvbW1vbi5jIGIveGVuL2FyY2gveDg2L21tL3NoYWRvdy9j
b21tb24uYwppbmRleCAzMTRkODM3NjAyLi42MjEyZWMyYzRhIDEwMDY0NAotLS0gYS94ZW4vYXJj
aC94ODYvbW0vc2hhZG93L2NvbW1vbi5jCisrKyBiL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvY29t
bW9uLmMKQEAgLTM0NzEsOSArMzQ3MSw5IEBAIHZvaWQgc2hhZG93X2F1ZGl0X3RhYmxlcyhzdHJ1
Y3QgdmNwdSAqdikKIAogI2lmZGVmIENPTkZJR19QVgogCi12b2lkIHB2X2wxdGZfdGFza2xldCh1
bnNpZ25lZCBsb25nIGRhdGEpCit2b2lkIHB2X2wxdGZfdGFza2xldCh2b2lkICpkYXRhKQogewot
ICAgIHN0cnVjdCBkb21haW4gKmQgPSAodm9pZCAqKWRhdGE7CisgICAgc3RydWN0IGRvbWFpbiAq
ZCA9IGRhdGE7CiAKICAgICBkb21haW5fcGF1c2UoZCk7CiAgICAgcGFnaW5nX2xvY2soZCk7CmRp
ZmYgLS1naXQgYS94ZW4vY29tbW9uL2RvbWFpbi5jIGIveGVuL2NvbW1vbi9kb21haW4uYwppbmRl
eCBjY2Y2ODlmY2JlLi44NjVhMWNiOWQ3IDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL2RvbWFpbi5j
CisrKyBiL3hlbi9jb21tb24vZG9tYWluLmMKQEAgLTE1MCw3ICsxNTAsNyBAQCBzdHJ1Y3QgdmNw
dSAqdmNwdV9jcmVhdGUoc3RydWN0IGRvbWFpbiAqZCwgdW5zaWduZWQgaW50IHZjcHVfaWQpCiAK
ICAgICBzcGluX2xvY2tfaW5pdCgmdi0+dmlycV9sb2NrKTsKIAotICAgIHRhc2tsZXRfaW5pdCgm
di0+Y29udGludWVfaHlwZXJjYWxsX3Rhc2tsZXQsIE5VTEwsIDApOworICAgIHRhc2tsZXRfaW5p
dCgmdi0+Y29udGludWVfaHlwZXJjYWxsX3Rhc2tsZXQsIE5VTEwsIE5VTEwpOwogCiAgICAgZ3Jh
bnRfdGFibGVfaW5pdF92Y3B1KHYpOwogCkBAIC0xNjYxLDkgKzE2NjEsOSBAQCBzdHJ1Y3QgbWln
cmF0ZV9pbmZvIHsKIAogc3RhdGljIERFRklORV9QRVJfQ1BVKHN0cnVjdCBtaWdyYXRlX2luZm8g
KiwgY29udGludWVfaW5mbyk7CiAKLXN0YXRpYyB2b2lkIGNvbnRpbnVlX2h5cGVyY2FsbF90YXNr
bGV0X2hhbmRsZXIodW5zaWduZWQgbG9uZyBfaW5mbykKK3N0YXRpYyB2b2lkIGNvbnRpbnVlX2h5
cGVyY2FsbF90YXNrbGV0X2hhbmRsZXIodm9pZCAqZGF0YSkKIHsKLSAgICBzdHJ1Y3QgbWlncmF0
ZV9pbmZvICppbmZvID0gKHN0cnVjdCBtaWdyYXRlX2luZm8gKilfaW5mbzsKKyAgICBzdHJ1Y3Qg
bWlncmF0ZV9pbmZvICppbmZvID0gZGF0YTsKICAgICBzdHJ1Y3QgdmNwdSAqdiA9IGluZm8tPnZj
cHU7CiAgICAgbG9uZyByZXMgPSAtRUlOVkFMOwogCkBAIC0xNzA3LDEyICsxNzA3LDkgQEAgaW50
IGNvbnRpbnVlX2h5cGVyY2FsbF9vbl9jcHUoCiAgICAgICAgIGluZm8tPnZjcHUgPSBjdXJyOwog
ICAgICAgICBpbmZvLT5uZXN0ID0gMDsKIAotICAgICAgICB0YXNrbGV0X2tpbGwoCi0gICAgICAg
ICAgICAmY3Vyci0+Y29udGludWVfaHlwZXJjYWxsX3Rhc2tsZXQpOwotICAgICAgICB0YXNrbGV0
X2luaXQoCi0gICAgICAgICAgICAmY3Vyci0+Y29udGludWVfaHlwZXJjYWxsX3Rhc2tsZXQsCi0g
ICAgICAgICAgICBjb250aW51ZV9oeXBlcmNhbGxfdGFza2xldF9oYW5kbGVyLAotICAgICAgICAg
ICAgKHVuc2lnbmVkIGxvbmcpaW5mbyk7CisgICAgICAgIHRhc2tsZXRfa2lsbCgmY3Vyci0+Y29u
dGludWVfaHlwZXJjYWxsX3Rhc2tsZXQpOworICAgICAgICB0YXNrbGV0X2luaXQoJmN1cnItPmNv
bnRpbnVlX2h5cGVyY2FsbF90YXNrbGV0LAorICAgICAgICAgICAgICAgICAgICAgY29udGludWVf
aHlwZXJjYWxsX3Rhc2tsZXRfaGFuZGxlciwgaW5mbyk7CiAKICAgICAgICAgZ2V0X2tub3duYWxp
dmVfZG9tYWluKGN1cnItPmRvbWFpbik7CiAgICAgICAgIHZjcHVfcGF1c2Vfbm9zeW5jKGN1cnIp
OwpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9rZXloYW5kbGVyLmMgYi94ZW4vY29tbW9uL2tleWhh
bmRsZXIuYwppbmRleCBkYzYzOTZiMjI1Li5mNTA0OTBkMGYzIDEwMDY0NAotLS0gYS94ZW4vY29t
bW9uL2tleWhhbmRsZXIuYworKysgYi94ZW4vY29tbW9uL2tleWhhbmRsZXIuYwpAQCAtNzEsMTIg
KzcxLDEyIEBAIHN0YXRpYyBzdHJ1Y3Qga2V5aGFuZGxlciB7CiAjdW5kZWYgS0VZSEFORExFUgog
fTsKIAotc3RhdGljIHZvaWQga2V5cHJlc3NfYWN0aW9uKHVuc2lnbmVkIGxvbmcgdW51c2VkKQor
c3RhdGljIHZvaWQga2V5cHJlc3NfYWN0aW9uKHZvaWQgKnVudXNlZCkKIHsKICAgICBoYW5kbGVf
a2V5cHJlc3Moa2V5cHJlc3Nfa2V5LCBOVUxMKTsKIH0KIAotc3RhdGljIERFQ0xBUkVfVEFTS0xF
VChrZXlwcmVzc190YXNrbGV0LCBrZXlwcmVzc19hY3Rpb24sIDApOworc3RhdGljIERFQ0xBUkVf
VEFTS0xFVChrZXlwcmVzc190YXNrbGV0LCBrZXlwcmVzc19hY3Rpb24sIE5VTEwpOwogCiB2b2lk
IGhhbmRsZV9rZXlwcmVzcyh1bnNpZ25lZCBjaGFyIGtleSwgc3RydWN0IGNwdV91c2VyX3JlZ3Mg
KnJlZ3MpCiB7CkBAIC0xOTksMTEgKzE5OSwxMSBAQCBzdGF0aWMgdm9pZCBkdW1wX3JlZ2lzdGVy
cyh1bnNpZ25lZCBjaGFyIGtleSwgc3RydWN0IGNwdV91c2VyX3JlZ3MgKnJlZ3MpCiAgICAgd2F0
Y2hkb2dfZW5hYmxlKCk7CiB9CiAKLXN0YXRpYyBERUNMQVJFX1RBU0tMRVQoZHVtcF9od2RvbV90
YXNrbGV0LCBOVUxMLCAwKTsKK3N0YXRpYyBERUNMQVJFX1RBU0tMRVQoZHVtcF9od2RvbV90YXNr
bGV0LCBOVUxMLCBOVUxMKTsKIAotc3RhdGljIHZvaWQgZHVtcF9od2RvbV9hY3Rpb24odW5zaWdu
ZWQgbG9uZyBhcmcpCitzdGF0aWMgdm9pZCBkdW1wX2h3ZG9tX2FjdGlvbih2b2lkICpkYXRhKQog
ewotICAgIHN0cnVjdCB2Y3B1ICp2ID0gKHZvaWQgKilhcmc7CisgICAgc3RydWN0IHZjcHUgKnYg
PSBkYXRhOwogCiAgICAgZm9yICggOyA7ICkKICAgICB7CkBAIC0yMTIsNyArMjEyLDcgQEAgc3Rh
dGljIHZvaWQgZHVtcF9od2RvbV9hY3Rpb24odW5zaWduZWQgbG9uZyBhcmcpCiAgICAgICAgICAg
ICBicmVhazsKICAgICAgICAgaWYgKCBzb2Z0aXJxX3BlbmRpbmcoc21wX3Byb2Nlc3Nvcl9pZCgp
KSApCiAgICAgICAgIHsKLSAgICAgICAgICAgIGR1bXBfaHdkb21fdGFza2xldC5kYXRhID0gKHVu
c2lnbmVkIGxvbmcpdjsKKyAgICAgICAgICAgIGR1bXBfaHdkb21fdGFza2xldC5kYXRhID0gdjsK
ICAgICAgICAgICAgIHRhc2tsZXRfc2NoZWR1bGVfb25fY3B1KCZkdW1wX2h3ZG9tX3Rhc2tsZXQs
IHYtPnByb2Nlc3Nvcik7CiAgICAgICAgICAgICBicmVhazsKICAgICAgICAgfQpAQCAtMjMzLDgg
KzIzMyw3IEBAIHN0YXRpYyB2b2lkIGR1bXBfaHdkb21fcmVnaXN0ZXJzKHVuc2lnbmVkIGNoYXIg
a2V5KQogICAgICAgICBpZiAoIGFsdF9rZXlfaGFuZGxpbmcgJiYgc29mdGlycV9wZW5kaW5nKHNt
cF9wcm9jZXNzb3JfaWQoKSkgKQogICAgICAgICB7CiAgICAgICAgICAgICB0YXNrbGV0X2tpbGwo
JmR1bXBfaHdkb21fdGFza2xldCk7Ci0gICAgICAgICAgICB0YXNrbGV0X2luaXQoJmR1bXBfaHdk
b21fdGFza2xldCwgZHVtcF9od2RvbV9hY3Rpb24sCi0gICAgICAgICAgICAgICAgICAgICAgICAg
KHVuc2lnbmVkIGxvbmcpdik7CisgICAgICAgICAgICB0YXNrbGV0X2luaXQoJmR1bXBfaHdkb21f
dGFza2xldCwgZHVtcF9od2RvbV9hY3Rpb24sIHYpOwogICAgICAgICAgICAgdGFza2xldF9zY2hl
ZHVsZV9vbl9jcHUoJmR1bXBfaHdkb21fdGFza2xldCwgdi0+cHJvY2Vzc29yKTsKICAgICAgICAg
ICAgIHJldHVybjsKICAgICAgICAgfQpAQCAtNDMzLDcgKzQzMiw3IEBAIHN0YXRpYyB2b2lkIHJl
YWRfY2xvY2tzKHVuc2lnbmVkIGNoYXIga2V5KQogICAgICAgICAgICBtYXhkaWZfY3ljbGVzLCBz
dW1kaWZfY3ljbGVzL2NvdW50LCBjb3VudCwgZGlmX2N5Y2xlcyk7CiB9CiAKLXN0YXRpYyB2b2lk
IHJ1bl9hbGxfbm9uaXJxX2tleWhhbmRsZXJzKHVuc2lnbmVkIGxvbmcgdW51c2VkKQorc3RhdGlj
IHZvaWQgcnVuX2FsbF9ub25pcnFfa2V5aGFuZGxlcnModm9pZCAqdW51c2VkKQogewogICAgIC8q
IEZpcmUgYWxsIHRoZSBub24tSVJRLWNvbnRleHQgZGlhZ25vc3RpYyBrZXloYW5kbGVycyAqLwog
ICAgIHN0cnVjdCBrZXloYW5kbGVyICpoOwpAQCAtNDU1LDcgKzQ1NCw3IEBAIHN0YXRpYyB2b2lk
IHJ1bl9hbGxfbm9uaXJxX2tleWhhbmRsZXJzKHVuc2lnbmVkIGxvbmcgdW51c2VkKQogfQogCiBz
dGF0aWMgREVDTEFSRV9UQVNLTEVUKHJ1bl9hbGxfa2V5aGFuZGxlcnNfdGFza2xldCwKLSAgICAg
ICAgICAgICAgICAgICAgICAgcnVuX2FsbF9ub25pcnFfa2V5aGFuZGxlcnMsIDApOworICAgICAg
ICAgICAgICAgICAgICAgICBydW5fYWxsX25vbmlycV9rZXloYW5kbGVycywgTlVMTCk7CiAKIHN0
YXRpYyB2b2lkIHJ1bl9hbGxfa2V5aGFuZGxlcnModW5zaWduZWQgY2hhciBrZXksIHN0cnVjdCBj
cHVfdXNlcl9yZWdzICpyZWdzKQogewpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zdG9wX21hY2hp
bmUuYyBiL3hlbi9jb21tb24vc3RvcF9tYWNoaW5lLmMKaW5kZXggNjgxYjQwOTA2ZC4uMzNkOTYw
MjIxNyAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9zdG9wX21hY2hpbmUuYworKysgYi94ZW4vY29t
bW9uL3N0b3BfbWFjaGluZS5jCkBAIC0xMzQsOCArMTM0LDkgQEAgaW50IHN0b3BfbWFjaGluZV9y
dW4oaW50ICgqZm4pKHZvaWQgKiksIHZvaWQgKmRhdGEsIHVuc2lnbmVkIGludCBjcHUpCiAgICAg
cmV0dXJuIHJldDsKIH0KIAotc3RhdGljIHZvaWQgc3RvcG1hY2hpbmVfYWN0aW9uKHVuc2lnbmVk
IGxvbmcgY3B1KQorc3RhdGljIHZvaWQgc3RvcG1hY2hpbmVfYWN0aW9uKHZvaWQgKmRhdGEpCiB7
CisgICAgdW5zaWduZWQgaW50IGNwdSA9ICh1bnNpZ25lZCBsb25nKWRhdGE7CiAgICAgZW51bSBz
dG9wbWFjaGluZV9zdGF0ZSBzdGF0ZSA9IFNUT1BNQUNISU5FX1NUQVJUOwogCiAgICAgQlVHX09O
KGNwdSAhPSBzbXBfcHJvY2Vzc29yX2lkKCkpOwpAQCAtMTgxLDcgKzE4Miw3IEBAIHN0YXRpYyBp
bnQgY3B1X2NhbGxiYWNrKAogCiAgICAgaWYgKCBhY3Rpb24gPT0gQ1BVX1VQX1BSRVBBUkUgKQog
ICAgICAgICB0YXNrbGV0X2luaXQoJnBlcl9jcHUoc3RvcG1hY2hpbmVfdGFza2xldCwgY3B1KSwK
LSAgICAgICAgICAgICAgICAgICAgIHN0b3BtYWNoaW5lX2FjdGlvbiwgY3B1KTsKKyAgICAgICAg
ICAgICAgICAgICAgIHN0b3BtYWNoaW5lX2FjdGlvbiwgaGNwdSk7CiAKICAgICByZXR1cm4gTk9U
SUZZX0RPTkU7CiB9CmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL3Rhc2tsZXQuYyBiL3hlbi9jb21t
b24vdGFza2xldC5jCmluZGV4IGQ0ZmVhMzE1MWMuLmFjODk1MTFhMDkgMTAwNjQ0Ci0tLSBhL3hl
bi9jb21tb24vdGFza2xldC5jCisrKyBiL3hlbi9jb21tb24vdGFza2xldC5jCkBAIC0xOTksOCAr
MTk5LDcgQEAgc3RhdGljIHZvaWQgbWlncmF0ZV90YXNrbGV0c19mcm9tX2NwdSh1bnNpZ25lZCBp
bnQgY3B1LCBzdHJ1Y3QgbGlzdF9oZWFkICpsaXN0KQogICAgIHNwaW5fdW5sb2NrX2lycXJlc3Rv
cmUoJnRhc2tsZXRfbG9jaywgZmxhZ3MpOwogfQogCi12b2lkIHRhc2tsZXRfaW5pdCgKLSAgICBz
dHJ1Y3QgdGFza2xldCAqdCwgdm9pZCAoKmZ1bmMpKHVuc2lnbmVkIGxvbmcpLCB1bnNpZ25lZCBs
b25nIGRhdGEpCit2b2lkIHRhc2tsZXRfaW5pdChzdHJ1Y3QgdGFza2xldCAqdCwgdm9pZCAoKmZ1
bmMpKHZvaWQgKiksIHZvaWQgKmRhdGEpCiB7CiAgICAgbWVtc2V0KHQsIDAsIHNpemVvZigqdCkp
OwogICAgIElOSVRfTElTVF9IRUFEKCZ0LT5saXN0KTsKQEAgLTIwOSw4ICsyMDgsNyBAQCB2b2lk
IHRhc2tsZXRfaW5pdCgKICAgICB0LT5kYXRhID0gZGF0YTsKIH0KIAotdm9pZCBzb2Z0aXJxX3Rh
c2tsZXRfaW5pdCgKLSAgICBzdHJ1Y3QgdGFza2xldCAqdCwgdm9pZCAoKmZ1bmMpKHVuc2lnbmVk
IGxvbmcpLCB1bnNpZ25lZCBsb25nIGRhdGEpCit2b2lkIHNvZnRpcnFfdGFza2xldF9pbml0KHN0
cnVjdCB0YXNrbGV0ICp0LCB2b2lkICgqZnVuYykodm9pZCAqKSwgdm9pZCAqZGF0YSkKIHsKICAg
ICB0YXNrbGV0X2luaXQodCwgZnVuYywgZGF0YSk7CiAgICAgdC0+aXNfc29mdGlycSA9IDE7CmRp
ZmYgLS1naXQgYS94ZW4vY29tbW9uL3RyYWNlLmMgYi94ZW4vY29tbW9uL3RyYWNlLmMKaW5kZXgg
ZDFlZjgxNDA3Yi4uZWJmYzczNWIzMSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi90cmFjZS5jCisr
KyBiL3hlbi9jb21tb24vdHJhY2UuYwpAQCAtNjYyLDEyICs2NjIsMTIgQEAgc3RhdGljIGlubGlu
ZSB2b2lkIGluc2VydF9sb3N0X3JlY29yZHMoc3RydWN0IHRfYnVmICpidWYpCiAgKiBOb3RpZmlj
YXRpb24gaXMgcGVyZm9ybWVkIGluIHF0YXNrbGV0IHRvIGF2b2lkIGRlYWRsb2NrcyB3aXRoIGNv
bnRleHRzCiAgKiB3aGljaCBfX3RyYWNlX3ZhcigpIG1heSBiZSBjYWxsZWQgZnJvbSAoZS5nLiwg
c2NoZWR1bGVyIGNyaXRpY2FsIHJlZ2lvbnMpLgogICovCi1zdGF0aWMgdm9pZCB0cmFjZV9ub3Rp
ZnlfZG9tMCh1bnNpZ25lZCBsb25nIHVudXNlZCkKK3N0YXRpYyB2b2lkIHRyYWNlX25vdGlmeV9k
b20wKHZvaWQgKnVudXNlZCkKIHsKICAgICBzZW5kX2dsb2JhbF92aXJxKFZJUlFfVEJVRik7CiB9
CiBzdGF0aWMgREVDTEFSRV9TT0ZUSVJRX1RBU0tMRVQodHJhY2Vfbm90aWZ5X2RvbTBfdGFza2xl
dCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFjZV9ub3RpZnlfZG9tMCwgMCk7
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2Vfbm90aWZ5X2RvbTAsIE5VTEwp
OwogCiAvKioKICAqIF9fdHJhY2VfdmFyIC0gRW50ZXJzIGEgdHJhY2UgdHVwbGUgaW50byB0aGUg
dHJhY2UgYnVmZmVyIGZvciB0aGUgY3VycmVudCBDUFUuCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVy
cy9jaGFyL2NvbnNvbGUuYyBiL3hlbi9kcml2ZXJzL2NoYXIvY29uc29sZS5jCmluZGV4IDg0NGM1
ZGU3NGUuLmIzMWQ3ODlhNWQgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL2NoYXIvY29uc29sZS5j
CisrKyBiL3hlbi9kcml2ZXJzL2NoYXIvY29uc29sZS5jCkBAIC01MDUsMTIgKzUwNSwxMiBAQCBz
dGF0aWMgdm9pZCBzZXJpYWxfcngoY2hhciBjLCBzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncykK
ICAgICBfX3NlcmlhbF9yeChjLCByZWdzKTsKIH0KIAotc3RhdGljIHZvaWQgbm90aWZ5X2RvbTBf
Y29uX3JpbmcodW5zaWduZWQgbG9uZyB1bnVzZWQpCitzdGF0aWMgdm9pZCBub3RpZnlfZG9tMF9j
b25fcmluZyh2b2lkICp1bnVzZWQpCiB7CiAgICAgc2VuZF9nbG9iYWxfdmlycShWSVJRX0NPTl9S
SU5HKTsKIH0KIHN0YXRpYyBERUNMQVJFX1NPRlRJUlFfVEFTS0xFVChub3RpZnlfZG9tMF9jb25f
cmluZ190YXNrbGV0LAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmeV9kb20w
X2Nvbl9yaW5nLCAwKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlfZG9t
MF9jb25fcmluZywgTlVMTCk7CiAKICNpZmRlZiBDT05GSUdfWDg2CiBzdGF0aWMgaW5saW5lIHZv
aWQgeGVuX2NvbnNvbGVfd3JpdGVfZGVidWdfcG9ydChjb25zdCBjaGFyICpidWYsIHNpemVfdCBs
ZW4pCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQvaW9tbXVfZ3Vlc3Qu
YyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9ndWVzdC5jCmluZGV4IDFmMmJj
ZmJlMTUuLjRlZDY1MTllNmUgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2Ft
ZC9pb21tdV9ndWVzdC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2FtZC9pb21tdV9n
dWVzdC5jCkBAIC00MzUsMTEgKzQzNSwxMSBAQCBzdGF0aWMgaW50IGRvX2ludmFsaWRhdGVfZHRl
KHN0cnVjdCBkb21haW4gKmQsIGNtZF9lbnRyeV90ICpjbWQpCiAgICAgcmV0dXJuIDA7CiB9CiAK
LXN0YXRpYyB2b2lkIGd1ZXN0X2lvbW11X3Byb2Nlc3NfY29tbWFuZCh1bnNpZ25lZCBsb25nIF9k
KQorc3RhdGljIHZvaWQgZ3Vlc3RfaW9tbXVfcHJvY2Vzc19jb21tYW5kKHZvaWQgKmRhdGEpCiB7
CiAgICAgdW5zaWduZWQgbG9uZyBvcGNvZGUsIHRhaWwsIGhlYWQsIGVudHJpZXNfcGVyX3BhZ2Us
IGNtZF9tZm47CiAgICAgY21kX2VudHJ5X3QgKmNtZCwgKmNtZF9iYXNlOwotICAgIHN0cnVjdCBk
b21haW4gKmQgPSAoc3RydWN0IGRvbWFpbiAqKV9kOworICAgIHN0cnVjdCBkb21haW4gKmQgPSBk
YXRhOwogICAgIHN0cnVjdCBndWVzdF9pb21tdSAqaW9tbXU7CiAKICAgICBpb21tdSA9IGRvbWFp
bl9pb21tdShkKTsKQEAgLTgzNyw4ICs4MzcsNyBAQCBpbnQgZ3Vlc3RfaW9tbXVfaW5pdChzdHJ1
Y3QgZG9tYWluKiBkKQogICAgIGlvbW11LT5kb21haW4gPSBkOwogICAgIGhkLT5hcmNoLmdfaW9t
bXUgPSBpb21tdTsKIAotICAgIHRhc2tsZXRfaW5pdCgmaW9tbXUtPmNtZF9idWZmZXJfdGFza2xl
dCwKLSAgICAgICAgICAgICAgICAgZ3Vlc3RfaW9tbXVfcHJvY2Vzc19jb21tYW5kLCAodW5zaWdu
ZWQgbG9uZylkKTsKKyAgICB0YXNrbGV0X2luaXQoJmlvbW11LT5jbWRfYnVmZmVyX3Rhc2tsZXQs
IGd1ZXN0X2lvbW11X3Byb2Nlc3NfY29tbWFuZCwgZCk7CiAKICAgICBzcGluX2xvY2tfaW5pdCgm
aW9tbXUtPmxvY2spOwogCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hbWQv
aW9tbXVfaW5pdC5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYW1kL2lvbW11X2luaXQuYwpp
bmRleCA5NTA5MTI0MTU4Li4yZjI2ZmVkNGEzIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNz
dGhyb3VnaC9hbWQvaW9tbXVfaW5pdC5jCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2Ft
ZC9pb21tdV9pbml0LmMKQEAgLTMzLDggKzMzLDggQEAKIHN0YXRpYyBpbnQgX19pbml0ZGF0YSBu
cl9hbWRfaW9tbXVzOwogc3RhdGljIGJvb2wgX19pbml0ZGF0YSBwY2lfaW5pdDsKIAotc3RhdGlj
IHZvaWQgZG9fYW1kX2lvbW11X2lycSh1bnNpZ25lZCBsb25nIGRhdGEpOwotc3RhdGljIERFQ0xB
UkVfU09GVElSUV9UQVNLTEVUKGFtZF9pb21tdV9pcnFfdGFza2xldCwgZG9fYW1kX2lvbW11X2ly
cSwgMCk7CitzdGF0aWMgdm9pZCBkb19hbWRfaW9tbXVfaXJxKHZvaWQgKmRhdGEpOworc3RhdGlj
IERFQ0xBUkVfU09GVElSUV9UQVNLTEVUKGFtZF9pb21tdV9pcnFfdGFza2xldCwgZG9fYW1kX2lv
bW11X2lycSwgTlVMTCk7CiAKIHVuc2lnbmVkIGludCBfX3JlYWRfbW9zdGx5IGl2cnNfYmRmX2Vu
dHJpZXM7CiB1OCBfX3JlYWRfbW9zdGx5IGl2aGRfdHlwZTsKQEAgLTcyMyw3ICs3MjMsNyBAQCBz
dGF0aWMgdm9pZCBpb21tdV9jaGVja19wcHJfbG9nKHN0cnVjdCBhbWRfaW9tbXUgKmlvbW11KQog
ICAgIHNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmlvbW11LT5sb2NrLCBmbGFncyk7CiB9CiAKLXN0
YXRpYyB2b2lkIGRvX2FtZF9pb21tdV9pcnEodW5zaWduZWQgbG9uZyBkYXRhKQorc3RhdGljIHZv
aWQgZG9fYW1kX2lvbW11X2lycSh2b2lkICp1bnVzZWQpCiB7CiAgICAgc3RydWN0IGFtZF9pb21t
dSAqaW9tbXU7CiAKZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMg
Yi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9pb21tdS5jCmluZGV4IDA1ZTc0MDc1N2EuLjRlMTlj
ZjU2Y2MgMTAwNjQ0Ci0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMKKysrIGIv
eGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYwpAQCAtMzY5LDcgKzM2OSw3IEBAIGludCBp
b21tdV9sb29rdXBfcGFnZShzdHJ1Y3QgZG9tYWluICpkLCBkZm5fdCBkZm4sIG1mbl90ICptZm4s
CiAgICAgcmV0dXJuIGlvbW11X2NhbGwoaGQtPnBsYXRmb3JtX29wcywgbG9va3VwX3BhZ2UsIGQs
IGRmbiwgbWZuLCBmbGFncyk7CiB9CiAKLXN0YXRpYyB2b2lkIGlvbW11X2ZyZWVfcGFnZXRhYmxl
cyh1bnNpZ25lZCBsb25nIHVudXNlZCkKK3N0YXRpYyB2b2lkIGlvbW11X2ZyZWVfcGFnZXRhYmxl
cyh2b2lkICp1bnVzZWQpCiB7CiAgICAgZG8gewogICAgICAgICBzdHJ1Y3QgcGFnZV9pbmZvICpw
ZzsKQEAgLTUwMCw3ICs1MDAsNyBAQCBpbnQgX19pbml0IGlvbW11X3NldHVwKHZvaWQpCiAgICAg
ICAgICAgICAgICBpb21tdV9od2RvbV9wYXNzdGhyb3VnaCA/ICJQYXNzdGhyb3VnaCIgOgogICAg
ICAgICAgICAgICAgaW9tbXVfaHdkb21fc3RyaWN0ID8gIlN0cmljdCIgOiAiUmVsYXhlZCIpOwog
ICAgICAgICBwcmludGsoIkludGVycnVwdCByZW1hcHBpbmcgJXNhYmxlZFxuIiwgaW9tbXVfaW50
cmVtYXAgPyAiZW4iIDogImRpcyIpOwotICAgICAgICB0YXNrbGV0X2luaXQoJmlvbW11X3B0X2Ns
ZWFudXBfdGFza2xldCwgaW9tbXVfZnJlZV9wYWdldGFibGVzLCAwKTsKKyAgICAgICAgdGFza2xl
dF9pbml0KCZpb21tdV9wdF9jbGVhbnVwX3Rhc2tsZXQsIGlvbW11X2ZyZWVfcGFnZXRhYmxlcywg
TlVMTCk7CiAgICAgfQogCiAgICAgcmV0dXJuIHJjOwpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMv
cGFzc3Rocm91Z2gvdnRkL2lvbW11LmMgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92dGQvaW9t
bXUuYwppbmRleCA2NjQ1NTZhYTUxLi5jNTZkZjhlNThlIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVy
cy9wYXNzdGhyb3VnaC92dGQvaW9tbXUuYworKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC92
dGQvaW9tbXUuYwpAQCAtOTY1LDcgKzk2NSw3IEBAIHN0YXRpYyB2b2lkIF9fZG9faW9tbXVfcGFn
ZV9mYXVsdChzdHJ1Y3QgdnRkX2lvbW11ICppb21tdSkKICAgICB9CiB9CiAKLXN0YXRpYyB2b2lk
IGRvX2lvbW11X3BhZ2VfZmF1bHQodW5zaWduZWQgbG9uZyBkYXRhKQorc3RhdGljIHZvaWQgZG9f
aW9tbXVfcGFnZV9mYXVsdCh2b2lkICp1bnVzZWQpCiB7CiAgICAgc3RydWN0IGFjcGlfZHJoZF91
bml0ICpkcmhkOwogCkBAIC0yMzA5LDcgKzIzMDksNyBAQCBzdGF0aWMgaW50IF9faW5pdCB2dGRf
c2V0dXAodm9pZCkKICAgICAgICAgfQogICAgIH0KIAotICAgIHNvZnRpcnFfdGFza2xldF9pbml0
KCZ2dGRfZmF1bHRfdGFza2xldCwgZG9faW9tbXVfcGFnZV9mYXVsdCwgMCk7CisgICAgc29mdGly
cV90YXNrbGV0X2luaXQoJnZ0ZF9mYXVsdF90YXNrbGV0LCBkb19pb21tdV9wYWdlX2ZhdWx0LCBO
VUxMKTsKIAogICAgIGlmICggIWlvbW11X3FpbnZhbCAmJiBpb21tdV9pbnRyZW1hcCApCiAgICAg
ewpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9zaGFkb3cuaCBiL3hlbi9pbmNsdWRl
L2FzbS14ODYvc2hhZG93LmgKaW5kZXggOGViYjg5YzAyNy4uOTA3YzcxZjQ5NyAxMDA2NDQKLS0t
IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9zaGFkb3cuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2
L3NoYWRvdy5oCkBAIC0yMzAsNyArMjMwLDcgQEAgc3RhdGljIGlubGluZSBib29sIHB2X2wxdGZf
Y2hlY2tfbDRlKHN0cnVjdCBkb21haW4gKmQsIGw0X3BnZW50cnlfdCBsNGUpCiAgICAgcmV0dXJu
IHB2X2wxdGZfY2hlY2tfcHRlKGQsIDQsIGw0ZS5sNCk7CiB9CiAKLXZvaWQgcHZfbDF0Zl90YXNr
bGV0KHVuc2lnbmVkIGxvbmcgZGF0YSk7Cit2b2lkIHB2X2wxdGZfdGFza2xldCh2b2lkICpkYXRh
KTsKIAogc3RhdGljIGlubGluZSB2b2lkIHB2X2wxdGZfZG9tYWluX2luaXQoc3RydWN0IGRvbWFp
biAqZCkKIHsKQEAgLTIzOCw4ICsyMzgsNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgcHZfbDF0Zl9k
b21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICA6IG9wdF9wdl9sMXRmX2RvbXU7CiAKICNpZmRlZiBDT05G
SUdfU0hBRE9XX1BBR0lORwotICAgIHRhc2tsZXRfaW5pdCgmZC0+YXJjaC5wYWdpbmcuc2hhZG93
LnB2X2wxdGZfdGFza2xldCwKLSAgICAgICAgICAgICAgICAgcHZfbDF0Zl90YXNrbGV0LCAodW5z
aWduZWQgbG9uZylkKTsKKyAgICB0YXNrbGV0X2luaXQoJmQtPmFyY2gucGFnaW5nLnNoYWRvdy5w
dl9sMXRmX3Rhc2tsZXQsIHB2X2wxdGZfdGFza2xldCwgZCk7CiAjZW5kaWYKIH0KIApkaWZmIC0t
Z2l0IGEveGVuL2luY2x1ZGUveGVuL3Rhc2tsZXQuaCBiL3hlbi9pbmNsdWRlL3hlbi90YXNrbGV0
LmgKaW5kZXggYmM5ZGRhY2U2ZC4uZWE3MzE3MWY2ZSAxMDA2NDQKLS0tIGEveGVuL2luY2x1ZGUv
eGVuL3Rhc2tsZXQuaAorKysgYi94ZW4vaW5jbHVkZS94ZW4vdGFza2xldC5oCkBAIC0yMSw4ICsy
MSw4IEBAIHN0cnVjdCB0YXNrbGV0CiAgICAgYm9vbF90IGlzX3NvZnRpcnE7CiAgICAgYm9vbF90
IGlzX3J1bm5pbmc7CiAgICAgYm9vbF90IGlzX2RlYWQ7Ci0gICAgdm9pZCAoKmZ1bmMpKHVuc2ln
bmVkIGxvbmcpOwotICAgIHVuc2lnbmVkIGxvbmcgZGF0YTsKKyAgICB2b2lkICgqZnVuYykodm9p
ZCAqKTsKKyAgICB2b2lkICpkYXRhOwogfTsKIAogI2RlZmluZSBfREVDTEFSRV9UQVNLTEVUKG5h
bWUsIGZ1bmMsIGRhdGEsIHNvZnRpcnEpICAgICAgICAgICAgICAgICAgICAgXApAQCAtNTksMTAg
KzU5LDggQEAgdm9pZCB0YXNrbGV0X3NjaGVkdWxlX29uX2NwdShzdHJ1Y3QgdGFza2xldCAqdCwg
dW5zaWduZWQgaW50IGNwdSk7CiB2b2lkIHRhc2tsZXRfc2NoZWR1bGUoc3RydWN0IHRhc2tsZXQg
KnQpOwogdm9pZCBkb190YXNrbGV0KHZvaWQpOwogdm9pZCB0YXNrbGV0X2tpbGwoc3RydWN0IHRh
c2tsZXQgKnQpOwotdm9pZCB0YXNrbGV0X2luaXQoCi0gICAgc3RydWN0IHRhc2tsZXQgKnQsIHZv
aWQgKCpmdW5jKSh1bnNpZ25lZCBsb25nKSwgdW5zaWduZWQgbG9uZyBkYXRhKTsKLXZvaWQgc29m
dGlycV90YXNrbGV0X2luaXQoCi0gICAgc3RydWN0IHRhc2tsZXQgKnQsIHZvaWQgKCpmdW5jKSh1
bnNpZ25lZCBsb25nKSwgdW5zaWduZWQgbG9uZyBkYXRhKTsKK3ZvaWQgdGFza2xldF9pbml0KHN0
cnVjdCB0YXNrbGV0ICp0LCB2b2lkICgqZnVuYykodm9pZCAqKSwgdm9pZCAqZGF0YSk7Cit2b2lk
IHNvZnRpcnFfdGFza2xldF9pbml0KHN0cnVjdCB0YXNrbGV0ICp0LCB2b2lkICgqZnVuYykodm9p
ZCAqKSwgdm9pZCAqZGF0YSk7CiB2b2lkIHRhc2tsZXRfc3Vic3lzX2luaXQodm9pZCk7CiAKICNl
bmRpZiAvKiBfX1hFTl9UQVNLTEVUX0hfXyAqLwotLSAKMi4xMS4wCgoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApY
ZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

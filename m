Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BDC89165E42
	for <lists+xen-devel@lfdr.de>; Thu, 20 Feb 2020 14:08:30 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j4lXJ-0001MX-7b; Thu, 20 Feb 2020 13:06:37 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=OTtJ=4I=redhat.com=philmd@srs-us1.protection.inumbo.net>)
 id 1j4lXH-0001LF-Sf
 for xen-devel@lists.xenproject.org; Thu, 20 Feb 2020 13:06:35 +0000
X-Inumbo-ID: d27210a2-53e1-11ea-b0fd-bc764e2007e4
Received: from us-smtp-delivery-1.mimecast.com (unknown [205.139.110.61])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id d27210a2-53e1-11ea-b0fd-bc764e2007e4;
 Thu, 20 Feb 2020 13:06:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=redhat.com;
 s=mimecast20190719; t=1582203995;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=Vu5bnXCWmoR0uDiabSQGY0CwtpVH4vjEupEa47euXok=;
 b=B+e4Abv//ugZdLn38Zqbu49kfI3GmQc/vdGlllKKIzcUl6wBkv0Wl/pcH73IVlaupm4qzw
 ufJcmdYRMlVkfwMaYinNt/J2hto8QV6N+iqmLSUEIcAtHzGWzz7E+7PIIa51YklWgv451p
 rSeo7ZP4O/pxvOzG7m6qR6WICjC8UXQ=
Received: from mail-wm1-f70.google.com (mail-wm1-f70.google.com
 [209.85.128.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-128-2nsEbd49MZ2DVas3SsuWZg-1; Thu, 20 Feb 2020 08:06:33 -0500
Received: by mail-wm1-f70.google.com with SMTP id g26so799059wmk.6
 for <xen-devel@lists.xenproject.org>; Thu, 20 Feb 2020 05:06:32 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=/ld+m5dlIbdFkFHFURC0jskPtvz279hvl5fOCIwyBcI=;
 b=XitgwzLxm9XtvZL7o08PEf1bUTtJd60cqG2Irjo/j2VFhPSYIAPK5AXkBjjo0GvUDs
 Hgky7eBpB15YK5R0mFyXaM8jApH+fsI6nvS69eCzgyw3mzesNMWRBpfZ34GU8/cCJIYT
 Dhv7TvNiB0g/VVHp7Md8j2bJR3RDiEk9NYSFS5REjHdsePjs+CRsQXGjufEoAdEIWW7y
 AxEfuDvT4GXRY62SgJn7NDDQsXDblxPCBQEZRjCzkXCjs+goicvifGYM9g51X6Z03rcs
 u6Kq2sktdd4ajIIuELcbZSdp/Lz92NEcF5iXRzhMTDxxSBQCQegz3T0YaL436RPx8TX0
 RHHQ==
X-Gm-Message-State: APjAAAVcvNy/INCkbJCLIvhhZV6BrB3aIiohy8ECgyshlpZ72eaIsI4v
 LBxgPX28LlWRPj6QZkBi8bhhczHLF/p/dM66FHmuTxQKNvrol0yDBa2m4NukE6kpkl1rt9iVDco
 odduL+xS2nD4pAorVLTqGf83NIJI=
X-Received: by 2002:adf:e781:: with SMTP id n1mr45109041wrm.56.1582203991748; 
 Thu, 20 Feb 2020 05:06:31 -0800 (PST)
X-Google-Smtp-Source: APXvYqwouSCwy3rqeENoKe0gZr/3kvydEDFXzHky1eaSJGgeUp7K/B6TN0eEopUiJDH/U8pAJl2oNQ==
X-Received: by 2002:adf:e781:: with SMTP id n1mr45109010wrm.56.1582203991459; 
 Thu, 20 Feb 2020 05:06:31 -0800 (PST)
Received: from localhost.localdomain (78.red-88-21-202.staticip.rima-tde.net.
 [88.21.202.78])
 by smtp.gmail.com with ESMTPSA id b67sm4594690wmc.38.2020.02.20.05.06.28
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 20 Feb 2020 05:06:30 -0800 (PST)
From: =?UTF-8?q?Philippe=20Mathieu-Daud=C3=A9?= <philmd@redhat.com>
To: Peter Maydell <peter.maydell@linaro.org>,
	qemu-devel@nongnu.org
Date: Thu, 20 Feb 2020 14:05:38 +0100
Message-Id: <20200220130548.29974-11-philmd@redhat.com>
X-Mailer: git-send-email 2.21.1
In-Reply-To: <20200220130548.29974-1-philmd@redhat.com>
References: <20200220130548.29974-1-philmd@redhat.com>
MIME-Version: 1.0
X-MC-Unique: 2nsEbd49MZ2DVas3SsuWZg-1
X-Mimecast-Spam-Score: 0
X-Mimecast-Originator: redhat.com
Subject: [Xen-devel] [PATCH v3 10/20] Remove unnecessary cast when using the
 cpu_[physical]_memory API
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Fam Zheng <fam@euphon.net>, Dmitry Fleytman <dmitry.fleytman@gmail.com>,
 kvm@vger.kernel.org, "Michael S. Tsirkin" <mst@redhat.com>,
 Jason Wang <jasowang@redhat.com>, Gerd Hoffmann <kraxel@redhat.com>,
 "Edgar E. Iglesias" <edgar.iglesias@gmail.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Matthew Rosato <mjrosato@linux.ibm.com>, qemu-block@nongnu.org,
 David Hildenbrand <david@redhat.com>, Halil Pasic <pasic@linux.ibm.com>,
 Christian Borntraeger <borntraeger@de.ibm.com>,
 =?UTF-8?q?Herv=C3=A9=20Poussineau?= <hpoussin@reactos.org>,
 Marcel Apfelbaum <marcel.apfelbaum@gmail.com>,
 Anthony Perard <anthony.perard@citrix.com>, xen-devel@lists.xenproject.org,
 Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>,
 Richard Henderson <rth@twiddle.net>,
 =?UTF-8?q?Philippe=20Mathieu-Daud=C3=A9?= <philmd@redhat.com>,
 Laurent Vivier <lvivier@redhat.com>, Thomas Huth <thuth@redhat.com>,
 Eduardo Habkost <ehabkost@redhat.com>, Stefan Weil <sw@weilnetz.de>,
 Alistair Francis <alistair@alistair23.me>,
 Richard Henderson <richard.henderson@linaro.org>, Paul Durrant <paul@xen.org>,
 Eric Auger <eric.auger@redhat.com>, qemu-s390x@nongnu.org, qemu-arm@nongnu.org,
 =?UTF-8?q?C=C3=A9dric=20Le=20Goater?= <clg@kaod.org>,
 John Snow <jsnow@redhat.com>, David Gibson <david@gibson.dropbear.id.au>,
 Igor Mitsyanko <i.mitsyanko@gmail.com>, Cornelia Huck <cohuck@redhat.com>,
 Michael Walle <michael@walle.cc>, qemu-ppc@nongnu.org,
 Paolo Bonzini <pbonzini@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBjb21taXQgd2FzIHByb2R1Y2VkIHdpdGggdGhlIGluY2x1ZGVkIENvY2NpbmVsbGUgc2Ny
aXB0CnNjcmlwdHMvY29jY2luZWxsZS9leGVjX3J3X2NvbnN0LgoKU3VnZ2VzdGVkLWJ5OiBTdGVm
YW4gV2VpbCA8c3dAd2VpbG5ldHouZGU+ClNpZ25lZC1vZmYtYnk6IFBoaWxpcHBlIE1hdGhpZXUt
RGF1ZMOpIDxwaGlsbWRAcmVkaGF0LmNvbT4KLS0tCiBzY3JpcHRzL2NvY2NpbmVsbGUvZXhlY19y
d19jb25zdC5jb2NjaSB8IDEwICsrKysrKysrKysKIGh3L2Rpc3BsYXkvb21hcF9sY2RjLmMgICAg
ICAgICAgICAgICAgIHwgMTAgKysrKystLS0tLQogaHcvZG1hL2V0cmF4ZnNfZG1hLmMgICAgICAg
ICAgICAgICAgICAgfCAyNSArKysrKysrKysrLS0tLS0tLS0tLS0tLS0tCiBody9zY3NpL3Ztd19w
dnNjc2kuYyAgICAgICAgICAgICAgICAgICB8ICA4ICsrKy0tLS0tCiB0YXJnZXQvaTM4Ni9oYXgt
YWxsLmMgICAgICAgICAgICAgICAgICB8ICA2ICsrKy0tLQogNSBmaWxlcyBjaGFuZ2VkLCAzMSBp
bnNlcnRpb25zKCspLCAyOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9zY3JpcHRzL2NvY2Np
bmVsbGUvZXhlY19yd19jb25zdC5jb2NjaSBiL3NjcmlwdHMvY29jY2luZWxsZS9leGVjX3J3X2Nv
bnN0LmNvY2NpCmluZGV4IDVlZDk1NmE4MzQuLjcwY2Y1MmQ1OGUgMTAwNjQ0Ci0tLSBhL3Njcmlw
dHMvY29jY2luZWxsZS9leGVjX3J3X2NvbnN0LmNvY2NpCisrKyBiL3NjcmlwdHMvY29jY2luZWxs
ZS9leGVjX3J3X2NvbnN0LmNvY2NpCkBAIC0zNCw2ICszNCwxNiBAQCB0eXBlIFQ7CiArIGFkZHJl
c3Nfc3BhY2Vfd3JpdGVfcm9tKEUxLCBFMiwgRTMsIEU0LCBFNSkKIHwKIAorLSBjcHVfcGh5c2lj
YWxfbWVtb3J5X3J3KEUxLCAoVCAqKUUyLCBFMywgRTQpCisrIGNwdV9waHlzaWNhbF9tZW1vcnlf
cncoRTEsIEUyLCBFMywgRTQpCit8CistIGNwdV9waHlzaWNhbF9tZW1vcnlfcmVhZChFMSwgKFQg
KilFMiwgRTMpCisrIGNwdV9waHlzaWNhbF9tZW1vcnlfcmVhZChFMSwgRTIsIEUzKQorfAorLSBj
cHVfcGh5c2ljYWxfbWVtb3J5X3dyaXRlKEUxLCAoVCAqKUUyLCBFMykKKysgY3B1X3BoeXNpY2Fs
X21lbW9yeV93cml0ZShFMSwgRTIsIEUzKQorfAorCiAtIGRtYV9tZW1vcnlfcmVhZChFMSwgRTIs
IChUICopRTMsIEU0KQogKyBkbWFfbWVtb3J5X3JlYWQoRTEsIEUyLCBFMywgRTQpCiB8CmRpZmYg
LS1naXQgYS9ody9kaXNwbGF5L29tYXBfbGNkYy5jIGIvaHcvZGlzcGxheS9vbWFwX2xjZGMuYwpp
bmRleCA2YWQxM2YyZTllLi5mYTRhMzgxZGI2IDEwMDY0NAotLS0gYS9ody9kaXNwbGF5L29tYXBf
bGNkYy5jCisrKyBiL2h3L2Rpc3BsYXkvb21hcF9sY2RjLmMKQEAgLTkxLDkgKzkxLDkgQEAgc3Rh
dGljIHZvaWQgb21hcF91cGRhdGVfZGlzcGxheSh2b2lkICpvcGFxdWUpCiAKICAgICBmcmFtZV9v
ZmZzZXQgPSAwOwogICAgIGlmIChvbWFwX2xjZC0+cGxtICE9IDIpIHsKLSAgICAgICAgY3B1X3Bo
eXNpY2FsX21lbW9yeV9yZWFkKG9tYXBfbGNkLT5kbWEtPnBoeXNfZnJhbWVidWZmZXJbCi0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb21hcF9sY2QtPmRtYS0+Y3VycmVudF9mcmFt
ZV0sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodm9pZCAqKW9tYXBfbGNkLT5w
YWxldHRlLCAweDIwMCk7CisgICAgICAgIGNwdV9waHlzaWNhbF9tZW1vcnlfcmVhZCgKKyAgICAg
ICAgICAgICAgICBvbWFwX2xjZC0+ZG1hLT5waHlzX2ZyYW1lYnVmZmVyW29tYXBfbGNkLT5kbWEt
PmN1cnJlbnRfZnJhbWVdLAorICAgICAgICAgICAgICAgIG9tYXBfbGNkLT5wYWxldHRlLCAweDIw
MCk7CiAgICAgICAgIHN3aXRjaCAob21hcF9sY2QtPnBhbGV0dGVbMF0gPj4gMTIgJiA3KSB7CiAg
ICAgICAgIGNhc2UgMyAuLi4gNzoKICAgICAgICAgICAgIGZyYW1lX29mZnNldCArPSAweDIwMDsK
QEAgLTI0NCw4ICsyNDQsOCBAQCBzdGF0aWMgdm9pZCBvbWFwX2xjZF91cGRhdGUoc3RydWN0IG9t
YXBfbGNkX3BhbmVsX3MgKnMpIHsKIAogICAgIGlmIChzLT5wbG0gIT0gMiAmJiAhcy0+cGFsZXR0
ZV9kb25lKSB7CiAgICAgICAgIGNwdV9waHlzaWNhbF9tZW1vcnlfcmVhZCgKLSAgICAgICAgICAg
IHMtPmRtYS0+cGh5c19mcmFtZWJ1ZmZlcltzLT5kbWEtPmN1cnJlbnRfZnJhbWVdLAotICAgICAg
ICAgICAgKHZvaWQgKilzLT5wYWxldHRlLCAweDIwMCk7CisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgcy0+ZG1hLT5waHlzX2ZyYW1lYnVmZmVyW3MtPmRtYS0+Y3VycmVudF9mcmFtZV0sCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcy0+cGFsZXR0ZSwgMHgyMDApOwogICAgICAgICBz
LT5wYWxldHRlX2RvbmUgPSAxOwogICAgICAgICBvbWFwX2xjZF9pbnRlcnJ1cHRzKHMpOwogICAg
IH0KZGlmZiAtLWdpdCBhL2h3L2RtYS9ldHJheGZzX2RtYS5jIGIvaHcvZG1hL2V0cmF4ZnNfZG1h
LmMKaW5kZXggNDdlMWM2ZGYxMi4uYzQzMzRlODdiZiAxMDA2NDQKLS0tIGEvaHcvZG1hL2V0cmF4
ZnNfZG1hLmMKKysrIGIvaHcvZG1hL2V0cmF4ZnNfZG1hLmMKQEAgLTIyNSw5ICsyMjUsOCBAQCBz
dGF0aWMgdm9pZCBjaGFubmVsX2xvYWRfZyhzdHJ1Y3QgZnNfZG1hX2N0cmwgKmN0cmwsIGludCBj
KQogCWh3YWRkciBhZGRyID0gY2hhbm5lbF9yZWcoY3RybCwgYywgUldfR1JPVVApOwogCiAJLyog
TG9hZCBhbmQgZGVjb2RlLiBGSVhNRTogaGFuZGxlIGVuZGlhbm5lc3MuICAqLwotCWNwdV9waHlz
aWNhbF9tZW1vcnlfcmVhZCAoYWRkciwgCi0JCQkJICAodm9pZCAqKSAmY3RybC0+Y2hhbm5lbHNb
Y10uY3VycmVudF9nLCAKLQkJCQkgIHNpemVvZiBjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2cp
OworICAgIGNwdV9waHlzaWNhbF9tZW1vcnlfcmVhZChhZGRyLCAmY3RybC0+Y2hhbm5lbHNbY10u
Y3VycmVudF9nLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2YoY3RybC0+Y2hh
bm5lbHNbY10uY3VycmVudF9nKSk7CiB9CiAKIHN0YXRpYyB2b2lkIGR1bXBfYyhpbnQgY2gsIHN0
cnVjdCBkbWFfZGVzY3JfY29udGV4dCAqYykKQEAgLTI1Nyw5ICsyNTYsOCBAQCBzdGF0aWMgdm9p
ZCBjaGFubmVsX2xvYWRfYyhzdHJ1Y3QgZnNfZG1hX2N0cmwgKmN0cmwsIGludCBjKQogCWh3YWRk
ciBhZGRyID0gY2hhbm5lbF9yZWcoY3RybCwgYywgUldfR1JPVVBfRE9XTik7CiAKIAkvKiBMb2Fk
IGFuZCBkZWNvZGUuIEZJWE1FOiBoYW5kbGUgZW5kaWFubmVzcy4gICovCi0JY3B1X3BoeXNpY2Fs
X21lbW9yeV9yZWFkIChhZGRyLCAKLQkJCQkgICh2b2lkICopICZjdHJsLT5jaGFubmVsc1tjXS5j
dXJyZW50X2MsIAotCQkJCSAgc2l6ZW9mIGN0cmwtPmNoYW5uZWxzW2NdLmN1cnJlbnRfYyk7Cisg
ICAgY3B1X3BoeXNpY2FsX21lbW9yeV9yZWFkKGFkZHIsICZjdHJsLT5jaGFubmVsc1tjXS5jdXJy
ZW50X2MsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihjdHJsLT5jaGFubmVs
c1tjXS5jdXJyZW50X2MpKTsKIAogCUQoZHVtcF9jKGMsICZjdHJsLT5jaGFubmVsc1tjXS5jdXJy
ZW50X2MpKTsKIAkvKiBJIGd1ZXNzIHRoaXMgc2hvdWxkIHVwZGF0ZSB0aGUgY3VycmVudCBwb3Mu
ICAqLwpAQCAtMjc1LDkgKzI3Myw4IEBAIHN0YXRpYyB2b2lkIGNoYW5uZWxfbG9hZF9kKHN0cnVj
dCBmc19kbWFfY3RybCAqY3RybCwgaW50IGMpCiAKIAkvKiBMb2FkIGFuZCBkZWNvZGUuIEZJWE1F
OiBoYW5kbGUgZW5kaWFubmVzcy4gICovCiAJRChwcmludGYoIiVzIGNoPSVkIGFkZHI9IiBUQVJH
RVRfRk1UX3BseCAiXG4iLCBfX2Z1bmNfXywgYywgYWRkcikpOwotCWNwdV9waHlzaWNhbF9tZW1v
cnlfcmVhZCAoYWRkciwKLQkJCQkgICh2b2lkICopICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50
X2QsIAotCQkJCSAgc2l6ZW9mIGN0cmwtPmNoYW5uZWxzW2NdLmN1cnJlbnRfZCk7CisgICAgY3B1
X3BoeXNpY2FsX21lbW9yeV9yZWFkKGFkZHIsICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2Qs
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihjdHJsLT5jaGFubmVsc1tjXS5j
dXJyZW50X2QpKTsKIAogCUQoZHVtcF9kKGMsICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2Qp
KTsKIAljdHJsLT5jaGFubmVsc1tjXS5yZWdzW1JXX0RBVEFdID0gYWRkcjsKQEAgLTI5MCw5ICsy
ODcsOCBAQCBzdGF0aWMgdm9pZCBjaGFubmVsX3N0b3JlX2Moc3RydWN0IGZzX2RtYV9jdHJsICpj
dHJsLCBpbnQgYykKIAkvKiBFbmNvZGUgYW5kIHN0b3JlLiBGSVhNRTogaGFuZGxlIGVuZGlhbm5l
c3MuICAqLwogCUQocHJpbnRmKCIlcyBjaD0lZCBhZGRyPSIgVEFSR0VUX0ZNVF9wbHggIlxuIiwg
X19mdW5jX18sIGMsIGFkZHIpKTsKIAlEKGR1bXBfZChjLCAmY3RybC0+Y2hhbm5lbHNbY10uY3Vy
cmVudF9kKSk7Ci0JY3B1X3BoeXNpY2FsX21lbW9yeV93cml0ZSAoYWRkciwKLQkJCQkgICh2b2lk
ICopICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2MsCi0JCQkJICBzaXplb2YgY3RybC0+Y2hh
bm5lbHNbY10uY3VycmVudF9jKTsKKyAgICBjcHVfcGh5c2ljYWxfbWVtb3J5X3dyaXRlKGFkZHIs
ICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2MsCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzaXplb2YoY3RybC0+Y2hhbm5lbHNbY10uY3VycmVudF9jKSk7CiB9CiAKIHN0YXRpYyB2
b2lkIGNoYW5uZWxfc3RvcmVfZChzdHJ1Y3QgZnNfZG1hX2N0cmwgKmN0cmwsIGludCBjKQpAQCAt
MzAxLDkgKzI5Nyw4IEBAIHN0YXRpYyB2b2lkIGNoYW5uZWxfc3RvcmVfZChzdHJ1Y3QgZnNfZG1h
X2N0cmwgKmN0cmwsIGludCBjKQogCiAJLyogRW5jb2RlIGFuZCBzdG9yZS4gRklYTUU6IGhhbmRs
ZSBlbmRpYW5uZXNzLiAgKi8KIAlEKHByaW50ZigiJXMgY2g9JWQgYWRkcj0iIFRBUkdFVF9GTVRf
cGx4ICJcbiIsIF9fZnVuY19fLCBjLCBhZGRyKSk7Ci0JY3B1X3BoeXNpY2FsX21lbW9yeV93cml0
ZSAoYWRkciwKLQkJCQkgICh2b2lkICopICZjdHJsLT5jaGFubmVsc1tjXS5jdXJyZW50X2QsIAot
CQkJCSAgc2l6ZW9mIGN0cmwtPmNoYW5uZWxzW2NdLmN1cnJlbnRfZCk7CisgICAgY3B1X3BoeXNp
Y2FsX21lbW9yeV93cml0ZShhZGRyLCAmY3RybC0+Y2hhbm5lbHNbY10uY3VycmVudF9kLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9mKGN0cmwtPmNoYW5uZWxzW2NdLmN1cnJl
bnRfZCkpOwogfQogCiBzdGF0aWMgaW5saW5lIHZvaWQgY2hhbm5lbF9zdG9wKHN0cnVjdCBmc19k
bWFfY3RybCAqY3RybCwgaW50IGMpCmRpZmYgLS1naXQgYS9ody9zY3NpL3Ztd19wdnNjc2kuYyBi
L2h3L3Njc2kvdm13X3B2c2NzaS5jCmluZGV4IGU0ZWUyZTY2NDMuLmM5MTM1MmNmNDYgMTAwNjQ0
Ci0tLSBhL2h3L3Njc2kvdm13X3B2c2NzaS5jCisrKyBiL2h3L3Njc2kvdm13X3B2c2NzaS5jCkBA
IC00MDQsOCArNDA0LDcgQEAgcHZzY3NpX2NtcF9yaW5nX3B1dChQVlNDU0lTdGF0ZSAqcywgc3Ry
dWN0IFBWU0NTSVJpbmdDbXBEZXNjICpjbXBfZGVzYykKIAogICAgIGNtcF9kZXNjcl9wYSA9IHB2
c2NzaV9yaW5nX3BvcF9jbXBfZGVzY3IoJnMtPnJpbmdzKTsKICAgICB0cmFjZV9wdnNjc2lfY21w
X3JpbmdfcHV0KGNtcF9kZXNjcl9wYSk7Ci0gICAgY3B1X3BoeXNpY2FsX21lbW9yeV93cml0ZShj
bXBfZGVzY3JfcGEsICh2b2lkICopY21wX2Rlc2MsCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzaXplb2YoKmNtcF9kZXNjKSk7CisgICAgY3B1X3BoeXNpY2FsX21lbW9yeV93cml0ZShj
bXBfZGVzY3JfcGEsIGNtcF9kZXNjLCBzaXplb2YoKmNtcF9kZXNjKSk7CiB9CiAKIHN0YXRpYyB2
b2lkCkBAIC00MTUsOCArNDE0LDcgQEAgcHZzY3NpX21zZ19yaW5nX3B1dChQVlNDU0lTdGF0ZSAq
cywgc3RydWN0IFBWU0NTSVJpbmdNc2dEZXNjICptc2dfZGVzYykKIAogICAgIG1zZ19kZXNjcl9w
YSA9IHB2c2NzaV9yaW5nX3BvcF9tc2dfZGVzY3IoJnMtPnJpbmdzKTsKICAgICB0cmFjZV9wdnNj
c2lfbXNnX3JpbmdfcHV0KG1zZ19kZXNjcl9wYSk7Ci0gICAgY3B1X3BoeXNpY2FsX21lbW9yeV93
cml0ZShtc2dfZGVzY3JfcGEsICh2b2lkICopbXNnX2Rlc2MsCi0gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzaXplb2YoKm1zZ19kZXNjKSk7CisgICAgY3B1X3BoeXNpY2FsX21lbW9yeV93
cml0ZShtc2dfZGVzY3JfcGEsIG1zZ19kZXNjLCBzaXplb2YoKm1zZ19kZXNjKSk7CiB9CiAKIHN0
YXRpYyB2b2lkCkBAIC00OTEsNyArNDg5LDcgQEAgcHZzY3NpX2dldF9uZXh0X3NnX2VsZW0oUFZT
Q1NJU0dTdGF0ZSAqc2cpCiB7CiAgICAgc3RydWN0IFBWU0NTSVNHRWxlbWVudCBlbGVtOwogCi0g
ICAgY3B1X3BoeXNpY2FsX21lbW9yeV9yZWFkKHNnLT5lbGVtQWRkciwgKHZvaWQgKikmZWxlbSwg
c2l6ZW9mKGVsZW0pKTsKKyAgICBjcHVfcGh5c2ljYWxfbWVtb3J5X3JlYWQoc2ctPmVsZW1BZGRy
LCAmZWxlbSwgc2l6ZW9mKGVsZW0pKTsKICAgICBpZiAoKGVsZW0uZmxhZ3MgJiB+UFZTQ1NJX0tO
T1dOX0ZMQUdTKSAhPSAwKSB7CiAgICAgICAgIC8qCiAgICAgICAgICAgICAqIFRoZXJlIGlzIFBW
U0NTSV9TR0VfRkxBR19DSEFJTl9FTEVNRU5UIGZsYWcgZGVzY3JpYmVkIGluCmRpZmYgLS1naXQg
YS90YXJnZXQvaTM4Ni9oYXgtYWxsLmMgYi90YXJnZXQvaTM4Ni9oYXgtYWxsLmMKaW5kZXggYThi
NmU1YWViOC4uYTljYzUxZTZjZSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2kzODYvaGF4LWFsbC5jCisr
KyBiL3RhcmdldC9pMzg2L2hheC1hbGwuYwpAQCAtMzY3LDcgKzM2Nyw3IEBAIHN0YXRpYyBpbnQg
aGF4X2FjY2VsX2luaXQoTWFjaGluZVN0YXRlICptcykKIHN0YXRpYyBpbnQgaGF4X2hhbmRsZV9m
YXN0bW1pbyhDUFVBcmNoU3RhdGUgKmVudiwgc3RydWN0IGhheF9mYXN0bW1pbyAqaGZ0KQogewog
ICAgIGlmIChoZnQtPmRpcmVjdGlvbiA8IDIpIHsKLSAgICAgICAgY3B1X3BoeXNpY2FsX21lbW9y
eV9ydyhoZnQtPmdwYSwgKHVpbnQ4X3QgKikgJmhmdC0+dmFsdWUsIGhmdC0+c2l6ZSwKKyAgICAg
ICAgY3B1X3BoeXNpY2FsX21lbW9yeV9ydyhoZnQtPmdwYSwgJmhmdC0+dmFsdWUsIGhmdC0+c2l6
ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQtPmRpcmVjdGlvbik7CiAgICAg
fSBlbHNlIHsKICAgICAgICAgLyoKQEAgLTM3Niw4ICszNzYsOCBAQCBzdGF0aWMgaW50IGhheF9o
YW5kbGVfZmFzdG1taW8oQ1BVQXJjaFN0YXRlICplbnYsIHN0cnVjdCBoYXhfZmFzdG1taW8gKmhm
dCkKICAgICAgICAgICogIGhmdC0+ZGlyZWN0aW9uID09IDI6IGdwYSA9PT4gZ3BhMgogICAgICAg
ICAgKi8KICAgICAgICAgdWludDY0X3QgdmFsdWU7Ci0gICAgICAgIGNwdV9waHlzaWNhbF9tZW1v
cnlfcncoaGZ0LT5ncGEsICh1aW50OF90ICopICZ2YWx1ZSwgaGZ0LT5zaXplLCAwKTsKLSAgICAg
ICAgY3B1X3BoeXNpY2FsX21lbW9yeV9ydyhoZnQtPmdwYTIsICh1aW50OF90ICopICZ2YWx1ZSwg
aGZ0LT5zaXplLCAxKTsKKyAgICAgICAgY3B1X3BoeXNpY2FsX21lbW9yeV9ydyhoZnQtPmdwYSwg
JnZhbHVlLCBoZnQtPnNpemUsIDApOworICAgICAgICBjcHVfcGh5c2ljYWxfbWVtb3J5X3J3KGhm
dC0+Z3BhMiwgJnZhbHVlLCBoZnQtPnNpemUsIDEpOwogICAgIH0KIAogICAgIHJldHVybiAwOwot
LSAKMi4yMS4xCgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcK
aHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

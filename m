Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7606A127BB8
	for <lists+xen-devel@lfdr.de>; Fri, 20 Dec 2019 14:33:38 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iiIMb-0006ZJ-S9; Fri, 20 Dec 2019 13:30:41 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=fFWP=2K=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iiIMb-0006Z6-4S
 for xen-devel@lists.xenproject.org; Fri, 20 Dec 2019 13:30:41 +0000
X-Inumbo-ID: e4b71dba-232c-11ea-b6f1-bc764e2007e4
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id e4b71dba-232c-11ea-b6f1-bc764e2007e4;
 Fri, 20 Dec 2019 13:30:32 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id C94EDAC37;
 Fri, 20 Dec 2019 13:30:30 +0000 (UTC)
From: Jan Beulich <jbeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <20efd995-9346-4b0c-f927-ad1152f6ccfe@suse.com>
Message-ID: <49aa2e92-a976-c9ea-da34-dcfb4ac72c73@suse.com>
Date: Fri, 20 Dec 2019 14:31:00 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <20efd995-9346-4b0c-f927-ad1152f6ccfe@suse.com>
Content-Language: en-US
Subject: [Xen-devel] [PATCH 6/6] x86: move and rename NR_VECTORS
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 Kevin Tian <kevin.tian@intel.com>, Jun Nakajima <jun.nakajima@intel.com>,
 Wei Liu <wl@xen.org>, =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhpcyBpcyBhbiBhcmNoaXRlY3R1cmFsIGRlZmluaXRpb24sIHNvIG1vdmUgaXQgdG8geDg2LWRl
Zm5zLmggYW5kIGFkZAphbiBYODZfIHByZWZpeC4gVGhpcyBpbiBwYXJ0aWN1bGFyIGFsbG93cyBy
ZW1vdmluZyB0aGUgaW5jbHVzaW9uIG9mCmlycV92ZWN0b3JzLmggYnkgdmlydHVhbGx5IGV2ZXJ5
IHNvdXJjZSBmaWxlLCBkdWUgdG8gaXJxLmggYW5kCmh2bS92bXgvdm1jcy5oIGhhdmluZyBuZWVk
ZWQgdG8gaW5jbHVkZSBpdDogQ2hhbmdlcyB0byBJUlEgdmVjdG9yIHVzYWdlCnNob3VsZG4ndCBy
ZWFsbHkgdHJpZ2dlciBmdWxsIHJlYnVpbGRzLgoKU2lnbmVkLW9mZi1ieTogSmFuIEJldWxpY2gg
PGpiZXVsaWNoQHN1c2UuY29tPgoKLS0tIGEveGVuL2FyY2gveDg2L2FwaWMuYworKysgYi94ZW4v
YXJjaC94ODYvYXBpYy5jCkBAIC0zNiw2ICszNiw3IEBACiAjaW5jbHVkZSA8YXNtL2lvX2FwaWMu
aD4KICNpbmNsdWRlIDxtYWNoX2FwaWMuaD4KICNpbmNsdWRlIDxpb19wb3J0cy5oPgorI2luY2x1
ZGUgPGlycV92ZWN0b3JzLmg+CiAjaW5jbHVkZSA8eGVuL2tleGVjLmg+CiAjaW5jbHVkZSA8YXNt
L2d1ZXN0Lmg+CiAjaW5jbHVkZSA8YXNtL3RpbWUuaD4KLS0tIGEveGVuL2FyY2gveDg2L2NwdS92
cG11LmMKKysrIGIveGVuL2FyY2gveDg2L2NwdS92cG11LmMKQEAgLTM0LDYgKzM0LDcgQEAKICNp
bmNsdWRlIDxhc20vaHZtL3N2bS9zdm0uaD4KICNpbmNsdWRlIDxhc20vaHZtL3N2bS92bWNiLmg+
CiAjaW5jbHVkZSA8YXNtL2FwaWMuaD4KKyNpbmNsdWRlIDxpcnFfdmVjdG9ycy5oPgogI2luY2x1
ZGUgPHB1YmxpYy9wbXUuaD4KICNpbmNsdWRlIDx4c20veHNtLmg+CiAKLS0tIGEveGVuL2FyY2gv
eDg2L2h2bS92bGFwaWMuYworKysgYi94ZW4vYXJjaC94ODYvaHZtL3ZsYXBpYy5jCkBAIC04Myw3
ICs4Myw3IEBAIHN0YXRpYyB2b2lkIHZsYXBpY19kb19pbml0KHN0cnVjdCB2bGFwaWMKIHN0YXRp
YyBpbnQgdmxhcGljX2ZpbmRfaGlnaGVzdF92ZWN0b3IoY29uc3Qgdm9pZCAqYml0bWFwKQogewog
ICAgIGNvbnN0IHVpbnQzMl90ICp3b3JkID0gYml0bWFwOwotICAgIHVuc2lnbmVkIGludCB3b3Jk
X29mZnNldCA9IE5SX1ZFQ1RPUlMgLyAzMjsKKyAgICB1bnNpZ25lZCBpbnQgd29yZF9vZmZzZXQg
PSBYODZfTlJfVkVDVE9SUyAvIDMyOwogCiAgICAgLyogV29yayBiYWNrd2FyZHMgdGhyb3VnaCB0
aGUgYml0bWFwIChmaXJzdCAzMi1iaXQgd29yZCBpbiBldmVyeSBmb3VyKS4gKi8KICAgICB3aGls
ZSAoICh3b3JkX29mZnNldCAhPSAwKSAmJiAod29yZFsoLS13b3JkX29mZnNldCkqNF0gPT0gMCkg
KQpAQCAtNjU5LDcgKzY1OSw3IEBAIGludCBndWVzdF9yZG1zcl94MmFwaWMoY29uc3Qgc3RydWN0
IHZjcHUKICAgICAgICAgUkVHKExWVDApICB8IFJFRyhMVlQxKSB8IFJFRyhMVlRFUlIpICB8IFJF
RyhUTUlDVCkgICB8CiAgICAgICAgIFJFRyhUTUNDVCkgfCBSRUcoVERDUikgfAogI3VuZGVmIFJF
RwotI2RlZmluZSBSRUdCTE9DSyh4KSAoKCgxVUwgPDwgKE5SX1ZFQ1RPUlMgLyAzMikpIC0gMSkg
PDwgKEFQSUNfICMjIHggPj4gNCkpCisjZGVmaW5lIFJFR0JMT0NLKHgpICgoKDFVTCA8PCAoWDg2
X05SX1ZFQ1RPUlMgLyAzMikpIC0gMSkgPDwgKEFQSUNfICMjIHggPj4gNCkpCiAgICAgICAgIFJF
R0JMT0NLKElTUikgfCBSRUdCTE9DSyhUTVIpIHwgUkVHQkxPQ0soSVJSKQogI3VuZGVmIFJFR0JM
T0NLCiAgICAgfTsKLS0tIGEveGVuL2FyY2gveDg2L2h2bS92bXgvaW50ci5jCisrKyBiL3hlbi9h
cmNoL3g4Ni9odm0vdm14L2ludHIuYwpAQCAtMzUyLDcgKzM1Miw3IEBAIHZvaWQgdm14X2ludHJf
YXNzaXN0KHZvaWQpCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICB3b3Jk
ID0gKGNvbnN0IHZvaWQgKikmdmxhcGljLT5yZWdzLT5kYXRhW0FQSUNfSVJSXTsKICAgICAgICAg
ICAgICAgICAgICAgcHJpbnRrKFhFTkxPR19FUlIgInZJUlI6Iik7Ci0gICAgICAgICAgICAgICAg
ICAgIGZvciAoIGkgPSBOUl9WRUNUT1JTIC8gMzI7IGktLSA7ICkKKyAgICAgICAgICAgICAgICAg
ICAgZm9yICggaSA9IFg4Nl9OUl9WRUNUT1JTIC8gMzI7IGktLSA7ICkKICAgICAgICAgICAgICAg
ICAgICAgICAgIHByaW50aygiICUwOHgiLCB3b3JkW2kqNF0pOwogICAgICAgICAgICAgICAgICAg
ICBwcmludGsoIlxuIik7CiAgICAgICAgICAgICAgICAgfQpAQCAtMzYyLDcgKzM2Miw3IEBAIHZv
aWQgdm14X2ludHJfYXNzaXN0KHZvaWQpCiAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAg
ICAgICAgICB3b3JkID0gKGNvbnN0IHZvaWQgKikmcGlfZGVzYy0+cGlyOwogICAgICAgICAgICAg
ICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiIFBJUjoiKTsKLSAgICAgICAgICAgICAgICAgICAg
Zm9yICggaSA9IE5SX1ZFQ1RPUlMgLyAzMjsgaS0tIDsgKQorICAgICAgICAgICAgICAgICAgICBm
b3IgKCBpID0gWDg2X05SX1ZFQ1RPUlMgLyAzMjsgaS0tIDsgKQogICAgICAgICAgICAgICAgICAg
ICAgICAgcHJpbnRrKCIgJTA4eCIsIHdvcmRbaV0pOwogICAgICAgICAgICAgICAgICAgICBwcmlu
dGsoIlxuIik7CiAgICAgICAgICAgICAgICAgfQotLS0gYS94ZW4vYXJjaC94ODYvaHZtL3ZteC92
bWNzLmMKKysrIGIveGVuL2FyY2gveDg2L2h2bS92bXgvdm1jcy5jCkBAIC0xMTYxLDcgKzExNjEs
NyBAQCBzdGF0aWMgaW50IGNvbnN0cnVjdF92bWNzKHN0cnVjdCB2Y3B1ICp2CiAgICAgICAgIHVu
c2lnbmVkIGludCBpOwogCiAgICAgICAgIC8qIEVPSS1leGl0IGJpdG1hcCAqLwotICAgICAgICBi
aXRtYXBfemVybyh2LT5hcmNoLmh2bS52bXguZW9pX2V4aXRfYml0bWFwLCBOUl9WRUNUT1JTKTsK
KyAgICAgICAgYml0bWFwX3plcm8odi0+YXJjaC5odm0udm14LmVvaV9leGl0X2JpdG1hcCwgWDg2
X05SX1ZFQ1RPUlMpOwogICAgICAgICBmb3IgKCBpID0gMDsgaSA8IEFSUkFZX1NJWkUodi0+YXJj
aC5odm0udm14LmVvaV9leGl0X2JpdG1hcCk7ICsraSApCiAgICAgICAgICAgICBfX3Ztd3JpdGUo
RU9JX0VYSVRfQklUTUFQKGkpLCAwKTsKIAotLS0gYS94ZW4vYXJjaC94ODYvaHZtL3ZteC92bXgu
YworKysgYi94ZW4vYXJjaC94ODYvaHZtL3ZteC92bXguYwpAQCAtMTk1NSw3ICsxOTU1LDcgQEAg
c3RhdGljIHZvaWQgdm14X3Byb2Nlc3NfaXNyKGludCBpc3IsIHN0cgogICAgICAqIGlzIGFjY2Vw
dGFibGUgYmVjYXVzZSB0aGUgc3Vic2VxdWVudCBpbnRlcnJ1cHRzIHdpbGwgc2V0IHVwIHRoZSBl
b2kKICAgICAgKiBiaXRtYXAgY29ycmVjdGx5LgogICAgICAqLwotICAgIGZvciAoIGkgPSAweDEw
OyBpIDwgTlJfVkVDVE9SUzsgKytpICkKKyAgICBmb3IgKCBpID0gMHgxMDsgaSA8IFg4Nl9OUl9W
RUNUT1JTOyArK2kgKQogICAgICAgICBpZiAoIHZsYXBpY190ZXN0X3ZlY3RvcihpLCAmdmxhcGlj
LT5yZWdzLT5kYXRhW0FQSUNfSVJSXSkgfHwKICAgICAgICAgICAgICB2bGFwaWNfdGVzdF92ZWN0
b3IoaSwgJnZsYXBpYy0+cmVncy0+ZGF0YVtBUElDX0lTUl0pICkKICAgICAgICAgICAgIHNldF9i
aXQoaSwgdi0+YXJjaC5odm0udm14LmVvaV9leGl0X2JpdG1hcCk7CkBAIC0yMDc1LDcgKzIwNzUs
NyBAQCBzdGF0aWMgdm9pZCB2bXhfc3luY19waXJfdG9faXJyKHN0cnVjdCB2CiB7CiAgICAgc3Ry
dWN0IHZsYXBpYyAqdmxhcGljID0gdmNwdV92bGFwaWModik7CiAgICAgdW5zaWduZWQgaW50IGdy
b3VwLCBpOwotICAgIERFQ0xBUkVfQklUTUFQKHBlbmRpbmdfaW50ciwgTlJfVkVDVE9SUyk7Cisg
ICAgREVDTEFSRV9CSVRNQVAocGVuZGluZ19pbnRyLCBYODZfTlJfVkVDVE9SUyk7CiAKICAgICBp
ZiAoICFwaV90ZXN0X2FuZF9jbGVhcl9vbigmdi0+YXJjaC5odm0udm14LnBpX2Rlc2MpICkKICAg
ICAgICAgcmV0dXJuOwpAQCAtMjA4Myw3ICsyMDgzLDcgQEAgc3RhdGljIHZvaWQgdm14X3N5bmNf
cGlyX3RvX2lycihzdHJ1Y3QgdgogICAgIGZvciAoIGdyb3VwID0gMDsgZ3JvdXAgPCBBUlJBWV9T
SVpFKHBlbmRpbmdfaW50cik7IGdyb3VwKysgKQogICAgICAgICBwZW5kaW5nX2ludHJbZ3JvdXBd
ID0gcGlfZ2V0X3Bpcigmdi0+YXJjaC5odm0udm14LnBpX2Rlc2MsIGdyb3VwKTsKIAotICAgIGZv
cl9lYWNoX3NldF9iaXQoaSwgcGVuZGluZ19pbnRyLCBOUl9WRUNUT1JTKQorICAgIGZvcl9lYWNo
X3NldF9iaXQoaSwgcGVuZGluZ19pbnRyLCBYODZfTlJfVkVDVE9SUykKICAgICAgICAgdmxhcGlj
X3NldF92ZWN0b3IoaSwgJnZsYXBpYy0+cmVncy0+ZGF0YVtBUElDX0lSUl0pOwogfQogCi0tLSBh
L3hlbi9hcmNoL3g4Ni9pODI1OS5jCisrKyBiL3hlbi9hcmNoL3g4Ni9pODI1OS5jCkBAIC0yMCw2
ICsyMCw3IEBACiAjaW5jbHVkZSA8YXNtL2FwaWMuaD4KICNpbmNsdWRlIDxhc20vYXNtX2RlZm5z
Lmg+CiAjaW5jbHVkZSA8aW9fcG9ydHMuaD4KKyNpbmNsdWRlIDxpcnFfdmVjdG9ycy5oPgogCiAv
KgogICogVGhpcyBpcyB0aGUgJ2xlZ2FjeScgODI1OUEgUHJvZ3JhbW1hYmxlIEludGVycnVwdCBD
b250cm9sbGVyLAotLS0gYS94ZW4vYXJjaC94ODYvaW9fYXBpYy5jCisrKyBiL3hlbi9hcmNoL3g4
Ni9pb19hcGljLmMKQEAgLTM1LDYgKzM1LDcgQEAKICNpbmNsdWRlIDxhc20vc2V0dXAuaD4KICNp
bmNsdWRlIDxtYWNoX2FwaWMuaD4KICNpbmNsdWRlIDxpb19wb3J0cy5oPgorI2luY2x1ZGUgPGly
cV92ZWN0b3JzLmg+CiAjaW5jbHVkZSA8cHVibGljL3BoeXNkZXYuaD4KICNpbmNsdWRlIDx4ZW4v
dHJhY2UuaD4KIApAQCAtNzUsNyArNzYsNyBAQCBzdGF0aWMgdm9pZCBzaGFyZV92ZWN0b3JfbWFw
cyh1bnNpZ25lZCBpCiAgICAgICAgIHJldHVybjsKIAogICAgIGJpdG1hcF9vcih2ZWN0b3JfbWFw
W3NyY10tPl9iaXRzLCB2ZWN0b3JfbWFwW3NyY10tPl9iaXRzLAotICAgICAgICAgICAgICB2ZWN0
b3JfbWFwW2RzdF0tPl9iaXRzLCBOUl9WRUNUT1JTKTsKKyAgICAgICAgICAgICAgdmVjdG9yX21h
cFtkc3RdLT5fYml0cywgWDg2X05SX1ZFQ1RPUlMpOwogCiAgICAgZm9yIChwaW4gPSAwOyBwaW4g
PCBucl9pb2FwaWNfZW50cmllc1tkc3RdOyArK3BpbikgewogICAgICAgICBpbnQgaXJxID0gYXBp
Y19waW5fMl9nc2lfaXJxKGRzdCwgcGluKTsKLS0tIGEveGVuL2FyY2gveDg2L2lycS5jCisrKyBi
L3hlbi9hcmNoL3g4Ni9pcnEuYwpAQCAtMjQsNiArMjQsNyBAQAogI2luY2x1ZGUgPGFzbS9jdXJy
ZW50Lmg+CiAjaW5jbHVkZSA8YXNtL2ZsdXNodGxiLmg+CiAjaW5jbHVkZSA8YXNtL21hY2gtZ2Vu
ZXJpYy9tYWNoX2FwaWMuaD4KKyNpbmNsdWRlIDxpcnFfdmVjdG9ycy5oPgogI2luY2x1ZGUgPHB1
YmxpYy9waHlzZGV2Lmg+CiAKIHN0YXRpYyBpbnQgcGFyc2VfaXJxX3ZlY3Rvcl9tYXBfcGFyYW0o
Y29uc3QgY2hhciAqcyk7CkBAIC00NCw3ICs0NSw3IEBAIHZtYXNrX3QgZ2xvYmFsX3VzZWRfdmVj
dG9yX21hcDsKIAogc3RydWN0IGlycV9kZXNjIF9fcmVhZF9tb3N0bHkgKmlycV9kZXNjID0gTlVM
TDsKIAotc3RhdGljIERFQ0xBUkVfQklUTUFQKHVzZWRfdmVjdG9ycywgTlJfVkVDVE9SUyk7Citz
dGF0aWMgREVDTEFSRV9CSVRNQVAodXNlZF92ZWN0b3JzLCBYODZfTlJfVkVDVE9SUyk7CiAKIHN0
YXRpYyBERUZJTkVfU1BJTkxPQ0sodmVjdG9yX2xvY2spOwogCkBAIC0xNDksNyArMTUwLDcgQEAg
c3RhdGljIGludCBfX2luaXQgX2JpbmRfaXJxX3ZlY3RvcihzdHJ1YwogICAgIGNwdW1hc2tfdCBv
bmxpbmVfbWFzazsKICAgICBpbnQgY3B1OwogCi0gICAgQlVHX09OKCh1bnNpZ25lZCl2ZWN0b3Ig
Pj0gTlJfVkVDVE9SUyk7CisgICAgQlVHX09OKCh1bnNpZ25lZCl2ZWN0b3IgPj0gWDg2X05SX1ZF
Q1RPUlMpOwogCiAgICAgY3B1bWFza19hbmQoJm9ubGluZV9tYXNrLCBjcHVfbWFzaywgJmNwdV9v
bmxpbmVfbWFwKTsKICAgICBpZiAoY3B1bWFza19lbXB0eSgmb25saW5lX21hc2spKQpAQCAtNDE2
LDcgKzQxNyw3IEBAIGludCBfX2luaXQgaW5pdF9pcnFfZGF0YSh2b2lkKQogICAgIHN0cnVjdCBp
cnFfZGVzYyAqZGVzYzsKICAgICBpbnQgaXJxLCB2ZWN0b3I7CiAKLSAgICBmb3IgKCB2ZWN0b3Ig
PSAwOyB2ZWN0b3IgPCBOUl9WRUNUT1JTOyArK3ZlY3RvciApCisgICAgZm9yICggdmVjdG9yID0g
MDsgdmVjdG9yIDwgWDg2X05SX1ZFQ1RPUlM7ICsrdmVjdG9yICkKICAgICAgICAgdGhpc19jcHUo
dmVjdG9yX2lycSlbdmVjdG9yXSA9IElOVF9NSU47CiAKICAgICBpcnFfZGVzYyA9IHh6YWxsb2Nf
YXJyYXkoc3RydWN0IGlycV9kZXNjLCBucl9pcnFzKTsKQEAgLTY2Miw3ICs2NjMsNyBAQCB2b2lk
IHNldHVwX3ZlY3Rvcl9pcnEodW5zaWduZWQgaW50IGNwdSkKICAgICB1bnNpZ25lZCBpbnQgaXJx
LCB2ZWN0b3I7CiAKICAgICAvKiBDbGVhciB2ZWN0b3JfaXJxICovCi0gICAgZm9yICggdmVjdG9y
ID0gMDsgdmVjdG9yIDwgTlJfVkVDVE9SUzsgKyt2ZWN0b3IgKQorICAgIGZvciAoIHZlY3RvciA9
IDA7IHZlY3RvciA8IFg4Nl9OUl9WRUNUT1JTOyArK3ZlY3RvciApCiAgICAgICAgIHBlcl9jcHUo
dmVjdG9yX2lycSwgY3B1KVt2ZWN0b3JdID0gSU5UX01JTjsKICAgICAvKiBNYXJrIHRoZSBpbnVz
ZSB2ZWN0b3JzICovCiAgICAgZm9yICggaXJxID0gMDsgaXJxIDwgbnJfaXJxczsgKytpcnEgKQpA
QCAtODkwLDcgKzg5MSw3IEBAIHVpbnQ4X3QgYWxsb2NfaGlwcmlvcml0eV92ZWN0b3Iodm9pZCkK
ICAgICByZXR1cm4gbmV4dCsrOwogfQogCi1zdGF0aWMgdm9pZCAoKmRpcmVjdF9hcGljX3ZlY3Rv
cltOUl9WRUNUT1JTXSkoc3RydWN0IGNwdV91c2VyX3JlZ3MgKik7CitzdGF0aWMgdm9pZCAoKmRp
cmVjdF9hcGljX3ZlY3RvcltYODZfTlJfVkVDVE9SU10pKHN0cnVjdCBjcHVfdXNlcl9yZWdzICop
Owogdm9pZCBzZXRfZGlyZWN0X2FwaWNfdmVjdG9yKAogICAgIHVpbnQ4X3QgdmVjdG9yLCB2b2lk
ICgqaGFuZGxlcikoc3RydWN0IGNwdV91c2VyX3JlZ3MgKikpCiB7CkBAIC0yNTEwLDcgKzI1MTEs
NyBAQCBzdGF0aWMgdm9pZCBkdW1wX2lycXModW5zaWduZWQgY2hhciBrZXkpCiAKICAgICBwcm9j
ZXNzX3BlbmRpbmdfc29mdGlycXMoKTsKICAgICBwcmludGsoIkRpcmVjdCB2ZWN0b3IgaW5mb3Jt
YXRpb246XG4iKTsKLSAgICBmb3IgKCBpID0gRklSU1RfRFlOQU1JQ19WRUNUT1I7IGkgPCBOUl9W
RUNUT1JTOyArK2kgKQorICAgIGZvciAoIGkgPSBGSVJTVF9EWU5BTUlDX1ZFQ1RPUjsgaSA8IFg4
Nl9OUl9WRUNUT1JTOyArK2kgKQogICAgICAgICBpZiAoIGRpcmVjdF9hcGljX3ZlY3RvcltpXSAp
CiAgICAgICAgICAgICBwcmludGsoIiAgICUjMDJ4IC0+ICVwcygpXG4iLCBpLCBkaXJlY3RfYXBp
Y192ZWN0b3JbaV0pOwogCi0tLSBhL3hlbi9hcmNoL3g4Ni9tc2kuYworKysgYi94ZW4vYXJjaC94
ODYvbXNpLmMKQEAgLTI3LDYgKzI3LDcgQEAKICNpbmNsdWRlIDxhc20vcDJtLmg+CiAjaW5jbHVk
ZSA8bWFjaF9hcGljLmg+CiAjaW5jbHVkZSA8aW9fcG9ydHMuaD4KKyNpbmNsdWRlIDxpcnFfdmVj
dG9ycy5oPgogI2luY2x1ZGUgPHB1YmxpYy9waHlzZGV2Lmg+CiAjaW5jbHVkZSA8eGVuL2lvbW11
Lmg+CiAjaW5jbHVkZSA8eHNtL3hzbS5oPgotLS0gYS94ZW4vYXJjaC94ODYvcHYvY2FsbGJhY2su
YworKysgYi94ZW4vYXJjaC94ODYvcHYvY2FsbGJhY2suYwpAQCAtMzU4LDcgKzM1OCw3IEBAIGxv
bmcgZG9fc2V0X3RyYXBfdGFibGUoWEVOX0dVRVNUX0hBTkRMRV8KICAgICAvKiBJZiBubyB0YWJs
ZSBpcyBwcmVzZW50ZWQgdGhlbiBjbGVhciB0aGUgZW50aXJlIHZpcnR1YWwgSURULiAqLwogICAg
IGlmICggZ3Vlc3RfaGFuZGxlX2lzX251bGwodHJhcHMpICkKICAgICB7Ci0gICAgICAgIG1lbXNl
dChkc3QsIDAsIE5SX1ZFQ1RPUlMgKiBzaXplb2YoKmRzdCkpOworICAgICAgICBtZW1zZXQoZHN0
LCAwLCBYODZfTlJfVkVDVE9SUyAqIHNpemVvZigqZHN0KSk7CiAgICAgICAgIHJldHVybiAwOwog
ICAgIH0KIApAQCAtNDAzLDcgKzQwMyw3IEBAIGludCBjb21wYXRfc2V0X3RyYXBfdGFibGUoWEVO
X0dVRVNUX0hBTkQKICAgICAvKiBJZiBubyB0YWJsZSBpcyBwcmVzZW50ZWQgdGhlbiBjbGVhciB0
aGUgZW50aXJlIHZpcnR1YWwgSURULiAqLwogICAgIGlmICggZ3Vlc3RfaGFuZGxlX2lzX251bGwo
dHJhcHMpICkKICAgICB7Ci0gICAgICAgIG1lbXNldChkc3QsIDAsIE5SX1ZFQ1RPUlMgKiBzaXpl
b2YoKmRzdCkpOworICAgICAgICBtZW1zZXQoZHN0LCAwLCBYODZfTlJfVkVDVE9SUyAqIHNpemVv
ZigqZHN0KSk7CiAgICAgICAgIHJldHVybiAwOwogICAgIH0KIAotLS0gYS94ZW4vYXJjaC94ODYv
cHYvZG9tYWluLmMKKysrIGIveGVuL2FyY2gveDg2L3B2L2RvbWFpbi5jCkBAIC0yNTAsOSArMjUw
LDkgQEAgaW50IHB2X3ZjcHVfaW5pdGlhbGlzZShzdHJ1Y3QgdmNwdSAqdikKICAgICBpZiAoIHJj
ICkKICAgICAgICAgcmV0dXJuIHJjOwogCi0gICAgQlVJTERfQlVHX09OKE5SX1ZFQ1RPUlMgKiBz
aXplb2YoKnYtPmFyY2gucHYudHJhcF9jdHh0KSA+CisgICAgQlVJTERfQlVHX09OKFg4Nl9OUl9W
RUNUT1JTICogc2l6ZW9mKCp2LT5hcmNoLnB2LnRyYXBfY3R4dCkgPgogICAgICAgICAgICAgICAg
ICBQQUdFX1NJWkUpOwotICAgIHYtPmFyY2gucHYudHJhcF9jdHh0ID0geHphbGxvY19hcnJheShz
dHJ1Y3QgdHJhcF9pbmZvLCBOUl9WRUNUT1JTKTsKKyAgICB2LT5hcmNoLnB2LnRyYXBfY3R4dCA9
IHh6YWxsb2NfYXJyYXkoc3RydWN0IHRyYXBfaW5mbywgWDg2X05SX1ZFQ1RPUlMpOwogICAgIGlm
ICggIXYtPmFyY2gucHYudHJhcF9jdHh0ICkKICAgICB7CiAgICAgICAgIHJjID0gLUVOT01FTTsK
LS0tIGEveGVuL2FyY2gveDg2L3B2L2h5cGVyY2FsbC5jCisrKyBiL3hlbi9hcmNoL3g4Ni9wdi9o
eXBlcmNhbGwuYwpAQCAtMjMsNiArMjMsNyBAQAogI2luY2x1ZGUgPHhlbi9oeXBlcmNhbGwuaD4K
ICNpbmNsdWRlIDx4ZW4vbm9zcGVjLmg+CiAjaW5jbHVkZSA8eGVuL3RyYWNlLmg+CisjaW5jbHVk
ZSA8aXJxX3ZlY3RvcnMuaD4KIAogI2RlZmluZSBIWVBFUkNBTEwoeCkgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiAgICAgWyBfX0hZUEVSVklTT1JfICMj
IHggXSA9IHsgKGh5cGVyY2FsbF9mbl90ICopIGRvXyAjIyB4LCAgICAgICAgIFwKLS0tIGEveGVu
L2FyY2gveDg2L3B2L3RyYXBzLmMKKysrIGIveGVuL2FyY2gveDg2L3B2L3RyYXBzLmMKQEAgLTI4
LDYgKzI4LDcgQEAKICNpbmNsdWRlIDxhc20vYXBpYy5oPgogI2luY2x1ZGUgPGFzbS9zaGFyZWQu
aD4KICNpbmNsdWRlIDxhc20vdHJhcHMuaD4KKyNpbmNsdWRlIDxpcnFfdmVjdG9ycy5oPgogCiB2
b2lkIGRvX2VudHJ5X2ludDgyKHN0cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQogewotLS0gYS94
ZW4vYXJjaC94ODYvc21wLmMKKysrIGIveGVuL2FyY2gveDg2L3NtcC5jCkBAIC0yMCw2ICsyMCw3
IEBACiAjaW5jbHVkZSA8YXNtL2hhcmRpcnEuaD4KICNpbmNsdWRlIDxhc20vaHBldC5oPgogI2lu
Y2x1ZGUgPGFzbS9odm0vc3VwcG9ydC5oPgorI2luY2x1ZGUgPGlycV92ZWN0b3JzLmg+CiAjaW5j
bHVkZSA8bWFjaF9hcGljLmg+CiAKIC8qCi0tLSBhL3hlbi9hcmNoL3g4Ni9zbXBib290LmMKKysr
IGIveGVuL2FyY2gveDg2L3NtcGJvb3QuYwpAQCAtNDQsNiArNDQsNyBAQAogI2luY2x1ZGUgPGFz
bS9zcGVjX2N0cmwuaD4KICNpbmNsdWRlIDxhc20vdGltZS5oPgogI2luY2x1ZGUgPGFzbS90Ym9v
dC5oPgorI2luY2x1ZGUgPGlycV92ZWN0b3JzLmg+CiAjaW5jbHVkZSA8bWFjaF9hcGljLmg+CiAK
IHVuc2lnbmVkIGxvbmcgX19yZWFkX21vc3RseSB0cmFtcG9saW5lX3BoeXM7Ci0tLSBhL3hlbi9h
cmNoL3g4Ni90cmFwcy5jCisrKyBiL3hlbi9hcmNoL3g4Ni90cmFwcy5jCkBAIC0xOTkyLDcgKzE5
OTIsNyBAQCB2b2lkIF9faW5pdCBpbml0X2lkdF90cmFwcyh2b2lkKQogICAgIHRoaXNfY3B1KGNv
bXBhdF9nZHQpID0gYm9vdF9jb21wYXRfZ2R0OwogfQogCi1leHRlcm4gdm9pZCAoKmNvbnN0IGF1
dG9nZW5fZW50cnlwb2ludHNbTlJfVkVDVE9SU10pKHZvaWQpOworZXh0ZXJuIHZvaWQgKCpjb25z
dCBhdXRvZ2VuX2VudHJ5cG9pbnRzW1g4Nl9OUl9WRUNUT1JTXSkodm9pZCk7CiB2b2lkIF9faW5p
dCB0cmFwX2luaXQodm9pZCkKIHsKICAgICB1bnNpZ25lZCBpbnQgdmVjdG9yOwpAQCAtMjAwMiw3
ICsyMDAyLDcgQEAgdm9pZCBfX2luaXQgdHJhcF9pbml0KHZvaWQpCiAKICAgICBwdl90cmFwX2lu
aXQoKTsKIAotICAgIGZvciAoIHZlY3RvciA9IDA7IHZlY3RvciA8IE5SX1ZFQ1RPUlM7ICsrdmVj
dG9yICkKKyAgICBmb3IgKCB2ZWN0b3IgPSAwOyB2ZWN0b3IgPCBYODZfTlJfVkVDVE9SUzsgKyt2
ZWN0b3IgKQogICAgIHsKICAgICAgICAgaWYgKCBhdXRvZ2VuX2VudHJ5cG9pbnRzW3ZlY3Rvcl0g
KQogICAgICAgICB7Ci0tLSBhL3hlbi9hcmNoL3g4Ni94ODZfNjQvZW50cnkuUworKysgYi94ZW4v
YXJjaC94ODYveDg2XzY0L2VudHJ5LlMKQEAgLTkxOSw3ICs5MTksNyBAQCBHTE9CQUwoYXV0b2dl
bl9lbnRyeXBvaW50cykKIGF1dG9nZW5fc3R1YnM6IC8qIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVk
IHN0dWJzLiAqLwogCiAgICAgICAgIHZlYyA9IDAKLSAgICAgICAgLnJlcHQgTlJfVkVDVE9SUwor
ICAgICAgICAucmVwdCBYODZfTlJfVkVDVE9SUwogCiAgICAgICAgIC8qIENvbW1vbiBpbnRlcnJ1
cHRzLCBoZWFkaW5nIHRvd2FyZHMgZG9fSVJRKCkuICovCiAjaWZkZWYgQ09ORklHX1BWCi0tLSBh
L3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL3ZteC92bWNzLmgKKysrIGIveGVuL2luY2x1ZGUvYXNt
LXg4Ni9odm0vdm14L3ZtY3MuaApAQCAtMTksNyArMTksNiBAQAogI2RlZmluZSBfX0FTTV9YODZf
SFZNX1ZNWF9WTUNTX0hfXwogCiAjaW5jbHVkZSA8YXNtL2h2bS9pby5oPgotI2luY2x1ZGUgPGly
cV92ZWN0b3JzLmg+CiAKIGV4dGVybiB2b2lkIHZtY3NfZHVtcF92Y3B1KHN0cnVjdCB2Y3B1ICp2
KTsKIGV4dGVybiB2b2lkIHNldHVwX3ZtY3NfZHVtcCh2b2lkKTsKQEAgLTg0LDcgKzgzLDcgQEAg
c3RydWN0IHZteF9tc3JfYml0bWFwIHsKIH07CiAKIHN0cnVjdCBwaV9kZXNjIHsKLSAgICBERUNM
QVJFX0JJVE1BUChwaXIsIE5SX1ZFQ1RPUlMpOworICAgIERFQ0xBUkVfQklUTUFQKHBpciwgWDg2
X05SX1ZFQ1RPUlMpOwogICAgIHVuaW9uIHsKICAgICAgICAgc3RydWN0IHsKICAgICAgICAgICAg
IHUxNiAgICAgb24gICAgIDogMSwgIC8qIGJpdCAyNTYgLSBPdXRzdGFuZGluZyBOb3RpZmljYXRp
b24gKi8KQEAgLTE1MCw3ICsxNDksNyBAQCBzdHJ1Y3Qgdm14X3ZjcHUgewogICAgIHVuc2lnbmVk
IGludCAgICAgICAgIGhvc3RfbXNyX2NvdW50OwogCiAgICAgdW5zaWduZWQgbG9uZyAgICAgICAg
ZW9pX2V4aXRtYXBfY2hhbmdlZDsKLSAgICBERUNMQVJFX0JJVE1BUChlb2lfZXhpdF9iaXRtYXAs
IE5SX1ZFQ1RPUlMpOworICAgIERFQ0xBUkVfQklUTUFQKGVvaV9leGl0X2JpdG1hcCwgWDg2X05S
X1ZFQ1RPUlMpOwogICAgIHN0cnVjdCBwaV9kZXNjICAgICAgIHBpX2Rlc2M7CiAKICAgICB1bnNp
Z25lZCBsb25nICAgICAgICBob3N0X2NyMDsKLS0tIGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9pcnEu
aAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2lycS5oCkBAIC05LDcgKzksNiBAQAogI2luY2x1
ZGUgPHhlbi9wZXJjcHUuaD4KICNpbmNsdWRlIDx4ZW4vc21wLmg+CiAjaW5jbHVkZSA8YXNtL2h2
bS9pcnEuaD4KLSNpbmNsdWRlIDxpcnFfdmVjdG9ycy5oPgogCiBleHRlcm4gdW5zaWduZWQgaW50
IG5yX2lycXNfZ3NpOwogZXh0ZXJuIHVuc2lnbmVkIGludCBucl9pcnFzOwpAQCAtMjQsNyArMjMs
NyBAQCBleHRlcm4gdW5zaWduZWQgaW50IG5yX2lycXM7CiAjZGVmaW5lIExFR0FDWV9WRUNUT1Io
aXJxKSAgICAgICAgICAoKGlycSkgKyBGSVJTVF9MRUdBQ1lfVkVDVE9SKQogCiB0eXBlZGVmIHN0
cnVjdCB7Ci0gICAgREVDTEFSRV9CSVRNQVAoX2JpdHMsTlJfVkVDVE9SUyk7CisgICAgREVDTEFS
RV9CSVRNQVAoX2JpdHMsIFg4Nl9OUl9WRUNUT1JTKTsKIH0gdm1hc2tfdDsKIAogc3RydWN0IGly
cV9kZXNjOwpAQCAtNTksNyArNTgsNyBAQCBzdHJ1Y3QgYXJjaF9pcnFfZGVzYyB7CiAKICNkZWZp
bmUgSVJRX1ZFQ1RPUl9VTkFTU0lHTkVEICgtMSkKIAotdHlwZWRlZiBpbnQgdmVjdG9yX2lycV90
W05SX1ZFQ1RPUlNdOwordHlwZWRlZiBpbnQgdmVjdG9yX2lycV90W1g4Nl9OUl9WRUNUT1JTXTsK
IERFQ0xBUkVfUEVSX0NQVSh2ZWN0b3JfaXJxX3QsIHZlY3Rvcl9pcnEpOwogCiBleHRlcm4gYm9v
bCBvcHRfbm9pcnFiYWxhbmNlOwotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L21hY2gtZGVmYXVs
dC9pcnFfdmVjdG9ycy5oCisrKyBiL3hlbi9pbmNsdWRlL2FzbS14ODYvbWFjaC1kZWZhdWx0L2ly
cV92ZWN0b3JzLmgKQEAgLTM3LDggKzM3LDYgQEAKIC8qIFRoZXJlJ3Mgbm8gSVJRMiBhdCB0aGUg
UElDLiAqLwogI2RlZmluZSBJUlFfTU9WRV9DTEVBTlVQX1ZFQ1RPUiAoRklSU1RfTEVHQUNZX1ZF
Q1RPUiArIDIpCiAKLSNkZWZpbmUgTlJfVkVDVE9SUyAyNTYKLQogI2RlZmluZSBGSVJTVF9JUlFf
VkVDVE9SICAgICAgICBGSVJTVF9EWU5BTUlDX1ZFQ1RPUgogI2RlZmluZSBMQVNUX0lSUV9WRUNU
T1IgICAgICAgICBMQVNUX0hJUFJJT1JJVFlfVkVDVE9SCiAKLS0tIGEveGVuL2luY2x1ZGUvYXNt
LXg4Ni94ODYtZGVmbnMuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L3g4Ni1kZWZucy5oCkBA
IC0xMTYsNCArMTE2LDYgQEAKICNkZWZpbmUgWDg2X0lOVlBDSURfQUxMX0lOQ0xfR0xPQkFMIDIK
ICNkZWZpbmUgWDg2X0lOVlBDSURfQUxMX05PTl9HTE9CQUwgIDMKIAorI2RlZmluZSBYODZfTlJf
VkVDVE9SUyAyNTYKKwogI2VuZGlmCS8qIF9fWEVOX1g4Nl9ERUZOU19IX18gKi8KCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5n
IGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJv
amVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

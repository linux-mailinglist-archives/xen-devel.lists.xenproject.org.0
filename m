Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id D43AF151BC8
	for <lists+xen-devel@lfdr.de>; Tue,  4 Feb 2020 15:03:52 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iyykw-0000yd-IW; Tue, 04 Feb 2020 14:00:46 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=2C6S=3Y=xen.org=wl@srs-us1.protection.inumbo.net>)
 id 1iyyku-0000yY-Tj
 for xen-devel@lists.xenproject.org; Tue, 04 Feb 2020 14:00:44 +0000
X-Inumbo-ID: bc326266-4756-11ea-8f4f-12813bfff9fa
Received: from mail.xenproject.org (unknown [104.130.215.37])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id bc326266-4756-11ea-8f4f-12813bfff9fa;
 Tue, 04 Feb 2020 14:00:44 +0000 (UTC)
Received: from xenbits.xenproject.org ([104.239.192.120])
 by mail.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <wl@xen.org>)
 id 1iyykt-0000Va-9H; Tue, 04 Feb 2020 14:00:43 +0000
Received: from 41.142.6.51.dyn.plus.net ([51.6.142.41] helo=debian)
 by xenbits.xenproject.org with esmtpsa
 (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.89)
 (envelope-from <wl@xen.org>)
 id 1iyyks-0006lY-VT; Tue, 04 Feb 2020 14:00:43 +0000
Date: Tue, 4 Feb 2020 14:00:40 +0000
From: Wei Liu <wl@xen.org>
To: Hongyan Xia <hongyxia@amazon.com>
Message-ID: <20200204140040.7epg5ov2vwtpr333@debian>
References: <45c03833059b0ce3f52c02693a2eb649356adf3e.1580755007.git.hongyxia@amazon.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <45c03833059b0ce3f52c02693a2eb649356adf3e.1580755007.git.hongyxia@amazon.com>
User-Agent: NeoMutt/20180716
Subject: Re: [Xen-devel] [PATCH] x86/domain_page: implement pure per-vCPU
 mapping infrastructure
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Wei Liu <wl@xen.org>, Andrew Cooper <andrew.cooper3@citrix.com>,
 jgrall@amazon.com, Jan Beulich <jbeulich@suse.com>,
 xen-devel@lists.xenproject.org,
 Roger Pau =?utf-8?B?TW9ubsOp?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gTW9uLCBGZWIgMDMsIDIwMjAgYXQgMDY6MzY6NTNQTSArMDAwMCwgSG9uZ3lhbiBYaWEgd3Jv
dGU6ClsuLi5dCj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9kb21haW5fcGFnZS5jIGIveGVu
L2FyY2gveDg2L2RvbWFpbl9wYWdlLmMKPiBpbmRleCBkZDMyNzEyZDJmLi41Mjk3MWQyZWNjIDEw
MDY0NAo+IC0tLSBhL3hlbi9hcmNoL3g4Ni9kb21haW5fcGFnZS5jCj4gKysrIGIveGVuL2FyY2gv
eDg2L2RvbWFpbl9wYWdlLmMKPiBAQCAtNjksMTIgKzY5LDExIEBAIHZvaWQgX19pbml0IG1hcGNh
Y2hlX292ZXJyaWRlX2N1cnJlbnQoc3RydWN0IHZjcHUgKnYpCj4gIAo+ICB2b2lkICptYXBfZG9t
YWluX3BhZ2UobWZuX3QgbWZuKQo+ICB7Cj4gLSAgICB1bnNpZ25lZCBsb25nIGZsYWdzOwo+IC0g
ICAgdW5zaWduZWQgaW50IGlkeCwgaTsKPiArICAgIHVuc2lnbmVkIGxvbmcgZmxhZ3MsICpwaGFz
aG1mbjsKPiArICAgIHVuc2lnbmVkIGludCBpZHgsIGdsYl9pZHgsICpwaGFzaGlkeCwgb2hhc2hp
ZHg7Cj4gICAgICBzdHJ1Y3QgdmNwdSAqdjsKPiAtICAgIHN0cnVjdCBtYXBjYWNoZV9kb21haW4g
KmRjYWNoZTsKPiAgICAgIHN0cnVjdCBtYXBjYWNoZV92Y3B1ICp2Y2FjaGU7Cj4gLSAgICBzdHJ1
Y3QgdmNwdV9tYXBoYXNoX2VudHJ5ICpoYXNoZW50Owo+ICsgICAgdm9pZCAqcmV0Owo+ICAKPiAg
I2lmZGVmIE5ERUJVRwo+ICAgICAgaWYgKCBtZm5feChtZm4pIDw9IFBGTl9ET1dOKF9fcGEoSFlQ
RVJWSVNPUl9WSVJUX0VORCAtIDEpKSApCj4gQEAgLTgyLDEwNCArODEsNTkgQEAgdm9pZCAqbWFw
X2RvbWFpbl9wYWdlKG1mbl90IG1mbikKPiAgI2VuZGlmCj4gIAo+ICAgICAgdiA9IG1hcGNhY2hl
X2N1cnJlbnRfdmNwdSgpOwo+IC0gICAgaWYgKCAhdiB8fCAhaXNfcHZfdmNwdSh2KSApCj4gKyAg
ICBpZiAoICF2IHx8ICFpc19wdl92Y3B1KHYpIHx8ICF2LT5hcmNoLnB2Lm1hcGNhY2hlICkKPiAg
ICAgICAgICByZXR1cm4gbWZuX3RvX3ZpcnQobWZuX3gobWZuKSk7Cj4gIAo+IC0gICAgZGNhY2hl
ID0gJnYtPmRvbWFpbi0+YXJjaC5wdi5tYXBjYWNoZTsKPiAtICAgIHZjYWNoZSA9ICZ2LT5hcmNo
LnB2Lm1hcGNhY2hlOwo+IC0gICAgaWYgKCAhZGNhY2hlLT5pbnVzZSApCj4gLSAgICAgICAgcmV0
dXJuIG1mbl90b192aXJ0KG1mbl94KG1mbikpOwo+ICsgICAgdmNhY2hlID0gdi0+YXJjaC5wdi5t
YXBjYWNoZTsKPiArICAgIHBoYXNobWZuID0gJnZjYWNoZS0+aGFzaF9tZm5bTUFQSEFTSF9IQVNI
Rk4obWZuX3gobWZuKSldOwo+ICsgICAgcGhhc2hpZHggPSAmdmNhY2hlLT5oYXNoX2lkeFtNQVBI
QVNIX0hBU0hGTihtZm5feChtZm4pKV07Cj4gIAo+ICAgICAgcGVyZmNfaW5jcihtYXBfZG9tYWlu
X3BhZ2VfY291bnQpOwo+ICAKPiAgICAgIGxvY2FsX2lycV9zYXZlKGZsYWdzKTsKPiAgCj4gLSAg
ICBoYXNoZW50ID0gJnZjYWNoZS0+aGFzaFtNQVBIQVNIX0hBU0hGTihtZm5feChtZm4pKV07Cj4g
LSAgICBpZiAoIGhhc2hlbnQtPm1mbiA9PSBtZm5feChtZm4pICkKPiArICAgIG9oYXNoaWR4ID0g
KnBoYXNoaWR4OwoKVGhpcyBpcyBhIGJpdCByZWR1bmRhbnQgYmVjYXVzZSB5b3UgbmV2ZXIgcmV3
cml0ZSAqcGhhc2hpZHggdW50aWwgdGhlCmxhc3QgbWludXRlLiBJIHRoaW5rIG9oYXNoaWR4IGNh
biBiZSByZW1vdmVkLCBidXQgaXQncyB1cCB0byB5b3UuCgo+ICsgICAgaWYgKCAqcGhhc2htZm4g
IT0gbWZuX3gobWZuKSApCj4gICAgICB7Cj4gLSAgICAgICAgaWR4ID0gaGFzaGVudC0+aWR4Owo+
IC0gICAgICAgIEFTU0VSVChpZHggPCBkY2FjaGUtPmVudHJpZXMpOwo+IC0gICAgICAgIGhhc2hl
bnQtPnJlZmNudCsrOwo+IC0gICAgICAgIEFTU0VSVChoYXNoZW50LT5yZWZjbnQpOwo+IC0gICAg
ICAgIEFTU0VSVChtZm5fZXEobDFlX2dldF9tZm4oTUFQQ0FDSEVfTDFFTlQoaWR4KSksIG1mbikp
Owo+IC0gICAgICAgIGdvdG8gb3V0Owo+IC0gICAgfQo+ICsgICAgICAgIGlkeCA9IGZpbmRfZmly
c3RfemVyb19iaXQodmNhY2hlLT5pbnVzZSwgTUFQQ0FDSEVfVkNQVV9FTlRSSUVTKTsKPiArICAg
ICAgICBCVUdfT04oaWR4ID49IE1BUENBQ0hFX1ZDUFVfRU5UUklFUyk7Cj4gIAo+IC0gICAgc3Bp
bl9sb2NrKCZkY2FjaGUtPmxvY2spOwo+ICsgICAgICAgIEFTU0VSVCh2Y2FjaGUtPnJlZmNudFtp
ZHhdID09IDApOwo+ICsgICAgICAgIF9fc2V0X2JpdChpZHgsIHZjYWNoZS0+aW51c2UpOwo+ICAK
PiAtICAgIC8qIEhhcyBzb21lIG90aGVyIENQVSBjYXVzZWQgYSB3cmFwPyBXZSBtdXN0IGZsdXNo
IGlmIHNvLiAqLwpbLi4uXQo+ICB2b2lkIHVubWFwX2RvbWFpbl9wYWdlKGNvbnN0IHZvaWQgKnB0
cikKPiAgewo+IC0gICAgdW5zaWduZWQgaW50IGlkeDsKPiArICAgIHVuc2lnbmVkIGludCBpZHgs
IGdsYl9pZHg7Cj4gICAgICBzdHJ1Y3QgdmNwdSAqdjsKPiAtICAgIHN0cnVjdCBtYXBjYWNoZV9k
b21haW4gKmRjYWNoZTsKPiAtICAgIHVuc2lnbmVkIGxvbmcgdmEgPSAodW5zaWduZWQgbG9uZylw
dHIsIG1mbiwgZmxhZ3M7Cj4gLSAgICBzdHJ1Y3QgdmNwdV9tYXBoYXNoX2VudHJ5ICpoYXNoZW50
Owo+ICsgICAgc3RydWN0IG1hcGNhY2hlX3ZjcHUgKnZjYWNoZTsKPiArICAgIHVuc2lnbmVkIGxv
bmcgdmEgPSAodW5zaWduZWQgbG9uZylwdHIsIG1mbiwgaGFzaG1mbiwgZmxhZ3M7Cj4gIAo+ICAg
ICAgaWYgKCB2YSA+PSBESVJFQ1RNQVBfVklSVF9TVEFSVCApCj4gICAgICAgICAgcmV0dXJuOwo+
IEBAIC0xODksNzMgKzE0MywyMSBAQCB2b2lkIHVubWFwX2RvbWFpbl9wYWdlKGNvbnN0IHZvaWQg
KnB0cikKPiAgICAgIHYgPSBtYXBjYWNoZV9jdXJyZW50X3ZjcHUoKTsKPiAgICAgIEFTU0VSVCh2
ICYmIGlzX3B2X3ZjcHUodikpOwo+ICAKPiAtICAgIGRjYWNoZSA9ICZ2LT5kb21haW4tPmFyY2gu
cHYubWFwY2FjaGU7Cj4gLSAgICBBU1NFUlQoZGNhY2hlLT5pbnVzZSk7Cj4gLQo+IC0gICAgaWR4
ID0gUEZOX0RPV04odmEgLSBNQVBDQUNIRV9WSVJUX1NUQVJUKTsKPiAtICAgIG1mbiA9IGwxZV9n
ZXRfcGZuKE1BUENBQ0hFX0wxRU5UKGlkeCkpOwo+IC0gICAgaGFzaGVudCA9ICZ2LT5hcmNoLnB2
Lm1hcGNhY2hlLmhhc2hbTUFQSEFTSF9IQVNIRk4obWZuKV07Cj4gKyAgICB2Y2FjaGUgPSB2LT5h
cmNoLnB2Lm1hcGNhY2hlOwo+ICsgICAgQVNTRVJUKHZjYWNoZSk7Cj4gIAo+ICsgICAgZ2xiX2lk
eCA9IFBGTl9ET1dOKHZhIC0gTUFQQ0FDSEVfVklSVF9TVEFSVCk7Cj4gKyAgICBpZHggPSBnbGJf
aWR4IC0gdi0+dmNwdV9pZCAqIE1BUENBQ0hFX1ZDUFVfRU5UUklFUzsKCkFkZCBhIGJsYW5rIGxp
bmUgaGVyZSBwbGVhc2UuCgo+ICAgICAgbG9jYWxfaXJxX3NhdmUoZmxhZ3MpOwo+ICAKPiAtICAg
IGlmICggaGFzaGVudC0+aWR4ID09IGlkeCApCj4gLSAgICB7Cj4gLSAgICAgICAgQVNTRVJUKGhh
c2hlbnQtPm1mbiA9PSBtZm4pOwo+IC0gICAgICAgIEFTU0VSVChoYXNoZW50LT5yZWZjbnQpOwo+
IC0gICAgICAgIGhhc2hlbnQtPnJlZmNudC0tOwo+IC0gICAgfQo+IC0gICAgZWxzZSBpZiAoICFo
YXNoZW50LT5yZWZjbnQgKQo+IC0gICAgewo+IC0gICAgICAgIGlmICggaGFzaGVudC0+aWR4ICE9
IE1BUEhBU0hFTlRfTk9USU5VU0UgKQo+IC0gICAgICAgIHsKPiAtICAgICAgICAgICAgLyogL0Zp
cnN0LywgemFwIHRoZSBQVEUuICovCj4gLSAgICAgICAgICAgIEFTU0VSVChsMWVfZ2V0X3BmbihN
QVBDQUNIRV9MMUVOVChoYXNoZW50LT5pZHgpKSA9PQo+IC0gICAgICAgICAgICAgICAgICAgaGFz
aGVudC0+bWZuKTsKPiAtICAgICAgICAgICAgbDFlX3dyaXRlKCZNQVBDQUNIRV9MMUVOVChoYXNo
ZW50LT5pZHgpLCBsMWVfZW1wdHkoKSk7Cj4gLSAgICAgICAgICAgIC8qIC9TZWNvbmQvLCBtYXJr
IGFzIGdhcmJhZ2UuICovCj4gLSAgICAgICAgICAgIHNldF9iaXQoaGFzaGVudC0+aWR4LCBkY2Fj
aGUtPmdhcmJhZ2UpOwo+IC0gICAgICAgIH0KPiAtCj4gLSAgICAgICAgLyogQWRkIG5ld2x5LWZy
ZWVkIG1hcHBpbmcgdG8gdGhlIG1hcGhhc2guICovCj4gLSAgICAgICAgaGFzaGVudC0+bWZuID0g
bWZuOwo+IC0gICAgICAgIGhhc2hlbnQtPmlkeCA9IGlkeDsKPiAtICAgIH0KPiAtICAgIGVsc2UK
PiAtICAgIHsKPiAtICAgICAgICAvKiAvRmlyc3QvLCB6YXAgdGhlIFBURS4gKi8KPiAtICAgICAg
ICBsMWVfd3JpdGUoJk1BUENBQ0hFX0wxRU5UKGlkeCksIGwxZV9lbXB0eSgpKTsKPiAtICAgICAg
ICAvKiAvU2Vjb25kLywgbWFyayBhcyBnYXJiYWdlLiAqLwo+IC0gICAgICAgIHNldF9iaXQoaWR4
LCBkY2FjaGUtPmdhcmJhZ2UpOwo+IC0gICAgfQo+IC0KPiAtICAgIGxvY2FsX2lycV9yZXN0b3Jl
KGZsYWdzKTsKPiAtfQo+IC0KPiAtaW50IG1hcGNhY2hlX2RvbWFpbl9pbml0KHN0cnVjdCBkb21h
aW4gKmQpCj4gLXsKPiAtICAgIHN0cnVjdCBtYXBjYWNoZV9kb21haW4gKmRjYWNoZSA9ICZkLT5h
cmNoLnB2Lm1hcGNhY2hlOwo+IC0gICAgdW5zaWduZWQgaW50IGJpdG1hcF9wYWdlczsKPiArICAg
IG1mbiA9IGwxZV9nZXRfcGZuKE1BUENBQ0hFX0wxRU5UKGdsYl9pZHgpKTsKPiArICAgIGhhc2ht
Zm4gPSB2Y2FjaGUtPmhhc2hfbWZuW01BUEhBU0hfSEFTSEZOKG1mbildOwo+ICAKPiAtICAgIEFT
U0VSVChpc19wdl9kb21haW4oZCkpOwo+ICsgICAgdmNhY2hlLT5yZWZjbnRbaWR4XS0tOwo+ICsg
ICAgaWYgKCBoYXNobWZuICE9IG1mbiAmJiAhdmNhY2hlLT5yZWZjbnRbaWR4XSApCj4gKyAgICAg
ICAgX19jbGVhcl9iaXQoaWR4LCB2Y2FjaGUtPmludXNlKTsKPiAgCj4gLSNpZmRlZiBOREVCVUcK
PiAtICAgIGlmICggIW1lbV9ob3RwbHVnICYmIG1heF9wYWdlIDw9IFBGTl9ET1dOKF9fcGEoSFlQ
RVJWSVNPUl9WSVJUX0VORCAtIDEpKSApCj4gLSAgICAgICAgcmV0dXJuIDA7Cj4gLSNlbmRpZgoK
V291bGQgYmUgZ3JlYXQgaWYgc29tZSBmb3JtIG9yIHNoYXBlIG9mIHRoaXMgY2hlY2sgY2FuIGJl
IGFkZGVkIHRvCm1hcGNhY2hlX3ZjcHVfaW5pdCBzdWNoIHRoYXQgeW91IGRvbid0IHVubmVjZXNz
YXJpbHkgaW5pdGlhbGlzZSBkYXRhCnN0cnVjdHVyZXMgdGhhdCB3aWxsIG5ldmVyIGJlIHVzZWQu
Cgo+IC0KPiAtICAgIEJVSUxEX0JVR19PTihNQVBDQUNIRV9WSVJUX0VORCArIFBBR0VfU0laRSAq
ICgzICsKPiAtICAgICAgICAgICAgICAgICAyICogUEZOX1VQKEJJVFNfVE9fTE9OR1MoTUFQQ0FD
SEVfRU5UUklFUykgKiBzaXplb2YobG9uZykpKSA+Cj4gLSAgICAgICAgICAgICAgICAgTUFQQ0FD
SEVfVklSVF9TVEFSVCArIChQRVJET01BSU5fU0xPVF9NQllURVMgPDwgMjApKTsKPiAtICAgIGJp
dG1hcF9wYWdlcyA9IFBGTl9VUChCSVRTX1RPX0xPTkdTKE1BUENBQ0hFX0VOVFJJRVMpICogc2l6
ZW9mKGxvbmcpKTsKPiAtICAgIGRjYWNoZS0+aW51c2UgPSAodm9pZCAqKU1BUENBQ0hFX1ZJUlRf
RU5EICsgUEFHRV9TSVpFOwo+IC0gICAgZGNhY2hlLT5nYXJiYWdlID0gZGNhY2hlLT5pbnVzZSAr
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAoYml0bWFwX3BhZ2VzICsgMSkgKiBQQUdFX1NJWkUg
LyBzaXplb2YobG9uZyk7Cj4gLQo+IC0gICAgc3Bpbl9sb2NrX2luaXQoJmRjYWNoZS0+bG9jayk7
Cj4gLQo+IC0gICAgcmV0dXJuIGNyZWF0ZV9wZXJkb21haW5fbWFwcGluZyhkLCAodW5zaWduZWQg
bG9uZylkY2FjaGUtPmludXNlLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAyICogYml0bWFwX3BhZ2VzICsgMSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgTklMKGwxX3BnZW50cnlfdCAqKSwgTlVMTCk7Cj4gKyAgICBsb2NhbF9pcnFfcmVzdG9y
ZShmbGFncyk7Cj4gIH0KPiAgClsuLi5dCj4gZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14
ODYvY29uZmlnLmggYi94ZW4vaW5jbHVkZS9hc20teDg2L2NvbmZpZy5oCj4gaW5kZXggZDBjZmJi
NzBhOC4uNGIyMjE3MTUxYiAxMDA2NDQKPiAtLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2NvbmZp
Zy5oCj4gKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9jb25maWcuaAo+IEBAIC0yOTYsNyArMjk2
LDcgQEAgZXh0ZXJuIHVuc2lnbmVkIGxvbmcgeGVuX3BoeXNfc3RhcnQ7Cj4gICAgICAoR0RUX1ZJ
UlRfU1RBUlQodikgKyAoNjQqMTAyNCkpCj4gIAo+ICAvKiBtYXBfZG9tYWluX3BhZ2UoKSBtYXAg
Y2FjaGUuIFRoZSBzZWNvbmQgcGVyLWRvbWFpbi1tYXBwaW5nIHN1Yi1hcmVhLiAqLwo+IC0jZGVm
aW5lIE1BUENBQ0hFX1ZDUFVfRU5UUklFUyAgICAoQ09ORklHX1BBR0lOR19MRVZFTFMgKiBDT05G
SUdfUEFHSU5HX0xFVkVMUykKPiArI2RlZmluZSBNQVBDQUNIRV9WQ1BVX0VOVFJJRVMgICAgMzIK
PiAgI2RlZmluZSBNQVBDQUNIRV9FTlRSSUVTICAgICAgICAgKE1BWF9WSVJUX0NQVVMgKiBNQVBD
QUNIRV9WQ1BVX0VOVFJJRVMpCj4gICNkZWZpbmUgTUFQQ0FDSEVfVklSVF9TVEFSVCAgICAgIFBF
UkRPTUFJTl9WSVJUX1NMT1QoMSkKPiAgI2RlZmluZSBNQVBDQUNIRV9WSVJUX0VORCAgICAgICAg
KE1BUENBQ0hFX1ZJUlRfU1RBUlQgKyBcCj4gZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14
ODYvZG9tYWluLmggYi94ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFpbi5oCj4gaW5kZXggYTNhZTVk
OWEyMC4uMzY3YmJhNzExMCAxMDA2NDQKPiAtLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFp
bi5oCj4gKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9kb21haW4uaAo+IEBAIC00MCwzNSArNDAs
MTcgQEAgc3RydWN0IHRyYXBfYm91bmNlIHsKPiAgI2RlZmluZSBNQVBIQVNIX0hBU0hGTihwZm4p
ICgocGZuKSAmIChNQVBIQVNIX0VOVFJJRVMtMSkpCj4gICNkZWZpbmUgTUFQSEFTSEVOVF9OT1RJ
TlVTRSAoKHUzMil+MFUpCj4gIHN0cnVjdCBtYXBjYWNoZV92Y3B1IHsKPiAtICAgIC8qIFNoYWRv
dyBvZiBtYXBjYWNoZV9kb21haW4uZXBvY2guICovCj4gLSAgICB1bnNpZ25lZCBpbnQgc2hhZG93
X2Vwb2NoOwo+IC0KPiAtICAgIC8qIExvY2stZnJlZSBwZXItVkNQVSBoYXNoIG9mIHJlY2VudGx5
LXVzZWQgbWFwcGluZ3MuICovCj4gLSAgICBzdHJ1Y3QgdmNwdV9tYXBoYXNoX2VudHJ5IHsKPiAt
ICAgICAgICB1bnNpZ25lZCBsb25nIG1mbjsKPiAtICAgICAgICB1aW50MzJfdCAgICAgIGlkeDsK
PiAtICAgICAgICB1aW50MzJfdCAgICAgIHJlZmNudDsKPiAtICAgIH0gaGFzaFtNQVBIQVNIX0VO
VFJJRVNdOwo+ICsgICAgdW5zaWduZWQgbG9uZyBoYXNoX21mbltNQVBIQVNIX0VOVFJJRVNdOwo+
ICsgICAgdWludDMyX3QgaGFzaF9pZHhbTUFQSEFTSF9FTlRSSUVTXTsKPiArCj4gKyAgICB1aW50
OF90IHJlZmNudFtNQVBDQUNIRV9WQ1BVX0VOVFJJRVNdOwoKV2hhdCdzIHRoZSByZWFzb24gZm9y
IGJyZWFraW5nIHZjcHVfbWFwaGFzaF9lbnRyeSBpbnRvIHRocmVlIGRpc3RpbmN0CmFycmF5cz8K
CldvdWxkIGl0IG1ha2UgdGhlIGNvZGUgc2hvcnRlci9jbGVhbmVyIGlmIHlvdSBtYWtlIGV2ZXJ5
dGhpbmcKTUFQQ0FDSEVfVkNQVV9FTlRSSUVTPyBBIHZjcHUgbm93IG9ubHkgbmVlZHMgdG8gbWFu
YWdlIGl0cyBvd24gc3VicmVnaW9uCmFmdGVyIGFsbC4KCj4gKyAgICB1bnNpZ25lZCBsb25nIGlu
dXNlW0JJVFNfVE9fTE9OR1MoTUFQQ0FDSEVfVkNQVV9FTlRSSUVTKV07Cj4gIH07Cj4gIAo+ICBz
dHJ1Y3QgbWFwY2FjaGVfZG9tYWluIHsKPiAtICAgIC8qIFRoZSBudW1iZXIgb2YgYXJyYXkgZW50
cmllcywgYW5kIGEgY3Vyc29yIGludG8gdGhlIGFycmF5LiAqLwo+ICAgICAgdW5zaWduZWQgaW50
IGVudHJpZXM7Cj4gLSAgICB1bnNpZ25lZCBpbnQgY3Vyc29yOwo+IC0KPiAtICAgIC8qIFByb3Rl
Y3RzIG1hcF9kb21haW5fcGFnZSgpLiAqLwo+IC0gICAgc3BpbmxvY2tfdCBsb2NrOwo+IC0KPiAt
ICAgIC8qIEdhcmJhZ2UgbWFwcGluZ3MgYXJlIGZsdXNoZWQgZnJvbSBUTEJzIGluIGJhdGNoZXMg
Y2FsbGVkICdlcG9jaHMnLiAqLwo+IC0gICAgdW5zaWduZWQgaW50IGVwb2NoOwo+IC0gICAgdTMy
IHRsYmZsdXNoX3RpbWVzdGFtcDsKPiAtCj4gLSAgICAvKiBXaGljaCBtYXBwaW5ncyBhcmUgaW4g
dXNlLCBhbmQgd2hpY2ggYXJlIGdhcmJhZ2UgdG8gcmVhcCBuZXh0IGVwb2NoPyAqLwo+IC0gICAg
dW5zaWduZWQgbG9uZyAqaW51c2U7Cj4gLSAgICB1bnNpZ25lZCBsb25nICpnYXJiYWdlOwo+ICB9
Owo+ICAKPiAtaW50IG1hcGNhY2hlX2RvbWFpbl9pbml0KHN0cnVjdCBkb21haW4gKik7Cj4gIGlu
dCBtYXBjYWNoZV92Y3B1X2luaXQoc3RydWN0IHZjcHUgKik7Cj4gIHZvaWQgbWFwY2FjaGVfb3Zl
cnJpZGVfY3VycmVudChzdHJ1Y3QgdmNwdSAqKTsKPiAgCj4gQEAgLTQ3Myw3ICs0NTUsNyBAQCBz
dHJ1Y3QgYXJjaF9kb21haW4KPiAgc3RydWN0IHB2X3ZjcHUKPiAgewo+ICAgICAgLyogbWFwX2Rv
bWFpbl9wYWdlKCkgbWFwcGluZyBjYWNoZS4gKi8KPiAtICAgIHN0cnVjdCBtYXBjYWNoZV92Y3B1
IG1hcGNhY2hlOwo+ICsgICAgc3RydWN0IG1hcGNhY2hlX3ZjcHUgKm1hcGNhY2hlOwoKQW5kIHdo
eSBkbyB5b3UgbmVlZCB0byBjaGFuZ2UgdGhpcyB0byBhIHBvaW50ZXI/IElzIGl0IG5vdyB2ZXJ5
IGxhcmdlCmFuZCBjYXVzaW5nIGlzc3VlKHMpPwoKV2VpLgoKPiAgCj4gICAgICB1bnNpZ25lZCBp
bnQgdmdjX2ZsYWdzOwo+ICAKPiAtLSAKPiAyLjE3LjEKPiAKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRl
dmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFp
bG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

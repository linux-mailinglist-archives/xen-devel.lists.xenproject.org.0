Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CAAAF164031
	for <lists+xen-devel@lfdr.de>; Wed, 19 Feb 2020 10:22:34 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j4LV2-00069O-AB; Wed, 19 Feb 2020 09:18:32 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=4ob2=4H=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1j4LV0-00069J-Fh
 for xen-devel@lists.xenproject.org; Wed, 19 Feb 2020 09:18:30 +0000
X-Inumbo-ID: c9f6ea72-52f8-11ea-ade5-bc764e2007e4
Received: from EUR04-HE1-obe.outbound.protection.outlook.com (unknown
 [40.107.7.91]) by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id c9f6ea72-52f8-11ea-ade5-bc764e2007e4;
 Wed, 19 Feb 2020 09:18:29 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=CZduvZLR/Y3EzriHk2FRzcPofwL9ph8vEIt5M78aBrZuX2N3MAUa14HkI1uF6xcgOo7tTDWEtfu0urege43Udr8Bj1gTDdyxh2QrhjYxkpMzZ1kx+gdk3QsFvhao5LzRD4c7oIzM4kmpGvToWcOcjB//sEH8vIPL1evglbk/DDKXNr5lyDZRMOgyyz9iI9uuGoF9P8cCXA2MhEyN9YHlHGnTS6QF+FcElFRl0pv/att8neWuiLD/hukHmqXttfGIcuWJ5LW8gu7NfXvRSH2cPEtqyhpAGrBDUpgFdt3X0hr21nDtwebwgGIoBVK/b7DhySO7ZCSj4brGjBPQuP6qmg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JhFXZLYNo0LT1ONA5JGmv7UDsS57bZKzY6Oy/CyHPoc=;
 b=ZYdcfP7m9o1n+yKwuNi3gmaVy9g7EH7vfo9Fr0o7wzQs4lpw2nsPXS61u0tuNGsS0Y1GjYuGeklsssaFFHipVkRBa5T2z7WAXOAKK6mluKKhBPBXo/nFQ9jOAGylGzDWOLLKijHpizzWNiEl/tqI+Kr6m/E9ISsmjO0HqUnczsbFSiEj4P/rGPZLQp/KwV4uW3qygoSR38yS10OliqIA1b5CboFb3/7rgVeESHASTWhcePg2+RDZfW85ysnnwm/Rouzl7pU4N4q8SS5/MNLZ6OWzjcBjQWSF0mqIevDsFRM5KyYxD2/A2zO0n9j9yknIddR1/1XjnCNU3SKGE68Xzw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JhFXZLYNo0LT1ONA5JGmv7UDsS57bZKzY6Oy/CyHPoc=;
 b=XW8JwaPHGgC+E5aweNuPbZSCDWQMXw2P5lLL4WWMGshn2NzbL0IFFSmarWt+E2UJs0pt0mGuDRNFX5t19qSiUbnzFVU+sAu2CzuiJgpIpfD4B+HjEomTc/KgeAQIAKRE+B4i76vOKHT+XtIwPlq6a2z0VbK83bNDcLm/Fjxg8NA=
Received: from DB6PR02MB2999.eurprd02.prod.outlook.com (10.170.219.144) by
 DB6PR02MB3206.eurprd02.prod.outlook.com (10.170.221.140) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2750.17; Wed, 19 Feb 2020 09:18:26 +0000
Received: from DB6PR02MB2999.eurprd02.prod.outlook.com
 ([fe80::f1c2:7dd1:1131:1c1d]) by DB6PR02MB2999.eurprd02.prod.outlook.com
 ([fe80::f1c2:7dd1:1131:1c1d%7]) with mapi id 15.20.2729.033; Wed, 19 Feb 2020
 09:18:26 +0000
Received: from aisaila-Latitude-E5570.dsd.bitdefender.biz (91.199.104.6) by
 FR2P281CA0007.DEUP281.PROD.OUTLOOK.COM (2603:10a6:d10:a::17) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2729.24 via Frontend Transport; Wed, 19 Feb 2020 09:18:25 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH V3] x86/altp2m: Hypercall to set altp2m view visibility
Thread-Index: AQHV5wWKuFf2vClElk6nKYx34YpPrA==
Date: Wed, 19 Feb 2020 09:18:26 +0000
Message-ID: <20200219091811.9689-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: FR2P281CA0007.DEUP281.PROD.OUTLOOK.COM
 (2603:10a6:d10:a::17) To DB6PR02MB2999.eurprd02.prod.outlook.com
 (2603:10a6:6:17::16)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 627bd35d-873d-47b8-34d2-08d7b51cace6
x-ms-traffictypediagnostic: DB6PR02MB3206:|DB6PR02MB3206:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DB6PR02MB3206C6B3082DCE855F3B3580AB100@DB6PR02MB3206.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:2657;
x-forefront-prvs: 0318501FAE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(396003)(366004)(346002)(136003)(39860400002)(376002)(199004)(189003)(5660300002)(66556008)(64756008)(4326008)(81166006)(81156014)(54906003)(8936002)(6506007)(7416002)(71200400001)(66476007)(956004)(8676002)(186003)(478600001)(6512007)(66446008)(16526019)(66946007)(52116002)(1076003)(2616005)(316002)(36756003)(86362001)(6486002)(6916009)(2906002)(26005);
 DIR:OUT; SFP:1102; SCL:1; SRVR:DB6PR02MB3206;
 H:DB6PR02MB2999.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: nXAP32pda/UA26YZIc44AKpeTcldtILnuM56t+94ifzZCHHGPja6yPSJblgN98LXgIlXcpcPQDB54HXN8aoXI3HfJs7jEK1AiH1pUyT7H58zs4Qz/87BrQA5v5gtaYIB/w3nIlhQiZR0cXxu5nt5uJ7Um9UDdusPDQLtDfD9BX/Gp8waOhgC1BGXRg/NBETWZy70UP+xQ7ZRshBct4HGVZ5G5el7LfKQ8XV1b1kGGDiZhZP/Rqxta5hoQFSMRkqpooeuFzfEvYLPJUJhzzrjsNWMY4NQ7Rg27ooQnN8apebVMEvVliUu4COHGJJquyP6M6hrv47jTem+7xcxrWAofenadMDt7KSj7S2a+tF75xvP1WA/soPhnU2j2MemJ7ax+MwDfEecCNrYi6dqpJFqDey9PRoXd8N4/CsLJWfa7kkBN9QJ94s3DemVZeMicjHu
x-ms-exchange-antispam-messagedata: rEuWbFgSQq2G8PImhOmNbE5g9e/R8Or4KE3Rv4yOGCw68r5XXLQBQCH91TIyZdcTSRnQ62I++wY1jjGgkv3ArFQAil6LUagBxuDkHR/aU+QgdhFA7hG8rCKUovDrPfNRSVKDLbZ4roUQ672WsJmG6Q==
Content-ID: <781A0B924538BA4A9CFA38CE8F164BC8@eurprd02.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 627bd35d-873d-47b8-34d2-08d7b51cace6
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Feb 2020 09:18:26.2463 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 2Eh9buEFM1Y14oCrlf12rq5oUGtB1lCSx+bxuf0TgU16boDWA1NnGT/x82v8NSVklXdNxyfsoKdFDv+Wtia7BnulvWBgvwsO1NNxZap5JlQ=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DB6PR02MB3206
Subject: [Xen-devel] [PATCH V3] x86/altp2m: Hypercall to set altp2m view
 visibility
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Kevin Tian <kevin.tian@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Jun Nakajima <jun.nakajima@intel.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Jan Beulich <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QXQgdGhpcyBtb21lbnQgYSBndWVzdCBjYW4gY2FsbCB2bWZ1bmMgdG8gY2hhbmdlIHRoZSBhbHRw
Mm0gdmlldy4gVGhpcw0Kc2hvdWxkIGJlIGxpbWl0ZWQgaW4gb3JkZXIgdG8gYXZvaWQgYW55IHVu
d2FudGVkIHZpZXcgc3dpdGNoLg0KDQpUaGUgbmV3IHhjX2FsdHAybV9zZXRfdmlzaWJpbGl0eSgp
IHNvbHZlcyB0aGlzIGJ5IG1ha2luZyB2aWV3cyBpbnZpc2libGUNCnRvIHZtZnVuYy4NClRoaXMg
aXMgZG9uZSBieSBoYXZpbmcgYSBzZXBhcmF0ZSBhcmNoLmFsdHAybV93b3JraW5nX2VwdHAgdGhh
dCBpcw0KcG9wdWxhdGVkIGFuZCBtYWRlIGludmFsaWQgaW4gdGhlIHNhbWUgcGxhY2VzIGFzIGFs
dHAybV9lcHRwLiBUaGlzIGlzDQp3cml0dGVuIHRvIEVQVFBfTElTVF9BRERSLg0KVGhlIHZpZXdz
IGFyZSBtYWRlIGluL3Zpc2libGUgYnkgbWFya2luZyB0aGVtIHdpdGggSU5WQUxJRF9NRk4gb3IN
CmNvcHlpbmcgdGhlbSBiYWNrIGZyb20gYWx0cDJtX2VwdHAuDQpUbyBoYXZlIGNvbnNpc3RlbmN5
IHRoZSB2aXNpYmlsaXR5IGFsc28gYXBwbGllcyB0bw0KcDJtX3N3aXRjaF9kb21haW5fYWx0cDJt
X2J5X2lkKCkuDQoNClNpZ25lZC1vZmYtYnk6IEFsZXhhbmRydSBJc2FpbGEgPGFpc2FpbGFAYml0
ZGVmZW5kZXIuY29tPg0KLS0tDQpDQzogSWFuIEphY2tzb24gPGlhbi5qYWNrc29uQGV1LmNpdHJp
eC5jb20+DQpDQzogV2VpIExpdSA8d2xAeGVuLm9yZz4NCkNDOiBBbmRyZXcgQ29vcGVyIDxhbmRy
ZXcuY29vcGVyM0BjaXRyaXguY29tPg0KQ0M6IEdlb3JnZSBEdW5sYXAgPEdlb3JnZS5EdW5sYXBA
ZXUuY2l0cml4LmNvbT4NCkNDOiBKYW4gQmV1bGljaCA8amJldWxpY2hAc3VzZS5jb20+DQpDQzog
SnVsaWVuIEdyYWxsIDxqdWxpZW5AeGVuLm9yZz4NCkNDOiBLb25yYWQgUnplc3p1dGVrIFdpbGsg
PGtvbnJhZC53aWxrQG9yYWNsZS5jb20+DQpDQzogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVs
bGluaUBrZXJuZWwub3JnPg0KQ0M6ICJSb2dlciBQYXUgTW9ubsOpIiA8cm9nZXIucGF1QGNpdHJp
eC5jb20+DQpDQzogSnVuIE5ha2FqaW1hIDxqdW4ubmFrYWppbWFAaW50ZWwuY29tPg0KQ0M6IEtl
dmluIFRpYW4gPGtldmluLnRpYW5AaW50ZWwuY29tPg0KQ0M6IEdlb3JnZSBEdW5sYXAgPGdlb3Jn
ZS5kdW5sYXBAZXUuY2l0cml4LmNvbT4NCi0tLQ0KQ2hhbmdlcyBzaW5jZSBWMjoNCgktIERyb3Ag
aGFwX2VuYWJsZWQoKSBjaGVjaw0KCS0gUmVkdWNlIHRoZSBpbmRlbnRhdGlvbiBkZXB0aCBpbiBo
dm0uYw0KCS0gRml4IGFzc2lnbm1lbnQgaW5kZW50YXRpb24NCgktIERyb3AgcGFkMi4NCg0KQ2hh
bmdlcyBzaW5jZSBWMToNCgktIERyb3AgZG91YmxlIHZpZXcgZnJvbSB0aXRsZS4NCi0tLQ0KIHRv
b2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oICAgfCAgMiArKw0KIHRvb2xzL2xpYnhjL3hjX2Fs
dHAybS5jICAgICAgICAgfCAyNCArKysrKysrKysrKysrKysrKysrKysrKysNCiB4ZW4vYXJjaC94
ODYvaHZtL2h2bS5jICAgICAgICAgIHwgMTggKysrKysrKysrKysrKysrKysrDQogeGVuL2FyY2gv
eDg2L2h2bS92bXgvdm14LmMgICAgICB8ICAyICstDQogeGVuL2FyY2gveDg2L21tL2hhcC9oYXAu
YyAgICAgICB8IDE1ICsrKysrKysrKysrKysrKw0KIHhlbi9hcmNoL3g4Ni9tbS9wMm0tZXB0LmMg
ICAgICAgfCAgMSArDQogeGVuL2FyY2gveDg2L21tL3AybS5jICAgICAgICAgICB8ICA3ICsrKysr
LS0NCiB4ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFpbi5oICAgIHwgIDEgKw0KIHhlbi9pbmNsdWRl
L3B1YmxpYy9odm0vaHZtX29wLmggfCAgOSArKysrKysrKysNCiA5IGZpbGVzIGNoYW5nZWQsIDc2
IGluc2VydGlvbnMoKyksIDMgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS90b29scy9saWJ4
Yy9pbmNsdWRlL3hlbmN0cmwuaCBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oDQppbmRl
eCA5OTU1MmE1ZjczLi40MTRhZGIxNDNiIDEwMDY0NA0KLS0tIGEvdG9vbHMvbGlieGMvaW5jbHVk
ZS94ZW5jdHJsLmgNCisrKyBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oDQpAQCAtMTk0
Myw2ICsxOTQzLDggQEAgaW50IHhjX2FsdHAybV9jaGFuZ2VfZ2ZuKHhjX2ludGVyZmFjZSAqaGFu
ZGxlLCB1aW50MzJfdCBkb21pZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgeGVuX3Bmbl90
IG5ld19nZm4pOw0KIGludCB4Y19hbHRwMm1fZ2V0X3ZjcHVfcDJtX2lkeCh4Y19pbnRlcmZhY2Ug
KmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVpbnQzMl90IHZjcHVpZCwgdWludDE2X3QgKnAybWlkeCk7DQoraW50IHhjX2FsdHAybV9zZXRf
dmlzaWJpbGl0eSh4Y19pbnRlcmZhY2UgKmhhbmRsZSwgdWludDMyX3QgZG9taWQsDQorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCB2aWV3X2lkLCBib29sIHZpc2libGUpOw0K
IA0KIC8qKiANCiAgKiBNZW0gcGFnaW5nIG9wZXJhdGlvbnMuDQpkaWZmIC0tZ2l0IGEvdG9vbHMv
bGlieGMveGNfYWx0cDJtLmMgYi90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KaW5kZXggNDZmYjcy
NTgwNi4uNjk4N2M5NTQxZiAxMDA2NDQNCi0tLSBhL3Rvb2xzL2xpYnhjL3hjX2FsdHAybS5jDQor
KysgYi90b29scy9saWJ4Yy94Y19hbHRwMm0uYw0KQEAgLTQxMCwzICs0MTAsMjcgQEAgaW50IHhj
X2FsdHAybV9nZXRfdmNwdV9wMm1faWR4KHhjX2ludGVyZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBk
b21pZCwNCiAgICAgeGNfaHlwZXJjYWxsX2J1ZmZlcl9mcmVlKGhhbmRsZSwgYXJnKTsNCiAgICAg
cmV0dXJuIHJjOw0KIH0NCisNCitpbnQgeGNfYWx0cDJtX3NldF92aXNpYmlsaXR5KHhjX2ludGVy
ZmFjZSAqaGFuZGxlLCB1aW50MzJfdCBkb21pZCwNCisgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVpbnQxNl90IHZpZXdfaWQsIGJvb2wgdmlzaWJsZSkNCit7DQorICAgIGludCByYzsNCisN
CisgICAgREVDTEFSRV9IWVBFUkNBTExfQlVGRkVSKHhlbl9odm1fYWx0cDJtX29wX3QsIGFyZyk7
DQorDQorICAgIGFyZyA9IHhjX2h5cGVyY2FsbF9idWZmZXJfYWxsb2MoaGFuZGxlLCBhcmcsIHNp
emVvZigqYXJnKSk7DQorICAgIGlmICggYXJnID09IE5VTEwgKQ0KKyAgICAgICAgcmV0dXJuIC0x
Ow0KKw0KKyAgICBhcmctPnZlcnNpb24gPSBIVk1PUF9BTFRQMk1fSU5URVJGQUNFX1ZFUlNJT047
DQorICAgIGFyZy0+Y21kID0gSFZNT1BfYWx0cDJtX3NldF92aXNpYmlsaXR5Ow0KKyAgICBhcmct
PmRvbWFpbiA9IGRvbWlkOw0KKyAgICBhcmctPnUuc2V0X3Zpc2liaWxpdHkuYWx0cDJtX2lkeCA9
IHZpZXdfaWQ7DQorICAgIGFyZy0+dS5zZXRfdmlzaWJpbGl0eS52aXNpYmxlID0gdmlzaWJsZTsN
CisNCisgICAgcmMgPSB4ZW5jYWxsMihoYW5kbGUtPnhjYWxsLCBfX0hZUEVSVklTT1JfaHZtX29w
LCBIVk1PUF9hbHRwMm0sDQorICAgICAgICAgICAgICAgICAgSFlQRVJDQUxMX0JVRkZFUl9BU19B
UkcoYXJnKSk7DQorDQorICAgIHhjX2h5cGVyY2FsbF9idWZmZXJfZnJlZShoYW5kbGUsIGFyZyk7
DQorICAgIHJldHVybiByYzsNCit9DQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9odm0u
YyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMNCmluZGV4IDAwYTllNzBiN2MuLjI0MDM1MjYxZjQg
MTAwNjQ0DQotLS0gYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jDQorKysgYi94ZW4vYXJjaC94ODYv
aHZtL2h2bS5jDQpAQCAtNDU1OCw2ICs0NTU4LDcgQEAgc3RhdGljIGludCBkb19hbHRwMm1fb3Ao
DQogICAgIGNhc2UgSFZNT1BfYWx0cDJtX2dldF9tZW1fYWNjZXNzOg0KICAgICBjYXNlIEhWTU9Q
X2FsdHAybV9jaGFuZ2VfZ2ZuOg0KICAgICBjYXNlIEhWTU9QX2FsdHAybV9nZXRfcDJtX2lkeDoN
CisgICAgY2FzZSBIVk1PUF9hbHRwMm1fc2V0X3Zpc2liaWxpdHk6DQogICAgICAgICBicmVhazsN
CiANCiAgICAgZGVmYXVsdDoNCkBAIC00ODM1LDYgKzQ4MzYsMjMgQEAgc3RhdGljIGludCBkb19h
bHRwMm1fb3AoDQogICAgICAgICBicmVhazsNCiAgICAgfQ0KIA0KKyAgICBjYXNlIEhWTU9QX2Fs
dHAybV9zZXRfdmlzaWJpbGl0eToNCisgICAgew0KKyAgICAgICAgdWludDE2X3QgYWx0cDJtX2lk
eCA9IGEudS5zZXRfdmlzaWJpbGl0eS5hbHRwMm1faWR4Ow0KKw0KKyAgICAgICAgaWYgKCBhLnUu
c2V0X3Zpc2liaWxpdHkucGFkICkNCisgICAgICAgICAgICByYyA9IC1FSU5WQUw7DQorICAgICAg
ICBlbHNlIGlmICggIWFsdHAybV9hY3RpdmUoZCkgKQ0KKyAgICAgICAgICAgIHJjID0gLUVPUE5P
VFNVUFA7DQorICAgICAgICBlbHNlIGlmICggYS51LnNldF92aXNpYmlsaXR5LnZpc2libGUgKQ0K
KyAgICAgICAgICAgIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFthbHRwMm1faWR4XSA9DQor
ICAgICAgICAgICAgICAgIGQtPmFyY2guYWx0cDJtX2VwdHBbYWx0cDJtX2lkeF07DQorICAgICAg
ICBlbHNlDQorICAgICAgICAgICAgZC0+YXJjaC5hbHRwMm1fd29ya2luZ19lcHRwW2FsdHAybV9p
ZHhdID0NCisgICAgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgYnJl
YWs7DQorICAgIH0NCisNCiAgICAgZGVmYXVsdDoNCiAgICAgICAgIEFTU0VSVF9VTlJFQUNIQUJM
RSgpOw0KICAgICB9DQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS92bXgvdm14LmMgYi94
ZW4vYXJjaC94ODYvaHZtL3ZteC92bXguYw0KaW5kZXggYmMyZjQ4YmYyYy4uOTBkZTkwOWZlYyAx
MDA2NDQNCi0tLSBhL3hlbi9hcmNoL3g4Ni9odm0vdm14L3ZteC5jDQorKysgYi94ZW4vYXJjaC94
ODYvaHZtL3ZteC92bXguYw0KQEAgLTIxNDAsNyArMjE0MCw3IEBAIHN0YXRpYyB2b2lkIHZteF92
Y3B1X3VwZGF0ZV92bWZ1bmNfdmUoc3RydWN0IHZjcHUgKnYpDQogICAgIHsNCiAgICAgICAgIHYt
PmFyY2guaHZtLnZteC5zZWNvbmRhcnlfZXhlY19jb250cm9sIHw9IG1hc2s7DQogICAgICAgICBf
X3Ztd3JpdGUoVk1fRlVOQ1RJT05fQ09OVFJPTCwgVk1YX1ZNRlVOQ19FUFRQX1NXSVRDSElORyk7
DQotICAgICAgICBfX3Ztd3JpdGUoRVBUUF9MSVNUX0FERFIsIHZpcnRfdG9fbWFkZHIoZC0+YXJj
aC5hbHRwMm1fZXB0cCkpOw0KKyAgICAgICAgX192bXdyaXRlKEVQVFBfTElTVF9BRERSLCB2aXJ0
X3RvX21hZGRyKGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cCkpOw0KIA0KICAgICAgICAgaWYg
KCBjcHVfaGFzX3ZteF92aXJ0X2V4Y2VwdGlvbnMgKQ0KICAgICAgICAgew0KZGlmZiAtLWdpdCBh
L3hlbi9hcmNoL3g4Ni9tbS9oYXAvaGFwLmMgYi94ZW4vYXJjaC94ODYvbW0vaGFwL2hhcC5jDQpp
bmRleCAzZDkzZjM0NTFjLi41OTY5ZWM4OTIyIDEwMDY0NA0KLS0tIGEveGVuL2FyY2gveDg2L21t
L2hhcC9oYXAuYw0KKysrIGIveGVuL2FyY2gveDg2L21tL2hhcC9oYXAuYw0KQEAgLTQ4OCw4ICs0
ODgsMTcgQEAgaW50IGhhcF9lbmFibGUoc3RydWN0IGRvbWFpbiAqZCwgdTMyIG1vZGUpDQogICAg
ICAgICAgICAgZ290byBvdXQ7DQogICAgICAgICB9DQogDQorICAgICAgICBpZiAoIChkLT5hcmNo
LmFsdHAybV93b3JraW5nX2VwdHAgPSBhbGxvY194ZW5oZWFwX3BhZ2UoKSkgPT0gTlVMTCApDQor
ICAgICAgICB7DQorICAgICAgICAgICAgcnYgPSAtRU5PTUVNOw0KKyAgICAgICAgICAgIGdvdG8g
b3V0Ow0KKyAgICAgICAgfQ0KKw0KICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBNQVhfRVBUUDsg
aSsrICkNCisgICAgICAgIHsNCiAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2ldID0g
bWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgICAgIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdf
ZXB0cFtpXSA9IG1mbl94KElOVkFMSURfTUZOKTsNCisgICAgICAgIH0NCiANCiAgICAgICAgIGZv
ciAoIGkgPSAwOyBpIDwgTUFYX0FMVFAyTTsgaSsrICkNCiAgICAgICAgIHsNCkBAIC01MjMsNiAr
NTMyLDEyIEBAIHZvaWQgaGFwX2ZpbmFsX3RlYXJkb3duKHN0cnVjdCBkb21haW4gKmQpDQogICAg
ICAgICAgICAgZC0+YXJjaC5hbHRwMm1fZXB0cCA9IE5VTEw7DQogICAgICAgICB9DQogDQorICAg
ICAgICBpZiAoIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cCApDQorICAgICAgICB7DQorICAg
ICAgICAgICAgZnJlZV94ZW5oZWFwX3BhZ2UoZC0+YXJjaC5hbHRwMm1fd29ya2luZ19lcHRwKTsN
CisgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV93b3JraW5nX2VwdHAgPSBOVUxMOw0KKyAgICAg
ICAgfQ0KKw0KICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBNQVhfQUxUUDJNOyBpKysgKQ0KICAg
ICAgICAgICAgIHAybV90ZWFyZG93bihkLT5hcmNoLmFsdHAybV9wMm1baV0pOw0KICAgICB9DQpk
aWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L21tL3AybS1lcHQuYyBiL3hlbi9hcmNoL3g4Ni9tbS9w
Mm0tZXB0LmMNCmluZGV4IGViMGYwZWRmZWYuLjY1MzljYTYxOWIgMTAwNjQ0DQotLS0gYS94ZW4v
YXJjaC94ODYvbW0vcDJtLWVwdC5jDQorKysgYi94ZW4vYXJjaC94ODYvbW0vcDJtLWVwdC5jDQpA
QCAtMTM2OCw2ICsxMzY4LDcgQEAgdm9pZCBwMm1faW5pdF9hbHRwMm1fZXB0KHN0cnVjdCBkb21h
aW4gKmQsIHVuc2lnbmVkIGludCBpKQ0KICAgICBlcHQgPSAmcDJtLT5lcHQ7DQogICAgIGVwdC0+
bWZuID0gcGFnZXRhYmxlX2dldF9wZm4ocDJtX2dldF9wYWdldGFibGUocDJtKSk7DQogICAgIGQt
PmFyY2guYWx0cDJtX2VwdHBbYXJyYXlfaW5kZXhfbm9zcGVjKGksIE1BWF9FUFRQKV0gPSBlcHQt
PmVwdHA7DQorICAgIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3Nw
ZWMoaSwgTUFYX0VQVFApXSA9IGVwdC0+ZXB0cDsNCiB9DQogDQogdW5zaWduZWQgaW50IHAybV9m
aW5kX2FsdHAybV9ieV9lcHRwKHN0cnVjdCBkb21haW4gKmQsIHVpbnQ2NF90IGVwdHApDQpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gveDg2L21tL3AybS5jIGIveGVuL2FyY2gveDg2L21tL3AybS5jDQpp
bmRleCA5ZjFjMjlkN2VmLi4xM2I5NjcxNWJhIDEwMDY0NA0KLS0tIGEveGVuL2FyY2gveDg2L21t
L3AybS5jDQorKysgYi94ZW4vYXJjaC94ODYvbW0vcDJtLmMNCkBAIC0yNTE5LDYgKzI1MTksNyBA
QCB2b2lkIHAybV9mbHVzaF9hbHRwMm0oc3RydWN0IGRvbWFpbiAqZCkNCiAgICAgew0KICAgICAg
ICAgcDJtX3Jlc2V0X2FsdHAybShkLCBpLCBBTFRQMk1fREVBQ1RJVkFURSk7DQogICAgICAgICBk
LT5hcmNoLmFsdHAybV9lcHRwW2ldID0gbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAgICAgZC0+
YXJjaC5hbHRwMm1fd29ya2luZ19lcHRwW2ldID0gbWZuX3goSU5WQUxJRF9NRk4pOw0KICAgICB9
DQogDQogICAgIGFsdHAybV9saXN0X3VubG9jayhkKTsNCkBAIC0yNjM4LDcgKzI2MzksOSBAQCBp
bnQgcDJtX2Rlc3Ryb3lfYWx0cDJtX2J5X2lkKHN0cnVjdCBkb21haW4gKmQsIHVuc2lnbmVkIGlu
dCBpZHgpDQogICAgICAgICB7DQogICAgICAgICAgICAgcDJtX3Jlc2V0X2FsdHAybShkLCBpZHgs
IEFMVFAyTV9ERUFDVElWQVRFKTsNCiAgICAgICAgICAgICBkLT5hcmNoLmFsdHAybV9lcHRwW2Fy
cmF5X2luZGV4X25vc3BlYyhpZHgsIE1BWF9FUFRQKV0gPQ0KLSAgICAgICAgICAgIG1mbl94KElO
VkFMSURfTUZOKTsNCisgICAgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KKyAgICAg
ICAgICAgIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFthcnJheV9pbmRleF9ub3NwZWMoaWR4
LCBNQVhfRVBUUCldID0NCisgICAgICAgICAgICAgICAgbWZuX3goSU5WQUxJRF9NRk4pOw0KICAg
ICAgICAgICAgIHJjID0gMDsNCiAgICAgICAgIH0NCiAgICAgfQ0KQEAgLTI2NjUsNyArMjY2OCw3
IEBAIGludCBwMm1fc3dpdGNoX2RvbWFpbl9hbHRwMm1fYnlfaWQoc3RydWN0IGRvbWFpbiAqZCwg
dW5zaWduZWQgaW50IGlkeCkNCiAgICAgcmMgPSAtRUlOVkFMOw0KICAgICBhbHRwMm1fbGlzdF9s
b2NrKGQpOw0KIA0KLSAgICBpZiAoIGQtPmFyY2guYWx0cDJtX2VwdHBbaWR4XSAhPSBtZm5feChJ
TlZBTElEX01GTikgKQ0KKyAgICBpZiAoIGQtPmFyY2guYWx0cDJtX3dvcmtpbmdfZXB0cFtpZHhd
ICE9IG1mbl94KElOVkFMSURfTUZOKSApDQogICAgIHsNCiAgICAgICAgIGZvcl9lYWNoX3ZjcHUo
IGQsIHYgKQ0KICAgICAgICAgICAgIGlmICggaWR4ICE9IHZjcHVfYWx0cDJtKHYpLnAybWlkeCAp
DQpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9kb21haW4uaCBiL3hlbi9pbmNsdWRl
L2FzbS14ODYvZG9tYWluLmgNCmluZGV4IDE4NDNjNzZkMWEuLmIwMzk3MTc3NzggMTAwNjQ0DQot
LS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2RvbWFpbi5oDQorKysgYi94ZW4vaW5jbHVkZS9hc20t
eDg2L2RvbWFpbi5oDQpAQCAtMzI2LDYgKzMyNiw3IEBAIHN0cnVjdCBhcmNoX2RvbWFpbg0KICAg
ICBzdHJ1Y3QgcDJtX2RvbWFpbiAqYWx0cDJtX3AybVtNQVhfQUxUUDJNXTsNCiAgICAgbW1fbG9j
a190IGFsdHAybV9saXN0X2xvY2s7DQogICAgIHVpbnQ2NF90ICphbHRwMm1fZXB0cDsNCisgICAg
dWludDY0X3QgKmFsdHAybV93b3JraW5nX2VwdHA7DQogI2VuZGlmDQogDQogICAgIC8qIE5CLiBw
cm90ZWN0ZWQgYnkgZC0+ZXZlbnRfbG9jayBhbmQgYnkgaXJxX2Rlc2NbaXJxXS5sb2NrICovDQpk
aWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvcHVibGljL2h2bS9odm1fb3AuaCBiL3hlbi9pbmNsdWRl
L3B1YmxpYy9odm0vaHZtX29wLmgNCmluZGV4IGI1OTlkM2NiZDAuLjg3MGVjNTIwNjAgMTAwNjQ0
DQotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMvaHZtL2h2bV9vcC5oDQorKysgYi94ZW4vaW5jbHVk
ZS9wdWJsaWMvaHZtL2h2bV9vcC5oDQpAQCAtMzE4LDYgKzMxOCwxMiBAQCBzdHJ1Y3QgeGVuX2h2
bV9hbHRwMm1fZ2V0X3ZjcHVfcDJtX2lkeCB7DQogICAgIHVpbnQxNl90IGFsdHAybV9pZHg7DQog
fTsNCiANCitzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fc2V0X3Zpc2liaWxpdHkgew0KKyAgICB1aW50
MTZfdCBhbHRwMm1faWR4Ow0KKyAgICB1aW50OF90IHZpc2libGU7DQorICAgIHVpbnQ4X3QgcGFk
Ow0KK307DQorDQogc3RydWN0IHhlbl9odm1fYWx0cDJtX29wIHsNCiAgICAgdWludDMyX3QgdmVy
c2lvbjsgICAvKiBIVk1PUF9BTFRQMk1fSU5URVJGQUNFX1ZFUlNJT04gKi8NCiAgICAgdWludDMy
X3QgY21kOw0KQEAgLTM1MCw2ICszNTYsOCBAQCBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fb3Agew0K
ICNkZWZpbmUgSFZNT1BfYWx0cDJtX2dldF9wMm1faWR4ICAgICAgICAgIDE0DQogLyogU2V0IHRo
ZSAiU3VwcmVzcyAjVkUiIGJpdCBmb3IgYSByYW5nZSBvZiBwYWdlcyAqLw0KICNkZWZpbmUgSFZN
T1BfYWx0cDJtX3NldF9zdXBwcmVzc192ZV9tdWx0aSAxNQ0KKy8qIFNldCB2aXNpYmlsaXR5IGZv
ciBhIGdpdmVuIGFsdHAybSB2aWV3ICovDQorI2RlZmluZSBIVk1PUF9hbHRwMm1fc2V0X3Zpc2li
aWxpdHkgICAgICAgMTYNCiAgICAgZG9taWRfdCBkb21haW47DQogICAgIHVpbnQxNl90IHBhZDE7
DQogICAgIHVpbnQzMl90IHBhZDI7DQpAQCAtMzY3LDYgKzM3NSw3IEBAIHN0cnVjdCB4ZW5faHZt
X2FsdHAybV9vcCB7DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRwMm1fc3VwcHJlc3NfdmVf
bXVsdGkgICAgc3VwcHJlc3NfdmVfbXVsdGk7DQogICAgICAgICBzdHJ1Y3QgeGVuX2h2bV9hbHRw
Mm1fdmNwdV9kaXNhYmxlX25vdGlmeSAgZGlzYWJsZV9ub3RpZnk7DQogICAgICAgICBzdHJ1Y3Qg
eGVuX2h2bV9hbHRwMm1fZ2V0X3ZjcHVfcDJtX2lkeCAgICAgZ2V0X3ZjcHVfcDJtX2lkeDsNCisg
ICAgICAgIHN0cnVjdCB4ZW5faHZtX2FsdHAybV9zZXRfdmlzaWJpbGl0eSAgICAgICBzZXRfdmlz
aWJpbGl0eTsNCiAgICAgICAgIHVpbnQ4X3QgcGFkWzY0XTsNCiAgICAgfSB1Ow0KIH07DQotLSAN
CjIuMTcuMQ0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpo
dHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

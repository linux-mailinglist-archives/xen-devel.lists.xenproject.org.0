Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 69C4613DE49
	for <lists+xen-devel@lfdr.de>; Thu, 16 Jan 2020 16:08:24 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1is6iR-00021y-Lt; Thu, 16 Jan 2020 15:05:47 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=342x=3F=citrix.com=roger.pau@srs-us1.protection.inumbo.net>)
 id 1is6iP-00021s-Ms
 for xen-devel@lists.xenproject.org; Thu, 16 Jan 2020 15:05:45 +0000
X-Inumbo-ID: a630aafc-3871-11ea-a985-bc764e2007e4
Received: from esa5.hc3370-68.iphmx.com (unknown [216.71.155.168])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id a630aafc-3871-11ea-a985-bc764e2007e4;
 Thu, 16 Jan 2020 15:05:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1579187136;
 h=date:from:to:cc:subject:message-id:references:
 mime-version:in-reply-to;
 bh=UVcLOpxaQZ8RgD9w2ICSe/adlKxqU7DILhE0n1aKx38=;
 b=NFngQ57CP/CbDvhAbP55FvjtPhIyev1kVN3L47Ux1QRXn70o+SPRIE1s
 aKai8FHqYFB1l2mNCN/N7zKQuhdRDPpjaW8+bu8lE830a4axZ4JZIKnZv
 c5ziefQs4YYUErSvLlNgomyXtplTlkR5kbimT7EWM5z92hHzyqInCnrUL 8=;
Authentication-Results: esa5.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=roger.pau@citrix.com;
 spf=Pass smtp.mailfrom=roger.pau@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 roger.pau@citrix.com) identity=pra; client-ip=162.221.158.21;
 receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="roger.pau@citrix.com"; x-conformance=sidf_compatible
Received-SPF: Pass (esa5.hc3370-68.iphmx.com: domain of
 roger.pau@citrix.com designates 162.221.158.21 as permitted
 sender) identity=mailfrom; client-ip=162.221.158.21;
 receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="roger.pau@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83
 ip4:168.245.78.127 ~all"
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="roger.pau@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: FaT+88Sp5+RBgknpAQIC9ycf3Ra575USBjhkdfYd/DW99mZRjZvoNVdcO1jkC5bsbnjFZN29xR
 ScgizHFiLpSEkJSUY8vDydGY/PwCrdOXW/qWI0ubOEfPMFoslgAPo9YLI8zxsj6XycMGTX2Ble
 y5+I/pE05y4/IxSBSdP9DKCW0ormAOGeRbSyAVLE3KLqriDm3WltP32sH+30KutSdEeAbdpzbZ
 6gIqSxmu4U0kf80zvppVZX/4HPJNezfl94dfyl8PSFaskN3hNP/BgfdCxJn73XycQ6St5lnBuF
 w2M=
X-SBRS: 2.7
X-MesageID: 11384465
X-Ironport-Server: esa5.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.70,326,1574139600"; d="scan'208";a="11384465"
Date: Thu, 16 Jan 2020 16:05:12 +0100
From: Roger Pau =?iso-8859-1?Q?Monn=E9?= <roger.pau@citrix.com>
To: Jan Beulich <jbeulich@suse.com>
Message-ID: <20200116150339.GR11756@Air-de-Roger>
References: <20200109162232.82782-1-roger.pau@citrix.com>
 <e678321a-3682-9cd5-f9a7-c0d76fdaf90e@suse.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <e678321a-3682-9cd5-f9a7-c0d76fdaf90e@suse.com>
X-ClientProxiedBy: AMSPEX02CAS02.citrite.net (10.69.22.113) To
 AMSPEX02CL01.citrite.net (10.69.22.125)
Subject: Re: [Xen-devel] [PATCH] x86/smp: use APIC ALLBUT destination
 shorthand when possible
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Wei Liu <wl@xen.org>,
 Andrew Cooper <andrew.cooper3@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCBKYW4gMTYsIDIwMjAgYXQgMTE6NDQ6NTFBTSArMDEwMCwgSmFuIEJldWxpY2ggd3Jv
dGU6Cj4gT24gMDkuMDEuMjAyMCAxNzoyMiwgUm9nZXIgUGF1IE1vbm5lIHdyb3RlOgo+ID4gSWYg
dGhlIElQSSBkZXN0aW5hdGlvbiBtYXNrIG1hdGNoZXMgdGhlIG1hc2sgb2Ygb25saW5lIENQVXMg
dXNlIHRoZQo+ID4gQVBJQyBBTExCVVQgZGVzdGluYXRpb24gc2hvcnRoYW5kIGluIG9yZGVyIHRv
IHNlbmQgYW4gSVBJIHRvIGFsbCBDUFVzCj4gPiBvbiB0aGUgc3lzdGVtIGV4Y2VwdCB0aGUgY3Vy
cmVudCBvbmUuIFRoaXMgY2FuIG9ubHkgYmUgc2FmZWx5IHVzZWQKPiA+IHdoZW4gbm8gQ1BVIGhv
dHBsdWcgb3IgdW5wbHVnIG9wZXJhdGlvbnMgYXJlIHRha2luZyBwbGFjZSwgbm8gb2ZmbGluZQo+
ID4gQ1BVcyBvciB0aG9zZSBoYXZlIGJlZW4gb25saW5lZCBhbmQgcGFya2VkIGFuZCBmaW5hbGx5
IHdoZW4gYWxsIENQVXMKPiA+IGluIHRoZSBzeXN0ZW0gaGF2ZSBiZWVuIGFjY291bnRlZCBmb3Ig
KGllOiB0aGUgbnVtYmVyIG9mIENQVXMgZG9lc24ndAo+ID4gZXhjZWVkIE5SX0NQVVMgYW5kIEFQ
SUMgSURzIGFyZSBiZWxvdyBNQVhfQVBJQ1MpLgo+ID4gCj4gPiBUaGlzIGlzIHNwZWNpYWxseSBi
ZW5lZmljaWFsIHdoZW4gdXNpbmcgdGhlIFBWIHNoaW0sIHNpbmNlIHVzaW5nIHRoZQo+ID4gc2hv
cnRoYW5kIGF2b2lkcyBwZXJmb3JtaW5nIGFuIEFQSUMgcmVnaXN0ZXIgd3JpdGUgKG9yIG11bHRp
cGxlIG9uZXMKPiA+IGlmIHVzaW5nIHhBUElDIG1vZGUpIGZvciBlYWNoIGRlc3RpbmF0aW9uIHdo
ZW4gZG9pbmcgYSBnbG9iYWwgVExCCj4gPiBmbHVzaC4KPiA+IAo+ID4gVGhlIGxvY2sgdGltZSBv
ZiBmbHVzaF9sb2NrIG9uIGEgMzIgdkNQVSBndWVzdCB1c2luZyB0aGUgc2hpbSB3aXRob3V0Cj4g
PiB0aGUgc2hvcnRoYW5kIGlzOgo+ID4gCj4gPiBHbG9iYWwgbG9jayBmbHVzaF9sb2NrOiBhZGRy
PWZmZmY4MmQwODA0YjIxYzAsIGxvY2t2YWw9ZjYwMmY2MDIsIG5vdCBsb2NrZWQKPiA+ICAgbG9j
azoyMjg0NTU5MzgoNzk0MDYwNjU1NzMxMzUpLCBibG9jazoyMDU5MDg1ODAoNTU2NDE2NjA1NzYx
NTM5KQo+ID4gCj4gPiBBdmVyYWdlIGxvY2sgdGltZTogMzQ3NTc3bnMKPiA+IAo+ID4gV2hpbGUg
dGhlIHNhbWUgZ3Vlc3QgdXNpbmcgdGhlIHNob3J0aGFuZDoKPiA+IAo+ID4gR2xvYmFsIGxvY2sg
Zmx1c2hfbG9jazogYWRkcj1mZmZmODJkMDgwNGI0MWMwLCBsb2NrdmFsPWQ5YzRkOWJjLCBjcHU9
MTIKPiA+ICAgbG9jazoxODkwNzc1KDQxNjcxOTE0ODA1NCksIGJsb2NrOjE2NjM5NTgoMjUwMDE2
MTI4Mjk0OSkKPiA+IAo+ID4gQXZlcmFnZSBsb2NrIHRpbWU6IDIyMDM5NW5zCj4gPiAKPiA+IEFw
cHJveGltYXRlbHkgYSAxLzMgaW1wcm92ZW1lbnQgaW4gdGhlIGxvY2sgdGltZS4KPiA+IAo+ID4g
Tm90ZSB0aGF0IHRoaXMgcmVxdWlyZXMgbG9ja2luZyB0aGUgQ1BVIG1hcHMgKGdldF9jcHVfbWFw
cykgd2hpY2ggdXNlcwo+ID4gYSB0cnlsb2NrLiBUaGlzIGlzIGN1cnJlbnRseSBzYWZlIGFzIGFs
bCB1c2VycyBvZiBjcHVfYWRkX3JlbW92ZV9sb2NrCj4gPiBkbyBhIHRyeWxvY2ssIGJ1dCB3aWxs
IG5lZWQgcmVldmFsdWF0aW5nIGlmIG5vbi10cnlsb2NrIHVzZXJzIGFwcGVhci4KPiAKPiBBbGwg
b2YgdGhpcyBsb29rcyBva2F5IHRvIG1lLCBidXQgSSBoYXZlIGEgbnVtYmVyIG9mIG1lY2hhbmlj
YWwKPiAoaG9wZWZ1bGx5IG5vdCB0b28gbml0cGlja3kpIGNvbW1lbnRzLgo+IAo+ID4gQWxzbyB0
aGVyZSdzIHNvbWUgY29kZSBtb3ZlbWVudCBvZiBfX3ByZXBhcmVfSUNSIGFuZAo+ID4gX19kZWZh
dWx0X3NlbmRfSVBJX3Nob3J0Y3V0LCB3aGljaCBpcyBhIG5vbi1mdW5jdGlvbmFsIGNoYW5nZSBi
dXQgSQo+ID4gZGlkbid0IGZlZWwgbGlrZSBpdCBzaG91bGQgYmUgc3BsaXQgdG8gYSBzZXBhcmF0
ZSBwYXRjaC4KPiAKPiBUaGlzIG1heSBiZXR0ZXIgYmUgc3BsaXQgb3V0IC0gc2VlIGJlbG93IGZv
ciB3aHkuCgpEb25lIGluIGEgcHJlLXBhdGNoLgoKPiAKPiA+IC0tLSBhL3hlbi9hcmNoL3g4Ni9h
Y3BpL2Jvb3QuYwo+ID4gKysrIGIveGVuL2FyY2gveDg2L2FjcGkvYm9vdC5jCj4gPiBAQCAtMTAz
LDYgKzEwMyw3IEBAIGFjcGlfcGFyc2VfeDJhcGljKHN0cnVjdCBhY3BpX3N1YnRhYmxlX2hlYWRl
ciAqaGVhZGVyLCBjb25zdCB1bnNpZ25lZCBsb25nIGVuZCkKPiA+ICAJCQkgICAgICAgcHJvY2Vz
c29yLT5sYXBpY19mbGFncyAmIEFDUElfTUFEVF9FTkFCTEVECj4gPiAgCQkJICAgICAgID8gS0VS
Tl9XQVJOSU5HICJXQVJOSU5HOiAiIDogS0VSTl9JTkZPLAo+ID4gIAkJCSAgICAgICBwcm9jZXNz
b3ItPmxvY2FsX2FwaWNfaWQsIHByb2Nlc3Nvci0+dWlkKTsKPiA+ICsJCWNwdV9vdmVyZmxvdyA9
IHRydWU7Cj4gCj4gSSBkb24ndCB0aGluayB0aGlzIGlzIGEgZ29vZCBuYW1lLiBTZWVpbmcgdGhh
dCB3ZSBoYXZlICJkaXNhYmxlZF9jcHVzIiwKPiBob3cgYWJvdXQgInVuYWNjb3VudGVkX2NwdXMi
IG9yIHNvbWUgc3VjaD8gKFRoaXMgY291bGQgc3RpbGwgYmUgYSBib29sZWFuCj4gZm9yIHRoZSB0
aW1lIGJlaW5nLCBpZiBwcmVmZXJyZWQgdG8gbm90IGJlIGEgdHJ1ZSBjb3VudC4pCgpEb25lLCBs
ZWZ0IGl0IGFzIGEgYm9vbGVhbiB0aG91Z2guCgo+IFRoaW5raW5nIGFib3V0IGl0LCB3aGF0IGFi
b3V0IHRoZSBwZXJpb2Qgb2YgdGltZSBiZXR3ZWVuIGEgQ1BVIGhhdmluZwo+IGdvdCBwaHlzaWNh
bGx5IGhvdC1hZGRlZCAoYW5kIGhlbmNlIGtub3duIGF0IHRoZSBoYXJkd2FyZSBsZXZlbCkgYW5k
Cj4gaXQgYWN0dWFsbHkgZ2V0dGluZyBicm91Z2h0IHVwIGZvciB0aGUgZmlyc3QgdGltZT8gSU9X
IC0gZG8geW91Cj4gcGVyaGFwcyBuZWVkIHRvIGV4Y2x1ZGUgdXNlIG9mIHRoZSBzaG9ydGN1dCBh
bHNvIHdoZW4gZGlzYWJsZWRfY3B1cwo+IGlzIG5vbi16ZXJvPwoKWWVzLCBJIGd1ZXNzIHRoZXJl
J3Mgbm8gc2lnbmFsIHRvIFhlbiB0aGF0IGEgbmV3IENQVSBpcyBnb2luZyB0byBiZQpwaHlzaWNh
bGx5IGhvdC1hZGRlZCwgYW5kIGhlbmNlIGFzIGxvbmcgYXMgdGhlcmUgYXJlIGVtcHR5IHNsb3Rz
IHRoZQpzY2VuYXJpbyB5b3UgZGVzY3JpYmUgYWJvdmUgaXMgcG9zc2libGUuCgpJIGRvbid0IHRo
aW5rIHRoZXJlJ3MgYWxzbyBhbnl3YXkgdG8gZmlndXJlIG91dCBpZiBhIHN5c3RlbSBpcyBjYXBh
YmxlCm9mIHBoeXNpY2FsIENQVSBob3RwbHVnLCBzbyBhcyBsb25nIGFzIHRoZXJlIGFyZSBkaXNh
YmxlZF9jcHVzIHdlCnNob3VsZG4ndCB1c2UgdGhlIHNob3J0Y3V0ICh0aGF0J3Mga2luZCBvZiBh
IHNoYW1lLCBiZWNhdXNlIEkgdGhpbmsKdGhlcmUgYXJlIG1hbnkgc3lzdGVtcyByZXBvcnRpbmcg
ZGlzYWJsZWQgQ1BVcyBpbiBNQURUKS4KCj4gPiBAQCAtMjMsNiArMjQsMzEgQEAKPiA+ICAjaW5j
bHVkZSA8aXJxX3ZlY3RvcnMuaD4KPiA+ICAjaW5jbHVkZSA8bWFjaF9hcGljLmg+Cj4gPiAgCj4g
PiArc3RhdGljIGlubGluZSBpbnQgX19wcmVwYXJlX0lDUih1bnNpZ25lZCBpbnQgc2hvcnRjdXQs
IGludCB2ZWN0b3IpCj4gPiArewo+ID4gKyAgICByZXR1cm4gQVBJQ19ETV9GSVhFRCB8IHNob3J0
Y3V0IHwgdmVjdG9yOwo+ID4gK30KPiAKPiBJIHRoaW5rIF9fcHJlcGFyZV9JQ1IyKCkgc2hvdWxk
IGJlIG1vdmVkIHRvZ2V0aGVyIHdpdGggaXQsIGFuZCBJIGFsc28KPiB0aGluayBtb3ZlbWVudCBs
aWtlIHRoaXMgc2hvdWxkIGluY2x1ZGUgY29ycmVjdGluZyB0aGUgbmFtZSAoYnkKPiBkcm9wcGlu
ZyBhdCBsZWFzdCBvbmUgb2YgdGhlIHVuZGVyc2NvcmVzKS4gQXMgcGVyIHJlY2VudCBjb21tZW50
cwo+IGVsc2V3aGVyZSAiaW5saW5lIiBtYXkgYWxzbyB3YW50IGRyb3BwaW5nIGF0IHRoaXMgb2Nj
YXNpb24uCgpJJ3ZlIGRyb3BwZWQgYm90aCB1bmRlcnNjb3JlcyBhbmQgdGhlIGlubGluZSBhdHRy
aWJ1dGUgaW4gYSBwcmUtcGF0Y2guCgo+ID4gK3N0YXRpYyB2b2lkIF9fZGVmYXVsdF9zZW5kX0lQ
SV9zaG9ydGN1dCh1bnNpZ25lZCBpbnQgc2hvcnRjdXQsIGludCB2ZWN0b3IsCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCBkZXN0KQo+IAo+
IFRoZSByZW5hbWluZyBzaG91bGQgZ28gZXZlbiBmYXJ0aGVyIGhlcmU6IFRoZXJlJ3Mgbm90aGlu
ZyAiZGVmYXVsdCIKPiBhYm91dCB0aGlzIGZ1bmN0aW9uIC0gdGhlcmUncyBub3Qgc2Vjb25kLCBu
b24tZGVmYXVsdCBpbXBsZW1lbnRhdGlvbi4KPiBKdXN0IGxpa2Ugb3RoZXIgc2ltaWxhciBmdW5j
dGlvbnMgaXQgc2hvdWxkIGp1c3QgYmUKPiBzZW5kX0lQSV9zaG9ydGN1dCgpLgoKQWNrLCBkb25l
IGluIHRoZSBwcmUtcGF0Y2guCgo+ID4gQEAgLTMwLDcgKzU2LDQwIEBACj4gPiAgCj4gPiAgdm9p
ZCBzZW5kX0lQSV9tYXNrKGNvbnN0IGNwdW1hc2tfdCAqbWFzaywgaW50IHZlY3RvcikKPiA+ICB7
Cj4gPiAtICAgIGFsdGVybmF0aXZlX3ZjYWxsKGdlbmFwaWMuc2VuZF9JUElfbWFzaywgbWFzaywg
dmVjdG9yKTsKPiA+ICsgICAgYm9vbCBjcHVzX2xvY2tlZCA9IGZhbHNlOwo+ID4gKwo+ID4gKyAg
ICAvKgo+ID4gKyAgICAgKiBQcmV2ZW50IGFueSBDUFUgaG90e3VufXBsdWcgd2hpbGUgc2VuZGlu
ZyB0aGUgSVBJcyBpZiB3ZSBhcmUgdG8gdXNlCj4gPiArICAgICAqIGEgc2hvcnRoYW5kLCBhbHNv
IHJlZnVzZSB0byB1c2UgYSBzaG9ydGhhbmQgaWYgbm90IGFsbCBDUFVzIGFyZQo+ID4gKyAgICAg
KiBvbmxpbmUgb3IgaGF2ZSBiZWVuIHBhcmtlZC4KPiA+ICsgICAgICovCj4gPiArICAgIGlmICgg
c3lzdGVtX3N0YXRlID4gU1lTX1NUQVRFX3NtcF9ib290ICYmICFjcHVfb3ZlcmZsb3cgJiYKPiA+
ICsgICAgICAgICAvKiBOQjogZ2V0X2NwdV9tYXBzIGxvY2sgcmVxdWlyZXMgZW5hYmxlZCBpbnRl
cnJ1cHRzLiAqLwo+ID4gKyAgICAgICAgIGxvY2FsX2lycV9pc19lbmFibGVkKCkgJiYgKGNwdXNf
bG9ja2VkID0gZ2V0X2NwdV9tYXBzKCkpICYmCj4gPiArICAgICAgICAgKHBhcmtfb2ZmbGluZV9j
cHVzIHx8Cj4gPiArICAgICAgICAgIGNwdW1hc2tfZXF1YWwoJmNwdV9vbmxpbmVfbWFwLCAmY3B1
X3ByZXNlbnRfbWFwKSkgKQo+IAo+IE9uIHRoZSBmaXJzdCBhbmQgc2Vjb25kIHBhc3MgSSB0aG91
Z2h0IHRoaXMgY29udHJhZGljdHMgdGhlIGRlc2NyaXB0aW9uLgo+IFRvIGRpc2FtYmlndWF0ZSAo
YW5kIGFzc3VtaW5nIEkgdW5kZXJzdGFuZCBpdCBjb3JyZWN0bHkpLCBob3cgYWJvdXQKPiBzYXlp
bmcgc29tZXRoaW5nIGxpa2UgIlRoaXMgY2FuIG9ubHkgYmUgc2FmZWx5IHVzZWQgd2hlbiBubyBD
UFUgaG90cGx1Zwo+IG9yIHVucGx1ZyBvcGVyYXRpb25zIGFyZSB0YWtpbmcgcGxhY2UsIHRoZXJl
IGFyZSBubyBvZmZsaW5lIENQVXMgKHVubGVzcwo+IHRob3NlIGhhdmUgYmVlbiBvbmxpbmVkIGFu
ZCBwYXJrZWQpIGFuZCBmaW5hbGx5IC4uLiI/CgpJJ20gbm90IHN1cmUgSSB1bmRlcnN0YW5kIHdo
YXQgc2hvdWxkIGNvbWUgYWZ0ZXIgdGhlIGZpbmFsbHkgLi4uClRha2luZyB5b3VyIHN1Z2dlc3Rp
b24gSSB3b3VsZCB3cml0ZToKClRoaXMgY2FuIG9ubHkgYmUgc2FmZWx5IHVzZWQgd2hlbiBubyBD
UFUgaG90cGx1ZyBvciB1bnBsdWcgb3BlcmF0aW9ucwphcmUgdGFraW5nIHBsYWNlLCB0aGVyZSBh
cmUgbm8gb2ZmbGluZSBDUFVzICh1bmxlc3MgdGhvc2UgaGF2ZSBiZWVuCm9ubGluZWQgYW5kIHBh
cmtlZCksIHRoZXJlIGFyZSBubyBkaXNhYmxlZCBDUFVzIGFuZCBhbGwgcG9zc2libGUgQ1BVcwpp
biB0aGUgc3lzdGVtIGhhdmUgYmVlbiBhY2NvdW50ZWQgZm9yLgoKPiAKPiA+ICsgICAgewo+ID4g
KyAgICAgICAgY3B1bWFza19jb3B5KHRoaXNfY3B1KHNjcmF0Y2hfY3B1bWFzayksICZjcHVfb25s
aW5lX21hcCk7Cj4gPiArICAgICAgICBjcHVtYXNrX2NsZWFyX2NwdShzbXBfcHJvY2Vzc29yX2lk
KCksIHRoaXNfY3B1KHNjcmF0Y2hfY3B1bWFzaykpOwo+IAo+ICAgICAgICAgY3B1bWFza19hbmRu
b3QodGhpc19jcHUoc2NyYXRjaF9jcHVtYXNrKSwgJmNwdV9vbmxpbmVfbWFwLAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgY3B1bWFza19vZihzbXBfcHJvY2Vzc29yX2lkKCkpKTsKPiAKPiA/Cj4g
Cj4gPiArICAgIH0KPiA+ICsgICAgZWxzZQo+ID4gKyAgICB7Cj4gPiArICAgICAgICBpZiAoIGNw
dXNfbG9ja2VkICkKPiA+ICsgICAgICAgIHsKPiA+ICsgICAgICAgICAgICBwdXRfY3B1X21hcHMo
KTsKPiA+ICsgICAgICAgICAgICBjcHVzX2xvY2tlZCA9IGZhbHNlOwo+ID4gKyAgICAgICAgfQo+
ID4gKyAgICAgICAgY3B1bWFza19jbGVhcih0aGlzX2NwdShzY3JhdGNoX2NwdW1hc2spKTsKPiAK
PiBJcyB0aGVyZSBhIGd1YXJhbnRlZSB0aGF0IHRoZSBmdW5jdGlvbiB3b24ndCBiZSBjYWxsZWQg
d2l0aCBhbgo+IGVtcHR5IG1hc2s/IEFsbCBiYWNraW5nIGZ1bmN0aW9ucyBsb29rIHRvIGdyYWNl
ZnVsbHkgZGVhbCB3aXRoCj4gdGhpcyBjYXNlLCB5ZXQgLi4uCj4gCj4gPiArICAgIH0KPiA+ICsK
PiA+ICsgICAgaWYgKCBjcHVtYXNrX2VxdWFsKG1hc2ssIHRoaXNfY3B1KHNjcmF0Y2hfY3B1bWFz
aykpICk+ICsgICAgICAgIF9fZGVmYXVsdF9zZW5kX0lQSV9zaG9ydGN1dChBUElDX0RFU1RfQUxM
QlVULCB2ZWN0b3IsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVBJ
Q19ERVNUX1BIWVNJQ0FMKTsKPiAKPiAuLi4geW91J2QgbWFrZSB0aGlzIGFuICJhbGwtYnV0IiBt
ZXNzYWdlIHRoZW4uIEFkZGluZyBhCj4gIWNwdW1hc2tfZW1wdHkoKSBjaGVjayB3b3VsZCBzZWVt
IGEgbGl0dGxlIGV4cGVuc2l2ZSwgc28gaG93Cj4gYWJvdXQgeW91IGNvcHkgY3B1bWFza19vZihz
bXBfcHJvY2Vzc29yX2lkKCkpIGFib3ZlIGFuZCBhZGQKPiAhY3B1bWFza190ZXN0X2NwdShzbXBf
cHJvY2Vzc29yX2lkKCksIC4uLikgaGVyZT8KCkEgY3B1bWFza19lbXB0eSBjaGVjayBhdCB0aGUg
dG9wIG9mIHRoZSBmdW5jdGlvbiB3b3VsZCBiZSBlYXNpZXIgdG8KcGFyc2UsIGJ1dCBpdCBjb3Vs
ZCBpbmN1ciBpbiBtb3JlIG92ZXJoZWFkLCBJJ3ZlIGltcGxlbWVudGVkIHdoYXQgeW91CmRlc2Ny
aWJlLgoKPiA+ICsgICAgZWxzZQo+ID4gKyAgICAgICAgYWx0ZXJuYXRpdmVfdmNhbGwoZ2VuYXBp
Yy5zZW5kX0lQSV9tYXNrLCBtYXNrLCB2ZWN0b3IpOwo+IAo+IElzIHRoZXJlIG5vIHJlYXNvbiBh
dCBhbGwgdG8gYWxzbyBjaGVjayBoZXJlIHdoZXRoZXIgQVBJQ19ERVNUX0FMTAo+IGNvdWxkIGJl
IHVzZWQ/IE9oLCBJIHNlZSAtIHRoZSBiYWNraW5nIGZ1bmN0aW9ucyBhbGwgZXhjbHVkZSB0aGUK
PiBsb2NhbCBDUFUuIEkgd29uZGVyIHdoeSBlLmcuIGZsdXNoX2FyZWFfbWFzaygpIHRoZW4gY2xl
YXJzIHRoZQo+IENQVSBvZmYgdGhlIG1hc2sgaXQgcGFzc2VzIG9uLiBBbmQgd2l0aCB0aGlzIGJl
aGF2aW9yIHRoZQo+IHNpbmdsZSBjcHVtYXNrX2VxdWFsKCkgY2hlY2sgYWJvdmUgaXMgdG9vIHJl
c3RyaWN0aXZlIC0geW91J2xsCj4gd2FudCB0byBjaGVjayB3aGV0aGVyIG1hc2sgbWF0Y2hlcyB0
aGUgY2FsY3VsYXRlZCBhbGwtYnV0IG9uZSBvcgo+IGNwdV9vbmxpbmVfbWFwLiBJLmUuIHBlcmhh
cHMgeW91IHdhbnQKPiAKPiAgICAgICAgIGNwdW1hc2tfb3IodGhpc19jcHUoc2NyYXRjaF9jcHVt
YXNrKSwgbWFzaywKPiAgICAgICAgICAgICAgICAgICAgY3B1bWFza19vZihzbXBfcHJvY2Vzc29y
X2lkKCkpKTsKPiAKPiBhbmQgdGhlbgo+IAo+ICAgICBpZiAoIGNwdW1hc2tfZXF1YWwodGhpc19j
cHUoc2NyYXRjaF9jcHVtYXNrKSwgJmNwdV9vbmxpbmVfbWFwKSApCj4gCj4gPwoKT2gsIE9LLCBp
biB3aGljaCBjYXNlIG1vc3Qgb2YgdGhlIGNvbW1lbnRzIGFib3ZlIGFyZSBtb290IGlmIHdlIGdv
CnRoaXMgcm91dGUuIFdoYXQgSSBoYXZlIG5vdyBpZiBJIHByb3Blcmx5IHBhcnNlZCB5b3VyIGNv
bW1lbnRzIGlzOgoKICAgIGJvb2wgY3B1c19sb2NrZWQgPSBmYWxzZTsKICAgIGNwdW1hc2tfdCAq
c2NyYXRjaCA9IHRoaXNfY3B1KHNjcmF0Y2hfY3B1bWFzayk7CgogICAgLyoKICAgICAqIFRoaXMg
Y2FuIG9ubHkgYmUgc2FmZWx5IHVzZWQgd2hlbiBubyBDUFUgaG90cGx1ZyBvciB1bnBsdWcgb3Bl
cmF0aW9ucwogICAgICogYXJlIHRha2luZyBwbGFjZSwgdGhlcmUgYXJlIG5vIG9mZmxpbmUgQ1BV
cyAodW5sZXNzIHRob3NlIGhhdmUgYmVlbgogICAgICogb25saW5lZCBhbmQgcGFya2VkKSwgdGhl
cmUgYXJlIG5vIGRpc2FibGVkIENQVXMgYW5kIGFsbCBwb3NzaWJsZSBDUFVzIGluCiAgICAgKiB0
aGUgc3lzdGVtIGhhdmUgYmVlbiBhY2NvdW50ZWQgZm9yLgogICAgICovCiAgICBpZiAoIHN5c3Rl
bV9zdGF0ZSA+IFNZU19TVEFURV9zbXBfYm9vdCAmJgogICAgICAgICAhdW5hY2NvdW50ZWRfY3B1
cyAmJiAhZGlzYWJsZWRfY3B1cyAmJgogICAgICAgICAvKiBOQjogZ2V0X2NwdV9tYXBzIGxvY2sg
cmVxdWlyZXMgZW5hYmxlZCBpbnRlcnJ1cHRzLiAqLwogICAgICAgICBsb2NhbF9pcnFfaXNfZW5h
YmxlZCgpICYmIChjcHVzX2xvY2tlZCA9IGdldF9jcHVfbWFwcygpKSAmJgogICAgICAgICAocGFy
a19vZmZsaW5lX2NwdXMgfHwKICAgICAgICAgIGNwdW1hc2tfZXF1YWwoJmNwdV9vbmxpbmVfbWFw
LCAmY3B1X3ByZXNlbnRfbWFwKSkgKQogICAgICAgIGNwdW1hc2tfb3Ioc2NyYXRjaCwgbWFzaywg
Y3B1bWFza19vZihzbXBfcHJvY2Vzc29yX2lkKCkpKTsKICAgIGVsc2UKICAgIHsKICAgICAgICBp
ZiAoIGNwdXNfbG9ja2VkICkKICAgICAgICB7CiAgICAgICAgICAgIHB1dF9jcHVfbWFwcygpOwog
ICAgICAgICAgICBjcHVzX2xvY2tlZCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBjcHVtYXNr
X2NsZWFyKHNjcmF0Y2gpOwogICAgfQoKICAgIGlmICggY3B1bWFza19lcXVhbChzY3JhdGNoLCAm
Y3B1X29ubGluZV9tYXApICkKICAgICAgICBzZW5kX0lQSV9zaG9ydGN1dChBUElDX0RFU1RfQUxM
QlVULCB2ZWN0b3IsIEFQSUNfREVTVF9QSFlTSUNBTCk7CiAgICBlbHNlCiAgICAgICAgYWx0ZXJu
YXRpdmVfdmNhbGwoZ2VuYXBpYy5zZW5kX0lQSV9tYXNrLCBtYXNrLCB2ZWN0b3IpOwoKICAgIGlm
ICggY3B1c19sb2NrZWQgKQogICAgICAgIHB1dF9jcHVfbWFwcygpOwoKQ2FuIGFzc2VydCB0aGlz
IG1hdGNoZXMgeW91ciBleHBlY3RhdGlvbnM/IEkgdGhpbmsgaXQgZml4ZXMgeW91cgpjb21tZW50
cyBhYm91dCBlbXB0eSBtYXNrcyBhbmQgYSBtYXNrIGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgcENQ
VSBJRC4KClRoYW5rcywgUm9nZXIuCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5w
cm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8v
eGVuLWRldmVs

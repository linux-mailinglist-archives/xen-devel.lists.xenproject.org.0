Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 64B6F11FC28
	for <lists+xen-devel@lfdr.de>; Mon, 16 Dec 2019 01:24:33 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ige79-0006lE-Kx; Mon, 16 Dec 2019 00:19:55 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=/tIY=2G=gmail.com=boqun.feng@srs-us1.protection.inumbo.net>)
 id 1ige78-0006kl-Cv
 for xen-devel@lists.xenproject.org; Mon, 16 Dec 2019 00:19:54 +0000
X-Inumbo-ID: c81ba91e-1f99-11ea-88e7-bc764e2007e4
Received: from mail-qv1-xf43.google.com (unknown [2607:f8b0:4864:20::f43])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id c81ba91e-1f99-11ea-88e7-bc764e2007e4;
 Mon, 16 Dec 2019 00:19:53 +0000 (UTC)
Received: by mail-qv1-xf43.google.com with SMTP id t9so2017579qvh.13
 for <xen-devel@lists.xenproject.org>; Sun, 15 Dec 2019 16:19:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=pqQp4+UbbRX/7xlzqwr46OCkSlvgFANLzi802cRaz4A=;
 b=GyH7/Io5fH/c/CUmowH+I8vPoZ8s483kMhc3an3/j9mKJEAGIdoesqC3IMwmIaJf03
 ofn1CUUMWPYu6mLP1xPuGDobPBCRrctiJt71rFvn7BUCtLlI4zPp0N4uYuDweGoKXOCP
 onnsUA8IcLU1SG6wQREkSB57Jh1vP8OF5a9qw0sBK2sVIapT0w/2JQUScUrHqEMKVXCo
 ooyArdT1qkWIdNyhNVcqZbqJALcl1PuEzHCZd4RDv1JRQBkR9eTxP0/m9dGoWfhFWn64
 6Li8U0KzRuQBfnhK4YnbQvWKuqIf+s+y01QrEgZcw3jGf/crhDv1JKa9Y3gPAa70XxBP
 xA9Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=pqQp4+UbbRX/7xlzqwr46OCkSlvgFANLzi802cRaz4A=;
 b=jQKA56S4KGloqvBQSi/4ajkRCRRaYsPQyMLBQtbkZhRC4pfsIWnOocflu3EAVAzxHr
 fpE3YyxVEj/iF9bJQcLk3+qKRLPETtnI8FXIq1vHU5VnL0xwSJok6JfcDuj306Jon1Wd
 FCKM82WY04jP9lWKtiGQSJc3i8qgB0qcQDi9prdPyxYxclOP9bgDbMX8x358QRCVWWbH
 y1pS/GxRIx+ctR9IG1T+5l81r78oCbI/2msdr0mYgQsPZ/1t0lFwJyZhXWDRbcgjIVfw
 Pa8ja+kdvndAfJUgPR4Gb18T6Wkl+1Mb0If5SoOHp/3Lhowi0kB1VXGxS0XCH7+zB2oj
 DPfA==
X-Gm-Message-State: APjAAAV1FGxO3k1p0VO+ZK8LyptXhk4qtjJTL9iXR6Fr/9vLYOfXLuuU
 PeByZxN/xPoBIXGT7S2OTc0=
X-Google-Smtp-Source: APXvYqxDQ+j2rURsMx2x0xRfHlMUbbM83uuSbHR32vFcElSOqCViHNeFWFNuwVwKh7NFCGLlq6vXXw==
X-Received: by 2002:ad4:5614:: with SMTP id ca20mr95564qvb.43.1576455593249;
 Sun, 15 Dec 2019 16:19:53 -0800 (PST)
Received: from auth1-smtp.messagingengine.com (auth1-smtp.messagingengine.com.
 [66.111.4.227])
 by smtp.gmail.com with ESMTPSA id l20sm3935350qtj.60.2019.12.15.16.19.52
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Sun, 15 Dec 2019 16:19:52 -0800 (PST)
Received: from compute6.internal (compute6.nyi.internal [10.202.2.46])
 by mailauth.nyi.internal (Postfix) with ESMTP id 1D85822430;
 Sun, 15 Dec 2019 19:19:52 -0500 (EST)
Received: from mailfrontend2 ([10.202.2.163])
 by compute6.internal (MEProxy); Sun, 15 Dec 2019 19:19:52 -0500
X-ME-Sender: <xms:ps32XSiA8-W5GqC5Qy3FoXGOj8quSVO-Rhv_jOUF0x5RjYwOGeKgAQ>
X-ME-Proxy-Cause: gggruggvucftvghtrhhoucdtuddrgedufedrvddtgedgvddtucetufdoteggodetrfdotf
 fvucfrrhhofhhilhgvmecuhfgrshhtofgrihhlpdfqfgfvpdfurfetoffkrfgpnffqhgen
 uceurghilhhouhhtmecufedttdenucesvcftvggtihhpihgvnhhtshculddquddttddmne
 goufhorhhtvggutfgvtghiphdvucdlgedtmdenucfjughrpefhvffufffkofgjfhgggfes
 tdekredtredttdenucfhrhhomhepuehoqhhunhcuhfgvnhhguceosghoqhhunhdrfhgvnh
 hgsehgmhgrihhlrdgtohhmqeenucfkphephedvrdduheehrdduuddurdejudenucfrrghr
 rghmpehmrghilhhfrhhomhepsghoqhhunhdomhgvshhmthhprghuthhhphgvrhhsohhnrg
 hlihhthidqieelvdeghedtieegqddujeejkeehheehvddqsghoqhhunhdrfhgvnhhgpeep
 ghhmrghilhdrtghomhesfhhigihmvgdrnhgrmhgvnecuvehluhhsthgvrhfuihiivgepvd
X-ME-Proxy: <xmx:ps32XcozRl7uyns0jxZ5RbnzMCjSlYce4Gl3XelJ3tNtaWiQmANVRA>
 <xmx:ps32XaGAddK6-w31E5CHPXQYuPakcYS_mrOQpy-wvdRbvq_o50YOlA>
 <xmx:ps32XelygpSR2dCJDv_W5E8D_JRuo6QyN2c9cChwjcAoI_tE4J64HA>
 <xmx:qM32XfzFWVElOSSskywo0p0kinDjc-v64e7XlUzN1MaesgGu0REO3cIZZr8>
Received: from localhost (unknown [52.155.111.71])
 by mail.messagingengine.com (Postfix) with ESMTPA id B1E9530600FE;
 Sun, 15 Dec 2019 19:19:49 -0500 (EST)
From: Boqun Feng <boqun.feng@gmail.com>
To: linux-hyperv@vger.kernel.org, linux-arm-kernel@lists.infradead.org,
 linux-kernel@vger.kernel.org
Date: Mon, 16 Dec 2019 08:19:19 +0800
Message-Id: <20191216001922.23008-4-boqun.feng@gmail.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191216001922.23008-1-boqun.feng@gmail.com>
References: <20191216001922.23008-1-boqun.feng@gmail.com>
MIME-Version: 1.0
Subject: [Xen-devel] [RFC 3/6] arm/arm64: clocksource: Introduce vclock_mode
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Sasha Levin <sashal@kernel.org>, Mark Rutland <mark.rutland@arm.com>,
 Vincenzo Frascino <vincenzo.frascino@arm.com>,
 Stephen Hemminger <sthemmin@microsoft.com>, Enrico Weigelt <info@metux.net>,
 Catalin Marinas <catalin.marinas@arm.com>,
 Haiyang Zhang <haiyangz@microsoft.com>,
 Daniel Lezcano <daniel.lezcano@linaro.org>,
 Russell King <linux@armlinux.org.uk>, Michael Kelley <mikelley@microsoft.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Geert Uytterhoeven <geert@linux-m68k.org>, Marc Zyngier <maz@kernel.org>,
 Huacai Chen <chenhc@lemote.com>, xen-devel@lists.xenproject.org,
 Thomas Gleixner <tglx@linutronix.de>, "K. Y. Srinivasan" <kys@microsoft.com>,
 Will Deacon <will@kernel.org>, Boqun Feng <boqun.feng@gmail.com>,
 Allison Randal <allison@lohutok.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

U2ltaWxhciB0byB4ODYsIHVzZSBhIHZjbG9ja19tb2RlIGluIGFyY2hfY2xvY2tzb3VyY2VfZGF0
YSB0byBkaWZmZXIKY2xvY2tzb3VyZXMgdXNlIGRpZmZlcmVudCByZWFkIGZ1bmN0aW9uIGluIHZE
U08uCgpObyBmdW5jdGlvbmFsIGNoYW5nZXMsIG9ubHkgcHJlcGFyYXRpb24gZm9yIHN1cHBvcnQg
dkRTTyBpbiBBUk02NCBvbgpIeXBlci1WLgoKTm90ZTogdGhlIGNoYW5nZXMgZm9yIGFybSBhcmUg
b25seSBiZWNhdXNlIGFybSBhbmQgYXJtNjQgc2hhcmUgdGhlIHNhbWUKY29kZSBpbiB0aGUgYXJj
aCB0aW1lciBkcml2ZXIgYW5kIHJlcXVpcmUgYXJjaF9jbG9ja3NvdXJjZV9kYXRhIGhhdmluZwp0
aGUgc2FtZSBmaWVsZC4KClNpZ25lZC1vZmYtYnk6IEJvcXVuIEZlbmcgKE1pY3Jvc29mdCkgPGJv
cXVuLmZlbmdAZ21haWwuY29tPgotLS0KIGFyY2gvYXJtL2luY2x1ZGUvYXNtL2Nsb2Nrc291cmNl
LmggICAgICAgICAgICAgICAgfCA2ICsrKysrLQogYXJjaC9hcm0va2VybmVsL3Zkc28uYyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB8IDEgLQogYXJjaC9hcm02NC9pbmNsdWRlL2FzbS9jbG9j
a3NvdXJjZS5oICAgICAgICAgICAgICB8IDYgKysrKystCiBhcmNoL2FybTY0L2luY2x1ZGUvYXNt
L21zaHlwZXJ2LmggICAgICAgICAgICAgICAgIHwgMiArLQogYXJjaC9hcm02NC9pbmNsdWRlL2Fz
bS92ZHNvL2NvbXBhdF9nZXR0aW1lb2ZkYXkuaCB8IDUgKysrLS0KIGFyY2gvYXJtNjQvaW5jbHVk
ZS9hc20vdmRzby9nZXR0aW1lb2ZkYXkuaCAgICAgICAgfCA1ICsrKy0tCiBhcmNoL2FybTY0L2lu
Y2x1ZGUvYXNtL3Zkc28vdnN5c2NhbGwuaCAgICAgICAgICAgIHwgNCArLS0tCiBkcml2ZXJzL2Ns
b2Nrc291cmNlL2FybV9hcmNoX3RpbWVyLmMgICAgICAgICAgICAgIHwgOCArKysrLS0tLQogOCBm
aWxlcyBjaGFuZ2VkLCAyMiBpbnNlcnRpb25zKCspLCAxNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9hcmNoL2FybS9pbmNsdWRlL2FzbS9jbG9ja3NvdXJjZS5oIGIvYXJjaC9hcm0vaW5jbHVk
ZS9hc20vY2xvY2tzb3VyY2UuaAppbmRleCAwYjM1MGE3ZTI2ZjMuLjAxN2M1YWI2ZTU4NyAxMDA2
NDQKLS0tIGEvYXJjaC9hcm0vaW5jbHVkZS9hc20vY2xvY2tzb3VyY2UuaAorKysgYi9hcmNoL2Fy
bS9pbmNsdWRlL2FzbS9jbG9ja3NvdXJjZS5oCkBAIC0xLDggKzEsMTIgQEAKICNpZm5kZWYgX0FT
TV9DTE9DS1NPVVJDRV9ICiAjZGVmaW5lIF9BU01fQ0xPQ0tTT1VSQ0VfSAogCisjZGVmaW5lIFZD
TE9DS19OT05FCTAJLyogTm8gdkRTTyBjbG9jayBhdmFpbGFibGUuCQkqLworI2RlZmluZSBWQ0xP
Q0tfQ05UVkNUCTEJLyogdkRTTyBzaG91bGQgdXNlIGNudHZjbnQJCSovCisjZGVmaW5lIFZDTE9D
S19NQVgJMQorCiBzdHJ1Y3QgYXJjaF9jbG9ja3NvdXJjZV9kYXRhIHsKLQlib29sIHZkc29fZGly
ZWN0OwkvKiBVc2FibGUgZm9yIGRpcmVjdCBWRFNPIGFjY2Vzcz8gKi8KKwlpbnQgdmNsb2NrX21v
ZGU7CiB9OwogCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2FyY2gvYXJtL2tlcm5lbC92ZHNvLmMgYi9h
cmNoL2FybS9rZXJuZWwvdmRzby5jCmluZGV4IGM4OWFjMWI5ZDI4Yi4uMDllNDZlYzQyMGZlIDEw
MDY0NAotLS0gYS9hcmNoL2FybS9rZXJuZWwvdmRzby5jCisrKyBiL2FyY2gvYXJtL2tlcm5lbC92
ZHNvLmMKQEAgLTI2Myw0ICsyNjMsMyBAQCB2b2lkIGFybV9pbnN0YWxsX3Zkc28oc3RydWN0IG1t
X3N0cnVjdCAqbW0sIHVuc2lnbmVkIGxvbmcgYWRkcikKIAlpZiAoIUlTX0VSUih2bWEpKQogCQlt
bS0+Y29udGV4dC52ZHNvID0gYWRkcjsKIH0KLQpkaWZmIC0tZ2l0IGEvYXJjaC9hcm02NC9pbmNs
dWRlL2FzbS9jbG9ja3NvdXJjZS5oIGIvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS9jbG9ja3NvdXJj
ZS5oCmluZGV4IDBlY2U2NGEyNmM4Yy4uZmJlODAwNTc0NjhjIDEwMDY0NAotLS0gYS9hcmNoL2Fy
bTY0L2luY2x1ZGUvYXNtL2Nsb2Nrc291cmNlLmgKKysrIGIvYXJjaC9hcm02NC9pbmNsdWRlL2Fz
bS9jbG9ja3NvdXJjZS5oCkBAIC0yLDggKzIsMTIgQEAKICNpZm5kZWYgX0FTTV9DTE9DS1NPVVJD
RV9ICiAjZGVmaW5lIF9BU01fQ0xPQ0tTT1VSQ0VfSAogCisjZGVmaW5lIFZDTE9DS19OT05FCTAJ
LyogTm8gdkRTTyBjbG9jayBhdmFpbGFibGUuCQkqLworI2RlZmluZSBWQ0xPQ0tfQ05UVkNUCTEJ
LyogdkRTTyBzaG91bGQgdXNlIGNudHZjbnQJCSovCisjZGVmaW5lIFZDTE9DS19NQVgJMQorCiBz
dHJ1Y3QgYXJjaF9jbG9ja3NvdXJjZV9kYXRhIHsKLQlib29sIHZkc29fZGlyZWN0OwkvKiBVc2Fi
bGUgZm9yIGRpcmVjdCBWRFNPIGFjY2Vzcz8gKi8KKwlpbnQgdmNsb2NrX21vZGU7CiB9OwogCiAj
ZW5kaWYKZGlmZiAtLWdpdCBhL2FyY2gvYXJtNjQvaW5jbHVkZS9hc20vbXNoeXBlcnYuaCBiL2Fy
Y2gvYXJtNjQvaW5jbHVkZS9hc20vbXNoeXBlcnYuaAppbmRleCA5Y2M0YWVkZGYyZDAuLjBhZmIw
MGUzNTAxZCAxMDA2NDQKLS0tIGEvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS9tc2h5cGVydi5oCisr
KyBiL2FyY2gvYXJtNjQvaW5jbHVkZS9hc20vbXNoeXBlcnYuaApAQCAtOTAsNyArOTAsNyBAQCBl
eHRlcm4gdm9pZCBodl9nZXRfdnByZWdfMTI4KHUzMiByZWcsIHN0cnVjdCBodl9nZXRfdnBfcmVn
aXN0ZXJfb3V0cHV0ICpyZXN1bHQpOwogI2RlZmluZSBodl9zZXRfcmVmZXJlbmNlX3RzYyh2YWwp
IFwKIAkJaHZfc2V0X3ZwcmVnKEhWX1JFR0lTVEVSX1JFRkVSRU5DRV9UU0MsIHZhbCkKICNkZWZp
bmUgaHZfc2V0X2Nsb2Nrc291cmNlX3Zkc28odmFsKSBcCi0JCSgodmFsKS5hcmNoZGF0YS52ZHNv
X2RpcmVjdCA9IGZhbHNlKQorCQkoKHZhbCkuYXJjaGRhdGEudmNsb2NrX21vZGUgPSBWQ0xPQ0tf
Tk9ORSkKIAogI2lmIElTX0VOQUJMRUQoQ09ORklHX0hZUEVSVikKICNkZWZpbmUgaHZfZW5hYmxl
X3N0aW1lcjBfcGVyY3B1X2lycShpcnEpCWVuYWJsZV9wZXJjcHVfaXJxKGlycSwgMCkKZGlmZiAt
LWdpdCBhL2FyY2gvYXJtNjQvaW5jbHVkZS9hc20vdmRzby9jb21wYXRfZ2V0dGltZW9mZGF5Lmgg
Yi9hcmNoL2FybTY0L2luY2x1ZGUvYXNtL3Zkc28vY29tcGF0X2dldHRpbWVvZmRheS5oCmluZGV4
IGM1MGVlMWI3ZDVjZC4uNjMwZDA0YzNjOTJlIDEwMDY0NAotLS0gYS9hcmNoL2FybTY0L2luY2x1
ZGUvYXNtL3Zkc28vY29tcGF0X2dldHRpbWVvZmRheS5oCisrKyBiL2FyY2gvYXJtNjQvaW5jbHVk
ZS9hc20vdmRzby9jb21wYXRfZ2V0dGltZW9mZGF5LmgKQEAgLTgsNiArOCw3IEBACiAjaWZuZGVm
IF9fQVNTRU1CTFlfXwogCiAjaW5jbHVkZSA8YXNtL3VuaXN0ZC5oPgorI2luY2x1ZGUgPGFzbS9j
bG9ja3NvdXJjZS5oPgogI2luY2x1ZGUgPHVhcGkvbGludXgvdGltZS5oPgogCiAjaW5jbHVkZSA8
YXNtL3Zkc28vY29tcGF0X2JhcnJpZXIuaD4KQEAgLTExNywxMCArMTE4LDEwIEBAIHN0YXRpYyBf
X2Fsd2F5c19pbmxpbmUgdTY0IF9fYXJjaF9nZXRfaHdfY291bnRlcihzMzIgY2xvY2tfbW9kZSkK
IAl1NjQgcmVzOwogCiAJLyoKLQkgKiBjbG9ja19tb2RlID09IDAgaW1wbGllcyB0aGF0IHZEU08g
YXJlIGVuYWJsZWQgb3RoZXJ3aXNlCisJICogY2xvY2tfbW9kZSA9PSBWQ0xPQ0tfTk9ORSBpbXBs
aWVzIHRoYXQgdkRTTyBhcmUgZGlzYWJsZWQgc28KIAkgKiBmYWxsYmFjayBvbiBzeXNjYWxsLgog
CSAqLwotCWlmIChjbG9ja19tb2RlKQorCWlmIChjbG9ja19tb2RlID09IFZDTE9DS19OT05FKQog
CQlyZXR1cm4gX19WRFNPX1VTRV9TWVNDQUxMOwogCiAJLyoKZGlmZiAtLWdpdCBhL2FyY2gvYXJt
NjQvaW5jbHVkZS9hc20vdmRzby9nZXR0aW1lb2ZkYXkuaCBiL2FyY2gvYXJtNjQvaW5jbHVkZS9h
c20vdmRzby9nZXR0aW1lb2ZkYXkuaAppbmRleCBiMDhmNDc2YjcyYjQuLmU2ZTNmZTA0ODhjNyAx
MDA2NDQKLS0tIGEvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS92ZHNvL2dldHRpbWVvZmRheS5oCisr
KyBiL2FyY2gvYXJtNjQvaW5jbHVkZS9hc20vdmRzby9nZXR0aW1lb2ZkYXkuaApAQCAtOCw2ICs4
LDcgQEAKICNpZm5kZWYgX19BU1NFTUJMWV9fCiAKICNpbmNsdWRlIDxhc20vdW5pc3RkLmg+Cisj
aW5jbHVkZSA8YXNtL2Nsb2Nrc291cmNlLmg+CiAjaW5jbHVkZSA8dWFwaS9saW51eC90aW1lLmg+
CiAKICNkZWZpbmUgX19WRFNPX1VTRV9TWVNDQUxMCQlVTExPTkdfTUFYCkBAIC03MSwxMCArNzIs
MTAgQEAgc3RhdGljIF9fYWx3YXlzX2lubGluZSB1NjQgX19hcmNoX2dldF9od19jb3VudGVyKHMz
MiBjbG9ja19tb2RlKQogCXU2NCByZXM7CiAKIAkvKgotCSAqIGNsb2NrX21vZGUgPT0gMCBpbXBs
aWVzIHRoYXQgdkRTTyBhcmUgZW5hYmxlZCBvdGhlcndpc2UKKwkgKiBjbG9ja19tb2RlID09IFZD
TE9DS19OT05FIGltcGxpZXMgdGhhdCB2RFNPIGFyZSBkaXNhYmxlZCBzbwogCSAqIGZhbGxiYWNr
IG9uIHN5c2NhbGwuCiAJICovCi0JaWYgKGNsb2NrX21vZGUpCisJaWYgKGNsb2NrX21vZGUgPT0g
VkNMT0NLX05PTkUpCiAJCXJldHVybiBfX1ZEU09fVVNFX1NZU0NBTEw7CiAKIAkvKgpkaWZmIC0t
Z2l0IGEvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS92ZHNvL3ZzeXNjYWxsLmggYi9hcmNoL2FybTY0
L2luY2x1ZGUvYXNtL3Zkc28vdnN5c2NhbGwuaAppbmRleCAwYzIwYTdjMWJlZTUuLjA3Zjc4YjBk
YTQ5OCAxMDA2NDQKLS0tIGEvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS92ZHNvL3ZzeXNjYWxsLmgK
KysrIGIvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS92ZHNvL3ZzeXNjYWxsLmgKQEAgLTI0LDkgKzI0
LDcgQEAgc3RydWN0IHZkc29fZGF0YSAqX19hcm02NF9nZXRfa192ZHNvX2RhdGEodm9pZCkKIHN0
YXRpYyBfX2Fsd2F5c19pbmxpbmUKIGludCBfX2FybTY0X2dldF9jbG9ja19tb2RlKHN0cnVjdCB0
aW1la2VlcGVyICp0aykKIHsKLQl1MzIgdXNlX3N5c2NhbGwgPSAhdGstPnRrcl9tb25vLmNsb2Nr
LT5hcmNoZGF0YS52ZHNvX2RpcmVjdDsKLQotCXJldHVybiB1c2Vfc3lzY2FsbDsKKwlyZXR1cm4g
dGstPnRrcl9tb25vLmNsb2NrLT5hcmNoZGF0YS52Y2xvY2tfbW9kZTsKIH0KICNkZWZpbmUgX19h
cmNoX2dldF9jbG9ja19tb2RlIF9fYXJtNjRfZ2V0X2Nsb2NrX21vZGUKIApkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9jbG9ja3NvdXJjZS9hcm1fYXJjaF90aW1lci5jIGIvZHJpdmVycy9jbG9ja3NvdXJj
ZS9hcm1fYXJjaF90aW1lci5jCmluZGV4IDlhNTQ2NGM2MjViNC4uOWI4ZDRkMDBiNTNiIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2Nsb2Nrc291cmNlL2FybV9hcmNoX3RpbWVyLmMKKysrIGIvZHJpdmVy
cy9jbG9ja3NvdXJjZS9hcm1fYXJjaF90aW1lci5jCkBAIC02OSw3ICs2OSw3IEBAIHN0YXRpYyBl
bnVtIGFyY2hfdGltZXJfcHBpX25yIGFyY2hfdGltZXJfdXNlc19wcGkgPSBBUkNIX1RJTUVSX1ZJ
UlRfUFBJOwogc3RhdGljIGJvb2wgYXJjaF90aW1lcl9jM3N0b3A7CiBzdGF0aWMgYm9vbCBhcmNo
X3RpbWVyX21lbV91c2VfdmlydHVhbDsKIHN0YXRpYyBib29sIGFyY2hfY291bnRlcl9zdXNwZW5k
X3N0b3A7Ci1zdGF0aWMgYm9vbCB2ZHNvX2RlZmF1bHQgPSB0cnVlOworc3RhdGljIGludCB2ZHNv
X2RlZmF1bHQgPSBWQ0xPQ0tfQ05UVkNUOwogCiBzdGF0aWMgY3B1bWFza190IGV2dHN0cm1fYXZh
aWxhYmxlID0gQ1BVX01BU0tfTk9ORTsKIHN0YXRpYyBib29sIGV2dHN0cm1fZW5hYmxlID0gSVNf
RU5BQkxFRChDT05GSUdfQVJNX0FSQ0hfVElNRVJfRVZUU1RSRUFNKTsKQEAgLTU2MCw4ICs1NjAs
OCBAQCB2b2lkIGFyY2hfdGltZXJfZW5hYmxlX3dvcmthcm91bmQoY29uc3Qgc3RydWN0IGFyY2hf
dGltZXJfZXJyYXR1bV93b3JrYXJvdW5kICp3YQogCSAqIGNoYW5nZSBib3RoIHRoZSBkZWZhdWx0
IHZhbHVlIGFuZCB0aGUgdmRzbyBpdHNlbGYuCiAJICovCiAJaWYgKHdhLT5yZWFkX2NudHZjdF9l
bDApIHsKLQkJY2xvY2tzb3VyY2VfY291bnRlci5hcmNoZGF0YS52ZHNvX2RpcmVjdCA9IGZhbHNl
OwotCQl2ZHNvX2RlZmF1bHQgPSBmYWxzZTsKKwkJY2xvY2tzb3VyY2VfY291bnRlci5hcmNoZGF0
YS52Y2xvY2tfbW9kZSA9IFZDTE9DS19OT05FOworCQl2ZHNvX2RlZmF1bHQgPSBWQ0xPQ0tfTk9O
RTsKIAl9CiB9CiAKQEAgLTk3OSw3ICs5NzksNyBAQCBzdGF0aWMgdm9pZCBfX2luaXQgYXJjaF9j
b3VudGVyX3JlZ2lzdGVyKHVuc2lnbmVkIHR5cGUpCiAJCX0KIAogCQlhcmNoX3RpbWVyX3JlYWRf
Y291bnRlciA9IHJkOwotCQljbG9ja3NvdXJjZV9jb3VudGVyLmFyY2hkYXRhLnZkc29fZGlyZWN0
ID0gdmRzb19kZWZhdWx0OworCQljbG9ja3NvdXJjZV9jb3VudGVyLmFyY2hkYXRhLnZjbG9ja19t
b2RlID0gdmRzb19kZWZhdWx0OwogCX0gZWxzZSB7CiAJCWFyY2hfdGltZXJfcmVhZF9jb3VudGVy
ID0gYXJjaF9jb3VudGVyX2dldF9jbnR2Y3RfbWVtOwogCX0KLS0gCjIuMjQuMAoKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5n
IGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJv
amVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

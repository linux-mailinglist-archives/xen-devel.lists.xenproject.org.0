Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DEAFFD2A3A
	for <lists+xen-devel@lfdr.de>; Thu, 10 Oct 2019 15:01:20 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iIXyF-000101-IY; Thu, 10 Oct 2019 12:55:07 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=cAbn=YD=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iIXyD-0000zs-Kf
 for xen-devel@lists.xenproject.org; Thu, 10 Oct 2019 12:55:05 +0000
X-Inumbo-ID: 2cc4bfac-eb5d-11e9-9801-12813bfff9fa
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 2cc4bfac-eb5d-11e9-9801-12813bfff9fa;
 Thu, 10 Oct 2019 12:55:03 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 58E45AC32;
 Thu, 10 Oct 2019 12:55:01 +0000 (UTC)
To: =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
References: <20191010113345.6867-1-roger.pau@citrix.com>
 <20191010113345.6867-2-roger.pau@citrix.com>
 <b1e9fac5-a476-638c-e550-c179146ecf7f@suse.com>
 <20191010121302.GF1389@Air-de-Roger.citrite.net>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <39f2d60b-e371-1646-dc79-cf1355a81afa@suse.com>
Date: Thu, 10 Oct 2019 14:55:02 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191010121302.GF1389@Air-de-Roger.citrite.net>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v2 1/2] x2APIC: translate IO-APIC entries
 when enabling the IOMMU
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Andrew Cooper <andrew.cooper3@citrix.com>,
 Wei Liu <wl@xen.org>, xen-devel@lists.xenproject.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTAuMTAuMjAxOSAxNDoxMywgUm9nZXIgUGF1IE1vbm7DqSAgd3JvdGU6Cj4gT24gVGh1LCBP
Y3QgMTAsIDIwMTkgYXQgMDE6NTQ6MDZQTSArMDIwMCwgSmFuIEJldWxpY2ggd3JvdGU6Cj4+IE9u
IDEwLjEwLjIwMTkgMTM6MzMsIFJvZ2VyIFBhdSBNb25uZSB3cm90ZToKPj4+IFdoZW4gaW50ZXJy
dXB0IHJlbWFwcGluZyBpcyBlbmFibGVkIGFzIHBhcnQgb2YgZW5hYmxpbmcgeDJBUElDIHRoZQo+
Pgo+PiBQZXJoYXBzICJ1bm1hc2tlZCIgaW5zdGVhZCBvZiAidGhlIj8KPj4KPj4+IElPLUFQSUMg
ZW50cmllcyBhbHNvIG5lZWQgdG8gYmUgdHJhbnNsYXRlZCB0byB0aGUgbmV3IGZvcm1hdCBhbmQg
YWRkZWQKPj4+IHRvIHRoZSBpbnRlcnJ1cHQgcmVtYXBwaW5nIHRhYmxlLgo+Pj4KPj4+IFRoaXMg
cHJldmVudHMgSU9NTVUgaW50ZXJydXB0IHJlbWFwcGluZyBmYXVsdHMgd2hlbiBib290aW5nIG9u
Cj4+PiBoYXJkd2FyZSB0aGF0IGhhcyB1bm1hc2tlZCBJTy1BUElDIHBpbnMuCj4+Cj4+IEJ1dCBp
biB0aGUgZW5kIGl0IG9ubHkgcGFwZXJzIG92ZXIgd2hhdGV2ZXIgdGhlIHNwdXJpb3VzIGludGVy
cnVwdHMKPj4gcmVzdWx0IGZvcm0sIGRvZXNuJ3QgaXQ/IFdoaWNoIGlzbid0IHRvIHNheSB0aGlz
IGlzbid0IGFuCj4+IGltcHJvdmVtZW50LiBDYWxsaW5nIG91dCB0aGUgRXh0SW50IGNhc2UgaGVy
ZSBtYXkgYmUgd29ydGh3aGlsZSBhcwo+PiB3ZWxsLCBhcyB3b3VsZCBiZSBwb2ludGluZyBvdXQg
dGhhdCB0aGlzIGNhc2Ugc3RpbGwgd29uJ3Qgd29yayBvbgo+PiBBTUQgSU9NTVVzLgo+IAo+IEJ1
dCB0aGUgZml4IGZvciB0aGUgRXh0SU5UIEFNRCBpc3N1ZSBzaG91bGQgYmUgZG9uZSBpbgo+IGFt
ZF9pb21tdV9pb2FwaWNfdXBkYXRlX2lyZSB0aGVuLCBzbyB0aGF0IGl0IGNhbiBwcm9wZXJseSBo
YW5kbGUKPiBFeHRJTlQgZGVsaXZlcnkgbW9kZSwgbm90IHRvIHRoaXMgcGFydCBvZiB0aGUgY29k
ZS4gSSB3aWxsIGxvb2sKPiBpbnRvIGl0LCBidXQgSSB0aGluayBpdCdzIGtpbmQgb2YgdGFuZ2Vu
dGlhbCB0byB0aGUgaXNzdWUgaGVyZS4KCkknbSBub3QgdGFsa2luZyBvZiB5b3Ugd29ya2luZyBv
biBmaXhpbmcgdGhpcyByaWdodCBhd2F5LiBJJ20gbWVyZWx5CmFza2luZyB0aGF0IHlvdSBtZW50
aW9uIGhlcmUgKGEpIHRoZSBFeHRJbnQgc3BlY2lhbCBjYXNlIGFuZCAoYikKdGhhdCB0aGlzIHNw
ZWNpYWwgY2FzZSB3aWxsIChjb250aW51ZSB0bykgbm90IHdvcmsgaW4gdGhlIEFNRCBjYXNlLgoK
Pj4+IC0tLSBhL3hlbi9hcmNoL3g4Ni9hcGljLmMKPj4+ICsrKyBiL3hlbi9hcmNoL3g4Ni9hcGlj
LmMKPj4+IEBAIC01MTUsNyArNTE1LDcgQEAgc3RhdGljIHZvaWQgcmVzdW1lX3gyYXBpYyh2b2lk
KQo+Pj4gICAgICBpb21tdV9lbmFibGVfeDJhcGljKCk7Cj4+PiAgICAgIF9fZW5hYmxlX3gyYXBp
YygpOwo+Pj4gIAo+Pj4gLSAgICByZXN0b3JlX0lPX0FQSUNfc2V0dXAoaW9hcGljX2VudHJpZXMp
Owo+Pj4gKyAgICByZXN0b3JlX0lPX0FQSUNfc2V0dXAoaW9hcGljX2VudHJpZXMsIHRydWUpOwo+
Pj4gICAgICB1bm1hc2tfODI1OUEoKTsKPj4+ICAKPj4+ICBvdXQ6Cj4+PiBAQCAtOTYxLDcgKzk2
MSwxMiBAQCB2b2lkIF9faW5pdCB4MmFwaWNfYnNwX3NldHVwKHZvaWQpCj4+PiAgICAgICAgICBw
cmludGsoIlN3aXRjaGVkIHRvIEFQSUMgZHJpdmVyICVzXG4iLCBnZW5hcGljLm5hbWUpOwo+Pj4g
IAo+Pj4gIHJlc3RvcmVfb3V0Ogo+Pj4gLSAgICByZXN0b3JlX0lPX0FQSUNfc2V0dXAoaW9hcGlj
X2VudHJpZXMpOwo+Pj4gKyAgICAvKgo+Pj4gKyAgICAgKiBOQjogZG8gbm90IHVzZSByYXcgbW9k
ZSB3aGVuIHJlc3RvcmluZyBlbnRyaWVzIGlmIHRoZSBpb21tdSBoYXMgYmVlbgo+Pj4gKyAgICAg
KiBlbmFibGVkIGR1cmluZyB0aGUgcHJvY2VzcywgYmVjYXVzZSB0aGUgZW50cmllcyBuZWVkIHRv
IGJlIHRyYW5zbGF0ZWQKPj4+ICsgICAgICogYW5kIGFkZGVkIHRvIHRoZSByZW1hcHBpbmcgdGFi
bGUgaW4gdGhhdCBjYXNlLgo+Pj4gKyAgICAgKi8KPj4+ICsgICAgcmVzdG9yZV9JT19BUElDX3Nl
dHVwKGlvYXBpY19lbnRyaWVzLCAheDJhcGljX2VuYWJsZWQpOwo+Pgo+PiBIb3cgaXMgdGhpcyBk
aWZmZXJlbnQgaW4gdGhlIHJlc3VtZV94MmFwaWMoKSBjYXNlPyBUaGUgSU9NTVUgZ2V0cwo+PiBl
bmFibGVkIGluIHRoZSBjb3Vyc2Ugb2YgdGhhdCBhcyB3ZWxsLiBJLmUuIEknZCBleHBlY3QgeW91
IHdhbnQKPj4gdG8gcGFzcyAiZmFsc2UiIHRoZXJlLCBub3QgInRydWUiLgo+IAo+IEluIHRoZSBy
ZXN1bWVfeDJhcGljIGNhc2UgaW50ZXJydXB0IHJlbWFwcGluZyBzaG91bGQgYWxyZWFkeSBiZQo+
IGVuYWJsZWQgb3Igbm90LCBidXQgdGhhdCBmdW5jdGlvbiBpcyBub3QgZ29pbmcgdG8gZW5hYmxl
IGludGVycnVwdAo+IHJlbWFwcGluZyBpZiBpdCB3YXNuJ3QgZW5hYmxlZCBiZWZvcmUsIGhlbmNl
IHRoZSBJTy1BUElDIGVudHJpZXMKPiBzaG91bGQgYWxyZWFkeSBiZSB1c2luZyB0aGUgaW50ZXJy
dXB0IHJlbWFwcGluZyB0YWJsZSBhbmQgbm8KPiB0cmFuc2xhdGlvbiBpcyBuZWVkZWQuCgpXaG8g
LyB3aGF0IHdvdWxkIGhhdmUgZW5hYmxlZCB0aGUgSU9NTVUgaW4gdGhlIHJlc3VtZSBjYXNlPwoK
Pj4gQWxzbyBob3cgd291bGQgIngyYXBpY19lbmFibGVkIiByZWZsZWN0IHRoZSB0cmFuc2l0aW9u
PyBJdCBtYXkKPj4gaGF2ZSBiZWVuICJ0cnVlIiBhbHJlYWR5IGJlZm9yZSBlbnRlcmluZyB0aGUg
ZnVuY3Rpb24gaGVyZS4KPiAKPiBJZiB4MmFwaWNfZW5hYmxlZCA9PSB0cnVlIGF0IHRoZSBwb2lu
dCB3aGVyZSByZXN0b3JlX0lPX0FQSUNfc2V0dXAKPiBpcyBjYWxsZWQgaW50ZXJydXB0IHJlbWFw
cGluZyBtdXN0IGJlIGVuYWJsZWQsIGJlY2F1c2UgQUZBSUNUIGF0IHRoaXMKPiBwb2ludCBpdCdz
IG5vdCBwb3NzaWJsZSB0byBoYXZlIHgyYXBpY19lbmFibGVkID09IHRydWUgYW5kIGludGVycnVw
dAo+IHJlbWFwcGluZyBkaXNhYmxlZC4KPiAKPiBUaGUgaXNzdWUgSSBjYW4gc2VlIGhlcmUgaXMg
d2hhdCBoYXBwZW5zIGlmIGludGVycnVwdCByZW1hcHBpbmcgd2FzCj4gYWxyZWFkeSBlbmFibGVk
IGJ5IHRoZSBoYXJkd2FyZSwgYW5kIGVudHJpZXMgaW4gdGhlIElPLUFQSUMgYXJlCj4gYWxyZWFk
eSB1c2luZyB0aGUgcmVtYXBwaW5nIHRhYmxlLiBJIHdvdWxkIGhhdmUgdG8gbG9vayBpbnRvIGhv
dyB0bwo+IGRldGVjdCB0aGF0IGNhc2UgcHJvcGVybHksIGJ1dCBJIHRoaW5rIHRoZSBwcm9wb3Nl
ZCBjaGFuZ2UgaXMgYW4KPiBpbXByb3ZlbWVudCBvdmVyYWxsLgoKRmlybXdhcmUgaGFuZGluZyBv
ZmYgd2l0aCB0aGUgSU9NTVUgKGFuZCBoZW5jZSBpbnRlcnJ1cHQgcmVtYXBwaW5nKQphbHJlYWR5
IGVuYWJsZWQgaXMgYSBjYXNlIHdoaWNoIC0gYWZhaWN0IC0gd2UgY2FuJ3QgY3VycmVudGx5IGNv
cGUKd2l0aC4gRmlybXdhcmUgaGFuZGluZyBvZmYgaW4geDJBUElDIGVuYWJsZWQgc3RhdGUgaXMg
dHlwaWNhbGx5CndpdGggdGhlIElPTU1VIChhbmQgaGVuY2UgaW50ZXJydXB0IHJlbWFwcGluZykg
c3RpbGwgZGlzYWJsZWQuIFRoaXMKaXMgbm90IGEgZm9yYmlkZGVuIG1vZGUsIGl0J3MganVzdCB0
aGF0IGluIHN1Y2ggYSBjb25maWd1cmF0aW9uCmludGVycnVwdHMgY2FuJ3QgYmUgZGVsaXZlcmVk
IHRvIGNlcnRhaW4gQ1BVcy4KCkluIGFueSBldmVudCB5b3UgbmVlZCB0byBwcm9wZXJseSBkaXN0
aW5ndWlzaCB4MkFQSUMgZW5hYmxlZCBzdGF0ZQoob3IgdGhlIHRyYW5zaXRpb24gdGhlcmVvZikg
ZnJvbSBJT01NVSAvIGludGVycnVwdCByZW1hcHBpbmcKZW5hYmxlZCBzdGF0ZSAob3IgdGhlIHRy
YW5zaXRpb24gdGhlcmVvZikuIEkuZS4geW91IHdhbnQgdG8gYXZvaWQKcmF3IG1vZGUgcmVzdG9y
ZSBpZiBpbnRlcnJ1cHQgcmVtYXBwaW5nIHN0YXRlIHRyYW5zaXRpb25lZCBmcm9tCm9mZiB0byBv
biBpbiB0aGUgcHJvY2Vzcy4KCkphbgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVu
cHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZv
L3hlbi1kZXZlbA==

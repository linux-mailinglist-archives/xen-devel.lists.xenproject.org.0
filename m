Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2D564116881
	for <lists+xen-devel@lfdr.de>; Mon,  9 Dec 2019 09:44:46 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ieEby-0005qG-K1; Mon, 09 Dec 2019 08:41:46 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=+0jl=Z7=amazon.com=prvs=239a55c6d=elnikety@srs-us1.protection.inumbo.net>)
 id 1ieEbx-0005qA-AQ
 for xen-devel@lists.xenproject.org; Mon, 09 Dec 2019 08:41:45 +0000
X-Inumbo-ID: ba28919e-1a5f-11ea-88e7-bc764e2007e4
Received: from smtp-fw-33001.amazon.com (unknown [207.171.190.10])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id ba28919e-1a5f-11ea-88e7-bc764e2007e4;
 Mon, 09 Dec 2019 08:41:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.com; i=@amazon.com; q=dns/txt; s=amazon201209;
 t=1575880904; x=1607416904;
 h=from:to:cc:subject:date:message-id:mime-version;
 bh=pwlC6sxXmldbAPEiwwgLsC9GBEAIad6fp0DInhId544=;
 b=KvY+cMp5+E8VQs7PyfSr5cReFh9pP4x2njBbHs1rPgGyPtX1iHV3o8n9
 tMbzmDH/RZr5Ms+seOTnivNCWKPW0Gu76sJIOzvFMe7pLT5kYZh6YhQm4
 dZiMu6x0GM011WJ1r7h3j79K9VSWDC161vm43J/mm+ZZp+g3ILDLPaGuh Q=;
IronPort-SDR: RHiK+PF3nR5ByXaQ5VNQxlOrsPJOaG/mePXXSGxsdu1PSb1s0b1YCX/zN5GFy82NVeTWaSbul3
 SAj2QnevBjNQ==
X-IronPort-AV: E=Sophos;i="5.69,294,1571702400"; d="scan'208";a="13745281"
Received: from sea32-co-svc-lb4-vlan3.sea.corp.amazon.com (HELO
 email-inbound-relay-2c-6f38efd9.us-west-2.amazon.com) ([10.47.23.38])
 by smtp-border-fw-out-33001.sea14.amazon.com with ESMTP;
 09 Dec 2019 08:41:33 +0000
Received: from EX13MTAUEA001.ant.amazon.com
 (pdx4-ws-svc-p6-lb7-vlan3.pdx.amazon.com [10.170.41.166])
 by email-inbound-relay-2c-6f38efd9.us-west-2.amazon.com (Postfix) with ESMTPS
 id 811ECA1CEA; Mon,  9 Dec 2019 08:41:31 +0000 (UTC)
Received: from EX13D08UEB004.ant.amazon.com (10.43.60.142) by
 EX13MTAUEA001.ant.amazon.com (10.43.61.243) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Mon, 9 Dec 2019 08:41:30 +0000
Received: from EX13MTAUWB001.ant.amazon.com (10.43.161.207) by
 EX13D08UEB004.ant.amazon.com (10.43.60.142) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Mon, 9 Dec 2019 08:41:30 +0000
Received: from dev-dsk-elnikety-1b-cd63f796.eu-west-1.amazon.com (10.15.63.96)
 by mail-relay.amazon.com (10.43.161.249) with Microsoft SMTP Server
 id 15.0.1367.3 via Frontend Transport; Mon, 9 Dec 2019 08:41:29 +0000
Received: by dev-dsk-elnikety-1b-cd63f796.eu-west-1.amazon.com (Postfix,
 from userid 6438462)
 id 078FAA0138; Mon,  9 Dec 2019 08:41:29 +0000 (UTC)
From: Eslam Elnikety <elnikety@amazon.com>
To: <elnikety@amazon.com>
Date: Mon, 9 Dec 2019 08:41:19 +0000
Message-ID: <20191209084119.87563-1-elnikety@amazon.com>
X-Mailer: git-send-email 2.16.5
MIME-Version: 1.0
Precedence: Bulk
Subject: [Xen-devel] [PATCH] x86/microcode: Support builtin CPU microcode
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Paul Durrant <pdurrant@amazon.co.uk>,
 Jan Beulich <jbeulich@suse.com>, xen-devel@lists.xenproject.org,
 David Woodhouse <dwmw@amazon.co.uk>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

WGVuIHJlbGllcyBvbiBib290IG1vZHVsZXMgdG8gcGVyZm9ybSBlYXJseSBtaWNyb2NvZGUgdXBk
YXRlcy4gVGhpcyBjb21taXQgYWRkcwphbm90aGVyIG1vZGUsIG5hbWVseSAiYnVpbHRpbiIgdmlh
IHRoZSBCVUlMVElOX1VDT0RFIGNvbmZpZyBwYXJhbWV0ZXIuIElmIHNldCwKdGhlIFhlbiBpbWFn
ZSBpdHNlbGYgd2lsbCBjb250YWluIHRoZSBtaWNyb2NvZGUgdXBkYXRlcy4gVXBvbiBib290LCBY
ZW4KaW5zcGVjdHMgaXRzIGltYWdlIGZvciBtaWNyb2NvZGUgYmxvYnMgYW5kIHBlcmZvcm1zIHRo
ZSB1cGRhdGUuCgpBIFhlbiBpbWFnZSB3aXRoIGJ1aWx0aW4gbWljcm9jb2RlIGNhbiBiZSBleHBs
aWNpdGx5IGluc3RydWN0ZWQgdG86CiAgICAoYSkgbG9vayBmb3IgbWljcm9jb2RlIGVsc2V3aGVy
ZSAoZS5nLiwgYSBib290IG1vZHVsZSB0aGF0IGNvbnRhaW5zIG1vcmUKICAgICAgICByZWNlbnQg
bWljcm9jb2RlcyB2aWEgdWNvZGU9c2NhbiksIG9yCiAgICAoYikgc2tpcCB0aGUgYnVpbHRpbiBt
aWNyb2NvZGUgdXBkYXRlIChlLmcuLCB1Y29kZT1uby1idWlsdGluKS4KClNpZ25lZC1vZmYtYnk6
IEVzbGFtIEVsbmlrZXR5IDxlbG5pa2V0eUBhbWF6b24uY29tPgotLS0KIGRvY3MvbWlzYy9idWls
dGluLXVjb2RlLnR4dCAgICAgICB8IDYwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysK
IGRvY3MvbWlzYy94ZW4tY29tbWFuZC1saW5lLnBhbmRvYyB8ICA1ICsrLQogeGVuL2FyY2gveDg2
L0tjb25maWcgICAgICAgICAgICAgIHwgMjAgKysrKysrKysrKysKIHhlbi9hcmNoL3g4Ni9NYWtl
ZmlsZSAgICAgICAgICAgICB8ICAxICsKIHhlbi9hcmNoL3g4Ni9taWNyb2NvZGUuYyAgICAgICAg
ICB8IDYwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KIHhlbi9hcmNoL3g4Ni9taWNy
b2NvZGUvTWFrZWZpbGUgICB8IDQwICsrKysrKysrKysrKysrKysrKysrKwogeGVuL2FyY2gveDg2
L3hlbi5sZHMuUyAgICAgICAgICAgIHwgMTIgKysrKysrKwogNyBmaWxlcyBjaGFuZ2VkLCAxOTQg
aW5zZXJ0aW9ucygrKSwgNCBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkb2NzL21p
c2MvYnVpbHRpbi11Y29kZS50eHQKIGNyZWF0ZSBtb2RlIDEwMDY0NCB4ZW4vYXJjaC94ODYvbWlj
cm9jb2RlL01ha2VmaWxlCgpkaWZmIC0tZ2l0IGEvZG9jcy9taXNjL2J1aWx0aW4tdWNvZGUudHh0
IGIvZG9jcy9taXNjL2J1aWx0aW4tdWNvZGUudHh0Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4
IDAwMDAwMDAwMDAuLjQzYmI2MGQzZWIKLS0tIC9kZXYvbnVsbAorKysgYi9kb2NzL21pc2MvYnVp
bHRpbi11Y29kZS50eHQKQEAgLTAsMCArMSw2MCBAQAorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQorQnVpbHRpbiBNaWNyb2NvZGUgU3VwcG9ydCBmb3Ig
eDg2IChBTUQgYW5kIElOVEVMKQorLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQorQXV0aG9yOgorICBFc2xhbSBFbG5pa2V0eSA8ZWxuaWtldHlAYW1hem9u
LmNvbT4KK0luaXRpYWwgdmVyc2lvbjoKKyAgRGVjIDIwMTkKKy0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKworQWJvdXQ6CistLS0tLS0KKyogVGhpcyBk
b2N1bWVudGF0aW9uIGRlc2NyaWJlcyBwcmVwYXJpbmcgdGhlIGJ1aWx0aW4gbWljcm9jb2RlIGJs
b2JzIHRvIHVzZSBhcworICBidWlsdGluIG1pY3JvY29kZSB1cGRhdGUgd2l0aGluIHRoZSBYZW4g
aW1hZ2UgaXRzZWxmLgorCisqIFN1cHBvcnQgZm9yIGJ1aWx0aW4gbWljcm9jb2RlIGlzIGxpbWl0
ZWQgdG8geDg2LgorCisqIEJ1aWx0aW4gc3VwcG9ydCBpcyBhdmFpbGFibGUgdmlhIHRoZSBjb25m
aWd1cmF0aW9ucyBCVUlMVElOX1VDT0RFIGFuZAorICBCVUlMVElOX1VDT0RFX0RJUi4gVGhlIGZp
cnN0IGVuYWJsZXMgdGhlIHN1cHBvcnQgKGRlZmF1bHQgaXMgb2ZmKSwgYW5kIHRoZQorICBsYXR0
ZXIgZGlyZWN0cyB0aGUgYnVpbGQgc3lzdGVtIHRvIHdoZXJlIGl0IGNhbiBmaW5kIHRoZSBtaWNy
b2NvZGUgZGlyZWN0b3J5CisgIChkZWZhdWx0IGlzIC9saWIvZmlybXdhcmUpLgorCitNaWNyb2Nv
ZGUgRGlyZWN0b3J5OgorLS0tLS0tLS0tLS0tLS0tLS0tLS0KK1RoaXMgZGlyZWN0b3J5IGhvbGRz
IHRoZSBtaWNyb2NvZGUgYmxvYnMgdG8gYmUgYnVpbHQgaW4gdGhlIFhlbiBpbWFnZS4gVGhlcmUK
K2FyZSB0d28gc3ViZGlyZWN0b3JpZXM6IGFtZC11Y29kZSBhbmQgaW50ZWwtdWNvZGUgZm9yIEFN
RCBhbmQgSU5URUwsCityZXNwZWN0aXZlbHkuCisKK0lOVEVMIG1pY3JvY29kZSBibG9icyB0eXBp
Y2FsbHkgZm9sbG93IHRoZSBuYW1pbmcgZm9ybWF0IEZGLU1NLVNTIGZvcgore0Z9YW1pbHkte019
b2RlbC17U310ZXBwaW5nLiBBbHRlcm5hdGl2ZWx5LCBHZW51aW5lSW50ZWwuYmluIGJ1bmRsZXMg
YSBidW5jaAorb2YgRkYtTU0tU1MgYmxvYnMgaW50byBhIHNpbmdsZSBiaW5hcnkgYW5kIHRoZSBv
bmUgbWF0Y2hpbmcgdGhlIGhvc3QgQ1BVIGdldHMKK3BpY2tlZCB3aGVuIHBlcmZvcm1pbmcgdGhl
IG1pY3JvY29kZSB1cGRhdGUuIEZvciBBTUQsIHRoZSBjYW5vbmljYWwgbmFtZSBpcworQXV0aGVu
dGljQU1ELmJpbi4gU2ltaWxhcmx5LCBzdWNoIGJpbmFyeSBjYW4gYnVuZGxlIGEgYnVuY2ggb2Yg
bWljcm9jb2RlIGJsb2JzCitmb3IgZGlmZmVyZW50IGZhbWlsaWVzLgorCitUaGUgYnVpbHRpbiBt
aWNyb2NvZGUgaXMgZ2VuZXJhdGVkIGJ5IGNvbmNhdGVuYXRpbmcgdGhlIG1pY3JvY29kZSBibG9i
cyB1bmRlcgoraW50ZWwtdWNvZGUgaW50byBHZW51aW5lSW50ZWwuYmluLCBhbmQgdGhvc2UgdW5k
ZXIgYW1kLXVjb2RlIGludG8KK0F1dGhlbnRpY0FNRC5iaW4uIFRob3NlIGFyZSB0aGVuIGNvcGll
ZCBpbnRvIHRoZSBYZW4gaW1hZ2UgaXRzZWxmLgorCitIZXJlIGlzIGFuIGV4YW1wbGUgbWljcm9j
b2RlIGRpcmVjdG9yeSBzdHJ1Y3R1cmUsIGZvbGxvd2luZyB0aGUgY29udmVudGlvbiBbMV06CisK
Ky9saWIvZmlybXdhcmUKK3wtLSBhbWQtdWNvZGUKKy4uLgorfCAgIHwtLSBtaWNyb2NvZGVfYW1k
X2ZhbTE1aC5iaW4KKy4uLgorfC0tIGludGVsLXVjb2RlCisuLi4KK3wgICB8LS0gMDYtM2EtMDkK
Ky4uLgorCitBbHRlcm5hdGl2ZWx5LCB0aGUgc3ViZGlyZWN0b3JpZXMgY2FuIGRpcmVjdGx5IGNv
bnRhaW4gR2VudWluZUludGVsLmJpbiBhbmQKK0F1dGhlbnRpY0FNRC5iaW4gKHNpbmNlIGJvdGgg
YXJlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGluZGl2aWR1YWwgbWljcm9jb2RlCitibG9icyBhbmQg
dGhlIGVuZCByZXN1bHQgaXMgdGhlIHNhbWUpLgorCitBbiBlbXB0eSBvciBub24tZXhpc3RhbnQg
c3ViZGlyZWN0b3J5IChhbWQtdWNvZGUgYW5kL29yIGludGVsLXVjb2RlKSBleGNsdWRlcwordGhl
IHJlc3BlY3RpdmUgQU1EIG9yIElOVEVMIG1pY3JvY29kZSBmcm9tIGJlaW5nIGJ1aWx0IGluLgor
CitSZWZlcmVuY2Uocyk6CistLS0tLS0tLS0tLS0tCitbMV0gaHR0cHM6Ly93d3cua2VybmVsLm9y
Zy9kb2MvRG9jdW1lbnRhdGlvbi94ODYvbWljcm9jb2RlLnR4dApkaWZmIC0tZ2l0IGEvZG9jcy9t
aXNjL3hlbi1jb21tYW5kLWxpbmUucGFuZG9jIGIvZG9jcy9taXNjL3hlbi1jb21tYW5kLWxpbmUu
cGFuZG9jCmluZGV4IDg5MWQyZDQzOWYuLmJhMjVkYjk1ZGEgMTAwNjQ0Ci0tLSBhL2RvY3MvbWlz
Yy94ZW4tY29tbWFuZC1saW5lLnBhbmRvYworKysgYi9kb2NzL21pc2MveGVuLWNvbW1hbmQtbGlu
ZS5wYW5kb2MKQEAgLTIxMTMsNyArMjExMyw3IEBAIGxvZ2ljIGFwcGxpZXM6CiAgICBhY3RpdmUg
YnkgZGVmYXVsdC4KIAogIyMjIHVjb2RlICh4ODYpCi0+IGA9IExpc3Qgb2YgWyA8aW50ZWdlcj4g
fCBzY2FuPTxib29sPiwgbm1pPTxib29sPiBdYAorPiBgPSBMaXN0IG9mIFsgPGludGVnZXI+IHwg
c2Nhbj08Ym9vbD4gfCBidWlsdGluPTxib29sPiwgbm1pPTxib29sPiBdYAogCiBTcGVjaWZ5IGhv
dyBhbmQgd2hlcmUgdG8gZmluZCBDUFUgbWljcm9jb2RlIHVwZGF0ZSBibG9iLgogCkBAIC0yMTI4
LDYgKzIxMjgsOSBAQCB3aGVuIHVzZWQgd2l0aCB4ZW4uZWZpICh0aGVyZSB0aGUgY29uY2VwdCBv
ZiBtb2R1bGVzIGRvZXNuJ3QgZXhpc3QsIGFuZAogdGhlIGJsb2IgZ2V0cyBzcGVjaWZpZWQgdmlh
IHRoZSBgdWNvZGU9PGZpbGVuYW1lPmAgY29uZmlnIGZpbGUvc2VjdGlvbgogZW50cnk7IHNlZSBb
RUZJIGNvbmZpZ3VyYXRpb24gZmlsZSBkZXNjcmlwdGlvbl0oZWZpLmh0bWwpKS4KIAorJ2J1aWx0
aW4nIGluc3RydWN0cyB0aGUgaHlwZXJ2aXNvciB0byB1c2UgdGhlIGJ1aWx0aW4gbWljcm9jb2Rl
IHVwZGF0ZS4gVGhpcworb3B0aW9uIGlzIGF2YWlsYWJsZSBvbmx5IGlmIG9wdGlvbiBCVUlMVElO
X1VDT0RFIGlzIGVuYWJsZWQuCisKICdzY2FuJyBpbnN0cnVjdHMgdGhlIGh5cGVydmlzb3IgdG8g
c2NhbiB0aGUgbXVsdGlib290IGltYWdlcyBmb3IgYW4gY3BpbwogaW1hZ2UgdGhhdCBjb250YWlu
cyBtaWNyb2NvZGUuIERlcGVuZGluZyBvbiB0aGUgcGxhdGZvcm0gdGhlIGJsb2Igd2l0aCB0aGUK
IG1pY3JvY29kZSBpbiB0aGUgY3BpbyBuYW1lIHNwYWNlIG11c3QgYmU6CmRpZmYgLS1naXQgYS94
ZW4vYXJjaC94ODYvS2NvbmZpZyBiL3hlbi9hcmNoL3g4Ni9LY29uZmlnCmluZGV4IDAyYmIwNWY0
MmUuLjE0YzU5OTJkODYgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9LY29uZmlnCisrKyBiL3hl
bi9hcmNoL3g4Ni9LY29uZmlnCkBAIC0yMTgsNiArMjE4LDI2IEBAIGNvbmZpZyBNRU1fU0hBUklO
RwogCWJvb2wgIlhlbiBtZW1vcnkgc2hhcmluZyBzdXBwb3J0IiBpZiBFWFBFUlQgPSAieSIKIAlk
ZXBlbmRzIG9uIEhWTQogCitjb25maWcgQlVJTFRJTl9VQ09ERQorCWRlZl9ib29sIG4KKwlwcm9t
cHQgIlN1cHBvcnQgZm9yIEJ1aWx0aW4gTWljcm9jb2RlIgorCS0tLWhlbHAtLS0KKwkgIEluY2x1
ZGUgdGhlIENQVSBtaWNyb2NvZGUgdXBkYXRlIGluIHRoZSBYZW4gaW1hZ2UgaXRzZWxmLiBXaXRo
IHRoaXMKKwkgIHN1cHBvcnQsIFhlbiBjYW4gdXBkYXRlIHRoZSBDUFUgbWljcm9jb2RlIHVwb24g
Ym9vdCB1c2luZyB0aGUgYnVpbHRpbgorCSAgbWljcm9jb2RlLCB3aXRoIG5vIG5lZWQgZm9yIGFu
IGFkZGl0aW9uYWwgbWljcm9jb2RlIGJvb3QgbW9kdWxlcy4KKworCSAgSWYgdW5zdXJlLCBzYXkg
Ti4KKworY29uZmlnIEJVSUxUSU5fVUNPREVfRElSCisJc3RyaW5nCisJZGVmYXVsdCAiL2xpYi9m
aXJtd2FyZSIKKwlkZXBlbmRzIG9uIEJVSUxUSU5fVUNPREUKKwktLS1oZWxwLS0tCisJICBUaGUg
ZGlyZWN0b3J5IGNvbnRhaW5pbmcgdGhlIG1pY3JvY29kZSBibG9icy4KKworCSAgU2VlIGRvY3Mv
bWlzYy9idWlsdGluLXVjb2RlLnR4dCBmb3IgaG93IHN1Y2ggZGlyZWN0b3J5IHNob3VsZCBiZQor
CSAgc3RydWN0dXJlZCB0byBob2xkIEFNRCBhbmQgSU5URUwgbWljcm9jb2RlLgorCiBlbmRtZW51
CiAKIHNvdXJjZSAiY29tbW9uL0tjb25maWciCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvTWFr
ZWZpbGUgYi94ZW4vYXJjaC94ODYvTWFrZWZpbGUKaW5kZXggN2RhNWEyNjMxZS4uOGFjOTNhMTVh
NyAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L01ha2VmaWxlCisrKyBiL3hlbi9hcmNoL3g4Ni9N
YWtlZmlsZQpAQCAtNyw2ICs3LDcgQEAgc3ViZGlyLXkgKz0gbW0KIHN1YmRpci0kKENPTkZJR19Y
RU5PUFJPRikgKz0gb3Byb2ZpbGUKIHN1YmRpci0kKENPTkZJR19QVikgKz0gcHYKIHN1YmRpci15
ICs9IHg4Nl82NAorc3ViZGlyLSQoQ09ORklHX0JVSUxUSU5fVUNPREUpICs9IG1pY3JvY29kZQog
CiBhbHRlcm5hdGl2ZS15IDo9IGFsdGVybmF0aXZlLmluaXQubwogYWx0ZXJuYXRpdmUtJChDT05G
SUdfTElWRVBBVENIKSA6PQpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L21pY3JvY29kZS5jIGIv
eGVuL2FyY2gveDg2L21pY3JvY29kZS5jCmluZGV4IDZjZWQyOTNkODguLjdhZmJlNDQyODYgMTAw
NjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9taWNyb2NvZGUuYworKysgYi94ZW4vYXJjaC94ODYvbWlj
cm9jb2RlLmMKQEAgLTk3LDYgKzk3LDE0IEBAIHN0YXRpYyBzdHJ1Y3QgdWNvZGVfbW9kX2Jsb2Ig
X19pbml0ZGF0YSB1Y29kZV9ibG9iOwogICovCiBzdGF0aWMgYm9vbF90IF9faW5pdGRhdGEgdWNv
ZGVfc2NhbjsKIAorI2lmZGVmIENPTkZJR19CVUlMVElOX1VDT0RFCisvKiBidWlsdGluIGlzIHRo
ZSBkZWZhdWx0IHdoZW4gQlVJTFRJTl9VQ09ERSBpcyBzZXQgKi8KK3N0YXRpYyBib29sX3QgX19p
bml0ZGF0YSB1Y29kZV9idWlsdGluID0gMTsKKworZXh0ZXJuIGNvbnN0IGNoYXIgX19idWlsdGlu
X2ludGVsX3Vjb2RlX3N0YXJ0W10sIF9fYnVpbHRpbl9pbnRlbF91Y29kZV9lbmRbXTsKK2V4dGVy
biBjb25zdCBjaGFyIF9fYnVpbHRpbl9hbWRfdWNvZGVfc3RhcnRbXSwgX19idWlsdGluX2FtZF91
Y29kZV9lbmRbXTsKKyNlbmRpZgorCiAvKiBCeSBkZWZhdWx0LCB1Y29kZSBsb2FkaW5nIGlzIGRv
bmUgaW4gTk1JIGhhbmRsZXIgKi8KIHN0YXRpYyBib29sIHVjb2RlX2luX25taSA9IHRydWU7CiAK
QEAgLTExMCw5ICsxMTgsOSBAQCB2b2lkIF9faW5pdCBtaWNyb2NvZGVfc2V0X21vZHVsZSh1bnNp
Z25lZCBpbnQgaWR4KQogfQogCiAvKgotICogVGhlIGZvcm1hdCBpcyAnWzxpbnRlZ2VyPnxzY2Fu
PTxib29sPiwgbm1pPTxib29sPl0nLiBCb3RoIG9wdGlvbnMgYXJlCi0gKiBvcHRpb25hbC4gSWYg
dGhlIEVGSSBoYXMgZm9yY2VkIHdoaWNoIG9mIHRoZSBtdWx0aWJvb3QgcGF5bG9hZHMgaXMgdG8g
YmUKLSAqIHVzZWQsIG9ubHkgbm1pPTxib29sPiBpcyBwYXJzZWQuCisgKiBUaGUgZm9ybWF0IGlz
ICdbPGludGVnZXI+fHNjYW49PGJvb2w+fGJ1aWx0aW49PGJvb2w+LCBubWk9PGJvb2w+XScuIEFs
bAorICogb3B0aW9ucyBhcmUgb3B0aW9uYWwuIElmIHRoZSBFRkkgaGFzIGZvcmNlZCB3aGljaCBv
ZiB0aGUgbXVsdGlib290IHBheWxvYWRzCisgKiBpcyB0byBiZSB1c2VkLCBvbmx5IG5taT08Ym9v
bD4gaXMgcGFyc2VkLgogICovCiBzdGF0aWMgaW50IF9faW5pdCBwYXJzZV91Y29kZShjb25zdCBj
aGFyICpzKQogewpAQCAtMTMwLDYgKzEzOCwxMCBAQCBzdGF0aWMgaW50IF9faW5pdCBwYXJzZV91
Y29kZShjb25zdCBjaGFyICpzKQogICAgICAgICB7CiAgICAgICAgICAgICBpZiAoICh2YWwgPSBw
YXJzZV9ib29sZWFuKCJzY2FuIiwgcywgc3MpKSA+PSAwICkKICAgICAgICAgICAgICAgICB1Y29k
ZV9zY2FuID0gdmFsOworI2lmZGVmIENPTkZJR19CVUlMVElOX1VDT0RFCisJICAgIGVsc2UgaWYg
KCAodmFsID0gcGFyc2VfYm9vbGVhbigiYnVpbHRpbiIsIHMsIHNzKSkgPj0gMCApCisgICAgICAg
ICAgICAgICAgdWNvZGVfYnVpbHRpbiA9IHZhbDsKKyNlbmRpZgogICAgICAgICAgICAgZWxzZQog
ICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKnE7CkBAIC0yMzcsNiAr
MjQ5LDQ4IEBAIHZvaWQgX19pbml0IG1pY3JvY29kZV9ncmFiX21vZHVsZSgKIHNjYW46CiAgICAg
aWYgKCB1Y29kZV9zY2FuICkKICAgICAgICAgbWljcm9jb2RlX3NjYW5fbW9kdWxlKG1vZHVsZV9t
YXAsIG1iaSk7CisKKyNpZmRlZiBDT05GSUdfQlVJTFRJTl9VQ09ERQorICAgIC8qCisgICAgICog
RG8gbm90IHVzZSB0aGUgYnVpbHRpbiBtaWNyb2NvZGUgaWY6CisgICAgICogKGEpIGJ1aWx0aW4g
aGFzIGJlZW4gZXhwbGljaXRseSB0dXJuZWQgb2ZmIChlLmcuLCB1Y29kZT1uby1idWlsdGluKQor
ICAgICAqIChiKSBhIG1pY3JvY29kZSBtb2R1bGUgaGFzIGJlZW4gc3BlY2lmaWVkIG9yIGEgc2Nh
biBpcyBzdWNjZXNzZnVsCisgICAgICovCisgICAgaWYgKCAhdWNvZGVfYnVpbHRpbiB8fCB1Y29k
ZV9tb2QubW9kX2VuZCB8fCB1Y29kZV9ibG9iLnNpemUgKQorICAgICAgICByZXR1cm47CisKKyAg
ICAvKiBTZXQgdWNvZGVfc3RhcnQvX2VuZCB0byB0aGUgcHJvcGVyIGJsb2IgKi8KKyAgICBpZiAo
IGJvb3RfY3B1X2RhdGEueDg2X3ZlbmRvciA9PSBYODZfVkVORE9SX0FNRCApCisgICAgICAgIHVj
b2RlX2Jsb2Iuc2l6ZSA9IChzaXplX3QpKF9fYnVpbHRpbl9hbWRfdWNvZGVfZW5kCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gX19idWlsdGluX2FtZF91Y29kZV9zdGFydCk7
CisgICAgZWxzZSBpZiAoIGJvb3RfY3B1X2RhdGEueDg2X3ZlbmRvciA9PSBYODZfVkVORE9SX0lO
VEVMICkKKyAgICAgICAgdWNvZGVfYmxvYi5zaXplID0gKHNpemVfdCkoX19idWlsdGluX2ludGVs
X3Vjb2RlX2VuZAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIF9fYnVpbHRp
bl9pbnRlbF91Y29kZV9zdGFydCk7CisgICAgZWxzZQorICAgICAgICByZXR1cm47CisKKyAgICBp
ZiAoICF1Y29kZV9ibG9iLnNpemUgKQorICAgIHsKKyAgICAgICAgcHJpbnRrKCJObyBidWlsdGlu
IHVjb2RlISAndWNvZGU9YnVpbHRpbicgaXMgbnVsbGlmaWVkLlxuIik7CisgICAgICAgIHJldHVy
bjsKKyAgICB9CisgICAgZWxzZSBpZiAoIHVjb2RlX2Jsb2Iuc2l6ZSA+IE1BWF9FQVJMWV9DUElP
X01JQ1JPQ09ERSApCisgICAgeworICAgICAgICBwcmludGsoIkJ1aWx0aW4gbWljcm9jb2RlIHBh
eWxvYWQgdG9vIGJpZyEgKCVsZCwgd2UgY2FuIGRvICVkKVxuIiwKKyAgICAgICAgICAgICAgIHVj
b2RlX2Jsb2Iuc2l6ZSwgTUFYX0VBUkxZX0NQSU9fTUlDUk9DT0RFKTsKKyAgICAgICAgdWNvZGVf
YmxvYi5zaXplID0gMDsKKyAgICAgICAgcmV0dXJuOworICAgIH0KKworICAgIHVjb2RlX2Jsb2Iu
ZGF0YSA9IHhtYWxsb2NfYnl0ZXModWNvZGVfYmxvYi5zaXplKTsKKyAgICBpZiAoICF1Y29kZV9i
bG9iLmRhdGEgKQorICAgICAgICByZXR1cm47CisKKyAgICBpZiAoIGJvb3RfY3B1X2RhdGEueDg2
X3ZlbmRvciA9PSBYODZfVkVORE9SX0FNRCApCisgICAgICAgIG1lbWNweSh1Y29kZV9ibG9iLmRh
dGEsIF9fYnVpbHRpbl9hbWRfdWNvZGVfc3RhcnQsIHVjb2RlX2Jsb2Iuc2l6ZSk7CisgICAgZWxz
ZQorICAgICAgICBtZW1jcHkodWNvZGVfYmxvYi5kYXRhLCBfX2J1aWx0aW5faW50ZWxfdWNvZGVf
c3RhcnQsIHVjb2RlX2Jsb2Iuc2l6ZSk7CisjZW5kaWYKIH0KIAogY29uc3Qgc3RydWN0IG1pY3Jv
Y29kZV9vcHMgKm1pY3JvY29kZV9vcHM7CmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvbWljcm9j
b2RlL01ha2VmaWxlIGIveGVuL2FyY2gveDg2L21pY3JvY29kZS9NYWtlZmlsZQpuZXcgZmlsZSBt
b2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwLi42ZDU4NWM1NDgyCi0tLSAvZGV2L251bGwKKysr
IGIveGVuL2FyY2gveDg2L21pY3JvY29kZS9NYWtlZmlsZQpAQCAtMCwwICsxLDQwIEBACisjIENv
cHlyaWdodCAoQykgMjAxOSBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLgorIyBB
dXRob3I6IEVzbGFtIEVsbmlrZXR5IDxlbG5pa2V0eUBhbWF6b24uY29tPgorIworIyBUaGlzIHBy
b2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1v
ZGlmeQorIyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNl
bnNlIGFzIHB1Ymxpc2hlZCBieQorIyB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRo
ZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBvcgorIyAoYXQgeW91ciBvcHRpb24pIGFueSBs
YXRlciB2ZXJzaW9uLgorIworIyBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhv
cGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyMgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3
aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyMgTUVSQ0hBTlRBQklMSVRZIG9y
IEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQorIyBHTlUgR2VuZXJh
bCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgorCitvYmoteSArPSBidWlsdGluX3Vj
b2RlLm8KKworIyBEaXJlY3RvcnkgaG9sZGluZyB0aGUgbWljcm9jb2RlIHVwZGF0ZXMuCitVQ09E
RV9ESVI9JChwYXRzdWJzdCAiJSIsJSwkKENPTkZJR19CVUlMVElOX1VDT0RFX0RJUikpCithbWQt
YmxvYnMgOj0gJCh3aWxkY2FyZCAkKFVDT0RFX0RJUikvYW1kLXVjb2RlLyopCitpbnRlbC1ibG9i
cyA6PSAkKHdpbGRjYXJkICQoVUNPREVfRElSKS9pbnRlbC11Y29kZS8qKQorCitidWlsdGluX3Vj
b2RlLm86IE1ha2VmaWxlICQoYW1kLWJsb2JzKSAkKGludGVsLWJsb2JzKQorCSMgQ3JlYXRlIEFN
RCBtaWNyb2NvZGUgYmxvYiBpZiB0aGVyZSBhcmUgQU1EIHVwZGF0ZXMgb24gdGhlIGJ1aWxkIHN5
c3RlbQorCWlmIFsgISAteiAiJChhbWQtYmxvYnMpIiBdOyB0aGVuIFwKKwkJY2F0ICQoYW1kLWJs
b2JzKSA+ICRALmJpbiA7IFwKKwkJJChPQkpDT1BZKSAtSSBiaW5hcnkgLU8gZWxmNjQteDg2LTY0
IC1CIGkzODY6eDg2LTY0IC0tcmVuYW1lLXNlY3Rpb24gLmRhdGE9LmJ1aWx0aW5fYW1kX3Vjb2Rl
LGFsbG9jLGxvYWQscmVhZG9ubHksZGF0YSxjb250ZW50cyAkQC5iaW4gJEAuYW1kOyBcCisJCXJt
IC1mICRALmJpbjsgXAorCWZpCisJIyBDcmVhdGUgSU5URUwgbWljcm9jb2RlIGJsb2IgaWYgdGhl
cmUgYXJlIElOVEVMIHVwZGF0ZXMgb24gdGhlIGJ1aWxkIHN5c3RlbQorCWlmIFsgISAteiAiJChp
bnRlbC1ibG9icykiIF07IHRoZW4gXAorCQljYXQgJChpbnRlbC1ibG9icykgPiAkQC5iaW47IFwK
KwkJJChPQkpDT1BZKSAtSSBiaW5hcnkgLU8gZWxmNjQteDg2LTY0IC1CIGkzODY6eDg2LTY0IC0t
cmVuYW1lLXNlY3Rpb24gLmRhdGE9LmJ1aWx0aW5faW50ZWxfdWNvZGUsYWxsb2MsbG9hZCxyZWFk
b25seSxkYXRhLGNvbnRlbnRzICRALmJpbiAkQC5pbnRlbDsgXAorCQlybSAtZiAkQC5iaW47IFwK
KwlmaQorCSMgQ3JlYXRlIGZha2UgYnVpbHRpbl91Y29kZS5vIGlmIG5vIHVwZGF0ZXMgd2VyZSBw
cmVzZW50LiBPdGhlcndpc2UsIGJ1aWx0aW5fdWNvZGUubyBjYXJyaWVzIHRoZSBhdmFpbGFibGUg
dXBkYXRlcworCWlmIFsgLXogIiQoYW1kLWJsb2JzKSIgLWEgLXogIiQoaW50ZWwtYmxvYnMpIiBd
OyB0aGVuIFwKKwkJJChDQykgJChDRkxBR1MpIC1jIC14IGMgL2Rldi9udWxsIC1vICRAOyBcCisJ
ZWxzZSBcCisJCSQoTEQpICQoTERGTEFHUykgLXIgLW8gJEAgJEAuKjsgXAorCQlybSAtZiAkQC4q
OyBcCisJZmkKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni94ZW4ubGRzLlMgYi94ZW4vYXJjaC94
ODYveGVuLmxkcy5TCmluZGV4IDExMWVkYjUzNjAuLjdhNGM1OGMyNDYgMTAwNjQ0Ci0tLSBhL3hl
bi9hcmNoL3g4Ni94ZW4ubGRzLlMKKysrIGIveGVuL2FyY2gveDg2L3hlbi5sZHMuUwpAQCAtMjY1
LDYgKzI2NSwxOCBAQCBTRUNUSU9OUwogICAgICAgICooU09SVCguZGF0YS52cGNpLiopKQogICAg
ICAgIF9fZW5kX3ZwY2lfYXJyYXkgPSAuOwogI2VuZGlmCisKKyNpZiBkZWZpbmVkKENPTkZJR19C
VUlMVElOX1VDT0RFKQorICAgICAgIC4gPSBBTElHTihQT0lOVEVSX0FMSUdOKTsKKyAgICAgICBf
X2J1aWx0aW5fYW1kX3Vjb2RlX3N0YXJ0ID0gLjsKKyAgICAgICAqKC5idWlsdGluX2FtZF91Y29k
ZSkKKyAgICAgICBfX2J1aWx0aW5fYW1kX3Vjb2RlX2VuZCA9IC47CisKKyAgICAgICAuID0gQUxJ
R04oUE9JTlRFUl9BTElHTik7CisgICAgICAgX19idWlsdGluX2ludGVsX3Vjb2RlX3N0YXJ0ID0g
LjsKKyAgICAgICAqKC5idWlsdGluX2ludGVsX3Vjb2RlKQorICAgICAgIF9fYnVpbHRpbl9pbnRl
bF91Y29kZV9lbmQgPSAuOworI2VuZGlmCiAgIH0gOnRleHQKIAogICAuID0gQUxJR04oU0VDVElP
Tl9BTElHTik7Ci0tIAoyLjE3LjEKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5w
cm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8v
eGVuLWRldmVs

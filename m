Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2F491431BC
	for <lists+xen-devel@lfdr.de>; Thu, 13 Jun 2019 00:44:02 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hbBvb-0006Zq-4C; Wed, 12 Jun 2019 22:41:11 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=yIha=UL=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1hbBvZ-0006Zj-OH
 for xen-devel@lists.xenproject.org; Wed, 12 Jun 2019 22:41:09 +0000
X-Inumbo-ID: 2b789b2d-8d63-11e9-8980-bc764e045a96
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 2b789b2d-8d63-11e9-8980-bc764e045a96;
 Wed, 12 Jun 2019 22:41:08 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 96BC9215EA;
 Wed, 12 Jun 2019 22:41:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1560379267;
 bh=xpLPxkYq2Cni/8uWl8t57EpQZ9j8rpy4DbKyQIZtinQ=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=zYcQtQSmZSC0CGqKkVjVCdsUIQrDyhtaw8pLuc33LSzYtSEOLTLL7Js67i7PWELrL
 SyWkkN5O6RgcKEOSRr6J0AmLgNW4dm03CX/SvkfMjvwWknab28webNwDQToUq7KUMn
 HtTods5I8cMKnVWJhim7j6pX394GReUGOYsKGOS4=
Date: Wed, 12 Jun 2019 15:41:07 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20190514123125.29086-13-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1906121535560.13737@sstabellini-ThinkPad-T480s>
References: <20190514123125.29086-1-julien.grall@arm.com>
 <20190514123125.29086-13-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH MM-PART3 v2 12/12] xen/arm: mm: Remove
 set_pte_flags_on_range()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>, Oleksandr_Tyshchenko@epam.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVHVlLCAxNCBNYXkgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IHNldF9wdGVfZmxhZ3Nf
b25fcmFuZ2UoKSBpcyB5ZXQgYW5vdGhlciBmdW5jdGlvbiB0aGF0IHdpbGwgb3Blbi1jb2RlCj4g
dXBkYXRlIHRvIGEgc3BlY2lmaWMgcmFuZ2UgaW4gdGhlIFhlbiBwYWdlLXRhYmxlcy4gSXQgY2Fu
IGJlIGNvbXBsZXRlbHkKPiBkcm9wcGVkIGJ5IHVzaW5nIGVpdGhlciBtb2RpZnlfeGVuX21hcHBp
bmdzKCkgb3IgZGVzdHJveV94ZW5fbWFwcGluZ3MoKS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKdWxp
ZW4gR3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgo+IFJldmlld2VkLWJ5OiBBbmRyaWkgQW5p
c292IDxhbmRyaWlfYW5pc292QGVwYW0uY29tPgo+IAo+IC0tLQo+ICAgICBDaGFuZ2VzIGluIHYy
Ogo+ICAgICAgICAgLSBBZGQgbWlzc2luZyBuZXdsaW5lIGluIHBhbmljCj4gICAgICAgICAtIEFk
ZCBBbmRyaWkncyByZXZpZXdlZC1ieQo+IC0tLQo+ICB4ZW4vYXJjaC9hcm0vbW0uYyB8IDU4ICsr
KysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiAg
MSBmaWxlIGNoYW5nZWQsIDEwIGluc2VydGlvbnMoKyksIDQ4IGRlbGV0aW9ucygtKQo+IAo+IGRp
ZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vbW0uYyBiL3hlbi9hcmNoL2FybS9tbS5jCj4gaW5kZXgg
MjNjYTYxZThmMC4uZDc0MTAxYmNkMiAxMDA2NDQKPiAtLS0gYS94ZW4vYXJjaC9hcm0vbW0uYwo+
ICsrKyBiL3hlbi9hcmNoL2FybS9tbS5jCj4gQEAgLTEyNzcsNTIgKzEyNzcsNiBAQCBpbnQgbW9k
aWZ5X3hlbl9tYXBwaW5ncyh1bnNpZ25lZCBsb25nIHMsIHVuc2lnbmVkIGxvbmcgZSwgdW5zaWdu
ZWQgaW50IGZsYWdzKQo+ICAgICAgcmV0dXJuIHhlbl9wdF91cGRhdGUocywgSU5WQUxJRF9NRk4s
IChlIC0gcykgPj4gUEFHRV9TSElGVCwgZmxhZ3MpOwo+ICB9Cj4gIAo+IC1lbnVtIG1nIHsgbWdf
Y2xlYXIsIG1nX3JvLCBtZ19ydywgbWdfcnggfTsKPiAtc3RhdGljIHZvaWQgc2V0X3B0ZV9mbGFn
c19vbl9yYW5nZShjb25zdCBjaGFyICpwLCB1bnNpZ25lZCBsb25nIGwsIGVudW0gbWcgbWcpCj4g
LXsKPiAtICAgIGxwYWVfdCBwdGU7Cj4gLSAgICBpbnQgaTsKPiAtCj4gLSAgICBBU1NFUlQoaXNf
a2VybmVsKHApICYmIGlzX2tlcm5lbChwICsgbCkpOwo+IC0KPiAtICAgIC8qIENhbiBvbmx5IGd1
YXJkIGluIHBhZ2UgZ3JhbnVsYXJpdHkgKi8KPiAtICAgIEFTU0VSVCghKCh1bnNpZ25lZCBsb25n
KSBwICYgflBBR0VfTUFTSykpOwo+IC0gICAgQVNTRVJUKCEobCAmIH5QQUdFX01BU0spKTsKPiAt
Cj4gLSAgICBmb3IgKCBpID0gKHAgLSBfc3RhcnQpIC8gUEFHRV9TSVpFOyAKPiAtICAgICAgICAg
IGkgPCAocCArIGwgLSBfc3RhcnQpIC8gUEFHRV9TSVpFOyAKPiAtICAgICAgICAgIGkrKyApCj4g
LSAgICB7Cj4gLSAgICAgICAgcHRlID0geGVuX3hlbm1hcFtpXTsKPiAtICAgICAgICBzd2l0Y2gg
KCBtZyApCj4gLSAgICAgICAgewo+IC0gICAgICAgIGNhc2UgbWdfY2xlYXI6Cj4gLSAgICAgICAg
ICAgIHB0ZS5wdC52YWxpZCA9IDA7Cj4gLSAgICAgICAgICAgIGJyZWFrOwo+IC0gICAgICAgIGNh
c2UgbWdfcm86Cj4gLSAgICAgICAgICAgIHB0ZS5wdC52YWxpZCA9IDE7Cj4gLSAgICAgICAgICAg
IHB0ZS5wdC5weG4gPSAxOwo+IC0gICAgICAgICAgICBwdGUucHQueG4gPSAxOwo+IC0gICAgICAg
ICAgICBwdGUucHQucm8gPSAxOwo+IC0gICAgICAgICAgICBicmVhazsKPiAtICAgICAgICBjYXNl
IG1nX3J3Ogo+IC0gICAgICAgICAgICBwdGUucHQudmFsaWQgPSAxOwo+IC0gICAgICAgICAgICBw
dGUucHQucHhuID0gMTsKCkl0IHNob3VsZG4ndCBtYWtlIGFueSBkaWZmZXJlbmNlLCBidXQgRllJ
IHdlIGRvbid0IHNldCBweG4gaW4KeGVuX3B0X3VwZGF0ZS4KCgo+IC0gICAgICAgICAgICBwdGUu
cHQueG4gPSAxOwo+IC0gICAgICAgICAgICBwdGUucHQucm8gPSAwOwo+IC0gICAgICAgICAgICBi
cmVhazsKPiAtICAgICAgICBjYXNlIG1nX3J4Ogo+IC0gICAgICAgICAgICBwdGUucHQudmFsaWQg
PSAxOwo+IC0gICAgICAgICAgICBwdGUucHQucHhuID0gMDsKPiAtICAgICAgICAgICAgcHRlLnB0
LnhuID0gMDsKPiAtICAgICAgICAgICAgcHRlLnB0LnJvID0gMTsKPiAtICAgICAgICAgICAgYnJl
YWs7Cj4gLSAgICAgICAgfQo+IC0gICAgICAgIHdyaXRlX3B0ZSh4ZW5feGVubWFwICsgaSwgcHRl
KTsKPiAtICAgIH0KPiAtICAgIGZsdXNoX3hlbl90bGJfbG9jYWwoKTsKPiAtfQo+IC0KPiAgLyog
UmVsZWFzZSBhbGwgX19pbml0IGFuZCBfX2luaXRkYXRhIHJhbmdlcyB0byBiZSByZXVzZWQgKi8K
PiAgdm9pZCBmcmVlX2luaXRfbWVtb3J5KHZvaWQpCj4gIHsKPiBAQCAtMTMzMSw4ICsxMjg1LDEy
IEBAIHZvaWQgZnJlZV9pbml0X21lbW9yeSh2b2lkKQo+ICAgICAgdWludDMyX3QgaW5zbjsKPiAg
ICAgIHVuc2lnbmVkIGludCBpLCBuciA9IGxlbiAvIHNpemVvZihpbnNuKTsKPiAgICAgIHVpbnQz
Ml90ICpwOwo+ICsgICAgaW50IHJjOwo+ICAKPiAtICAgIHNldF9wdGVfZmxhZ3Nfb25fcmFuZ2Uo
X19pbml0X2JlZ2luLCBsZW4sIG1nX3J3KTsKPiArICAgIHJjID0gbW9kaWZ5X3hlbl9tYXBwaW5n
cygodW5zaWduZWQgbG9uZylfX2luaXRfYmVnaW4sCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKHVuc2lnbmVkIGxvbmcpX19pbml0X2VuZCwgUEFHRV9IWVBFUlZJU09SX1JXKTsKPiAr
ICAgIGlmICggcmMgKQo+ICsgICAgICAgIHBhbmljKCJVbmFibGUgdG8gbWFwIFJXIHRoZSBpbml0
IHNlY3Rpb24gKHJjID0gJWQpXG4iLCByYyk7CgpMaWtlIGZvciB0aGUgcHJldmlvdXMgcGF0Y2gs
IEkgd29uZGVyIGlmIHdlIHNob3VsZCByZXBsYWNlIEFTU0VSVHMgd2l0aApwYW5pY3M6IEFTU0VS
VHMgZG9uJ3QgY2F1c2UgaXNzdWVzIGluIG5vbi1kZWJ1ZyBidWlsZHMuIFdlIGRvbid0IHJlYWxs
eQpoYXZlIGFuICJvZmZpY2lhbCBwb2xpY3kiIGFib3V0IHRoaXMsIGJ1dCBJIGhhdmUgYmVlbiBn
b2luZyBieSB0aGUgcnVsZQpvZiB0aHVtYiB0aGF0IEFTU0VSVHMgYXJlIHJlYWxseSBnb29kIHRv
IGhhdmUgd2hpbGUgd2UgbmVlZCB0byBiZQpjYXJlZnVsIHdpdGggQlVHX09OL3BhbmljIGJlY2F1
c2UgdGhleSBtaWdodCBpbnRyb2R1Y2UgaW5zdGFiaWxpdHkgKHNlZQpMaW51eCBwb2xpY3kgbm90
IHRvIGhhdmUgYW55LikKCgo+ICAKPiAgICAgIC8qCj4gICAgICAgKiBGcm9tIG5vdyBvbiwgaW5p
dCB3aWxsIG5vdCBiZSB1c2VkIGZvciBleGVjdXRpb24gYW55bW9yZSwKPiBAQCAtMTM1MCw3ICsx
MzA4LDExIEBAIHZvaWQgZnJlZV9pbml0X21lbW9yeSh2b2lkKQo+ICAgICAgZm9yICggaSA9IDA7
IGkgPCBucjsgaSsrICkKPiAgICAgICAgICAqKHAgKyBpKSA9IGluc247Cj4gIAo+IC0gICAgc2V0
X3B0ZV9mbGFnc19vbl9yYW5nZShfX2luaXRfYmVnaW4sIGxlbiwgbWdfY2xlYXIpOwo+ICsgICAg
cmMgPSBkZXN0cm95X3hlbl9tYXBwaW5ncygodW5zaWduZWQgbG9uZylfX2luaXRfYmVnaW4sCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1bnNpZ25lZCBsb25nKV9faW5pdF9lbmQp
Owo+ICsgICAgaWYgKCByYyApCj4gKyAgICAgICAgcGFuaWMoIlVuYWJsZSB0byByZW1vdmUgdGhl
IGluaXQgc2VjdGlvbiAocmMgPSAlZClcbiIsIHJjKTsKPiArCj4gICAgICBpbml0X2RvbWhlYXBf
cGFnZXMocGEsIHBhICsgbGVuKTsKPiAgICAgIHByaW50aygiRnJlZWQgJWxka0IgaW5pdCBtZW1v
cnkuXG4iLCAobG9uZykoX19pbml0X2VuZC1fX2luaXRfYmVnaW4pPj4xMCk7Cj4gIH0KCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

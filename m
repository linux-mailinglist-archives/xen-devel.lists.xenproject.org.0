Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id CA4C316672
	for <lists+xen-devel@lfdr.de>; Tue,  7 May 2019 17:17:28 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hO1oM-0007KJ-8I; Tue, 07 May 2019 15:15:18 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=qCYz=TH=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hO1oL-0007K1-7N
 for xen-devel@lists.xenproject.org; Tue, 07 May 2019 15:15:17 +0000
X-Inumbo-ID: eb6aafdc-70da-11e9-914b-9744845dd15d
Received: from foss.arm.com (unknown [217.140.101.70])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id eb6aafdc-70da-11e9-914b-9744845dd15d;
 Tue, 07 May 2019 15:15:16 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.72.51.249])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 5D0011684;
 Tue,  7 May 2019 08:15:16 -0700 (PDT)
Received: from e108454-lin.cambridge.arm.com (e108454-lin.cambridge.arm.com
 [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 29CF43F5AF;
 Tue,  7 May 2019 08:15:15 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: xen-devel@lists.xenproject.org
Date: Tue,  7 May 2019 16:14:48 +0100
Message-Id: <20190507151458.29350-5-julien.grall@arm.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190507151458.29350-1-julien.grall@arm.com>
References: <20190507151458.29350-1-julien.grall@arm.com>
Subject: [Xen-devel] [PATCH 04/14] xen/x86: Use mfn_to_gfn rather than
 mfn_to_gmfn
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 Julien Grall <julien.grall@arm.com>, Wei Liu <wei.liu2@citrix.com>,
 Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

bWZuX3RvX2dmbiBhbmQgbWZuX3RvX2dtZm4gYXJlIGRvaW5nIGV4YWN0bHkgdGhlIHNhbWUgZXhj
ZXB0IHRoZSBmb3JtZXIKaXMgdXNpbmcgbWZuX3QuCgpGdXJ0aGVybW9yZSwgdGhlIG5hbWluZyBv
ZiB0aGUgZm9ybWVyIGlzIG1vcmUgY29uc2lzdGVudCB3aXRoIHRoZQpjdXJyZW50IG5hbWluZyBz
Y2hlbWUgKEdGTi9NRk4pLiBTbyB1c2UgcmVwbGFjZSBtZm5fdG9fZ21mbiB3aXRoCm1mbl90b19n
Zm4gaW4geDg2IGNvZGUuCgpUYWtlIHRoZSBvcHBvcnR1bml0eSB0byBjb252ZXJ0IHNvbWUgb2Yg
dGhlIGNhbGxlcnMgdG8gdXNlIHR5cGVzYWZlIEdGTiBhbmQKZm9ybWF0IHRoZSBtZXNzYWdlIGNv
cnJlY3RseS4KCk5vIGZ1bmN0aW9uYWwgY2hhbmdlcy4KClNpZ25lZC1vZmYtYnk6IEp1bGllbiBH
cmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+CgotLQogICAgQ2hhbmdlcyBpbiB2MjoKICAgICAg
ICAtIG1mbl90b19nZm4gbm93IHJldHVybnMgYSBnZm5fdAogICAgICAgIC0gVXNlICVwZCBhbmQg
UFJJX2dmbiB3aGVuIHBvc3NpYmxlIGluIHRoZSBtZXNzYWdlCiAgICAgICAgLSBEb24ndCBzcGxp
dCBmb3JtYXQgc3RyaW5nIHRvIGhlbHAgZ3JlcC9hY2suCi0tLQogeGVuL2FyY2gveDg2L2RvbWFp
bi5jICAgICAgICAgICAgICAgfCAzNCArKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0t
CiB4ZW4vYXJjaC94ODYvbW0uYyAgICAgICAgICAgICAgICAgICB8ICA5ICsrKysrLS0tLQogeGVu
L2FyY2gveDg2L3B2L2VtdWwtcHJpdi1vcC5jICAgICAgfCAgNCArKy0tCiB4ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC94ODYvaW9tbXUuYyB8IDE2ICsrKysrKysrKy0tLS0tLS0KIDQgZmlsZXMgY2hh
bmdlZCwgMzUgaW5zZXJ0aW9ucygrKSwgMjggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEveGVu
L2FyY2gveDg2L2RvbWFpbi5jIGIveGVuL2FyY2gveDg2L2RvbWFpbi5jCmluZGV4IDllYWE5Nzhj
ZTUuLjhkMjlkZmVlY2MgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9kb21haW4uYworKysgYi94
ZW4vYXJjaC94ODYvZG9tYWluLmMKQEAgLTY3OSw3ICs2NzksNyBAQCBpbnQgYXJjaF9kb21haW5f
c29mdF9yZXNldChzdHJ1Y3QgZG9tYWluICpkKQogICAgIGludCByZXQgPSAwOwogICAgIHN0cnVj
dCBkb21haW4gKm93bmVyOwogICAgIG1mbl90IG1mbjsKLSAgICB1bnNpZ25lZCBsb25nIGdmbjsK
KyAgICBnZm5fdCBnZm47CiAgICAgcDJtX3R5cGVfdCBwMm10OwogICAgIHVuc2lnbmVkIGludCBp
OwogCkBAIC03MTMsMTkgKzcxMywyMCBAQCBpbnQgYXJjaF9kb21haW5fc29mdF9yZXNldChzdHJ1
Y3QgZG9tYWluICpkKQogICAgIEFTU0VSVCggb3duZXIgPT0gZCApOwogCiAgICAgbWZuID0gcGFn
ZV90b19tZm4ocGFnZSk7Ci0gICAgZ2ZuID0gbWZuX3RvX2dtZm4oZCwgbWZuX3gobWZuKSk7Cisg
ICAgZ2ZuID0gbWZuX3RvX2dmbihkLCBtZm4pOwogCiAgICAgLyoKICAgICAgKiBnZm4gPT0gSU5W
QUxJRF9HRk4gaW5kaWNhdGVzIHRoYXQgdGhlIHNoYXJlZF9pbmZvIHBhZ2Ugd2FzIG5ldmVyIG1h
cHBlZAogICAgICAqIHRvIHRoZSBkb21haW4ncyBhZGRyZXNzIHNwYWNlIGFuZCB0aGVyZSBpcyBu
b3RoaW5nIHRvIHJlcGxhY2UuCiAgICAgICovCi0gICAgaWYgKCBnZm4gPT0gZ2ZuX3goSU5WQUxJ
RF9HRk4pICkKKyAgICBpZiAoIGdmbl9lcShnZm4sIElOVkFMSURfR0ZOKSApCiAgICAgICAgIGdv
dG8gZXhpdF9wdXRfcGFnZTsKIAotICAgIGlmICggIW1mbl9lcShnZXRfZ2ZuX3F1ZXJ5KGQsIGdm
biwgJnAybXQpLCBtZm4pICkKKyAgICBpZiAoICFtZm5fZXEoZ2V0X2dmbl9xdWVyeShkLCBnZm5f
eChnZm4pLCAmcDJtdCksIG1mbikgKQogICAgIHsKLSAgICAgICAgcHJpbnRrKFhFTkxPR19HX0VS
UiAiRmFpbGVkIHRvIGdldCBEb20lZCdzIHNoYXJlZF9pbmZvIEdGTiAoJWx4KVxuIiwKLSAgICAg
ICAgICAgICAgIGQtPmRvbWFpbl9pZCwgZ2ZuKTsKKyAgICAgICAgcHJpbnRrKFhFTkxPR19HX0VS
UgorICAgICAgICAgICAgICAgIkZhaWxlZCB0byBnZXQgJXBkJ3Mgc2hhcmVkX2luZm8gR0ZOICgl
IlBSSV9nZm4iKVxuIiwKKyAgICAgICAgICAgICAgIGQsIGdmbl94KGdmbikpOwogICAgICAgICBy
ZXQgPSAtRUlOVkFMOwogICAgICAgICBnb3RvIGV4aXRfcHV0X2dmbjsKICAgICB9CkBAIC03MzMs
MzEgKzczNCwzNCBAQCBpbnQgYXJjaF9kb21haW5fc29mdF9yZXNldChzdHJ1Y3QgZG9tYWluICpk
KQogICAgIG5ld19wYWdlID0gYWxsb2NfZG9taGVhcF9wYWdlKGQsIDApOwogICAgIGlmICggIW5l
d19wYWdlICkKICAgICB7Ci0gICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIkZhaWxlZCB0byBh
bGxvYyBhIHBhZ2UgdG8gcmVwbGFjZSIKLSAgICAgICAgICAgICAgICIgRG9tJWQncyBzaGFyZWRf
aW5mbyBmcmFtZSAlbHhcbiIsIGQtPmRvbWFpbl9pZCwgZ2ZuKTsKKyAgICAgICAgcHJpbnRrKFhF
TkxPR19HX0VSUgorICAgICAgICAgICAgICAgIkZhaWxlZCB0byBhbGxvYyBhIHBhZ2UgdG8gcmVw
bGFjZSAlcGQncyBzaGFyZWRfaW5mbyBmcmFtZSAlIlBSSV9nZm4iXG4iLAorICAgICAgICAgICAg
ICAgZCwgZ2ZuX3goZ2ZuKSk7CiAgICAgICAgIHJldCA9IC1FTk9NRU07CiAgICAgICAgIGdvdG8g
ZXhpdF9wdXRfZ2ZuOwogICAgIH0KIAotICAgIHJldCA9IGd1ZXN0X3BoeXNtYXBfcmVtb3ZlX3Bh
Z2UoZCwgX2dmbihnZm4pLCBtZm4sIFBBR0VfT1JERVJfNEspOworICAgIHJldCA9IGd1ZXN0X3Bo
eXNtYXBfcmVtb3ZlX3BhZ2UoZCwgZ2ZuLCBtZm4sIFBBR0VfT1JERVJfNEspOwogICAgIGlmICgg
cmV0ICkKICAgICB7Ci0gICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIgIkZhaWxlZCB0byByZW1v
dmUgRG9tJWQncyBzaGFyZWRfaW5mbyBmcmFtZSAlbHhcbiIsCi0gICAgICAgICAgICAgICBkLT5k
b21haW5faWQsIGdmbik7CisgICAgICAgIHByaW50ayhYRU5MT0dfR19FUlIKKyAgICAgICAgICAg
ICAgICJGYWlsZWQgdG8gcmVtb3ZlICVwZCdzIHNoYXJlZF9pbmZvIGZyYW1lICUiUFJJX2dmbiJc
biIsCisgICAgICAgICAgICAgICBkLCBnZm5feChnZm4pKTsKICAgICAgICAgZnJlZV9kb21oZWFw
X3BhZ2UobmV3X3BhZ2UpOwogICAgICAgICBnb3RvIGV4aXRfcHV0X2dmbjsKICAgICB9CiAKLSAg
ICByZXQgPSBndWVzdF9waHlzbWFwX2FkZF9wYWdlKGQsIF9nZm4oZ2ZuKSwgcGFnZV90b19tZm4o
bmV3X3BhZ2UpLAorICAgIHJldCA9IGd1ZXN0X3BoeXNtYXBfYWRkX3BhZ2UoZCwgZ2ZuLCBwYWdl
X3RvX21mbihuZXdfcGFnZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQQUdF
X09SREVSXzRLKTsKICAgICBpZiAoIHJldCApCiAgICAgewotICAgICAgICBwcmludGsoWEVOTE9H
X0dfRVJSICJGYWlsZWQgdG8gYWRkIGEgcGFnZSB0byByZXBsYWNlIgotICAgICAgICAgICAgICAg
IiBEb20lZCdzIHNoYXJlZF9pbmZvIGZyYW1lICVseFxuIiwgZC0+ZG9tYWluX2lkLCBnZm4pOwor
ICAgICAgICBwcmludGsoWEVOTE9HX0dfRVJSCisgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGFk
ZCBhIHBhZ2UgdG8gcmVwbGFjZSAlcGQncyBzaGFyZWRfaW5mbyBmcmFtZSAlIlBSSV9nZm4iXG4i
LAorICAgICAgICAgICAgICAgZCwgZ2ZuX3goZ2ZuKSk7CiAgICAgICAgIGZyZWVfZG9taGVhcF9w
YWdlKG5ld19wYWdlKTsKICAgICB9CiAgZXhpdF9wdXRfZ2ZuOgotICAgIHB1dF9nZm4oZCwgZ2Zu
KTsKKyAgICBwdXRfZ2ZuKGQsIGdmbl94KGdmbikpOwogIGV4aXRfcHV0X3BhZ2U6CiAgICAgcHV0
X3BhZ2UocGFnZSk7CiAKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS5jIGIveGVuL2FyY2gv
eDg2L21tLmMKaW5kZXggNDVmYWRiYWI2MS4uOTg3ODQ1M2ViMCAxMDA2NDQKLS0tIGEveGVuL2Fy
Y2gveDg2L21tLmMKKysrIGIveGVuL2FyY2gveDg2L21tLmMKQEAgLTI2MzIsMTkgKzI2MzIsMjAg
QEAgaW50IGZyZWVfcGFnZV90eXBlKHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UsIHVuc2lnbmVkIGxv
bmcgdHlwZSwKIHsKICNpZmRlZiBDT05GSUdfUFYKICAgICBzdHJ1Y3QgZG9tYWluICpvd25lciA9
IHBhZ2VfZ2V0X293bmVyKHBhZ2UpOwotICAgIHVuc2lnbmVkIGxvbmcgZ21mbjsKICAgICBpbnQg
cmM7CiAKICAgICBpZiAoIGxpa2VseShvd25lciAhPSBOVUxMKSAmJiB1bmxpa2VseShwYWdpbmdf
bW9kZV9lbmFibGVkKG93bmVyKSkgKQogICAgIHsKKyAgICAgICAgZ2ZuX3QgZ2ZuOworCiAgICAg
ICAgIC8qIEEgcGFnZSB0YWJsZSBpcyBkaXJ0aWVkIHdoZW4gaXRzIHR5cGUgY291bnQgYmVjb21l
cyB6ZXJvLiAqLwogICAgICAgICBwYWdpbmdfbWFya19kaXJ0eShvd25lciwgcGFnZV90b19tZm4o
cGFnZSkpOwogCiAgICAgICAgIEFTU0VSVCghc2hhZG93X21vZGVfcmVmY291bnRzKG93bmVyKSk7
CiAKLSAgICAgICAgZ21mbiA9IG1mbl90b19nbWZuKG93bmVyLCBtZm5feChwYWdlX3RvX21mbihw
YWdlKSkpOwotICAgICAgICBpZiAoIFZBTElEX00yUChnbWZuKSApCi0gICAgICAgICAgICBzaGFk
b3dfcmVtb3ZlX2FsbF9zaGFkb3dzKG93bmVyLCBfbWZuKGdtZm4pKTsKKyAgICAgICAgZ2ZuID0g
bWZuX3RvX2dmbihvd25lciwgcGFnZV90b19tZm4ocGFnZSkpOworICAgICAgICBpZiAoIFZBTElE
X00yUChnZm5feChnZm4pKSApCisgICAgICAgICAgICBzaGFkb3dfcmVtb3ZlX2FsbF9zaGFkb3dz
KG93bmVyLCBfbWZuKGdmbl94KGdmbikpKTsKICAgICB9CiAKICAgICBpZiAoICEodHlwZSAmIFBH
VF9wYXJ0aWFsKSApCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvcHYvZW11bC1wcml2LW9wLmMg
Yi94ZW4vYXJjaC94ODYvcHYvZW11bC1wcml2LW9wLmMKaW5kZXggYWY3NGY1MGRjOC4uZTk3NmZm
OTg5OCAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L3B2L2VtdWwtcHJpdi1vcC5jCisrKyBiL3hl
bi9hcmNoL3g4Ni9wdi9lbXVsLXByaXYtb3AuYwpAQCAtNzEyLDcgKzcxMiw3IEBAIHN0YXRpYyBp
bnQgcmVhZF9jcih1bnNpZ25lZCBpbnQgcmVnLCB1bnNpZ25lZCBsb25nICp2YWwsCiAgICAgICAg
IGlmICggIWlzX3B2XzMyYml0X2RvbWFpbihjdXJyZCkgKQogICAgICAgICB7CiAgICAgICAgICAg
ICBtZm4gPSBwYWdldGFibGVfZ2V0X21mbihjdXJyLT5hcmNoLmd1ZXN0X3RhYmxlKTsKLSAgICAg
ICAgICAgICp2YWwgPSB4ZW5fcGZuX3RvX2NyMyhtZm5fdG9fZ21mbihjdXJyZCwgbWZuX3gobWZu
KSkpOworICAgICAgICAgICAgKnZhbCA9IHhlbl9wZm5fdG9fY3IzKGdmbl94KG1mbl90b19nZm4o
Y3VycmQsIG1mbikpKTsKICAgICAgICAgfQogICAgICAgICBlbHNlCiAgICAgICAgIHsKQEAgLTcy
MSw3ICs3MjEsNyBAQCBzdGF0aWMgaW50IHJlYWRfY3IodW5zaWduZWQgaW50IHJlZywgdW5zaWdu
ZWQgbG9uZyAqdmFsLAogCiAgICAgICAgICAgICBtZm4gPSBsNGVfZ2V0X21mbigqcGw0ZSk7CiAg
ICAgICAgICAgICB1bm1hcF9kb21haW5fcGFnZShwbDRlKTsKLSAgICAgICAgICAgICp2YWwgPSBj
b21wYXRfcGZuX3RvX2NyMyhtZm5fdG9fZ21mbihjdXJyZCwgbWZuX3gobWZuKSkpOworICAgICAg
ICAgICAgKnZhbCA9IGNvbXBhdF9wZm5fdG9fY3IzKGdmbl94KG1mbl90b19nZm4oY3VycmQsIG1m
bikpKTsKICAgICAgICAgfQogICAgICAgICAvKiBQVHMgc2hvdWxkIG5vdCBiZSBzaGFyZWQgKi8K
ICAgICAgICAgQlVHX09OKHBhZ2VfZ2V0X293bmVyKG1mbl90b19wYWdlKG1mbikpID09IGRvbV9j
b3cpOwpkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gveDg2L2lvbW11LmMgYi94
ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC94ODYvaW9tbXUuYwppbmRleCAwMzRhYzkwM2RkLi43YTc1
NmVmMTllIDEwMDY0NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC94ODYvaW9tbXUuYwor
KysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC94ODYvaW9tbXUuYwpAQCAtOTIsMTUgKzkyLDE3
IEBAIGludCBhcmNoX2lvbW11X3BvcHVsYXRlX3BhZ2VfdGFibGUoc3RydWN0IGRvbWFpbiAqZCkK
ICAgICAgICAgaWYgKCBpc19odm1fZG9tYWluKGQpIHx8CiAgICAgICAgICAgICAocGFnZS0+dS5p
bnVzZS50eXBlX2luZm8gJiBQR1RfdHlwZV9tYXNrKSA9PSBQR1Rfd3JpdGFibGVfcGFnZSApCiAg
ICAgICAgIHsKLSAgICAgICAgICAgIHVuc2lnbmVkIGxvbmcgbWZuID0gbWZuX3gocGFnZV90b19t
Zm4ocGFnZSkpOwotICAgICAgICAgICAgdW5zaWduZWQgbG9uZyBnZm4gPSBtZm5fdG9fZ21mbihk
LCBtZm4pOworICAgICAgICAgICAgbWZuX3QgbWZuID0gcGFnZV90b19tZm4ocGFnZSk7CisgICAg
ICAgICAgICBnZm5fdCBnZm4gPSBtZm5fdG9fZ2ZuKGQsIG1mbik7CiAgICAgICAgICAgICB1bnNp
Z25lZCBpbnQgZmx1c2hfZmxhZ3MgPSAwOwogCi0gICAgICAgICAgICBpZiAoIGdmbiAhPSBnZm5f
eChJTlZBTElEX0dGTikgKQorICAgICAgICAgICAgaWYgKCAhZ2ZuX2VxKGdmbiwgSU5WQUxJRF9H
Rk4pICkKICAgICAgICAgICAgIHsKLSAgICAgICAgICAgICAgICBBU1NFUlQoIShnZm4gPj4gREVG
QVVMVF9ET01BSU5fQUREUkVTU19XSURUSCkpOwotICAgICAgICAgICAgICAgIEJVR19PTihTSEFS
RURfTTJQKGdmbikpOwotICAgICAgICAgICAgICAgIHJjID0gaW9tbXVfbWFwKGQsIF9kZm4oZ2Zu
KSwgX21mbihtZm4pLCBQQUdFX09SREVSXzRLLAorICAgICAgICAgICAgICAgIGRmbl90IGRmbiA9
IF9kZm4oZ2ZuX3goZ2ZuKSk7CisKKyAgICAgICAgICAgICAgICBBU1NFUlQoIShnZm5feChnZm4p
ID4+IERFRkFVTFRfRE9NQUlOX0FERFJFU1NfV0lEVEgpKTsKKyAgICAgICAgICAgICAgICBCVUdf
T04oU0hBUkVEX00yUChnZm5feChnZm4pKSk7CisgICAgICAgICAgICAgICAgcmMgPSBpb21tdV9t
YXAoZCwgZGZuLCBtZm4sIFBBR0VfT1JERVJfNEssCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgSU9NTVVGX3JlYWRhYmxlIHwgSU9NTVVGX3dyaXRhYmxlLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICZmbHVzaF9mbGFncyk7CiAKQEAgLTExOCw3ICsxMjAsNyBAQCBpbnQg
YXJjaF9pb21tdV9wb3B1bGF0ZV9wYWdlX3RhYmxlKHN0cnVjdCBkb21haW4gKmQpCiAgICAgICAg
ICAgICAgICAgICAgICAoKHBhZ2UtPnUuaW51c2UudHlwZV9pbmZvICYgUEdUX3R5cGVfbWFzaykg
IT0KICAgICAgICAgICAgICAgICAgICAgICBQR1Rfd3JpdGFibGVfcGFnZSkgKQogICAgICAgICAg
ICAgICAgIHsKLSAgICAgICAgICAgICAgICAgICAgcmMgPSBpb21tdV91bm1hcChkLCBfZGZuKGdm
biksIFBBR0VfT1JERVJfNEssICZmbHVzaF9mbGFncyk7CisgICAgICAgICAgICAgICAgICAgIHJj
ID0gaW9tbXVfdW5tYXAoZCwgZGZuLCBQQUdFX09SREVSXzRLLCAmZmx1c2hfZmxhZ3MpOwogICAg
ICAgICAgICAgICAgICAgICAvKiBJZiB0aGUgdHlwZSBjaGFuZ2VkIHlldCBhZ2Fpbiwgc2ltcGx5
IGZvcmNlIGEgcmV0cnkuICovCiAgICAgICAgICAgICAgICAgICAgIGlmICggIXJjICYmICgocGFn
ZS0+dS5pbnVzZS50eXBlX2luZm8gJiBQR1RfdHlwZV9tYXNrKSA9PQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgUEdUX3dyaXRhYmxlX3BhZ2UpICkKLS0gCjIuMTEuMAoKCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

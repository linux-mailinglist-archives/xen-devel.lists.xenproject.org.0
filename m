Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7FAF0C452C
	for <lists+xen-devel@lfdr.de>; Wed,  2 Oct 2019 02:53:39 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iFSqx-0006Z4-2Y; Wed, 02 Oct 2019 00:50:51 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=7bij=X3=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iFSqv-0006Yz-C8
 for xen-devel@lists.xenproject.org; Wed, 02 Oct 2019 00:50:49 +0000
X-Inumbo-ID: ac90d686-e4ae-11e9-970a-12813bfff9fa
Received: from mail.kernel.org (unknown [198.145.29.99])
 by localhost (Halon) with ESMTPS
 id ac90d686-e4ae-11e9-970a-12813bfff9fa;
 Wed, 02 Oct 2019 00:50:48 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 8D37D2070B;
 Wed,  2 Oct 2019 00:50:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1569977447;
 bh=BDmBI4zhlFESPqzDtN7TB+ep3qAsy0NxNEH46QINYo8=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=jh/GyDsA3I2TaOTjmmBSYwB6SG7T13cOjp0ARbexhUlQk9oN1Tj8TeDmWxurtHdvr
 Pxk+do/dbAc8Pw/ZeIPXLqjrlWbxju/3Dgc0Ja4MsaBxX1J+Xk9DUbun0mEwLoI4Ps
 Z1JMLpgm2vAMF/Popse2GuWOwyyl9hhpNqyRtoB4=
Date: Tue, 1 Oct 2019 17:50:47 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <20190926183808.11630-11-julien.grall@arm.com>
Message-ID: <alpine.DEB.2.21.1910011741250.2943@sstabellini-ThinkPad-T480s>
References: <20190926183808.11630-1-julien.grall@arm.com>
 <20190926183808.11630-11-julien.grall@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH RFC for-4.13 10/10] xen/arm64: entry: Ensure
 the guest state is synced when receiving a vSError
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>, andrii.anisov@gmail.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCAyNiBTZXAgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IEF0IHRoZSBtb21lbnQs
IHdoZW4gYSBTRXJyb3IgaXMgcmVjZWl2ZWQgd2hpbGUgY2hlY2tpbmcgZm9yIGEgcGVuZGluZwo+
IG9uZSwgd2Ugd2lsbCBza2lwIHRoZSBoYW5kbGluZyB0aGUgaW5pdGlhbCBleGNlcHRpb24uCj4g
Cj4gVGhpcyBpbmNsdWRlcyBjYWxsIHRvIGV4aXRfZnJvbV9ndWVzdHssIF9ub2lycX0gdGhhdCBp
cyB1c2VkIHRvCj4gc3luY2hyb25pemUgcGFydCBvZiB0aGUgZ3Vlc3Qgc3RhdGUgd2l0aCB0aGUg
aW50ZXJuYWwgcmVwcmVzZW50YXRpb24uCj4gSG93ZXZlciwgd2Ugc3RpbGwgY2FsbCBsZWF2ZV9o
eXBlcnZpc29yX3RhaWwoKSB3aGljaCBpcyB1c2VkIGZvciBwcmVlbXB0aW5nCj4gdGhlIGd1ZXN0
IGFuZCBzeW5jaHJvbml6aW5nIGJhY2sgcGFydCBvZiB0aGUgZ3Vlc3Qgc3RhdGUuCgpJIHNlY29u
ZCBWb2xvZHlteXIncyBjb21tZW50IGFib3V0IGV4aXRfZnJvbV9ndWVzdCogYmVpbmcgdGhlIHdy
b25nCm5hbWUuCgoKPiBleGl0X2Zyb21fZ3Vlc3R7LCBfbm9pcnF9IHdvcmtzIGluIHBhaXIgd2l0
aCBsZWF2ZV9oeXBlcnZpc29yX3RhaWwoKSwgc28KPiBza2lwcGluZyBpZiBmb3JtZXIgbWF5IHJl
c3VsdCB0byBhIGxvc3Mgb2Ygc29tZSBwYXJ0IG9mICBndWVzdCBzdGF0ZS4KPiBBbiBleGFtcGxl
IGlzIHRoZSBuZXcgdkdJQyB3aGljaCB3aWxsIHNhdmUgdGhlIHN0YXRlIG9mIHRoZSBMUlMgb24g
ZXhpdAo+IGZyb20gdGhlIGd1ZXN0IGFuZCByZXdyaXRlIGFsbCBvZiB0aGVtIG9uIGVudHJ5IHRv
IHRoZSBndWVzdC4KPiAKPiBGb3Igbm93LCBjYWxsaW5nIGxlYXZlX2h5cGVydmlzb3JfdGFpbCgp
IGlzIG5vdCBuZWNlc3Nhcnkgd2hlbiBpbmplY3RpbmcKPiBhIHZTRXJyb3IgdG8gdGhlIGd1ZXN0
LiBCdXQgYXMgdGhlIHBhdGggaXMgc3ByZWFkIGFjY3Jvc3MgbXVsdGlwbGUgZmlsZSwKPiBpdCBp
cyBoYXJkIHRvIGVuZm9yY2UgdGhhdCBmb3IgdGhlIGZ1dHVyZSAoc29tZW9uZSB3ZSBtYXkgd2Fu
dCB0byBjcmFzaCB0aGUKPiBkb21haW4pLiBUaGVyZWZvcmUgaXQgaXMgYmVzdCB0byBjYWxsIGV4
aXRfZnJvbV9ndWVzdHssIF9ub2lycX0gaW4gdGhlCj4gdlNFcnJvciBwYXRoIGFzIHdlbGwuCj4g
Cj4gTm90ZSB0aGF0IHRoZSByZXR1cm4gdmFsdWUgb2YgY2hlY2tfcGVuZGluZ192c2Vycm9yIGlz
IG5vdyBzZXQgaW4geDE5Cj4gaW5zdGVhZCBvZiB4MC4gVGhpcyBpcyBiZWNhdXNlIHdlIHdhbnQg
dG8ga2VlcCB0aGUgdmFsdWUgYWNyb3NzIGNhbGwgdG8KPiBDLWZ1bmN0aW9uIGFuZCB4MCwgdW5s
aWtlIHgxOSwgd2lsbCBub3QgYmUgc2F2ZWQgYnkgdGhlIGNhbGxlZS4KPiAKPiBTaWduZWQtb2Zm
LWJ5OiBKdWxpZW4gR3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29tPgo+IAo+IC0tLQo+IAo+IEkg
YW0gbm90IGF3YXJlIG9mIGFueSBpc3N1ZXMgb3RoZXIgdGhhbiB3aXRoIHRoZSBuZXcgdkdJQy4g
QnV0IEkKPiBoYXZlbid0IGxvb2tlZCBoYXJkIGVub3VnaCBzbyBJIHRoaW5rIGl0IHdvdWxkIGJl
IHdvcnRoIHRvIHRyeSB0byBmaXggaXQKPiBmb3IgWGVuIDQuMTMuCj4gLS0tCj4gIHhlbi9hcmNo
L2FybS9hcm02NC9lbnRyeS5TIHwgMjEgKysrKysrKysrKysrKystLS0tLS0tCj4gIDEgZmlsZSBj
aGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQg
YS94ZW4vYXJjaC9hcm0vYXJtNjQvZW50cnkuUyBiL3hlbi9hcmNoL2FybS9hcm02NC9lbnRyeS5T
Cj4gaW5kZXggOTFjZjZlZTZmNC4uZjUzNTAyNDdlMSAxMDA2NDQKPiAtLS0gYS94ZW4vYXJjaC9h
cm0vYXJtNjQvZW50cnkuUwo+ICsrKyBiL3hlbi9hcmNoL2FybS9hcm02NC9lbnRyeS5TCj4gQEAg
LTE2OCwxMSArMTY4LDEzIEBACj4gICAgICAgICAgLyoKPiAgICAgICAgICAgKiBUaGUgdlNFcnJv
ciB3aWxsIGJlIGNoZWNrZWQgd2hpbGUgU0tJUF9TWU5DSFJPTklaRV9TRVJST1JfRU5UUllfRVhJ
VAo+ICAgICAgICAgICAqIGlzIG5vdCBzZXQuIElmIGEgdlNFcnJvciB0b29rIHBsYWNlLCB0aGUg
aW5pdGlhbCBleGNlcHRpb24gd2lsbCBiZQo+IC0gICAgICAgICAqIHNraXBwZWQuIEV4aXQgQVNB
UAo+ICsgICAgICAgICAqIHNraXBwZWQuCj4gKyAgICAgICAgICoKPiArICAgICAgICAgKiBIb3dl
dmVyLCB3ZSBzdGlsbCBuZWVkIHRvIGNhbGwgZXhpdF9mcm9tX2d1ZXN0eyxfbm9pcnF9IGFzIHRo
ZQo+ICsgICAgICAgICAqIHJldHVybiBwYXRoIHRvIHRoZSBndWVzdCBtYXkgcmVseSBvbiBzdGF0
ZSBzYXZlZCBieSB0aGVtLgo+ICAgICAgICAgICAqLwo+ICAgICAgICAgIGFsdGVybmF0aXZlX2lm
IFNLSVBfU1lOQ0hST05JWkVfU0VSUk9SX0VOVFJZX0VYSVQKPiAgICAgICAgICBibCAgICAgIGNo
ZWNrX3BlbmRpbmdfdnNlcnJvcgo+IC0gICAgICAgIGNibnogICAgeDAsIDFmCj4gICAgICAgICAg
YWx0ZXJuYXRpdmVfZWxzZV9ub3BfZW5kaWYKPiAgCj4gICAgICAgICAgbW92ICAgICB4MCwgc3AK
PiBAQCAtMTgwLDYgKzE4MiwxMSBAQAo+ICAgICAgICAgIG1zciAgICAgZGFpZmNsciwgXGlmbGFn
cwo+ICAgICAgICAgIG1vdiAgICAgeDAsIHNwCj4gICAgICAgICAgYmwgICAgICBlbnRlcl9oeXBl
cnZpc29yX2Zyb21fZ3Vlc3QKPiArCj4gKyAgICAgICAgYWx0ZXJuYXRpdmVfaWYgU0tJUF9TWU5D
SFJPTklaRV9TRVJST1JfRU5UUllfRVhJVAo+ICsgICAgICAgIGNibnogICAgeDE5LCAxZgo+ICsg
ICAgICAgIGFsdGVybmF0aXZlX2Vsc2Vfbm9wX2VuZGlmCgpJIGxpa2UgdGhlIGlkZWEgb2YgYWx3
YXlzIGNhbGxpbmcgZW50ZXJfaHlwZXJ2aXNvcl9mcm9tX2d1ZXN0KF9wcmVpcnEpCmV2ZW4gd2hl
biB3ZSBhcmUgYWJvdXQgdG8gaW5qZWN0IGEgU0VSUk9SIGludG8gdGhlIGd1ZXN0LiBJdCBpcyB3
b3J0aApub3RpbmcgdGhhdCB3aXRoIHRoaXMgcGF0Y2ggdGhlIGd1ZXN0LXJlbGF0ZWQgU0VSUk9S
IHdvdWxkIHN0aWxsIGdldApkZWxpdmVyZWQgKGR1ZSB0byB0aGUgY2FsbCB0byBjaGVja19wZW5k
aW5nX3ZzZXJyb3IpIGJlZm9yZSB0aGUgZ3Vlc3QKc3RhdGUgaXMgc2F2ZWQgYnkgZW50ZXJfaHlw
ZXJ2aXNvcl9mcm9tX2d1ZXN0KF9wcmVpcnEpLiBTbyBpdCBpcyBtb3JlCmxpa2UgdGhlIGZvbGxv
d2luZyByaWdodD8KCi0gZW50ZXIgaHlwZXJ2aXNvciBmcm9tIGd1ZXN0Ci0gZ3Vlc3RfdmVjdG9y
IG1hY3JvCi0gY2hlY2tfcGVuZGluZ192c2Vycm9yCi0gU0VSUk9SIGlzIGRlbGl2ZXJlZAotIGRv
X3RyYXBfaHlwX3NlcnJvcgotIGluamVjdF92YWJ0X2V4Y2VwdGlvbgotIGJhY2sgdG8gZ3Vlc3Rf
dmVjdG9yIG1hY3JvCi0gY2FsbCBlbnRlcl9oeXBlcnZpc29yX2Zyb21fZ3Vlc3RfcHJlaXJxICYg
ZW50ZXJfaHlwZXJ2aXNvcl9mcm9tX2d1ZXN0Ci0gbGVhdmVfaHlwZXJ2aXNvcl90YWlsCgpXaGlj
aCBpcyBiZXR0ZXIgdGhhbiB3aGF0IHdlIHdvdWxkIGhhdmUgd2l0aG91dCB0aGUgcGF0Y2gsIGJ1
dCBub3Qgd2hhdApvbmUgd291bGQgZXhwZWN0LiBXb3VsZCB5b3UgYmUgdXAgZm9yIGFkZGluZyBh
IGluLWNvZGUgY29tbWVudCB0aGF0CmRlc2NyaWJlcyB0aGUgc2VxdWVuY2UsIHRvIGNsYXJpZnkg
dGhpbmdzPwoKCgo+ICAgICAgICAgIG1vdiAgICAgeDAsIHNwCj4gICAgICAgICAgYmwgICAgICBk
b190cmFwX1x0cmFwCj4gIDE6Cj4gQEAgLTM4Myw5ICszOTAsOSBAQCByZXR1cm5fZnJvbV90cmFw
Ogo+ICAvKgo+ICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2hlY2sgcGVuZGluZyB2aXJ0
dWFsIFNFcnJvciBpbiB0aGUgZ2FwIG9mCj4gICAqIEVMMSAtPiBFTDIgd29ybGQgc3dpdGNoLgo+
IC0gKiBUaGUgeDAgcmVnaXN0ZXIgd2lsbCBiZSB1c2VkIHRvIGluZGljYXRlIHRoZSByZXN1bHRz
IG9mIGRldGVjdGlvbi4KPiAtICogeDAgLS0gTm9uLXplcm8gaW5kaWNhdGVzIGEgcGVuZGluZyB2
aXJ0dWFsIFNFcnJvciB0b29rIHBsYWNlLgo+IC0gKiB4MCAtLSBaZXJvIGluZGljYXRlcyBubyBw
ZW5kaW5nIHZpcnR1YWwgU0Vycm9yIHRvb2sgcGxhY2UuCj4gKyAqIFRoZSByZWdpc3RlciB4MTkg
d2lsbCBiZSB1c2VkIHRvIGluZGljYXRlIHRoZSByZXN1bHRzIG9mIGRldGVjdGlvbi4KPiArICog
eDE5IC0tIE5vbi16ZXJvIGluZGljYXRlcyBhIHBlbmRpbmcgdmlydHVhbCBTRXJyb3IgdG9vayBw
bGFjZS4KPiArICogeDE5IC0tIFplcm8gaW5kaWNhdGVzIG5vIHBlbmRpbmcgdmlydHVhbCBTRXJy
b3IgdG9vayBwbGFjZS4KPiAgICovCj4gIGNoZWNrX3BlbmRpbmdfdnNlcnJvcjoKPiAgICAgICAg
ICAvKgo+IEBAIC00MzIsOSArNDM5LDkgQEAgYWJvcnRfZ3Vlc3RfZXhpdF9lbmQ6Cj4gIAo+ICAg
ICAgICAgIC8qCj4gICAgICAgICAgICogTm90IGVxdWFsLCB0aGUgcGVuZGluZyBTRXJyb3IgZXhj
ZXB0aW9uIHRvb2sgcGxhY2UsIHNldAo+IC0gICAgICAgICAqIHgwIHRvIG5vbi16ZXJvLgo+ICsg
ICAgICAgICAqIHgxOSB0byBub24temVyby4KPiAgICAgICAgICAgKi8KPiAtICAgICAgICBjc2V0
ICAgIHgwLCBuZQo+ICsgICAgICAgIGNzZXQgICAgeDE5LCBuZQo+ICAKPiAgICAgICAgICByZXQK
PiAgCj4gLS0gCj4gMi4xMS4wCj4gCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5w
cm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8v
eGVuLWRldmVs

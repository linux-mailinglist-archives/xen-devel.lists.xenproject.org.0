Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3BC7FB04C4
	for <lists+xen-devel@lfdr.de>; Wed, 11 Sep 2019 22:10:54 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i88ru-00034e-KV; Wed, 11 Sep 2019 20:05:34 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=L0xq=XG=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1i88rt-000346-5Y
 for xen-devel@lists.xenproject.org; Wed, 11 Sep 2019 20:05:33 +0000
X-Inumbo-ID: 784cd580-d4cf-11e9-83dd-12813bfff9fa
Received: from esa1.hc3370-68.iphmx.com (unknown [216.71.145.142])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 784cd580-d4cf-11e9-83dd-12813bfff9fa;
 Wed, 11 Sep 2019 20:05:15 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=citrix.com; s=securemail; t=1568232316;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=GifxMjGTHY9r+VAau+BqTozFP4UmkZ1smS1EjoSb2Gk=;
 b=d9V7Nu+PqRC5OS7q+sdlsF1x3Tfi7NadfjCP2Gq6axH1xOUMJuk7WsGM
 FSxF42PBbtYhcp/dKyMYBHECHRXcv6+sJrClcahhK5NidNjx60rk7Oa5t
 NzadMKAEkktSWwWoNLutgXsFeeU/IbNIcGOEqZsgTN8T4esgdDSKtwoSH Y=;
Authentication-Results: esa1.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@mail.citrix.com
Received-SPF: None (esa1.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=162.221.158.21; receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa1.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 162.221.158.21 as
 permitted sender) identity=mailfrom;
 client-ip=162.221.158.21; receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:162.221.158.21 ip4:162.221.156.83 ~all"
Received-SPF: None (esa1.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@mail.citrix.com) identity=helo;
 client-ip=162.221.158.21; receiver=esa1.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@mail.citrix.com";
 x-conformance=sidf_compatible
IronPort-SDR: QJ3TOWKBR+GY3A4AqH0bXAC9iMRHXNL4CY/sA6REK4lbe+9+XSgoSTMzQI3OPh9WJPCztASYHY
 zGnJ9fI4ETj2nzHk7Hegtb5pekW7+PZcRYfgfzLSaWutlfKaiMg+1RHakaVJOS0MnPg/8etmr9
 oabfvsVI+5bwtsUBbzh5b3FSXyIaxsjBoALRh20RcWWVJ1ACszMF5Dimzc7hrdpqr0Cvy/5H0d
 CC1dOKA90IFxHfNHb8Nu1BmG9GVObaeOWBgrnQGbcCFtv9MnM2Z6o67LnGvqRm2bm066HXjcnV
 5jw=
X-SBRS: 2.7
X-MesageID: 5506248
X-Ironport-Server: esa1.hc3370-68.iphmx.com
X-Remote-IP: 162.221.158.21
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.64,494,1559534400"; 
   d="scan'208";a="5506248"
From: Andrew Cooper <andrew.cooper3@citrix.com>
To: Xen-devel <xen-devel@lists.xenproject.org>
Date: Wed, 11 Sep 2019 21:05:03 +0100
Message-ID: <20190911200504.5693-8-andrew.cooper3@citrix.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190911200504.5693-1-andrew.cooper3@citrix.com>
References: <20190911200504.5693-1-andrew.cooper3@citrix.com>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH 7/8] x86/domctl: Drop XEN_DOMCTL_set_cpuid
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 Daniel De Graaf <dgdegra@tycho.nsa.gov>, Wei Liu <wl@xen.org>,
 Jan Beulich <JBeulich@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

V2l0aCB0aGUgZmluYWwgdXNlcnMgbW92ZWQgb3ZlciB0byB1c2luZyBYRU5fRE9NQ1RMX3NldF9j
cHVtc3JfcG9saWN5LCBkcm9wCnRoaXMgZG9tY3RsIGFuZCBhc3NvY2lhdGVkIGluZnJhc3RydWN0
dXJlLgoKUmVuYW1lIHRoZSBwcmVleGlzdGluZyBzZXRfY3B1aWQgWFNNIHZlY3RvciB0byBzZXRf
Y3B1X3BvbGljeSwgbm93IHRoYXQgaXQgaXMKYmFjayB0byBoYXZpbmcgYSBzaW5nbGUgdXNlci4K
ClNpZ25lZC1vZmYtYnk6IEFuZHJldyBDb29wZXIgPGFuZHJldy5jb29wZXIzQGNpdHJpeC5jb20+
Ci0tLQpDQzogSmFuIEJldWxpY2ggPEpCZXVsaWNoQHN1c2UuY29tPgpDQzogV2VpIExpdSA8d2xA
eGVuLm9yZz4KQ0M6IFJvZ2VyIFBhdSBNb25uw6kgPHJvZ2VyLnBhdUBjaXRyaXguY29tPgpDQzog
RGFuaWVsIERlIEdyYWFmIDxkZ2RlZ3JhQHR5Y2hvLm5zYS5nb3Y+Ci0tLQogdG9vbHMvZmxhc2sv
cG9saWN5L21vZHVsZXMvZG9tMC50ZSAgfCAgIDIgKy0KIHRvb2xzL2ZsYXNrL3BvbGljeS9tb2R1
bGVzL3hlbi5pZiAgIHwgICAyICstCiB4ZW4vYXJjaC94ODYvZG9tY3RsLmMgICAgICAgICAgICAg
ICB8IDEwMSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHhlbi9pbmNsdWRl
L3B1YmxpYy9kb21jdGwuaCAgICAgICAgIHwgIDExICstLS0KIHhlbi94c20vZmxhc2svaG9va3Mu
YyAgICAgICAgICAgICAgIHwgICAzICstCiB4ZW4veHNtL2ZsYXNrL3BvbGljeS9hY2Nlc3NfdmVj
dG9ycyB8ICAgMyArLQogNiBmaWxlcyBjaGFuZ2VkLCA1IGluc2VydGlvbnMoKyksIDExNyBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9kb20wLnRl
IGIvdG9vbHMvZmxhc2svcG9saWN5L21vZHVsZXMvZG9tMC50ZQppbmRleCA5OTcwZjlkYzA4Li4y
NzJmNmE0Zjc1IDEwMDY0NAotLS0gYS90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy9kb20wLnRl
CisrKyBiL3Rvb2xzL2ZsYXNrL3BvbGljeS9tb2R1bGVzL2RvbTAudGUKQEAgLTM4LDcgKzM4LDcg
QEAgYWxsb3cgZG9tMF90IGRvbTBfdDpkb21haW4gewogCWdldHBvZHRhcmdldCBzZXRwb2R0YXJn
ZXQgc2V0X21pc2NfaW5mbyBzZXRfdmlycV9oYW5kbGVyCiB9OwogYWxsb3cgZG9tMF90IGRvbTBf
dDpkb21haW4yIHsKLQlzZXRfY3B1aWQgZ2V0dHNjIHNldHRzYyBzZXRzY2hlZHVsZXIgc2V0X3Zu
dW1haW5mbworCXNldF9jcHVfcG9saWN5IGdldHRzYyBzZXR0c2Mgc2V0c2NoZWR1bGVyIHNldF92
bnVtYWluZm8KIAlnZXRfdm51bWFpbmZvIHBzcl9jbXRfb3AgcHNyX2FsbG9jIGdldF9jcHVfcG9s
aWN5CiB9OwogYWxsb3cgZG9tMF90IGRvbTBfdDpyZXNvdXJjZSB7IGFkZCByZW1vdmUgfTsKZGlm
ZiAtLWdpdCBhL3Rvb2xzL2ZsYXNrL3BvbGljeS9tb2R1bGVzL3hlbi5pZiBiL3Rvb2xzL2ZsYXNr
L3BvbGljeS9tb2R1bGVzL3hlbi5pZgppbmRleCBkZTVmYjMzMWJmLi44ZWIyMjkzYTUyIDEwMDY0
NAotLS0gYS90b29scy9mbGFzay9wb2xpY3kvbW9kdWxlcy94ZW4uaWYKKysrIGIvdG9vbHMvZmxh
c2svcG9saWN5L21vZHVsZXMveGVuLmlmCkBAIC01MCw3ICs1MCw3IEBAIGRlZmluZShgY3JlYXRl
X2RvbWFpbl9jb21tb24nLCBgCiAJCQlnZXRkb21haW5pbmZvIGh5cGVyY2FsbCBzZXR2Y3B1Y29u
dGV4dCBnZXRzY2hlZHVsZXIKIAkJCWdldHZjcHVpbmZvIGdldGFkZHJzaXplIGdldGFmZmluaXR5
IHNldGFmZmluaXR5CiAJCQlzZXR0aW1lIHNldGRvbWFpbmhhbmRsZSBnZXR2Y3B1Y29udGV4dCBz
ZXRfbWlzY19pbmZvIH07Ci0JYWxsb3cgJDEgJDI6ZG9tYWluMiB7IHNldF9jcHVpZCBzZXR0c2Mg
c2V0c2NoZWR1bGVyIHNldGNsYWltCisJYWxsb3cgJDEgJDI6ZG9tYWluMiB7IHNldF9jcHVfcG9s
aWN5IHNldHRzYyBzZXRzY2hlZHVsZXIgc2V0Y2xhaW0KIAkJCXNldF92bnVtYWluZm8gZ2V0X3Zu
dW1haW5mbyBjYWNoZWZsdXNoCiAJCQlwc3JfY210X29wIHBzcl9hbGxvYyBzb2Z0X3Jlc2V0CiAJ
CQlyZXNvdXJjZV9tYXAgZ2V0X2NwdV9wb2xpY3kgfTsKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9kb21jdGwuYyBiL3hlbi9hcmNoL3g4Ni9kb21jdGwuYwppbmRleCA5OWJjMmZiMTBkLi5lYzUw
YTg4MTU2IDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvZG9tY3RsLmMKKysrIGIveGVuL2FyY2gv
eDg2L2RvbWN0bC5jCkBAIC0yMDYsOTQgKzIwNiw2IEBAIHN0YXRpYyB2b2lkIGRvbWFpbl9jcHVf
cG9saWN5X2NoYW5nZWQoc3RydWN0IGRvbWFpbiAqZCkKICAgICB9CiB9CiAKLXN0YXRpYyBpbnQg
dXBkYXRlX2RvbWFpbl9jcHVpZF9pbmZvKHN0cnVjdCBkb21haW4gKmQsCi0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgeGVuX2RvbWN0bF9jcHVpZCAqY3Rs
KQotewotICAgIHN0cnVjdCBjcHVpZF9wb2xpY3kgKnAgPSBkLT5hcmNoLmNwdWlkOwotICAgIGNv
bnN0IHN0cnVjdCBjcHVpZF9sZWFmIGxlYWYgPSB7IGN0bC0+ZWF4LCBjdGwtPmVieCwgY3RsLT5l
Y3gsIGN0bC0+ZWR4IH07Ci0KLSAgICAvKgotICAgICAqIFNraXAgdXBkYXRlIGZvciBsZWF2ZXMg
d2UgZG9uJ3QgY2FyZSBhYm91dCwgdG8gYXZvaWQgdGhlIG92ZXJoZWFkIG9mCi0gICAgICogcmVj
YWxjdWxhdGVfY3B1aWRfcG9saWN5KCkuCi0gICAgICovCi0gICAgc3dpdGNoICggY3RsLT5pbnB1
dFswXSApCi0gICAgewotICAgIGNhc2UgMHgwMDAwMDAwMCAuLi4gQVJSQVlfU0laRShwLT5iYXNp
Yy5yYXcpIC0gMToKLSAgICAgICAgaWYgKCBjdGwtPmlucHV0WzBdID09IDQgJiYKLSAgICAgICAg
ICAgICBjdGwtPmlucHV0WzFdID49IEFSUkFZX1NJWkUocC0+Y2FjaGUucmF3KSApCi0gICAgICAg
ICAgICByZXR1cm4gMDsKLQotICAgICAgICBpZiAoIGN0bC0+aW5wdXRbMF0gPT0gNyAmJgotICAg
ICAgICAgICAgIGN0bC0+aW5wdXRbMV0gPj0gQVJSQVlfU0laRShwLT5mZWF0LnJhdykgKQotICAg
ICAgICAgICAgcmV0dXJuIDA7Ci0KLSAgICAgICAgaWYgKCBjdGwtPmlucHV0WzBdID09IDB4YiAm
JgotICAgICAgICAgICAgIGN0bC0+aW5wdXRbMV0gPj0gQVJSQVlfU0laRShwLT50b3BvLnJhdykg
KQotICAgICAgICAgICAgcmV0dXJuIDA7Ci0KLSAgICAgICAgQlVJTERfQlVHX09OKEFSUkFZX1NJ
WkUocC0+eHN0YXRlLnJhdykgPCAyKTsKLSAgICAgICAgaWYgKCBjdGwtPmlucHV0WzBdID09IFhT
VEFURV9DUFVJRCAmJgotICAgICAgICAgICAgIGN0bC0+aW5wdXRbMV0gIT0gMSApIC8qIEV2ZXJ5
dGhpbmcgZWxzZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQuICovCi0gICAgICAgICAgICByZXR1
cm4gMDsKLSAgICAgICAgYnJlYWs7Ci0KLSAgICBjYXNlIDB4NDAwMDAwMDA6IGNhc2UgMHg0MDAw
MDEwMDoKLSAgICAgICAgLyogT25seSBjYXJlIGFib3V0IHRoZSBtYXhfbGVhZiBsaW1pdC4gKi8K
LQotICAgIGNhc2UgMHg4MDAwMDAwMCAuLi4gMHg4MDAwMDAwMCArIEFSUkFZX1NJWkUocC0+ZXh0
ZC5yYXcpIC0gMToKLSAgICAgICAgYnJlYWs7Ci0KLSAgICBkZWZhdWx0OgotICAgICAgICByZXR1
cm4gMDsKLSAgICB9Ci0KLSAgICAvKiBJbnNlcnQgY3RsIGRhdGEgaW50byBjcHVpZF9wb2xpY3ku
ICovCi0gICAgc3dpdGNoICggY3RsLT5pbnB1dFswXSApCi0gICAgewotICAgIGNhc2UgMHgwMDAw
MDAwMCAuLi4gQVJSQVlfU0laRShwLT5iYXNpYy5yYXcpIC0gMToKLSAgICAgICAgc3dpdGNoICgg
Y3RsLT5pbnB1dFswXSApCi0gICAgICAgIHsKLSAgICAgICAgY2FzZSA0OgotICAgICAgICAgICAg
cC0+Y2FjaGUucmF3W2N0bC0+aW5wdXRbMV1dID0gbGVhZjsKLSAgICAgICAgICAgIGJyZWFrOwot
Ci0gICAgICAgIGNhc2UgNzoKLSAgICAgICAgICAgIHAtPmZlYXQucmF3W2N0bC0+aW5wdXRbMV1d
ID0gbGVhZjsKLSAgICAgICAgICAgIGJyZWFrOwotCi0gICAgICAgIGNhc2UgMHhiOgotICAgICAg
ICAgICAgcC0+dG9wby5yYXdbY3RsLT5pbnB1dFsxXV0gPSBsZWFmOwotICAgICAgICAgICAgYnJl
YWs7Ci0KLSAgICAgICAgY2FzZSBYU1RBVEVfQ1BVSUQ6Ci0gICAgICAgICAgICBwLT54c3RhdGUu
cmF3W2N0bC0+aW5wdXRbMV1dID0gbGVhZjsKLSAgICAgICAgICAgIGJyZWFrOwotCi0gICAgICAg
IGRlZmF1bHQ6Ci0gICAgICAgICAgICBwLT5iYXNpYy5yYXdbY3RsLT5pbnB1dFswXV0gPSBsZWFm
OwotICAgICAgICAgICAgYnJlYWs7Ci0gICAgICAgIH0KLSAgICAgICAgYnJlYWs7Ci0KLSAgICBj
YXNlIDB4NDAwMDAwMDA6Ci0gICAgICAgIHAtPmh2X2xpbWl0ID0gY3RsLT5lYXg7Ci0gICAgICAg
IGJyZWFrOwotCi0gICAgY2FzZSAweDQwMDAwMTAwOgotICAgICAgICBwLT5odjJfbGltaXQgPSBj
dGwtPmVheDsKLSAgICAgICAgYnJlYWs7Ci0KLSAgICBjYXNlIDB4ODAwMDAwMDAgLi4uIDB4ODAw
MDAwMDAgKyBBUlJBWV9TSVpFKHAtPmV4dGQucmF3KSAtIDE6Ci0gICAgICAgIHAtPmV4dGQucmF3
W2N0bC0+aW5wdXRbMF0gLSAweDgwMDAwMDAwXSA9IGxlYWY7Ci0gICAgICAgIGJyZWFrOwotICAg
IH0KLQotICAgIHJlY2FsY3VsYXRlX2NwdWlkX3BvbGljeShkKTsKLSAgICBkb21haW5fY3B1X3Bv
bGljeV9jaGFuZ2VkKGQpOwotCi0gICAgcmV0dXJuIDA7Ci19Ci0KIHN0YXRpYyBpbnQgdXBkYXRl
X2RvbWFpbl9jcHVfcG9saWN5KHN0cnVjdCBkb21haW4gKmQsCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB4ZW5fZG9tY3RsX2NwdV9wb2xpY3lfdCAqeGRwYykKIHsKQEAgLTk1
MSwxOSArODYzLDYgQEAgbG9uZyBhcmNoX2RvX2RvbWN0bCgKICAgICAgICAgYnJlYWs7CiAgICAg
fQogCi0gICAgY2FzZSBYRU5fRE9NQ1RMX3NldF9jcHVpZDoKLSAgICAgICAgaWYgKCBkID09IGN1
cnJkICkgLyogbm8gZG9tYWluX3BhdXNlKCkgKi8KLSAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7
Ci0gICAgICAgIGVsc2UgaWYgKCBkLT5jcmVhdGlvbl9maW5pc2hlZCApCi0gICAgICAgICAgICBy
ZXQgPSAtRUVYSVNUOyAvKiBObyBjaGFuZ2luZyBvbmNlIHRoZSBkb21haW4gaXMgcnVubmluZy4g
Ki8KLSAgICAgICAgZWxzZQotICAgICAgICB7Ci0gICAgICAgICAgICBkb21haW5fcGF1c2UoZCk7
Ci0gICAgICAgICAgICByZXQgPSB1cGRhdGVfZG9tYWluX2NwdWlkX2luZm8oZCwgJmRvbWN0bC0+
dS5jcHVpZCk7Ci0gICAgICAgICAgICBkb21haW5fdW5wYXVzZShkKTsKLSAgICAgICAgfQotICAg
ICAgICBicmVhazsKLQogICAgIGNhc2UgWEVOX0RPTUNUTF9nZXR0c2NpbmZvOgogICAgICAgICBp
ZiAoIGQgPT0gY3VycmQgKSAvKiBubyBkb21haW5fcGF1c2UoKSAqLwogICAgICAgICAgICAgcmV0
ID0gLUVJTlZBTDsKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaCBiL3hl
bi9pbmNsdWRlL3B1YmxpYy9kb21jdGwuaAppbmRleCAwNDcxZDNjNjgwLi41NDhiOTE3YmRiIDEw
MDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmgKKysrIGIveGVuL2luY2x1ZGUv
cHVibGljL2RvbWN0bC5oCkBAIC02NDgsMTQgKzY0OCw2IEBAIHN0cnVjdCB4ZW5fZG9tY3RsX3Nl
dF90YXJnZXQgewogCiAjaWYgZGVmaW5lZChfX2kzODZfXykgfHwgZGVmaW5lZChfX3g4Nl82NF9f
KQogIyBkZWZpbmUgWEVOX0NQVUlEX0lOUFVUX1VOVVNFRCAgMHhGRkZGRkZGRgotLyogWEVOX0RP
TUNUTF9zZXRfY3B1aWQgKi8KLXN0cnVjdCB4ZW5fZG9tY3RsX2NwdWlkIHsKLSAgdWludDMyX3Qg
aW5wdXRbMl07Ci0gIHVpbnQzMl90IGVheDsKLSAgdWludDMyX3QgZWJ4OwotICB1aW50MzJfdCBl
Y3g7Ci0gIHVpbnQzMl90IGVkeDsKLX07CiAKIC8qCiAgKiBYRU5fRE9NQ1RMX3tnZXQsc2V0fV9j
cHVfcG9saWN5ICh4ODYgc3BlY2lmaWMpCkBAIC0xMTY2LDcgKzExNTgsNyBAQCBzdHJ1Y3QgeGVu
X2RvbWN0bCB7CiAjZGVmaW5lIFhFTl9ET01DVExfc2V0X3RhcmdldCAgICAgICAgICAgICAgICAg
ICAgNDYKICNkZWZpbmUgWEVOX0RPTUNUTF9kZWFzc2lnbl9kZXZpY2UgICAgICAgICAgICAgICA0
NwogI2RlZmluZSBYRU5fRE9NQ1RMX3VuYmluZF9wdF9pcnEgICAgICAgICAgICAgICAgIDQ4Ci0j
ZGVmaW5lIFhFTl9ET01DVExfc2V0X2NwdWlkICAgICAgICAgICAgICAgICAgICAgNDkKKy8qICNk
ZWZpbmUgWEVOX0RPTUNUTF9zZXRfY3B1aWQgICAgICAgICAgICAgICAgICA0OSAtIE9ic29sZXRl
IC0gdXNlIHNldF9jcHVfcG9saWN5ICovCiAjZGVmaW5lIFhFTl9ET01DVExfZ2V0X2RldmljZV9n
cm91cCAgICAgICAgICAgICAgNTAKIC8qICNkZWZpbmUgWEVOX0RPTUNUTF9zZXRfbWFjaGluZV9h
ZGRyZXNzX3NpemUgICA1MSAtIE9ic29sZXRlICovCiAvKiAjZGVmaW5lIFhFTl9ET01DVExfZ2V0
X21hY2hpbmVfYWRkcmVzc19zaXplICAgNTIgLSBPYnNvbGV0ZSAqLwpAQCAtMTI0Myw3ICsxMjM1
LDYgQEAgc3RydWN0IHhlbl9kb21jdGwgewogICAgICAgICBzdHJ1Y3QgeGVuX2RvbWN0bF92bV9l
dmVudF9vcCAgICAgICB2bV9ldmVudF9vcDsKICAgICAgICAgc3RydWN0IHhlbl9kb21jdGxfbWVt
X3NoYXJpbmdfb3AgICAgbWVtX3NoYXJpbmdfb3A7CiAjaWYgZGVmaW5lZChfX2kzODZfXykgfHwg
ZGVmaW5lZChfX3g4Nl82NF9fKQotICAgICAgICBzdHJ1Y3QgeGVuX2RvbWN0bF9jcHVpZCAgICAg
ICAgICAgICBjcHVpZDsKICAgICAgICAgc3RydWN0IHhlbl9kb21jdGxfY3B1X3BvbGljeSAgICAg
ICAgY3B1X3BvbGljeTsKICAgICAgICAgc3RydWN0IHhlbl9kb21jdGxfdmNwdWV4dHN0YXRlICAg
ICAgdmNwdWV4dHN0YXRlOwogICAgICAgICBzdHJ1Y3QgeGVuX2RvbWN0bF92Y3B1X21zcnMgICAg
ICAgICB2Y3B1X21zcnM7CmRpZmYgLS1naXQgYS94ZW4veHNtL2ZsYXNrL2hvb2tzLmMgYi94ZW4v
eHNtL2ZsYXNrL2hvb2tzLmMKaW5kZXggYjIzNzcyNzg2YS4uZmQ4ZDIzYzE4NSAxMDA2NDQKLS0t
IGEveGVuL3hzbS9mbGFzay9ob29rcy5jCisrKyBiL3hlbi94c20vZmxhc2svaG9va3MuYwpAQCAt
NzE2LDggKzcxNiw3IEBAIHN0YXRpYyBpbnQgZmxhc2tfZG9tY3RsKHN0cnVjdCBkb21haW4gKmQs
IGludCBjbWQpCiAgICAgICAgIHJldHVybiBjdXJyZW50X2hhc19wZXJtKGQsIFNFQ0NMQVNTX0RP
TUFJTiwgRE9NQUlOX19TRVRfVklSUV9IQU5ETEVSKTsKIAogICAgIGNhc2UgWEVOX0RPTUNUTF9z
ZXRfY3B1X3BvbGljeToKLSAgICBjYXNlIFhFTl9ET01DVExfc2V0X2NwdWlkOgotICAgICAgICBy
ZXR1cm4gY3VycmVudF9oYXNfcGVybShkLCBTRUNDTEFTU19ET01BSU4yLCBET01BSU4yX19TRVRf
Q1BVSUQpOworICAgICAgICByZXR1cm4gY3VycmVudF9oYXNfcGVybShkLCBTRUNDTEFTU19ET01B
SU4yLCBET01BSU4yX19TRVRfQ1BVX1BPTElDWSk7CiAKICAgICBjYXNlIFhFTl9ET01DVExfZ2V0
dHNjaW5mbzoKICAgICAgICAgcmV0dXJuIGN1cnJlbnRfaGFzX3Blcm0oZCwgU0VDQ0xBU1NfRE9N
QUlOMiwgRE9NQUlOMl9fR0VUVFNDKTsKZGlmZiAtLWdpdCBhL3hlbi94c20vZmxhc2svcG9saWN5
L2FjY2Vzc192ZWN0b3JzIGIveGVuL3hzbS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3RvcnMKaW5k
ZXggNmYzZjk0OTNmOC4uYzA1NWMxNGMyNiAxMDA2NDQKLS0tIGEveGVuL3hzbS9mbGFzay9wb2xp
Y3kvYWNjZXNzX3ZlY3RvcnMKKysrIGIveGVuL3hzbS9mbGFzay9wb2xpY3kvYWNjZXNzX3ZlY3Rv
cnMKQEAgLTIwOCw4ICsyMDgsNyBAQCBjbGFzcyBkb21haW4yCiAjICB0YXJnZXQgPSB0aGUgbmV3
IHRhcmdldCBkb21haW4KICAgICBzZXRfYXNfdGFyZ2V0CiAjIFhFTl9ET01DVExfc2V0X2NwdV9w
b2xpY3kKLSMgWEVOX0RPTUNUTF9zZXRfY3B1aWQKLSAgICBzZXRfY3B1aWQKKyAgICBzZXRfY3B1
X3BvbGljeQogIyBYRU5fRE9NQ1RMX2dldHRzY2luZm8KICAgICBnZXR0c2MKICMgWEVOX0RPTUNU
TF9zZXR0c2NpbmZvCi0tIAoyLjExLjAKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54
ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGlu
Zm8veGVuLWRldmVs

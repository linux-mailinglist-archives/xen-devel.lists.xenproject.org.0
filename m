Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 7AB13161194
	for <lists+xen-devel@lfdr.de>; Mon, 17 Feb 2020 13:05:22 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1j3f7X-0003dt-JL; Mon, 17 Feb 2020 12:03:27 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=Vo74=4F=xen.org=wl@srs-us1.protection.inumbo.net>)
 id 1j3f7V-0003dk-QK
 for xen-devel@lists.xenproject.org; Mon, 17 Feb 2020 12:03:25 +0000
X-Inumbo-ID: 7e673c0a-517d-11ea-ade5-bc764e2007e4
Received: from mail.xenproject.org (unknown [104.130.215.37])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 7e673c0a-517d-11ea-ade5-bc764e2007e4;
 Mon, 17 Feb 2020 12:03:22 +0000 (UTC)
Received: from xenbits.xenproject.org ([104.239.192.120])
 by mail.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <wl@xen.org>)
 id 1j3f7R-0001Fq-CN; Mon, 17 Feb 2020 12:03:21 +0000
Received: from 41.142.6.51.dyn.plus.net ([51.6.142.41] helo=debian)
 by xenbits.xenproject.org with esmtpsa
 (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256) (Exim 4.89)
 (envelope-from <wl@xen.org>)
 id 1j3f7R-0005M3-2y; Mon, 17 Feb 2020 12:03:21 +0000
Date: Mon, 17 Feb 2020 12:03:18 +0000
From: Wei Liu <wl@xen.org>
To: Michael Kelley <mikelley@microsoft.com>
Message-ID: <20200217120318.teegenffgkaazd3x@debian>
References: <20200214123430.4942-1-liuwe@microsoft.com>
 <20200214123430.4942-4-liuwe@microsoft.com>
 <MW2PR2101MB105273CC05CACB0F3B0F4AC2D7150@MW2PR2101MB1052.namprd21.prod.outlook.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <MW2PR2101MB105273CC05CACB0F3B0F4AC2D7150@MW2PR2101MB1052.namprd21.prod.outlook.com>
User-Agent: NeoMutt/20180716
Subject: Re: [Xen-devel] [PATCH v2 3/3] x86/hyperv: L0 assisted TLB flush
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Wei Liu <liuwe@microsoft.com>, Wei Liu <wl@xen.org>,
 Andrew Cooper <andrew.cooper3@citrix.com>, Paul Durrant <pdurrant@amazon.com>,
 Jan Beulich <jbeulich@suse.com>,
 Xen Development List <xen-devel@lists.xenproject.org>,
 Roger Pau =?utf-8?B?TW9ubsOp?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gRnJpLCBGZWIgMTQsIDIwMjAgYXQgMDQ6NDI6NDdQTSArMDAwMCwgTWljaGFlbCBLZWxsZXkg
d3JvdGU6Cj4gRnJvbTogV2VpIExpdSA8d2VpLmxpdS54ZW5AZ21haWwuY29tPiBPbiBCZWhhbGYg
T2YgV2VpIExpdSBTZW50OiBGcmlkYXksIEZlYnJ1YXJ5IDE0LCAyMDIwIDQ6MzUgQU0KPiA+IAo+
ID4gSW1wbGVtZW50IEwwIGFzc2lzdGVkIFRMQiBmbHVzaCBmb3IgWGVuIG9uIEh5cGVyLVYuIEl0
IHRha2VzIGFkdmFudGFnZQo+ID4gb2Ygc2V2ZXJhbCBoeXBlcmNhbGxzOgo+ID4gCj4gPiAgKiBI
VkNBTExfRkxVU0hfVklSVFVBTF9BRERSRVNTX0xJU1QKPiA+ICAqIEhWQ0FMTF9GTFVTSF9WSVJU
VUFMX0FERFJFU1NfTElTVF9FWAo+ID4gICogSFZDQUxMX0ZMVVNIX1ZJUlRVQUxfQUREUkVTU19T
UEFDRQo+ID4gICogSFZDQUxMX0ZMVVNIX1ZJUlRVQUxfQUREUkVTU19TUEFDRV9FWAo+ID4gCj4g
PiBQaWNrIHRoZSBtb3N0IGVmZmljaWVudCBoeXBlcmNhbGxzIGF2YWlsYWJsZS4KPiA+IAo+ID4g
U2lnbmVkLW9mZi1ieTogV2VpIExpdSA8bGl1d2VAbWljcm9zb2Z0LmNvbT4KPiA+IC0tLQo+ID4g
djI6Cj4gPiAxLiBBZGRyZXNzIFJvZ2VyIGFuZCBKYW4ncyBjb21tZW50cyByZSB0eXBlcyBldGMu
Cj4gPiAyLiBGaXggcG9pbnRlciBhcml0aG1ldGljLgo+ID4gMy4gTWlzYyBpbXByb3ZlbWVudCB0
byBjb2RlLgo+ID4gLS0tCj4gPiAgeGVuL2FyY2gveDg2L2d1ZXN0L2h5cGVydi9NYWtlZmlsZSAg
fCAgIDEgKwo+ID4gIHhlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcnYvcHJpdmF0ZS5oIHwgICA5ICsr
Cj4gPiAgeGVuL2FyY2gveDg2L2d1ZXN0L2h5cGVydi90bGIuYyAgICAgfCAxNzIgKysrKysrKysr
KysrKysrKysrKysrKysrKysrLQo+ID4gIHhlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcnYvdXRpbC5j
ICAgIHwgIDc0ICsrKysrKysrKysrKwo+ID4gIDQgZmlsZXMgY2hhbmdlZCwgMjU1IGluc2VydGlv
bnMoKyksIDEgZGVsZXRpb24oLSkKPiA+ICBjcmVhdGUgbW9kZSAxMDA2NDQgeGVuL2FyY2gveDg2
L2d1ZXN0L2h5cGVydi91dGlsLmMKPiA+IAo+ID4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9n
dWVzdC9oeXBlcnYvTWFrZWZpbGUgYi94ZW4vYXJjaC94ODYvZ3Vlc3QvaHlwZXJ2L01ha2VmaWxl
Cj4gPiBpbmRleCAxODkwMmMzM2U5Li4wZTM5NDEwOTY4IDEwMDY0NAo+ID4gLS0tIGEveGVuL2Fy
Y2gveDg2L2d1ZXN0L2h5cGVydi9NYWtlZmlsZQo+ID4gKysrIGIveGVuL2FyY2gveDg2L2d1ZXN0
L2h5cGVydi9NYWtlZmlsZQo+ID4gQEAgLTEsMiArMSwzIEBACj4gPiAgb2JqLXkgKz0gaHlwZXJ2
Lm8KPiA+ICBvYmoteSArPSB0bGIubwo+ID4gK29iai15ICs9IHV0aWwubwo+ID4gZGlmZiAtLWdp
dCBhL3hlbi9hcmNoL3g4Ni9ndWVzdC9oeXBlcnYvcHJpdmF0ZS5oIGIveGVuL2FyY2gveDg2L2d1
ZXN0L2h5cGVydi9wcml2YXRlLmgKPiA+IGluZGV4IDUwOWJlZGFhZmEuLjc5YTc3OTMwYTAgMTAw
NjQ0Cj4gPiAtLS0gYS94ZW4vYXJjaC94ODYvZ3Vlc3QvaHlwZXJ2L3ByaXZhdGUuaAo+ID4gKysr
IGIveGVuL2FyY2gveDg2L2d1ZXN0L2h5cGVydi9wcml2YXRlLmgKPiA+IEBAIC0yNCwxMiArMjQs
MjEgQEAKPiA+IAo+ID4gICNpbmNsdWRlIDx4ZW4vY3B1bWFzay5oPgo+ID4gICNpbmNsdWRlIDx4
ZW4vcGVyY3B1Lmg+Cj4gPiArI2luY2x1ZGUgPHhlbi90eXBlcy5oPgo+ID4gCj4gPiAgREVDTEFS
RV9QRVJfQ1BVKHZvaWQgKiwgaHZfaW5wdXRfcGFnZSk7Cj4gPiAgREVDTEFSRV9QRVJfQ1BVKHZv
aWQgKiwgaHZfdnBfYXNzaXN0KTsKPiA+ICBERUNMQVJFX1BFUl9DUFUodW5zaWduZWQgaW50LCBo
dl92cF9pbmRleCk7Cj4gPiAKPiA+ICtzdGF0aWMgaW5saW5lIHVuc2lnbmVkIGludCBodl92cF9p
bmRleCh1bnNpZ25lZCBpbnQgY3B1KQo+ID4gK3sKPiA+ICsgICAgcmV0dXJuIHBlcl9jcHUoaHZf
dnBfaW5kZXgsIGNwdSk7Cj4gPiArfQo+ID4gKwo+ID4gIGludCBoeXBlcnZfZmx1c2hfdGxiKGNv
bnN0IGNwdW1hc2tfdCAqbWFzaywgY29uc3Qgdm9pZCAqdmEsCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgdW5zaWduZWQgaW50IGZsYWdzKTsKPiA+IAo+ID4gKy8qIFJldHVybnMgbnVtYmVyIG9m
IGJhbmtzLCAtZXYgaWYgZXJyb3IgKi8KPiA+ICtpbnQgY3B1bWFza190b192cHNldChzdHJ1Y3Qg
aHZfdnBzZXQgKnZwc2V0LCBjb25zdCBjcHVtYXNrX3QgKm1hc2spOwo+ID4gKwo+ID4gICNlbmRp
ZiAvKiBfX1hFTl9IWVBFUlZfUFJJVklBVEVfSF9fICAqLwo+ID4gZGlmZiAtLWdpdCBhL3hlbi9h
cmNoL3g4Ni9ndWVzdC9oeXBlcnYvdGxiLmMgYi94ZW4vYXJjaC94ODYvZ3Vlc3QvaHlwZXJ2L3Rs
Yi5jCj4gPiBpbmRleCA0OGY1MjcyMjllLi5mNjhlMTRmMTUxIDEwMDY0NAo+ID4gLS0tIGEveGVu
L2FyY2gveDg2L2d1ZXN0L2h5cGVydi90bGIuYwo+ID4gKysrIGIveGVuL2FyY2gveDg2L2d1ZXN0
L2h5cGVydi90bGIuYwo+ID4gQEAgLTE5LDE1ICsxOSwxODUgQEAKPiA+ICAgKiBDb3B5cmlnaHQg
KGMpIDIwMjAgTWljcm9zb2Z0Lgo+ID4gICAqLwo+ID4gCj4gPiArI2luY2x1ZGUgPHhlbi9jcHUu
aD4KPiA+ICAjaW5jbHVkZSA8eGVuL2NwdW1hc2suaD4KPiA+ICAjaW5jbHVkZSA8eGVuL2Vycm5v
Lmg+Cj4gPiAKPiA+ICsjaW5jbHVkZSA8YXNtL2d1ZXN0L2h5cGVydi5oPgo+ID4gKyNpbmNsdWRl
IDxhc20vZ3Vlc3QvaHlwZXJ2LWhjYWxsLmg+Cj4gPiArI2luY2x1ZGUgPGFzbS9ndWVzdC9oeXBl
cnYtdGxmcy5oPgo+ID4gKwo+ID4gICNpbmNsdWRlICJwcml2YXRlLmgiCj4gPiAKPiA+ICsvKgo+
ID4gKyAqIEl0IGlzIHBvc3NpYmxlIHRvIGVuY29kZSB1cCB0byA0MDk2IHBhZ2VzIHVzaW5nIHRo
ZSBsb3dlciAxMiBiaXRzCj4gPiArICogaW4gYW4gZWxlbWVudCBvZiBndmFfbGlzdAo+ID4gKyAq
Lwo+ID4gKyNkZWZpbmUgSFZfVExCX0ZMVVNIX1VOSVQgKDQwOTYgKiBQQUdFX1NJWkUpCj4gPiAr
Cj4gPiArc3RhdGljIHVuc2lnbmVkIGludCBmaWxsX2d2YV9saXN0KHVpbnQ2NF90ICpndmFfbGlz
dCwgY29uc3Qgdm9pZCAqdmEsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHVuc2lnbmVkIGludCBvcmRlcikKPiA+ICt7Cj4gPiArICAgIHVuc2lnbmVkIGxvbmcgc3RhcnQg
PSAodW5zaWduZWQgbG9uZyl2YTsKPiA+ICsgICAgdW5zaWduZWQgbG9uZyBlbmQgPSBzdGFydCAr
IChQQUdFX1NJWkUgPDwgb3JkZXIpIC0gMTsKPiA+ICsgICAgdW5zaWduZWQgaW50IG4gPSAwOwo+
ID4gKwo+ID4gKyAgICBkbyB7Cj4gPiArICAgICAgICB1bnNpZ25lZCBsb25nIHJlbWFpbiA9IGVu
ZCAtIHN0YXJ0Owo+IAo+IFRoZSBjYWxjdWxhdGVkIHZhbHVlIGhlcmUgaXNuJ3QgYWN0dWFsbHkg
dGhlIHJlbWFpbmluZyBieXRlcyBpbiB0aGUKPiByYW5nZSB0byBmbHVzaCAtLSBpdCdzIG9uZSBs
ZXNzIHRoYW4gdGhlIHJlbWFpbmluZyBieXRlcyBpbiB0aGUgcmFuZ2UKPiB0byBmbHVzaCBiZWNh
dXNlIG9mIHRoZSAtMSBpbiB0aGUgY2FsY3VsYXRpb24gb2YgJ2VuZCcuICAgVGhhdCBkaWZmZXJl
bmNlCj4gd2lsbCBtZXNzIHVwIHRoZSBjb21wYXJpc29uIGJlbG93IGFnYWluc3QgSFZfVExCX0ZM
VVNIX1VOSVQKPiBpbiB0aGUgY2FzZSB0aGF0IHRoZXJlIGFyZSBleGFjdGx5IDQwOTYgcGFnZSBy
ZW1haW5pbmcgdG8gYmUKPiBmbHVzaGVkLiAgSXQgc2hvdWxkIHRha2UgdGhlICI9IiBjYXNlLCBi
dXQgd29uJ3QuICBBbHNvLCB0aGUKPiAnLTEnIGluICdyZW1haW4gLSAxJyBpbiB0aGUgZWxzZSBj
bGF1c2UgYmVjb21lcyB1bm5lZWRlZCwgYW5kCj4gdGhlICdzdGFydCA9IGVuZCcgYXNzaWdubWVu
dCB0aGVuIHByb3BhZ2F0ZXMgdGhlIGVycm9yLgo+IAo+IEluIHRoZSBwYXJhbGxlbCBjb2RlIGlu
IExpbnV4LCBpZiB5b3UgZm9sbG93IHRoZSBjYWxsIHNlcXVlbmNlIHRvIGdldCB0bwo+IGZpbGxf
Z2F2X2xpc3QoKSwgdGhlICdlbmQnIGFyZ3VtZW50IGlzIHJlYWxseSB0aGUgYWRkcmVzcyBvZiB0
aGUgZmlyc3QgYnl0ZQo+IG9mIHRoZSBmaXJzdCBwYWdlIHRoYXQgaXNuJ3QgaW4gdGhlIGZsdXNo
IHJhbmdlIChpLmUuLCBvbmUgYmV5b25kIHRoZSB0cnVlCj4gJ2VuZCcpIGFuZCBzbyBpcyBhIGJp
dCBtaXNuYW1lZC4KPiAKPiBJIHRoaW5rIHRoZSBjYWxjdWxhdGlvbiBvZiAnZW5kJyBzaG91bGQg
ZHJvcCB0aGUgLTEsIGFuZCBwZXJoYXBzICdlbmQnCj4gc2hvdWxkIGJlIHJlbmFtZWQuCgpUaGFu
a3MgZm9yIHRoZSBkZXRhaWxlZCByZXZpZXcuIExldCBtZSBmaXggdGhpcy4KCldlaS4KCj4gCj4g
TWljaGFlbAo+IAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcK
aHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

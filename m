Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 3BAD5C960F
	for <lists+xen-devel@lfdr.de>; Thu,  3 Oct 2019 03:06:18 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iFpVv-00010h-O3; Thu, 03 Oct 2019 01:02:39 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=KLgg=X4=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1iFpVu-00010a-7a
 for xen-devel@lists.xenproject.org; Thu, 03 Oct 2019 01:02:38 +0000
X-Inumbo-ID: 7d8e1f58-e579-11e9-bf31-bc764e2007e4
Received: from mail.kernel.org (unknown [198.145.29.99])
 by localhost (Halon) with ESMTPS
 id 7d8e1f58-e579-11e9-bf31-bc764e2007e4;
 Thu, 03 Oct 2019 01:02:37 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id 48062222C0;
 Thu,  3 Oct 2019 01:02:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1570064556;
 bh=DCzLHr56FPn2obONeVHCE5HDygI01CIFkgn2ywNPslg=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=1Z5omcG/eCvAgqXSmgEqU0lR1fHqftpU+fBfQuRQGqZM/qhvmV4tn9RRRFIV1L2zq
 HM3ZfpjBnsrTg1i0FEioa8sbvvbAVHVDf3Yavb4jIptuT7Z5L5e/8i98iZLq9hxM+F
 kqd0fmRphi8tPUuPl1HO50uHAQ1o1jZWXG3spiBc=
Date: Wed, 2 Oct 2019 18:02:34 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Julien Grall <julien.grall@arm.com>
In-Reply-To: <72de38de-2856-8873-ed70-6c354786bba3@arm.com>
Message-ID: <alpine.DEB.2.21.1910021756570.2691@sstabellini-ThinkPad-T480s>
References: <20190917160202.16770-1-julien.grall@arm.com>
 <alpine.DEB.2.21.1909191613060.19418@sstabellini-ThinkPad-T480s>
 <5a093a67-51f6-2d3d-6a98-87753cf4d186@arm.com>
 <alpine.DEB.2.21.1909200813510.3272@sstabellini-ThinkPad-T480s>
 <72de38de-2856-8873-ed70-6c354786bba3@arm.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [[PATCH for-4.13]] xen/arm: mm: Allow generic xen
 page-tables helpers to be called early
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: xen-devel@lists.xenproject.org, Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gRnJpLCAyMCBTZXAgMjAxOSwgSnVsaWVuIEdyYWxsIHdyb3RlOgo+IEhpLAo+IAo+IE9uIDIw
LzA5LzIwMTkgMTY6MTYsIFN0ZWZhbm8gU3RhYmVsbGluaSB3cm90ZToKPiA+IE9uIEZyaSwgMjAg
U2VwIDIwMTksIEp1bGllbiBHcmFsbCB3cm90ZToKPiA+ID4gT24gMjAvMDkvMjAxOSAwMDozNywg
U3RlZmFubyBTdGFiZWxsaW5pIHdyb3RlOgo+ID4gPiA+IE9uIFR1ZSwgMTcgU2VwIDIwMTksIEp1
bGllbiBHcmFsbCB3cm90ZToKPiA+ID4gPiA+IFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9ucyBv
ZiB4ZW5fe21hcCwgdW5tYXB9X3RhYmxlKCkgZXhwZWN0Cj4gPiA+ID4gPiB7bWFwLCB1bm1hcH1f
ZG9tYWluX3BhZ2UoKSB0byBiZSB1c2FibGUuIFRob3NlIGhlbHBlcnMgYXJlIHVzZWQgdG8KPiA+
ID4gPiA+IG1hcC91bm1hcCBwYWdlIHRhYmxlcyB3aGlsZSB1cGRhdGUgWGVuIHBhZ2UtdGFibGVz
Lgo+ID4gPiA+ID4gCj4gPiA+ID4gPiBTaW5jZSBjb21taXQgMDIyMzg3ZWUxYSAieGVuL2FybTog
bW06IERvbid0IG9wZW4tY29kZSBYZW4gUFQgdXBkYXRlIGluCj4gPiA+ID4gPiB7c2V0LCBjbGVh
cn1fZml4bWFwKCkiLCBzZXR1cF9maXhtYXAoKSB3aWxsIG1ha2UgdXNlIG9mIHRoZSBoZWxwZXJz
Cj4gPiA+ID4gPiBtZW50aW9uZWQgYWJvdmUuIFdoZW4gYm9vdGluZyBYZW4gdXNpbmcgR1JVQiwg
c2V0dXBfZml4bWFwKCkgbWF5IGJlCj4gPiA+ID4gPiB1c2VkCj4gPiA+ID4gPiBiZWZvcmUgbWFw
X2RvbWFpbl9wYWdlKCkgY2FuIGJlIGNhbGxlZC4gVGhpcyB3aWxsIHJlc3VsdCB0byBkYXRhCj4g
PiA+ID4gPiBhYm9ydDoKPiA+ID4gPiA+IAo+ID4gPiA+ID4gKFhFTikgRGF0YSBBYm9ydCBUcmFw
LiBTeW5kcm9tZT0weDUKPiA+ID4gPiA+IChYRU4pIENQVTA6IFVuZXhwZWN0ZWQgVHJhcDogRGF0
YSBBYm9ydAo+ID4gPiA+ID4gCj4gPiA+ID4gPiBbLi4uXQo+ID4gPiA+ID4gCj4gPiA+ID4gPiAo
WEVOKSBYZW4gY2FsbCB0cmFjZToKPiA+ID4gPiA+IChYRU4pICAgIFs8MDAwMDAwMDAwMDI1YWI2
Yz5dIG1tLmMjeGVuX3B0X3VwZGF0ZSsweDJiNC8weDU5YyAoUEMpCj4gPiA+ID4gPiAoWEVOKSAg
ICBbPDAwMDAwMDAwMDAyNWFiMjA+XSBtbS5jI3hlbl9wdF91cGRhdGUrMHgyNjgvMHg1OWMgKExS
KQo+ID4gPiA+ID4gKFhFTikgICAgWzwwMDAwMDAwMDAwMjVhZTcwPl0gc2V0X2ZpeG1hcCsweDFj
LzB4MmMKPiA+ID4gPiA+IChYRU4pICAgIFs8MDAwMDAwMDAwMDJhOWM5OD5dIGNvcHlfZnJvbV9w
YWRkcisweDdjLzB4ZGMKPiA+ID4gPiA+IChYRU4pICAgIFs8MDAwMDAwMDAwMDJhNGFlMD5dIGhh
c194c21fbWFnaWMrMHgxOC8weDM0Cj4gPiA+ID4gPiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyYTVi
NWM+XSBib290ZmR0LmMjZWFybHlfc2Nhbl9ub2RlKzB4Mzk4LzB4NTYwCj4gPiA+ID4gPiAoWEVO
KSAgICBbPDAwMDAwMDAwMDAyYTVkZTA+XSBkZXZpY2VfdHJlZV9mb3JfZWFjaF9ub2RlKzB4YmMv
MHgxNDQKPiA+ID4gPiA+IChYRU4pICAgIFs8MDAwMDAwMDAwMDJhNWVkND5dIGJvb3RfZmR0X2lu
Zm8rMHg2Yy8weDI2MAo+ID4gPiA+ID4gKFhFTikgICAgWzwwMDAwMDAwMDAwMmFjMGQwPl0gc3Rh
cnRfeGVuKzB4MTA4LzB4Yzc0Cj4gPiA+ID4gPiAoWEVOKSAgICBbPDAwMDAwMDAwMDAyMDA0NGM+
XSBhcm02NC9oZWFkLm8jcGFnaW5nKzB4NjAvMHg4OAo+ID4gPiA+ID4gCj4gPiA+ID4gPiBEdXJp
bmcgZWFybHkgYm9vdCwgdGhlIHBhZ2UgdGFibGVzIGFyZSBlaXRoZXIgc3RhdGljYWxseSBhbGxv
Y2F0ZWQgaW4KPiA+ID4gPiA+IFhlbiBiaW5hcnkgb3IgYWxsb2NhdGVkIHZpYSBhbGxvY19ib290
X3BhZ2VzKCkuCj4gPiA+ID4gPiAKPiA+ID4gPiA+IEZvciBzdGF0aWNhbGx5IGFsbG9jYXRlZCBw
YWdlLXRhYmxlcywgdGhleSB3aWxsIGFscmVhZHkgYmUgbWFwcGVkIGFzCj4gPiA+ID4gPiBwYXJ0
IG9mIFhlbiBiaW5hcnkuIFNvIHdlIGNhbiBlYXNpbHkgZmluZCB0aGUgdmlydHVhbCBhZGRyZXNz
Lgo+ID4gPiA+ID4gCj4gPiA+ID4gPiBGb3IgZHluYW1pY2FsbHkgYWxsb2NhdGVkIHBhZ2UtdGFi
bGVzLCB3ZSBuZWVkIHRvIHJlbHkKPiA+ID4gPiA+IG1hcF9kb21haW5fcGFnZSgpIHRvIGJlIGZ1
bmN0aW9uYWxseSB3b3JraW5nLgo+ID4gPiA+ID4gCj4gPiA+ID4gPiBGb3IgYXJtMzIsIHRoZSBj
YWxsIHdpbGwgYmUgdXNhYmxlIG11Y2ggYmVmb3JlIHBhZ2UgY2FuIGJlIGR5bmFtaWNhbGx5Cj4g
PiA+ID4gPiBhbGxvY2F0ZWQgKHNlZSBzZXR1cF9wYWdldGFibGVzKCkpLiBGb3IgYXJtNjQsIHRo
ZSBjYWxsIHdpbGwgYmUgdXNhYmxlCj4gPiA+ID4gPiBhZnRlciBzZXR1cF94ZW5oZWFwX21hcHBp
bmdzKCkuCj4gPiA+ID4gPiAKPiA+ID4gPiA+IEluIGJvdGggY2FzZXMsIG1lbW9yeSBhcmUgZ2l2
ZW4gdG8gdGhlIGJvb3QgYWxsb2NhdG9yIGFmdGVyd2FyZHMuIFNvCj4gPiA+ID4gPiB3ZQo+ID4g
PiA+ID4gY2FuIHJlbHkgb24gbWFwX2RvbWFpbl9wYWdlKCkgZm9yIG1hcHBpbmcgcGFnZSB0YWJs
ZXMgYWxsb2NhdGVkCj4gPiA+ID4gPiBkeW5hbWljYWxseS4KPiA+ID4gPiA+IAo+ID4gPiA+ID4g
VGhlIGhlbHBlcnMgeGVuX3ttYXAsIHVubWFwfV90YWJsZSgpIGFyZSBub3cgdXBkYXRlZCB0byB0
YWtlIGludG8KPiA+ID4gPiA+IGFjY291bnQgdGhlIGNhc2Ugd2hlcmUgcGFnZS10YWJsZXMgYXJl
IHBhcnQgb2YgWGVuIGJpbmFyeS4KPiA+ID4gPiA+IAo+ID4gPiA+ID4gRml4ZXM6IDAyMjM4N2Vl
MWEgKCd4ZW4vYXJtOiBtbTogRG9uJ3Qgb3Blbi1jb2RlIFhlbiBQVCB1cGRhdGUgaW4KPiA+ID4g
PiA+IHtzZXQsCj4gPiA+ID4gPiBjbGVhcn1fZml4bWFwKCknKQo+ID4gPiA+ID4gU2lnbmVkLW9m
Zi1ieTogSnVsaWVuIEdyYWxsIDxqdWxpZW4uZ3JhbGxAYXJtLmNvbT4KPiA+ID4gPiA+IC0tLQo+
ID4gPiA+ID4gICAgeGVuL2FyY2gvYXJtL21tLmMgfCAyMCArKysrKysrKysrKysrKysrKysrKwo+
ID4gPiA+ID4gICAgMSBmaWxlIGNoYW5nZWQsIDIwIGluc2VydGlvbnMoKykKPiA+ID4gPiA+IAo+
ID4gPiA+ID4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9tbS5jIGIveGVuL2FyY2gvYXJtL21t
LmMKPiA+ID4gPiA+IGluZGV4IGUxY2RlYWFmMmYuLmRhNjMwM2E4ZmQgMTAwNjQ0Cj4gPiA+ID4g
PiAtLS0gYS94ZW4vYXJjaC9hcm0vbW0uYwo+ID4gPiA+ID4gKysrIGIveGVuL2FyY2gvYXJtL21t
LmMKPiA+ID4gPiA+IEBAIC05NTAsMTEgKzk1MCwzMSBAQCBzdGF0aWMgaW50IGNyZWF0ZV94ZW5f
dGFibGUobHBhZV90ICplbnRyeSkKPiA+ID4gPiA+ICAgICAgc3RhdGljIGxwYWVfdCAqeGVuX21h
cF90YWJsZShtZm5fdCBtZm4pCj4gPiA+ID4gPiAgICB7Cj4gPiA+ID4gPiArICAgIC8qCj4gPiA+
ID4gPiArICAgICAqIFdlIG1heSByZXF1aXJlIHRvIG1hcCB0aGUgcGFnZSB0YWJsZSBiZWZvcmUg
bWFwX2RvbWFpbl9wYWdlKCkKPiA+ID4gPiA+IGlzCj4gPiA+ID4gPiArICAgICAqIHVzZWFibGUu
IFRoZSByZXF1aXJlbWVudHMgaGVyZSBpcyBpdCBtdXN0IGJlIHVzZWFibGUgYXMgc29vbgo+ID4g
PiA+ID4gYXMKPiA+ID4gPiA+ICsgICAgICogcGFnZS10YWJsZXMgYXJlIGFsbG9jYXRlZCBkeW5h
bWljYWxseSB2aWEgYWxsb2NfYm9vdF9wYWdlcygpLgo+ID4gPiA+ID4gKyAgICAgKi8KPiA+ID4g
PiA+ICsgICAgaWYgKCBzeXN0ZW1fc3RhdGUgPT0gU1lTX1NUQVRFX2Vhcmx5X2Jvb3QgKQo+ID4g
PiA+ID4gKyAgICB7Cj4gPiA+ID4gPiArICAgICAgICB2YWRkcl90IHZhID0gbWZuX3RvX21hZGRy
KG1mbikgLSBwaHlzX29mZnNldDsKPiA+ID4gPiA+ICsKPiA+ID4gPiA+ICsgICAgICAgIGlmICgg
aXNfa2VybmVsKHZhKSApCj4gPiA+ID4gPiArICAgICAgICAgICAgcmV0dXJuIChscGFlX3QgKil2
YTsKPiA+ID4gPiAKPiA+ID4gPiBJcyBpdCBpbnRlbmRlZCB0byBjb250aW51ZSBpZiBpdCBpcyBu
b3QgYSB4ZW4gdGV4dCBwYWdlPyBTaG91bGRuJ3Qgd2UKPiA+ID4gPiBCVUcoKSBvciBXQVJOPwo+
ID4gPiBZZXMsIEkgd3JvdGUgdGhlIHJhdGlvbmFsZSBpbiB0aGUgY29tbWl0IG1lc3NhZ2UgYW5k
IGEgc3VtbWFyeSBpbiBhIGZldwo+ID4gPiBsaW5lcwo+ID4gPiBhYm92ZS4gRm9yIGNvbnZlbmll
bmNlLCBJIHBhc3RlZCB0aGUgY29tbWl0IG1lc3NhZ2UgYWdhaW4gaGVyZToKPiA+ICAgVGhlIGNv
bW1pdCBtZXNzYWdlIGV4cGxhaW5zIHdoYXQgeW91IGFyZSBkb2luZyBidXQgSSBhbSBzdGlsbCBt
aXNzaW5nCj4gPiBzb21ldGhpbmcuCj4gPiAKPiA+IFdoeSBhcmUgd2UgY29udGludWluZyBpZiBz
eXN0ZW1fc3RhdGUgPT0gU1lTX1NUQVRFX2Vhcmx5X2Jvb3QgYW5kCj4gPiAhaXNfa2VybmVsKHZh
KT8KPiA+IAo+ID4gVGhlIGNvbW1pdCBtZXNzYWdlIGV4cGxhaW5zIHRoYXQgaWYgc3lzdGVtX3N0
YXRlID09IFNZU19TVEFURV9lYXJseV9ib290Cj4gPiBwYWdldGFibGUgcGFnZXMgYXJlIHN0YXRp
YywgcmlnaHQ/IAo+IFRoYXQncyBub3QgY29ycmVjdC4gQmVsb3cgYW4gZXhjZXJwdCBvZiB0aGUg
Y29tbWl0IG1lc3NhZ2U6Cj4gCj4gIkR1cmluZyBlYXJseSBib290LCB0aGUgcGFnZSB0YWJsZXMg
YXJlIGVpdGhlciBzdGF0aWNhbGx5IGFsbG9jYXRlZCBpbgo+IFhlbiBiaW5hcnkgb3IgYWxsb2Nh
dGVkIHZpYSBhbGxvY19ib290X3BhZ2VzKCkuIgo+IAo+IEFuIGV4YW1wbGUgb2YgZHluYW1pYyBh
bGxvY2F0aW9uIGhhcHBlbmluZyB3aGVuIHN5c3RlbV9zdGF0ZSA9PQo+IFNZU19TVEFURV9lYXJs
eV9ib290IGlzIGluIHNldHVwX3hlbmhlYXBfbWFwcGluZ3MoKS4gYWxsb2NfYm9vdF9wYWdlcygp
IHdpbGwKPiBiZSB1c2VkIHRvIGFsbG9jYXRlIGludGVybWVkaWF0ZSBwYWdlLXRhYmxlcyBhcyB0
aGUgcnVudGltZSBhbGxvY2F0b3IgaXMgbm90Cj4geWV0IHJlYWR5Lgo+IAo+ID4gT25seSBhZnRl
ciBkeW5hbWljIGFsbG9jYXRpb24gYXJlCj4gPiBwb3NzaWJsZSBpdCBtYWtlcyBzZW5zZSB0byB1
c2UgbWFwX2RvbWFpbl9wYWdlLCBhbmQgZHluYW1pYyBhbGxvY2F0aW9ucwo+ID4gYXJlIHBvc3Np
YmxlIHJvdWdobHkgd2hlbiBzeXN0ZW1fc3RhdGUgc3dpdGNoZWQgdG8gU1lTX1NUQVRFX2Jvb3Qu
Cj4gCj4gVGhhdCdzIG5vdCBjb3JyZWN0LiBhbGxvY19ib290X3BhZ2VzKCkgaXMgYWN0dWFsbHkg
aGVyZSB0byBhbGxvdyBkeW5hbWljCj4gYWxsb2NhdGlvbiBiZWZvcmUgdGhlIG1lbW9yeSBzdWJz
eXN0ZW0gKGFuZCB0aGVyZWZvcmUgdGhlIHJ1bnRpbWUgYWxsb2NhdG9yKQo+IGlzIGluaXRpYWxp
emVkLgoKTGV0IG1lIGNoYW5nZSB0aGUgcXVlc3Rpb24gdGhlbjogaXMgdGhlIHN5c3RlbV9zdGF0
ZSA9PQpTWVNfU1RBVEVfZWFybHlfYm9vdCBjaGVjayBzdHJpY3RseSBuZWNlc3Nhcnk/IEl0IGxv
b2tzIGxpa2UgaXQgaXMgbm90Ogp0aGUgcGF0Y2ggd291bGQgd29yayBldmVuIGlmIGl0IHdhcyBq
dXN0OgoKCmRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vbW0uYyBiL3hlbi9hcmNoL2FybS9tbS5j
CmluZGV4IDllMGZkYzM5ZjkuLmVlZTdkMDgwYzAgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9t
bS5jCisrKyBiL3hlbi9hcmNoL2FybS9tbS5jCkBAIC05NjMsMTEgKzk2MywxOSBAQCBzdGF0aWMg
aW50IGNyZWF0ZV94ZW5fdGFibGUobHBhZV90ICplbnRyeSkKIAogc3RhdGljIGxwYWVfdCAqeGVu
X21hcF90YWJsZShtZm5fdCBtZm4pCiB7CisgICAgdmFkZHJfdCB2YSA9IG1mbl90b19tYWRkciht
Zm4pIC0gcGh5c19vZmZzZXQ7CisKKyAgICBpZiAoIGlzX2tlcm5lbCh2YSkgKQorICAgICAgICBy
ZXR1cm4gKGxwYWVfdCAqKXZhOworCiAgICAgcmV0dXJuIG1hcF9kb21haW5fcGFnZShtZm4pOwog
fQogCiBzdGF0aWMgdm9pZCB4ZW5fdW5tYXBfdGFibGUoY29uc3QgbHBhZV90ICp0YWJsZSkKIHsK
KyAgICBpZiAoIGlzX2tlcm5lbCh0YWJsZSkgKQorICAgICAgICByZXR1cm47CisKICAgICB1bm1h
cF9kb21haW5fcGFnZSh0YWJsZSk7CiB9CiAKCklzIHRoYXQgcmlnaHQ/IE5vdGUgdGhhdCBJIGFt
IG5vdCBhc2tpbmcgeW91IHRvIGNoYW5nZSB0aGUgcGF0Y2gsIEkgYW0Kb25seSB0cnlpbmcgdG8g
bWFrZSBzdXJlIEkgYW0gdW5kZXJzdGFuZGluZyBhbGwgdGhlIGltcGxpY2F0aW9ucy4KCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWls
aW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVu
cHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

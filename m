Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 9CFF517DF5
	for <lists+xen-devel@lfdr.de>; Wed,  8 May 2019 18:18:15 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hOPEs-0008Ez-Jl; Wed, 08 May 2019 16:16:14 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=7fFX=TI=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hOPEq-0008Eg-JT
 for xen-devel@lists.xenproject.org; Wed, 08 May 2019 16:16:12 +0000
X-Inumbo-ID: 9839b0ba-71ac-11e9-843c-bc764e045a96
Received: from foss.arm.com (unknown [217.140.101.70])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTP
 id 9839b0ba-71ac-11e9-843c-bc764e045a96;
 Wed, 08 May 2019 16:16:11 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.72.51.249])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 32B5815AB;
 Wed,  8 May 2019 09:16:11 -0700 (PDT)
Received: from e108454-lin.cambridge.arm.com (e108454-lin.cambridge.arm.com
 [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id F3A763F238;
 Wed,  8 May 2019 09:16:09 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: xen-devel@lists.xenproject.org
Date: Wed,  8 May 2019 17:15:58 +0100
Message-Id: <20190508161603.21964-3-julien.grall@arm.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190508161603.21964-1-julien.grall@arm.com>
References: <20190508161603.21964-1-julien.grall@arm.com>
Subject: [Xen-devel] [PATCH v2 2/7] xen/arm: Remove
 flush_xen_text_tlb_local()
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr_Tyshchenko@epam.com, Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIGZ1bmN0aW9uIGZsdXNoX3hlbl90ZXh0X3RsYl9sb2NhbCgpIGhhcyBiZWVuIG1pc3VzZWQg
YW5kIHdpbGwgcmVzdWx0CnRvIGludmFsaWRhdGUgdGhlIGluc3RydWN0aW9uIGNhY2hlIG1vcmUg
dGhhbiBuZWNlc3NhcnkuCgpGb3IgaW5zdGFuY2UsIHRoZXJlIGFyZSBubyBuZWVkIHRvIGludmFs
aWRhdGUgdGhlIGluc3RydWN0aW9uIGNhY2hlIGlmCndlIGFyZSBzZXR0aW5nIFNDVExSX0VMMi5X
WE4uCgpUaGVyZSBhcmUgZWZmZWN0aXZlbHkgb25seSBvbmUgY2FsbGVyIChpLmUgZnJlZV9pbml0
X21lbW9yeSgpIHdvdWxkCndobyBuZWVkIHRvIGludmFsaWRhdGUgdGhlIGluc3RydWN0aW9uIGNh
Y2hlLgoKU28gcmF0aGVyIHRoYW4ga2VlcGluZyBhcm91bmQgdGhlIGZ1bmN0aW9uIGZsdXNoX3hl
bl90ZXh0X3RsYl9sb2NhbCgpCmFyb3VuZCwgcmVwbGFjZSBpdCB3aXRoIGNhbGwgdG8gZmx1c2hf
eGVuX3RsYl9sb2NhbCgpIGFuZCBleHBsaWNpdGVseQpmbHVzaCB0aGUgY2FjaGUgd2hlbiBuZWNl
c3NhcnkuCgpTaWduZWQtb2ZmLWJ5OiBKdWxpZW4gR3JhbGwgPGp1bGllbi5ncmFsbEBhcm0uY29t
PgpSZXZpZXdlZC1ieTogQW5kcmlpIEFuaXNvdiA8YW5kcmlpX2FuaXNvdkBlcGFtLmNvbT4KCi0t
LQogICAgQ2hhbmdlcyBpbiB2MjoKICAgICAgICAtIEFkZCBBbmRyaWkncyByZXZpZXdlZC1ieQot
LS0KIHhlbi9hcmNoL2FybS9tbS5jICAgICAgICAgICAgICAgIHwgMTcgKysrKysrKysrKysrKyst
LS0KIHhlbi9pbmNsdWRlL2FzbS1hcm0vYXJtMzIvcGFnZS5oIHwgMjMgKysrKysrKysrLS0tLS0t
LS0tLS0tLS0KIHhlbi9pbmNsdWRlL2FzbS1hcm0vYXJtNjQvcGFnZS5oIHwgMjEgKysrKystLS0t
LS0tLS0tLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDI4IGluc2VydGlvbnMoKyksIDMzIGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9tbS5jIGIveGVuL2FyY2gvYXJtL21t
LmMKaW5kZXggOTNhZDExODE4My4uZGZiZTM5YzcwYSAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJt
L21tLmMKKysrIGIveGVuL2FyY2gvYXJtL21tLmMKQEAgLTYxMCw4ICs2MTAsMTIgQEAgdm9pZCBf
X2luaXQgcmVtb3ZlX2Vhcmx5X21hcHBpbmdzKHZvaWQpCiBzdGF0aWMgdm9pZCB4ZW5fcHRfZW5m
b3JjZV93bngodm9pZCkKIHsKICAgICBXUklURV9TWVNSRUczMihSRUFEX1NZU1JFRzMyKFNDVExS
X0VMMikgfCBTQ1RMUl9XWE4sIFNDVExSX0VMMik7Ci0gICAgLyogRmx1c2ggZXZlcnl0aGluZyBh
ZnRlciBzZXR0aW5nIFdYTiBiaXQuICovCi0gICAgZmx1c2hfeGVuX3RleHRfdGxiX2xvY2FsKCk7
CisgICAgLyoKKyAgICAgKiBUaGUgVExCcyBtYXkgY2FjaGUgU0NUTFJfRUwyLldYTi4gU28gZW5z
dXJlIGl0IGlzIHN5bmNocm9uaXplZAorICAgICAqIGJlZm9yZSBmbHVzaGluZyB0aGUgVExCcy4K
KyAgICAgKi8KKyAgICBpc2IoKTsKKyAgICBmbHVzaF94ZW5fZGF0YV90bGJfbG9jYWwoKTsKIH0K
IAogZXh0ZXJuIHZvaWQgc3dpdGNoX3R0YnIodWludDY0X3QgdHRicik7CkBAIC0xMTIzLDcgKzEx
MjcsNyBAQCBzdGF0aWMgdm9pZCBzZXRfcHRlX2ZsYWdzX29uX3JhbmdlKGNvbnN0IGNoYXIgKnAs
IHVuc2lnbmVkIGxvbmcgbCwgZW51bSBtZyBtZykKICAgICAgICAgfQogICAgICAgICB3cml0ZV9w
dGUoeGVuX3hlbm1hcCArIGksIHB0ZSk7CiAgICAgfQotICAgIGZsdXNoX3hlbl90ZXh0X3RsYl9s
b2NhbCgpOworICAgIGZsdXNoX3hlbl9kYXRhX3RsYl9sb2NhbCgpOwogfQogCiAvKiBSZWxlYXNl
IGFsbCBfX2luaXQgYW5kIF9faW5pdGRhdGEgcmFuZ2VzIHRvIGJlIHJldXNlZCAqLwpAQCAtMTEz
Niw2ICsxMTQwLDEzIEBAIHZvaWQgZnJlZV9pbml0X21lbW9yeSh2b2lkKQogICAgIHVpbnQzMl90
ICpwOwogCiAgICAgc2V0X3B0ZV9mbGFnc19vbl9yYW5nZShfX2luaXRfYmVnaW4sIGxlbiwgbWdf
cncpOworCisgICAgLyoKKyAgICAgKiBGcm9tIG5vdyBvbiwgaW5pdCB3aWxsIG5vdCBiZSB1c2Vk
IGZvciBleGVjdXRpb24gYW55bW9yZSwKKyAgICAgKiBzbyBudWtlIHRoZSBpbnN0cnVjdGlvbiBj
YWNoZSB0byByZW1vdmUgZW50cmllcyByZWxhdGVkIHRvIGluaXQuCisgICAgICovCisgICAgaW52
YWxpZGF0ZV9pY2FjaGVfbG9jYWwoKTsKKwogI2lmZGVmIENPTkZJR19BUk1fMzIKICAgICAvKiB1
ZGYgaW5zdHJ1Y3Rpb24gaS5lIChzZWUgQTguOC4yNDcgaW4gQVJNIERESSAwNDA2Qy5jKSAqLwog
ICAgIGluc24gPSAweGU3ZjAwMGYwOwpkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLWFybS9h
cm0zMi9wYWdlLmggYi94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTMyL3BhZ2UuaAppbmRleCBlYTRi
MzEyYzcwLi40MGE3N2RhYTlkIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTMy
L3BhZ2UuaAorKysgYi94ZW4vaW5jbHVkZS9hc20tYXJtL2FybTMyL3BhZ2UuaApAQCAtNDYsMjQg
KzQ2LDE5IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBpbnZhbGlkYXRlX2ljYWNoZSh2b2lkKQogfQog
CiAvKgotICogRmx1c2ggYWxsIGh5cGVydmlzb3IgbWFwcGluZ3MgZnJvbSB0aGUgVExCIGFuZCBi
cmFuY2ggcHJlZGljdG9yIG9mCi0gKiB0aGUgbG9jYWwgcHJvY2Vzc29yLgotICoKLSAqIFRoaXMg
aXMgbmVlZGVkIGFmdGVyIGNoYW5naW5nIFhlbiBjb2RlIG1hcHBpbmdzLgotICoKLSAqIFRoZSBj
YWxsZXIgbmVlZHMgdG8gaXNzdWUgdGhlIG5lY2Vzc2FyeSBEU0IgYW5kIEQtY2FjaGUgZmx1c2hl
cwotICogYmVmb3JlIGNhbGxpbmcgZmx1c2hfeGVuX3RleHRfdGxiLgorICogSW52YWxpZGF0ZSBh
bGwgaW5zdHJ1Y3Rpb24gY2FjaGVzIG9uIHRoZSBsb2NhbCBwcm9jZXNzb3IgdG8gUG9VLgorICog
V2UgYWxzbyBuZWVkIHRvIGZsdXNoIHRoZSBicmFuY2ggcHJlZGljdG9yIGZvciBBUk12NyBhcyBp
dCBtYXkgYmUKKyAqIGFyY2hpdGVjdHVyYWxseSB2aXNpYmxlIHRvIHRoZSBzb2Z0d2FyZSAoc2Vl
IEIyLjIuNCBpbiBBUk0gRERJIDA0MDZDLmIpLgogICovCi1zdGF0aWMgaW5saW5lIHZvaWQgZmx1
c2hfeGVuX3RleHRfdGxiX2xvY2FsKHZvaWQpCitzdGF0aWMgaW5saW5lIHZvaWQgaW52YWxpZGF0
ZV9pY2FjaGVfbG9jYWwodm9pZCkKIHsKICAgICBhc20gdm9sYXRpbGUgKAotICAgICAgICAiaXNi
OyIgICAgICAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgc3luY2hyb25pemF0aW9uIHdpdGgg
cHJldmlvdXMgY2hhbmdlcyB0byB0ZXh0ICovCi0gICAgICAgIENNRF9DUDMyKFRMQklBTExIKSAg
ICAgICAgICAgIC8qIEZsdXNoIGh5cGVydmlzb3IgVExCICovCi0gICAgICAgIENNRF9DUDMyKElD
SUFMTFUpICAgICAgICAgICAgIC8qIEZsdXNoIEktY2FjaGUgKi8KLSAgICAgICAgQ01EX0NQMzIo
QlBJQUxMKSAgICAgICAgICAgICAgLyogRmx1c2ggYnJhbmNoIHByZWRpY3RvciAqLwotICAgICAg
ICAiZHNiOyIgICAgICAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgY29tcGxldGlvbiBvZiBU
TEIrQlAgZmx1c2ggKi8KLSAgICAgICAgImlzYjsiCisgICAgICAgIENNRF9DUDMyKElDSUFMTFUp
ICAgICAgIC8qIEZsdXNoIEktY2FjaGUuICovCisgICAgICAgIENNRF9DUDMyKEJQSUFMTCkgICAg
ICAgIC8qIEZsdXNoIGJyYW5jaCBwcmVkaWN0b3IuICovCiAgICAgICAgIDogOiA6ICJtZW1vcnki
KTsKKworICAgIGRzYihuc2gpOyAgICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgY29tcGxldGlv
biBvZiB0aGUgZmx1c2ggSS1jYWNoZSAqLworICAgIGlzYigpOyAgICAgICAgICAgICAgICAgICAg
ICAvKiBTeW5jaHJvbml6ZSBmZXRjaGVkIGluc3RydWN0aW9uIHN0cmVhbS4gKi8KIH0KIAogLyoK
ZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vYXJtNjQvcGFnZS5oIGIveGVuL2luY2x1
ZGUvYXNtLWFybS9hcm02NC9wYWdlLmgKaW5kZXggMjNkNzc4MTU0ZC4uNmMzNmQwMjEwZiAxMDA2
NDQKLS0tIGEveGVuL2luY2x1ZGUvYXNtLWFybS9hcm02NC9wYWdlLmgKKysrIGIveGVuL2luY2x1
ZGUvYXNtLWFybS9hcm02NC9wYWdlLmgKQEAgLTM3LDIzICszNywxMiBAQCBzdGF0aWMgaW5saW5l
IHZvaWQgaW52YWxpZGF0ZV9pY2FjaGUodm9pZCkKICAgICBpc2IoKTsKIH0KIAotLyoKLSAqIEZs
dXNoIGFsbCBoeXBlcnZpc29yIG1hcHBpbmdzIGZyb20gdGhlIFRMQiBvZiB0aGUgbG9jYWwgcHJv
Y2Vzc29yLgotICoKLSAqIFRoaXMgaXMgbmVlZGVkIGFmdGVyIGNoYW5naW5nIFhlbiBjb2RlIG1h
cHBpbmdzLgotICoKLSAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gaXNzdWUgdGhlIG5lY2Vzc2FyeSBE
U0IgYW5kIEQtY2FjaGUgZmx1c2hlcwotICogYmVmb3JlIGNhbGxpbmcgZmx1c2hfeGVuX3RleHRf
dGxiLgotICovCi1zdGF0aWMgaW5saW5lIHZvaWQgZmx1c2hfeGVuX3RleHRfdGxiX2xvY2FsKHZv
aWQpCisvKiBJbnZhbGlkYXRlIGFsbCBpbnN0cnVjdGlvbiBjYWNoZXMgb24gdGhlIGxvY2FsIHBy
b2Nlc3NvciB0byBQb1UgKi8KK3N0YXRpYyBpbmxpbmUgdm9pZCBpbnZhbGlkYXRlX2ljYWNoZV9s
b2NhbCh2b2lkKQogewotICAgIGFzbSB2b2xhdGlsZSAoCi0gICAgICAgICJpc2I7IiAgICAgICAv
KiBFbnN1cmUgc3luY2hyb25pemF0aW9uIHdpdGggcHJldmlvdXMgY2hhbmdlcyB0byB0ZXh0ICov
Ci0gICAgICAgICJ0bGJpICAgYWxsZTI7IiAgICAgICAgICAgICAgICAgLyogRmx1c2ggaHlwZXJ2
aXNvciBUTEIgKi8KLSAgICAgICAgImljICAgICBpYWxsdTsiICAgICAgICAgICAgICAgICAvKiBG
bHVzaCBJLWNhY2hlICovCi0gICAgICAgICJkc2IgICAgc3k7IiAgICAgICAgICAgICAgICAgICAg
LyogRW5zdXJlIGNvbXBsZXRpb24gb2YgVExCIGZsdXNoICovCi0gICAgICAgICJpc2I7IgotICAg
ICAgICA6IDogOiAibWVtb3J5Iik7CisgICAgYXNtIHZvbGF0aWxlICgiaWMgaWFsbHUiKTsKKyAg
ICBkc2IobnNoKTsgICAgICAgICAgICAgICAvKiBFbnN1cmUgY29tcGxldGlvbiBvZiB0aGUgSS1j
YWNoZSBmbHVzaCAqLworICAgIGlzYigpOwogfQogCiAvKgotLSAKMi4xMS4wCgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

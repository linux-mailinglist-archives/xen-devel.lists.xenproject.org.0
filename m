Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2520787DA5
	for <lists+xen-devel@lfdr.de>; Fri,  9 Aug 2019 17:03:46 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hw6Lv-0006Qz-4q; Fri, 09 Aug 2019 14:58:47 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=yG4W=WF=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1hw6Lt-0006QV-Uh
 for xen-devel@lists.xenproject.org; Fri, 09 Aug 2019 14:58:46 +0000
X-Inumbo-ID: 2c63bc66-bab6-11e9-89b8-8fb395106bcf
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 2c63bc66-bab6-11e9-89b8-8fb395106bcf;
 Fri, 09 Aug 2019 14:58:40 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id EAF72B034;
 Fri,  9 Aug 2019 14:58:38 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Fri,  9 Aug 2019 16:57:50 +0200
Message-Id: <20190809145833.1020-6-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190809145833.1020-1-jgross@suse.com>
References: <20190809145833.1020-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v2 05/48] xen/sched: let pick_cpu return a
 scheduler resource
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, Tim Deegan <tim@xen.org>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <george.dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>,
 Robert VanVossen <robert.vanvossen@dornerworks.com>,
 Dario Faggioli <dfaggioli@suse.com>, Julien Grall <julien.grall@arm.com>,
 Josh Whitehead <josh.whitehead@dornerworks.com>,
 Meng Xu <mengxu@cis.upenn.edu>, Jan Beulich <jbeulich@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SW5zdGVhZCBvZiByZXR1cm5pbmcgYSBwaHlzaWNhbCBjcHUgbnVtYmVyIGxldCBwaWNrX2NwdSgp
IHJldHVybiBhCnNjaGVkdWxlciByZXNvdXJjZSBpbnN0ZWFkLiBSZW5hbWUgcGlja19jcHUoKSB0
byBwaWNrX3Jlc291cmNlKCkgdG8KcmVmbGVjdCB0aGF0IGNoYW5nZS4KClNpZ25lZC1vZmYtYnk6
IEp1ZXJnZW4gR3Jvc3MgPGpncm9zc0BzdXNlLmNvbT4KUmV2aWV3ZWQtYnk6IERhcmlvIEZhZ2dp
b2xpIDxkZmFnZ2lvbGlAc3VzZS5jb20+Ci0tLQogeGVuL2NvbW1vbi9zY2hlZF9hcmluYzY1My5j
ICB8IDEyICsrKysrKy0tLS0tLQogeGVuL2NvbW1vbi9zY2hlZF9jcmVkaXQuYyAgICB8IDE2ICsr
KysrKysrLS0tLS0tLS0KIHhlbi9jb21tb24vc2NoZWRfY3JlZGl0Mi5jICAgfCAyMiArKysrKysr
KysrKy0tLS0tLS0tLS0tCiB4ZW4vY29tbW9uL3NjaGVkX251bGwuYyAgICAgIHwgMjIgKysrKysr
KysrKysrLS0tLS0tLS0tLQogeGVuL2NvbW1vbi9zY2hlZF9ydC5jICAgICAgICB8IDE4ICsrKysr
KysrKy0tLS0tLS0tLQogeGVuL2NvbW1vbi9zY2hlZHVsZS5jICAgICAgICB8IDE4ICsrKysrKysr
KystLS0tLS0tLQogeGVuL2luY2x1ZGUveGVuL3BlcmZjX2RlZm4uaCB8ICAyICstCiB4ZW4vaW5j
bHVkZS94ZW4vc2NoZWQtaWYuaCAgIHwgMTAgKysrKystLS0tLQogOCBmaWxlcyBjaGFuZ2VkLCA2
MiBpbnNlcnRpb25zKCspLCA1OCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS94ZW4vY29tbW9u
L3NjaGVkX2FyaW5jNjUzLmMgYi94ZW4vY29tbW9uL3NjaGVkX2FyaW5jNjUzLmMKaW5kZXggYzEy
YjM2YjJkOC4uOTY5ZGUzMzhiMSAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9zY2hlZF9hcmluYzY1
My5jCisrKyBiL3hlbi9jb21tb24vc2NoZWRfYXJpbmM2NTMuYwpAQCAtNjAxLDE1ICs2MDEsMTUg
QEAgYTY1M3NjaGVkX2RvX3NjaGVkdWxlKAogfQogCiAvKioKLSAqIFhlbiBzY2hlZHVsZXIgY2Fs
bGJhY2sgZnVuY3Rpb24gdG8gc2VsZWN0IGEgQ1BVIGZvciB0aGUgVkNQVSB0byBydW4gb24KKyAq
IFhlbiBzY2hlZHVsZXIgY2FsbGJhY2sgZnVuY3Rpb24gdG8gc2VsZWN0IGEgcmVzb3VyY2UgZm9y
IHRoZSBWQ1BVIHRvIHJ1biBvbgogICoKICAqIEBwYXJhbSBvcHMgICAgICAgUG9pbnRlciB0byB0
aGlzIGluc3RhbmNlIG9mIHRoZSBzY2hlZHVsZXIgc3RydWN0dXJlCiAgKiBAcGFyYW0gdW5pdCAg
ICAgIFBvaW50ZXIgdG8gc3RydWN0IHNjaGVkX3VuaXQKICAqCi0gKiBAcmV0dXJuICAgICAgICAg
IE51bWJlciBvZiBzZWxlY3RlZCBwaHlzaWNhbCBDUFUKKyAqIEByZXR1cm4gICAgICAgICAgU2No
ZWR1bGVyIHJlc291cmNlIHRvIHJ1biBvbgogICovCi1zdGF0aWMgaW50Ci1hNjUzc2NoZWRfcGlj
a19jcHUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5p
dCkKK3N0YXRpYyBzdHJ1Y3Qgc2NoZWRfcmVzb3VyY2UgKgorYTY1M3NjaGVkX3BpY2tfcmVzb3Vy
Y2UoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkK
IHsKICAgICBzdHJ1Y3QgdmNwdSAqdmMgPSB1bml0LT52Y3B1X2xpc3Q7CiAgICAgY3B1bWFza190
ICpvbmxpbmU7CkBAIC02MjcsNyArNjI3LDcgQEAgYTY1M3NjaGVkX3BpY2tfY3B1KGNvbnN0IHN0
cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3VuaXQgKnVuaXQpCiAgICAgICAgICB8
fCAoY3B1ID49IG5yX2NwdV9pZHMpICkKICAgICAgICAgY3B1ID0gdmMtPnByb2Nlc3NvcjsKIAot
ICAgIHJldHVybiBjcHU7CisgICAgcmV0dXJuIGdldF9zY2hlZF9yZXMoY3B1KTsKIH0KIAogLyoq
CkBAIC03MjAsNyArNzIwLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgc2NoZWRf
YXJpbmM2NTNfZGVmID0gewogCiAgICAgLmRvX3NjaGVkdWxlICAgID0gYTY1M3NjaGVkX2RvX3Nj
aGVkdWxlLAogCi0gICAgLnBpY2tfY3B1ICAgICAgID0gYTY1M3NjaGVkX3BpY2tfY3B1LAorICAg
IC5waWNrX3Jlc291cmNlICA9IGE2NTNzY2hlZF9waWNrX3Jlc291cmNlLAogCiAgICAgLnN3aXRj
aF9zY2hlZCAgID0gYTY1M19zd2l0Y2hfc2NoZWQsCiAKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24v
c2NoZWRfY3JlZGl0LmMgYi94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdC5jCmluZGV4IGMzNDQ2NTUx
Y2MuLjZlNTZmMWEzZjYgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vc2NoZWRfY3JlZGl0LmMKKysr
IGIveGVuL2NvbW1vbi9zY2hlZF9jcmVkaXQuYwpAQCAtODUzLDggKzg1Myw4IEBAIF9jc2NoZWRf
Y3B1X3BpY2soY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3QgdmNwdSAqdmMsIGJv
b2xfdCBjb21taXQpCiAgICAgcmV0dXJuIGNwdTsKIH0KIAotc3RhdGljIGludAotY3NjaGVkX2Nw
dV9waWNrKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3VuaXQgKnVu
aXQpCitzdGF0aWMgc3RydWN0IHNjaGVkX3Jlc291cmNlICoKK2NzY2hlZF9yZXNfcGljayhjb25z
dCBzdHJ1Y3Qgc2NoZWR1bGVyICpvcHMsIHN0cnVjdCBzY2hlZF91bml0ICp1bml0KQogewogICAg
IHN0cnVjdCB2Y3B1ICp2YyA9IHVuaXQtPnZjcHVfbGlzdDsKICAgICBzdHJ1Y3QgY3NjaGVkX3Zj
cHUgKnN2YyA9IENTQ0hFRF9WQ1BVKHZjKTsKQEAgLTg2Nyw3ICs4NjcsNyBAQCBjc2NoZWRfY3B1
X3BpY2soY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5p
dCkKICAgICAgKiBnZXQgYm9vc3RlZCwgd2hpY2ggd2UgZG9uJ3QgZGVzZXJ2ZSBhcyB3ZSBhcmUg
Im9ubHkiIG1pZ3JhdGluZy4KICAgICAgKi8KICAgICBzZXRfYml0KENTQ0hFRF9GTEFHX1ZDUFVf
TUlHUkFUSU5HLCAmc3ZjLT5mbGFncyk7Ci0gICAgcmV0dXJuIF9jc2NoZWRfY3B1X3BpY2sob3Bz
LCB2YywgMSk7CisgICAgcmV0dXJuIGdldF9zY2hlZF9yZXMoX2NzY2hlZF9jcHVfcGljayhvcHMs
IHZjLCAxKSk7CiB9CiAKIHN0YXRpYyBpbmxpbmUgdm9pZApAQCAtOTY3LDcgKzk2Nyw3IEBAIGNz
Y2hlZF92Y3B1X2FjY3Qoc3RydWN0IGNzY2hlZF9wcml2YXRlICpwcnYsIHVuc2lnbmVkIGludCBj
cHUpCiAgICAgICAgIC8qCiAgICAgICAgICAqIElmIGl0J3MgYmVlbiBhY3RpdmUgYSB3aGlsZSwg
Y2hlY2sgaWYgd2UnZCBiZSBiZXR0ZXIgb2ZmCiAgICAgICAgICAqIG1pZ3JhdGluZyBpdCB0byBy
dW4gZWxzZXdoZXJlIChzZWUgbXVsdGktY29yZSBhbmQgbXVsdGktdGhyZWFkCi0gICAgICAgICAq
IHN1cHBvcnQgaW4gY3NjaGVkX2NwdV9waWNrKCkpLgorICAgICAgICAgKiBzdXBwb3J0IGluIGNz
Y2hlZF9yZXNfcGljaygpKS4KICAgICAgICAgICovCiAgICAgICAgIG5ld19jcHUgPSBfY3NjaGVk
X2NwdV9waWNrKG9wcywgY3VycmVudCwgMCk7CiAKQEAgLTEwMjIsMTEgKzEwMjIsMTEgQEAgY3Nj
aGVkX3VuaXRfaW5zZXJ0KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVk
X3VuaXQgKnVuaXQpCiAKICAgICBCVUdfT04oIGlzX2lkbGVfdmNwdSh2YykgKTsKIAotICAgIC8q
IGNzY2hlZF9jcHVfcGljaygpIGxvb2tzIGluIHZjLT5wcm9jZXNzb3IncyBydW5xLCBzbyB3ZSBu
ZWVkIHRoZSBsb2NrLiAqLworICAgIC8qIGNzY2hlZF9yZXNfcGljaygpIGxvb2tzIGluIHZjLT5w
cm9jZXNzb3IncyBydW5xLCBzbyB3ZSBuZWVkIHRoZSBsb2NrLiAqLwogICAgIGxvY2sgPSB2Y3B1
X3NjaGVkdWxlX2xvY2tfaXJxKHZjKTsKIAotICAgIHZjLT5wcm9jZXNzb3IgPSBjc2NoZWRfY3B1
X3BpY2sob3BzLCB1bml0KTsKLSAgICB1bml0LT5yZXMgPSBnZXRfc2NoZWRfcmVzKHZjLT5wcm9j
ZXNzb3IpOworICAgIHVuaXQtPnJlcyA9IGNzY2hlZF9yZXNfcGljayhvcHMsIHVuaXQpOworICAg
IHZjLT5wcm9jZXNzb3IgPSB1bml0LT5yZXMtPnByb2Nlc3NvcjsKIAogICAgIHNwaW5fdW5sb2Nr
X2lycShsb2NrKTsKIApAQCAtMjI3OCw3ICsyMjc4LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBz
Y2hlZHVsZXIgc2NoZWRfY3JlZGl0X2RlZiA9IHsKICAgICAuYWRqdXN0X2FmZmluaXR5PSBjc2No
ZWRfYWZmX2NudGwsCiAgICAgLmFkanVzdF9nbG9iYWwgID0gY3NjaGVkX3N5c19jbnRsLAogCi0g
ICAgLnBpY2tfY3B1ICAgICAgID0gY3NjaGVkX2NwdV9waWNrLAorICAgIC5waWNrX3Jlc291cmNl
ICA9IGNzY2hlZF9yZXNfcGljaywKICAgICAuZG9fc2NoZWR1bGUgICAgPSBjc2NoZWRfc2NoZWR1
bGUsCiAKICAgICAuZHVtcF9jcHVfc3RhdGUgPSBjc2NoZWRfZHVtcF9wY3B1LApkaWZmIC0tZ2l0
IGEveGVuL2NvbW1vbi9zY2hlZF9jcmVkaXQyLmMgYi94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdDIu
YwppbmRleCBmN2U1ZjA3YzdmLi40ZGYwYWZlYjAyIDEwMDY0NAotLS0gYS94ZW4vY29tbW9uL3Nj
aGVkX2NyZWRpdDIuYworKysgYi94ZW4vY29tbW9uL3NjaGVkX2NyZWRpdDIuYwpAQCAtNjI2LDkg
KzYyNiw5IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBoYXNfY2FwKGNvbnN0IHN0cnVjdCBjc2NoZWQy
X3ZjcHUgKnN2YykKICAqIHJ1bnEsIF9hbHdheXNfIGhhcHBlbnMgYnkgbWVhbnMgb2YgdGlja2xp
bmc6CiAgKiAgLSB3aGVuIGEgdmNwdSB3YWtlcyB1cCwgaXQgY2FsbHMgY3NjaGVkMl91bml0X3dh
a2UoKSwgd2hpY2ggY2FsbHMKICAqICAgIHJ1bnFfdGlja2xlKCk7Ci0gKiAgLSB3aGVuIGEgbWln
cmF0aW9uIGlzIGluaXRpYXRlZCBpbiBzY2hlZHVsZS5jLCB3ZSBjYWxsIGNzY2hlZDJfY3B1X3Bp
Y2soKSwKKyAqICAtIHdoZW4gYSBtaWdyYXRpb24gaXMgaW5pdGlhdGVkIGluIHNjaGVkdWxlLmMs
IHdlIGNhbGwgY3NjaGVkMl9yZXNfcGljaygpLAogICogICAgY3NjaGVkMl91bml0X21pZ3JhdGUo
KSAod2hpY2ggY2FsbHMgbWlncmF0ZSgpKSBhbmQgY3NjaGVkMl91bml0X3dha2UoKS4KLSAqICAg
IGNzY2hlZDJfY3B1X3BpY2soKSBsb29rcyBmb3IgdGhlIGxlYXN0IGxvYWRlZCBydW5xIGFuZCBy
ZXR1cm4ganVzdCBhbnkKKyAqICAgIGNzY2hlZDJfcmVzX3BpY2soKSBsb29rcyBmb3IgdGhlIGxl
YXN0IGxvYWRlZCBydW5xIGFuZCByZXR1cm4ganVzdCBhbnkKICAqICAgIG9mIGl0cyBwcm9jZXNz
b3JzLiBUaGVuLCBjc2NoZWQyX3VuaXRfbWlncmF0ZSgpIGp1c3QgbW92ZXMgdGhlIHZjcHUgdG8K
ICAqICAgIHRoZSBjaG9zZW4gcnVucSwgYW5kIGl0IGlzIGFnYWluIHJ1bnFfdGlja2xlKCksIGNh
bGxlZCBieQogICogICAgY3NjaGVkMl91bml0X3dha2UoKSB0aGF0IGFjdHVhbGx5IGRlY2lkZXMg
d2hhdCBwY3B1IHRvIHVzZSB3aXRoaW4gdGhlCkBAIC02NzcsNyArNjc3LDcgQEAgdm9pZCBzbXRf
aWRsZV9tYXNrX2NsZWFyKHVuc2lnbmVkIGludCBjcHUsIGNwdW1hc2tfdCAqbWFzaykKIH0KIAog
LyoKLSAqIEluIGNzY2hlZDJfY3B1X3BpY2soKSwgaXQgbWF5IG5vdCBiZSBwb3NzaWJsZSB0byBh
Y3R1YWxseSBsb29rIGF0IHJlbW90ZQorICogSW4gY3NjaGVkMl9yZXNfcGljaygpLCBpdCBtYXkg
bm90IGJlIHBvc3NpYmxlIHRvIGFjdHVhbGx5IGxvb2sgYXQgcmVtb3RlCiAgKiBydW5xdWV1ZXMg
KHRoZSB0cnlsb2NrLXMgb24gdGhlaXIgc3BpbmxvY2tzIGNhbiBmYWlsISkuIElmIHRoYXQgaGFw
cGVucywKICAqIHdlIHBpY2ssIGluIG9yZGVyIG9mIGRlY3JlYXNpbmcgcHJlZmVyZW5jZToKICAq
ICAxKSBzdmMncyBjdXJyZW50IHBjcHUsIGlmIGl0IGlzIHBhcnQgb2Ygc3ZjJ3Mgc29mdCBhZmZp
bml0eTsKQEAgLTIyMDIsOCArMjIwMiw4IEBAIGNzY2hlZDJfY29udGV4dF9zYXZlZChjb25zdCBz
dHJ1Y3Qgc2NoZWR1bGVyICpvcHMsIHN0cnVjdCBzY2hlZF91bml0ICp1bml0KQogfQogCiAjZGVm
aW5lIE1BWF9MT0FEIChTVElNRV9NQVgpCi1zdGF0aWMgaW50Ci1jc2NoZWQyX2NwdV9waWNrKGNv
bnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3VuaXQgKnVuaXQpCitzdGF0
aWMgc3RydWN0IHNjaGVkX3Jlc291cmNlICoKK2NzY2hlZDJfcmVzX3BpY2soY29uc3Qgc3RydWN0
IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkKIHsKICAgICBzdHJ1Y3Qg
Y3NjaGVkMl9wcml2YXRlICpwcnYgPSBjc2NoZWQyX3ByaXYob3BzKTsKICAgICBzdHJ1Y3QgdmNw
dSAqdmMgPSB1bml0LT52Y3B1X2xpc3Q7CkBAIC0yMjE1LDcgKzIyMTUsNyBAQCBjc2NoZWQyX2Nw
dV9waWNrKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3VuaXQgKnVu
aXQpCiAKICAgICBBU1NFUlQoIWNwdW1hc2tfZW1wdHkoJnBydi0+YWN0aXZlX3F1ZXVlcykpOwog
Ci0gICAgU0NIRURfU1RBVF9DUkFOSyhwaWNrX2NwdSk7CisgICAgU0NIRURfU1RBVF9DUkFOSyhw
aWNrX3Jlc291cmNlKTsKIAogICAgIC8qIExvY2tpbmc6CiAgICAgICogLSBSdW5xdWV1ZSBsb2Nr
IG9mIHZjLT5wcm9jZXNzb3IgaXMgYWxyZWFkeSBsb2NrZWQKQEAgLTI0MjQsNyArMjQyNCw3IEBA
IGNzY2hlZDJfY3B1X3BpY2soY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2No
ZWRfdW5pdCAqdW5pdCkKICAgICAgICAgICAgICAgICAgICAgKHVuc2lnbmVkIGNoYXIgKikmZCk7
CiAgICAgfQogCi0gICAgcmV0dXJuIG5ld19jcHU7CisgICAgcmV0dXJuIGdldF9zY2hlZF9yZXMo
bmV3X2NwdSk7CiB9CiAKIC8qIFdvcmtpbmcgc3RhdGUgb2YgdGhlIGxvYWQtYmFsYW5jaW5nIGFs
Z29yaXRobSAqLwpAQCAtMzEyMSwxMSArMzEyMSwxMSBAQCBjc2NoZWQyX3VuaXRfaW5zZXJ0KGNv
bnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3VuaXQgKnVuaXQpCiAgICAg
QVNTRVJUKCFpc19pZGxlX3ZjcHUodmMpKTsKICAgICBBU1NFUlQobGlzdF9lbXB0eSgmc3ZjLT5y
dW5xX2VsZW0pKTsKIAotICAgIC8qIGNzY2hlZDJfY3B1X3BpY2soKSBleHBlY3RzIHRoZSBwY3B1
IGxvY2sgdG8gYmUgaGVsZCAqLworICAgIC8qIGNzY2hlZDJfcmVzX3BpY2soKSBleHBlY3RzIHRo
ZSBwY3B1IGxvY2sgdG8gYmUgaGVsZCAqLwogICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tf
aXJxKHZjKTsKIAotICAgIHZjLT5wcm9jZXNzb3IgPSBjc2NoZWQyX2NwdV9waWNrKG9wcywgdW5p
dCk7Ci0gICAgdW5pdC0+cmVzID0gZ2V0X3NjaGVkX3Jlcyh2Yy0+cHJvY2Vzc29yKTsKKyAgICB1
bml0LT5yZXMgPSBjc2NoZWQyX3Jlc19waWNrKG9wcywgdW5pdCk7CisgICAgdmMtPnByb2Nlc3Nv
ciA9IHVuaXQtPnJlcy0+cHJvY2Vzc29yOwogCiAgICAgc3Bpbl91bmxvY2tfaXJxKGxvY2spOwog
CkBAIC00MTEyLDcgKzQxMTIsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHNjaGVkdWxlciBzY2hl
ZF9jcmVkaXQyX2RlZiA9IHsKICAgICAuYWRqdXN0X2FmZmluaXR5PSBjc2NoZWQyX2FmZl9jbnRs
LAogICAgIC5hZGp1c3RfZ2xvYmFsICA9IGNzY2hlZDJfc3lzX2NudGwsCiAKLSAgICAucGlja19j
cHUgICAgICAgPSBjc2NoZWQyX2NwdV9waWNrLAorICAgIC5waWNrX3Jlc291cmNlICA9IGNzY2hl
ZDJfcmVzX3BpY2ssCiAgICAgLm1pZ3JhdGUgICAgICAgID0gY3NjaGVkMl91bml0X21pZ3JhdGUs
CiAgICAgLmRvX3NjaGVkdWxlICAgID0gY3NjaGVkMl9zY2hlZHVsZSwKICAgICAuY29udGV4dF9z
YXZlZCAgPSBjc2NoZWQyX2NvbnRleHRfc2F2ZWQsCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL3Nj
aGVkX251bGwuYyBiL3hlbi9jb21tb24vc2NoZWRfbnVsbC5jCmluZGV4IDI3Yzg1OWI2ODQuLmRk
OTYxYmMzY2EgMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vc2NoZWRfbnVsbC5jCisrKyBiL3hlbi9j
b21tb24vc2NoZWRfbnVsbC5jCkBAIC0yNjEsOSArMjYxLDExIEBAIHN0YXRpYyB2b2lkIG51bGxf
ZnJlZV9kb21kYXRhKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgdm9pZCAqZGF0YSkKICAq
CiAgKiBTbyB0aGlzIGlzIG5vdCBwYXJ0IG9mIGFueSBob3QgcGF0aC4KICAqLwotc3RhdGljIHVu
c2lnbmVkIGludCBwaWNrX2NwdShzdHJ1Y3QgbnVsbF9wcml2YXRlICpwcnYsIHN0cnVjdCB2Y3B1
ICp2KQorc3RhdGljIHN0cnVjdCBzY2hlZF9yZXNvdXJjZSAqCitwaWNrX3JlcyhzdHJ1Y3QgbnVs
bF9wcml2YXRlICpwcnYsIHN0cnVjdCBzY2hlZF91bml0ICp1bml0KQogewogICAgIHVuc2lnbmVk
IGludCBiczsKKyAgICBzdHJ1Y3QgdmNwdSAqdiA9IHVuaXQtPnZjcHVfbGlzdDsKICAgICB1bnNp
Z25lZCBpbnQgY3B1ID0gdi0+cHJvY2Vzc29yLCBuZXdfY3B1OwogICAgIGNwdW1hc2tfdCAqY3B1
cyA9IGNwdXBvb2xfZG9tYWluX2NwdW1hc2sodi0+ZG9tYWluKTsKIApAQCAtMzI3LDcgKzMyOSw3
IEBAIHN0YXRpYyB1bnNpZ25lZCBpbnQgcGlja19jcHUoc3RydWN0IG51bGxfcHJpdmF0ZSAqcHJ2
LCBzdHJ1Y3QgdmNwdSAqdikKICAgICAgICAgX190cmFjZV92YXIoVFJDX1NOVUxMX1BJQ0tFRF9D
UFUsIDEsIHNpemVvZihkKSwgJmQpOwogICAgIH0KIAotICAgIHJldHVybiBuZXdfY3B1OworICAg
IHJldHVybiBnZXRfc2NoZWRfcmVzKG5ld19jcHUpOwogfQogCiBzdGF0aWMgdm9pZCB2Y3B1X2Fz
c2lnbihzdHJ1Y3QgbnVsbF9wcml2YXRlICpwcnYsIHN0cnVjdCB2Y3B1ICp2LApAQCAtNDU3LDgg
KzQ1OSw4IEBAIHN0YXRpYyB2b2lkIG51bGxfdW5pdF9pbnNlcnQoY29uc3Qgc3RydWN0IHNjaGVk
dWxlciAqb3BzLAogICAgIH0KIAogIHJldHJ5OgotICAgIGNwdSA9IHYtPnByb2Nlc3NvciA9IHBp
Y2tfY3B1KHBydiwgdik7Ci0gICAgdW5pdC0+cmVzID0gZ2V0X3NjaGVkX3JlcyhjcHUpOworICAg
IHVuaXQtPnJlcyA9IHBpY2tfcmVzKHBydiwgdW5pdCk7CisgICAgY3B1ID0gdi0+cHJvY2Vzc29y
ID0gdW5pdC0+cmVzLT5wcm9jZXNzb3I7CiAKICAgICBzcGluX3VubG9jayhsb2NrKTsKIApAQCAt
NTk5LDcgKzYwMSw3IEBAIHN0YXRpYyB2b2lkIG51bGxfdW5pdF93YWtlKGNvbnN0IHN0cnVjdCBz
Y2hlZHVsZXIgKm9wcywKICAgICAgICAgICovCiAgICAgICAgIHdoaWxlICggY3B1bWFza19pbnRl
cnNlY3RzKCZwcnYtPmNwdXNfZnJlZSwgY3B1bWFza19zY3JhdGNoX2NwdShjcHUpKSApCiAgICAg
ICAgIHsKLSAgICAgICAgICAgIHVuc2lnbmVkIGludCBuZXdfY3B1ID0gcGlja19jcHUocHJ2LCB2
KTsKKyAgICAgICAgICAgIHVuc2lnbmVkIGludCBuZXdfY3B1ID0gcGlja19yZXMocHJ2LCB1bml0
KS0+cHJvY2Vzc29yOwogCiAgICAgICAgICAgICBpZiAoIHRlc3RfYW5kX2NsZWFyX2JpdChuZXdf
Y3B1LCAmcHJ2LT5jcHVzX2ZyZWUpICkKICAgICAgICAgICAgIHsKQEAgLTY0OCwxMSArNjUwLDEx
IEBAIHN0YXRpYyB2b2lkIG51bGxfdW5pdF9zbGVlcChjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpv
cHMsCiAgICAgU0NIRURfU1RBVF9DUkFOSyh2Y3B1X3NsZWVwKTsKIH0KIAotc3RhdGljIGludCBu
dWxsX2NwdV9waWNrKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3RydWN0IHNjaGVkX3Vu
aXQgKnVuaXQpCitzdGF0aWMgc3RydWN0IHNjaGVkX3Jlc291cmNlICoKK251bGxfcmVzX3BpY2so
Y29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkKIHsK
LSAgICBzdHJ1Y3QgdmNwdSAqdiA9IHVuaXQtPnZjcHVfbGlzdDsKLSAgICBBU1NFUlQoIWlzX2lk
bGVfdmNwdSh2KSk7Ci0gICAgcmV0dXJuIHBpY2tfY3B1KG51bGxfcHJpdihvcHMpLCB2KTsKKyAg
ICBBU1NFUlQoIWlzX2lkbGVfdmNwdSh1bml0LT52Y3B1X2xpc3QpKTsKKyAgICByZXR1cm4gcGlj
a19yZXMobnVsbF9wcml2KG9wcyksIHVuaXQpOwogfQogCiBzdGF0aWMgdm9pZCBudWxsX3VuaXRf
bWlncmF0ZShjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpvcHMsCkBAIC05ODQsNyArOTg2LDcgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgc2NoZWRfbnVsbF9kZWYgPSB7CiAKICAgICAu
d2FrZSAgICAgICAgICAgPSBudWxsX3VuaXRfd2FrZSwKICAgICAuc2xlZXAgICAgICAgICAgPSBu
dWxsX3VuaXRfc2xlZXAsCi0gICAgLnBpY2tfY3B1ICAgICAgID0gbnVsbF9jcHVfcGljaywKKyAg
ICAucGlja19yZXNvdXJjZSAgPSBudWxsX3Jlc19waWNrLAogICAgIC5taWdyYXRlICAgICAgICA9
IG51bGxfdW5pdF9taWdyYXRlLAogICAgIC5kb19zY2hlZHVsZSAgICA9IG51bGxfc2NoZWR1bGUs
CiAKZGlmZiAtLWdpdCBhL3hlbi9jb21tb24vc2NoZWRfcnQuYyBiL3hlbi9jb21tb24vc2NoZWRf
cnQuYwppbmRleCA3ZTYyMjEwMWE0Li42ZTk0MjRhNDYxIDEwMDY0NAotLS0gYS94ZW4vY29tbW9u
L3NjaGVkX3J0LmMKKysrIGIveGVuL2NvbW1vbi9zY2hlZF9ydC5jCkBAIC02MzEsMTIgKzYzMSwx
MiBAQCByZXBscV9yZWluc2VydChjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpvcHMsIHN0cnVjdCBy
dF92Y3B1ICpzdmMpCiB9CiAKIC8qCi0gKiBQaWNrIGEgdmFsaWQgQ1BVIGZvciB0aGUgdmNwdSB2
YwotICogVmFsaWQgQ1BVIG9mIGEgdmNwdSBpcyBpbnRlc2VjdGlvbiBvZiB2Y3B1J3MgYWZmaW5p
dHkKLSAqIGFuZCBhdmFpbGFibGUgY3B1cworICogUGljayBhIHZhbGlkIHJlc291cmNlIGZvciB0
aGUgdmNwdSB2YworICogVmFsaWQgcmVzb3VyY2Ugb2YgYSB2Y3B1IGlzIGludGVzZWN0aW9uIG9m
IHZjcHUncyBhZmZpbml0eQorICogYW5kIGF2YWlsYWJsZSByZXNvdXJjZXMKICAqLwotc3RhdGlj
IGludAotcnRfY3B1X3BpY2soY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2No
ZWRfdW5pdCAqdW5pdCkKK3N0YXRpYyBzdHJ1Y3Qgc2NoZWRfcmVzb3VyY2UgKgorcnRfcmVzX3Bp
Y2soY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkK
IHsKICAgICBzdHJ1Y3QgdmNwdSAqdmMgPSB1bml0LT52Y3B1X2xpc3Q7CiAgICAgY3B1bWFza190
IGNwdXM7CkBAIC02NTEsNyArNjUxLDcgQEAgcnRfY3B1X3BpY2soY29uc3Qgc3RydWN0IHNjaGVk
dWxlciAqb3BzLCBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkKICAgICAgICAgICAgIDogY3B1bWFz
a19jeWNsZSh2Yy0+cHJvY2Vzc29yLCAmY3B1cyk7CiAgICAgQVNTRVJUKCAhY3B1bWFza19lbXB0
eSgmY3B1cykgJiYgY3B1bWFza190ZXN0X2NwdShjcHUsICZjcHVzKSApOwogCi0gICAgcmV0dXJu
IGNwdTsKKyAgICByZXR1cm4gZ2V0X3NjaGVkX3JlcyhjcHUpOwogfQogCiAvKgpAQCAtODkyLDgg
Kzg5Miw4IEBAIHJ0X3VuaXRfaW5zZXJ0KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3Ry
dWN0IHNjaGVkX3VuaXQgKnVuaXQpCiAgICAgQlVHX09OKCBpc19pZGxlX3ZjcHUodmMpICk7CiAK
ICAgICAvKiBUaGlzIGlzIHNhZmUgYmVjYXVzZSB2YyBpc24ndCB5ZXQgYmVpbmcgc2NoZWR1bGVk
ICovCi0gICAgdmMtPnByb2Nlc3NvciA9IHJ0X2NwdV9waWNrKG9wcywgdW5pdCk7Ci0gICAgdW5p
dC0+cmVzID0gZ2V0X3NjaGVkX3Jlcyh2Yy0+cHJvY2Vzc29yKTsKKyAgICB1bml0LT5yZXMgPSBy
dF9yZXNfcGljayhvcHMsIHVuaXQpOworICAgIHZjLT5wcm9jZXNzb3IgPSB1bml0LT5yZXMtPnBy
b2Nlc3NvcjsKIAogICAgIGxvY2sgPSB2Y3B1X3NjaGVkdWxlX2xvY2tfaXJxKHZjKTsKIApAQCAt
MTU2Miw3ICsxNTYyLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgc2NoZWRfcnRk
c19kZWYgPSB7CiAKICAgICAuYWRqdXN0ICAgICAgICAgPSBydF9kb21fY250bCwKIAotICAgIC5w
aWNrX2NwdSAgICAgICA9IHJ0X2NwdV9waWNrLAorICAgIC5waWNrX3Jlc291cmNlICA9IHJ0X3Jl
c19waWNrLAogICAgIC5kb19zY2hlZHVsZSAgICA9IHJ0X3NjaGVkdWxlLAogICAgIC5zbGVlcCAg
ICAgICAgICA9IHJ0X3VuaXRfc2xlZXAsCiAgICAgLndha2UgICAgICAgICAgID0gcnRfdW5pdF93
YWtlLApkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zY2hlZHVsZS5jIGIveGVuL2NvbW1vbi9zY2hl
ZHVsZS5jCmluZGV4IGY1NDI3Y2YyOWIuLjlhZDExZGM0NmQgMTAwNjQ0Ci0tLSBhL3hlbi9jb21t
b24vc2NoZWR1bGUuYworKysgYi94ZW4vY29tbW9uL3NjaGVkdWxlLmMKQEAgLTg3LDEwICs4Nywx
MCBAQCBzY2hlZF9pZGxlX3N3aXRjaF9zY2hlZChzdHJ1Y3Qgc2NoZWR1bGVyICpuZXdfb3BzLCB1
bnNpZ25lZCBpbnQgY3B1LAogICAgIHJldHVybiAmc2NoZWRfZnJlZV9jcHVfbG9jazsKIH0KIAot
c3RhdGljIGludAotc2NoZWRfaWRsZV9jcHVfcGljayhjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpv
cHMsIHN0cnVjdCBzY2hlZF91bml0ICp1bml0KQorc3RhdGljIHN0cnVjdCBzY2hlZF9yZXNvdXJj
ZSAqCitzY2hlZF9pZGxlX3Jlc19waWNrKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKm9wcywgc3Ry
dWN0IHNjaGVkX3VuaXQgKnVuaXQpCiB7Ci0gICAgcmV0dXJuIHVuaXQtPnJlcy0+cHJvY2Vzc29y
OworICAgIHJldHVybiB1bml0LT5yZXM7CiB9CiAKIHN0YXRpYyB2b2lkICoKQEAgLTEyMiw3ICsx
MjIsNyBAQCBzdGF0aWMgc3RydWN0IHNjaGVkdWxlciBzY2hlZF9pZGxlX29wcyA9IHsKICAgICAu
b3B0X25hbWUgICAgICAgPSAiaWRsZSIsCiAgICAgLnNjaGVkX2RhdGEgICAgID0gTlVMTCwKIAot
ICAgIC5waWNrX2NwdSAgICAgICA9IHNjaGVkX2lkbGVfY3B1X3BpY2ssCisgICAgLnBpY2tfcmVz
b3VyY2UgID0gc2NoZWRfaWRsZV9yZXNfcGljaywKICAgICAuZG9fc2NoZWR1bGUgICAgPSBzY2hl
ZF9pZGxlX3NjaGVkdWxlLAogCiAgICAgLmFsbG9jX3ZkYXRhICAgID0gc2NoZWRfaWRsZV9hbGxv
Y192ZGF0YSwKQEAgLTc0NSw3ICs3NDUsOCBAQCBzdGF0aWMgdm9pZCB2Y3B1X21pZ3JhdGVfZmlu
aXNoKHN0cnVjdCB2Y3B1ICp2KQogICAgICAgICAgICAgICAgIGJyZWFrOwogCiAgICAgICAgICAg
ICAvKiBTZWxlY3QgYSBuZXcgQ1BVLiAqLwotICAgICAgICAgICAgbmV3X2NwdSA9IHNjaGVkX3Bp
Y2tfY3B1KHZjcHVfc2NoZWR1bGVyKHYpLCB2LT5zY2hlZF91bml0KTsKKyAgICAgICAgICAgIG5l
d19jcHUgPSBzY2hlZF9waWNrX3Jlc291cmNlKHZjcHVfc2NoZWR1bGVyKHYpLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi0+c2NoZWRfdW5pdCktPnByb2Nlc3Nv
cjsKICAgICAgICAgICAgIGlmICggKG5ld19sb2NrID09IHBlcl9jcHUoc2NoZWR1bGVfZGF0YSwg
bmV3X2NwdSkuc2NoZWR1bGVfbG9jaykgJiYKICAgICAgICAgICAgICAgICAgY3B1bWFza190ZXN0
X2NwdShuZXdfY3B1LCB2LT5kb21haW4tPmNwdXBvb2wtPmNwdV92YWxpZCkgKQogICAgICAgICAg
ICAgICAgIGJyZWFrOwpAQCAtODU2LDggKzg1Nyw5IEBAIHZvaWQgcmVzdG9yZV92Y3B1X2FmZmlu
aXR5KHN0cnVjdCBkb21haW4gKmQpCiAKICAgICAgICAgLyogdi0+cHJvY2Vzc29yIG1pZ2h0IGhh
dmUgY2hhbmdlZCwgc28gcmVhY3F1aXJlIHRoZSBsb2NrLiAqLwogICAgICAgICBsb2NrID0gdmNw
dV9zY2hlZHVsZV9sb2NrX2lycSh2KTsKLSAgICAgICAgdi0+cHJvY2Vzc29yID0gc2NoZWRfcGlj
a19jcHUodmNwdV9zY2hlZHVsZXIodiksIHYtPnNjaGVkX3VuaXQpOwotICAgICAgICB2LT5zY2hl
ZF91bml0LT5yZXMgPSBnZXRfc2NoZWRfcmVzKHYtPnByb2Nlc3Nvcik7CisgICAgICAgIHYtPnNj
aGVkX3VuaXQtPnJlcyA9IHNjaGVkX3BpY2tfcmVzb3VyY2UodmNwdV9zY2hlZHVsZXIodiksCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi0+c2NoZWRf
dW5pdCk7CisgICAgICAgIHYtPnByb2Nlc3NvciA9IHYtPnNjaGVkX3VuaXQtPnJlcy0+cHJvY2Vz
c29yOwogICAgICAgICBzcGluX3VubG9ja19pcnEobG9jayk7CiAKICAgICAgICAgaWYgKCBvbGRf
Y3B1ICE9IHYtPnByb2Nlc3NvciApCkBAIC0xODQ2LDcgKzE4NDgsNyBAQCB2b2lkIF9faW5pdCBz
Y2hlZHVsZXJfaW5pdCh2b2lkKQogCiAgICAgICAgIHNjaGVkX3Rlc3RfZnVuYyhpbml0KTsKICAg
ICAgICAgc2NoZWRfdGVzdF9mdW5jKGRlaW5pdCk7Ci0gICAgICAgIHNjaGVkX3Rlc3RfZnVuYyhw
aWNrX2NwdSk7CisgICAgICAgIHNjaGVkX3Rlc3RfZnVuYyhwaWNrX3Jlc291cmNlKTsKICAgICAg
ICAgc2NoZWRfdGVzdF9mdW5jKGFsbG9jX3ZkYXRhKTsKICAgICAgICAgc2NoZWRfdGVzdF9mdW5j
KGZyZWVfdmRhdGEpOwogICAgICAgICBzY2hlZF90ZXN0X2Z1bmMoc3dpdGNoX3NjaGVkKTsKZGlm
ZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9wZXJmY19kZWZuLmggYi94ZW4vaW5jbHVkZS94ZW4v
cGVyZmNfZGVmbi5oCmluZGV4IGVmNmY4NmI5MWUuLjFhZDQzODQwODAgMTAwNjQ0Ci0tLSBhL3hl
bi9pbmNsdWRlL3hlbi9wZXJmY19kZWZuLmgKKysrIGIveGVuL2luY2x1ZGUveGVuL3BlcmZjX2Rl
Zm4uaApAQCAtNjksNyArNjksNyBAQCBQRVJGQ09VTlRFUihtaWdyYXRlX29uX3J1bnEsICAgICAg
ICAiY3NjaGVkMjogbWlncmF0ZV9vbl9ydW5xIikKIFBFUkZDT1VOVEVSKG1pZ3JhdGVfbm9fcnVu
cSwgICAgICAgICJjc2NoZWQyOiBtaWdyYXRlX25vX3J1bnEiKQogUEVSRkNPVU5URVIocnVudGlt
ZV9taW5fdGltZXIsICAgICAgImNzY2hlZDI6IHJ1bnRpbWVfbWluX3RpbWVyIikKIFBFUkZDT1VO
VEVSKHJ1bnRpbWVfbWF4X3RpbWVyLCAgICAgICJjc2NoZWQyOiBydW50aW1lX21heF90aW1lciIp
Ci1QRVJGQ09VTlRFUihwaWNrX2NwdSwgICAgICAgICAgICAgICAiY3NjaGVkMjogcGlja19jcHUi
KQorUEVSRkNPVU5URVIocGlja19yZXNvdXJjZSwgICAgICAgICAgImNzY2hlZDI6IHBpY2tfcmVz
b3VyY2UiKQogUEVSRkNPVU5URVIobmVlZF9mYWxsYmFja19jcHUsICAgICAgImNzY2hlZDI6IG5l
ZWRfZmFsbGJhY2tfY3B1IikKIFBFUkZDT1VOVEVSKG1pZ3JhdGVkLCAgICAgICAgICAgICAgICJj
c2NoZWQyOiBtaWdyYXRlZCIpCiBQRVJGQ09VTlRFUihtaWdyYXRlX3Jlc2lzdGVkLCAgICAgICAi
Y3NjaGVkMjogbWlncmF0ZV9yZXNpc3RlZCIpCmRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS94ZW4v
c2NoZWQtaWYuaCBiL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC1pZi5oCmluZGV4IGYzMGRjNGNkZjEu
Ljg4YzFlNmQ1MDUgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC1pZi5oCisrKyBi
L3hlbi9pbmNsdWRlL3hlbi9zY2hlZC1pZi5oCkBAIC0xODksOCArMTg5LDggQEAgc3RydWN0IHNj
aGVkdWxlciB7CiAgICAgc3RydWN0IHRhc2tfc2xpY2UgKCpkb19zY2hlZHVsZSkgKGNvbnN0IHN0
cnVjdCBzY2hlZHVsZXIgKiwgc190aW1lX3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGJvb2xfdCB0YXNrbGV0X3dvcmtfc2NoZWR1bGVkKTsKIAotICAgIGludCAgICAg
ICAgICAoKnBpY2tfY3B1KSAgICAgICAoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHNjaGVkX3VuaXQgKik7CisgICAg
c3RydWN0IHNjaGVkX3Jlc291cmNlICogKCpwaWNrX3Jlc291cmNlKSAoY29uc3Qgc3RydWN0IHNj
aGVkdWxlciAqLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBzY2hlZF91bml0ICopOwogICAgIHZvaWQgICAgICAgICAoKm1pZ3JhdGUpICAgICAg
ICAoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHNjaGVkX3VuaXQgKiwgdW5zaWduZWQgaW50KTsKICAgICBpbnQgICAg
ICAgICAgKCphZGp1c3QpICAgICAgICAgKGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKiwgc3RydWN0
IGRvbWFpbiAqLApAQCAtMzU1LDEwICszNTUsMTAgQEAgc3RhdGljIGlubGluZSB2b2lkIHNjaGVk
X21pZ3JhdGUoY29uc3Qgc3RydWN0IHNjaGVkdWxlciAqcywKICAgICB9CiB9CiAKLXN0YXRpYyBp
bmxpbmUgaW50IHNjaGVkX3BpY2tfY3B1KGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKnMsCi0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc2NoZWRfdW5pdCAqdW5pdCkKK3N0
YXRpYyBpbmxpbmUgc3RydWN0IHNjaGVkX3Jlc291cmNlICpzY2hlZF9waWNrX3Jlc291cmNlKAor
ICAgIGNvbnN0IHN0cnVjdCBzY2hlZHVsZXIgKnMsIHN0cnVjdCBzY2hlZF91bml0ICp1bml0KQog
ewotICAgIHJldHVybiBzLT5waWNrX2NwdShzLCB1bml0KTsKKyAgICByZXR1cm4gcy0+cGlja19y
ZXNvdXJjZShzLCB1bml0KTsKIH0KIAogc3RhdGljIGlubGluZSB2b2lkIHNjaGVkX2FkanVzdF9h
ZmZpbml0eShjb25zdCBzdHJ1Y3Qgc2NoZWR1bGVyICpzLAotLSAKMi4xNi40CgoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcg
bGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

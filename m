Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 4D828E0007
	for <lists+xen-devel@lfdr.de>; Tue, 22 Oct 2019 10:53:41 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iMprC-0004Wr-Gx; Tue, 22 Oct 2019 08:49:34 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=5eab=YP=gmail.com=estebanbosse@srs-us1.protection.inumbo.net>)
 id 1iMpq9-0004Vw-Ko
 for xen-devel@lists.xenproject.org; Tue, 22 Oct 2019 08:48:29 +0000
X-Inumbo-ID: b76d5c96-f4a8-11e9-a531-bc764e2007e4
Received: from mail-wr1-x444.google.com (unknown [2a00:1450:4864:20::444])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id b76d5c96-f4a8-11e9-a531-bc764e2007e4;
 Tue, 22 Oct 2019 08:48:28 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id p4so17043325wrm.8
 for <xen-devel@lists.xenproject.org>; Tue, 22 Oct 2019 01:48:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=message-id:subject:from:to:cc:date:in-reply-to:references
 :user-agent:mime-version:content-transfer-encoding;
 bh=PfdPJmUvnGMSyb0QvY2cAJRWDOWGOUx4wadQl+kGBSo=;
 b=XffrVqn4R3wl7i4l+v5mr3OSJE4AWWvhi1mYomo5m58aJ6uL9YsNVhv9J71O0QlrGs
 g96TzRCal3J7ewSTNLEGQyzYRYxIMNMtkEAzbhkq9kum3OgJU0xT/tbemPjMAhN1aDRJ
 QYHJUffd5QbDNcv9RAvz875+QxtYz9vv+xp+DkgIreKXrjChnet1XP4dBZ1AzGVuZkvy
 EAEX79rX2wh3TjA655Ft+tK6j7KQDUKgFoZHFTdCpFZZka6K/d1glEQxnhHQyHuGTGgd
 ph76k19Pbudn/uiUYobgYTd1efVlhEpP0BAFhbLWf918nQo0MBEBGxmuocO3s6iviV7J
 Ysvg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:message-id:subject:from:to:cc:date:in-reply-to
 :references:user-agent:mime-version:content-transfer-encoding;
 bh=PfdPJmUvnGMSyb0QvY2cAJRWDOWGOUx4wadQl+kGBSo=;
 b=VvBBu+aYdZ4kw5H2joR3LjtCYVVAIvuQX2eRHKlAmCCTB080t7HRz2OLOsUBOEprvY
 RRqSIlqR580Zb2XvsvWE9Ic+9DWwkL45VZHRujjfpqrjsj4WsxtCPllpwS1FhtcZXAJT
 6ppCsxjKFwljSEF6O1D4jupQ40HqesCilcsVWB8ko6czd7sihsjxYrlFDKhdW2kTl3Xh
 Oirjc+xkOEpbfC/fvw95mTzz6Hi4JKwroQpWWLRiChpkU3u2rwQZUN9Lp9zRQKhb8+Td
 IfF+M+wd/lQ/05hC+2QbjtLB2/R/0R0BHLujcxOdhzo/XbbSNgEfkrquLxc+QCiCiEtj
 e3nA==
X-Gm-Message-State: APjAAAUXzDhL5KiO6xcrzFvvWiz0788cDLG6qhl2IkCa49LolPU16cG8
 yrWqCiRY6JLhfk6u5GMtZMQ=
X-Google-Smtp-Source: APXvYqx+Axd83lMU8LKnJVkLcqDfJMA32L6CmH/KHO9BkSG7KUkKodkfYAvEvPQwd4h0EdPh/S8EIA==
X-Received: by 2002:adf:f010:: with SMTP id j16mr2437638wro.317.1571734107470; 
 Tue, 22 Oct 2019 01:48:27 -0700 (PDT)
Received: from ?IPv6:2a01:c23:604c:2a00:af2b:2e92:39f9:c05b?
 ([2a01:c23:604c:2a00:af2b:2e92:39f9:c05b])
 by smtp.gmail.com with ESMTPSA id z13sm20538123wrm.64.2019.10.22.01.48.25
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Tue, 22 Oct 2019 01:48:26 -0700 (PDT)
Message-ID: <27c31440fdab11eff969e656a8ad7063c5e7234c.camel@gmail.com>
From: Esteban Bosse <estebanbosse@gmail.com>
To: Philippe =?ISO-8859-1?Q?Mathieu-Daud=E9?= <philmd@redhat.com>, 
 qemu-devel@nongnu.org
Date: Tue, 22 Oct 2019 10:44:57 +0200
In-Reply-To: <20191018134754.16362-4-philmd@redhat.com>
References: <20191018134754.16362-1-philmd@redhat.com>
 <20191018134754.16362-4-philmd@redhat.com>
User-Agent: Evolution 3.30.5-1.1 
MIME-Version: 1.0
X-Mailman-Approved-At: Tue, 22 Oct 2019 08:49:33 +0000
Subject: Re: [Xen-devel] [PATCH v2 03/20] piix4: Add a i8259 Interrupt
 Controller as specified in datasheet
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, xen-devel@lists.xenproject.org,
 Paul Durrant <paul@xen.org>, "Michael S. Tsirkin" <mst@redhat.com>,
 Eduardo Habkost <ehabkost@redhat.com>,
 =?ISO-8859-1?Q?Herv=E9?= Poussineau <hpoussin@reactos.org>,
 Aleksandar Markovic <amarkovic@wavecomp.com>,
 Igor Mammedov <imammedo@redhat.com>,
 Anthony Perard <anthony.perard@citrix.com>,
 Paolo Bonzini <pbonzini@redhat.com>,
 Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>,
 Aurelien Jarno <aurelien@aurel32.net>, Richard Henderson <rth@twiddle.net>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RWwgdmllLCAxOC0xMC0yMDE5IGEgbGFzIDE1OjQ3ICswMjAwLCBQaGlsaXBwZSBNYXRoaWV1LURh
dWTDqSBlc2NyaWJpw7M6Cj4gRnJvbTogSGVydsOpIFBvdXNzaW5lYXUgPGhwb3Vzc2luQHJlYWN0
b3Mub3JnPgo+IAo+IEFkZCBJU0EgaXJxcyBhcyBwaWl4NCBncGlvIGluLCBhbmQgQ1BVIGludGVy
cnVwdCByZXF1ZXN0IGFzIHBpaXg0Cj4gZ3BpbyBvdXQuCj4gUmVtb3ZlIGk4MjU5IGluc3RhbmNp
YXRlZCBpbiBtYWx0YSBib2FyZCwgdG8gbm90IGhhdmUgaXQgdHdpY2UuCj4gCj4gV2UgY2FuIGFs
c28gcmVtb3ZlIHRoZSBub3cgdW51c2VkIHBpaXg0X2luaXQoKSBmdW5jdGlvbi4KPiAKPiBBY2tl
ZC1ieTogTWljaGFlbCBTLiBUc2lya2luIDxtc3RAcmVkaGF0LmNvbT4KPiBBY2tlZC1ieTogUGFv
bG8gQm9uemluaSA8cGJvbnppbmlAcmVkaGF0LmNvbT4KPiBTaWduZWQtb2ZmLWJ5OiBIZXJ2w6kg
UG91c3NpbmVhdSA8aHBvdXNzaW5AcmVhY3Rvcy5vcmc+Cj4gTWVzc2FnZS1JZDogPDIwMTcxMjE2
MDkwMjI4LjI4NTA1LTgtaHBvdXNzaW5AcmVhY3Rvcy5vcmc+Cj4gUmV2aWV3ZWQtYnk6IEFsZWtz
YW5kYXIgTWFya292aWMgPGFtYXJrb3ZpY0B3YXZlY29tcC5jb20+Cj4gW1BNRDogcmViYXNlZCwg
dXBkYXRlZCBpbmNsdWRlcywgdXNlIElTQV9OVU1fSVJRUyBpbiBmb3IgbG9vcF0KPiBTaWduZWQt
b2ZmLWJ5OiBQaGlsaXBwZSBNYXRoaWV1LURhdWTDqSA8cGhpbG1kQHJlZGhhdC5jb20+Cj4gLS0t
Cj4gIGh3L2lzYS9waWl4NC5jICAgICAgIHwgNDMgKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKystLS0tLS0tLQo+IC0tLQo+ICBody9taXBzL21pcHNfbWFsdGEuYyB8IDMyICsrKysrKysr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0tCj4gIGluY2x1ZGUvaHcvaTM4Ni9wYy5oIHwgIDEgLQo+
ICAzIGZpbGVzIGNoYW5nZWQsIDQ1IGluc2VydGlvbnMoKyksIDMxIGRlbGV0aW9ucygtKQo+IAo+
IGRpZmYgLS1naXQgYS9ody9pc2EvcGlpeDQuYyBiL2h3L2lzYS9waWl4NC5jCj4gaW5kZXggZDBi
MThlMDU4Ni4uOWMzN2M4NWFlMiAxMDA2NDQKPiAtLS0gYS9ody9pc2EvcGlpeDQuYwo+ICsrKyBi
L2h3L2lzYS9waWl4NC5jCj4gQEAgLTI0LDYgKzI0LDcgQEAKPiAgICovCj4gIAo+ICAjaW5jbHVk
ZSAicWVtdS9vc2RlcC5oIgo+ICsjaW5jbHVkZSAiaHcvaXJxLmgiCj4gICNpbmNsdWRlICJody9p
Mzg2L3BjLmgiCj4gICNpbmNsdWRlICJody9wY2kvcGNpLmgiCj4gICNpbmNsdWRlICJody9pc2Ev
aXNhLmgiCj4gQEAgLTM2LDYgKzM3LDggQEAgUENJRGV2aWNlICpwaWl4NF9kZXY7Cj4gIAo+ICB0
eXBlZGVmIHN0cnVjdCBQSUlYNFN0YXRlIHsKPiAgICAgIFBDSURldmljZSBkZXY7Cj4gKyAgICBx
ZW11X2lycSBjcHVfaW50cjsKPiArICAgIHFlbXVfaXJxICppc2E7Cj4gIAo+ICAgICAgLyogUmVz
ZXQgQ29udHJvbCBSZWdpc3RlciAqLwo+ICAgICAgTWVtb3J5UmVnaW9uIHJjcl9tZW07Cj4gQEAg
LTk0LDYgKzk3LDE4IEBAIHN0YXRpYyBjb25zdCBWTVN0YXRlRGVzY3JpcHRpb24gdm1zdGF0ZV9w
aWl4NCA9IHsKPiAgICAgIH0KPiAgfTsKPiAgCj4gK3N0YXRpYyB2b2lkIHBpaXg0X3JlcXVlc3Rf
aTgyNTlfaXJxKHZvaWQgKm9wYXF1ZSwgaW50IGlycSwgaW50Cj4gbGV2ZWwpCj4gK3sKPiArICAg
IFBJSVg0U3RhdGUgKnMgPSBvcGFxdWU7Cj4gKyAgICBxZW11X3NldF9pcnEocy0+Y3B1X2ludHIs
IGxldmVsKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQgcGlpeDRfc2V0X2k4MjU5X2lycSh2b2lk
ICpvcGFxdWUsIGludCBpcnEsIGludCBsZXZlbCkKPiArewo+ICsgICAgUElJWDRTdGF0ZSAqcyA9
IG9wYXF1ZTsKPiArICAgIHFlbXVfc2V0X2lycShzLT5pc2FbaXJxXSwgbGV2ZWwpOwo+ICt9Cj4g
Kwo+ICBzdGF0aWMgdm9pZCBwaWl4NF9yY3Jfd3JpdGUodm9pZCAqb3BhcXVlLCBod2FkZHIgYWRk
ciwgdWludDY0X3QgdmFsLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
aW50IGxlbikKPiAgewo+IEBAIC0xMjcsMjkgKzE0MiwzNSBAQCBzdGF0aWMgY29uc3QgTWVtb3J5
UmVnaW9uT3BzIHBpaXg0X3Jjcl9vcHMgPSB7Cj4gIHN0YXRpYyB2b2lkIHBpaXg0X3JlYWxpemUo
UENJRGV2aWNlICpkZXYsIEVycm9yICoqZXJycCkKPiAgewo+ICAgICAgUElJWDRTdGF0ZSAqcyA9
IFBJSVg0X1BDSV9ERVZJQ0UoZGV2KTsKPiArICAgIElTQUJ1cyAqaXNhX2J1czsKPiArICAgIHFl
bXVfaXJxICppODI1OV9vdXRfaXJxOwo+ICAKPiAtICAgIGlmICghaXNhX2J1c19uZXcoREVWSUNF
KGRldiksIHBjaV9hZGRyZXNzX3NwYWNlKGRldiksCj4gLSAgICAgICAgICAgICAgICAgICAgIHBj
aV9hZGRyZXNzX3NwYWNlX2lvKGRldiksIGVycnApKSB7Cj4gKyAgICBpc2FfYnVzID0gaXNhX2J1
c19uZXcoREVWSUNFKGRldiksIHBjaV9hZGRyZXNzX3NwYWNlKGRldiksCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgcGNpX2FkZHJlc3Nfc3BhY2VfaW8oZGV2KSwgZXJycCk7Cj4gKyAgICBp
ZiAoIWlzYV9idXMpIHsKPiAgICAgICAgICByZXR1cm47Cj4gICAgICB9Cj4gIAo+ICsgICAgcWRl
dl9pbml0X2dwaW9faW5fbmFtZWQoREVWSUNFKGRldiksIHBpaXg0X3NldF9pODI1OV9pcnEsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAiaXNhIiwgSVNBX05VTV9JUlFTKTsKPiArICAg
IHFkZXZfaW5pdF9ncGlvX291dF9uYW1lZChERVZJQ0UoZGV2KSwgJnMtPmNwdV9pbnRyLAo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJpbnRyIiwgMSk7Ck15IHF1ZXN0aW9uIGlzIG5v
dCBhYm91dCB0aGlzIHBhdGNoOgoKVGhlIGZ1bmN0aW9uIG5hbWUgaXMgInFkZXZfaW5pdF9ncGlv
X291dF9uYW1lZCIgYnV0IHN1cHBvcnQgbW9yZSB0aGFuIDEKZ3BpbywgcmlnaHQ/IGluIHRoaXMg
Y2FzZSwgdGhlIG5hbWUgc2hvdWxkbid0IGJlIHNvbWV0aGluZyBsaWtlCiJxZGV2X2luaXRfZ3Bp
b3Nfb3V0X25hbWVkIj8KPiArCj4gICAgICBtZW1vcnlfcmVnaW9uX2luaXRfaW8oJnMtPnJjcl9t
ZW0sIE9CSkVDVChkZXYpLCAmcGlpeDRfcmNyX29wcywKPiBzLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJyZXNldC1jb250cm9sIiwgMSk7Cj4gICAgICBtZW1vcnlfcmVnaW9uX2FkZF9z
dWJyZWdpb25fb3ZlcmxhcChwY2lfYWRkcmVzc19zcGFjZV9pbyhkZXYpLAo+IDB4Y2Y5LAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnMtPnJjcl9tZW0sIDEpOwpX
aHkgZG8geW91IHVzZSB0aGUgcHJpb3JpdHkgMSBpbiB0aGlzIGNhc2U/Cj4gIAo+ICsgICAgLyog
aW5pdGlhbGl6ZSBpODI1OSBwaWMgKi8KPiArICAgIGk4MjU5X291dF9pcnEgPSBxZW11X2FsbG9j
YXRlX2lycXMocGlpeDRfcmVxdWVzdF9pODI1OV9pcnEsIHMsCj4gMSk7Cj4gKyAgICBzLT5pc2Eg
PSBpODI1OV9pbml0KGlzYV9idXMsICppODI1OV9vdXRfaXJxKTsKPiArCj4gKyAgICAvKiBpbml0
aWFsaXplIElTQSBpcnFzICovCj4gKyAgICBpc2FfYnVzX2lycXMoaXNhX2J1cywgcy0+aXNhKTsK
PiArCj4gICAgICBwaWl4NF9kZXYgPSBkZXY7Cj4gIH0KPiAgCj4gLWludCBwaWl4NF9pbml0KFBD
SUJ1cyAqYnVzLCBJU0FCdXMgKippc2FfYnVzLCBpbnQgZGV2Zm4pCj4gLXsKPiAtICAgIFBDSURl
dmljZSAqZDsKPiAtCj4gLSAgICBkID0gcGNpX2NyZWF0ZV9zaW1wbGVfbXVsdGlmdW5jdGlvbihi
dXMsIGRldmZuLCB0cnVlLCAiUElJWDQiKTsKPiAtICAgICppc2FfYnVzID0gSVNBX0JVUyhxZGV2
X2dldF9jaGlsZF9idXMoREVWSUNFKGQpLCAiaXNhLjAiKSk7Cj4gLSAgICByZXR1cm4gZC0+ZGV2
Zm47Cj4gLX0KPiAtCj4gIHN0YXRpYyB2b2lkIHBpaXg0X2NsYXNzX2luaXQoT2JqZWN0Q2xhc3Mg
KmtsYXNzLCB2b2lkICpkYXRhKQo+ICB7Cj4gICAgICBEZXZpY2VDbGFzcyAqZGMgPSBERVZJQ0Vf
Q0xBU1Moa2xhc3MpOwo+IGRpZmYgLS1naXQgYS9ody9taXBzL21pcHNfbWFsdGEuYyBiL2h3L21p
cHMvbWlwc19tYWx0YS5jCj4gaW5kZXggNGQ5YzY0YjM2YS4uN2QyNWFiNmMyMyAxMDA2NDQKPiAt
LS0gYS9ody9taXBzL21pcHNfbWFsdGEuYwo+ICsrKyBiL2h3L21pcHMvbWlwc19tYWx0YS5jCj4g
QEAgLTk3LDcgKzk3LDcgQEAgdHlwZWRlZiBzdHJ1Y3Qgewo+ICAgICAgU3lzQnVzRGV2aWNlIHBh
cmVudF9vYmo7Cj4gIAo+ICAgICAgTUlQU0NQU1N0YXRlIGNwczsKPiAtICAgIHFlbXVfaXJxICpp
ODI1OTsKPiArICAgIHFlbXVfaXJxIGk4MjU5WzE2XTsKPiAgfSBNYWx0YVN0YXRlOwo+ICAKPiAg
c3RhdGljIElTQURldmljZSAqcGl0Owo+IEBAIC0xMjM1LDggKzEyMzUsOCBAQCB2b2lkIG1pcHNf
bWFsdGFfaW5pdChNYWNoaW5lU3RhdGUgKm1hY2hpbmUpCj4gICAgICBpbnQ2NF90IGtlcm5lbF9l
bnRyeSwgYm9vdGxvYWRlcl9ydW5fYWRkcjsKPiAgICAgIFBDSUJ1cyAqcGNpX2J1czsKPiAgICAg
IElTQUJ1cyAqaXNhX2J1czsKPiAtICAgIHFlbXVfaXJxICppc2FfaXJxOwo+ICAgICAgcWVtdV9p
cnEgY2J1c19pcnEsIGk4MjU5X2lycTsKPiArICAgIFBDSURldmljZSAqcGNpOwo+ICAgICAgaW50
IHBpaXg0X2RldmZuOwo+ICAgICAgSTJDQnVzICpzbWJ1czsKPiAgICAgIERyaXZlSW5mbyAqZGlu
Zm87Cj4gQEAgLTE0MDcsMzAgKzE0MDcsMjQgQEAgdm9pZCBtaXBzX21hbHRhX2luaXQoTWFjaGlu
ZVN0YXRlICptYWNoaW5lKQo+ICAgICAgLyogQm9hcmQgSUQgPSAweDQyMCAoTWFsdGEgQm9hcmQg
d2l0aCBDb3JlTFYpICovCj4gICAgICBzdGxfcChtZW1vcnlfcmVnaW9uX2dldF9yYW1fcHRyKGJp
b3NfY29weSkgKyAweDEwLCAweDAwMDAwNDIwKTsKPiAgCj4gLSAgICAvKgo+IC0gICAgICogV2Ug
aGF2ZSBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgcHJvYmxlbTogcGNpX2J1cyBkZXBlbmRzIG9uCj4g
aXNhX2lycSwKPiAtICAgICAqIGlzYV9pcnEgaXMgcHJvdmlkZWQgYnkgaTgyNTksIGk4MjU5IGRl
cGVuZHMgb24gSVNBLCBJU0EKPiBkZXBlbmRzCj4gLSAgICAgKiBvbiBwaWl4NCwgYW5kIHBpaXg0
IGRlcGVuZHMgb24gcGNpX2J1cy4gIFRvIHN0b3AgdGhlIGN5Y2xlIHdlCj4gaGF2ZQo+IC0gICAg
ICogcWVtdV9pcnFfcHJveHkoKSBhZGRzIGFuIGV4dHJhIGJpdCBvZiBpbmRpcmVjdGlvbiwgYWxs
b3dpbmcKPiB1cwo+IC0gICAgICogdG8gcmVzb2x2ZSB0aGUgaXNhX2lycSAtPiBpODI1OSBkZXBl
bmRlbmN5IGFmdGVyIGk4MjU5IGlzCj4gaW5pdGlhbGl6ZWQuCj4gLSAgICAgKi8KPiAtICAgIGlz
YV9pcnEgPSBxZW11X2lycV9wcm94eSgmcy0+aTgyNTksIDE2KTsKPiAtCj4gICAgICAvKiBOb3J0
aGJyaWRnZSAqLwo+IC0gICAgcGNpX2J1cyA9IGd0NjQxMjBfcmVnaXN0ZXIoaXNhX2lycSk7Cj4g
KyAgICBwY2lfYnVzID0gZ3Q2NDEyMF9yZWdpc3RlcihzLT5pODI1OSk7Cj4gIAo+ICAgICAgLyog
U291dGhicmlkZ2UgKi8KPiAgICAgIGlkZV9kcml2ZV9nZXQoaGQsIEFSUkFZX1NJWkUoaGQpKTsK
PiAgCj4gLSAgICBwaWl4NF9kZXZmbiA9IHBpaXg0X2luaXQocGNpX2J1cywgJmlzYV9idXMsIDgw
KTsKPiArICAgIHBjaSA9IHBjaV9jcmVhdGVfc2ltcGxlX211bHRpZnVuY3Rpb24ocGNpX2J1cywg
UENJX0RFVkZOKDEwLCAwKSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdHJ1ZSwgIlBJSVg0Iik7Cj4gKyAgICBkZXYgPSBERVZJQ0UocGNpKTsKPiArICAgIGlz
YV9idXMgPSBJU0FfQlVTKHFkZXZfZ2V0X2NoaWxkX2J1cyhkZXYsICJpc2EuMCIpKTsKPiArICAg
IHBpaXg0X2RldmZuID0gcGNpLT5kZXZmbjsKPiAgCj4gLSAgICAvKgo+IC0gICAgICogSW50ZXJy
dXB0IGNvbnRyb2xsZXIKPiAtICAgICAqIFRoZSA4MjU5IGlzIGF0dGFjaGVkIHRvIHRoZSBNSVBT
IENQVSBJTlQwIHBpbiwgaWUgaW50ZXJydXB0IDIKPiAtICAgICAqLwo+IC0gICAgcy0+aTgyNTkg
PSBpODI1OV9pbml0KGlzYV9idXMsIGk4MjU5X2lycSk7Cj4gKyAgICAvKiBJbnRlcnJ1cHQgY29u
dHJvbGxlciAqLwo+ICsgICAgcWRldl9jb25uZWN0X2dwaW9fb3V0X25hbWVkKGRldiwgImludHIi
LCAwLCBpODI1OV9pcnEpOwo+ICsgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBJU0FfTlVNX0lSUVM7
IGkrKykgewo+ICsgICAgICAgIHMtPmk4MjU5W2ldID0gcWRldl9nZXRfZ3Bpb19pbl9uYW1lZChk
ZXYsICJpc2EiLCBpKTsKPiArICAgIH0KPiAgCj4gLSAgICBpc2FfYnVzX2lycXMoaXNhX2J1cywg
cy0+aTgyNTkpOwo+ICAgICAgcGNpX3BpaXg0X2lkZV9pbml0KHBjaV9idXMsIGhkLCBwaWl4NF9k
ZXZmbiArIDEpOwo+ICAgICAgcGNpX2NyZWF0ZV9zaW1wbGUocGNpX2J1cywgcGlpeDRfZGV2Zm4g
KyAyLCAicGlpeDQtdXNiLXVoY2kiKTsKPiAgICAgIHNtYnVzID0gcGlpeDRfcG1faW5pdChwY2lf
YnVzLCBwaWl4NF9kZXZmbiArIDMsIDB4MTEwMCwKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9ody9p
Mzg2L3BjLmggYi9pbmNsdWRlL2h3L2kzODYvcGMuaAo+IGluZGV4IDM3YmZkOTUxMTMuLjM3NGYz
ZTg4MzUgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9ody9pMzg2L3BjLmgKPiArKysgYi9pbmNsdWRl
L2h3L2kzODYvcGMuaAo+IEBAIC0yODYsNyArMjg2LDYgQEAgUENJQnVzICppNDQwZnhfaW5pdChj
b25zdCBjaGFyICpob3N0X3R5cGUsIGNvbnN0Cj4gY2hhciAqcGNpX3R5cGUsCj4gIFBDSUJ1cyAq
ZmluZF9pNDQwZngodm9pZCk7Cj4gIC8qIHBpaXg0LmMgKi8KPiAgZXh0ZXJuIFBDSURldmljZSAq
cGlpeDRfZGV2Owo+IC1pbnQgcGlpeDRfaW5pdChQQ0lCdXMgKmJ1cywgSVNBQnVzICoqaXNhX2J1
cywgaW50IGRldmZuKTsKPiAgCj4gIC8qIHBjX3N5c2Z3LmMgKi8KPiAgdm9pZCBwY19zeXN0ZW1f
Zmxhc2hfY3JlYXRlKFBDTWFjaGluZVN0YXRlICpwY21zKTsKCgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1k
ZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21h
aWxtYW4vbGlzdGluZm8veGVuLWRldmVs

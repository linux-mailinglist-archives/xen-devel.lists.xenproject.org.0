Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2C7ACAFA77
	for <lists+xen-devel@lfdr.de>; Wed, 11 Sep 2019 12:34:47 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i7zvd-0000Bk-Ki; Wed, 11 Sep 2019 10:32:49 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=AiaO=XG=gmail.com=andrii.anisov@srs-us1.protection.inumbo.net>)
 id 1i7zvc-0000BL-A9
 for xen-devel@lists.xenproject.org; Wed, 11 Sep 2019 10:32:48 +0000
X-Inumbo-ID: 76e7155c-d47f-11e9-b299-bc764e2007e4
Received: from mail-lj1-x243.google.com (unknown [2a00:1450:4864:20::243])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 76e7155c-d47f-11e9-b299-bc764e2007e4;
 Wed, 11 Sep 2019 10:32:33 +0000 (UTC)
Received: by mail-lj1-x243.google.com with SMTP id q64so8938613ljb.12
 for <xen-devel@lists.xenproject.org>; Wed, 11 Sep 2019 03:32:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=FeNrC6ayJRxDhm8dZguxagsFl4ax8cTGLoDLGNor5EU=;
 b=C9Y2hzfU687HJuQP7Y3fi8qDQl9xytXyv9Kyrme6dgV4Xs/WHWxV6XmP7oasg8VfO6
 SJJvsPpb20s4iOcVESxN/NvoBjs78eXLiQ0+RzENMu9W2LZ3gcb5Mk5M5Eyxyo0AoKZk
 lnVlmJW40/0Lf+arcy74Gkj2/vgnabYiuCBcGVZs1akW60WVOsJfmimJHWHNr/GsW8F9
 PNr25QvQAkqBGvheRa9rhIwY3EecSrT3pn2cR8yT3xdjPoE5LWhMbIgQCHWqen8Jg/dn
 OYUokLg9GskhtC99lkwbDYAUuA5kJmWWHI4AsJcsT5wTiehHXDmVlWH+Bgwhi2N2blie
 L7wA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=FeNrC6ayJRxDhm8dZguxagsFl4ax8cTGLoDLGNor5EU=;
 b=HtEQJneMhHVv+PMKfX5s+z+FnYgEFHCyTUJKmELKpdk0eppVlfpGA6jTMus8sRVR2O
 scbFRSE0LG+rUhq8ID58x2zkHgzowzG8NkkfzSvbk0NKa5lvKDkGkvPO0UT8WC5a7xw/
 3Pc7IiYIXG4Ib9vidrfAQy8POKA/3znxdqZjoV16Dg0X0le1nstO6l83OJXSxmAiqbAJ
 kwOyWcgqQD/kdH4Uo31E97hPItooAvMPHLXQ4nmwhl3bZO9V6EoTtCHD+SV/ZmySh5bD
 CUYumcuZMkznid6uuDFeqDkfPPFV9hMsr4D1SfmUdjPDAojdNzSQJa702XJ6xi+ZoN+e
 Z2wA==
X-Gm-Message-State: APjAAAWrWgMp+AY95EB8ocvxcu1Mb811b+yV0xgEtCp1b7k0OjIKLtHi
 kIo/vA+W/Mw7myT0hXN96RbGoXSZo4A=
X-Google-Smtp-Source: APXvYqz5iVXjde/moak1Zqnzh85/RxP2W4dXNPHLLSW6UjD/1QSFoiU471ZYRqoCaWuOqP1lM0sDyQ==
X-Received: by 2002:a2e:9882:: with SMTP id b2mr23024769ljj.225.1568197952337; 
 Wed, 11 Sep 2019 03:32:32 -0700 (PDT)
Received: from aanisov-work.kyiv.epam.com (ll-74.141.223.85.sovam.net.ua.
 [85.223.141.74])
 by smtp.gmail.com with ESMTPSA id w27sm4585275ljd.55.2019.09.11.03.32.30
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Wed, 11 Sep 2019 03:32:31 -0700 (PDT)
From: Andrii Anisov <andrii.anisov@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 11 Sep 2019 13:32:17 +0300
Message-Id: <1568197942-15374-5-git-send-email-andrii.anisov@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1568197942-15374-1-git-send-email-andrii.anisov@gmail.com>
References: <1568197942-15374-1-git-send-email-andrii.anisov@gmail.com>
Subject: [Xen-devel] [RFC 4/9] arm64: utilize time accounting
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Andrii Anisov <andrii_anisov@epam.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogQW5kcmlpIEFuaXNvdiA8YW5kcmlpX2FuaXNvdkBlcGFtLmNvbT4KCkNhbGwgdGltZSBh
Y2NvdW50aW5nIGhvb2tzIGZyb20gYXBwcm9wcmlhdGUgdHJhbnNpdGlvbiBwb2ludHMKb2YgdGhl
IEFSTTY0IGNvZGUuCgpTaWduZWQtb2ZmLWJ5OiBBbmRyaWkgQW5pc292IDxhbmRyaWlfYW5pc292
QGVwYW0uY29tPgotLS0KIHhlbi9hcmNoL2FybS9hcm02NC9lbnRyeS5TIHwgMzkgKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tCiB4ZW4vYXJjaC9hcm0vZG9tYWluLmMgICAg
ICB8ICAyICsrCiAyIGZpbGVzIGNoYW5nZWQsIDM4IGluc2VydGlvbnMoKyksIDMgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gvYXJtL2FybTY0L2VudHJ5LlMgYi94ZW4vYXJjaC9h
cm0vYXJtNjQvZW50cnkuUwppbmRleCAyZDlhMjcxLi42ZmIyZmE5IDEwMDY0NAotLS0gYS94ZW4v
YXJjaC9hcm0vYXJtNjQvZW50cnkuUworKysgYi94ZW4vYXJjaC9hcm0vYXJtNjQvZW50cnkuUwpA
QCAtMTQzLDEyICsxNDMsMjEgQEAKIAogICAgICAgICAuZW5kbQogCi0gICAgICAgIC5tYWNybyAg
ZXhpdCwgaHlwLCBjb21wYXQKKyAgICAgICAgLm1hY3JvICBleGl0LCBoeXAsIGNvbXBhdCwgdGFj
Yz0xCiAKICAgICAgICAgLmlmIFxoeXAgPT0gMCAgICAgICAgIC8qIEd1ZXN0IG1vZGUgKi8KIAor
CS5pZiBcdGFjYyA9PSAxCisKKyAgICAgICAgbW92ICAgICB4MCwgIzEKKyAgICAgICAgYmwgICAg
ICB0YWNjX2h5cAorCisJLmVuZGlmCisKICAgICAgICAgYmwgICAgICBsZWF2ZV9oeXBlcnZpc29y
X3RhaWwgLyogRGlzYWJsZXMgaW50ZXJydXB0cyBvbiByZXR1cm4gKi8KIAorCW1vdiAgICAgeDAs
ICMxCisJYmwgICAgICB0YWNjX2d1ZXN0CiAgICAgICAgIGV4aXRfZ3Vlc3QgXGNvbXBhdAogCiAg
ICAgICAgIC5lbmRpZgpAQCAtMjA1LDkgKzIxNCwxNSBAQCBoeXBfc3luYzoKIAogaHlwX2lycToK
ICAgICAgICAgZW50cnkgICBoeXA9MQorICAgICAgICBtb3YgICAgIHgwLCM1CisgICAgICAgIGJs
ICAgICAgdGFjY19pcnFfZW50ZXIKICAgICAgICAgbXNyICAgICBkYWlmY2xyLCAjNAogICAgICAg
ICBtb3YgICAgIHgwLCBzcAogICAgICAgICBibCAgICAgIGRvX3RyYXBfaXJxCisKKyAgICAgICAg
bW92ICAgICB4MCwjNQorICAgICAgICBibCAgICAgIHRhY2NfaXJxX2V4aXQKKwogICAgICAgICBl
eGl0ICAgIGh5cD0xCiAKIGd1ZXN0X3N5bmM6CkBAIC0yOTEsNiArMzA2LDkgQEAgZ3Vlc3Rfc3lu
Y19zbG93cGF0aDoKICAgICAgICAgICogdG8gc2F2ZSB0aGVtLgogICAgICAgICAgKi8KICAgICAg
ICAgZW50cnkgICBoeXA9MCwgY29tcGF0PTAsIHNhdmVfeDBfeDE9MAorICAgICAgICAKKyAgICAg
ICAgbW92ICAgICB4MCwjMQorICAgICAgICBibCAgICAgIHRhY2NfZ3N5bmMKICAgICAgICAgLyoK
ICAgICAgICAgICogVGhlIHZTRXJyb3Igd2lsbCBiZSBjaGVja2VkIHdoaWxlIFNLSVBfU1lOQ0hS
T05JWkVfU0VSUk9SX0VOVFJZX0VYSVQKICAgICAgICAgICogaXMgbm90IHNldC4gSWYgYSB2U0Vy
cm9yIHRvb2sgcGxhY2UsIHRoZSBpbml0aWFsIGV4Y2VwdGlvbiB3aWxsIGJlCkBAIC0zMDcsNiAr
MzI1LDEwIEBAIGd1ZXN0X3N5bmNfc2xvd3BhdGg6CiAKIGd1ZXN0X2lycToKICAgICAgICAgZW50
cnkgICBoeXA9MCwgY29tcGF0PTAKKworICAgICAgICBtb3YgICAgIHgwLCM2CisgICAgICAgIGJs
ICAgICAgdGFjY19pcnFfZW50ZXIKKwogICAgICAgICAvKgogICAgICAgICAgKiBUaGUgdlNFcnJv
ciB3aWxsIGJlIGNoZWNrZWQgd2hpbGUgU0tJUF9TWU5DSFJPTklaRV9TRVJST1JfRU5UUllfRVhJ
VAogICAgICAgICAgKiBpcyBub3Qgc2V0LiBJZiBhIHZTRXJyb3IgdG9vayBwbGFjZSwgdGhlIGlu
aXRpYWwgZXhjZXB0aW9uIHdpbGwgYmUKQEAgLTMxOSw2ICszNDEsOCBAQCBndWVzdF9pcnE6CiAg
ICAgICAgIG1vdiAgICAgeDAsIHNwCiAgICAgICAgIGJsICAgICAgZG9fdHJhcF9pcnEKIDE6CisJ
bW92CXgwLCM2CisgICAgICAgIGJsICAgICAgdGFjY19pcnFfZXhpdAogICAgICAgICBleGl0ICAg
IGh5cD0wLCBjb21wYXQ9MAogCiBndWVzdF9maXFfaW52YWxpZDoKQEAgLTMzNCw2ICszNTgsOSBA
QCBndWVzdF9lcnJvcjoKIAogZ3Vlc3Rfc3luY19jb21wYXQ6CiAgICAgICAgIGVudHJ5ICAgaHlw
PTAsIGNvbXBhdD0xCisKKyAgICAgICAgbW92ICAgICB4MCwjMgorICAgICAgICBibCAgICAgIHRh
Y2NfZ3N5bmMKICAgICAgICAgLyoKICAgICAgICAgICogVGhlIHZTRXJyb3Igd2lsbCBiZSBjaGVj
a2VkIHdoaWxlIFNLSVBfU1lOQ0hST05JWkVfU0VSUk9SX0VOVFJZX0VYSVQKICAgICAgICAgICog
aXMgbm90IHNldC4gSWYgYSB2U0Vycm9yIHRvb2sgcGxhY2UsIHRoZSBpbml0aWFsIGV4Y2VwdGlv
biB3aWxsIGJlCkBAIC0zNTAsNiArMzc3LDEwIEBAIGd1ZXN0X3N5bmNfY29tcGF0OgogCiBndWVz
dF9pcnFfY29tcGF0OgogICAgICAgICBlbnRyeSAgIGh5cD0wLCBjb21wYXQ9MQorCisgICAgICAg
IG1vdiAgICAgeDAsIzcKKyAgICAgICAgYmwgICAgICB0YWNjX2lycV9lbnRlcgorCiAgICAgICAg
IC8qCiAgICAgICAgICAqIFRoZSB2U0Vycm9yIHdpbGwgYmUgY2hlY2tlZCB3aGlsZSBTS0lQX1NZ
TkNIUk9OSVpFX1NFUlJPUl9FTlRSWV9FWElUCiAgICAgICAgICAqIGlzIG5vdCBzZXQuIElmIGEg
dlNFcnJvciB0b29rIHBsYWNlLCB0aGUgaW5pdGlhbCBleGNlcHRpb24gd2lsbCBiZQpAQCAtMzYy
LDYgKzM5Myw4IEBAIGd1ZXN0X2lycV9jb21wYXQ6CiAgICAgICAgIG1vdiAgICAgeDAsIHNwCiAg
ICAgICAgIGJsICAgICAgZG9fdHJhcF9pcnEKIDE6CisgICAgICAgIG1vdiAgICAgeDAsIzcKKyAg
ICAgICAgYmwgICAgICB0YWNjX2lycV9leGl0CiAgICAgICAgIGV4aXQgICAgaHlwPTAsIGNvbXBh
dD0xCiAKIGd1ZXN0X2ZpcV9pbnZhbGlkX2NvbXBhdDoKQEAgLTM3Niw5ICs0MDksOSBAQCBndWVz
dF9lcnJvcl9jb21wYXQ6CiAgICAgICAgIGV4aXQgICAgaHlwPTAsIGNvbXBhdD0xCiAKIEVOVFJZ
KHJldHVybl90b19uZXdfdmNwdTMyKQotICAgICAgICBleGl0ICAgIGh5cD0wLCBjb21wYXQ9MQor
ICAgICAgICBleGl0ICAgIGh5cD0wLCBjb21wYXQ9MSwgdGFjYz0wCiBFTlRSWShyZXR1cm5fdG9f
bmV3X3ZjcHU2NCkKLSAgICAgICAgZXhpdCAgICBoeXA9MCwgY29tcGF0PTAKKyAgICAgICAgZXhp
dCAgICBoeXA9MCwgY29tcGF0PTAsIHRhY2M9MAogCiByZXR1cm5fZnJvbV90cmFwOgogICAgICAg
ICBtc3IgICAgIGRhaWZzZXQsICMyIC8qIE1hc2sgaW50ZXJydXB0cyAqLwpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gvYXJtL2RvbWFpbi5jIGIveGVuL2FyY2gvYXJtL2RvbWFpbi5jCmluZGV4IGE5YzQx
MTMuLjUzZWY2MzAgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9kb21haW4uYworKysgYi94ZW4v
YXJjaC9hcm0vZG9tYWluLmMKQEAgLTUxLDExICs1MSwxMyBAQCBzdGF0aWMgdm9pZCBkb19pZGxl
KHZvaWQpCiAgICAgcHJvY2Vzc19wZW5kaW5nX3NvZnRpcnFzKCk7CiAKICAgICBsb2NhbF9pcnFf
ZGlzYWJsZSgpOworICAgIHRhY2NfaWRsZSgxKTsKICAgICBpZiAoIGNwdV9pc19oYWx0YWJsZShj
cHUpICkKICAgICB7CiAgICAgICAgIGRzYihzeSk7CiAgICAgICAgIHdmaSgpOwogICAgIH0KKyAg
ICB0YWNjX2h5cCgyKTsKICAgICBsb2NhbF9pcnFfZW5hYmxlKCk7CiAKICAgICBzY2hlZF90aWNr
X3Jlc3VtZSgpOwotLSAKMi43LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5w
cm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8v
eGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 9EB03AE1AA
	for <lists+xen-devel@lfdr.de>; Tue, 10 Sep 2019 02:24:04 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i7Trc-0007XF-N7; Tue, 10 Sep 2019 00:18:32 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=HXfy=XF=kernel.org=sstabellini@srs-us1.protection.inumbo.net>)
 id 1i7Trc-0007XA-23
 for xen-devel@lists.xenproject.org; Tue, 10 Sep 2019 00:18:32 +0000
X-Inumbo-ID: 8403bd8c-d360-11e9-ac17-12813bfff9fa
Received: from mail.kernel.org (unknown [198.145.29.99])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 8403bd8c-d360-11e9-ac17-12813bfff9fa;
 Tue, 10 Sep 2019 00:18:30 +0000 (UTC)
Received: from localhost (c-67-164-102-47.hsd1.ca.comcast.net [67.164.102.47])
 (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256
 bits)) (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id C351C21670;
 Tue, 10 Sep 2019 00:18:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1568074709;
 bh=YgqPgucJuky5FcSp0vrxNvRL/Fngfl3HUuoywRnLxy0=;
 h=Date:From:To:cc:Subject:In-Reply-To:References:From;
 b=jDdg6bjkfqRkN2qiY8xoU/nMdM+W40s+tBS17TmDrDcR3MECdp1nBG0NCqvoH4YvV
 BhBFaNaLjghh08U+HyVFYhOT2bdGVC30dg4Fe3ALVyp/kGUA3+wG2mX1tAtaVHNUem
 LmajRzth9Ln8b9KkbWlaJjYNjxw9p2XvDczARe2k=
Date: Mon, 9 Sep 2019 17:18:27 -0700 (PDT)
From: Stefano Stabellini <sstabellini@kernel.org>
X-X-Sender: sstabellini@sstabellini-ThinkPad-T480s
To: Christoph Hellwig <hch@lst.de>
In-Reply-To: <20190905113408.3104-2-hch@lst.de>
Message-ID: <alpine.DEB.2.21.1909091659220.29131@sstabellini-ThinkPad-T480s>
References: <20190905113408.3104-1-hch@lst.de>
 <20190905113408.3104-2-hch@lst.de>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
Subject: Re: [Xen-devel] [PATCH 01/11] xen/arm: use dma-noncoherent.h calls
 for xen-swiotlb cache maintainance
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>, gross@suse.com, x86@kernel.org,
 linux-kernel@vger.kernel.org, iommu@lists.linux-foundation.org,
 xen-devel@lists.xenproject.org, boris.ostrovsky@oracle.com,
 linux-arm-kernel@lists.infradead.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gVGh1LCA1IFNlcCAyMDE5LCBDaHJpc3RvcGggSGVsbHdpZyB3cm90ZToKPiBDb3B5IHRoZSBh
cm02NCBjb2RlIHRoYXQgdXNlcyB0aGUgZG1hLWRpcmVjdC9zd2lvdGxiIGhlbHBlcnMgZm9yIERN
QQo+IG9uLWNvaGVyZW50IGRldmljZXMuCj4gCj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0b3BoIEhl
bGx3aWcgPGhjaEBsc3QuZGU+CgpUaGlzIGlzIG11Y2ggYmV0dGVyIGFuZCBtdWNoIG1vcmUgcmVh
ZGFibGUuCgpSZXZpZXdlZC1ieTogU3RlZmFubyBTdGFiZWxsaW5pIDxzc3RhYmVsbGluaUBrZXJu
ZWwub3JnPgoKPiAtLS0KPiAgYXJjaC9hcm0vaW5jbHVkZS9hc20vZGV2aWNlLmggICAgICAgICAg
ICB8ICAzIC0KPiAgYXJjaC9hcm0vaW5jbHVkZS9hc20veGVuL3BhZ2UtY29oZXJlbnQuaCB8IDcy
ICsrKysrKysrKy0tLS0tLS0tLS0tLS0tLQo+ICBhcmNoL2FybS9tbS9kbWEtbWFwcGluZy5jICAg
ICAgICAgICAgICAgIHwgIDggKy0tCj4gIGRyaXZlcnMveGVuL3N3aW90bGIteGVuLmMgICAgICAg
ICAgICAgICAgfCAyMCAtLS0tLS0tCj4gIDQgZmlsZXMgY2hhbmdlZCwgMjggaW5zZXJ0aW9ucygr
KSwgNzUgZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL2FyY2gvYXJtL2luY2x1ZGUvYXNt
L2RldmljZS5oIGIvYXJjaC9hcm0vaW5jbHVkZS9hc20vZGV2aWNlLmgKPiBpbmRleCBmNjk1NWI1
NWM1NDQuLmM2NzViYzBkNWFhOCAxMDA2NDQKPiAtLS0gYS9hcmNoL2FybS9pbmNsdWRlL2FzbS9k
ZXZpY2UuaAo+ICsrKyBiL2FyY2gvYXJtL2luY2x1ZGUvYXNtL2RldmljZS5oCj4gQEAgLTE0LDkg
KzE0LDYgQEAgc3RydWN0IGRldl9hcmNoZGF0YSB7Cj4gICNlbmRpZgo+ICAjaWZkZWYgQ09ORklH
X0FSTV9ETUFfVVNFX0lPTU1VCj4gIAlzdHJ1Y3QgZG1hX2lvbW11X21hcHBpbmcJKm1hcHBpbmc7
Cj4gLSNlbmRpZgo+IC0jaWZkZWYgQ09ORklHX1hFTgo+IC0JY29uc3Qgc3RydWN0IGRtYV9tYXBf
b3BzICpkZXZfZG1hX29wczsKPiAgI2VuZGlmCj4gIAl1bnNpZ25lZCBpbnQgZG1hX2NvaGVyZW50
OjE7Cj4gIAl1bnNpZ25lZCBpbnQgZG1hX29wc19zZXR1cDoxOwo+IGRpZmYgLS1naXQgYS9hcmNo
L2FybS9pbmNsdWRlL2FzbS94ZW4vcGFnZS1jb2hlcmVudC5oIGIvYXJjaC9hcm0vaW5jbHVkZS9h
c20veGVuL3BhZ2UtY29oZXJlbnQuaAo+IGluZGV4IDJjNDAzZTdjNzgyZC4uNjAyYWMwMmYxNTRj
IDEwMDY0NAo+IC0tLSBhL2FyY2gvYXJtL2luY2x1ZGUvYXNtL3hlbi9wYWdlLWNvaGVyZW50LmgK
PiArKysgYi9hcmNoL2FybS9pbmNsdWRlL2FzbS94ZW4vcGFnZS1jb2hlcmVudC5oCj4gQEAgLTYs
MjMgKzYsMzcgQEAKPiAgI2luY2x1ZGUgPGFzbS9wYWdlLmg+Cj4gICNpbmNsdWRlIDx4ZW4vYXJt
L3BhZ2UtY29oZXJlbnQuaD4KPiAgCj4gLXN0YXRpYyBpbmxpbmUgY29uc3Qgc3RydWN0IGRtYV9t
YXBfb3BzICp4ZW5fZ2V0X2RtYV9vcHMoc3RydWN0IGRldmljZSAqZGV2KQo+IC17Cj4gLQlpZiAo
ZGV2ICYmIGRldi0+YXJjaGRhdGEuZGV2X2RtYV9vcHMpCj4gLQkJcmV0dXJuIGRldi0+YXJjaGRh
dGEuZGV2X2RtYV9vcHM7Cj4gLQlyZXR1cm4gZ2V0X2FyY2hfZG1hX29wcyhOVUxMKTsKPiAtfQo+
IC0KPiAgc3RhdGljIGlubGluZSB2b2lkICp4ZW5fYWxsb2NfY29oZXJlbnRfcGFnZXMoc3RydWN0
IGRldmljZSAqaHdkZXYsIHNpemVfdCBzaXplLAo+ICAJCWRtYV9hZGRyX3QgKmRtYV9oYW5kbGUs
IGdmcF90IGZsYWdzLCB1bnNpZ25lZCBsb25nIGF0dHJzKQo+ICB7Cj4gLQlyZXR1cm4geGVuX2dl
dF9kbWFfb3BzKGh3ZGV2KS0+YWxsb2MoaHdkZXYsIHNpemUsIGRtYV9oYW5kbGUsIGZsYWdzLCBh
dHRycyk7Cj4gKwlyZXR1cm4gZG1hX2RpcmVjdF9hbGxvYyhod2Rldiwgc2l6ZSwgZG1hX2hhbmRs
ZSwgZmxhZ3MsIGF0dHJzKTsKPiAgfQo+ICAKPiAgc3RhdGljIGlubGluZSB2b2lkIHhlbl9mcmVl
X2NvaGVyZW50X3BhZ2VzKHN0cnVjdCBkZXZpY2UgKmh3ZGV2LCBzaXplX3Qgc2l6ZSwKPiAgCQl2
b2lkICpjcHVfYWRkciwgZG1hX2FkZHJfdCBkbWFfaGFuZGxlLCB1bnNpZ25lZCBsb25nIGF0dHJz
KQo+ICB7Cj4gLQl4ZW5fZ2V0X2RtYV9vcHMoaHdkZXYpLT5mcmVlKGh3ZGV2LCBzaXplLCBjcHVf
YWRkciwgZG1hX2hhbmRsZSwgYXR0cnMpOwo+ICsJZG1hX2RpcmVjdF9mcmVlKGh3ZGV2LCBzaXpl
LCBjcHVfYWRkciwgZG1hX2hhbmRsZSwgYXR0cnMpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW5saW5l
IHZvaWQgeGVuX2RtYV9zeW5jX3NpbmdsZV9mb3JfY3B1KHN0cnVjdCBkZXZpY2UgKmh3ZGV2LAo+
ICsJCWRtYV9hZGRyX3QgaGFuZGxlLCBzaXplX3Qgc2l6ZSwgZW51bSBkbWFfZGF0YV9kaXJlY3Rp
b24gZGlyKQo+ICt7Cj4gKwl1bnNpZ25lZCBsb25nIHBmbiA9IFBGTl9ET1dOKGhhbmRsZSk7Cj4g
Kwo+ICsJaWYgKHBmbl92YWxpZChwZm4pKQo+ICsJCWRtYV9kaXJlY3Rfc3luY19zaW5nbGVfZm9y
X2NwdShod2RldiwgaGFuZGxlLCBzaXplLCBkaXIpOwo+ICsJZWxzZQo+ICsJCV9feGVuX2RtYV9z
eW5jX3NpbmdsZV9mb3JfY3B1KGh3ZGV2LCBoYW5kbGUsIHNpemUsIGRpcik7Cj4gK30KPiArCj4g
K3N0YXRpYyBpbmxpbmUgdm9pZCB4ZW5fZG1hX3N5bmNfc2luZ2xlX2Zvcl9kZXZpY2Uoc3RydWN0
IGRldmljZSAqaHdkZXYsCj4gKwkJZG1hX2FkZHJfdCBoYW5kbGUsIHNpemVfdCBzaXplLCBlbnVt
IGRtYV9kYXRhX2RpcmVjdGlvbiBkaXIpCj4gK3sKPiArCXVuc2lnbmVkIGxvbmcgcGZuID0gUEZO
X0RPV04oaGFuZGxlKTsKPiArCWlmIChwZm5fdmFsaWQocGZuKSkKPiArCQlkbWFfZGlyZWN0X3N5
bmNfc2luZ2xlX2Zvcl9kZXZpY2UoaHdkZXYsIGhhbmRsZSwgc2l6ZSwgZGlyKTsKPiArCWVsc2UK
PiArCQlfX3hlbl9kbWFfc3luY19zaW5nbGVfZm9yX2RldmljZShod2RldiwgaGFuZGxlLCBzaXpl
LCBkaXIpOwo+ICB9Cj4gIAo+ICBzdGF0aWMgaW5saW5lIHZvaWQgeGVuX2RtYV9tYXBfcGFnZShz
dHJ1Y3QgZGV2aWNlICpod2Rldiwgc3RydWN0IHBhZ2UgKnBhZ2UsCj4gQEAgLTM2LDE3ICs1MCw4
IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCB4ZW5fZG1hX21hcF9wYWdlKHN0cnVjdCBkZXZpY2UgKmh3
ZGV2LCBzdHJ1Y3QgcGFnZSAqcGFnZSwKPiAgCWJvb2wgbG9jYWwgPSAocGFnZV9wZm4gPD0gZGV2
X3BmbikgJiYKPiAgCQkoZGV2X3BmbiAtIHBhZ2VfcGZuIDwgY29tcG91bmRfcGFnZXMpOwo+ICAK
PiAtCS8qCj4gLQkgKiBEb20wIGlzIG1hcHBlZCAxOjEsIHdoaWxlIHRoZSBMaW51eCBwYWdlIGNh
biBzcGFuIGFjcm9zcwo+IC0JICogbXVsdGlwbGUgWGVuIHBhZ2VzLCBpdCdzIG5vdCBwb3NzaWJs
ZSBmb3IgaXQgdG8gY29udGFpbiBhCj4gLQkgKiBtaXggb2YgbG9jYWwgYW5kIGZvcmVpZ24gWGVu
IHBhZ2VzLiBTbyBpZiB0aGUgZmlyc3QgeGVuX3Bmbgo+IC0JICogPT0gbWZuIHRoZSBwYWdlIGlz
IGxvY2FsIG90aGVyd2lzZSBpdCdzIGEgZm9yZWlnbiBwYWdlCj4gLQkgKiBncmFudC1tYXBwZWQg
aW4gZG9tMC4gSWYgdGhlIHBhZ2UgaXMgbG9jYWwgd2UgY2FuIHNhZmVseQo+IC0JICogY2FsbCB0
aGUgbmF0aXZlIGRtYV9vcHMgZnVuY3Rpb24sIG90aGVyd2lzZSB3ZSBjYWxsIHRoZSB4ZW4KPiAt
CSAqIHNwZWNpZmljIGZ1bmN0aW9uLgo+IC0JICovCj4gIAlpZiAobG9jYWwpCj4gLQkJeGVuX2dl
dF9kbWFfb3BzKGh3ZGV2KS0+bWFwX3BhZ2UoaHdkZXYsIHBhZ2UsIG9mZnNldCwgc2l6ZSwgZGly
LCBhdHRycyk7Cj4gKwkJZG1hX2RpcmVjdF9tYXBfcGFnZShod2RldiwgcGFnZSwgb2Zmc2V0LCBz
aXplLCBkaXIsIGF0dHJzKTsKPiAgCWVsc2UKPiAgCQlfX3hlbl9kbWFfbWFwX3BhZ2UoaHdkZXYs
IHBhZ2UsIGRldl9hZGRyLCBvZmZzZXQsIHNpemUsIGRpciwgYXR0cnMpOwo+ICB9Cj4gQEAgLTYz
LDMzICs2OCwxMCBAQCBzdGF0aWMgaW5saW5lIHZvaWQgeGVuX2RtYV91bm1hcF9wYWdlKHN0cnVj
dCBkZXZpY2UgKmh3ZGV2LCBkbWFfYWRkcl90IGhhbmRsZSwKPiAgCSAqIHNhZmVseSBjYWxsIHRo
ZSBuYXRpdmUgZG1hX29wcyBmdW5jdGlvbiwgb3RoZXJ3aXNlIHdlIGNhbGwgdGhlIHhlbgo+ICAJ
ICogc3BlY2lmaWMgZnVuY3Rpb24uCj4gIAkgKi8KPiAtCWlmIChwZm5fdmFsaWQocGZuKSkgewo+
IC0JCWlmICh4ZW5fZ2V0X2RtYV9vcHMoaHdkZXYpLT51bm1hcF9wYWdlKQo+IC0JCQl4ZW5fZ2V0
X2RtYV9vcHMoaHdkZXYpLT51bm1hcF9wYWdlKGh3ZGV2LCBoYW5kbGUsIHNpemUsIGRpciwgYXR0
cnMpOwo+IC0JfSBlbHNlCj4gKwlpZiAocGZuX3ZhbGlkKHBmbikpCj4gKwkJZG1hX2RpcmVjdF91
bm1hcF9wYWdlKGh3ZGV2LCBoYW5kbGUsIHNpemUsIGRpciwgYXR0cnMpOwo+ICsJZWxzZQo+ICAJ
CV9feGVuX2RtYV91bm1hcF9wYWdlKGh3ZGV2LCBoYW5kbGUsIHNpemUsIGRpciwgYXR0cnMpOwo+
ICB9Cj4gIAo+IC1zdGF0aWMgaW5saW5lIHZvaWQgeGVuX2RtYV9zeW5jX3NpbmdsZV9mb3JfY3B1
KHN0cnVjdCBkZXZpY2UgKmh3ZGV2LAo+IC0JCWRtYV9hZGRyX3QgaGFuZGxlLCBzaXplX3Qgc2l6
ZSwgZW51bSBkbWFfZGF0YV9kaXJlY3Rpb24gZGlyKQo+IC17Cj4gLQl1bnNpZ25lZCBsb25nIHBm
biA9IFBGTl9ET1dOKGhhbmRsZSk7Cj4gLQlpZiAocGZuX3ZhbGlkKHBmbikpIHsKPiAtCQlpZiAo
eGVuX2dldF9kbWFfb3BzKGh3ZGV2KS0+c3luY19zaW5nbGVfZm9yX2NwdSkKPiAtCQkJeGVuX2dl
dF9kbWFfb3BzKGh3ZGV2KS0+c3luY19zaW5nbGVfZm9yX2NwdShod2RldiwgaGFuZGxlLCBzaXpl
LCBkaXIpOwo+IC0JfSBlbHNlCj4gLQkJX194ZW5fZG1hX3N5bmNfc2luZ2xlX2Zvcl9jcHUoaHdk
ZXYsIGhhbmRsZSwgc2l6ZSwgZGlyKTsKPiAtfQo+IC0KPiAtc3RhdGljIGlubGluZSB2b2lkIHhl
bl9kbWFfc3luY19zaW5nbGVfZm9yX2RldmljZShzdHJ1Y3QgZGV2aWNlICpod2RldiwKPiAtCQlk
bWFfYWRkcl90IGhhbmRsZSwgc2l6ZV90IHNpemUsIGVudW0gZG1hX2RhdGFfZGlyZWN0aW9uIGRp
cikKPiAtewo+IC0JdW5zaWduZWQgbG9uZyBwZm4gPSBQRk5fRE9XTihoYW5kbGUpOwo+IC0JaWYg
KHBmbl92YWxpZChwZm4pKSB7Cj4gLQkJaWYgKHhlbl9nZXRfZG1hX29wcyhod2RldiktPnN5bmNf
c2luZ2xlX2Zvcl9kZXZpY2UpCj4gLQkJCXhlbl9nZXRfZG1hX29wcyhod2RldiktPnN5bmNfc2lu
Z2xlX2Zvcl9kZXZpY2UoaHdkZXYsIGhhbmRsZSwgc2l6ZSwgZGlyKTsKPiAtCX0gZWxzZQo+IC0J
CV9feGVuX2RtYV9zeW5jX3NpbmdsZV9mb3JfZGV2aWNlKGh3ZGV2LCBoYW5kbGUsIHNpemUsIGRp
cik7Cj4gLX0KPiAtCj4gICNlbmRpZiAvKiBfQVNNX0FSTV9YRU5fUEFHRV9DT0hFUkVOVF9IICov
Cj4gZGlmZiAtLWdpdCBhL2FyY2gvYXJtL21tL2RtYS1tYXBwaW5nLmMgYi9hcmNoL2FybS9tbS9k
bWEtbWFwcGluZy5jCj4gaW5kZXggZDQyNTU3ZWU2OWMyLi43MzgwOTczOTY0NDUgMTAwNjQ0Cj4g
LS0tIGEvYXJjaC9hcm0vbW0vZG1hLW1hcHBpbmcuYwo+ICsrKyBiL2FyY2gvYXJtL21tL2RtYS1t
YXBwaW5nLmMKPiBAQCAtMTEzMiwxMCArMTEzMiw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZG1h
X21hcF9vcHMgKmFybV9nZXRfZG1hX21hcF9vcHMoYm9vbCBjb2hlcmVudCkKPiAgCSAqIDMyLWJp
dCBETUEuCj4gIAkgKiBVc2UgdGhlIGdlbmVyaWMgZG1hLWRpcmVjdCAvIHN3aW90bGIgb3BzIGNv
ZGUgaW4gdGhhdCBjYXNlLCBhcyB0aGF0Cj4gIAkgKiBoYW5kbGVzIGJvdW5jZSBidWZmZXJpbmcg
Zm9yIHVzLgo+IC0JICoKPiAtCSAqIE5vdGU6IHRoaXMgY2hlY2tzIENPTkZJR19BUk1fTFBBRSBp
bnN0ZWFkIG9mIENPTkZJR19TV0lPVExCIGFzIHRoZQo+IC0JICogbGF0dGVyIGlzIGFsc28gc2Vs
ZWN0ZWQgYnkgdGhlIFhlbiBjb2RlLCBidXQgdGhhdCBjb2RlIGZvciBub3cgcmVsaWVzCj4gLQkg
KiBvbiBub24tTlVMTCBkZXZfZG1hX29wcy4gIFRvIGJlIGNsZWFuZWQgdXAgbGF0ZXIuCj4gIAkg
Ki8KPiAgCWlmIChJU19FTkFCTEVEKENPTkZJR19BUk1fTFBBRSkpCj4gIAkJcmV0dXJuIE5VTEw7
Cj4gQEAgLTIzNjMsMTAgKzIzNTksOCBAQCB2b2lkIGFyY2hfc2V0dXBfZG1hX29wcyhzdHJ1Y3Qg
ZGV2aWNlICpkZXYsIHU2NCBkbWFfYmFzZSwgdTY0IHNpemUsCj4gIAlzZXRfZG1hX29wcyhkZXYs
IGRtYV9vcHMpOwo+ICAKPiAgI2lmZGVmIENPTkZJR19YRU4KPiAtCWlmICh4ZW5faW5pdGlhbF9k
b21haW4oKSkgewo+IC0JCWRldi0+YXJjaGRhdGEuZGV2X2RtYV9vcHMgPSBkZXYtPmRtYV9vcHM7
Cj4gKwlpZiAoeGVuX2luaXRpYWxfZG9tYWluKCkpCj4gIAkJZGV2LT5kbWFfb3BzID0geGVuX2Rt
YV9vcHM7Cj4gLQl9Cj4gICNlbmRpZgo+ICAJZGV2LT5hcmNoZGF0YS5kbWFfb3BzX3NldHVwID0g
dHJ1ZTsKPiAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3hlbi9zd2lvdGxiLXhlbi5jIGIvZHJp
dmVycy94ZW4vc3dpb3RsYi14ZW4uYwo+IGluZGV4IGFlMWRmNDk2YmYzOC4uZWVlODZjYzcwNDZi
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMveGVuL3N3aW90bGIteGVuLmMKPiArKysgYi9kcml2ZXJz
L3hlbi9zd2lvdGxiLXhlbi5jCj4gQEAgLTU1NywxMSArNTU3LDYgQEAgeGVuX3N3aW90bGJfZG1h
X21tYXAoc3RydWN0IGRldmljZSAqZGV2LCBzdHJ1Y3Qgdm1fYXJlYV9zdHJ1Y3QgKnZtYSwKPiAg
CQkgICAgIHZvaWQgKmNwdV9hZGRyLCBkbWFfYWRkcl90IGRtYV9hZGRyLCBzaXplX3Qgc2l6ZSwK
PiAgCQkgICAgIHVuc2lnbmVkIGxvbmcgYXR0cnMpCj4gIHsKPiAtI2lmZGVmIENPTkZJR19BUk0K
PiAtCWlmICh4ZW5fZ2V0X2RtYV9vcHMoZGV2KS0+bW1hcCkKPiAtCQlyZXR1cm4geGVuX2dldF9k
bWFfb3BzKGRldiktPm1tYXAoZGV2LCB2bWEsIGNwdV9hZGRyLAo+IC0JCQkJCQkgICAgZG1hX2Fk
ZHIsIHNpemUsIGF0dHJzKTsKPiAtI2VuZGlmCj4gIAlyZXR1cm4gZG1hX2NvbW1vbl9tbWFwKGRl
diwgdm1hLCBjcHVfYWRkciwgZG1hX2FkZHIsIHNpemUsIGF0dHJzKTsKPiAgfQo+ICAKPiBAQCAt
NTc0LDIxICs1NjksNiBAQCB4ZW5fc3dpb3RsYl9nZXRfc2d0YWJsZShzdHJ1Y3QgZGV2aWNlICpk
ZXYsIHN0cnVjdCBzZ190YWJsZSAqc2d0LAo+ICAJCQl2b2lkICpjcHVfYWRkciwgZG1hX2FkZHJf
dCBoYW5kbGUsIHNpemVfdCBzaXplLAo+ICAJCQl1bnNpZ25lZCBsb25nIGF0dHJzKQo+ICB7Cj4g
LSNpZmRlZiBDT05GSUdfQVJNCj4gLQlpZiAoeGVuX2dldF9kbWFfb3BzKGRldiktPmdldF9zZ3Rh
YmxlKSB7Cj4gLSNpZiAwCj4gLQkvKgo+IC0JICogVGhpcyBjaGVjayB2ZXJpZmllcyB0aGF0IHRo
ZSBwYWdlIGJlbG9uZ3MgdG8gdGhlIGN1cnJlbnQgZG9tYWluIGFuZAo+IC0JICogaXMgbm90IG9u
ZSBtYXBwZWQgZnJvbSBhbm90aGVyIGRvbWFpbi4KPiAtCSAqIFRoaXMgY2hlY2sgaXMgZm9yIGRl
YnVnIG9ubHksIGFuZCBzaG91bGQgbm90IGdvIHRvIHByb2R1Y3Rpb24gYnVpbGQKPiAtCSAqLwo+
IC0JCXVuc2lnbmVkIGxvbmcgYmZuID0gUEhZU19QRk4oZG1hX3RvX3BoeXMoZGV2LCBoYW5kbGUp
KTsKPiAtCQlCVUdfT04gKCFwYWdlX2lzX3JhbShiZm4pKTsKPiAtI2VuZGlmCj4gLQkJcmV0dXJu
IHhlbl9nZXRfZG1hX29wcyhkZXYpLT5nZXRfc2d0YWJsZShkZXYsIHNndCwgY3B1X2FkZHIsCj4g
LQkJCQkJCQkgICBoYW5kbGUsIHNpemUsIGF0dHJzKTsKPiAtCX0KPiAtI2VuZGlmCj4gIAlyZXR1
cm4gZG1hX2NvbW1vbl9nZXRfc2d0YWJsZShkZXYsIHNndCwgY3B1X2FkZHIsIGhhbmRsZSwgc2l6
ZSwgYXR0cnMpOwo+ICB9Cj4gIAo+IC0tIAo+IDIuMjAuMQo+IAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4t
ZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9t
YWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

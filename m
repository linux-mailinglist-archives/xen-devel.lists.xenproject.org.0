Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DC85B34ACE
	for <lists+xen-devel@lfdr.de>; Tue,  4 Jun 2019 16:47:43 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hYAet-0007Nf-Kj; Tue, 04 Jun 2019 14:43:27 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=KH14=UD=citrix.com=andrew.cooper3@srs-us1.protection.inumbo.net>)
 id 1hYAer-0007N8-8L
 for xen-devel@lists.xenproject.org; Tue, 04 Jun 2019 14:43:25 +0000
X-Inumbo-ID: 1909f454-86d7-11e9-bc78-7fab11029a38
Received: from esa5.hc3370-68.iphmx.com (unknown [216.71.155.168])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 1909f454-86d7-11e9-bc78-7fab11029a38;
 Tue, 04 Jun 2019 14:43:21 +0000 (UTC)
Authentication-Results: esa5.hc3370-68.iphmx.com;
 dkim=none (message not signed) header.i=none;
 spf=None smtp.pra=andrew.cooper3@citrix.com;
 spf=Pass smtp.mailfrom=Andrew.Cooper3@citrix.com;
 spf=None smtp.helo=postmaster@MIAPEX02MSOL02.citrite.net
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 andrew.cooper3@citrix.com) identity=pra;
 client-ip=23.29.105.83; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="andrew.cooper3@citrix.com";
 x-conformance=sidf_compatible
Received-SPF: Pass (esa5.hc3370-68.iphmx.com: domain of
 Andrew.Cooper3@citrix.com designates 23.29.105.83 as
 permitted sender) identity=mailfrom; client-ip=23.29.105.83;
 receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="Andrew.Cooper3@citrix.com";
 x-conformance=sidf_compatible; x-record-type="v=spf1";
 x-record-text="v=spf1 ip4:209.167.231.154 ip4:178.63.86.133
 ip4:195.66.111.40/30 ip4:85.115.9.32/28 ip4:199.102.83.4
 ip4:192.28.146.160 ip4:192.28.146.107 ip4:216.52.6.88
 ip4:216.52.6.188 ip4:23.29.105.83 ip4:162.221.156.50 ~all"
Received-SPF: None (esa5.hc3370-68.iphmx.com: no sender
 authenticity information available from domain of
 postmaster@MIAPEX02MSOL02.citrite.net) identity=helo;
 client-ip=23.29.105.83; receiver=esa5.hc3370-68.iphmx.com;
 envelope-from="Andrew.Cooper3@citrix.com";
 x-sender="postmaster@MIAPEX02MSOL02.citrite.net";
 x-conformance=sidf_compatible
IronPort-SDR: cca+/uJSg/1CSoYVnGtrTtzq5iPfnUfd8adGNiOwx0lONMgAdSj+H5/5IQiHlTsl4fjUpOba24
 yzDpc/goPeu82SXkQusf/w+oxtT5v6HX+jbCc+mrsqx2bgGwWPGZNI7NAiH9Iu98aqbxtECwce
 /vv6M16gQ5ONUpiILREAJnr77SncxhmkNLQt3iJCLFhZYjr0AXRE46i1OtePfTnSsYCLb3ML8G
 kKToIEuoNdzRJxnHvPBHUaggtW1adG3FTjo8UOxQuHztUwCHDy1qVQiQri4wkIuTPQU7Qtny09
 Wa4=
X-SBRS: 2.7
X-MesageID: 1274842
X-Ironport-Server: esa5.hc3370-68.iphmx.com
X-Remote-IP: 23.29.105.83
X-Policy: $RELAYED
X-IronPort-AV: E=Sophos;i="5.60,550,1549947600"; 
   d="scan'208";a="1274842"
To: Petre Pircalabu <ppircalabu@bitdefender.com>,
 <xen-devel@lists.xenproject.org>
References: <cover.1559224640.git.ppircalabu@bitdefender.com>
 <3ec19ed5425a62ecbc524e44c4bba86d5fe41762.1559224640.git.ppircalabu@bitdefender.com>
From: Andrew Cooper <andrew.cooper3@citrix.com>
Openpgp: preference=signencrypt
Autocrypt: addr=andrew.cooper3@citrix.com; prefer-encrypt=mutual; keydata=
 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
 6+ahAA==
Message-ID: <74176687-4c9f-f2dc-fafa-a999e3129f3c@citrix.com>
Date: Tue, 4 Jun 2019 15:43:16 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
MIME-Version: 1.0
In-Reply-To: <3ec19ed5425a62ecbc524e44c4bba86d5fe41762.1559224640.git.ppircalabu@bitdefender.com>
Content-Language: en-GB
X-ClientProxiedBy: AMSPEX02CAS01.citrite.net (10.69.22.112) To
 AMSPEX02CL02.citrite.net (10.69.22.126)
Subject: Re: [Xen-devel] [PATCH 8/9] vm_event: Add vm_event_ng interface
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>,
 Razvan Cojocaru <rcojocaru@bitdefender.com>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>, George
 Dunlap <George.Dunlap@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Julien Grall <julien.grall@arm.com>,
 Tamas K Lengyel <tamas@tklengyel.com>, Jan Beulich <jbeulich@suse.com>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMzAvMDUvMjAxOSAxNToxOCwgUGV0cmUgUGlyY2FsYWJ1IHdyb3RlOgo+IEluIGhpZ2ggdGhy
b3VnaHB1dCBpbnRyb3NwZWN0aW9uIHNjZW5hcmlvcyB3aGVyZSBsb3RzIG9mIG1vbml0b3IKPiB2
bV9ldmVudHMgYXJlIGdlbmVyYXRlZCwgdGhlIHJpbmcgYnVmZmVyIGNhbiBmaWxsIHVwIGJlZm9y
ZSB0aGUgbW9uaXRvcgo+IGFwcGxpY2F0aW9uIGdldHMgYSBjaGFuY2UgdG8gaGFuZGxlIGFsbCB0
aGUgcmVxdWVzdHMgdGh1cyBibG9ja2luZwo+IG90aGVyIHZjcHVzIHdoaWNoIHdpbGwgaGF2ZSB0
byB3YWl0IGZvciBhIHNsb3QgdG8gYmVjb21lIGF2YWlsYWJsZS4KPgo+IFRoaXMgcGF0Y2ggYWRk
cyBzdXBwb3J0IGZvciBhIGRpZmZlcmVudCBtZWNoYW5pc20gdG8gaGFuZGxlIHN5bmNocm9ub3Vz
Cj4gdm1fZXZlbnQgcmVxdWVzdHMgLyByZXNwb25zZXMuIEFzIGVhY2ggc3luY2hyb25vdXMgcmVx
dWVzdCBwYXVzZXMgdGhlCj4gdmNwdSB1bnRpbCB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZSBp
cyBoYW5kbGVkLCBpdCBjYW4gYmUgc3RvcmVkIGluCj4gYSBzbG90dGVkIG1lbW9yeSBidWZmZXIg
KG9uZSBwZXIgdmNwdSkgc2hhcmVkIGJldHdlZW4gdGhlIGh5cGVydmlzb3IgYW5kCj4gdGhlIGNv
bnRyb2xsaW5nIGRvbWFpbi4KPgo+IFNpZ25lZC1vZmYtYnk6IFBldHJlIFBpcmNhbGFidSA8cHBp
cmNhbGFidUBiaXRkZWZlbmRlci5jb20+CgpUaGVyZSBhcmUgYSBudW1iZXIgb2YgY29uY2VybnMg
aGVyZS4KCkZpcnN0IGFuZCBmb3JlbW9zdCwgd2h5IGlzIGEgbmV3IGRvbWN0bCBiZWluZyBhZGRl
ZD/CoCBTdXJlbHkgdGhpcyBzaG91bGQKanVzdCBiZSBhICJ0eXBlIG9mIHJpbmcgYWNjZXNzIiBw
YXJhbWV0ZXIgdG8gZXZlbnRfZW5hYmxlP8KgIEV2ZXJ5dGhpbmcKZWxzZSBpbiB0aGUgdm1fZXZl
bnQgc2V0IG9mIEFQSXMgc2hvdWxkIGJlIHVuY2hhbmdlZCBhcyBhIHJlc3VsdCBvZiB0aGUKaW50
ZXJmYWNlIGRpZmZlcmVuY2VzLgoKT3IgYW0gSSBtaXNzaW5nIHNvbWV0aGluZz8KCj4gZGlmZiAt
LWdpdCBhL3hlbi9jb21tb24vdm1fZXZlbnRfbmcuYyBiL3hlbi9jb21tb24vdm1fZXZlbnRfbmcu
Ywo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMC4uMTdhZTMzYwo+IC0tLSAv
ZGV2L251bGwKPiArKysgYi94ZW4vY29tbW9uL3ZtX2V2ZW50X25nLmMKPiA8c25pcD4KPgo+ICtz
dGF0aWMgaW50IHZtX2V2ZW50X2NoYW5uZWxzX2FsbG9jX2J1ZmZlcihzdHJ1Y3Qgdm1fZXZlbnRf
Y2hhbm5lbHNfZG9tYWluICppbXBsKQo+ICt7Cj4gKyAgICBpbnQgaSwgcmMgPSAtRU5PTUVNOwo+
ICsKPiArICAgIGZvciAoIGkgPSAwOyBpIDwgaW1wbC0+bnJfZnJhbWVzOyBpKysgKQo+ICsgICAg
ewo+ICsgICAgICAgIHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UgPSBhbGxvY19kb21oZWFwX3BhZ2Uo
aW1wbC0+dmVkLmQsIDApOwoKVGhpcyBjcmVhdGVzIHBhZ2VzIHdoaWNoIGFyZSByZWZlcmVuY2Ut
YWJsZSAoaW4gcHJpbmNpcGxlKSBieSB0aGUgZ3Vlc3QsCmFuZCBhcmUgYm91bmRlZCBieSBkLT5t
YXhfcGFnZXMuCgpCb3RoIG9mIHRoZXNlIGFyZSBwcm9wZXJ0aWVzIG9mIHRoZSBleGlzdGluZyBp
bnRlcmZhY2Ugd2hpY2ggd2UnZCBwcmVmZXIKdG8gcmVtb3ZlLgoKPiArICAgICAgICBpZiAoICFw
YWdlICkKPiArICAgICAgICAgICAgZ290byBlcnI7Cj4gKwo+ICsgICAgICAgIGlmICggIWdldF9w
YWdlX2FuZF90eXBlKHBhZ2UsIGltcGwtPnZlZC5kLCBQR1Rfd3JpdGFibGVfcGFnZSkgKQo+ICsg
ICAgICAgIHsKPiArICAgICAgICAgICAgcmMgPSAtRU5PREFUQTsKPiArICAgICAgICAgICAgZ290
byBlcnI7Cj4gKyAgICAgICAgfQo+ICsKPiArICAgICAgICBpbXBsLT5tZm5baV0gPSBwYWdlX3Rv
X21mbihwYWdlKTsKPiArICAgIH0KPiArCj4gKyAgICBpbXBsLT5zbG90cyA9IChzdHJ1Y3Qgdm1f
ZXZlbnRfc2xvdCAqKXZtYXAoaW1wbC0+bWZuLCBpbXBsLT5ucl9mcmFtZXMpOwoKWW91IGFwcGVh
ciB0byBoYXZlIG9wZW5jb2RlZCB2bWFsbG9jKCkgaGVyZS7CoCBJcyB0aGVyZSBhbnkgcmVhc29u
IG5vdCB0bwp1c2UgdGhhdD8KCj4gKyAgICBpZiAoICFpbXBsLT5zbG90cyApCj4gKyAgICAgICAg
Z290byBlcnI7Cj4gKwo+ICsgICAgZm9yICggaSA9IDA7IGkgPCBpbXBsLT5ucl9mcmFtZXM7IGkr
KyApCj4gKyAgICAgICAgY2xlYXJfcGFnZSgodm9pZCopaW1wbC0+c2xvdHMgKyBpICogUEFHRV9T
SVpFKTsKPiArCj4gKyAgICByZXR1cm4gMDsKPiArCj4gK2VycjoKPiArICAgIHdoaWxlICggLS1p
ID49IDAgKQo+ICsgICAgewo+ICsgICAgICAgIHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UgPSBtZm5f
dG9fcGFnZShpbXBsLT5tZm5baV0pOwo+ICsKPiArICAgICAgICBpZiAoIHRlc3RfYW5kX2NsZWFy
X2JpdChfUEdDX2FsbG9jYXRlZCwgJnBhZ2UtPmNvdW50X2luZm8pICkKPiArICAgICAgICAgICAg
cHV0X3BhZ2UocGFnZSk7Cj4gKyAgICAgICAgcHV0X3BhZ2VfYW5kX3R5cGUocGFnZSk7Cj4gKyAg
ICB9Cj4gKwo+ICsgICAgcmV0dXJuIHJjOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB2bV9ldmVu
dF9jaGFubmVsc19mcmVlX2J1ZmZlcihzdHJ1Y3Qgdm1fZXZlbnRfY2hhbm5lbHNfZG9tYWluICpp
bXBsKQo+ICt7Cj4gKyAgICBpbnQgaTsKPiArCj4gKyAgICBBU1NFUlQoaW1wbCk7Cj4gKwo+ICsg
ICAgaWYgKCAhaW1wbC0+c2xvdHMgKQo+ICsgICAgICAgIHJldHVybjsKPiArCj4gKyAgICB2dW5t
YXAoaW1wbC0+c2xvdHMpOwo+ICsKPiArICAgIGZvciAoIGkgPSAwOyBpIDwgaW1wbC0+bnJfZnJh
bWVzOyBpKysgKQo+ICsgICAgewo+ICsgICAgICAgIHN0cnVjdCBwYWdlX2luZm8gKnBhZ2UgPSBt
Zm5fdG9fcGFnZShpbXBsLT5tZm5baV0pOwo+ICsKPiArICAgICAgICBBU1NFUlQocGFnZSk7Cgpt
Zm5fdG9fcGFnZSgpIGlzIGdvaW5nIHRvIGV4cGxvZGUgYmVmb3JlIHRoaXMgQVNTRVJUKCkgZG9l
cy4KCj4gKyAgICAgICAgaWYgKCB0ZXN0X2FuZF9jbGVhcl9iaXQoX1BHQ19hbGxvY2F0ZWQsICZw
YWdlLT5jb3VudF9pbmZvKSApCj4gKyAgICAgICAgICAgIHB1dF9wYWdlKHBhZ2UpOwo+ICsgICAg
ICAgIHB1dF9wYWdlX2FuZF90eXBlKHBhZ2UpOwo+ICsgICAgfQo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW50IHZtX2V2ZW50X2NoYW5uZWxzX2NyZWF0ZSgKPiArICAgIHN0cnVjdCBkb21haW4gKmQsCj4g
KyAgICBzdHJ1Y3QgeGVuX2RvbWN0bF92bV9ldmVudF9uZ19vcCAqdmVjLAo+ICsgICAgc3RydWN0
IHZtX2V2ZW50X2RvbWFpbiAqKl92ZWQsCj4gKyAgICBpbnQgcGF1c2VfZmxhZywKPiArICAgIHhl
bl9ldmVudF9jaGFubmVsX25vdGlmaWNhdGlvbl90IG5vdGlmaWNhdGlvbl9mbikKPiArewo+ICsg
ICAgaW50IHJjLCBpOwo+ICsgICAgdW5zaWduZWQgaW50IG5yX2ZyYW1lcyA9IFBGTl9VUChkLT5t
YXhfdmNwdXMgKiBzaXplb2Yoc3RydWN0IHZtX2V2ZW50X3Nsb3QpKTsKPiArICAgIHN0cnVjdCB2
bV9ldmVudF9jaGFubmVsc19kb21haW4gKmltcGw7Cj4gKwo+ICsgICAgaWYgKCAqX3ZlZCApCj4g
KyAgICAgICAgcmV0dXJuIC1FQlVTWTsKPiArCj4gKyAgICBpbXBsID0gX3h6YWxsb2Moc2l6ZW9m
KHN0cnVjdCB2bV9ldmVudF9jaGFubmVsc19kb21haW4pICsKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgbnJfZnJhbWVzICogc2l6ZW9mKG1mbl90KSwKPiArICAgICAgICAgICAgICAgICAg
ICBfX2FsaWdub2ZfXyhzdHJ1Y3Qgdm1fZXZlbnRfY2hhbm5lbHNfZG9tYWluKSk7Cj4gKyAgICBp
ZiAoIHVubGlrZWx5KCFpbXBsKSApCj4gKyAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gKwo+ICsg
ICAgc3Bpbl9sb2NrX2luaXQoJmltcGwtPnZlZC5sb2NrKTsKPiArICAgIHNwaW5fbG9jaygmaW1w
bC0+dmVkLmxvY2spOwo+ICsKPiArICAgIGltcGwtPm5yX2ZyYW1lcyA9IG5yX2ZyYW1lczsKPiAr
ICAgIGltcGwtPnZlZC5kID0gZDsKPiArICAgIGltcGwtPnZlZC5vcHMgPSAmdm1fZXZlbnRfY2hh
bm5lbHNfb3BzOwo+ICsKPiArICAgIHJjID0gdm1fZXZlbnRfaW5pdF9kb21haW4oZCk7Cj4gKyAg
ICBpZiAoIHJjIDwgMCApCj4gKyAgICAgICAgZ290byBlcnI7Cj4gKwo+ICsgICAgcmMgPSB2bV9l
dmVudF9jaGFubmVsc19hbGxvY19idWZmZXIoaW1wbCk7Cj4gKyAgICBpZiAoIHJjICkKPiArICAg
ICAgICBnb3RvIGVycjsKPiArCj4gKyAgICBmb3IgKCBpID0gMDsgaSA8IGQtPm1heF92Y3B1czsg
aSsrICkKPiArICAgIHsKPiArICAgICAgICByYyA9IGFsbG9jX3VuYm91bmRfeGVuX2V2ZW50X2No
YW5uZWwoZCwgaSwgY3VycmVudC0+ZG9tYWluLT5kb21haW5faWQsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbl9mbik7Cj4gKyAgICAg
ICAgaWYgKCByYyA8IDAgKQo+ICsgICAgICAgICAgICBnb3RvIGVycjsKPiArCj4gKyAgICAgICAg
aW1wbC0+c2xvdHNbaV0ucG9ydCA9IHJjOwo+ICsgICAgICAgIGltcGwtPnNsb3RzW2ldLnN0YXRl
ID0gU1RBVEVfVk1fRVZFTlRfU0xPVF9JRExFOwo+ICsgICAgfQo+ICsKPiArICAgIGltcGwtPmVu
YWJsZWQgPSBmYWxzZTsKPiArCj4gKyAgICBzcGluX3VubG9jaygmaW1wbC0+dmVkLmxvY2spOwo+
ICsgICAgKl92ZWQgPSAmaW1wbC0+dmVkOwo+ICsgICAgcmV0dXJuIDA7Cj4gKwo+ICtlcnI6Cj4g
KyAgICBzcGluX3VubG9jaygmaW1wbC0+dmVkLmxvY2spOwo+ICsgICAgWEZSRUUoaW1wbCk7CgpZ
b3UgZG9uJ3QgZnJlZSB0aGUgZXZlbnQgY2hhbm5lbHMgb24gZXJyb3IuCgpQbGVhc2Ugd3JpdGUg
bWFrZSB0aGUgZGVzdHJ1Y3RvciBpZGVtcG90ZW50IGFuZCBjYWxsIGl0IGZyb20gaGVyZS4KCj4g
KyAgICByZXR1cm4gcmM7Cj4gK30KPiArCj4gPHNuaXA+Cj4gK2ludCB2bV9ldmVudF9uZ19kb21j
dGwoc3RydWN0IGRvbWFpbiAqZCwgc3RydWN0IHhlbl9kb21jdGxfdm1fZXZlbnRfbmdfb3AgKnZl
YywKPiArICAgICAgICAgICAgICAgICAgICAgICBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHZvaWQp
IHVfZG9tY3RsKQo+ICt7Cj4gKyAgICBpbnQgcmM7Cj4gKwo+ICsgICAgaWYgKCB2ZWMtPm9wID09
IFhFTl9WTV9FVkVOVF9OR19HRVRfVkVSU0lPTiApCj4gKyAgICB7Cj4gKyAgICAgICAgdmVjLT51
LnZlcnNpb24gPSBWTV9FVkVOVF9JTlRFUkZBQ0VfVkVSU0lPTjsKPiArICAgICAgICByZXR1cm4g
MDsKPiArICAgIH0KPiArCj4gKyAgICBpZiAoIHVubGlrZWx5KGQgPT0gTlVMTCkgKQo+ICsgICAg
ICAgIHJldHVybiAtRVNSQ0g7Cj4gKwo+ICsgICAgcmMgPSB4c21fdm1fZXZlbnRfY29udHJvbChY
U01fUFJJViwgZCwgdmVjLT50eXBlLCB2ZWMtPm9wKTsKPiArICAgIGlmICggcmMgKQo+ICsgICAg
ICAgIHJldHVybiByYzsKPiArCj4gKyAgICBpZiAoIHVubGlrZWx5KGQgPT0gY3VycmVudC0+ZG9t
YWluKSApIC8qIG5vIGRvbWFpbl9wYXVzZSgpICovCj4gKyAgICB7Cj4gKyAgICAgICAgZ2Rwcmlu
dGsoWEVOTE9HX0lORk8sICJUcmllZCB0byBkbyBhIG1lbW9yeSBldmVudCBvcCBvbiBpdHNlbGYu
XG4iKTsKPiArICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiArICAgIH0KPiArCj4gKyAgICBpZiAo
IHVubGlrZWx5KGQtPmlzX2R5aW5nKSApCj4gKyAgICB7Cj4gKyAgICAgICAgZ2RwcmludGsoWEVO
TE9HX0lORk8sICJJZ25vcmluZyBtZW1vcnkgZXZlbnQgb3Agb24gZHlpbmcgZG9tYWluICV1XG4i
LAo+ICsgICAgICAgICAgICAgICAgIGQtPmRvbWFpbl9pZCk7Cj4gKyAgICAgICAgcmV0dXJuIDA7
Cj4gKyAgICB9Cj4gKwo+ICsgICAgaWYgKCB1bmxpa2VseShkLT52Y3B1ID09IE5VTEwpIHx8IHVu
bGlrZWx5KGQtPnZjcHVbMF0gPT0gTlVMTCkgKQo+ICsgICAgewo+ICsgICAgICAgIGdkcHJpbnRr
KFhFTkxPR19JTkZPLAo+ICsgICAgICAgICAgICAgICAgICJNZW1vcnkgZXZlbnQgb3Agb24gYSBk
b21haW4gKCV1KSB3aXRoIG5vIHZjcHVzXG4iLAo+ICsgICAgICAgICAgICAgICAgIGQtPmRvbWFp
bl9pZCk7Cj4gKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gKyAgICB9Cj4gKwo+ICsgICAgc3dp
dGNoICggdmVjLT50eXBlICkKPiArICAgIHsKPiArICAgIGNhc2UgWEVOX1ZNX0VWRU5UX1RZUEVf
TU9OSVRPUjoKPiArICAgIHsKPiArICAgICAgICByYyA9IC1FSU5WQUw7Cj4gKwo+ICsgICAgICAg
IHN3aXRjaCAoIHZlYy0+IG9wKQo+ICsgICAgICAgIHsKPiArICAgICAgICBjYXNlIFhFTl9WTV9F
VkVOVF9OR19DUkVBVEU6Cj4gKyAgICAgICAgICAgIC8qIGRvbWFpbl9wYXVzZSgpIG5vdCByZXF1
aXJlZCBoZXJlLCBzZWUgWFNBLTk5ICovCj4gKyAgICAgICAgICAgIHJjID0gYXJjaF9tb25pdG9y
X2luaXRfZG9tYWluKGQpOwo+ICsgICAgICAgICAgICBpZiAoIHJjICkKPiArICAgICAgICAgICAg
ICAgIGJyZWFrOwo+ICsgICAgICAgICAgICByYyA9IHZtX2V2ZW50X2NoYW5uZWxzX2NyZWF0ZShk
LCB2ZWMsICZkLT52bV9ldmVudF9tb25pdG9yLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgX1ZQRl9tZW1fYWNjZXNzLCBtb25pdG9yX25vdGlmaWNhdGlvbik7Cj4gKyAg
ICAgICAgICAgIGJyZWFrOwo+ICsKPiArICAgICAgICBjYXNlIFhFTl9WTV9FVkVOVF9OR19ERVNU
Uk9ZOgo+ICsgICAgICAgICAgICBpZiAoICF2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9tb25p
dG9yKSApCj4gKyAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgZG9tYWluX3Bh
dXNlKGQpOwo+ICsgICAgICAgICAgICByYyA9IHZtX2V2ZW50X2NoYW5uZWxzX2Rlc3Ryb3koJmQt
PnZtX2V2ZW50X21vbml0b3IpOwo+ICsgICAgICAgICAgICBhcmNoX21vbml0b3JfY2xlYW51cF9k
b21haW4oZCk7Cj4gKyAgICAgICAgICAgIGRvbWFpbl91bnBhdXNlKGQpOwo+ICsgICAgICAgICAg
ICBicmVhazsKPiArCj4gKyAgICAgICAgY2FzZSBYRU5fVk1fRVZFTlRfTkdfU0VUX1NUQVRFOgo+
ICsgICAgICAgICAgICBpZiAoICF2bV9ldmVudF9jaGVjayhkLT52bV9ldmVudF9tb25pdG9yKSAp
Cj4gKyAgICAgICAgICAgICAgICBicmVhazsKPiArICAgICAgICAgICAgZG9tYWluX3BhdXNlKGQp
Owo+ICsgICAgICAgICAgICB0b19jaGFubmVscyhkLT52bV9ldmVudF9tb25pdG9yKS0+ZW5hYmxl
ZCA9ICEhdmVjLT51LmVuYWJsZWQ7Cj4gKyAgICAgICAgICAgIGRvbWFpbl91bnBhdXNlKGQpOwo+
ICsgICAgICAgICAgICByYyA9IDA7Cj4gKyAgICAgICAgICAgIGJyZWFrOwo+ICsKPiArICAgICAg
ICBkZWZhdWx0Ogo+ICsgICAgICAgICAgICByYyA9IC1FTk9TWVM7Cj4gKyAgICAgICAgfQo+ICsg
ICAgICAgIGJyZWFrOwo+ICsgICAgfQo+ICsKPiArI2lmZGVmIENPTkZJR19IQVNfTUVNX1BBR0lO
Rwo+ICsgICAgY2FzZSBYRU5fVk1fRVZFTlRfVFlQRV9QQUdJTkc6Cj4gKyNlbmRpZgo+ICsKPiAr
I2lmZGVmIENPTkZJR19IQVNfTUVNX1NIQVJJTkcKPiArICAgIGNhc2UgWEVOX1ZNX0VWRU5UX1RZ
UEVfU0hBUklORzoKPiArI2VuZGlmCgpUaGVzZSBhcmUgdW5uZWNlc3NhcnksIGFzIHRoZXkgZG9u
J3QgZGV2aWF0ZSBmcm9tIHRoZSBkZWZhdWx0LgoKfkFuZHJldwoKPiArCj4gKyAgICBkZWZhdWx0
Ogo+ICsgICAgICAgIHJjID0gLUVOT1NZUzsKPiArICAgIH0KPiArCj4gKyAgICByZXR1cm4gcmM7
Cj4gK30KPgoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Clhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0
dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id BB52145B95
	for <lists+xen-devel@lfdr.de>; Fri, 14 Jun 2019 13:41:11 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hbkXU-0001av-4s; Fri, 14 Jun 2019 11:38:36 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=Gode=UN=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1hbkXS-0001ao-Uk
 for xen-devel@lists.xenproject.org; Fri, 14 Jun 2019 11:38:34 +0000
X-Inumbo-ID: f089e2ea-8e98-11e9-8980-bc764e045a96
Received: from prv1-mh.provo.novell.com (unknown [137.65.248.33])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id f089e2ea-8e98-11e9-8980-bc764e045a96;
 Fri, 14 Jun 2019 11:38:33 +0000 (UTC)
Received: from INET-PRV1-MTA by prv1-mh.provo.novell.com
 with Novell_GroupWise; Fri, 14 Jun 2019 05:38:33 -0600
Message-Id: <5D0387330200007800238476@prv1-mh.provo.novell.com>
X-Mailer: Novell GroupWise Internet Agent 18.1.1 
Date: Fri, 14 Jun 2019 05:38:27 -0600
From: "Jan Beulich" <JBeulich@suse.com>
To: "xen-devel" <xen-devel@lists.xenproject.org>
References: <5D03853F0200007800238448@prv1-mh.provo.novell.com>
In-Reply-To: <5D03853F0200007800238448@prv1-mh.provo.novell.com>
Mime-Version: 1.0
Content-Disposition: inline
Subject: [Xen-devel] [PATCH 3/3] x86: a little bit of 16-bit video mode
 setting code cleanup
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>, WeiLiu <wl@xen.org>,
 Roger Pau Monne <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VG8gImNvbXBlbnNhdGUiIGZvciB0aGUgY29kZSBzaXplIGdyb3d0aCBieSBhbiBlYXJsaWVyIGNo
YW5nZToKLSBkcm9wICJ0cmFtcG9saW5lIiBsYWJlbHMgKGluIGFsbW9zdCBhbGwgY2FzZXMgdGhl
IHRhcmdldCBsYWJlbCBpcwogIHJlYWNoYWJsZSB3aXRoIGFuIDgtYml0LWRpc3BsYWNlbWVudCBi
cmFuY2ggYW55d2F5LCBhbmQgYSBzaW5nbGUgMTYtCiAgYml0LWRpc3BsYWNlbWVudCBicmFuY2gg
aXMgc3RpbGwgYmV0dGVyIHRoYW4gYSBwYWlyIG9mIHR3byBicmFuY2hlcykKLSBkcm9wIGFuIGVu
dGlyZWx5IGRlYWQgaW5zbgotIHJlZHVjZSBjb2RlIHNpemUgaW4gYSBmZXcgb3RoZXIgKG9idmlv
dXMgSSBob3BlKSBjYXNlcywgYnkgbW9yZQogIHN1aXRhYmxlIGluc24vb3BlcmFuZHMgc2VsZWN0
aW9uCgpBbHNvIGRyb3AgcmVkdW5kYW50ICNkZWZpbmUtcyAobW92ZSBzdWl0YWJsZSAjaW5jbHVk
ZSBhIGxpdHRsZSBlYXJsaWVyCmluc3RlYWQpIGFuZCBhZGQgdHdvIGFsaWdubWVudCBkaXJlY3Rp
dmVzLgoKU2lnbmVkLW9mZi1ieTogSmFuIEJldWxpY2ggPGpiZXVsaWNoQHN1c2UuY29tPgoKLS0t
IGEveGVuL2FyY2gveDg2L2Jvb3QvdHJhbXBvbGluZS5TCisrKyBiL3hlbi9hcmNoL3g4Ni9ib290
L3RyYW1wb2xpbmUuUwpAQCAtMTc2LDYgKzE3Niw3IEBAIHN0YXJ0NjQ6CiAKICAgICAgICAgam1w
cSAgICAqJXJkaQogCisjaW5jbHVkZSAidmlkZW8uaCIKICNpbmNsdWRlICJ3YWtldXAuUyIKIAog
ICAgICAgICAuYmFsaWduIDgKQEAgLTI4Myw4ICsyODQsNiBAQCB0cmFtcG9saW5lX2Jvb3RfY3B1
X2VudHJ5OgogICAgICAgICAvKiBKdW1wIHRvIHRoZSBjb21tb24gYm9vdHN0cmFwIGVudHJ5IHBv
aW50LiAqLwogICAgICAgICBqbXAgICAgIHRyYW1wb2xpbmVfcHJvdG1vZGVfZW50cnkKIAotI2lu
Y2x1ZGUgInZpZGVvLmgiCi0KICAgICAgICAgLmFsaWduICAyCiAvKiBLZWVwIGluIHN5bmMgd2l0
aCBjbWRsaW5lLmM6ZWFybHlfYm9vdF9vcHRzX3QgdHlwZSEgKi8KIGVhcmx5X2Jvb3Rfb3B0czoK
LS0tIGEveGVuL2FyY2gveDg2L2Jvb3QvdmlkZW8uUworKysgYi94ZW4vYXJjaC94ODYvYm9vdC92
aWRlby5TCkBAIC0zODQsOSArMzg0LDYgQEAgbG1iYWQ6ICBsZWF3ICAgIGJvb3RzeW0odW5rbnQp
LCAlc2kKICAgICAgICAgam1wICAgICBtb2RlX21lbnUKIGxtZGVmOiAgcmV0CiAKLV9zZXRyZWM6
ICAgIGptcCBzZXRyZWMgICAgICAgICAgICAgICAgICAjIFVnbHkuLi4KLV9zZXRfODB4MjU6IGpt
cCBzZXRfODB4MjUKLQogIyBTZXR0aW5nIG9mIHVzZXIgbW9kZSAoQVg9bW9kZSBJRCkgPT4gQ0Y9
c3VjY2VzcwogbW9kZV9zZXQ6CiAgICAgICAgIG1vdncgICAgJWF4LCBib290c3ltKGJvb3Rfdmlk
X21vZGUpCkBAIC0zOTYsNyArMzkzLDcgQEAgbW9kZV9zZXQ6CiAgICAgICAgIGplICAgICAgc2V0
dmVzYWJ5c2l6ZQogCiAgICAgICAgIHRlc3RiICAgJFZJREVPX1JFQ0FMQz4+OCwgJWFoCi0gICAg
ICAgIGpueiAgICAgX3NldHJlYworICAgICAgICBqbnogICAgIHNldHJlYwogCiAgICAgICAgIGNt
cGIgICAgJFZJREVPX0ZJUlNUX1NQRUNJQUw+PjgsICVhaAogICAgICAgICBqeiAgICAgIHNldHNw
YwpAQCAtNDIxLDcgKzQxOCw3IEBAIHNldHNwYzogeG9yYiAgICAlYmgsICViaAogCiBzZXRtZW51
OgogICAgICAgICBvcmIgICAgICVhbCwgJWFsICAgICAgICAgICAgICAgICMgODB4MjUgaXMgYW4g
ZXhjZXB0aW9uCi0gICAgICAgIGp6ICAgICAgX3NldF84MHgyNQorICAgICAgICBqeiAgICAgIHNl
dF84MHgyNQogICAgICAgICAKICAgICAgICAgcHVzaHcgICAlYnggICAgICAgICAgICAgICAgICAg
ICAjIFNldCBtb2RlIGNob3NlbiBmcm9tIG1lbnUKICAgICAgICAgY2FsbCAgICBtb2RlX3RhYmxl
ICAgICAgICAgICAgICAjIEJ1aWxkIHRoZSBtb2RlIHRhYmxlCkBAIC00NDEsMzYgKzQzOCwzMiBA
QCBjaGVja192ZXNhOgogICAgICAgICBjbXB3ICAgICQweDAwNGYsICVheAogICAgICAgICBqbnog
ICAgIHNldGJhZAogCi0gICAgICAgIGxlYXcgICAgdmVzYV9tb2RlX2luZm8sICVkaQotICAgICAg
ICBzdWJiICAgICRWSURFT19GSVJTVF9WRVNBPj44LCAlYmgKLSAgICAgICAgbW92dyAgICAlYngs
ICVjeCAgICAgICAgICAgICAgICAjIEdldCBtb2RlIGluZm9ybWF0aW9uIHN0cnVjdHVyZQorICAg
ICAgICBsZWF3ICAgIHZlc2FfbW9kZV9pbmZvLCAlZGkgICAgICMgR2V0IG1vZGUgaW5mb3JtYXRp
b24gc3RydWN0dXJlCisgICAgICAgIGxlYXcgICAgLVZJREVPX0ZJUlNUX1ZFU0EoJWJ4KSwgJWN4
CiAgICAgICAgIG1vdncgICAgJDB4NGYwMSwgJWF4CiAgICAgICAgIGludCAgICAgJDB4MTAKLSAg
ICAgICAgYWRkYiAgICAkVklERU9fRklSU1RfVkVTQT4+OCwgJWJoCiAgICAgICAgIGNtcHcgICAg
JDB4MDA0ZiwgJWF4CiAgICAgICAgIGpueiAgICAgc2V0YmFkCiAKICAgICAgICAgbW92YiAgICAo
JWRpKSwgJWFsICAgICAgICAgICAgICAjIENoZWNrIG1vZGUgYXR0cmlidXRlcy4KICAgICAgICAg
YW5kYiAgICAkMHg5OSwgJWFsCiAgICAgICAgIGNtcGIgICAgJDB4OTksICVhbAotICAgICAgICBq
bnogICAgIF9zZXRiYWQgICAgICAgICAgICAgICAgICMgRG9oISBObyBsaW5lYXIgZnJhbWUgYnVm
ZmVyLgorICAgICAgICBqbnogICAgIHNldGJhZCAgICAgICAgICAgICAgICAgICMgRG9oISBObyBs
aW5lYXIgZnJhbWUgYnVmZmVyLgogCiAgICAgICAgIHB1c2h3ICAgJWJ4CiAgICAgICAgIHN1YmIg
ICAgJFZJREVPX0ZJUlNUX1ZFU0E+PjgsICViaAotICAgICAgICBvcncgICAgICQweDQwMDAsICVi
eCAgICAgICAgICAgICMgVXNlIGxpbmVhciBmcmFtZSBidWZmZXIKKyAgICAgICAgb3JiICAgICAk
MHg0MCwgJWJoICAgICAgICAgICAgICAjIFVzZSBsaW5lYXIgZnJhbWUgYnVmZmVyCiAgICAgICAg
IG1vdncgICAgJDB4NGYwMiwgJWF4ICAgICAgICAgICAgIyBWRVNBIEJJT1MgbW9kZSBzZXQgY2Fs
bAogICAgICAgICBpbnQgICAgICQweDEwCiAgICAgICAgIHBvcHcgICAgJWJ4CiAgICAgICAgIGNt
cHcgICAgJDB4MDA0ZiwgJWF4ICAgICAgICAgICAgIyBBTD00ZiBpZiBpbXBsZW1lbnRlZAotICAg
ICAgICBqbnogICAgIF9zZXRiYWQgICAgICAgICAgICAgICAgICMgQUg9MCBpZiBPSworICAgICAg
ICBqbnogICAgIHNldGJhZCAgICAgICAgICAgICAgICAgICMgQUg9MCBpZiBPSwogCiAgICAgICAg
IG1vdmIgICAgJDEsIGJvb3RzeW0oZ3JhcGhpY19tb2RlKSAgIyBmbGFnIGdyYXBoaWMgbW9kZQog
ICAgICAgICBtb3Z3ICAgICVieCwgYm9vdHN5bSh2aWRlb19tb2RlKQogICAgICAgICBzdGMKICAg
ICAgICAgcmV0CiAKLV9zZXRiYWQ6IGptcCAgICBzZXRiYWQgICAgICAgICAgICAgICAgICAjIFVn
bHkuLi4KLQogIyBSZWNhbGN1bGF0ZSB2ZXJ0aWNhbCBkaXNwbGF5IGVuZCByZWdpc3RlcnMgLS0g
dGhpcyBmaXhlcyB2YXJpb3VzCiAjIGluY29uc2lzdGVuY2llcyBvZiBleHRlbmRlZCBtb2RlcyBv
biBtYW55IGFkYXB0ZXJzLiBDYWxsZWQgd2hlbgogIyB0aGUgVklERU9fUkVDQUxDIGZsYWcgaXMg
c2V0IGluIHRoZSBtb2RlIElELgpAQCAtNTE1LDcgKzUwOCw3IEBAIHNldHZlc2FieXNpemU6CiAg
ICAgICAgIGxlYXcgICAgbW9kZWxpc3QsJXNpCiAxOiAgICAgIGFkZCAgICAgJDgsJXNpCiAgICAg
ICAgIGNtcHcgICAgJEFTS19WR0EsLTgoJXNpKSAgICAgICAgIyBFbmQ/Ci0gICAgICAgIGplICAg
ICAgX3NldGJhZAorICAgICAgICBqZSAgICAgIHNldGJhZAogICAgICAgICBtb3Z3ICAgIC02KCVz
aSksJWF4CiAgICAgICAgIGNtcHcgICAgJWF4LGJvb3RzeW0odmVzYV9zaXplKSswCiAgICAgICAg
IGpuZSAgICAgMWIKQEAgLTk0OCw2ICs5NDEsNyBAQCBzdG9yZV9lZGlkOgogI2VuZGlmCiAgICAg
ICAgIHJldAogCisgICAgICAgICAgICAgICAgLnAyYWxpZ24gMQogbXRfZW5kOiAgICAgICAgIC53
b3JkICAgMCAgICAgICAjIEVuZCBvZiB2aWRlbyBtb2RlIHRhYmxlIGlmIGJ1aWx0CiBlZGl0X2J1
ZjogICAgICAgLnNwYWNlICA2ICAgICAgICMgTGluZSBlZGl0b3IgYnVmZmVyCiBjYXJkX25hbWU6
ICAgICAgLndvcmQgICAwICAgICAgICMgUG9pbnRlciB0byBhZGFwdGVyIG5hbWUKQEAgLTk5MSw2
ICs5ODUsNyBAQCB2ZXNhX25hbWU6ICAgICAgLmFzY2l6ICAiVkVTQSIKIAogbmFtZV9iYW5uOiAg
ICAgIC5hc2NpeiAgIlZpZGVvIGFkYXB0ZXI6ICIKIAorICAgICAgICAgICAgICAgIC5wMmFsaWdu
IDEKIGZvcmNlX3NpemU6ICAgICAud29yZCAgIDAgICAgICAgIyBVc2UgdGhpcyBzaXplIGluc3Rl
YWQgb2YgdGhlIG9uZSBpbiBCSU9TIHZhcnMKIAogR0xPQkFMKGJvb3RfdmlkX2luZm8pCi0tLSBh
L3hlbi9hcmNoL3g4Ni9ib290L3dha2V1cC5TCisrKyBiL3hlbi9hcmNoL3g4Ni9ib290L3dha2V1
cC5TCkBAIC0zMCw3ICszMCw3IEBAIEVOVFJZKHdha2V1cF9zdGFydCkKICAgICAgICAgam5lICAg
ICBib2d1c19yZWFsX21hZ2ljCiAKICAgICAgICAgIyBmb3IgYWNwaV9zbGVlcD1zM19iaW9zCi0g
ICAgICAgIHRlc3RsICAgJDEsIHdha2VzeW0odmlkZW9fZmxhZ3MpCisgICAgICAgIHRlc3RiICAg
JDEsIHdha2VzeW0odmlkZW9fZmxhZ3MpCiAgICAgICAgIGp6ICAgICAgMWYKICAgICAgICAgbGNh
bGwgICAkMHhjMDAwLCAkMwogICAgICAgICBtb3Z3ICAgICVjcywgJWF4ICAgICAgICAjIEluIGNh
c2UgbWVzc2VkIGJ5IEJJT1MKQEAgLTM4LDkgKzM4LDkgQEAgRU5UUlkod2FrZXVwX3N0YXJ0KQog
ICAgICAgICBtb3Z3ICAgICVheCwgJXNzICAgICAgICAjIE5lZWQgdGhpcz8gSG93IHRvIHJldCBp
ZiBjbG9iYmVyZWQ/CiAKIDE6ICAgICAgIyBmb3IgYWNwaV9zbGVlcD1zM19tb2RlCi0gICAgICAg
IHRlc3RsICAgJDIsIHdha2VzeW0odmlkZW9fZmxhZ3MpCisgICAgICAgIHRlc3RiICAgJDIsIHdh
a2VzeW0odmlkZW9fZmxhZ3MpCiAgICAgICAgIGp6ICAgICAgMWYKLSAgICAgICAgbW92bCAgICB3
YWtlc3ltKHZpZGVvX21vZGUpLCAlZWF4CisgICAgICAgIG1vdncgICAgd2FrZXN5bSh2aWRlb19t
b2RlKSwgJWF4CiAgICAgICAgIGNhbGwgICAgbW9kZV9zZXR3CiAKIDE6ICAgICAgIyBTaG93IHNv
bWUgcHJvZ3Jlc3MgaWYgVkdBIGlzIHJlc3VtZWQKQEAgLTU1LDQ4ICs1NSwyNiBAQCBFTlRSWSh3
YWtldXBfc3RhcnQpCiAgICAgICAgIGxtc3cgICAgJWF4ICAgICAgICAgICAgICMgVHVybiBvbiBD
UjAuUEUgCiAgICAgICAgIGxqbXBsICAgJEJPT1RfQ1MzMiwgJGJvb3RzeW1fcmVsKHdha2V1cF8z
MiwgNikKIAotLyogVGhpcyBjb2RlIHVzZXMgYW4gZXh0ZW5kZWQgc2V0IG9mIHZpZGVvIG1vZGUg
bnVtYmVycy4gVGhlc2UgaW5jbHVkZToKLSAqIEFsaWFzZXMgZm9yIHN0YW5kYXJkIG1vZGVzCi0g
KiAgICAgIE5PUk1BTF9WR0EgKC0xKQotICogICAgICBFWFRFTkRFRF9WR0EgKC0yKQotICogICAg
ICBBU0tfVkdBICgtMykKLSAqIFZpZGVvIG1vZGVzIG51bWJlcmVkIGJ5IG1lbnUgcG9zaXRpb24g
LS0gTk9UIFJFQ09NTUVOREVEIGJlY2F1c2Ugb2YgbGFjawotICogb2YgY29tcGF0aWJpbGl0eSB3
aGVuIGV4dGVuZGluZyB0aGUgdGFibGUuIFRoZXNlIGFyZSBiZXR3ZWVuIDB4MDAgYW5kIDB4ZmYu
Ci0gKi8KLSNkZWZpbmUgVklERU9fRklSU1RfTUVOVSAweDAwMDAKLQotLyogU3RhbmRhcmQgQklP
UyB2aWRlbyBtb2RlcyAoQklPUyBudW1iZXIgKyAweDAxMDApICovCi0jZGVmaW5lIFZJREVPX0ZJ
UlNUX0JJT1MgMHgwMTAwCi0KLS8qIFZFU0EgQklPUyB2aWRlbyBtb2RlcyAoVkVTQSBudW1iZXIg
KyAweDAyMDApICovCi0jZGVmaW5lIFZJREVPX0ZJUlNUX1ZFU0EgMHgwMjAwCi0KLS8qIFZpZGVv
NyBzcGVjaWFsIG1vZGVzIChCSU9TIG51bWJlciArIDB4MDkwMCkgKi8KLSNkZWZpbmUgVklERU9f
RklSU1RfVjcgMHgwOTAwCi0KICMgU2V0dGluZyBvZiB1c2VyIG1vZGUgKEFYPW1vZGUgSUQpID0+
IENGPXN1Y2Nlc3MKIG1vZGVfc2V0dzoKICAgICAgICAgbW92dyAgICAlYXgsICVieAogICAgICAg
ICBjbXBiICAgICRWSURFT19GSVJTVF9WRVNBPj44LCAlYWgKICAgICAgICAgam5jICAgICBjaGVj
a192ZXNhdwotICAgICAgICBkZWNiICAgICVhaAogCiBzZXRiYWR3OiBjbGMKICAgICAgICAgcmV0
CiAKIGNoZWNrX3Zlc2F3OgogICAgICAgICBzdWJiICAgICRWSURFT19GSVJTVF9WRVNBPj44LCAl
YmgKLSAgICAgICAgb3J3ICAgICAkMHg0MDAwLCAlYnggICAgICAgICAgICAgICAgICAgICMgVXNl
IGxpbmVhciBmcmFtZSBidWZmZXIKKyAgICAgICAgb3JiICAgICAkMHg0MCwgJWJoICAgICAgICAg
ICAgICAgICAgICAgICMgVXNlIGxpbmVhciBmcmFtZSBidWZmZXIKICAgICAgICAgbW92dyAgICAk
MHg0ZjAyLCAlYXggICAgICAgICAgICAgICAgICAgICMgVkVTQSBCSU9TIG1vZGUgc2V0IGNhbGwK
ICAgICAgICAgaW50ICAgICAkMHgxMAogICAgICAgICBjbXB3ICAgICQweDAwNGYsICVheCAgICAg
ICAgICAgICAgICAgICAgIyBBTD00ZiBpZiBpbXBsZW1lbnRlZAotICAgICAgICBqbnogICAgIF9z
ZXRiYWR3ICAgICAgICAgICAgICAgICAgICAgICAgIyBBSD0wIGlmIE9LCisgICAgICAgIGpueiAg
ICAgc2V0YmFkdyAgICAgICAgICAgICAgICAgICAgICAgICAjIEFIPTAgaWYgT0sKIAogICAgICAg
ICBzdGMKICAgICAgICAgcmV0CiAKLV9zZXRiYWR3OiBqbXAgICAgc2V0YmFkdwotCiBib2d1c19y
ZWFsX21hZ2ljOgogICAgICAgICBtb3Z3ICAgICQweDBlMDAgKyAnQicsICVmczooMHgxMikKICAg
ICAgICAgam1wICAgICBib2d1c19yZWFsX21hZ2ljCgoKCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZl
bEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxt
YW4vbGlzdGluZm8veGVuLWRldmVs

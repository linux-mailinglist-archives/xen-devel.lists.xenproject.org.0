Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 36597BB35B
	for <lists+xen-devel@lfdr.de>; Mon, 23 Sep 2019 14:08:54 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iCN6M-0000wa-Kl; Mon, 23 Sep 2019 12:05:58 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=dNMU=XS=bitdefender.com=aisaila@srs-us1.protection.inumbo.net>)
 id 1iCN6K-0000wU-IF
 for xen-devel@lists.xenproject.org; Mon, 23 Sep 2019 12:05:56 +0000
X-Inumbo-ID: 7e973dca-ddfa-11e9-95fc-12813bfff9fa
Received: from EUR03-AM5-obe.outbound.protection.outlook.com (unknown
 [40.107.3.130]) by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 7e973dca-ddfa-11e9-95fc-12813bfff9fa;
 Mon, 23 Sep 2019 12:05:55 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=AE/hsWPCMc6ft9PETo6HUTf2XasyBoRDQ7NK0LKRTwwGrtmyJwG5k8tq1Z3q4HPcgLJO7zwgdQ8fAqs5ftt2m7wo4yccB7Y1MwSffcHexDIHyRtuEqcq1gLnoRYEfqh0tTERSBv6CScS42ojhO5XbJHIwPxqwIZXziPJAAcLbL3TmgSvs8aAhM5zxWOdS0poNPu9pgXh3PkGD39OJlOhRr6RZpH76w7HgZSMPwgrkqhvbPEUENklXBHytXbv4tQOUCo1+thSAWsVMMBX6pVls7F+jnIoqIsmj/P181LoIGqhszwfMZWjh+0ouR2KyzQcq/jXbeSzKbDUVIgwqFMS/Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=63S0AHDFK8MoC0VvWzl+ruARqI+Hs0wazi0+MnhSknw=;
 b=PAi1LnhR0bmAby2HsKWsZwPupgo0C1qJD2L9IbupsM3FB0RHaEhSqozbq/UWPJvW3Sae1KJeiYn3PV1NyNAuWICFhq95HWQWj3BU3BuN5amI9tBZGoocRCZhLSqimynwWiU+y3aYe8qJJalb+peYnSK4MvWItOTTU+D6TwyZeAwtYHnilMforqTs+ledqjzBiEEHueoyqWNVDY2lg+RDCfFYinmUqH2v6LAG+W9dLGcbvJpwlMb9l1PX635FK7huF5Ra9kzYAG6NgN+6hZfCavDFzrHJZm35SFNrcfhkRb7yhB16tC1+5H8jegde2ULDmYEuy9Vm0YvgoIrdNSvfhw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=bitdefender.com; dmarc=pass action=none
 header.from=bitdefender.com; dkim=pass header.d=bitdefender.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=bitdefender.onmicrosoft.com; s=selector2-bitdefender-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=63S0AHDFK8MoC0VvWzl+ruARqI+Hs0wazi0+MnhSknw=;
 b=ihSYCQS1/NedAfn6yeV8TDtgSWBidkP9aUF6fdWOixhL2u3DAFgUpt03ruzDvwDNL/WVMnxM6ERnV3ZdfImodzrA3UcGoa2vHOO14pxwPBce2stFEbReGw50zjOcvaVuXHieSmWh6zWN+flqsbpMF2SzUZIVAD3S0Br0mw/vbNA=
Received: from AM7PR02MB5750.eurprd02.prod.outlook.com (10.141.171.8) by
 AM7PR02MB5878.eurprd02.prod.outlook.com (10.141.173.205) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.20; Mon, 23 Sep 2019 12:05:53 +0000
Received: from AM7PR02MB5750.eurprd02.prod.outlook.com
 ([fe80::2d9b:67b0:d407:67b8]) by AM7PR02MB5750.eurprd02.prod.outlook.com
 ([fe80::2d9b:67b0:d407:67b8%2]) with mapi id 15.20.2284.023; Mon, 23 Sep 2019
 12:05:53 +0000
From: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH v13] x86/emulate: Send vm_event from emulate
Thread-Index: AQHVcgc/RjZRGBRqJUWCjIFeFraK9A==
Date: Mon, 23 Sep 2019 12:05:53 +0000
Message-ID: <20190923120539.25242-1-aisaila@bitdefender.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: AM3PR05CA0134.eurprd05.prod.outlook.com
 (2603:10a6:207:3::12) To AM7PR02MB5750.eurprd02.prod.outlook.com
 (2603:10a6:20b:102::8)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=aisaila@bitdefender.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [91.199.104.6]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 3f0f916a-21c2-43c8-03a8-08d7401e61b8
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600167)(711020)(4605104)(1401327)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:AM7PR02MB5878; 
x-ms-traffictypediagnostic: AM7PR02MB5878:|AM7PR02MB5878:|AM7PR02MB5878:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <AM7PR02MB5878C2263544524A2ABB5C13AB850@AM7PR02MB5878.eurprd02.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 0169092318
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(366004)(39860400002)(136003)(376002)(396003)(346002)(199004)(189003)(5660300002)(66476007)(8676002)(2501003)(86362001)(2351001)(36756003)(6486002)(486006)(66446008)(6916009)(4326008)(8936002)(26005)(81156014)(3846002)(102836004)(6436002)(99286004)(256004)(50226002)(14454004)(186003)(54906003)(25786009)(81166006)(6116002)(5640700003)(66066001)(14444005)(71200400001)(305945005)(2906002)(1076003)(71190400001)(6506007)(316002)(386003)(7736002)(476003)(66556008)(64756008)(2616005)(30864003)(66946007)(52116002)(6512007)(478600001)(309714004);
 DIR:OUT; SFP:1102; SCL:1; SRVR:AM7PR02MB5878;
 H:AM7PR02MB5750.eurprd02.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: bitdefender.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: NqkhkQSx2tHVV0MQ5K8aEB+vDWszSLFvC8WcJ0lP3JPWUO05wr599mbQfVw1DYpe9qv20PBCO0+iGmJNLC8bqlZa9pBngLrDJ1pC06p4xI3XQiagdFmPL4jI4kEH4bsUpoRgbBv3KfBuDyLTuLar1fEVgbx6wGVhO7Cov9ipr+HiI4r2kEANA2PvMqi6Tom+1IPkHwCnTBqrFiSSKiAjWth0Bw5nVfG2AggnQY8lPYDYDTdWmaCXuWX2bBZhnLL9euJZKNAiR1q2gfDLNMaysoJJ9cBkvXboTxsOeaeSUB3xqrngANcBJEILyx1q//Or7HspUvtoVPwefoqvkjPfKgxpQfRJhIRbTr7uTymRY2egEWqZM10g0HOUGrS4A9PtuURj2O6RcJUmEwBgByG0jYi5w3wGEDJ73PEJ4Wkv+EQ=
MIME-Version: 1.0
X-OriginatorOrg: bitdefender.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 3f0f916a-21c2-43c8-03a8-08d7401e61b8
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Sep 2019 12:05:53.1362 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 487baf29-f1da-469a-9221-243f830c36f3
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: hMPA02P257VOJlnfpQTlJStmwi9FZLiBY8BOyOBfQ2Xnsn9SFVRjdRL8Vk6+idc/Yf53qzuWWEV6HTSG8EYpj8HcyDWo5JJ38dTLBf2k4Bk=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: AM7PR02MB5878
Subject: [Xen-devel] [PATCH v13] x86/emulate: Send vm_event from emulate
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Ovidiu PIRCALABU <ppircalabu@bitdefender.com>,
 "tamas@tklengyel.com" <tamas@tklengyel.com>, "wl@xen.org" <wl@xen.org>,
 Razvan COJOCARU <rcojocaru@bitdefender.com>,
 "george.dunlap@eu.citrix.com" <george.dunlap@eu.citrix.com>,
 "andrew.cooper3@citrix.com" <andrew.cooper3@citrix.com>,
 "paul.durrant@citrix.com" <paul.durrant@citrix.com>,
 "jbeulich@suse.com" <jbeulich@suse.com>,
 Alexandru Stefan ISAILA <aisaila@bitdefender.com>,
 "roger.pau@citrix.com" <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QS9EIGJpdCB3cml0ZXMgKG9uIHBhZ2Ugd2Fsa3MpIGNhbiBiZSBjb25zaWRlcmVkIGJlbmlnbiBi
eSBhbiBpbnRyb3NwZWN0aW9uCmFnZW50LCBzbyByZWNlaXZpbmcgdm1fZXZlbnRzIGZvciB0aGVt
IGlzIGEgcGVzc2ltaXphdGlvbi4gV2UgdHJ5IGhlcmUgdG8Kb3B0aW1pemUgYnkgZmlsdGVyaW5n
IHRoZXNlIGV2ZW50cyBvdXQuCkN1cnJlbnRseSwgd2UgYXJlIGZ1bGx5IGVtdWxhdGluZyB0aGUg
aW5zdHJ1Y3Rpb24gYXQgUklQIHdoZW4gdGhlIGhhcmR3YXJlIHNlZXMKYW4gRVBUIGZhdWx0IHdp
dGggbnBmZWMua2luZCAhPSBucGZlY19raW5kX3dpdGhfZ2xhLiBUaGlzIGlzLCBob3dldmVyLApp
bmNvcnJlY3QsIGJlY2F1c2UgdGhlIGluc3RydWN0aW9uIGF0IFJJUCBtaWdodCBsZWdpdGltYXRl
bHkgY2F1c2UgYW4KRVBUIGZhdWx0IG9mIGl0cyBvd24gd2hpbGUgYWNjZXNzaW5nIGEgX2RpZmZl
cmVudF8gcGFnZSBmcm9tIHRoZSBvcmlnaW5hbCBvbmUsCndoZXJlIEEvRCB3ZXJlIHNldC4KVGhl
IHNvbHV0aW9uIGlzIHRvIHBlcmZvcm0gdGhlIHdob2xlIGVtdWxhdGlvbiwgd2hpbGUgaWdub3Jp
bmcgRVBUIHJlc3RyaWN0aW9ucwpmb3IgdGhlIHdhbGsgcGFydCwgYW5kIHRha2luZyB0aGVtIGlu
dG8gYWNjb3VudCBmb3IgdGhlICJhY3R1YWwiIGVtdWxhdGluZyBvZgp0aGUgaW5zdHJ1Y3Rpb24g
YXQgUklQLiBXaGVuIHdlIHNlbmQgb3V0IGEgdm1fZXZlbnQsIHdlIGRvbid0IHdhbnQgdGhlIGVt
dWxhdGlvbgp0byBjb21wbGV0ZSwgc2luY2UgaW4gdGhhdCBjYXNlIHdlIHdvbid0IGJlIGFibGUg
dG8gdmV0byB3aGF0ZXZlciBpdCBpcyBkb2luZy4KVGhhdCB3b3VsZCBtZWFuIHRoYXQgd2UgY2Fu
J3QgYWN0dWFsbHkgcHJldmVudCBhbnkgbWFsaWNpb3VzIGFjdGl2aXR5LCBpbnN0ZWFkCndlJ2Qg
b25seSBiZSBhYmxlIHRvIHJlcG9ydCBvbiBpdC4KV2hlbiB3ZSBzZWUgYSAic2VuZC12bV9ldmVu
dCIgY2FzZSB3aGlsZSBlbXVsYXRpbmcsIHdlIG5lZWQgdG8gZmlyc3Qgc2VuZCB0aGUKZXZlbnQg
b3V0IGFuZCB0aGVuIHN1c3BlbmQgdGhlIGVtdWxhdGlvbiAocmV0dXJuIFg4NkVNVUxfUkVUUlkp
LgpBZnRlciB0aGUgZW11bGF0aW9uIHN0b3BzIHdlJ2xsIGNhbGwgaHZtX3ZtX2V2ZW50X2RvX3Jl
c3VtZSgpIGFnYWluIGFmdGVyIHRoZQppbnRyb3NwZWN0aW9uIGFnZW50IHRyZWF0cyB0aGUgZXZl
bnQgYW5kIHJlc3VtZXMgdGhlIGd1ZXN0LiBUaGVyZSwgdGhlCmluc3RydWN0aW9uIGF0IFJJUCB3
aWxsIGJlIGZ1bGx5IGVtdWxhdGVkICh3aXRoIHRoZSBFUFQgaWdub3JlZCkgaWYgdGhlCmludHJv
c3BlY3Rpb24gYXBwbGljYXRpb24gYWxsb3dzIGl0LCBhbmQgdGhlIGd1ZXN0IHdpbGwgY29udGlu
dWUgdG8gcnVuIHBhc3QKdGhlIGluc3RydWN0aW9uLgoKQSBjb21tb24gZXhhbXBsZSBpcyBpZiB0
aGUgaGFyZHdhcmUgZXhpdHMgYmVjYXVzZSBvZiBhbiBFUFQgZmF1bHQgY2F1c2VkIGJ5IGEKcGFn
ZSB3YWxrLCBwMm1fbWVtX2FjY2Vzc19jaGVjaygpIGRlY2lkZXMgaWYgaXQgaXMgZ29pbmcgdG8g
c2VuZCBhIHZtX2V2ZW50LgpJZiB0aGUgdm1fZXZlbnQgd2FzIHNlbnQgYW5kIGl0IHdvdWxkIGJl
IHRyZWF0ZWQgc28gaXQgcnVucyB0aGUgaW5zdHJ1Y3Rpb24KYXQgUklQLCB0aGF0IGluc3RydWN0
aW9uIG1pZ2h0IGFsc28gaGl0IGEgcHJvdGVjdGVkIHBhZ2UgYW5kIHByb3Zva2UgYSB2bV9ldmVu
dC4KCk5vdyBpZiBucGZlYy5raW5kID09IG5wZmVjX2tpbmRfaW5fZ3B0IGFuZCBkLT5hcmNoLm1v
bml0b3IuaW5ndWVzdF9wYWdlZmF1bHRfZGlzYWJsZWQKaXMgdHJ1ZSB0aGVuIHdlIGFyZSBpbiB0
aGUgcGFnZSB3YWxrIGNhc2UgYW5kIHdlIGNhbiBkbyB0aGlzIGVtdWxhdGlvbiBvcHRpbWl6YXRp
b24KYW5kIGVtdWxhdGUgdGhlIHBhZ2Ugd2FsayB3aGlsZSBpZ25vcmluZyB0aGUgRVBULCBidXQg
ZG9uJ3QgaWdub3JlIHRoZSBFUFQgZm9yIHRoZQplbXVsYXRpb24gb2YgdGhlIGFjdHVhbCBpbnN0
cnVjdGlvbi4KCkluIHRoZSBmaXJzdCBjYXNlIHdlIHdvdWxkIGhhdmUgMiBFUFQgZXZlbnRzLCBp
biB0aGUgc2Vjb25kIGNhc2Ugd2Ugd291bGQgaGF2ZQoxIEVQVCBldmVudCBpZiB0aGUgaW5zdHJ1
Y3Rpb24gYXQgdGhlIFJJUCB0cmlnZ2VycyBhbiBFUFQgZXZlbnQuCgpXZSB1c2UgaHZtZW11bF9t
YXBfbGluZWFyX2FkZHIoKSB0byBpbnRlcmNlcHQgd3JpdGUgYWNjZXNzIGFuZApfX2h2bV9jb3B5
KCkgdG8gaW50ZXJjZXB0IGV4ZWMsIHJlYWQgYW5kIHdyaXRlIGFjY2Vzcy4KCkEgbmV3IHJldHVy
biB0eXBlIHdhcyBhZGRlZCwgSFZNVFJBTlNfbmVlZF9yZXRyeSwgaW4gb3JkZXIgdG8gaGF2ZSBh
bGwKdGhlIHBsYWNlcyB0aGF0IGNvbnN1bWUgSFZNVFJBTlMqIHJldHVybiBYODZFTVVMX1JFVFJZ
LgoKaHZtX2VtdWxhdGVfc2VuZF92bV9ldmVudCgpIGNhbiByZXR1cm4gZmFsc2UgaWYgdGhlcmUg
d2FzIG5vIHZpb2xhdGlvbiwKaWYgdGhlcmUgd2FzIGFuIGVycm9yIGZyb20gbW9uaXRvcl90cmFw
cygpIG9yIHAybV9nZXRfbWVtX2FjY2VzcygpLgotRVNSQ0ggZnJvbSBwMm1fZ2V0X21lbV9hY2Nl
c3MoKSBpcyB0cmVhdGVkIGFzIHJlc3RyaWN0ZWQgYWNjZXNzLgoKTk9URTogaHZtX2VtdWxhdGVf
c2VuZF92bV9ldmVudCgpIGFzc3VtZXMgdGhlIGNhbGxlciB3aWxsIGVuYWJsZS9kaXNhYmxlCmFy
Y2gudm1fZXZlbnQtPnNlbmRfZXZlbnQKClNpZ25lZC1vZmYtYnk6IEFsZXhhbmRydSBJc2FpbGEg
PGFpc2FpbGFAYml0ZGVmZW5kZXIuY29tPgoKLS0tCkNoYW5nZXMgc2luY2UgVjEyOgoJLSBVcGRh
dGUgY29tbWl0IG1lc3NhZ2UKCS0gUmV3b3JrIHN3aXRjaCgpIGluIG1hcF9saW5lYXJfYWRkcigp
L3JlcF9tb3ZzKCkvcmVwX3N0b3MoKS4KLS0tCiB4ZW4vYXJjaC94ODYvaHZtL2VtdWxhdGUuYyAg
ICAgICAgfCA1NyArKysrKysrKysrKysrKysrKy0tLS0tCiB4ZW4vYXJjaC94ODYvaHZtL2h2bS5j
ICAgICAgICAgICAgfCAgOSArKysrCiB4ZW4vYXJjaC94ODYvaHZtL2ludGVyY2VwdC5jICAgICAg
fCAgMiArCiB4ZW4vYXJjaC94ODYvaHZtL21vbml0b3IuYyAgICAgICAgfCA3OCArKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrCiB4ZW4vYXJjaC94ODYvbW0vbWVtX2FjY2Vzcy5jICAgICAg
fCAgOSArKystCiB4ZW4vYXJjaC94ODYvbW0vc2hhZG93L2h2bS5jICAgICAgfCAgMSArCiB4ZW4v
aW5jbHVkZS9hc20teDg2L2h2bS9tb25pdG9yLmggfCAgMyArKwogeGVuL2luY2x1ZGUvYXNtLXg4
Ni9odm0vc3VwcG9ydC5oIHwgIDEgKwogeGVuL2luY2x1ZGUvYXNtLXg4Ni92bV9ldmVudC5oICAg
IHwgIDIgKwogOSBmaWxlcyBjaGFuZ2VkLCAxNDkgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25z
KC0pCgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gveDg2L2h2bS9lbXVsYXRlLmMgYi94ZW4vYXJjaC94
ODYvaHZtL2VtdWxhdGUuYwppbmRleCAzNmJjYjUyNmQzLi44NWFiMDA5NzE3IDEwMDY0NAotLS0g
YS94ZW4vYXJjaC94ODYvaHZtL2VtdWxhdGUuYworKysgYi94ZW4vYXJjaC94ODYvaHZtL2VtdWxh
dGUuYwpAQCAtNTQ4LDYgKzU0OCw3IEBAIHN0YXRpYyB2b2lkICpodm1lbXVsX21hcF9saW5lYXJf
YWRkcigKICAgICB1bnNpZ25lZCBpbnQgbnJfZnJhbWVzID0gKChsaW5lYXIgKyBieXRlcyAtICEh
Ynl0ZXMpID4+IFBBR0VfU0hJRlQpIC0KICAgICAgICAgKGxpbmVhciA+PiBQQUdFX1NISUZUKSAr
IDE7CiAgICAgdW5zaWduZWQgaW50IGk7CisgICAgZ2ZuX3QgZ2ZuOwogCiAgICAgLyoKICAgICAg
KiBtZm4gcG9pbnRzIHRvIHRoZSBuZXh0IGZyZWUgc2xvdC4gIEFsbCB1c2VkIHNsb3RzIGhhdmUg
YSBwYWdlIHJlZmVyZW5jZQpAQCAtNTgyLDcgKzU4Myw3IEBAIHN0YXRpYyB2b2lkICpodm1lbXVs
X21hcF9saW5lYXJfYWRkcigKICAgICAgICAgQVNTRVJUKG1mbl94KCptZm4pID09IDApOwogCiAg
ICAgICAgIHJlcyA9IGh2bV90cmFuc2xhdGVfZ2V0X3BhZ2UoY3VyciwgYWRkciwgdHJ1ZSwgcGZl
YywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmcGZpbmZvLCAmcGFnZSwg
TlVMTCwgJnAybXQpOworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZwZmlu
Zm8sICZwYWdlLCAmZ2ZuLCAmcDJtdCk7CiAKICAgICAgICAgc3dpdGNoICggcmVzICkKICAgICAg
ICAgewpAQCAtNTk5LDggKzYwMCwxNSBAQCBzdGF0aWMgdm9pZCAqaHZtZW11bF9tYXBfbGluZWFy
X2FkZHIoCiAgICAgICAgICAgICBlcnIgPSBOVUxMOwogICAgICAgICAgICAgZ290byBvdXQ7CiAK
LSAgICAgICAgY2FzZSBIVk1UUkFOU19nZm5fcGFnZWRfb3V0OgorICAgICAgICBjYXNlIEhWTVRS
QU5TX25lZWRfcmV0cnk6CisgICAgICAgICAgICAvKgorICAgICAgICAgICAgICogaHZtX3RyYW5z
bGF0ZV9nZXRfcGFnZSgpIGRvZXMgbm90IHJldHVybiBIVk1UUkFOU19uZWVkX3JldHJ5LgorICAg
ICAgICAgICAgICogSXQgY2FuIGRyb3BwZWQgaWYgZnV0dXJlIHdvcmsgcmVxdWlyZXMgdGhpcy4K
KyAgICAgICAgICAgICAqLworICAgICAgICAgICAgQVNTRVJUX1VOUkVBQ0hBQkxFKCk7CisgICAg
ICAgICAgICAvKiBmYWxsIHRocm91Z2ggKi8KICAgICAgICAgY2FzZSBIVk1UUkFOU19nZm5fc2hh
cmVkOgorICAgICAgICBjYXNlIEhWTVRSQU5TX2dmbl9wYWdlZF9vdXQ6CiAgICAgICAgICAgICBl
cnIgPSBFUlJfUFRSKH5YODZFTVVMX1JFVFJZKTsKICAgICAgICAgICAgIGdvdG8gb3V0OwogCkBA
IC02MjYsNiArNjM0LDE0IEBAIHN0YXRpYyB2b2lkICpodm1lbXVsX21hcF9saW5lYXJfYWRkcigK
IAogICAgICAgICAgICAgQVNTRVJUKHAybXQgPT0gcDJtX3JhbV9sb2dkaXJ0eSB8fCAhcDJtX2lz
X3JlYWRvbmx5KHAybXQpKTsKICAgICAgICAgfQorCisgICAgICAgIGlmICggdW5saWtlbHkoY3Vy
ci0+YXJjaC52bV9ldmVudCkgJiYKKyAgICAgICAgICAgICBjdXJyLT5hcmNoLnZtX2V2ZW50LT5z
ZW5kX2V2ZW50ICYmCisgICAgICAgICAgICAgaHZtX21vbml0b3JfY2hlY2tfcDJtKGFkZHIsIGdm
biwgcGZlYywgbnBmZWNfa2luZF93aXRoX2dsYSkgKQorICAgICAgICB7CisgICAgICAgICAgICBl
cnIgPSBFUlJfUFRSKH5YODZFTVVMX1JFVFJZKTsKKyAgICAgICAgICAgIGdvdG8gb3V0OworICAg
ICAgICB9CiAgICAgfQogCiAgICAgLyogRW50aXJlIGFjY2VzcyB3aXRoaW4gYSBzaW5nbGUgZnJh
bWU/ICovCkBAIC0xMTQxLDYgKzExNTcsNyBAQCBzdGF0aWMgaW50IGxpbmVhcl9yZWFkKHVuc2ln
bmVkIGxvbmcgYWRkciwgdW5zaWduZWQgaW50IGJ5dGVzLCB2b2lkICpwX2RhdGEsCiAKICAgICBj
YXNlIEhWTVRSQU5TX2dmbl9wYWdlZF9vdXQ6CiAgICAgY2FzZSBIVk1UUkFOU19nZm5fc2hhcmVk
OgorICAgIGNhc2UgSFZNVFJBTlNfbmVlZF9yZXRyeToKICAgICAgICAgcmV0dXJuIFg4NkVNVUxf
UkVUUlk7CiAgICAgfQogCkBAIC0xMTkyLDYgKzEyMDksNyBAQCBzdGF0aWMgaW50IGxpbmVhcl93
cml0ZSh1bnNpZ25lZCBsb25nIGFkZHIsIHVuc2lnbmVkIGludCBieXRlcywgdm9pZCAqcF9kYXRh
LAogCiAgICAgY2FzZSBIVk1UUkFOU19nZm5fcGFnZWRfb3V0OgogICAgIGNhc2UgSFZNVFJBTlNf
Z2ZuX3NoYXJlZDoKKyAgICBjYXNlIEhWTVRSQU5TX25lZWRfcmV0cnk6CiAgICAgICAgIHJldHVy
biBYODZFTVVMX1JFVFJZOwogICAgIH0KIApAQCAtMTg1MiwxOSArMTg3MCwyNyBAQCBzdGF0aWMg
aW50IGh2bWVtdWxfcmVwX21vdnMoCiAKICAgICB4ZnJlZShidWYpOwogCi0gICAgaWYgKCByYyA9
PSBIVk1UUkFOU19nZm5fcGFnZWRfb3V0ICkKLSAgICAgICAgcmV0dXJuIFg4NkVNVUxfUkVUUlk7
Ci0gICAgaWYgKCByYyA9PSBIVk1UUkFOU19nZm5fc2hhcmVkICkKLSAgICAgICAgcmV0dXJuIFg4
NkVNVUxfUkVUUlk7Ci0gICAgaWYgKCByYyAhPSBIVk1UUkFOU19va2F5ICkKKyAgICBzd2l0Y2gg
KCByYyApCiAgICAgewotICAgICAgICBnZHByaW50ayhYRU5MT0dfV0FSTklORywgIkZhaWxlZCBt
ZW1vcnktdG8tbWVtb3J5IFJFUCBNT1ZTOiBzZ3BhPSUiCi0gICAgICAgICAgICAgICAgIFBSSXBh
ZGRyIiBkZ3BhPSUiUFJJcGFkZHIiIHJlcHM9JWx1IGJ5dGVzX3Blcl9yZXA9JXVcbiIsCi0gICAg
ICAgICAgICAgICAgIHNncGEsIGRncGEsICpyZXBzLCBieXRlc19wZXJfcmVwKTsKLSAgICAgICAg
cmV0dXJuIFg4NkVNVUxfVU5IQU5ETEVBQkxFOworICAgIGNhc2UgSFZNVFJBTlNfbmVlZF9yZXRy
eToKKyAgICAgICAgLyoKKyAgICAgICAgICogaHZtX2NvcHlfdG9fZ3Vlc3RfcGh5cygpIGRvZXMg
bm90IHJldHVybiBIVk1UUkFOU19uZWVkX3JldHJ5LgorICAgICAgICAgKiBJdCBjYW4gZHJvcHBl
ZCBpZiBmdXR1cmUgd29yayByZXF1aXJlcyB0aGlzLgorICAgICAgICAgKi8KKyAgICAgICAgQVNT
RVJUX1VOUkVBQ0hBQkxFKCk7CisgICAgICAgIC8qIGZhbGwgdGhyb3VnaCAqLworICAgIGNhc2Ug
SFZNVFJBTlNfZ2ZuX3BhZ2VkX291dDoKKyAgICBjYXNlIEhWTVRSQU5TX2dmbl9zaGFyZWQ6Cisg
ICAgICAgIHJldHVybiBYODZFTVVMX1JFVFJZOworICAgIGNhc2UgSFZNVFJBTlNfb2theToKKyAg
ICAgICAgcmV0dXJuIFg4NkVNVUxfT0tBWTsKICAgICB9CiAKLSAgICByZXR1cm4gWDg2RU1VTF9P
S0FZOworICAgIGdkcHJpbnRrKFhFTkxPR19XQVJOSU5HLCAiRmFpbGVkIG1lbW9yeS10by1tZW1v
cnkgUkVQIE1PVlM6IHNncGE9JSIKKyAgICAgICAgICAgICBQUklwYWRkciIgZGdwYT0lIlBSSXBh
ZGRyIiByZXBzPSVsdSBieXRlc19wZXJfcmVwPSV1XG4iLAorICAgICAgICAgICAgIHNncGEsIGRn
cGEsICpyZXBzLCBieXRlc19wZXJfcmVwKTsKKworICAgIHJldHVybiBYODZFTVVMX1VOSEFORExF
QUJMRTsKIH0KIAogc3RhdGljIGludCBodm1lbXVsX3JlcF9zdG9zKApAQCAtMTk2Niw2ICsxOTky
LDEzIEBAIHN0YXRpYyBpbnQgaHZtZW11bF9yZXBfc3RvcygKIAogICAgICAgICBzd2l0Y2ggKCBy
YyApCiAgICAgICAgIHsKKyAgICAgICAgY2FzZSBIVk1UUkFOU19uZWVkX3JldHJ5OgorICAgICAg
ICAgICAgLyoKKyAgICAgICAgICAgICAqIGh2bV9jb3B5X3RvX2d1ZXN0X3BoeXMoKSBkb2VzIG5v
dCByZXR1cm4gSFZNVFJBTlNfbmVlZF9yZXRyeS4KKyAgICAgICAgICAgICAqIEl0IGNhbiBkcm9w
cGVkIGlmIGZ1dHVyZSB3b3JrIHJlcXVpcmVzIHRoaXMuCisgICAgICAgICAgICAgKi8KKyAgICAg
ICAgICAgIEFTU0VSVF9VTlJFQUNIQUJMRSgpOworICAgICAgICAgICAgLyogZmFsbCB0aHJvdWdo
ICovCiAgICAgICAgIGNhc2UgSFZNVFJBTlNfZ2ZuX3BhZ2VkX291dDoKICAgICAgICAgY2FzZSBI
Vk1UUkFOU19nZm5fc2hhcmVkOgogICAgICAgICAgICAgcmV0dXJuIFg4NkVNVUxfUkVUUlk7CmRp
ZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL2h2bS5jIGIveGVuL2FyY2gveDg2L2h2bS9odm0u
YwppbmRleCBmZGIxZTE3ZjU5Li5jODJlN2IyY2QzIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYv
aHZtL2h2bS5jCisrKyBiL3hlbi9hcmNoL3g4Ni9odm0vaHZtLmMKQEAgLTMyMzYsNiArMzIzNiwx
NSBAQCBzdGF0aWMgZW51bSBodm1fdHJhbnNsYXRpb25fcmVzdWx0IF9faHZtX2NvcHkoCiAgICAg
ICAgICAgICByZXR1cm4gSFZNVFJBTlNfYmFkX2dmbl90b19tZm47CiAgICAgICAgIH0KIAorICAg
ICAgICBpZiAoIHVubGlrZWx5KHYtPmFyY2gudm1fZXZlbnQpICYmCisgICAgICAgICAgICAgKGZs
YWdzICYgSFZNQ09QWV9saW5lYXIpICYmCisgICAgICAgICAgICAgdi0+YXJjaC52bV9ldmVudC0+
c2VuZF9ldmVudCAmJgorICAgICAgICAgICAgIGh2bV9tb25pdG9yX2NoZWNrX3AybShhZGRyLCBn
Zm4sIHBmZWMsIG5wZmVjX2tpbmRfd2l0aF9nbGEpICkKKyAgICAgICAgeworICAgICAgICAgICAg
cHV0X3BhZ2UocGFnZSk7CisgICAgICAgICAgICByZXR1cm4gSFZNVFJBTlNfbmVlZF9yZXRyeTsK
KyAgICAgICAgfQorCiAgICAgICAgIHAgPSAoY2hhciAqKV9fbWFwX2RvbWFpbl9wYWdlKHBhZ2Up
ICsgKGFkZHIgJiB+UEFHRV9NQVNLKTsKIAogICAgICAgICBpZiAoIGZsYWdzICYgSFZNQ09QWV90
b19ndWVzdCApCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvaHZtL2ludGVyY2VwdC5jIGIveGVu
L2FyY2gveDg2L2h2bS9pbnRlcmNlcHQuYwppbmRleCBhYWMyMmM1OTVkLi45MDIwMmJkY2VjIDEw
MDY0NAotLS0gYS94ZW4vYXJjaC94ODYvaHZtL2ludGVyY2VwdC5jCisrKyBiL3hlbi9hcmNoL3g4
Ni9odm0vaW50ZXJjZXB0LmMKQEAgLTE0NSw2ICsxNDUsNyBAQCBpbnQgaHZtX3Byb2Nlc3NfaW9f
aW50ZXJjZXB0KGNvbnN0IHN0cnVjdCBodm1faW9faGFuZGxlciAqaGFuZGxlciwKICAgICAgICAg
ICAgICAgICBjYXNlIEhWTVRSQU5TX2JhZF9saW5lYXJfdG9fZ2ZuOgogICAgICAgICAgICAgICAg
IGNhc2UgSFZNVFJBTlNfZ2ZuX3BhZ2VkX291dDoKICAgICAgICAgICAgICAgICBjYXNlIEhWTVRS
QU5TX2dmbl9zaGFyZWQ6CisgICAgICAgICAgICAgICAgY2FzZSBIVk1UUkFOU19uZWVkX3JldHJ5
OgogICAgICAgICAgICAgICAgICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKICAgICAgICAgICAg
ICAgICAgICAgLyogZmFsbCB0aHJvdWdoICovCiAgICAgICAgICAgICAgICAgZGVmYXVsdDoKQEAg
LTE3NCw2ICsxNzUsNyBAQCBpbnQgaHZtX3Byb2Nlc3NfaW9faW50ZXJjZXB0KGNvbnN0IHN0cnVj
dCBodm1faW9faGFuZGxlciAqaGFuZGxlciwKICAgICAgICAgICAgICAgICBjYXNlIEhWTVRSQU5T
X2JhZF9saW5lYXJfdG9fZ2ZuOgogICAgICAgICAgICAgICAgIGNhc2UgSFZNVFJBTlNfZ2ZuX3Bh
Z2VkX291dDoKICAgICAgICAgICAgICAgICBjYXNlIEhWTVRSQU5TX2dmbl9zaGFyZWQ6CisgICAg
ICAgICAgICAgICAgY2FzZSBIVk1UUkFOU19uZWVkX3JldHJ5OgogICAgICAgICAgICAgICAgICAg
ICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKICAgICAgICAgICAgICAgICAgICAgLyogZmFsbCB0aHJv
dWdoICovCiAgICAgICAgICAgICAgICAgZGVmYXVsdDoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4
Ni9odm0vbW9uaXRvci5jIGIveGVuL2FyY2gveDg2L2h2bS9tb25pdG9yLmMKaW5kZXggMmE0MWNj
YzkzMC4uN2ZiMWUyYzA0ZSAxMDA2NDQKLS0tIGEveGVuL2FyY2gveDg2L2h2bS9tb25pdG9yLmMK
KysrIGIveGVuL2FyY2gveDg2L2h2bS9tb25pdG9yLmMKQEAgLTIzLDggKzIzLDEwIEBACiAgKi8K
IAogI2luY2x1ZGUgPHhlbi92bV9ldmVudC5oPgorI2luY2x1ZGUgPHhlbi9tZW1fYWNjZXNzLmg+
CiAjaW5jbHVkZSA8eGVuL21vbml0b3IuaD4KICNpbmNsdWRlIDxhc20vaHZtL21vbml0b3IuaD4K
KyNpbmNsdWRlIDxhc20vYWx0cDJtLmg+CiAjaW5jbHVkZSA8YXNtL21vbml0b3IuaD4KICNpbmNs
dWRlIDxhc20vcGFnaW5nLmg+CiAjaW5jbHVkZSA8YXNtL3ZtX2V2ZW50Lmg+CkBAIC0yMTUsNiAr
MjE3LDgyIEBAIHZvaWQgaHZtX21vbml0b3JfaW50ZXJydXB0KHVuc2lnbmVkIGludCB2ZWN0b3Is
IHVuc2lnbmVkIGludCB0eXBlLAogICAgIG1vbml0b3JfdHJhcHMoY3VycmVudCwgMSwgJnJlcSk7
CiB9CiAKKy8qCisgKiBTZW5kIG1lbW9yeSBhY2Nlc3Mgdm1fZXZlbnRzIGJhc2VkIG9uIHBmZWMu
IFJldHVybnMgdHJ1ZSBpZiB0aGUgZXZlbnQgd2FzCisgKiBzZW50IGFuZCBmYWxzZSBmb3IgcDJt
X2dldF9tZW1fYWNjZXNzKCkgZXJyb3IsIG5vIHZpb2xhdGlvbiBhbmQgZXZlbnQgc2VuZAorICog
ZXJyb3IuIEFzc3VtZXMgdGhlIGNhbGxlciB3aWxsIGVuYWJsZS9kaXNhYmxlIGFyY2gudm1fZXZl
bnQtPnNlbmRfZXZlbnQuCisgKi8KK2Jvb2wgaHZtX21vbml0b3JfY2hlY2tfcDJtKHVuc2lnbmVk
IGxvbmcgZ2xhLCBnZm5fdCBnZm4sIHVpbnQzMl90IHBmZWMsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1aW50MTZfdCBraW5kKQoreworICAgIHhlbm1lbV9hY2Nlc3NfdCBhY2Nlc3M7Cisg
ICAgc3RydWN0IHZjcHUgKmN1cnIgPSBjdXJyZW50OworICAgIHZtX2V2ZW50X3JlcXVlc3RfdCBy
ZXEgPSB7fTsKKyAgICBwYWRkcl90IGdwYSA9IChnZm5fdG9fZ2FkZHIoZ2ZuKSB8IChnbGEgJiB+
UEFHRV9NQVNLKSk7CisgICAgaW50IHJjOworCisgICAgQVNTRVJUKGN1cnItPmFyY2gudm1fZXZl
bnQtPnNlbmRfZXZlbnQpOworCisgICAgLyoKKyAgICAgKiBwMm1fZ2V0X21lbV9hY2Nlc3MoKSBj
YW4gZmFpbCBmcm9tIGEgaW52YWxpZCBNRk4gYW5kIHJldHVybiAtRVNSQ0gKKyAgICAgKiBpbiB3
aGljaCBjYXNlIGFjY2VzcyBtdXN0IGJlIHJlc3RyaWN0ZWQuCisgICAgICovCisgICAgcmMgPSBw
Mm1fZ2V0X21lbV9hY2Nlc3MoY3Vyci0+ZG9tYWluLCBnZm4sICZhY2Nlc3MsIGFsdHAybV92Y3B1
X2lkeChjdXJyKSk7CisKKyAgICBpZiAoIHJjID09IC1FU1JDSCApCisgICAgICAgIGFjY2VzcyA9
IFhFTk1FTV9hY2Nlc3NfbjsKKyAgICBlbHNlIGlmICggcmMgKQorICAgICAgICByZXR1cm4gZmFs
c2U7CisKKyAgICBzd2l0Y2ggKCBhY2Nlc3MgKQorICAgIHsKKyAgICBjYXNlIFhFTk1FTV9hY2Nl
c3NfeDoKKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3Nfcng6CisgICAgICAgIGlmICggcGZlYyAmIFBG
RUNfd3JpdGVfYWNjZXNzICkKKyAgICAgICAgICAgIHJlcS51Lm1lbV9hY2Nlc3MuZmxhZ3MgPSBN
RU1fQUNDRVNTX1IgfCBNRU1fQUNDRVNTX1c7CisgICAgICAgIGJyZWFrOworCisgICAgY2FzZSBY
RU5NRU1fYWNjZXNzX3c6CisgICAgY2FzZSBYRU5NRU1fYWNjZXNzX3J3OgorICAgICAgICBpZiAo
IHBmZWMgJiBQRkVDX2luc25fZmV0Y2ggKQorICAgICAgICAgICAgcmVxLnUubWVtX2FjY2Vzcy5m
bGFncyA9IE1FTV9BQ0NFU1NfWDsKKyAgICAgICAgYnJlYWs7CisKKyAgICBjYXNlIFhFTk1FTV9h
Y2Nlc3NfcjoKKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3NfbjoKKyAgICAgICAgaWYgKCBwZmVjICYg
UEZFQ193cml0ZV9hY2Nlc3MgKQorICAgICAgICAgICAgcmVxLnUubWVtX2FjY2Vzcy5mbGFncyB8
PSBNRU1fQUNDRVNTX1IgfCBNRU1fQUNDRVNTX1c7CisgICAgICAgIGlmICggcGZlYyAmIFBGRUNf
aW5zbl9mZXRjaCApCisgICAgICAgICAgICByZXEudS5tZW1fYWNjZXNzLmZsYWdzIHw9IE1FTV9B
Q0NFU1NfWDsKKyAgICAgICAgYnJlYWs7CisKKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3Nfd3g6Cisg
ICAgY2FzZSBYRU5NRU1fYWNjZXNzX3J3eDoKKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3Nfcngycnc6
CisgICAgY2FzZSBYRU5NRU1fYWNjZXNzX24ycnd4OgorICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19k
ZWZhdWx0OgorICAgICAgICBicmVhazsKKyAgICB9CisKKyAgICBpZiAoICFyZXEudS5tZW1fYWNj
ZXNzLmZsYWdzICkKKyAgICAgICAgcmV0dXJuIGZhbHNlOyAvKiBubyB2aW9sYXRpb24gKi8KKwor
ICAgIGlmICgga2luZCA9PSBucGZlY19raW5kX3dpdGhfZ2xhICkKKyAgICAgICAgcmVxLnUubWVt
X2FjY2Vzcy5mbGFncyB8PSBNRU1fQUNDRVNTX0ZBVUxUX1dJVEhfR0xBIHwKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBNRU1fQUNDRVNTX0dMQV9WQUxJRDsKKyAgICBlbHNlIGlm
ICgga2luZCA9PSBucGZlY19raW5kX2luX2dwdCApCisgICAgICAgIHJlcS51Lm1lbV9hY2Nlc3Mu
ZmxhZ3MgfD0gTUVNX0FDQ0VTU19GQVVMVF9JTl9HUFQgfAorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIE1FTV9BQ0NFU1NfR0xBX1ZBTElEOworCisKKyAgICByZXEucmVhc29uID0g
Vk1fRVZFTlRfUkVBU09OX01FTV9BQ0NFU1M7CisgICAgcmVxLnUubWVtX2FjY2Vzcy5nZm4gPSBn
Zm5feChnZm4pOworICAgIHJlcS51Lm1lbV9hY2Nlc3MuZ2xhID0gZ2xhOworICAgIHJlcS51Lm1l
bV9hY2Nlc3Mub2Zmc2V0ID0gZ3BhICYgflBBR0VfTUFTSzsKKworICAgIHJldHVybiBtb25pdG9y
X3RyYXBzKGN1cnIsIHRydWUsICZyZXEpID49IDA7Cit9CisKIC8qCiAgKiBMb2NhbCB2YXJpYWJs
ZXM6CiAgKiBtb2RlOiBDCmRpZmYgLS1naXQgYS94ZW4vYXJjaC94ODYvbW0vbWVtX2FjY2Vzcy5j
IGIveGVuL2FyY2gveDg2L21tL21lbV9hY2Nlc3MuYwppbmRleCAwMTQ0ZjkyYjk4Li4zMjBiOWZl
NjIxIDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvbW0vbWVtX2FjY2Vzcy5jCisrKyBiL3hlbi9h
cmNoL3g4Ni9tbS9tZW1fYWNjZXNzLmMKQEAgLTIxMCwxMSArMjEwLDE4IEBAIGJvb2wgcDJtX21l
bV9hY2Nlc3NfY2hlY2socGFkZHJfdCBncGEsIHVuc2lnbmVkIGxvbmcgZ2xhLAogICAgICAgICAg
ICAgcmV0dXJuIHRydWU7CiAgICAgICAgIH0KICAgICB9CisKKyAgICAvKgorICAgICAqIFRyeSB0
byBhdm9pZCBzZW5kaW5nIGEgbWVtIGV2ZW50LiBTdXBwcmVzcyBldmVudHMgY2F1c2VkIGJ5IHBh
Z2Utd2Fsa3MKKyAgICAgKiBieSBlbXVsYXRpbmcgYnV0IHN0aWxsIGNoZWNraW5nIG1lbV9hY2Nl
c3MgdmlvbGF0aW9ucy4KKyAgICAgKi8KICAgICBpZiAoIHZtX2V2ZW50X2NoZWNrX3JpbmcoZC0+
dm1fZXZlbnRfbW9uaXRvcikgJiYKICAgICAgICAgIGQtPmFyY2gubW9uaXRvci5pbmd1ZXN0X3Bh
Z2VmYXVsdF9kaXNhYmxlZCAmJgotICAgICAgICAgbnBmZWMua2luZCAhPSBucGZlY19raW5kX3dp
dGhfZ2xhICkgLyogZG9uJ3Qgc2VuZCBhIG1lbV9ldmVudCAqLworICAgICAgICAgbnBmZWMua2lu
ZCA9PSBucGZlY19raW5kX2luX2dwdCApCiAgICAgeworICAgICAgICB2LT5hcmNoLnZtX2V2ZW50
LT5zZW5kX2V2ZW50ID0gdHJ1ZTsKICAgICAgICAgaHZtX2VtdWxhdGVfb25lX3ZtX2V2ZW50KEVN
VUxfS0lORF9OT1JNQUwsIFRSQVBfaW52YWxpZF9vcCwgWDg2X0VWRU5UX05PX0VDKTsKKyAgICAg
ICAgdi0+YXJjaC52bV9ldmVudC0+c2VuZF9ldmVudCA9IGZhbHNlOwogCiAgICAgICAgIHJldHVy
biB0cnVlOwogICAgIH0KZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvaHZtLmMg
Yi94ZW4vYXJjaC94ODYvbW0vc2hhZG93L2h2bS5jCmluZGV4IDBhYTU2MGI3ZjUuLjQ4ZGZhZDQ1
NTcgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL3g4Ni9tbS9zaGFkb3cvaHZtLmMKKysrIGIveGVuL2Fy
Y2gveDg2L21tL3NoYWRvdy9odm0uYwpAQCAtMTM5LDYgKzEzOSw3IEBAIGh2bV9yZWFkKGVudW0g
eDg2X3NlZ21lbnQgc2VnLAogICAgICAgICByZXR1cm4gWDg2RU1VTF9VTkhBTkRMRUFCTEU7CiAg
ICAgY2FzZSBIVk1UUkFOU19nZm5fcGFnZWRfb3V0OgogICAgIGNhc2UgSFZNVFJBTlNfZ2ZuX3No
YXJlZDoKKyAgICBjYXNlIEhWTVRSQU5TX25lZWRfcmV0cnk6CiAgICAgICAgIHJldHVybiBYODZF
TVVMX1JFVFJZOwogICAgIH0KIApkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0v
bW9uaXRvci5oIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vbW9uaXRvci5oCmluZGV4IGYxYWY0
ZjgxMmEuLjMyNWI0NDY3NGQgMTAwNjQ0Ci0tLSBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL21v
bml0b3IuaAorKysgYi94ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9tb25pdG9yLmgKQEAgLTQ5LDYg
KzQ5LDkgQEAgdm9pZCBodm1fbW9uaXRvcl9pbnRlcnJ1cHQodW5zaWduZWQgaW50IHZlY3Rvciwg
dW5zaWduZWQgaW50IHR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBp
bnQgZXJyLCB1aW50NjRfdCBjcjIpOwogYm9vbCBodm1fbW9uaXRvcl9lbXVsX3VuaW1wbGVtZW50
ZWQodm9pZCk7CiAKK2Jvb2wgaHZtX21vbml0b3JfY2hlY2tfcDJtKHVuc2lnbmVkIGxvbmcgZ2xh
LCBnZm5fdCBnZm4sIHVpbnQzMl90IHBmZWMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICB1
aW50MTZfdCBraW5kKTsKKwogI2VuZGlmIC8qIF9fQVNNX1g4Nl9IVk1fTU9OSVRPUl9IX18gKi8K
IAogLyoKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2FzbS14ODYvaHZtL3N1cHBvcnQuaCBiL3hl
bi9pbmNsdWRlL2FzbS14ODYvaHZtL3N1cHBvcnQuaAppbmRleCBlOTg5YWE3MzQ5Li4xNTAwZTZj
OTRiIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L2h2bS9zdXBwb3J0LmgKKysrIGIv
eGVuL2luY2x1ZGUvYXNtLXg4Ni9odm0vc3VwcG9ydC5oCkBAIC02MSw2ICs2MSw3IEBAIGVudW0g
aHZtX3RyYW5zbGF0aW9uX3Jlc3VsdCB7CiAgICAgSFZNVFJBTlNfdW5oYW5kbGVhYmxlLAogICAg
IEhWTVRSQU5TX2dmbl9wYWdlZF9vdXQsCiAgICAgSFZNVFJBTlNfZ2ZuX3NoYXJlZCwKKyAgICBI
Vk1UUkFOU19uZWVkX3JldHJ5LAogfTsKIAogLyoKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL2Fz
bS14ODYvdm1fZXZlbnQuaCBiL3hlbi9pbmNsdWRlL2FzbS14ODYvdm1fZXZlbnQuaAppbmRleCAy
M2U2NTU3MTBiLi42NmRiOWUxZTI1IDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9hc20teDg2L3Zt
X2V2ZW50LmgKKysrIGIveGVuL2luY2x1ZGUvYXNtLXg4Ni92bV9ldmVudC5oCkBAIC0zNiw2ICsz
Niw4IEBAIHN0cnVjdCBhcmNoX3ZtX2V2ZW50IHsKICAgICBib29sIHNldF9ncHJzOwogICAgIC8q
IEEgc3luYyB2bV9ldmVudCBoYXMgYmVlbiBzZW50IGFuZCB3ZSdyZSBub3QgZG9uZSBoYW5kbGlu
ZyBpdC4gKi8KICAgICBib29sIHN5bmNfZXZlbnQ7CisgICAgLyogU2VuZCBtZW0gYWNjZXNzIGV2
ZW50cyBmcm9tIGVtdWxhdG9yICovCisgICAgYm9vbCBzZW5kX2V2ZW50OwogfTsKIAogaW50IHZt
X2V2ZW50X2luaXRfZG9tYWluKHN0cnVjdCBkb21haW4gKmQpOwotLSAKMi4xNy4xCgoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxp
bmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5w
cm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

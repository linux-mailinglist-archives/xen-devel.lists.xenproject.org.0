Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id F10EE566D3
	for <lists+xen-devel@lfdr.de>; Wed, 26 Jun 2019 12:33:11 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hg5CO-0007eE-7i; Wed, 26 Jun 2019 10:30:44 +0000
Received: from us1-rack-dfw2.inumbo.com ([104.130.134.6])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=GqiY=UZ=gmail.com=olekstysh@srs-us1.protection.inumbo.net>)
 id 1hg5CN-0007e1-6e
 for xen-devel@lists.xenproject.org; Wed, 26 Jun 2019 10:30:43 +0000
X-Inumbo-ID: 70e93033-97fd-11e9-8980-bc764e045a96
Received: from mail-lj1-x241.google.com (unknown [2a00:1450:4864:20::241])
 by us1-rack-dfw2.inumbo.com (Halon) with ESMTPS
 id 70e93033-97fd-11e9-8980-bc764e045a96;
 Wed, 26 Jun 2019 10:30:39 +0000 (UTC)
Received: by mail-lj1-x241.google.com with SMTP id 205so1626075ljj.8
 for <xen-devel@lists.xenproject.org>; Wed, 26 Jun 2019 03:30:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references;
 bh=OHYwQpFbVkDgSvPfvtKR8PXxro6cW4p6XBvQBxI8Aeo=;
 b=C6M+3TCBgVT8iResz/xfd51lKpknyDWRA4gu3o6YfmK3qY/PMa4f5iOU27GTgvfE7r
 R3zISMp+EOvp8r5+hWjQLbol1U8i6rLXOojkzn+28LUqvEhczKMX77livdHrwR1v9xKR
 5/wh7awHM9kUwfhTyyUsfx+phhRtHYLlgXl0rLUAm6U3hF67cOsLpoowA7I+YHTr5ixI
 d7TsuwPEnfBY3g0+rhq7vDpA3vNzxFsLmM7KsG0jqa2xuKvYeJMh5hcj0yDQBCRCWhPR
 CzXuVDO+xcJ5GMsUEgpdfGHcIGA+k8UU+D8komDY3h09OiOFmUybUJB2C1rV+0+WwLGu
 Lrng==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references;
 bh=OHYwQpFbVkDgSvPfvtKR8PXxro6cW4p6XBvQBxI8Aeo=;
 b=hE8xaNdyRSzV0lVgDm3oJvF9X/O9P3OiPvE0rz4CcRrQII3evHsNzPnM0hl2jILtPn
 7Lq68YWGjz4uM9ETEA8kKQxIugz9CahPm62nqBMZhf4QMk++6P8B7r5r9OjD/t4HYDCF
 E+hBMDNyVAb9KP9rtO1uDfx5fKt46KEp48tUsyyZMf5O1IHHR34dLsDdGuo1ax0smSn4
 6qH1Ck3VyYM4NNIhcetow3tkdJ4YVnbez7U/qN0e4iNVzI69U1O2EUNNDtf+S7uNOGhZ
 ihkQ/p5QtDwFBuxiHDpaVHt8ApxUusTT7pPpV8QVnE9wPDaeweD6+a9xwgq+C7HvjZuK
 xjSA==
X-Gm-Message-State: APjAAAVyBO0J+RnN5hjFV62wQushacANSjv03FGwrtz5b4R4V/w3I/ZH
 NdkM1hZUzbSCuJfG4AuhE/LaqbS4
X-Google-Smtp-Source: APXvYqwkUmgKhcRzlpIvq+/7nen32pcSLUwRI+ujtVzV6KR2S0NdjdHaLCUah0PBClCQ5M4Eo6m+Nw==
X-Received: by 2002:a2e:864d:: with SMTP id i13mr2383750ljj.92.1561545037398; 
 Wed, 26 Jun 2019 03:30:37 -0700 (PDT)
Received: from otyshchenko.kyiv.epam.com (ll-22.209.223.85.sovam.net.ua.
 [85.223.209.22])
 by smtp.gmail.com with ESMTPSA id k8sm2754853lja.24.2019.06.26.03.30.36
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
 Wed, 26 Jun 2019 03:30:36 -0700 (PDT)
From: Oleksandr Tyshchenko <olekstysh@gmail.com>
To: xen-devel@lists.xenproject.org
Date: Wed, 26 Jun 2019 13:30:09 +0300
Message-Id: <1561545009-17493-2-git-send-email-olekstysh@gmail.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1561545009-17493-1-git-send-email-olekstysh@gmail.com>
References: <1561545009-17493-1-git-send-email-olekstysh@gmail.com>
Subject: [Xen-devel] [PATCH V1] iommu/arm: Add Renesas IPMMU-VMSA support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Oleksandr Tyshchenko <oleksandr_tyshchenko@epam.com>, julien.grall@arm.com,
 sstabellini@kernel.org
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogT2xla3NhbmRyIFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtvQGVwYW0uY29t
PgoKVGhlIElQTU1VLVZNU0EgaXMgVk1TQS1jb21wYXRpYmxlIEkvTyBNZW1vcnkgTWFuYWdlbWVu
dCBVbml0IChJT01NVSkKd2hpY2ggcHJvdmlkZXMgYWRkcmVzcyB0cmFuc2xhdGlvbiBhbmQgYWNj
ZXNzIHByb3RlY3Rpb24gZnVuY3Rpb25hbGl0aWVzCnRvIHByb2Nlc3NpbmcgdW5pdHMgYW5kIGlu
dGVyY29ubmVjdCBuZXR3b3Jrcy4KClBsZWFzZSBub3RlLCBjdXJyZW50IGRyaXZlciBpcyBzdXBw
b3NlZCB0byB3b3JrIG9ubHkgd2l0aCBuZXdlc3QKR2VuMyBTb0NzIHJldmlzaW9ucyB3aGljaCBJ
UE1NVSBoYXJkd2FyZSBzdXBwb3J0cyBzdGFnZSAyIHRyYW5zbGF0aW9uCnRhYmxlIGZvcm1hdCBh
bmQgaXMgYWJsZSB0byB1c2UgQ1BVJ3MgUDJNIHRhYmxlIGFzIGlzIGlmIG9uZSBpcwozLWxldmVs
IHBhZ2UgdGFibGUgKHVwIHRvIDQwIGJpdCBJUEEpLgoKU2lnbmVkLW9mZi1ieTogT2xla3NhbmRy
IFR5c2hjaGVua28gPG9sZWtzYW5kcl90eXNoY2hlbmtvQGVwYW0uY29tPgotLS0KIHhlbi9hcmNo
L2FybS9wbGF0Zm9ybXMvS2NvbmZpZyAgICAgICAgICAgfCAgICAxICsKIHhlbi9kcml2ZXJzL3Bh
c3N0aHJvdWdoL0tjb25maWcgICAgICAgICAgfCAgIDEzICsKIHhlbi9kcml2ZXJzL3Bhc3N0aHJv
dWdoL2FybS9NYWtlZmlsZSAgICAgfCAgICAxICsKIHhlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2Fy
bS9pcG1tdS12bXNhLmMgfCAxNDg3ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogNCBm
aWxlcyBjaGFuZ2VkLCAxNTAyIGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEwMDY0NCB4ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBtbXUtdm1zYS5jCgpkaWZmIC0tZ2l0IGEveGVuL2Fy
Y2gvYXJtL3BsYXRmb3Jtcy9LY29uZmlnIGIveGVuL2FyY2gvYXJtL3BsYXRmb3Jtcy9LY29uZmln
CmluZGV4IGJjMGU5Y2QuLmM5M2E2YjIgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9wbGF0Zm9y
bXMvS2NvbmZpZworKysgYi94ZW4vYXJjaC9hcm0vcGxhdGZvcm1zL0tjb25maWcKQEAgLTI1LDYg
KzI1LDcgQEAgY29uZmlnIFJDQVIzCiAJYm9vbCAiUmVuZXNhcyBSQ2FyMyBzdXBwb3J0IgogCWRl
cGVuZHMgb24gQVJNXzY0CiAJc2VsZWN0IEhBU19TQ0lGCisJc2VsZWN0IElQTU1VX1ZNU0EKIAkt
LS1oZWxwLS0tCiAJRW5hYmxlIGFsbCB0aGUgcmVxdWlyZWQgZHJpdmVycyBmb3IgUmVuZXNhcyBS
Q2FyMwogCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9LY29uZmlnIGIveGVu
L2RyaXZlcnMvcGFzc3Rocm91Z2gvS2NvbmZpZwppbmRleCBhM2MwNjQ5Li5lNTdhYTI5IDEwMDY0
NAotLS0gYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9LY29uZmlnCisrKyBiL3hlbi9kcml2ZXJz
L3Bhc3N0aHJvdWdoL0tjb25maWcKQEAgLTEyLDQgKzEyLDE3IEBAIGNvbmZpZyBBUk1fU01NVQog
CiAJICBTYXkgWSBoZXJlIGlmIHlvdXIgU29DIGluY2x1ZGVzIGFuIElPTU1VIGRldmljZSBpbXBs
ZW1lbnRpbmcgdGhlCiAJICBBUk0gU01NVSBhcmNoaXRlY3R1cmUuCisKK2NvbmZpZyBJUE1NVV9W
TVNBCisJYm9vbCAiUmVuZXNhcyBJUE1NVS1WTVNBIGZvdW5kIGluIFItQ2FyIEdlbjMgU29DcyIK
KwlkZWZhdWx0IHkKKwlkZXBlbmRzIG9uIEFSTV82NAorCS0tLWhlbHAtLS0KKwkgIFN1cHBvcnQg
Zm9yIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgUmVuZXNhcyBJUE1NVS1WTVNBIGZvdW5kCisJICBp
biBSLUNhciBHZW4zIFNvQ3MuCisKKwkgIFNheSBZIGhlcmUgaWYgeW91IGFyZSB1c2luZyBuZXdl
c3QgUi1DYXIgR2VuMyBTb0NzIHJldmlzaW9ucyB3aGljaCBJUE1NVQorCSAgaGFyZHdhcmUgc3Vw
cG9ydHMgc3RhZ2UgMiB0cmFuc2xhdGlvbiB0YWJsZSBmb3JtYXQgYW5kIGlzIGFibGUgdG8gdXNl
CisJICBDUFUncyBQMk0gdGFibGUgYXMgaXMuCisKIGVuZGlmCmRpZmYgLS1naXQgYS94ZW4vZHJp
dmVycy9wYXNzdGhyb3VnaC9hcm0vTWFrZWZpbGUgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9h
cm0vTWFrZWZpbGUKaW5kZXggYjNlZmNmZC4uNDBhYzdhOSAxMDA2NDQKLS0tIGEveGVuL2RyaXZl
cnMvcGFzc3Rocm91Z2gvYXJtL01ha2VmaWxlCisrKyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdo
L2FybS9NYWtlZmlsZQpAQCAtMSwyICsxLDMgQEAKIG9iai15ICs9IGlvbW11Lm8KIG9iai0kKENP
TkZJR19BUk1fU01NVSkgKz0gc21tdS5vCitvYmotJChDT05GSUdfSVBNTVVfVk1TQSkgKz0gaXBt
bXUtdm1zYS5vCmRpZmYgLS1naXQgYS94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBtbXUt
dm1zYS5jIGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lwbW11LXZtc2EuYwpuZXcgZmls
ZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwLi41MDkxYzYxCi0tLSAvZGV2L251bGwKKysrIGIv
eGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL2lwbW11LXZtc2EuYwpAQCAtMCwwICsxLDE0ODcg
QEAKKy8qCisgKiB4ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9hcm0vaXBtbXUtdm1zYS5jCisgKgor
ICogRHJpdmVyIGZvciB0aGUgUmVuZXNhcyBJUE1NVS1WTVNBIGZvdW5kIGluIFItQ2FyIEdlbjMg
U29Dcy4KKyAqCisgKiBUaGUgSVBNTVUtVk1TQSBpcyBWTVNBLWNvbXBhdGlibGUgSS9PIE1lbW9y
eSBNYW5hZ2VtZW50IFVuaXQgKElPTU1VKQorICogd2hpY2ggcHJvdmlkZXMgYWRkcmVzcyB0cmFu
c2xhdGlvbiBhbmQgYWNjZXNzIHByb3RlY3Rpb24gZnVuY3Rpb25hbGl0aWVzCisgKiB0byBwcm9j
ZXNzaW5nIHVuaXRzIGFuZCBpbnRlcmNvbm5lY3QgbmV0d29ya3MuCisgKgorICogUGxlYXNlIG5v
dGUsIGN1cnJlbnQgZHJpdmVyIGlzIHN1cHBvc2VkIHRvIHdvcmsgb25seSB3aXRoIG5ld2VzdCBH
ZW4zIFNvQ3MKKyAqIHJldmlzaW9ucyB3aGljaCBJUE1NVSBoYXJkd2FyZSBzdXBwb3J0cyBzdGFn
ZSAyIHRyYW5zbGF0aW9uIHRhYmxlIGZvcm1hdCBhbmQKKyAqIGlzIGFibGUgdG8gdXNlIENQVSdz
IFAyTSB0YWJsZSBhcyBpcy4KKyAqCisgKiBCYXNlZCBvbiBMaW51eCdzIElQTU1VLVZNU0EgZHJp
dmVyIGZyb20gUmVuZXNhcyBCU1A6CisgKiAgICBkcml2ZXJzL2lvbW11L2lwbW11LXZtc2EuYwor
ICogeW91IGNhbiBmb3VuZCBhdDoKKyAqICAgIHVybDogZ2l0Oi8vZ2l0Lmtlcm5lbC5vcmcvcHVi
L3NjbS9saW51eC9rZXJuZWwvZ2l0L2hvcm1zL3JlbmVzYXMtYnNwLmdpdAorICogICAgYnJhbmNo
OiB2NC4xNC43NS1sdHNpL3JjYXItMy45LjIKKyAqICAgIGNvbW1pdDogYTUyNjZkMjk4MTI0ODc0
YzJjMDZiOGIxM2QwNzNmNmVjYzJlZTM1NQorICogYW5kIFhlbidzIFNNTVUgZHJpdmVyOgorICog
ICAgeGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvYXJtL3NtbXUuYworICoKKyAqIENvcHlyaWdodCAo
QykgMjAxNi0yMDE5IEVQQU0gU3lzdGVtcyBJbmMuCisgKgorICogVGhpcyBwcm9ncmFtIGlzIGZy
ZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgorICogbW9kaWZ5IGl0
IHVuZGVyIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGlj
CisgKiBMaWNlbnNlLCB2ZXJzaW9uIDIsIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2Fy
ZSBGb3VuZGF0aW9uLgorICoKKyAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUg
aG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZ
OyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAqIE1FUkNIQU5UQUJJTElU
WSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCisgKiBH
ZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICogWW91IHNob3Vs
ZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljCisgKiBMaWNl
bnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUu
b3JnL2xpY2Vuc2VzLz4uCisgKi8KKworI2luY2x1ZGUgPHhlbi9kZWxheS5oPgorI2luY2x1ZGUg
PHhlbi9lcnIuaD4KKyNpbmNsdWRlIDx4ZW4vaXJxLmg+CisjaW5jbHVkZSA8eGVuL2xpYi5oPgor
I2luY2x1ZGUgPHhlbi9saXN0Lmg+CisjaW5jbHVkZSA8eGVuL21tLmg+CisjaW5jbHVkZSA8eGVu
L3NjaGVkLmg+CisjaW5jbHVkZSA8eGVuL3ZtYXAuaD4KKyNpbmNsdWRlIDxhc20vYXRvbWljLmg+
CisjaW5jbHVkZSA8YXNtL2RldmljZS5oPgorI2luY2x1ZGUgPGFzbS9pby5oPgorCisjZGVmaW5l
IGRldl9uYW1lKGRldikgZHRfbm9kZV9mdWxsX25hbWUoZGV2X3RvX2R0KGRldikpCisKKy8qIERl
dmljZSBsb2dnZXIgZnVuY3Rpb25zICovCisjZGVmaW5lIGRldl9wcmludChkZXYsIGx2bCwgZm10
LCAuLi4pICAgIFwKKyAgICBwcmludGsobHZsICJpcG1tdTogJXM6ICIgZm10LCBkZXZfbmFtZShk
ZXYpLCAjIyBfX1ZBX0FSR1NfXykKKworI2RlZmluZSBkZXZfaW5mbyhkZXYsIGZtdCwgLi4uKSAg
ICBcCisgICAgZGV2X3ByaW50KGRldiwgWEVOTE9HX0lORk8sIGZtdCwgIyMgX19WQV9BUkdTX18p
CisjZGVmaW5lIGRldl93YXJuKGRldiwgZm10LCAuLi4pICAgIFwKKyAgICBkZXZfcHJpbnQoZGV2
LCBYRU5MT0dfV0FSTklORywgZm10LCAjIyBfX1ZBX0FSR1NfXykKKyNkZWZpbmUgZGV2X2Vycihk
ZXYsIGZtdCwgLi4uKSAgICAgXAorICAgIGRldl9wcmludChkZXYsIFhFTkxPR19FUlIsIGZtdCwg
IyMgX19WQV9BUkdTX18pCisjZGVmaW5lIGRldl9lcnJfcmF0ZWxpbWl0ZWQoZGV2LCBmbXQsIC4u
LikgICAgXAorICAgIGRldl9wcmludChkZXYsIFhFTkxPR19FUlIsIGZtdCwgIyMgX19WQV9BUkdT
X18pCisKKy8qCisgKiBHZW4zIFNvQ3MgbWFrZSB1c2Ugb2YgdXAgdG8gOCBJUE1NVSBjb250ZXh0
cyAoc2V0cyBvZiBwYWdlIHRhYmxlKSBhbmQKKyAqIHRoZXNlIGNhbiBiZSBtYW5hZ2VkIGluZGVw
ZW5kZW50bHkuIEVhY2ggY29udGV4dCBpcyBtYXBwZWQgdG8gb25lIFhlbiBkb21haW4uCisgKi8K
KyNkZWZpbmUgSVBNTVVfQ1RYX01BWCAgICAgOAorLyogR2VuMyBTb0NzIG1ha2UgdXNlIG9mIHVw
IHRvIDQ4IG1pY3JvLVRMQnMgcGVyIElQTU1VIGRldmljZS4gKi8KKyNkZWZpbmUgSVBNTVVfVVRM
Ql9NQVggICAgNDgKKworLyogSVBNTVUgY29udGV4dCBzdXBwb3J0cyBJUEEgc2l6ZSB1cCB0byA0
MCBiaXQuICovCisjZGVmaW5lIElQTU1VX01BWF9QMk1fSVBBX0JJVFMgICAgNDAKKworLyoKKyAq
IFhlbidzIGRvbWFpbiBJUE1NVSBpbmZvcm1hdGlvbiBzdG9yZWQgaW4gZG9tX2lvbW11KGQpLT5h
cmNoLnByaXYKKyAqCisgKiBBcyBlYWNoIGNvbnRleHQgKHNldCBvZiBwYWdlIHRhYmxlKSBpcyBt
YXBwZWQgdG8gb25lIFhlbiBkb21haW4sCisgKiBhbGwgYXNzb2NpYXRlZCBJUE1NVSBkb21haW5z
IHVzZSB0aGUgc2FtZSBjb250ZXh0IG1hcHBlZCB0byB0aGlzIFhlbiBkb21haW4uCisgKiBUaGlz
IG1ha2VzIGFsbCBtYXN0ZXIgZGV2aWNlcyBiZWluZyBhdHRhY2hlZCB0byB0aGUgc2FtZSBYZW4g
ZG9tYWluIHNoYXJlCisgKiB0aGUgc2FtZSBjb250ZXh0IChQMk0gdGFibGUpLgorICovCitzdHJ1
Y3QgaXBtbXVfdm1zYV94ZW5fZG9tYWluCit7CisgICAgc3BpbmxvY2tfdCBsb2NrOworICAgIC8q
IE9uZSBvciBtb3JlIENhY2hlIElQTU1VIGRvbWFpbnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgWGVu
IGRvbWFpbiAqLworICAgIHN0cnVjdCBsaXN0X2hlYWQgY2FjaGVfZG9tYWluczsKKyAgICAvKiBS
b290IElQTU1VIGRvbWFpbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBYZW4gZG9tYWluICovCisgICAg
c3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpyb290X2RvbWFpbjsKK307CisKKy8qIFhlbiBtYXN0
ZXIgZGV2aWNlJ3MgSVBNTVUgaW5mb3JtYXRpb24gc3RvcmVkIGluIGRldi0+YXJjaGRhdGEuaW9t
bXUgKi8KK3N0cnVjdCBpcG1tdV92bXNhX3hlbl9kZXZpY2UKK3sKKyAgICAvKiBDYWNoZSBJUE1N
VSBkb21haW4gdGhpcyBtYXN0ZXIgZGV2aWNlIGlzIGF0dGFjaGVkIHRvICovCisgICAgc3RydWN0
IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW47CisgICAgLyogTWFzdGVyIGRldmljZSdzIElQTU1V
IGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24gKi8KKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9tYXN0
ZXJfY2ZnICpjZmc7Cit9OworCisjZGVmaW5lIGRldl9hcmNoZGF0YShkZXYpICgoc3RydWN0IGlw
bW11X3Ztc2FfeGVuX2RldmljZSAqKWRldi0+YXJjaGRhdGEuaW9tbXUpCisKKy8qIFJvb3QvQ2Fj
aGUgSVBNTVUgZGV2aWNlJ3MgaW5mb3JtYXRpb24gKi8KK3N0cnVjdCBpcG1tdV92bXNhX2Rldmlj
ZQoreworICAgIHN0cnVjdCBkZXZpY2UgKmRldjsKKyAgICB2b2lkIF9faW9tZW0gKmJhc2U7Cisg
ICAgc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICpyb290OworICAgIHN0cnVjdCBsaXN0X2hlYWQg
bGlzdDsKKyAgICB1bnNpZ25lZCBpbnQgbnVtX3V0bGJzOworICAgIHVuc2lnbmVkIGludCBudW1f
Y3R4OworICAgIHNwaW5sb2NrX3QgbG9jazsgICAgLyogUHJvdGVjdHMgY3R4IGFuZCBkb21haW5z
W10gKi8KKyAgICBERUNMQVJFX0JJVE1BUChjdHgsIElQTU1VX0NUWF9NQVgpOworICAgIHN0cnVj
dCBpcG1tdV92bXNhX2RvbWFpbiAqZG9tYWluc1tJUE1NVV9DVFhfTUFYXTsKK307CisKKy8qCisg
KiBSb290L0NhY2hlIElQTU1VIGRvbWFpbidzIGluZm9ybWF0aW9uCisgKgorICogUm9vdCBJUE1N
VSBkZXZpY2UgaXMgYXNzaWduZWQgdG8gUm9vdCBJUE1NVSBkb21haW4gd2hpbGUgQ2FjaGUgSVBN
TVUgZGV2aWNlCisgKiBpcyBhc3NpZ25lZCB0byBDYWNoZSBJUE1NVSBkb21haW4uIE1hc3RlciBk
ZXZpY2VzIGFyZSBjb25uZWN0ZWQgdG8gQ2FjaGUKKyAqIElQTU1VIGRldmljZXMgdGhyb3VnaCBz
cGVjaWZpYyBwb3J0cyBjYWxsZWQgbWljcm8tVExCcy4KKyAqIEFsbCBDYWNoZSBJUE1NVSBkZXZp
Y2VzLCBpbiB0dXJuLCBhcmUgY29ubmVjdGVkIHRvIFJvb3QgSVBNTVUgZGV2aWNlCisgKiB3aGlj
aCBtYW5hZ2VzIElQTU1VIGNvbnRleHQuCisgKi8KK3N0cnVjdCBpcG1tdV92bXNhX2RvbWFpbgor
eworICAgIC8qCisgICAgICogSVBNTVUgZGV2aWNlIGFzc2lnbmVkIHRvIHRoaXMgSVBNTVUgZG9t
YWluLgorICAgICAqIEVpdGhlciBSb290IGRldmljZSB3aGljaCBpcyBsb2NhdGVkIGF0IHRoZSBt
YWluIG1lbW9yeSBidXMgZG9tYWluIG9yCisgICAgICogQ2FjaGUgZGV2aWNlIHdoaWNoIGlzIGxv
Y2F0ZWQgYXQgZWFjaCBoaWVyYXJjaHkgYnVzIGRvbWFpbi4KKyAgICAgKi8KKyAgICBzdHJ1Y3Qg
aXBtbXVfdm1zYV9kZXZpY2UgKm1tdTsKKworICAgIC8qIENvbnRleHQgdXNlZCBmb3IgdGhpcyBJ
UE1NVSBkb21haW4gKi8KKyAgICB1bnNpZ25lZCBpbnQgY29udGV4dF9pZDsKKworICAgIC8qIFhl
biBkb21haW4gYXNzb2NpYXRlZCB3aXRoIHRoaXMgSVBNTVUgZG9tYWluICovCisgICAgc3RydWN0
IGRvbWFpbiAqZDsKKworICAgIC8qIFRoZSBmaWVsZHMgYmVsb3cgYXJlIHVzZWQgZm9yIENhY2hl
IElQTU1VIGRvbWFpbiBvbmx5ICovCisKKyAgICAvKgorICAgICAqIFVzZWQgdG8ga2VlcCB0cmFj
ayBvZiB0aGUgbWFzdGVyIGRldmljZXMgd2hpY2ggYXJlIGF0dGFjaGVkIHRvIHRoaXMKKyAgICAg
KiBJUE1NVSBkb21haW4gKGRvbWFpbiB1c2VycykuIE1hc3RlciBkZXZpY2VzIGJlaGluZCB0aGUg
c2FtZSBJUE1NVSBkZXZpY2UKKyAgICAgKiBhcmUgZ3JvdXBlZCB0b2dldGhlciBieSBwdXR0aW5n
IGludG8gdGhlIHNhbWUgSVBNTVUgZG9tYWluLgorICAgICAqIE9ubHkgd2hlbiB0aGUgcmVmY291
bnQgcmVhY2hlcyAwIHRoaXMgSVBNTVUgZG9tYWluIGNhbiBiZSBkZXN0cm95ZWQuCisgICAgICov
CisgICAgaW50IHJlZmNvdW50OworICAgIC8qIFVzZWQgdG8gbGluayB0aGlzIElQTU1VIGRvbWFp
biBmb3IgdGhlIHNhbWUgWGVuIGRvbWFpbiAqLworICAgIHN0cnVjdCBsaXN0X2hlYWQgbGlzdDsK
K307CisKKy8qIE1hc3RlciBkZXZpY2UncyBJUE1NVSBjb25maWd1cmF0aW9uIGluZm9ybWF0aW9u
ICovCitzdHJ1Y3QgaXBtbXVfdm1zYV9tYXN0ZXJfY2ZnCit7CisgICAgLyogQ2FjaGUgSVBNTVUg
dGhpcyBtYXN0ZXIgZGV2aWNlIGlzIGNvbm5lY3RlZCB0byAqLworICAgIHN0cnVjdCBpcG1tdV92
bXNhX2RldmljZSAqbW11OworICAgIC8qCisgICAgICogVGhlc2UgZmllbGRzIGRlc2NyaWJlIG1h
c3RlciBkZXZpY2UncyBjb25uZWN0aW9uIHRvIENhY2hlIElQTU1VLgorICAgICAqIEVhY2ggbWFz
dGVyIGRldmljZSBnZXRzIG1pY3JvLVRMQiBhc3NpZ25tZW50IHZpYSB0aGUgImlvbW11cyIgcHJv
cGVydHkKKyAgICAgKiBpbiBEVC4KKyAgICAgKgorICAgICAqIFNvbWUga2luZCBvZiBhbiBlcXVp
dmFsZW50IHRvIExpbnV4J3MgZGV2aWNlIElEcyB3aGljaCBwcmVzZW50CisgICAgICogaW4gc3Ry
dWN0IGlvbW11X2Z3c3BlYy4KKyAgICAgKi8KKyAgICB1bnNpZ25lZCBpbnQgKnV0bGJzOworICAg
IHVuc2lnbmVkIGludCBudW1fdXRsYnM7Cit9OworCisvKiBVc2VkIHRvIGtlZXAgdHJhY2sgb2Yg
cmVnaXN0ZXJlZCBJUE1NVSBkZXZpY2VzICovCitzdGF0aWMgTElTVF9IRUFEKGlwbW11X2Rldmlj
ZXMpOworc3RhdGljIERFRklORV9TUElOTE9DSyhpcG1tdV9kZXZpY2VzX2xvY2spOworCisjZGVm
aW5lIFRMQl9MT09QX1RJTUVPVVQgICAgMTAwIC8qIDEwMHVzICovCisKKy8qIFJlZ2lzdGVycyBE
ZWZpbml0aW9uICovCisjZGVmaW5lIElNX0NUWF9TSVpFICAgIDB4NDAKKworI2RlZmluZSBJTUNU
UiAgICAgICAgICAgICAgICAweDAwMDAKKy8qCisgKiBUaGVzZSBmaWVsZHMgYXJlIGltcGxlbWVu
dGVkIGluIElQTU1VLU1NIG9ubHkuIFNvLCBjYW4gYmUgc2V0IGZvcgorICogUm9vdCBJUE1NVSBv
bmx5LgorICovCisjZGVmaW5lIElNQ1RSX1ZBNjQgICAgICAgICAgICgxIDw8IDI5KQorI2RlZmlu
ZSBJTUNUUl9UUkUgICAgICAgICAgICAoMSA8PCAxNykKKyNkZWZpbmUgSU1DVFJfQUZFICAgICAg
ICAgICAgKDEgPDwgMTYpCisjZGVmaW5lIElNQ1RSX1JUU0VMX01BU0sgICAgICgzIDw8IDQpCisj
ZGVmaW5lIElNQ1RSX1JUU0VMX1NISUZUICAgIDQKKyNkZWZpbmUgSU1DVFJfVFJFTiAgICAgICAg
ICAgKDEgPDwgMykKKy8qCisgKiBUaGVzZSBmaWVsZHMgYXJlIGNvbW1vbiBmb3IgYWxsIElQTU1V
IGRldmljZXMuIFNvLCBjYW4gYmUgc2V0IGZvcgorICogQ2FjaGUgSVBNTVVzIGFzIHdlbGwuCisg
Ki8KKyNkZWZpbmUgSU1DVFJfSU5URU4gICAgICAgICAgKDEgPDwgMikKKyNkZWZpbmUgSU1DVFJf
RkxVU0ggICAgICAgICAgKDEgPDwgMSkKKyNkZWZpbmUgSU1DVFJfTU1VRU4gICAgICAgICAgKDEg
PDwgMCkKKyNkZWZpbmUgSU1DVFJfQ09NTU9OX01BU0sgICAgKDcgPDwgMCkKKworI2RlZmluZSBJ
TUNBQVIgICAgICAgICAgICAgICAweDAwMDQKKworI2RlZmluZSBJTVRUQkNSICAgICAgICAgICAg
ICAgICAgICAgICAgMHgwMDA4CisjZGVmaW5lIElNVFRCQ1JfRUFFICAgICAgICAgICAgICAgICAg
ICAoMSA8PCAzMSkKKyNkZWZpbmUgSU1UVEJDUl9QTUIgICAgICAgICAgICAgICAgICAgICgxIDw8
IDMwKQorI2RlZmluZSBJTVRUQkNSX1NIMV9OT05fU0hBUkVBQkxFICAgICAgKDAgPDwgMjgpCisj
ZGVmaW5lIElNVFRCQ1JfU0gxX09VVEVSX1NIQVJFQUJMRSAgICAoMiA8PCAyOCkKKyNkZWZpbmUg
SU1UVEJDUl9TSDFfSU5ORVJfU0hBUkVBQkxFICAgICgzIDw8IDI4KQorI2RlZmluZSBJTVRUQkNS
X1NIMV9NQVNLICAgICAgICAgICAgICAgKDMgPDwgMjgpCisjZGVmaW5lIElNVFRCQ1JfT1JHTjFf
TkMgICAgICAgICAgICAgICAoMCA8PCAyNikKKyNkZWZpbmUgSU1UVEJDUl9PUkdOMV9XQl9XQSAg
ICAgICAgICAgICgxIDw8IDI2KQorI2RlZmluZSBJTVRUQkNSX09SR04xX1dUICAgICAgICAgICAg
ICAgKDIgPDwgMjYpCisjZGVmaW5lIElNVFRCQ1JfT1JHTjFfV0IgICAgICAgICAgICAgICAoMyA8
PCAyNikKKyNkZWZpbmUgSU1UVEJDUl9PUkdOMV9NQVNLICAgICAgICAgICAgICgzIDw8IDI2KQor
I2RlZmluZSBJTVRUQkNSX0lSR04xX05DICAgICAgICAgICAgICAgKDAgPDwgMjQpCisjZGVmaW5l
IElNVFRCQ1JfSVJHTjFfV0JfV0EgICAgICAgICAgICAoMSA8PCAyNCkKKyNkZWZpbmUgSU1UVEJD
Ul9JUkdOMV9XVCAgICAgICAgICAgICAgICgyIDw8IDI0KQorI2RlZmluZSBJTVRUQkNSX0lSR04x
X1dCICAgICAgICAgICAgICAgKDMgPDwgMjQpCisjZGVmaW5lIElNVFRCQ1JfSVJHTjFfTUFTSyAg
ICAgICAgICAgICAoMyA8PCAyNCkKKyNkZWZpbmUgSU1UVEJDUl9UU1oxX01BU0sgICAgICAgICAg
ICAgICgxZiA8PCAxNikKKyNkZWZpbmUgSU1UVEJDUl9UU1oxX1NISUZUICAgICAgICAgICAgIDE2
CisjZGVmaW5lIElNVFRCQ1JfU0gwX05PTl9TSEFSRUFCTEUgICAgICAoMCA8PCAxMikKKyNkZWZp
bmUgSU1UVEJDUl9TSDBfT1VURVJfU0hBUkVBQkxFICAgICgyIDw8IDEyKQorI2RlZmluZSBJTVRU
QkNSX1NIMF9JTk5FUl9TSEFSRUFCTEUgICAgKDMgPDwgMTIpCisjZGVmaW5lIElNVFRCQ1JfU0gw
X01BU0sgICAgICAgICAgICAgICAoMyA8PCAxMikKKyNkZWZpbmUgSU1UVEJDUl9PUkdOMF9OQyAg
ICAgICAgICAgICAgICgwIDw8IDEwKQorI2RlZmluZSBJTVRUQkNSX09SR04wX1dCX1dBICAgICAg
ICAgICAgKDEgPDwgMTApCisjZGVmaW5lIElNVFRCQ1JfT1JHTjBfV1QgICAgICAgICAgICAgICAo
MiA8PCAxMCkKKyNkZWZpbmUgSU1UVEJDUl9PUkdOMF9XQiAgICAgICAgICAgICAgICgzIDw8IDEw
KQorI2RlZmluZSBJTVRUQkNSX09SR04wX01BU0sgICAgICAgICAgICAgKDMgPDwgMTApCisjZGVm
aW5lIElNVFRCQ1JfSVJHTjBfTkMgICAgICAgICAgICAgICAoMCA8PCA4KQorI2RlZmluZSBJTVRU
QkNSX0lSR04wX1dCX1dBICAgICAgICAgICAgKDEgPDwgOCkKKyNkZWZpbmUgSU1UVEJDUl9JUkdO
MF9XVCAgICAgICAgICAgICAgICgyIDw8IDgpCisjZGVmaW5lIElNVFRCQ1JfSVJHTjBfV0IgICAg
ICAgICAgICAgICAoMyA8PCA4KQorI2RlZmluZSBJTVRUQkNSX0lSR04wX01BU0sgICAgICAgICAg
ICAgKDMgPDwgOCkKKyNkZWZpbmUgSU1UVEJDUl9TTDBfTFZMXzIgICAgICAgICAgICAgICgwIDw8
IDYpCisjZGVmaW5lIElNVFRCQ1JfU0wwX0xWTF8xICAgICAgICAgICAgICAoMSA8PCA2KQorI2Rl
ZmluZSBJTVRUQkNSX1RTWjBfTUFTSyAgICAgICAgICAgICAgKDB4MWYgPDwgMCkKKyNkZWZpbmUg
SU1UVEJDUl9UU1owX1NISUZUICAgICAgICAgICAgIDAKKworI2RlZmluZSBJTVRUTEJSMCAgICAg
ICAgICAgICAgMHgwMDEwCisjZGVmaW5lIElNVFRMQlIwX1RUQlJfTUFTSyAgICAoMHhmZmZmZiA8
PCAxMikKKyNkZWZpbmUgSU1UVFVCUjAgICAgICAgICAgICAgIDB4MDAxNAorI2RlZmluZSBJTVRU
VUJSMF9UVEJSX01BU0sgICAgKDB4ZmYgPDwgMCkKKyNkZWZpbmUgSU1UVExCUjEgICAgICAgICAg
ICAgIDB4MDAxOAorI2RlZmluZSBJTVRUTEJSMV9UVEJSX01BU0sgICAgKDB4ZmZmZmYgPDwgMTIp
CisjZGVmaW5lIElNVFRVQlIxICAgICAgICAgICAgICAweDAwMWMKKyNkZWZpbmUgSU1UVFVCUjFf
VFRCUl9NQVNLICAgICgweGZmIDw8IDApCisKKyNkZWZpbmUgSU1TVFIgICAgICAgICAgICAgICAg
ICAgICAgICAgIDB4MDAyMAorI2RlZmluZSBJTVNUUl9FUlJMVkxfTUFTSyAgICAgICAgICAgICAg
KDMgPDwgMTIpCisjZGVmaW5lIElNU1RSX0VSUkxWTF9TSElGVCAgICAgICAgICAgICAxMgorI2Rl
ZmluZSBJTVNUUl9FUlJDT0RFX1RMQl9GT1JNQVQgICAgICAgKDEgPDwgOCkKKyNkZWZpbmUgSU1T
VFJfRVJSQ09ERV9BQ0NFU1NfUEVSTSAgICAgICg0IDw8IDgpCisjZGVmaW5lIElNU1RSX0VSUkNP
REVfU0VDVVJFX0FDQ0VTUyAgICAoNSA8PCA4KQorI2RlZmluZSBJTVNUUl9FUlJDT0RFX01BU0sg
ICAgICAgICAgICAgKDcgPDwgOCkKKyNkZWZpbmUgSU1TVFJfTUhJVCAgICAgICAgICAgICAgICAg
ICAgICgxIDw8IDQpCisjZGVmaW5lIElNU1RSX0FCT1JUICAgICAgICAgICAgICAgICAgICAoMSA8
PCAyKQorI2RlZmluZSBJTVNUUl9QRiAgICAgICAgICAgICAgICAgICAgICAgKDEgPDwgMSkKKyNk
ZWZpbmUgSU1TVFJfVEYgICAgICAgICAgICAgICAgICAgICAgICgxIDw8IDApCisKKyNkZWZpbmUg
SU1FTEFSICAgIDB4MDAzMAorI2RlZmluZSBJTUVVQVIgICAgMHgwMDM0CisKKyNkZWZpbmUgSU1V
Q1RSKG4pICAgICAgICAgICAgICAoKG4pIDwgMzIgPyBJTVVDVFIwKG4pIDogSU1VQ1RSMzIobikp
CisjZGVmaW5lIElNVUNUUjAobikgICAgICAgICAgICAgKDB4MDMwMCArICgobikgKiAxNikpCisj
ZGVmaW5lIElNVUNUUjMyKG4pICAgICAgICAgICAgKDB4MDYwMCArICgoKG4pIC0gMzIpICogMTYp
KQorI2RlZmluZSBJTVVDVFJfRklYQURERU4gICAgICAgICgxIDw8IDMxKQorI2RlZmluZSBJTVVD
VFJfRklYQUREX01BU0sgICAgICgweGZmIDw8IDE2KQorI2RlZmluZSBJTVVDVFJfRklYQUREX1NI
SUZUICAgIDE2CisjZGVmaW5lIElNVUNUUl9UVFNFTF9NTVUobikgICAgKChuKSA8PCA0KQorI2Rl
ZmluZSBJTVVDVFJfVFRTRUxfUE1CICAgICAgICg4IDw8IDQpCisjZGVmaW5lIElNVUNUUl9UVFNF
TF9NQVNLICAgICAgKDE1IDw8IDQpCisjZGVmaW5lIElNVUNUUl9GTFVTSCAgICAgICAgICAgKDEg
PDwgMSkKKyNkZWZpbmUgSU1VQ1RSX01NVUVOICAgICAgICAgICAoMSA8PCAwKQorCisjZGVmaW5l
IElNVUFTSUQobikgICAgICAgICAgICAgKChuKSA8IDMyID8gSU1VQVNJRDAobikgOiBJTVVBU0lE
MzIobikpCisjZGVmaW5lIElNVUFTSUQwKG4pICAgICAgICAgICAgKDB4MDMwOCArICgobikgKiAx
NikpCisjZGVmaW5lIElNVUFTSUQzMihuKSAgICAgICAgICAgKDB4MDYwOCArICgoKG4pIC0gMzIp
ICogMTYpKQorI2RlZmluZSBJTVVBU0lEX0FTSUQ4X01BU0sgICAgICgweGZmIDw8IDgpCisjZGVm
aW5lIElNVUFTSURfQVNJRDhfU0hJRlQgICAgOAorI2RlZmluZSBJTVVBU0lEX0FTSUQwX01BU0sg
ICAgICgweGZmIDw8IDApCisjZGVmaW5lIElNVUFTSURfQVNJRDBfU0hJRlQgICAgMAorCisjZGVm
aW5lIElNU0FVWENUTFIgICAgICAgICAgMHgwNTA0CisjZGVmaW5lIElNU0FVWENUTFJfUzJQVEUg
ICAgKDEgPDwgMykKKworLyogUm9vdCBkZXZpY2UgaGFuZGxpbmcgKi8KK3N0YXRpYyBib29sIGlw
bW11X2lzX3Jvb3Qoc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICptbXUpCit7CisgICAgcmV0dXJu
IG1tdS0+cm9vdCA9PSBtbXU7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2Ug
KmlwbW11X2ZpbmRfcm9vdCh2b2lkKQoreworICAgIHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAq
bW11ID0gTlVMTDsKKyAgICBib29sIGZvdW5kID0gZmFsc2U7CisKKyAgICBzcGluX2xvY2soJmlw
bW11X2RldmljZXNfbG9jayk7CisKKyAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KCBtbXUsICZpcG1t
dV9kZXZpY2VzLCBsaXN0ICkKKyAgICB7CisgICAgICAgIGlmICggaXBtbXVfaXNfcm9vdChtbXUp
ICkKKyAgICAgICAgeworICAgICAgICAgICAgZm91bmQgPSB0cnVlOworICAgICAgICAgICAgYnJl
YWs7CisgICAgICAgIH0KKyAgICB9CisKKyAgICBzcGluX3VubG9jaygmaXBtbXVfZGV2aWNlc19s
b2NrKTsKKworICAgIHJldHVybiBmb3VuZCA/IG1tdSA6IE5VTEw7Cit9CisKKy8qIFJlYWQvV3Jp
dGUgQWNjZXNzICovCitzdGF0aWMgdTMyIGlwbW11X3JlYWQoc3RydWN0IGlwbW11X3Ztc2FfZGV2
aWNlICptbXUsIHVuc2lnbmVkIGludCBvZmZzZXQpCit7CisgICAgcmV0dXJuIHJlYWRsKG1tdS0+
YmFzZSArIG9mZnNldCk7Cit9CisKK3N0YXRpYyB2b2lkIGlwbW11X3dyaXRlKHN0cnVjdCBpcG1t
dV92bXNhX2RldmljZSAqbW11LCB1bnNpZ25lZCBpbnQgb2Zmc2V0LAorICAgICAgICAgICAgICAg
ICAgICAgICAgdTMyIGRhdGEpCit7CisgICAgd3JpdGVsKGRhdGEsIG1tdS0+YmFzZSArIG9mZnNl
dCk7Cit9CisKK3N0YXRpYyB1MzIgaXBtbXVfY3R4X3JlYWRfcm9vdChzdHJ1Y3QgaXBtbXVfdm1z
YV9kb21haW4gKmRvbWFpbiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25l
ZCBpbnQgcmVnKQoreworICAgIHJldHVybiBpcG1tdV9yZWFkKGRvbWFpbi0+bW11LT5yb290LAor
ICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+Y29udGV4dF9pZCAqIElNX0NUWF9TSVpFICsg
cmVnKTsKK30KKworc3RhdGljIHZvaWQgaXBtbXVfY3R4X3dyaXRlX3Jvb3Qoc3RydWN0IGlwbW11
X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBpbnQgcmVnLCB1MzIgZGF0YSkKK3sKKyAgICBpcG1tdV93cml0ZShkb21haW4tPm1t
dS0+cm9vdCwKKyAgICAgICAgICAgICAgICBkb21haW4tPmNvbnRleHRfaWQgKiBJTV9DVFhfU0la
RSArIHJlZywgZGF0YSk7Cit9CisKK3N0YXRpYyB2b2lkIGlwbW11X2N0eF93cml0ZV9jYWNoZShz
dHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbiwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICB1bnNpZ25lZCBpbnQgcmVnLCB1MzIgZGF0YSkKK3sKKyAgICBBU1NFUlQocmVn
ID09IElNQ1RSKTsKKworICAgIC8qIE1hc2sgZmllbGRzIHdoaWNoIGFyZSBpbXBsZW1lbnRlZCBp
biBJUE1NVS1NTSBvbmx5LiAqLworICAgIGlmICggIWlwbW11X2lzX3Jvb3QoZG9tYWluLT5tbXUp
ICkKKyAgICAgICAgaXBtbXVfd3JpdGUoZG9tYWluLT5tbXUsIGRvbWFpbi0+Y29udGV4dF9pZCAq
IElNX0NUWF9TSVpFICsgcmVnLAorICAgICAgICAgICAgICAgICAgICBkYXRhICYgSU1DVFJfQ09N
TU9OX01BU0spOworfQorCisvKgorICogV3JpdGUgdGhlIGNvbnRleHQgdG8gYm90aCBSb290IElQ
TU1VIGFuZCBhbGwgQ2FjaGUgSVBNTVVzIGFzc2lnbmVkCisgKiB0byB0aGlzIFhlbiBkb21haW4u
CisgKi8KK3N0YXRpYyB2b2lkIGlwbW11X2N0eF93cml0ZV9hbGwoc3RydWN0IGlwbW11X3Ztc2Ff
ZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVk
IGludCByZWcsIHUzMiBkYXRhKQoreworICAgIHN0cnVjdCBpcG1tdV92bXNhX3hlbl9kb21haW4g
Knhlbl9kb21haW4gPSBkb21faW9tbXUoZG9tYWluLT5kKS0+YXJjaC5wcml2OworICAgIHN0cnVj
dCBpcG1tdV92bXNhX2RvbWFpbiAqY2FjaGVfZG9tYWluOworCisgICAgbGlzdF9mb3JfZWFjaF9l
bnRyeSggY2FjaGVfZG9tYWluLCAmeGVuX2RvbWFpbi0+Y2FjaGVfZG9tYWlucywgbGlzdCApCisg
ICAgICAgIGlwbW11X2N0eF93cml0ZV9jYWNoZShjYWNoZV9kb21haW4sIHJlZywgZGF0YSk7CisK
KyAgICBpcG1tdV9jdHhfd3JpdGVfcm9vdChkb21haW4sIHJlZywgZGF0YSk7Cit9CisKKy8qIFRM
QiBhbmQgbWljcm8tVExCIE1hbmFnZW1lbnQgKi8KKworLyogV2FpdCBmb3IgYW55IHBlbmRpbmcg
VExCIGludmFsaWRhdGlvbnMgdG8gY29tcGxldGUuICovCitzdGF0aWMgdm9pZCBpcG1tdV90bGJf
c3luYyhzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbikKK3sKKyAgICB1bnNpZ25lZCBp
bnQgY291bnQgPSAwOworCisgICAgd2hpbGUgKCBpcG1tdV9jdHhfcmVhZF9yb290KGRvbWFpbiwg
SU1DVFIpICYgSU1DVFJfRkxVU0ggKQorICAgIHsKKyAgICAgICAgY3B1X3JlbGF4KCk7CisgICAg
ICAgIGlmICggKytjb3VudCA9PSBUTEJfTE9PUF9USU1FT1VUICkKKyAgICAgICAgeworICAgICAg
ICAgICAgZGV2X2Vycl9yYXRlbGltaXRlZChkb21haW4tPm1tdS0+ZGV2LCAiVExCIHN5bmMgdGlt
ZWQgb3V0IC0tIE1NVSBtYXkgYmUgZGVhZGxvY2tlZFxuIik7CisgICAgICAgICAgICByZXR1cm47
CisgICAgICAgIH0KKyAgICAgICAgdWRlbGF5KDEpOworICAgIH0KK30KKworc3RhdGljIHZvaWQg
aXBtbXVfdGxiX2ludmFsaWRhdGUoc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4pCit7
CisgICAgdTMyIHJlZzsKKworICAgIHJlZyA9IGlwbW11X2N0eF9yZWFkX3Jvb3QoZG9tYWluLCBJ
TUNUUik7CisgICAgcmVnIHw9IElNQ1RSX0ZMVVNIOworICAgIGlwbW11X2N0eF93cml0ZV9hbGwo
ZG9tYWluLCBJTUNUUiwgcmVnKTsKKworICAgIGlwbW11X3RsYl9zeW5jKGRvbWFpbik7Cit9CisK
Ky8qIEVuYWJsZSBNTVUgdHJhbnNsYXRpb24gZm9yIHRoZSBtaWNyby1UTEIuICovCitzdGF0aWMg
dm9pZCBpcG1tdV91dGxiX2VuYWJsZShzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbiwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCB1dGxiKQoreworICAg
IHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11ID0gZG9tYWluLT5tbXU7CisKKyAgICAvKgor
ICAgICAqIFRPRE86IFJlZmVyZW5jZS1jb3VudCB0aGUgbWljcm8tVExCIGFzIHNldmVyYWwgYnVz
IG1hc3RlcnMgY2FuIGJlCisgICAgICogY29ubmVjdGVkIHRvIHRoZSBzYW1lIG1pY3JvLVRMQi4K
KyAgICAgKi8KKyAgICBpcG1tdV93cml0ZShtbXUsIElNVUFTSUQodXRsYiksIDApOworICAgIGlw
bW11X3dyaXRlKG1tdSwgSU1VQ1RSKHV0bGIpLCBpcG1tdV9yZWFkKG1tdSwgSU1VQ1RSKHV0bGIp
KSB8CisgICAgICAgICAgICAgICAgSU1VQ1RSX1RUU0VMX01NVShkb21haW4tPmNvbnRleHRfaWQp
IHwgSU1VQ1RSX01NVUVOKTsKK30KKworLyogRGlzYWJsZSBNTVUgdHJhbnNsYXRpb24gZm9yIHRo
ZSBtaWNyby1UTEIuICovCitzdGF0aWMgdm9pZCBpcG1tdV91dGxiX2Rpc2FibGUoc3RydWN0IGlw
bW11X3Ztc2FfZG9tYWluICpkb21haW4sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dW5zaWduZWQgaW50IHV0bGIpCit7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICptbXUg
PSBkb21haW4tPm1tdTsKKworICAgIGlwbW11X3dyaXRlKG1tdSwgSU1VQ1RSKHV0bGIpLCAwKTsK
K30KKworLyogRG9tYWluL0NvbnRleHQgTWFuYWdlbWVudCAqLworc3RhdGljIGludCBpcG1tdV9k
b21haW5fYWxsb2NhdGVfY29udGV4dChzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGlwbW11X3Ztc2Ff
ZG9tYWluICpkb21haW4pCit7CisgICAgdW5zaWduZWQgbG9uZyBmbGFnczsKKyAgICBpbnQgcmV0
OworCisgICAgc3Bpbl9sb2NrX2lycXNhdmUoJm1tdS0+bG9jaywgZmxhZ3MpOworCisgICAgcmV0
ID0gZmluZF9maXJzdF96ZXJvX2JpdChtbXUtPmN0eCwgbW11LT5udW1fY3R4KTsKKyAgICBpZiAo
IHJldCAhPSBtbXUtPm51bV9jdHggKQorICAgIHsKKyAgICAgICAgbW11LT5kb21haW5zW3JldF0g
PSBkb21haW47CisgICAgICAgIHNldF9iaXQocmV0LCBtbXUtPmN0eCk7CisgICAgfQorICAgIGVs
c2UKKyAgICAgICAgcmV0ID0gLUVCVVNZOworCisgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgm
bW11LT5sb2NrLCBmbGFncyk7CisKKyAgICByZXR1cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBp
cG1tdV9kb21haW5fZnJlZV9jb250ZXh0KHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11LAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgY29udGV4
dF9pZCkKK3sKKyAgICB1bnNpZ25lZCBsb25nIGZsYWdzOworCisgICAgc3Bpbl9sb2NrX2lycXNh
dmUoJm1tdS0+bG9jaywgZmxhZ3MpOworCisgICAgY2xlYXJfYml0KGNvbnRleHRfaWQsIG1tdS0+
Y3R4KTsKKyAgICBtbXUtPmRvbWFpbnNbY29udGV4dF9pZF0gPSBOVUxMOworCisgICAgc3Bpbl91
bmxvY2tfaXJxcmVzdG9yZSgmbW11LT5sb2NrLCBmbGFncyk7Cit9CisKK3N0YXRpYyBpbnQgaXBt
bXVfZG9tYWluX2luaXRfY29udGV4dChzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbikK
K3sKKyAgICB1NjQgdHRicjsKKyAgICB1MzIgdHN6MDsKKyAgICBpbnQgcmV0OworCisgICAgLyog
RmluZCBhbiB1bnVzZWQgY29udGV4dC4gKi8KKyAgICByZXQgPSBpcG1tdV9kb21haW5fYWxsb2Nh
dGVfY29udGV4dChkb21haW4tPm1tdS0+cm9vdCwgZG9tYWluKTsKKyAgICBpZiAoIHJldCA8IDAg
KQorICAgICAgICByZXR1cm4gcmV0OworCisgICAgZG9tYWluLT5jb250ZXh0X2lkID0gcmV0Owor
CisgICAgLyoKKyAgICAgKiBUVEJSMAorICAgICAqIFVzZSBQMk0gdGFibGUgZm9yIHRoaXMgWGVu
IGRvbWFpbi4KKyAgICAgKi8KKyAgICBBU1NFUlQoZG9tYWluLT5kICE9IE5VTEwpOworICAgIHR0
YnIgPSBwYWdlX3RvX21hZGRyKGRvbWFpbi0+ZC0+YXJjaC5wMm0ucm9vdCk7CisKKyAgICBkZXZf
aW5mbyhkb21haW4tPm1tdS0+cm9vdC0+ZGV2LCAiZCVkOiBTZXQgSVBNTVUgY29udGV4dCAldSAo
cGdkIDB4JSJQUkl4NjQiKVxuIiwKKyAgICAgICAgICAgICBkb21haW4tPmQtPmRvbWFpbl9pZCwg
ZG9tYWluLT5jb250ZXh0X2lkLCB0dGJyKTsKKworICAgIGlwbW11X2N0eF93cml0ZV9yb290KGRv
bWFpbiwgSU1UVExCUjAsIHR0YnIgJiBJTVRUTEJSMF9UVEJSX01BU0spOworICAgIGlwbW11X2N0
eF93cml0ZV9yb290KGRvbWFpbiwgSU1UVFVCUjAsICh0dGJyID4+IDMyKSAmIElNVFRVQlIwX1RU
QlJfTUFTSyk7CisKKyAgICAvKgorICAgICAqIFRUQkNSCisgICAgICogV2UgdXNlIGxvbmcgZGVz
Y3JpcHRvcnMgd2l0aCBpbm5lci1zaGFyZWFibGUgV0JXQSB0YWJsZXMgYW5kIGFsbG9jYXRlCisg
ICAgICogdGhlIHdob2xlICJwMm1faXBhX2JpdHMiIElQQSBzcGFjZSB0byBUVEJSMC4gVXNlIDRL
QiBwYWdlIGdyYW51bGUuCisgICAgICogU3RhcnQgcGFnZSB0YWJsZSB3YWxrcyBhdCBmaXJzdCBs
ZXZlbC4gQnlwYXNzIHN0YWdlIDEgdHJhbnNsYXRpb24KKyAgICAgKiB3aGVuIG9ubHkgc3RhZ2Ug
MiB0cmFuc2xhdGlvbiBpcyBwZXJmb3JtZWQuCisgICAgICovCisgICAgdHN6MCA9ICg2NCAtIHAy
bV9pcGFfYml0cykgPDwgSU1UVEJDUl9UU1owX1NISUZUOworICAgIGlwbW11X2N0eF93cml0ZV9y
b290KGRvbWFpbiwgSU1UVEJDUiwgSU1UVEJDUl9FQUUgfCBJTVRUQkNSX1BNQiB8CisgICAgICAg
ICAgICAgICAgICAgICAgICAgSU1UVEJDUl9TSDBfSU5ORVJfU0hBUkVBQkxFIHwgSU1UVEJDUl9P
UkdOMF9XQl9XQSB8CisgICAgICAgICAgICAgICAgICAgICAgICAgSU1UVEJDUl9JUkdOMF9XQl9X
QSB8IElNVFRCQ1JfU0wwX0xWTF8xIHwgdHN6MCk7CisKKyAgICAvKgorICAgICAqIElNU1RSCisg
ICAgICogQ2xlYXIgYWxsIGludGVycnVwdCBmbGFncy4KKyAgICAgKi8KKyAgICBpcG1tdV9jdHhf
d3JpdGVfcm9vdChkb21haW4sIElNU1RSLCBpcG1tdV9jdHhfcmVhZF9yb290KGRvbWFpbiwgSU1T
VFIpKTsKKworICAgIC8qCisgICAgICogSU1DVFIKKyAgICAgKiBFbmFibGUgdGhlIE1NVSBhbmQg
aW50ZXJydXB0IGdlbmVyYXRpb24uIFRoZSBsb25nLWRlc2NyaXB0b3IKKyAgICAgKiB0cmFuc2xh
dGlvbiB0YWJsZSBmb3JtYXQgZG9lc24ndCB1c2UgVEVYIHJlbWFwcGluZy4gRG9uJ3QgZW5hYmxl
IEFGCisgICAgICogc29mdHdhcmUgbWFuYWdlbWVudCBhcyB3ZSBoYXZlIG5vIHVzZSBmb3IgaXQu
IFVzZSBWTVNBdjgtNjQgbW9kZS4KKyAgICAgKiBFbmFibGUgdGhlIGNvbnRleHQgZm9yIFJvb3Qg
SVBNTVUgb25seS4gRmx1c2ggdGhlIFRMQiBhcyByZXF1aXJlZAorICAgICAqIHdoZW4gbW9kaWZ5
aW5nIHRoZSBjb250ZXh0IHJlZ2lzdGVycy4KKyAgICAgKi8KKyAgICBpcG1tdV9jdHhfd3JpdGVf
cm9vdChkb21haW4sIElNQ1RSLAorICAgICAgICAgICAgICAgICAgICAgICAgIElNQ1RSX1ZBNjQg
fCBJTUNUUl9JTlRFTiB8IElNQ1RSX0ZMVVNIIHwgSU1DVFJfTU1VRU4pOworCisgICAgcmV0dXJu
IDA7Cit9CisKK3N0YXRpYyB2b2lkIGlwbW11X2RvbWFpbl9kZXN0cm95X2NvbnRleHQoc3RydWN0
IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW4pCit7CisgICAgaWYgKCAhZG9tYWluLT5tbXUgKQor
ICAgICAgICByZXR1cm47CisKKyAgICAvKgorICAgICAqIERpc2FibGUgdGhlIGNvbnRleHQgZm9y
IFJvb3QgSVBNTVUgb25seS4gRmx1c2ggdGhlIFRMQiBhcyByZXF1aXJlZAorICAgICAqIHdoZW4g
bW9kaWZ5aW5nIHRoZSBjb250ZXh0IHJlZ2lzdGVycy4KKyAgICAgKi8KKyAgICBpcG1tdV9jdHhf
d3JpdGVfcm9vdChkb21haW4sIElNQ1RSLCBJTUNUUl9GTFVTSCk7CisgICAgaXBtbXVfdGxiX3N5
bmMoZG9tYWluKTsKKworICAgIGlwbW11X2RvbWFpbl9mcmVlX2NvbnRleHQoZG9tYWluLT5tbXUt
PnJvb3QsIGRvbWFpbi0+Y29udGV4dF9pZCk7Cit9CisKKy8qIEZhdWx0IEhhbmRsaW5nICovCitz
dGF0aWMgdm9pZCBpcG1tdV9kb21haW5faXJxKHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqZG9t
YWluKQoreworICAgIGNvbnN0IHUzMiBlcnJfbWFzayA9IElNU1RSX01ISVQgfCBJTVNUUl9BQk9S
VCB8IElNU1RSX1BGIHwgSU1TVFJfVEY7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICpt
bXUgPSBkb21haW4tPm1tdTsKKyAgICB1MzIgc3RhdHVzOworICAgIHU2NCBpb3ZhOworCisgICAg
c3RhdHVzID0gaXBtbXVfY3R4X3JlYWRfcm9vdChkb21haW4sIElNU1RSKTsKKyAgICBpZiAoICEo
c3RhdHVzICYgZXJyX21hc2spICkKKyAgICAgICAgcmV0dXJuOworCisgICAgaW92YSA9IGlwbW11
X2N0eF9yZWFkX3Jvb3QoZG9tYWluLCBJTUVMQVIpIHwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAoKHU2NClpcG1tdV9jdHhfcmVhZF9yb290KGRvbWFpbiwgSU1FVUFSKSA8PCAzMik7
CisKKyAgICAvKgorICAgICAqIENsZWFyIHRoZSBlcnJvciBzdGF0dXMgZmxhZ3MuIFVubGlrZSB0
cmFkaXRpb25hbCBpbnRlcnJ1cHQgZmxhZworICAgICAqIHJlZ2lzdGVycyB0aGF0IG11c3QgYmUg
Y2xlYXJlZCBieSB3cml0aW5nIDEsIHRoaXMgc3RhdHVzIHJlZ2lzdGVyCisgICAgICogc2VlbXMg
dG8gcmVxdWlyZSAwLiBUaGUgZXJyb3IgYWRkcmVzcyByZWdpc3RlciBtdXN0IGJlIHJlYWQgYmVm
b3JlLAorICAgICAqIG90aGVyd2lzZSBpdHMgdmFsdWUgd2lsbCBiZSAwLgorICAgICAqLworICAg
IGlwbW11X2N0eF93cml0ZV9yb290KGRvbWFpbiwgSU1TVFIsIDApOworCisgICAgLyogTG9nIGZh
dGFsIGVycm9ycy4gKi8KKyAgICBpZiAoIHN0YXR1cyAmIElNU1RSX01ISVQgKQorICAgICAgICBk
ZXZfZXJyX3JhdGVsaW1pdGVkKG1tdS0+ZGV2LCAiZCVkOiBNdWx0aXBsZSBUTEIgaGl0cyBAMHgl
IlBSSXg2NCJcbiIsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tYWluLT5kLT5kb21h
aW5faWQsIGlvdmEpOworICAgIGlmICggc3RhdHVzICYgSU1TVFJfQUJPUlQgKQorICAgICAgICBk
ZXZfZXJyX3JhdGVsaW1pdGVkKG1tdS0+ZGV2LCAiZCVkOiBQYWdlIFRhYmxlIFdhbGsgQWJvcnQg
QDB4JSJQUkl4NjQiXG4iLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+ZC0+
ZG9tYWluX2lkLCBpb3ZhKTsKKworICAgIC8qIFJldHVybiBpZiBpdCBpcyBuZWl0aGVyIFBlcm1p
c3Npb24gRmF1bHQgbm9yIFRyYW5zbGF0aW9uIEZhdWx0LiAqLworICAgIGlmICggIShzdGF0dXMg
JiAoSU1TVFJfUEYgfCBJTVNUUl9URikpICkKKyAgICAgICAgcmV0dXJuOworCisgICAgLyogRmx1
c2ggdGhlIFRMQiBhcyByZXF1aXJlZCB3aGVuIElQTU1VIHRyYW5zbGF0aW9uIGVycm9yIG9jY3Vy
cmVkLiAqLworICAgIGlwbW11X3RsYl9pbnZhbGlkYXRlKGRvbWFpbik7CisKKyAgICBkZXZfZXJy
X3JhdGVsaW1pdGVkKG1tdS0+ZGV2LCAiZCVkOiBVbmhhbmRsZWQgZmF1bHQ6IHN0YXR1cyAweCUw
OHggaW92YSAweCUiUFJJeDY0IlxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbi0+
ZC0+ZG9tYWluX2lkLCBzdGF0dXMsIGlvdmEpOworfQorCitzdGF0aWMgdm9pZCBpcG1tdV9pcnEo
aW50IGlycSwgdm9pZCAqZGV2LCBzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncykKK3sKKyAgICBz
dHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IGRldjsKKyAgICB1bnNpZ25lZCBpbnQgaTsK
KyAgICB1bnNpZ25lZCBsb25nIGZsYWdzOworCisgICAgc3Bpbl9sb2NrX2lycXNhdmUoJm1tdS0+
bG9jaywgZmxhZ3MpOworCisgICAgLyoKKyAgICAgKiBXaGVuIGludGVycnVwdCBhcnJpdmVzLCB3
ZSBkb24ndCBrbm93IHRoZSBjb250ZXh0IGl0IGlzIHJlbGF0ZWQgdG8uCisgICAgICogU28sIGNo
ZWNrIGludGVycnVwdHMgZm9yIGFsbCBhY3RpdmUgY29udGV4dHMgdG8gbG9jYXRlIGEgY29udGV4
dAorICAgICAqIHdpdGggc3RhdHVzIGJpdHMgc2V0LgorICAgICovCisgICAgZm9yICggaSA9IDA7
IGkgPCBtbXUtPm51bV9jdHg7IGkrKyApCisgICAgeworICAgICAgICBpZiAoICFtbXUtPmRvbWFp
bnNbaV0gKQorICAgICAgICAgICAgY29udGludWU7CisgICAgICAgIGlwbW11X2RvbWFpbl9pcnEo
bW11LT5kb21haW5zW2ldKTsKKyAgICB9CisKKyAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZt
bXUtPmxvY2ssIGZsYWdzKTsKK30KKworLyogTWFzdGVyIGRldmljZXMgbWFuYWdlbWVudCAqLwor
c3RhdGljIGludCBpcG1tdV9hdHRhY2hfZGV2aWNlKHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAq
ZG9tYWluLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRl
dikKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9tYXN0ZXJfY2ZnICpjZmcgPSBkZXZfYXJjaGRh
dGEoZGV2KS0+Y2ZnOworICAgIHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAqbW11ID0gY2ZnLT5t
bXU7CisgICAgdW5zaWduZWQgaW50IGk7CisKKyAgICBpZiAoICFtbXUgKQorICAgIHsKKyAgICAg
ICAgZGV2X2VycihkZXYsICJDYW5ub3QgYXR0YWNoIHRvIElQTU1VXG4iKTsKKyAgICAgICAgcmV0
dXJuIC1FTlhJTzsKKyAgICB9CisKKyAgICBpZiAoICFkb21haW4tPm1tdSApCisgICAgeworICAg
ICAgICAvKiBUaGUgZG9tYWluIGhhc24ndCBiZWVuIHVzZWQgeWV0LCBpbml0aWFsaXplIGl0LiAq
LworICAgICAgICBkb21haW4tPm1tdSA9IG1tdTsKKworICAgICAgICAvKgorICAgICAgICAgKiBX
ZSBoYXZlIGFscmVhZHkgZW5hYmxlZCBjb250ZXh0IGZvciBSb290IElQTU1VIGFzc2lnbmVkIHRv
IHRoaXMKKyAgICAgICAgICogWGVuIGRvbWFpbiBpbiBpcG1tdV9kb21haW5faW5pdF9jb250ZXh0
KCkuCisgICAgICAgICAqIEVuYWJsZSB0aGUgY29udGV4dCBmb3IgQ2FjaGUgSVBNTVUgb25seS4g
Rmx1c2ggdGhlIFRMQiBhcyByZXF1aXJlZAorICAgICAgICAgKiB3aGVuIG1vZGlmeWluZyB0aGUg
Y29udGV4dCByZWdpc3RlcnMuCisgICAgICAgICAqLworICAgICAgICBpcG1tdV9jdHhfd3JpdGVf
Y2FjaGUoZG9tYWluLCBJTUNUUiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlwbW11
X2N0eF9yZWFkX3Jvb3QoZG9tYWluLCBJTUNUUikgfCBJTUNUUl9GTFVTSCk7CisKKyAgICAgICAg
ZGV2X2luZm8oZGV2LCAiVXNpbmcgSVBNTVUgY29udGV4dCAldVxuIiwgZG9tYWluLT5jb250ZXh0
X2lkKTsKKyAgICB9CisgICAgZWxzZSBpZiAoIGRvbWFpbi0+bW11ICE9IG1tdSApCisgICAgewor
ICAgICAgICAvKgorICAgICAgICAgKiBTb21ldGhpbmcgaXMgd3JvbmcsIHdlIGNhbid0IGF0dGFj
aCB0d28gbWFzdGVyIGRldmljZXMgdXNpbmcKKyAgICAgICAgICogZGlmZmVyZW50IElPTU1VcyB0
byB0aGUgc2FtZSBJUE1NVSBkb21haW4uCisgICAgICAgICAqLworICAgICAgICBkZXZfZXJyKGRl
diwgIkNhbid0IGF0dGFjaCBJUE1NVSAlcyB0byBkb21haW4gb24gSVBNTVUgJXNcbiIsCisgICAg
ICAgICAgICAgICAgZGV2X25hbWUobW11LT5kZXYpLCBkZXZfbmFtZShkb21haW4tPm1tdS0+ZGV2
KSk7CisgICAgICAgIHJldHVybiAtRUlOVkFMOworICAgIH0KKyAgICBlbHNlCisgICAgICAgIGRl
dl9pbmZvKGRldiwgIlJldXNpbmcgSVBNTVUgY29udGV4dCAldVxuIiwgZG9tYWluLT5jb250ZXh0
X2lkKTsKKworICAgIGZvciAoIGkgPSAwOyBpIDwgY2ZnLT5udW1fdXRsYnM7ICsraSApCisgICAg
ICAgIGlwbW11X3V0bGJfZW5hYmxlKGRvbWFpbiwgY2ZnLT51dGxic1tpXSk7CisKKyAgICByZXR1
cm4gMDsKK30KKworc3RhdGljIHZvaWQgaXBtbXVfZGV0YWNoX2RldmljZShzdHJ1Y3QgaXBtbXVf
dm1zYV9kb21haW4gKmRvbWFpbiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ry
dWN0IGRldmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpcG1tdV92bXNhX21hc3Rlcl9jZmcgKmNm
ZyA9IGRldl9hcmNoZGF0YShkZXYpLT5jZmc7CisgICAgdW5zaWduZWQgaW50IGk7CisKKyAgICBm
b3IgKCBpID0gMDsgaSA8IGNmZy0+bnVtX3V0bGJzOyArK2kgKQorICAgICAgICBpcG1tdV91dGxi
X2Rpc2FibGUoZG9tYWluLCBjZmctPnV0bGJzW2ldKTsKK30KKworc3RhdGljIGludCBpcG1tdV9n
ZXRfdXRsYnMoc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICptbXUsIHN0cnVjdCBkZXZpY2UgKmRl
diwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCAqdXRsYnMsIHVuc2ln
bmVkIGludCBudW1fdXRsYnMpCit7CisgICAgdW5zaWduZWQgaW50IGk7CisKKyAgICBmb3IgKCBp
ID0gMDsgaSA8IG51bV91dGxiczsgKytpICkKKyAgICB7CisgICAgICAgIHN0cnVjdCBkdF9waGFu
ZGxlX2FyZ3MgYXJnczsKKyAgICAgICAgaW50IHJldDsKKworICAgICAgICByZXQgPSBkdF9wYXJz
ZV9waGFuZGxlX3dpdGhfYXJncyhkZXYtPm9mX25vZGUsICJpb21tdXMiLAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiI2lvbW11LWNlbGxzIiwgaSwgJmFyZ3MpOwor
ICAgICAgICBpZiAoIHJldCA8IDAgKQorICAgICAgICAgICAgcmV0dXJuIHJldDsKKworICAgICAg
ICBpZiAoIGFyZ3MubnAgIT0gbW11LT5kZXYtPm9mX25vZGUgfHwgYXJncy5hcmdzX2NvdW50ICE9
IDEgKQorICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisKKyAgICAgICAgdXRsYnNbaV0gPSBh
cmdzLmFyZ3NbMF07CisgICAgfQorCisgICAgcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgaXBt
bXVfaW5pdF9tYXN0ZXIoc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpcG1tdV92
bXNhX21hc3Rlcl9jZmcgKmNmZzsKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdTsK
KyAgICB1bnNpZ25lZCBpbnQgKnV0bGJzLCBpOworICAgIGludCBudW1fdXRsYnMsIHJldCA9IC1F
Tk9ERVY7CisKKyAgICAvKiBHZXQgdGhlIG51bWJlciBvZiBtaWNyby1UTEJzIHRoaXMgbWFzdGVy
IGRldmljZSBpcyBjb25uZWN0ZWQgdGhyb3VnaC4gKi8KKyAgICBudW1fdXRsYnMgPSBkdF9jb3Vu
dF9waGFuZGxlX3dpdGhfYXJncyhkZXYtPm9mX25vZGUsICJpb21tdXMiLAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIjaW9tbXUtY2VsbHMiKTsKKyAgICBpZiAo
IG51bV91dGxicyA8PSAwICkKKyAgICAgICAgcmV0dXJuIC1FTk9ERVY7CisKKyAgICBpZiAoIG51
bV91dGxicyA+IElQTU1VX1VUTEJfTUFYICkKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisKKyAg
ICB1dGxicyA9IHh6YWxsb2NfYXJyYXkodW5zaWduZWQgaW50LCBudW1fdXRsYnMpOworICAgIGlm
ICggIXV0bGJzICkKKyAgICAgICAgcmV0dXJuIC1FTk9NRU07CisKKyAgICBzcGluX2xvY2soJmlw
bW11X2RldmljZXNfbG9jayk7CisKKyAgICAvKgorICAgICAqIExvb3AgdGhyb3VnaCBhbGwgQ2Fj
aGUgSVBNTVVzIHRvIGZpbmQgYW4gSVBNTVUgZGV2aWNlIHRoaXMgbWFzdGVyCisgICAgICogZGV2
aWNlIGlzIGNvbm5lY3RlZCB0byBhbmQgZ2V0IHRoZSBtaWNyby1UTEIgYXNzaWdubWVudC4KKyAg
ICAgKiBNYWtlIHN1cmUgdGhpcyBtYXN0ZXIgZGV2aWNlIGRvZXNuJ3QgcmVmZXIgdG8gbXVsdGlw
bGUgZGlmZmVyZW50CisgICAgICogSU9NTVUgZGV2aWNlcy4gSXQgY2FuIGhhdmUgbXVsdGlwbGUg
bWFzdGVyIGludGVyZmFjZXMgKG1pY3JvLVRMQnMpLAorICAgICAqIGJ1dCB0byBvbmUgSVBNTVUg
ZGV2aWNlIG9ubHkuCisgICAgICovCisgICAgbGlzdF9mb3JfZWFjaF9lbnRyeSggbW11LCAmaXBt
bXVfZGV2aWNlcywgbGlzdCApCisgICAgeworICAgICAgICBpZiAoIGlwbW11X2lzX3Jvb3QobW11
KSApCisgICAgICAgICAgICBjb250aW51ZTsKKworICAgICAgICByZXQgPSBpcG1tdV9nZXRfdXRs
YnMobW11LCBkZXYsIHV0bGJzLCBudW1fdXRsYnMpOworICAgICAgICBpZiAoICFyZXQgKQorICAg
ICAgICAgICAgYnJlYWs7CisgICAgfQorCisgICAgc3Bpbl91bmxvY2soJmlwbW11X2RldmljZXNf
bG9jayk7CisKKyAgICBpZiAoIHJldCA8IDAgKQorICAgICAgICBnb3RvIGVycm9yOworCisgICAg
Zm9yICggaSA9IDA7IGkgPCBudW1fdXRsYnM7ICsraSApCisgICAgeworICAgICAgICBpZiAoIHV0
bGJzW2ldID49IG1tdS0+bnVtX3V0bGJzICkKKyAgICAgICAgeworICAgICAgICAgICAgcmV0ID0g
LUVJTlZBTDsKKyAgICAgICAgICAgIGdvdG8gZXJyb3I7CisgICAgICAgIH0KKyAgICB9CisKKyAg
ICBjZmcgPSB4emFsbG9jKHN0cnVjdCBpcG1tdV92bXNhX21hc3Rlcl9jZmcpOworICAgIGlmICgg
IWNmZyApCisgICAgeworICAgICAgICByZXQgPSAtRU5PTUVNOworICAgICAgICBnb3RvIGVycm9y
OworICAgIH0KKworICAgIC8qIEVzdGFibGlzaCB0aGUgbGluayBiZXR3ZWVuIElQTU1VIGRldmlj
ZSBhbmQgbWFzdGVyIGRldmljZSAqLworICAgIGNmZy0+bW11ID0gbW11OworICAgIGNmZy0+dXRs
YnMgPSB1dGxiczsKKyAgICBjZmctPm51bV91dGxicyA9IG51bV91dGxiczsKKyAgICBkZXZfYXJj
aGRhdGEoZGV2KS0+Y2ZnID0gY2ZnOworCisgICAgZGV2X2luZm8oZGV2LCAiSW5pdGlhbGl6ZWQg
bWFzdGVyIGRldmljZSAoSVBNTVUgJXMgbWljcm8tVExCcyAldSlcbiIsCisgICAgICAgICAgICAg
ZGV2X25hbWUobW11LT5kZXYpLCBudW1fdXRsYnMpOworCisgICAgcmV0dXJuIDA7CisKK2Vycm9y
OgorICAgIHhmcmVlKHV0bGJzKTsKKyAgICByZXR1cm4gcmV0OworfQorCitzdGF0aWMgdm9pZCBp
cG1tdV9wcm90ZWN0X21hc3RlcnMoc3RydWN0IGlwbW11X3Ztc2FfZGV2aWNlICptbXUpCit7Cisg
ICAgc3RydWN0IGR0X2RldmljZV9ub2RlICpub2RlOworCisgICAgZHRfZm9yX2VhY2hfZGV2aWNl
X25vZGUoIGR0X2hvc3QsIG5vZGUgKQorICAgIHsKKyAgICAgICAgaWYgKCBtbXUtPmRldi0+b2Zf
bm9kZSAhPSBkdF9wYXJzZV9waGFuZGxlKG5vZGUsICJpb21tdXMiLCAwKSApCisgICAgICAgICAg
ICBjb250aW51ZTsKKworICAgICAgICAvKiBMZXQgWGVuIGtub3cgdGhhdCB0aGUgbWFzdGVyIGRl
dmljZSBpcyBwcm90ZWN0ZWQgYnkgYW4gSU9NTVUuICovCisgICAgICAgIGR0X2RldmljZV9zZXRf
cHJvdGVjdGVkKG5vZGUpOworCisgICAgICAgIGRldl9pbmZvKG1tdS0+ZGV2LCAiRm91bmQgbWFz
dGVyIGRldmljZSAlc1xuIiwgZHRfbm9kZV9mdWxsX25hbWUobm9kZSkpOworICAgIH0KK30KKwor
c3RhdGljIHZvaWQgaXBtbXVfZGV2aWNlX3Jlc2V0KHN0cnVjdCBpcG1tdV92bXNhX2RldmljZSAq
bW11KQoreworICAgIHVuc2lnbmVkIGludCBpOworCisgICAgLyogRGlzYWJsZSBhbGwgY29udGV4
dHMuICovCisgICAgZm9yICggaSA9IDA7IGkgPCBtbXUtPm51bV9jdHg7ICsraSApCisgICAgICAg
IGlwbW11X3dyaXRlKG1tdSwgaSAqIElNX0NUWF9TSVpFICsgSU1DVFIsIDApOworfQorCisvKgor
ICogVGhpcyBmdW5jdGlvbiByZWxpZXMgb24gdGhlIGZhY3QgdGhhdCBSb290IElQTU1VIGRldmlj
ZSBpcyBiZWluZyBwcm9iZWQKKyAqIHRoZSBmaXJzdC4gSWYgbm90IHRoZSBjYXNlLCBpdCBkZW5p
ZXMgZnVydGhlciBDYWNoZSBJUE1NVSBkZXZpY2UgcHJvYmVzCisgKiAocmV0dXJucyB0aGUgLUVO
T0RFVikgdW50aWwgdGhlIFJvb3QgSVBNTVUgZGV2aWNlIGhhcyBiZWVuIHJlZ2lzdGVyZWQKKyAq
IGZvciBzdXJlLgorICovCitzdGF0aWMgaW50IGlwbW11X3Byb2JlKHN0cnVjdCBkdF9kZXZpY2Vf
bm9kZSAqbm9kZSkKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdTsKKyAgICB1
NjQgYWRkciwgc2l6ZTsKKyAgICBpbnQgaXJxLCByZXQ7CisKKyAgICBtbXUgPSB4emFsbG9jKHN0
cnVjdCBpcG1tdV92bXNhX2RldmljZSk7CisgICAgaWYgKCAhbW11ICkKKyAgICB7CisgICAgICAg
IGRldl9lcnIoJm5vZGUtPmRldiwgIkNhbm5vdCBhbGxvY2F0ZSBkZXZpY2UgZGF0YVxuIik7Cisg
ICAgICAgIHJldHVybiAtRU5PTUVNOworICAgIH0KKworICAgIG1tdS0+ZGV2ID0gJm5vZGUtPmRl
djsKKyAgICBtbXUtPm51bV91dGxicyA9IElQTU1VX1VUTEJfTUFYOworICAgIG1tdS0+bnVtX2N0
eCA9IElQTU1VX0NUWF9NQVg7CisgICAgc3Bpbl9sb2NrX2luaXQoJm1tdS0+bG9jayk7CisgICAg
Yml0bWFwX3plcm8obW11LT5jdHgsIElQTU1VX0NUWF9NQVgpOworCisgICAgLyogTWFwIEkvTyBt
ZW1vcnkgYW5kIHJlcXVlc3QgSVJRLiAqLworICAgIHJldCA9IGR0X2RldmljZV9nZXRfYWRkcmVz
cyhub2RlLCAwLCAmYWRkciwgJnNpemUpOworICAgIGlmICggcmV0ICkKKyAgICB7CisgICAgICAg
IGRldl9lcnIoJm5vZGUtPmRldiwgIkZhaWxlZCB0byBnZXQgTU1JT1xuIik7CisgICAgICAgIGdv
dG8gb3V0OworICAgIH0KKworICAgIG1tdS0+YmFzZSA9IGlvcmVtYXBfbm9jYWNoZShhZGRyLCBz
aXplKTsKKyAgICBpZiAoICFtbXUtPmJhc2UgKQorICAgIHsKKyAgICAgICAgZGV2X2Vycigmbm9k
ZS0+ZGV2LCAiRmFpbGVkIHRvIGlvcmVtYXAgTU1JTyAoYWRkciAweCUiUFJJeDY0IiBzaXplIDB4
JSJQUkl4NjQiKVxuIiwKKyAgICAgICAgICAgICAgICBhZGRyLCBzaXplKTsKKyAgICAgICAgcmV0
ID0gLUVOT01FTTsKKyAgICAgICAgZ290byBvdXQ7CisgICAgfQorCisgICAgLyoKKyAgICAgKiBE
ZXRlcm1pbmUgaWYgdGhpcyBJUE1NVSBub2RlIGlzIGEgUm9vdCBkZXZpY2UgYnkgY2hlY2tpbmcg
Zm9yCisgICAgICogdGhlIGxhY2sgb2YgcmVuZXNhcyxpcG1tdS1tYWluIHByb3BlcnR5LgorICAg
ICAqLworICAgIGlmICggIWR0X2ZpbmRfcHJvcGVydHkobm9kZSwgInJlbmVzYXMsaXBtbXUtbWFp
biIsIE5VTEwpICkKKyAgICAgICAgbW11LT5yb290ID0gbW11OworICAgIGVsc2UKKyAgICAgICAg
bW11LT5yb290ID0gaXBtbXVfZmluZF9yb290KCk7CisKKyAgICAvKiBXYWl0IHVudGlsIHRoZSBS
b290IGRldmljZSBoYXMgYmVlbiByZWdpc3RlcmVkIGZvciBzdXJlLiAqLworICAgIGlmICggIW1t
dS0+cm9vdCApCisgICAgeworICAgICAgICBkZXZfZXJyKCZub2RlLT5kZXYsICJSb290IElQTU1V
IGhhc24ndCBiZWVuIHJlZ2lzdGVyZWQgeWV0XG4iKTsKKyAgICAgICAgcmV0dXJuIC1FTk9ERVY7
CisgICAgfQorCisgICAgLyogUm9vdCBkZXZpY2VzIGhhdmUgbWFuZGF0b3J5IElSUXMuICovCisg
ICAgaWYgKCBpcG1tdV9pc19yb290KG1tdSkgKQorICAgIHsKKyAgICAgICAgaXJxID0gcGxhdGZv
cm1fZ2V0X2lycShub2RlLCAwKTsKKyAgICAgICAgaWYgKCBpcnEgPCAwICkKKyAgICAgICAgewor
ICAgICAgICAgICAgZGV2X2Vycigmbm9kZS0+ZGV2LCAiTm8gSVJRIGZvdW5kXG4iKTsKKyAgICAg
ICAgICAgIHJldCA9IGlycTsKKyAgICAgICAgICAgIGdvdG8gb3V0OworICAgICAgICB9CisKKyAg
ICAgICAgcmV0ID0gcmVxdWVzdF9pcnEoaXJxLCAwLCBpcG1tdV9pcnEsIGRldl9uYW1lKCZub2Rl
LT5kZXYpLCBtbXUpOworICAgICAgICBpZiAoIHJldCA8IDAgKQorICAgICAgICB7CisgICAgICAg
ICAgICBkZXZfZXJyKCZub2RlLT5kZXYsICJGYWlsZWQgdG8gcmVxdWVzdCBJUlEgJWRcbiIsIGly
cSk7CisgICAgICAgICAgICBnb3RvIG91dDsKKyAgICAgICAgfQorCisgICAgICAgIGlwbW11X2Rl
dmljZV9yZXNldChtbXUpOworCisgICAgICAgIC8qCisgICAgICAgICAqIFVzZSBzdGFnZSAyIHRy
YW5zbGF0aW9uIHRhYmxlIGZvcm1hdCB3aGVuIHN0YWdlIDIgdHJhbnNsYXRpb24KKyAgICAgICAg
ICogZW5hYmxlZC4KKyAgICAgICAgICovCisgICAgICAgIGlwbW11X3dyaXRlKG1tdSwgSU1TQVVY
Q1RMUiwKKyAgICAgICAgICAgICAgICAgICAgaXBtbXVfcmVhZChtbXUsIElNU0FVWENUTFIpIHwg
SU1TQVVYQ1RMUl9TMlBURSk7CisKKyAgICAgICAgZGV2X2luZm8oJm5vZGUtPmRldiwgIklQTU1V
IGNvbnRleHQgMCBpcyByZXNlcnZlZFxuIik7CisgICAgICAgIHNldF9iaXQoMCwgbW11LT5jdHgp
OworICAgIH0KKworICAgIHNwaW5fbG9jaygmaXBtbXVfZGV2aWNlc19sb2NrKTsKKyAgICBsaXN0
X2FkZCgmbW11LT5saXN0LCAmaXBtbXVfZGV2aWNlcyk7CisgICAgc3Bpbl91bmxvY2soJmlwbW11
X2RldmljZXNfbG9jayk7CisKKyAgICBkZXZfaW5mbygmbm9kZS0+ZGV2LCAiUmVnaXN0ZXJlZCAl
cyBJUE1NVVxuIiwKKyAgICAgICAgICAgICBpcG1tdV9pc19yb290KG1tdSkgPyAiUm9vdCIgOiAi
Q2FjaGUiKTsKKworICAgIC8qCisgICAgICogTWFyayBhbGwgbWFzdGVyIGRldmljZXMgdGhhdCBj
b25uZWN0ZWQgdG8gdGhpcyBDYWNoZSBJUE1NVQorICAgICAqIGFzIHByb3RlY3RlZC4KKyAgICAg
Ki8KKyAgICBpZiAoICFpcG1tdV9pc19yb290KG1tdSkgKQorICAgICAgICBpcG1tdV9wcm90ZWN0
X21hc3RlcnMobW11KTsKKworICAgIHJldHVybiAwOworCitvdXQ6CisgICAgaWYgKCBtbXUtPmJh
c2UgKQorICAgICAgICBpb3VubWFwKG1tdS0+YmFzZSk7CisgICAgeGZyZWUobW11KTsKKworICAg
IHJldHVybiByZXQ7Cit9CisKKy8qIFhlbiBJT01NVSBvcHMgKi8KK3N0YXRpYyBpbnQgX19tdXN0
X2NoZWNrIGlwbW11X2lvdGxiX2ZsdXNoX2FsbChzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0
cnVjdCBpcG1tdV92bXNhX3hlbl9kb21haW4gKnhlbl9kb21haW4gPSBkb21faW9tbXUoZCktPmFy
Y2gucHJpdjsKKworICAgIGlmICggIXhlbl9kb21haW4gfHwgIXhlbl9kb21haW4tPnJvb3RfZG9t
YWluICkKKyAgICAgICAgcmV0dXJuIDA7CisKKyAgICBzcGluX2xvY2soJnhlbl9kb21haW4tPmxv
Y2spOworICAgIGlwbW11X3RsYl9pbnZhbGlkYXRlKHhlbl9kb21haW4tPnJvb3RfZG9tYWluKTsK
KyAgICBzcGluX3VubG9jaygmeGVuX2RvbWFpbi0+bG9jayk7CisKKyAgICByZXR1cm4gMDsKK30K
Kworc3RhdGljIGludCBfX211c3RfY2hlY2sgaXBtbXVfaW90bGJfZmx1c2goc3RydWN0IGRvbWFp
biAqZCwgZGZuX3QgZGZuLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdW5zaWduZWQgaW50IHBhZ2VfY291bnQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgZmx1c2hfZmxhZ3MpCit7CisgICAgQVNTRVJUKGZs
dXNoX2ZsYWdzKTsKKworICAgIC8qIFRoZSBoYXJkd2FyZSBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0
aXZlIFRMQiBmbHVzaC4gKi8KKyAgICByZXR1cm4gaXBtbXVfaW90bGJfZmx1c2hfYWxsKGQpOwor
fQorCitzdGF0aWMgc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICppcG1tdV9nZXRfY2FjaGVfZG9t
YWluKHN0cnVjdCBkb21haW4gKmQsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2UgKmRldikKK3sKKyAgICBzdHJ1Y3Qg
aXBtbXVfdm1zYV94ZW5fZG9tYWluICp4ZW5fZG9tYWluID0gZG9tX2lvbW11KGQpLT5hcmNoLnBy
aXY7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfbWFzdGVyX2NmZyAqY2ZnID0gZGV2X2FyY2hkYXRh
KGRldiktPmNmZzsKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kZXZpY2UgKm1tdSA9IGNmZy0+bW11
OworICAgIHN0cnVjdCBpcG1tdV92bXNhX2RvbWFpbiAqZG9tYWluOworCisgICAgaWYgKCAhbW11
ICkKKyAgICAgICAgcmV0dXJuIE5VTEw7CisKKyAgICAvKgorICAgICAqIExvb3AgdGhyb3VnaCBh
bGwgQ2FjaGUgSVBNTVUgZG9tYWlucyBhc3NvY2lhdGVkIHdpdGggdGhpcyBYZW4gZG9tYWluCisg
ICAgICogdG8gbG9jYXRlIGFuIElQTU1VIGRvbWFpbiB0aGlzIElQTU1VIGRldmljZSBpcyBhc3Np
Z25lZCB0by4KKyAgICAgKi8KKyAgICBsaXN0X2Zvcl9lYWNoX2VudHJ5KCBkb21haW4sICZ4ZW5f
ZG9tYWluLT5jYWNoZV9kb21haW5zLCBsaXN0ICkKKyAgICB7CisgICAgICAgIGlmICggZG9tYWlu
LT5tbXUgPT0gbW11ICkKKyAgICAgICAgICAgIHJldHVybiBkb21haW47CisgICAgfQorCisgICAg
cmV0dXJuIE5VTEw7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmlwbW11
X2FsbG9jX2NhY2hlX2RvbWFpbihzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0cnVjdCBpcG1t
dV92bXNhX3hlbl9kb21haW4gKnhlbl9kb21haW4gPSBkb21faW9tbXUoZCktPmFyY2gucHJpdjsK
KyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbjsKKworICAgIGRvbWFpbiA9IHh6
YWxsb2Moc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluKTsKKyAgICBpZiAoICFkb21haW4gKQorICAg
ICAgICByZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKKworICAgIC8qCisgICAgICogV2UgZG9uJ3Qg
YXNzaWduIHRoZSBDYWNoZSBJUE1NVSBkZXZpY2UgaGVyZSwgaXQgd2lsbCBiZSBhc3NpZ25lZCB3
aGVuCisgICAgICogYXR0YWNoaW5nIG1hc3RlciBkZXZpY2UgdG8gdGhpcyBkb21haW4gaW4gaXBt
bXVfYXR0YWNoX2RldmljZSgpLgorICAgICAqIGRvbWFpbi0+bW11ID0gTlVMTDsKKyAgICAgKi8K
KworICAgIGRvbWFpbi0+ZCA9IGQ7CisgICAgLyogVXNlIHRoZSBzYW1lIGNvbnRleHQgbWFwcGVk
IHRvIHRoaXMgWGVuIGRvbWFpbi4gKi8KKyAgICBkb21haW4tPmNvbnRleHRfaWQgPSB4ZW5fZG9t
YWluLT5yb290X2RvbWFpbi0+Y29udGV4dF9pZDsKKworICAgIHJldHVybiBkb21haW47Cit9CisK
K3N0YXRpYyB2b2lkIGlwbW11X2ZyZWVfY2FjaGVfZG9tYWluKHN0cnVjdCBpcG1tdV92bXNhX2Rv
bWFpbiAqZG9tYWluKQoreworICAgIGxpc3RfZGVsKCZkb21haW4tPmxpc3QpOworICAgIC8qCisg
ICAgICogRGlzYWJsZSB0aGUgY29udGV4dCBmb3IgQ2FjaGUgSVBNTVUgb25seS4gRmx1c2ggdGhl
IFRMQiBhcyByZXF1aXJlZAorICAgICAqIHdoZW4gbW9kaWZ5aW5nIHRoZSBjb250ZXh0IHJlZ2lz
dGVycy4KKyAgICAgKi8KKyAgICBpcG1tdV9jdHhfd3JpdGVfY2FjaGUoZG9tYWluLCBJTUNUUiwg
SU1DVFJfRkxVU0gpOworICAgIHhmcmVlKGRvbWFpbik7Cit9CisKK3N0YXRpYyBzdHJ1Y3QgaXBt
bXVfdm1zYV9kb21haW4gKmlwbW11X2FsbG9jX3Jvb3RfZG9tYWluKHN0cnVjdCBkb21haW4gKmQp
Cit7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW47CisgICAgc3RydWN0IGlw
bW11X3Ztc2FfZGV2aWNlICpyb290OworICAgIGludCByZXQ7CisKKyAgICByb290ID0gaXBtbXVf
ZmluZF9yb290KCk7CisgICAgaWYgKCAhcm9vdCApCisgICAgeworICAgICAgICBwcmludGsoWEVO
TE9HX0VSUiAiaXBtbXU6IFVuYWJsZSB0byBsb2NhdGUgUm9vdCBJUE1NVVxuIik7CisgICAgICAg
IHJldHVybiBFUlJfUFRSKC1FQUdBSU4pOworICAgIH0KKworICAgIGRvbWFpbiA9IHh6YWxsb2Mo
c3RydWN0IGlwbW11X3Ztc2FfZG9tYWluKTsKKyAgICBpZiAoICFkb21haW4gKQorICAgICAgICBy
ZXR1cm4gRVJSX1BUUigtRU5PTUVNKTsKKworICAgIGRvbWFpbi0+bW11ID0gcm9vdDsKKyAgICBk
b21haW4tPmQgPSBkOworCisgICAgLyogSW5pdGlhbGl6ZSB0aGUgY29udGV4dCB0byBiZSBtYXBw
ZWQgdG8gdGhpcyBYZW4gZG9tYWluLiAqLworICAgIHJldCA9IGlwbW11X2RvbWFpbl9pbml0X2Nv
bnRleHQoZG9tYWluKTsKKyAgICBpZiAoIHJldCA8IDAgKQorICAgIHsKKyAgICAgICAgZGV2X2Vy
cihyb290LT5kZXYsICJkJWQ6IFVuYWJsZSB0byBpbml0aWFsaXplIElQTU1VIGNvbnRleHRcbiIs
CisgICAgICAgICAgICAgICAgZC0+ZG9tYWluX2lkKTsKKyAgICAgICAgeGZyZWUoZG9tYWluKTsK
KyAgICAgICAgcmV0dXJuIEVSUl9QVFIocmV0KTsKKyAgICB9CisKKyAgICByZXR1cm4gZG9tYWlu
OworfQorCitzdGF0aWMgdm9pZCBpcG1tdV9mcmVlX3Jvb3RfZG9tYWluKHN0cnVjdCBpcG1tdV92
bXNhX2RvbWFpbiAqZG9tYWluKQoreworICAgIGlwbW11X2RvbWFpbl9kZXN0cm95X2NvbnRleHQo
ZG9tYWluKTsKKyAgICB4ZnJlZShkb21haW4pOworfQorCitzdGF0aWMgaW50IGlwbW11X2Fzc2ln
bl9kZXZpY2Uoc3RydWN0IGRvbWFpbiAqZCwgdTggZGV2Zm4sIHN0cnVjdCBkZXZpY2UgKmRldiwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgZmxhZykKK3sKKyAgICBzdHJ1Y3Qg
aXBtbXVfdm1zYV94ZW5fZG9tYWluICp4ZW5fZG9tYWluID0gZG9tX2lvbW11KGQpLT5hcmNoLnBy
aXY7CisgICAgc3RydWN0IGlwbW11X3Ztc2FfZG9tYWluICpkb21haW47CisgICAgaW50IHJldDsK
KworICAgIGlmICggIXhlbl9kb21haW4gKQorICAgICAgICByZXR1cm4gLUVJTlZBTDsKKworICAg
IHNwaW5fbG9jaygmeGVuX2RvbWFpbi0+bG9jayk7CisKKyAgICAvKgorICAgICAqIFRoZSBJUE1N
VSBjb250ZXh0IGZvciB0aGUgWGVuIGRvbWFpbiBpcyBub3QgYWxsb2NhdGVkIGJlZm9yZWhhbmQK
KyAgICAgKiAoYXQgdGhlIFhlbiBkb21haW4gY3JlYXRpb24gdGltZSksIGJ1dCBvbiBkZW1hbmQg
b25seSwgd2hlbiB0aGUgZmlyc3QKKyAgICAgKiBtYXN0ZXIgZGV2aWNlIGJlaW5nIGF0dGFjaGVk
IHRvIGl0LgorICAgICAqIENyZWF0ZSBSb290IElQTU1VIGRvbWFpbiB3aGljaCBjb250ZXh0IHdp
bGwgYmUgbWFwcGVkIHRvIHRoaXMgWGVuIGRvbWFpbgorICAgICAqIGlmIG5vdCBleGl0cyB5ZXQu
CisgICAgICovCisgICAgaWYgKCAheGVuX2RvbWFpbi0+cm9vdF9kb21haW4gKQorICAgIHsKKyAg
ICAgICAgZG9tYWluID0gaXBtbXVfYWxsb2Nfcm9vdF9kb21haW4oZCk7CisgICAgICAgIGlmICgg
SVNfRVJSKGRvbWFpbikgKQorICAgICAgICB7CisgICAgICAgICAgICByZXQgPSBQVFJfRVJSKGRv
bWFpbik7CisgICAgICAgICAgICBnb3RvIG91dDsKKyAgICAgICAgfQorCisgICAgICAgIHhlbl9k
b21haW4tPnJvb3RfZG9tYWluID0gZG9tYWluOworICAgIH0KKworICAgIGlmICggIWRldi0+YXJj
aGRhdGEuaW9tbXUgKQorICAgIHsKKyAgICAgICAgZGV2LT5hcmNoZGF0YS5pb21tdSA9IHh6YWxs
b2Moc3RydWN0IGlwbW11X3Ztc2FfeGVuX2RldmljZSk7CisgICAgICAgIGlmICggIWRldi0+YXJj
aGRhdGEuaW9tbXUgKQorICAgICAgICB7CisgICAgICAgICAgICByZXQgPSAtRU5PTUVNOworICAg
ICAgICAgICAgZ290byBvdXQ7CisgICAgICAgIH0KKyAgICB9CisKKyAgICBpZiAoICFkZXZfYXJj
aGRhdGEoZGV2KS0+Y2ZnICkKKyAgICB7CisgICAgICAgIHJldCA9IGlwbW11X2luaXRfbWFzdGVy
KGRldik7CisgICAgICAgIGlmICggcmV0ICkKKyAgICAgICAgeworICAgICAgICAgICAgZGV2X2Vy
cihkZXYsICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBtYXN0ZXIgZGV2aWNlXG4iKTsKKyAgICAgICAg
ICAgIGdvdG8gb3V0OworICAgICAgICB9CisgICAgfQorCisgICAgaWYgKCBkZXZfYXJjaGRhdGEo
ZGV2KS0+ZG9tYWluICkKKyAgICB7CisgICAgICAgIGRldl9lcnIoZGV2LCAiQWxyZWFkeSBhdHRh
Y2hlZCB0byBJUE1NVSBkb21haW5cbiIpOworICAgICAgICByZXQgPSAtRUVYSVNUOworICAgICAg
ICBnb3RvIG91dDsKKyAgICB9CisKKyAgICAvKgorICAgICAqIE1hc3RlciBkZXZpY2VzIGJlaGlu
ZCB0aGUgc2FtZSBDYWNoZSBJUE1NVSBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIHNhbWUKKyAgICAg
KiBDYWNoZSBJUE1NVSBkb21haW4uCisgICAgICogQmVmb3JlIGNyZWF0aW5nIG5ldyBJUE1NVSBk
b21haW4gY2hlY2sgdG8gc2VlIGlmIHRoZSByZXF1aXJlZCBvbmUKKyAgICAgKiBhbHJlYWR5IGV4
aXN0cyBmb3IgdGhpcyBYZW4gZG9tYWluLgorICAgICAqLworICAgIGRvbWFpbiA9IGlwbW11X2dl
dF9jYWNoZV9kb21haW4oZCwgZGV2KTsKKyAgICBpZiAoICFkb21haW4gKQorICAgIHsKKyAgICAg
ICAgLyogQ3JlYXRlIG5ldyBJUE1NVSBkb21haW4gdGhpcyBtYXN0ZXIgZGV2aWNlIHdpbGwgYmUg
YXR0YWNoZWQgdG8uICovCisgICAgICAgIGRvbWFpbiA9IGlwbW11X2FsbG9jX2NhY2hlX2RvbWFp
bihkKTsKKyAgICAgICAgaWYgKCBJU19FUlIoZG9tYWluKSApCisgICAgICAgIHsKKyAgICAgICAg
ICAgIHJldCA9IFBUUl9FUlIoZG9tYWluKTsKKyAgICAgICAgICAgIGdvdG8gb3V0OworICAgICAg
ICB9CisKKyAgICAgICAgLyogQ2hhaW4gbmV3IElQTU1VIGRvbWFpbiB0byB0aGUgWGVuIGRvbWFp
bi4gKi8KKyAgICAgICAgbGlzdF9hZGQoJmRvbWFpbi0+bGlzdCwgJnhlbl9kb21haW4tPmNhY2hl
X2RvbWFpbnMpOworICAgIH0KKworICAgIHJldCA9IGlwbW11X2F0dGFjaF9kZXZpY2UoZG9tYWlu
LCBkZXYpOworICAgIGlmICggcmV0ICkKKyAgICB7CisgICAgICAgIC8qCisgICAgICAgICAqIERl
c3Ryb3kgQ2FjaGUgSVBNTVUgZG9tYWluIG9ubHkgaWYgdGhlcmUgYXJlIG5vIG1hc3RlciBkZXZp
Y2VzCisgICAgICAgICAqIGF0dGFjaGVkIHRvIGl0LgorICAgICAgICAgKi8KKyAgICAgICAgaWYg
KCAhZG9tYWluLT5yZWZjb3VudCApCisgICAgICAgICAgICBpcG1tdV9mcmVlX2NhY2hlX2RvbWFp
bihkb21haW4pOworICAgIH0KKyAgICBlbHNlCisgICAgeworICAgICAgICBkb21haW4tPnJlZmNv
dW50Kys7CisgICAgICAgIGRldl9hcmNoZGF0YShkZXYpLT5kb21haW4gPSBkb21haW47CisgICAg
fQorCitvdXQ6CisgICAgc3Bpbl91bmxvY2soJnhlbl9kb21haW4tPmxvY2spOworCisgICAgcmV0
dXJuIHJldDsKK30KKworc3RhdGljIGludCBpcG1tdV9kZWFzc2lnbl9kZXZpY2Uoc3RydWN0IGRv
bWFpbiAqZCwgc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIHN0cnVjdCBpcG1tdV92bXNhX3hl
bl9kb21haW4gKnhlbl9kb21haW4gPSBkb21faW9tbXUoZCktPmFyY2gucHJpdjsKKyAgICBzdHJ1
Y3QgaXBtbXVfdm1zYV9kb21haW4gKmRvbWFpbiA9IGRldl9hcmNoZGF0YShkZXYpLT5kb21haW47
CisKKyAgICBpZiAoICFkb21haW4gfHwgZG9tYWluLT5kICE9IGQgKQorICAgIHsKKyAgICAgICAg
ZGV2X2VycihkZXYsICJOb3QgYXR0YWNoZWQgdG8gZG9tYWluICVkXG4iLCBkLT5kb21haW5faWQp
OworICAgICAgICByZXR1cm4gLUVTUkNIOworICAgIH0KKworICAgIHNwaW5fbG9jaygmeGVuX2Rv
bWFpbi0+bG9jayk7CisKKyAgICBpcG1tdV9kZXRhY2hfZGV2aWNlKGRvbWFpbiwgZGV2KTsKKyAg
ICBkZXZfYXJjaGRhdGEoZGV2KS0+ZG9tYWluID0gTlVMTDsKKyAgICBkb21haW4tPnJlZmNvdW50
LS07CisKKyAgICAvKgorICAgICAqIERlc3Ryb3kgQ2FjaGUgSVBNTVUgZG9tYWluIG9ubHkgaWYg
dGhlcmUgYXJlIG5vIG1hc3RlciBkZXZpY2VzCisgICAgICogYXR0YWNoZWQgdG8gaXQuCisgICAg
ICovCisgICAgaWYgKCAhZG9tYWluLT5yZWZjb3VudCApCisgICAgICAgIGlwbW11X2ZyZWVfY2Fj
aGVfZG9tYWluKGRvbWFpbik7CisKKyAgICBzcGluX3VubG9jaygmeGVuX2RvbWFpbi0+bG9jayk7
CisKKyAgICByZXR1cm4gMDsKK30KKworc3RhdGljIGludCBpcG1tdV9yZWFzc2lnbl9kZXZpY2Uo
c3RydWN0IGRvbWFpbiAqcywgc3RydWN0IGRvbWFpbiAqdCwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHU4IGRldmZuLCAgc3RydWN0IGRldmljZSAqZGV2KQoreworICAgIGludCBy
ZXQgPSAwOworCisgICAgLyogRG9uJ3QgYWxsb3cgcmVtYXBwaW5nIG9uIG90aGVyIGRvbWFpbiB0
aGFuIGh3ZG9tICovCisgICAgaWYgKCB0ICYmIHQgIT0gaGFyZHdhcmVfZG9tYWluICkKKyAgICAg
ICAgcmV0dXJuIC1FUEVSTTsKKworICAgIGlmICggdCA9PSBzICkKKyAgICAgICAgcmV0dXJuIDA7
CisKKyAgICByZXQgPSBpcG1tdV9kZWFzc2lnbl9kZXZpY2UocywgZGV2KTsKKyAgICBpZiAoIHJl
dCApCisgICAgICAgIHJldHVybiByZXQ7CisKKyAgICBpZiAoIHQgKQorICAgIHsKKyAgICAgICAg
LyogTm8gZmxhZ3MgYXJlIGRlZmluZWQgZm9yIEFSTS4gKi8KKyAgICAgICAgcmV0ID0gaXBtbXVf
YXNzaWduX2RldmljZSh0LCBkZXZmbiwgZGV2LCAwKTsKKyAgICAgICAgaWYgKCByZXQgKQorICAg
ICAgICAgICAgcmV0dXJuIHJldDsKKyAgICB9CisKKyAgICByZXR1cm4gMDsKK30KKworc3RhdGlj
IGludCBpcG1tdV9pb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQoreworICAgIHN0
cnVjdCBpcG1tdV92bXNhX3hlbl9kb21haW4gKnhlbl9kb21haW47CisKKyAgICB4ZW5fZG9tYWlu
ID0geHphbGxvYyhzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5fZG9tYWluKTsKKyAgICBpZiAoICF4ZW5f
ZG9tYWluICkKKyAgICAgICAgcmV0dXJuIC1FTk9NRU07CisKKyAgICBzcGluX2xvY2tfaW5pdCgm
eGVuX2RvbWFpbi0+bG9jayk7CisgICAgSU5JVF9MSVNUX0hFQUQoJnhlbl9kb21haW4tPmNhY2hl
X2RvbWFpbnMpOworICAgIC8qCisgICAgICogV2UgZG9uJ3QgY3JlYXRlIFJvb3QgSVBNTVUgZG9t
YWluIGhlcmUsIGl0IHdpbGwgYmUgY3JlYXRlZCBvbiBkZW1hbmQKKyAgICAgKiBvbmx5LCB3aGVu
IGF0dGFjaGluZyB0aGUgZmlyc3QgbWFzdGVyIGRldmljZSB0byB0aGlzIFhlbiBkb21haW4gaW4K
KyAgICAgKiBpcG1tdV9hc3NpZ25fZGV2aWNlKCkuCisgICAgICogeGVuX2RvbWFpbi0+cm9vdF9k
b21haW4gPSBOVUxMOworICAgICovCisKKyAgICBkb21faW9tbXUoZCktPmFyY2gucHJpdiA9IHhl
bl9kb21haW47CisKKyAgICByZXR1cm4gMDsKK30KKworc3RhdGljIHZvaWQgX19od2RvbV9pbml0
IGlwbW11X2lvbW11X2h3ZG9tX2luaXQoc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICAvKiBTZXQg
dG8gZmFsc2Ugb3B0aW9ucyBub3Qgc3VwcG9ydGVkIG9uIEFSTS4gKi8KKyAgICBpZiAoIGlvbW11
X2h3ZG9tX2luY2x1c2l2ZSApCisgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiaXBtbXU6
IG1hcC1pbmNsdXNpdmUgZG9tMC1pb21tdSBvcHRpb24gaXMgbm90IHN1cHBvcnRlZCBvbiBBUk1c
biIpOworICAgIGlvbW11X2h3ZG9tX2luY2x1c2l2ZSA9IGZhbHNlOworICAgIGlmICggaW9tbXVf
aHdkb21fcmVzZXJ2ZWQgPT0gMSApCisgICAgICAgIHByaW50ayhYRU5MT0dfV0FSTklORyAiaXBt
bXU6IG1hcC1yZXNlcnZlZCBkb20wLWlvbW11IG9wdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIEFS
TVxuIik7CisgICAgaW9tbXVfaHdkb21fcmVzZXJ2ZWQgPSAwOworCisgICAgYXJjaF9pb21tdV9o
d2RvbV9pbml0KGQpOworfQorCitzdGF0aWMgdm9pZCBpcG1tdV9pb21tdV9kb21haW5fdGVhcmRv
d24oc3RydWN0IGRvbWFpbiAqZCkKK3sKKyAgICBzdHJ1Y3QgaXBtbXVfdm1zYV94ZW5fZG9tYWlu
ICp4ZW5fZG9tYWluID0gZG9tX2lvbW11KGQpLT5hcmNoLnByaXY7CisKKyAgICBpZiAoICF4ZW5f
ZG9tYWluICkKKyAgICAgICAgcmV0dXJuOworCisgICAgc3Bpbl9sb2NrKCZ4ZW5fZG9tYWluLT5s
b2NrKTsKKyAgICAvKgorICAgICAqIERlc3Ryb3kgUm9vdCBJUE1NVSBkb21haW4gd2hpY2ggY29u
dGV4dCBpcyBtYXBwZWQgdG8gdGhpcyBYZW4gZG9tYWluCisgICAgICogaWYgZXhpdHMuCisgICAg
ICovCisgICAgaWYgKCB4ZW5fZG9tYWluLT5yb290X2RvbWFpbiApCisgICAgICAgIGlwbW11X2Zy
ZWVfcm9vdF9kb21haW4oeGVuX2RvbWFpbi0+cm9vdF9kb21haW4pOworCisgICAgc3Bpbl91bmxv
Y2soJnhlbl9kb21haW4tPmxvY2spOworCisgICAgLyoKKyAgICAgKiBXZSBhc3N1bWUgdGhhdCBh
bGwgbWFzdGVyIGRldmljZXMgaGF2ZSBhbHJlYWR5IGJlZW4gZGV0YWNoZWQgZnJvbQorICAgICAq
IHRoaXMgWGVuIGRvbWFpbiBhbmQgdGhlcmUgbXVzdCBiZSBubyBhc3NvY2lhdGVkIENhY2hlIElQ
TU1VIGRvbWFpbnMKKyAgICAgKiBpbiB1c2UuCisgICAgICovCisgICAgQVNTRVJUKGxpc3RfZW1w
dHkoJnhlbl9kb21haW4tPmNhY2hlX2RvbWFpbnMpKTsKKyAgICB4ZnJlZSh4ZW5fZG9tYWluKTsK
KyAgICBkb21faW9tbXUoZCktPmFyY2gucHJpdiA9IE5VTEw7Cit9CisKK3N0YXRpYyBpbnQgX19t
dXN0X2NoZWNrIGlwbW11X21hcF9wYWdlKHN0cnVjdCBkb21haW4gKmQsIGRmbl90IGRmbiwgbWZu
X3QgbWZuLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
aW50IGZsYWdzLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgaW50ICpmbHVzaF9mbGFncykKK3sKKyAgICBwMm1fdHlwZV90IHQ7CisKKyAgICAvKgorICAg
ICAqIEdyYW50IG1hcHBpbmdzIGNhbiBiZSB1c2VkIGZvciBETUEgcmVxdWVzdHMuIFRoZSBkZXZf
YnVzX2FkZHIKKyAgICAgKiByZXR1cm5lZCBieSB0aGUgaHlwZXJjYWxsIGlzIHRoZSBNRk4gKG5v
dCB0aGUgSVBBKS4gRm9yIGRldmljZQorICAgICAqIHByb3RlY3RlZCBieSBhbiBJT01NVSwgWGVu
IG5lZWRzIHRvIGFkZCBhIDE6MSBtYXBwaW5nIGluIHRoZSBkb21haW4KKyAgICAgKiBwMm0gdG8g
YWxsb3cgRE1BIHJlcXVlc3QgdG8gd29yay4KKyAgICAgKiBUaGlzIGlzIG9ubHkgdmFsaWQgd2hl
biB0aGUgZG9tYWluIGlzIGRpcmVjdGVkIG1hcHBlZC4gSGVuY2UgdGhpcworICAgICAqIGZ1bmN0
aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZ250dGFiIGNvZGUgd2l0aCBnZm4gPT0gbWZuID09
IGRmbi4KKyAgICAgKi8KKyAgICBCVUdfT04oIWlzX2RvbWFpbl9kaXJlY3RfbWFwcGVkKGQpKTsK
KyAgICBCVUdfT04obWZuX3gobWZuKSAhPSBkZm5feChkZm4pKTsKKworICAgIC8qIFdlIG9ubHkg
c3VwcG9ydCByZWFkYWJsZSBhbmQgd3JpdGFibGUgZmxhZ3MgKi8KKyAgICBpZiAoICEoZmxhZ3Mg
JiAoSU9NTVVGX3JlYWRhYmxlIHwgSU9NTVVGX3dyaXRhYmxlKSkgKQorICAgICAgICByZXR1cm4g
LUVJTlZBTDsKKworICAgIHQgPSAoZmxhZ3MgJiBJT01NVUZfd3JpdGFibGUpID8gcDJtX2lvbW11
X21hcF9ydyA6IHAybV9pb21tdV9tYXBfcm87CisKKyAgICAvKgorICAgICAqIFRoZSBmdW5jdGlv
biBndWVzdF9waHlzbWFwX2FkZF9lbnRyeSByZXBsYWNlcyB0aGUgY3VycmVudCBtYXBwaW5nCisg
ICAgICogaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUuLi4KKyAgICAgKi8KKyAgICByZXR1cm4gZ3Vl
c3RfcGh5c21hcF9hZGRfZW50cnkoZCwgX2dmbihkZm5feChkZm4pKSwgX21mbihkZm5feChkZm4p
KSwgMCwgdCk7Cit9CisKK3N0YXRpYyBpbnQgX19tdXN0X2NoZWNrIGlwbW11X3VubWFwX3BhZ2Uo
c3RydWN0IGRvbWFpbiAqZCwgZGZuX3QgZGZuLAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgKmZsdXNoX2ZsYWdzKQoreworICAgIC8qCisgICAg
ICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGdudHRhYiBjb2RlIHdoZW4g
dGhlIGRvbWFpbgorICAgICAqIGlzIGRpcmVjdCBtYXBwZWQgKGkuZS4gZ2ZuID09IG1mbiA9PSBk
Zm4pLgorICAgICAqLworICAgIGlmICggIWlzX2RvbWFpbl9kaXJlY3RfbWFwcGVkKGQpICkKKyAg
ICAgICAgcmV0dXJuIC1FSU5WQUw7CisKKyAgICByZXR1cm4gZ3Vlc3RfcGh5c21hcF9yZW1vdmVf
cGFnZShkLCBfZ2ZuKGRmbl94KGRmbikpLCBfbWZuKGRmbl94KGRmbikpLCAwKTsKK30KKworc3Rh
dGljIGNvbnN0IHN0cnVjdCBpb21tdV9vcHMgaXBtbXVfaW9tbXVfb3BzID0KK3sKKyAgICAuaW5p
dCAgICAgICAgICAgID0gaXBtbXVfaW9tbXVfZG9tYWluX2luaXQsCisgICAgLmh3ZG9tX2luaXQg
ICAgICA9IGlwbW11X2lvbW11X2h3ZG9tX2luaXQsCisgICAgLnRlYXJkb3duICAgICAgICA9IGlw
bW11X2lvbW11X2RvbWFpbl90ZWFyZG93biwKKyAgICAuaW90bGJfZmx1c2ggICAgID0gaXBtbXVf
aW90bGJfZmx1c2gsCisgICAgLmlvdGxiX2ZsdXNoX2FsbCA9IGlwbW11X2lvdGxiX2ZsdXNoX2Fs
bCwKKyAgICAuYXNzaWduX2RldmljZSAgID0gaXBtbXVfYXNzaWduX2RldmljZSwKKyAgICAucmVh
c3NpZ25fZGV2aWNlID0gaXBtbXVfcmVhc3NpZ25fZGV2aWNlLAorICAgIC5tYXBfcGFnZSAgICAg
ICAgPSBpcG1tdV9tYXBfcGFnZSwKKyAgICAudW5tYXBfcGFnZSAgICAgID0gaXBtbXVfdW5tYXBf
cGFnZSwKK307CisKKy8qIFJDQVIgR0VOMyBwcm9kdWN0IGFuZCBjdXQgaW5mb3JtYXRpb24uICov
CisjZGVmaW5lIFJDQVJfUFJPRFVDVF9NQVNLICAgIDB4MDAwMDdGMDAKKyNkZWZpbmUgUkNBUl9Q
Uk9EVUNUX0gzICAgICAgMHgwMDAwNEYwMAorI2RlZmluZSBSQ0FSX1BST0RVQ1RfTTMgICAgICAw
eDAwMDA1MjAwCisjZGVmaW5lIFJDQVJfUFJPRFVDVF9NM04gICAgIDB4MDAwMDU1MDAKKyNkZWZp
bmUgUkNBUl9DVVRfTUFTSyAgICAgICAgMHgwMDAwMDBGRgorI2RlZmluZSBSQ0FSX0NVVF9WRVIz
MCAgICAgICAweDAwMDAwMDIwCisKK3N0YXRpYyBfX2luaXQgYm9vbCBpcG1tdV9zdGFnZTJfc3Vw
cG9ydGVkKHZvaWQpCit7CisgICAgc3RydWN0IGR0X2RldmljZV9ub2RlICpucDsKKyAgICB1NjQg
YWRkciwgc2l6ZTsKKyAgICB2b2lkIF9faW9tZW0gKmJhc2U7CisgICAgdTMyIHByb2R1Y3QsIGN1
dDsKKyAgICBzdGF0aWMgZW51bQorCXsKKyAgICAgICAgVU5LTk9XTiwKKyAgICAgICAgU1VQUE9S
VEVELAorICAgICAgICBOT1RTVVBQT1JURUQKKyAgICB9IHN0YWdlMl9zdXBwb3J0ZWQgPSBVTktO
T1dOOworCisgICAgLyogVXNlIHRoZSBmbGFnIHRvIGF2b2lkIGNoZWNraW5nIGZvciB0aGUgY29t
cGF0aWJpbGl0eSBtb3JlIHRoZW4gb25jZS4gKi8KKyAgICBzd2l0Y2ggKCBzdGFnZTJfc3VwcG9y
dGVkICkKKyAgICB7CisgICAgY2FzZSBTVVBQT1JURUQ6CisgICAgICAgIHJldHVybiB0cnVlOwor
CisgICAgY2FzZSBOT1RTVVBQT1JURUQ6CisgICAgICAgIHJldHVybiBmYWxzZTsKKworICAgIGNh
c2UgVU5LTk9XTjoKKyAgICBkZWZhdWx0OgorICAgICAgICBzdGFnZTJfc3VwcG9ydGVkID0gTk9U
U1VQUE9SVEVEOworICAgICAgICBicmVhazsKKyAgICB9CisKKyAgICBucCA9IGR0X2ZpbmRfY29t
cGF0aWJsZV9ub2RlKE5VTEwsIE5VTEwsICJyZW5lc2FzLHByciIpOworICAgIGlmICggIW5wICkK
KyAgICB7CisgICAgICAgIHByaW50ayhYRU5MT0dfRVJSICJpcG1tdTogRmFpbGVkIHRvIGZpbmQg
UFJSIG5vZGVcbiIpOworICAgICAgICByZXR1cm4gZmFsc2U7CisgICAgfQorCisgICAgaWYgKCBk
dF9kZXZpY2VfZ2V0X2FkZHJlc3MobnAsIDAsICZhZGRyLCAmc2l6ZSkgKQorICAgIHsKKyAgICAg
ICAgcHJpbnRrKFhFTkxPR19FUlIgImlwbW11OiBGYWlsZWQgdG8gZ2V0IFBSUiBNTUlPXG4iKTsK
KyAgICAgICAgcmV0dXJuIGZhbHNlOworICAgIH0KKworICAgIGJhc2UgPSBpb3JlbWFwX25vY2Fj
aGUoYWRkciwgc2l6ZSk7CisgICAgaWYgKCAhYmFzZSApCisgICAgeworICAgICAgICBwcmludGso
WEVOTE9HX0VSUiAiaXBtbXU6IEZhaWxlZCB0byBpb3JlbWFwIFBSUiBNTUlPXG4iKTsKKyAgICAg
ICAgcmV0dXJuIGZhbHNlOworICAgIH0KKworICAgIHByb2R1Y3QgPSByZWFkbChiYXNlKTsKKyAg
ICBjdXQgPSBwcm9kdWN0ICYgUkNBUl9DVVRfTUFTSzsKKyAgICBwcm9kdWN0ICY9IFJDQVJfUFJP
RFVDVF9NQVNLOworCisgICAgc3dpdGNoICggcHJvZHVjdCApCisgICAgeworICAgIGNhc2UgUkNB
Ul9QUk9EVUNUX0gzOgorICAgIGNhc2UgUkNBUl9QUk9EVUNUX00zOgorICAgICAgICBpZiAoIGN1
dCA+PSBSQ0FSX0NVVF9WRVIzMCApCisgICAgICAgICAgICBzdGFnZTJfc3VwcG9ydGVkID0gU1VQ
UE9SVEVEOworICAgICAgICBicmVhazsKKworICAgIGNhc2UgUkNBUl9QUk9EVUNUX00zTjoKKyAg
ICAgICAgc3RhZ2UyX3N1cHBvcnRlZCA9IFNVUFBPUlRFRDsKKyAgICAgICAgYnJlYWs7CisKKyAg
ICBkZWZhdWx0OgorICAgICAgICBwcmludGsoWEVOTE9HX0VSUiAiaXBtbXU6IFVuc3VwcG9ydGVk
IFNvQyB2ZXJzaW9uXG4iKTsKKyAgICAgICAgYnJlYWs7CisgICAgfQorCisgICAgaW91bm1hcChi
YXNlKTsKKworICAgIHJldHVybiBzdGFnZTJfc3VwcG9ydGVkID09IFNVUFBPUlRFRDsKK30KKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkdF9kZXZpY2VfbWF0Y2ggaXBtbXVfZHRfbWF0Y2hbXSBfX2lu
aXRjb25zdCA9Cit7CisgICAgRFRfTUFUQ0hfQ09NUEFUSUJMRSgicmVuZXNhcyxpcG1tdS1yOGE3
Nzk1IiksCisgICAgRFRfTUFUQ0hfQ09NUEFUSUJMRSgicmVuZXNhcyxpcG1tdS1yOGE3Nzk2NSIp
LAorICAgIERUX01BVENIX0NPTVBBVElCTEUoInJlbmVzYXMsaXBtbXUtcjhhNzc5NiIpLAorICAg
IHsgLyogc2VudGluZWwgKi8gfSwKK307CisKK3N0YXRpYyBfX2luaXQgaW50IGlwbW11X2luaXQo
c3RydWN0IGR0X2RldmljZV9ub2RlICpub2RlLCBjb25zdCB2b2lkICpkYXRhKQoreworICAgIHN0
YXRpYyBzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgKnJvb3Rfbm9kZSA9IE5VTEw7CisgICAgc3RhdGlj
IGJvb2wgaW5pdF9vbmNlID0gdHJ1ZTsKKyAgICBpbnQgcmV0OworCisgICAgLyoKKyAgICAgKiBF
dmVuIGlmIHRoZSBkZXZpY2UgY2FuJ3QgYmUgaW5pdGlhbGl6ZWQsIHdlIGRvbid0IHdhbnQgdG8g
Z2l2ZQorICAgICAqIHRoZSBJUE1NVSBkZXZpY2UgdG8gZG9tMC4KKyAgICAgKi8KKyAgICBkdF9k
ZXZpY2Vfc2V0X3VzZWRfYnkobm9kZSwgRE9NSURfWEVOKTsKKworICAgIGlmICggIWlvbW11X2hh
cF9wdF9zaGFyZSApCisgICAgeworICAgICAgICBkZXZfZXJyKCZub2RlLT5kZXYsICJQMk0gdGFi
bGUgbXVzdCBhbHdheXMgYmUgc2hhcmVkIGJldHdlZW4gdGhlIENQVSBhbmQgdGhlIElQTU1VXG4i
KTsKKyAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgfQorCisgICAgaWYgKCAhaXBtbXVfc3Rh
Z2UyX3N1cHBvcnRlZCgpICkKKyAgICB7CisgICAgICAgIGRldl9lcnIoJm5vZGUtPmRldiwgIlAy
TSBzaGFyaW5nIGlzIG5vdCBzdXBwb3J0ZWQgaW4gY3VycmVudCBTb0MgcmV2aXNpb25cbiIpOwor
ICAgICAgICByZXR1cm4gLUVPUE5PVFNVUFA7CisgICAgfQorICAgIGVsc2UKKyAgICB7CisgICAg
ICAgIC8qCisgICAgICAgICAqIEFzIDQtbGV2ZWwgdHJhbnNsYXRpb24gdGFibGUgaXMgbm90IHN1
cHBvcnRlZCBpbiBJUE1NVSwgd2UgbmVlZAorICAgICAgICAgKiB0byBjaGVjayBJUEEgc2l6ZSB1
c2VkIGZvciBQMk0gdGFibGUgYmVmb3JlaGFuZCB0byBiZSBzdXJlIGl0IGlzCisgICAgICAgICAq
IDMtbGV2ZWwgYW5kIHRoZSBJUE1NVSB3aWxsIGJlIGFibGUgdG8gdXNlIGl0LgorICAgICAgICAg
KgorICAgICAgICAgKiBUT0RPOiBQcm9iYWJseSwgd2hlbiBkZXRlcm1pbmcgdGhlICJwYV9yYW5n
ZSIgaW4gc2V0dXBfdmlydF9wYWdpbmcoKQorICAgICAgICAgKiB3ZSBzaG91bGQgdGFrZSBpbnRv
IHRoZSBhY2NvdW50IHRoZSBJUE1NVSBhYmlsaXR5IGFzIHdlbGwuCisgICAgICAgICAqLworICAg
ICAgICBpZiAoIElQTU1VX01BWF9QMk1fSVBBX0JJVFMgPCBwMm1faXBhX2JpdHMgKQorICAgICAg
ICB7CisgICAgICAgICAgICBkZXZfZXJyKCZub2RlLT5kZXYsICJQMk0gSVBBIHNpemUgaXMgbm90
IHN1cHBvcnRlZCAoUDJNPSV1IElQTU1VPSV1KSFcbiIsCisgICAgICAgICAgICAgICAgICAgIHAy
bV9pcGFfYml0cywgSVBNTVVfTUFYX1AyTV9JUEFfQklUUyk7CisgICAgICAgICAgICByZXR1cm4g
LUVPUE5PVFNVUFA7CisgICAgICAgIH0KKyAgICB9CisKKyAgICBpZiAoIGluaXRfb25jZSApCisg
ICAgeworICAgICAgICAvKgorICAgICAgICAqIExvb3AgdGhyb3VnaCBhbGwgSVBNTVUgbm9kZXMg
dG8gZmluZCBSb290IElQTU1VIGRldmljZS4gSXQgbXVzdAorICAgICAgICAqIGJlIHByb2JlZCB0
aGUgZmlyc3QuCisgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoaXMgSVBNTVUgbm9kZSBpcyBhIFJv
b3QgZGV2aWNlIGJ5IGNoZWNraW5nIGZvcgorICAgICAgICAqIHRoZSBsYWNrIG9mICJyZW5lc2Fz
LGlwbW11LW1haW4iIHByb3BlcnR5LgorICAgICAgICAqLworICAgICAgICB3aGlsZSAoIChyb290
X25vZGUgPSBkdF9maW5kX21hdGNoaW5nX25vZGUocm9vdF9ub2RlLCBpcG1tdV9kdF9tYXRjaCkp
ICkKKyAgICAgICAgeworICAgICAgICAgICAgaWYgKCAhZHRfZmluZF9wcm9wZXJ0eShyb290X25v
ZGUsICJyZW5lc2FzLGlwbW11LW1haW4iLCBOVUxMKSApCisgICAgICAgICAgICAgICAgYnJlYWs7
CisgICAgICAgIH0KKworICAgICAgICBpbml0X29uY2UgPSBmYWxzZTsKKworICAgICAgICBpZiAo
ICFyb290X25vZGUgKQorICAgICAgICB7CisgICAgICAgICAgICBkZXZfZXJyKCZub2RlLT5kZXYs
ICJGYWlsZWQgdG8gZmluZCBSb290IG5vZGVcbiIpOworICAgICAgICAgICAgcmV0dXJuIC1FTk9E
RVY7CisgICAgICAgIH0KKworICAgICAgICAvKgorICAgICAgICAgKiBQcm9iZSBSb290IElQTU1V
IGJlZm9yZWhhbmQgZGVzcGl0ZSB3aGF0IElQTU1VIGRldmljZSBpcyBiZWluZworICAgICAgICAg
KiBwcm9jZXNzZWQgbm93LgorICAgICAgICAgKi8KKyAgICAgICAgcmV0ID0gaXBtbXVfcHJvYmUo
cm9vdF9ub2RlKTsKKyAgICAgICAgaWYgKCByZXQgKQorICAgICAgICB7CisgICAgICAgICAgICBk
ZXZfZXJyKCZyb290X25vZGUtPmRldiwgIkZhaWxlZCB0byBpbml0IFJvb3QgSVBNTVUgKCVkKVxu
IiwgcmV0KTsKKyAgICAgICAgICAgIHJvb3Rfbm9kZSA9IE5VTEw7CisgICAgICAgICAgICByZXR1
cm4gcmV0OworICAgICAgICB9CisgICAgfQorCisgICAgLyogVGhlcmUgaXMgbm8gc2Vuc2UgaW4g
aW5pdGlhbGl6aW5nIENhY2hlIElQTU1VcyB3aXRob3V0IFJvb3QgSVBNTVUuICovCisgICAgaWYg
KCAhcm9vdF9ub2RlICkKKyAgICAgICAgcmV0dXJuIC1FTk9ERVY7CisKKyAgICAvKiBQcm9iZSBD
YWNoZSBJUE1NVSBhbmQgc2tpcCBhbHJlYWR5IHJlZ2lzdGVyIFJvb3QgSVBNTVUgaWYgc3VjaC4g
Ki8KKyAgICBpZiAoIHJvb3Rfbm9kZSAhPSBub2RlICkKKyAgICB7CisgICAgICAgIHJldCA9IGlw
bW11X3Byb2JlKG5vZGUpOworICAgICAgICBpZiAoIHJldCApCisgICAgICAgIHsKKyAgICAgICAg
ICAgIGRldl9lcnIoJm5vZGUtPmRldiwgIkZhaWxlZCB0byBpbml0IENhY2hlIElQTU1VICglZClc
biIsIHJldCk7CisgICAgICAgICAgICByZXR1cm4gcmV0OworICAgICAgICB9CisgICAgfQorCisg
ICAgaW9tbXVfc2V0X29wcygmaXBtbXVfaW9tbXVfb3BzKTsKKworICAgIHJldHVybiAwOworfQor
CitEVF9ERVZJQ0VfU1RBUlQoaXBtbXUsICJSZW5lc2FzIElQTU1VLVZNU0EiLCBERVZJQ0VfSU9N
TVUpCisgICAgLmR0X21hdGNoID0gaXBtbXVfZHRfbWF0Y2gsCisgICAgLmluaXQgPSBpcG1tdV9p
bml0LAorRFRfREVWSUNFX0VORAorCisvKgorICogTG9jYWwgdmFyaWFibGVzOgorICogbW9kZTog
QworICogYy1maWxlLXN0eWxlOiAiQlNEIgorICogYy1iYXNpYy1vZmZzZXQ6IDQKKyAqIGluZGVu
dC10YWJzLW1vZGU6IG5pbAorICogRW5kOgorICovCi0tIAoyLjcuNAoKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QK
WGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5v
cmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

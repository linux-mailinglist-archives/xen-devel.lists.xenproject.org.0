Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id B6E88D7CBD
	for <lists+xen-devel@lfdr.de>; Tue, 15 Oct 2019 19:02:30 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iKQ9y-0000nN-F0; Tue, 15 Oct 2019 16:58:58 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=G1dy=YI=eikelenboom.it=linux@srs-us1.protection.inumbo.net>)
 id 1iKQ9x-0000nI-1a
 for xen-devel@lists.xenproject.org; Tue, 15 Oct 2019 16:58:57 +0000
X-Inumbo-ID: 11f7093c-ef6d-11e9-9398-12813bfff9fa
Received: from server.eikelenboom.it (unknown [91.121.65.215])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 11f7093c-ef6d-11e9-9398-12813bfff9fa;
 Tue, 15 Oct 2019 16:58:54 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed;
 d=eikelenboom.it; s=20180706; h=Content-Transfer-Encoding:Content-Type:
 In-Reply-To:MIME-Version:Date:Message-ID:From:References:Cc:To:Subject:Sender
 :Reply-To:Content-ID:Content-Description:Resent-Date:Resent-From:
 Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:List-Help:
 List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=eZ4qRiTJ4m88xDWulPMYzW8jUefLmtUbhjtMgfAirks=; b=TIIc5Y2PI5vQmjGASZTmthIyPy
 QDkNUyTPWa+0ZoD62xuMULGFeXi/r7Zs99HIrh/DsSWV+fQYqCH2HgTz95IdvR5iexkREHrGxkdC9
 xGfyM0SheypQr3LDAdvbniadwtbBbupcyQtE1Tp/6L465bQtScWKPS6ixTBTG7jmAK4c=;
Received: from ip4da85049.direct-adsl.nl ([77.168.80.73]:41830
 helo=[172.16.1.50]) by server.eikelenboom.it with esmtpsa
 (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128) (Exim 4.92)
 (envelope-from <linux@eikelenboom.it>)
 id 1iKQAY-0002tr-Jl; Tue, 15 Oct 2019 18:59:34 +0200
To: Chao Gao <chao.gao@intel.com>
References: <20190930172327.784520-1-anthony.perard@citrix.com>
 <20190930172327.784520-3-anthony.perard@citrix.com>
 <20191001103522.GG1163@perard.uk.xensource.com>
 <d12ee001-7f8e-4482-2a78-9cb1fd2d7530@eikelenboom.it>
 <20191014150341.GA12156@gao-cwp>
From: Sander Eikelenboom <linux@eikelenboom.it>
Message-ID: <4997c3f2-d0cd-c23b-4125-9cc4c7f4f3b2@eikelenboom.it>
Date: Tue, 15 Oct 2019 18:59:37 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191014150341.GA12156@gao-cwp>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH 2/2] libxl_pci: Fix guest shutdown with PCI
 PT attached
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Anthony PERARD <anthony.perard@citrix.com>, xen-devel@lists.xenproject.org,
 Wei Liu <wl@xen.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTQvMTAvMjAxOSAxNzowMywgQ2hhbyBHYW8gd3JvdGU6Cj4gT24gVGh1LCBPY3QgMTAsIDIw
MTkgYXQgMDY6MTM6NDNQTSArMDIwMCwgU2FuZGVyIEVpa2VsZW5ib29tIHdyb3RlOgo+PiBPbiAw
MS8xMC8yMDE5IDEyOjM1LCBBbnRob255IFBFUkFSRCB3cm90ZToKPj4+IFJld3JpdGUgb2YgdGhl
IGNvbW1pdCBtZXNzYWdlOgo+Pj4KPj4+IEJlZm9yZSB0aGUgcHJvYmxlbWF0aWMgY29tbWl0LCBs
aWJ4bCB1c2VkIHRvIGlnbm9yZSBlcnJvciB3aGVuCj4+PiBkZXN0cm95aW5nIChmb3JjZSA9PSB0
cnVlKSBhIHBhc3N0aHJvdWdoIGRldmljZSwgZXNwZWNpYWxseSBlcnJvciB0aGF0Cj4+PiBoYXBw
ZW5zIHdoZW4gZGVhbGluZyB3aXRoIHRoZSBETS4KPj4+Cj4+PiBTaW5jZSBmYWU0ODgwYzQ1ZmUs
IGlmIHRoZSBETSBmYWlsZWQgdG8gZGV0YWNoIHRoZSBwY2kgZGV2aWNlIHdpdGhpbgo+Pj4gdGhl
IGFsbG93ZWQgdGltZSwgdGhlIHRpbWVkIG91dCBlcnJvciByYWlzZWQgc2tpcCBwYXJ0IG9mCj4+
PiBwY2lfcmVtb3ZlXyosIGJ1dCBhbHNvIHJhaXNlIHRoZSBlcnJvciB1cCB0byB0aGUgY2FsbGVy
IG9mCj4+PiBsaWJ4bF9fZGV2aWNlX3BjaV9kZXN0cm95X2FsbCwgbGlieGxfX2Rlc3Ryb3lfZG9t
aWQsIGFuZCB0aHVzIHRoZQo+Pj4gZGVzdHJ1Y3Rpb24gb2YgdGhlIGRvbWFpbiBmYWlscy4KPj4+
Cj4+PiBJbiB0aGlzIHBhdGNoLCBpZiB0aGUgRE0gZGlkbid0IGNvbmZpcm1lZCB0aGF0IHRoZSBk
ZXZpY2UgaXMgcmVtb3ZlZCwKPj4+IHdlIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGFuZCBrZWVwIGdv
aW5nIGlmIGZvcmNlPXRydWUuICBUaGUgcGF0Y2gKPj4+IHJlb3JkZXIgdGhlIGZ1bmN0aW9ucyBz
byB0aGF0IHBjaV9yZW1vdmVfdGltZW91dCgpIGNhbGxzCj4+PiBwY2lfcmVtb3ZlX2RldGF0Y2hl
ZCgpIGxpa2UgaXQncyBkb25lIHdoZW4gRE0gY2FsbHMgYXJlIHN1Y2Nlc3NmdWwuCj4+Pgo+Pj4g
V2UgYWxzbyBjbGVhbiB0aGUgUU1QIHN0YXRlcyBhbmQgYXNzb2NpYXRlZCB0aW1lb3V0cyBlYXJs
aWVyLCBhcyBzb29uCj4+PiBhcyB0aGV5IGFyZSBub3QgbmVlZGVkIGFueW1vcmUuCj4+Pgo+Pj4g
UmVwb3J0ZWQtYnk6IFNhbmRlciBFaWtlbGVuYm9vbSA8bGludXhAZWlrZWxlbmJvb20uaXQ+Cj4+
PiBGaXhlczogZmFlNDg4MGM0NWZlMDE1ZTU2N2FmYTIyM2Y3OGJmMTdhNmQ5OGUxYgo+Pj4gU2ln
bmVkLW9mZi1ieTogQW50aG9ueSBQRVJBUkQgPGFudGhvbnkucGVyYXJkQGNpdHJpeC5jb20+Cj4+
Pgo+Pgo+PiBIaSBBbnRob255IC8gQ2hhbywKPj4KPj4gSSBoYXZlIHRvIGNvbWUgYmFjayB0byB0
aGlzLCBhIGJpdCBiZWNhdXNlIHBlcmhhcHMgdGhlcmUgaXMgYW4gdW5kZXJseWluZyBpc3N1ZS4K
Pj4gV2hpbGUgaXQgZWFybGllciBvY2N1cnJlZCB0byBtZSB0aGF0IHRoZSBWTSB0byB3aGljaCBJ
IHBhc3NlZCB0aHJvdWdoIG1vc3QgcGNpLWRldmljZXMgCj4+ICg4IHRvIGJlIGV4YWN0KSBiZWNh
bWUgdmVyeSBzbG93IHRvIHNodXRkb3duLCBidXQgSSAgZGlkbid0IGludmVzdGlnYXRlIGl0IGZ1
cnRoZXIuCj4+Cj4+IEJ1dCBhZnRlciB5b3UgY29tbWl0IG1lc3NhZ2VzIGZyb20gdGhpcyBwYXRj
aCBpdCBrZXB0IG5hZ2dpbmcsIHNvIHRvZGF5IEkgZGlkIHNvbWUgdGVzdGluZwo+PiBhbmQgYmlz
ZWN0aW5nLgo+Pgo+PiBUaGUgZGlmZmVyZW5jZSBpbiB0ZWFyLWRvd24gdGltZSBhdCBsZWFzdCBm
cm9tIHdoYXQgdGhlIElPTU1VIGNvZGUgbG9ncyBpcyBxdWl0ZSBsYXJnZToKPj4KPj4geGVuLTQu
MTIuMAo+PiAJU2V0dXA6IAkgICAgNy40NTIgcwo+PiAJVGVhci1kb3duOiAgNy42MjYgcwo+Pgo+
PiB4ZW4tdW5zdGFibGUtZWU3MTcwODIyZjFmYzIwOWYzM2ZlYjQ3YjI2OGJhYjM1NTQxMzUxZAo+
PiAJU2V0dXA6ICAgICAgNy40Njggcwo+PiAJVGVhci1kb3duOiA1MC4yMzkgcwo+Pgo+PiBCaXNl
Y3Rpb24gdHVybmVkIHVwOgo+PiAJY29tbWl0IGM0YjFlZjBmODlhYTZhNzRmYWE0NjE4Y2UzZWZl
ZDFkZTI0NmVjNDAKPj4gCUF1dGhvcjogQ2hhbyBHYW8gPGNoYW8uZ2FvQGludGVsLmNvbT4KPj4g
CURhdGU6ICAgRnJpIEp1bCAxOSAxMDoyNDowOCAyMDE5ICswMTAwCj4+IAlsaWJ4bF9xbXA6IHdh
aXQgZm9yIGNvbXBsZXRpb24gb2YgZGV2aWNlIHJlbW92YWwKPj4KPj4gV2hpY2ggbWFrZXMgbWUg
d29uZGVyIGlmIHRoZXJlIGlzIHNvbWV0aGluZyBnb2luZyB3cm9uZyBpbiBRZW11ID8KIAo+IEhp
IFNhbmRlciwKSGkgQ2hhbywKCj4gCj4gVGhhbmtzIGZvciB5b3VyIHRlc3RpbmcgYW5kIHRoZSBi
aXNlY3Rpb24uCj4gCj4gSSB0cmllZCBvbiBteSBtYWNoaW5lLCB0aGUgZGVzdHJ1Y3Rpb24gdGlt
ZSBvZiBhIGd1ZXN0IHdpdGggOCBwYXNzLXRocnUKPiBkZXZpY2VzIGluY3JlYXNlZCBmcm9tIDRz
IHRvIDEycyBhZnRlciBhcHBsaWVkIHRoZSBjb21taXQgYWJvdmUuCgpUbyB3aGF0IHBhdGNoIGFy
ZSB5b3UgcmVmZXJyaW5nIEFudGhvbnkncyBvciBjNGIxZWYwZjg5YWE2YTc0ZmFhNDYxOGNlM2Vm
ZWQxZGUyNDZlYzQwID8KCj4gSW4gbXkgdW5kZXJzdGFuZGluZywgSSBndWVzcyB5b3UgbWlnaHQg
Z2V0IHRoZSBlcnJvciBtZXNzYWdlICJ0aW1lZCBvdXQKPiB3YWl0aW5nIGZvciBETSB0byByZW1v
dmUuLi4iLiBUaGVyZSBtaWdodCBiZSBzb21lIGlzc3VlcyBvbiB5b3VyIGFzc2lnbmVkCj4gZGV2
aWNlcycgZHJpdmVycy4gWW91IGNhbiBmaXJzdCB1bmJpbmQgdGhlIGRldmljZXMgd2l0aCB0aGVp
ciBkcml2ZXJzIGluCj4gVk0gYW5kIHRoZW4gdGVhciBkb3duIHRoZSBWTSwgYW5kIGNoZWNrIHdo
ZXRoZXIgdGhlIFZNIHRlYXJkb3duIGdldHMKPiBtdWNoIGZhc3Rlci4KCkkgZ2V0IHRoYXQgZXJy
b3IgbWVzc2FnZSB3aGVuIEkgdGVzdCB3aXRoIEFudGhvbnkncyBwYXRjaCBhcHBsaWVkLCB0aGUg
ZGVzdHJ1Y3Rpb24gdGltZSB3aXRoIHRoYXQgcGF0Y2ggaXMgbG93LgoKSG93IGV2ZXIgbXkgcG9p
bnQgd2FzIGlmIHRoYXQgcGF0Y2ggaXMgY29ycmVjdCBpbiB0aGUgc2Vuc2UgdGhhdCB0aGVyZSBz
ZWVtcyB0byBiZSBhbiB1bmRlcmx5aW5nIGlzc3VlIAp3aGljaCBjYXVzZXMgaXQgdG8gdGFrZSBz
byBsb25nLiBUaGF0IGlzc3VlIHdhcyB1bmNvdmVyZWQgYnkgYzRiMWVmMGY4OWFhNmE3NGZhYTQ2
MThjZTNlZmVkMWRlMjQ2ZWM0MCwgc28gSSdtIG5vdApzYXlpbmcgdGhhdCBjb21taXQgaXMgd3Jv
bmcgaW4gYW55IHNlbnNlLCBpdCBqdXN0IHVuY292ZXJlZCBhbm90aGVyIGlzc3VlIHRoYXQgd2Fz
IGFscmVhZHkgcHJlc2VudCwKYnV0IGhhcmQgdG8gZGV0ZWN0IGFzIHdlIGp1c3QgZGlkbid0IHdh
aXQgYXQgZGVzdHJ1Y3Rpb24gdGltZSAoYW5kIHRodXMgdGhlIHNhbWUgZWZmZWN0IGFzIGEgdGlt
ZW91dCkuCgpPbmUgb3IgdGhlIG90aGVyIHdheSB0aGF0IHdhcyBqdXN0IGEgbWlub3IgaXNzdWUg
dW50aWwgZmFlNDg4MGM0NWZlMDE1ZTU2N2FmYTIyM2Y3OGJmMTdhNmQ5OGUxYiwgd2hlcmUgdGhl
IGxvbmcKZGVzdHJ1Y3Rpb24gdGltZSBub3cgY2F1c2VkIHRoZSBkb21haW4gZGVzdHJ1Y3Rpb24g
dG8gc3RhbGwsIHdoaWNoIHdhcyB0aGVuIGZpeGVkIGJ5IEFudG9ueSdzIHBhdGNoLCBidXQgdGhh
dCB1c2VzCmEgdGltZW91dCB3aGljaCBraW5kcyBvZiBjaXJjdW12ZW50cyB0aGUgaXNzdWUsIGlu
c3RlYWQgb2YgZmluZGluZyBvdXQgd2hlcmUgaXMgY29tZXMgZnJvbSBhbmQgc29sdmUgaXQgdGhl
cmUgKAppZiB0aGF0IGlzIHBvc3NpYmxlIG9mIGNvdXJzZSkuCgpBbmQgSSB3b25kZXIgaWYgQW50
aG9ueSdzIHBhdGNoIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggdGhlIGNhc2UgeW91IG1hZGUgYzRi
MWVmMGY4OWFhNmE3NGZhYTQ2MThjZTNlZmVkMWRlMjQ2ZWM0MCBmb3IsIAppZiB5b3UgZ2V0IHRo
ZSB0aW1lb3V0IGVycm9yIG1lc3NhZ2UgYXMgd2VsbCwgdGhlbiB0aGF0IGlzIGtpbmQgb2Ygbm90
IHdhaXRpbmcgZm9yIHRoZSBkZXN0cnVjdGlvbiB0byBmaW5pc2gsIGlzbid0IGl0ID8KCkNoYW8s
IApjb3VsZCB5b3UgcGVyaGFwcyB0ZXN0IGZvciBtZSBYZW4gd2l0aCBhcyBsYXRlc3QgY29tbWl0
IGVlNzE3MDgyMmYxZmMyMDlmMzNmZWI0N2IyNjhiYWIzNTU0MTM1MWQgPwpUaGF0IGlzIGJlZm9y
ZSBBbnRob255J3MgcGF0Y2ggc2VyaWVzLCBidXQgYWZ0ZXIgeW91ciBjNGIxZWYwZjg5YWE2YTc0
ZmFhNDYxOGNlM2VmZWQxZGUyNDZlYzQwLgoKSSB3b3VsZCBleHBlY3QgdG8gc2VlIGxvbmdlciBk
ZXN0cnVjdGlvbiB0aW1lcyBpbiB0aGUgY2FzZSBvZiA4IHBhc3MtdGhyb3VoIGRldmljZXMgYXMg
d2VsbC4KClVuZm9ydHVuYXRlbHkgUWVtdSBkb2Vzbid0IHNlZW0gdG8gZG8gbXVjaCB2ZXJib3Nl
IGxvZ2dpbmcgZXZlbiB3aGVuIGkgZW5hYmxlIHRoZSBkZWJ1ZyBkZWZpbmVzIGluIGh3L3hlbiwK
ZXNwZWNpYWxseSBmb3IgdGhlIGRlc3RydWN0aW9uIHNpZGUgb2YgdGhpbmdzIChpdCBtb3N0bHkg
bG9ncyBzZXR0aW5nIHVwIHN0dWZmKS4KCi0tClNhbmRlcgogCgoKCj4gQW50aG9ueSAmIFdlaSwK
PiAKPiBUaGUgY29tbWl0IGFib3ZlIGJhc2ljYWxseSBzZXJpYWxpemVzIGFuZCBzeW5jaHJvbml6
ZXMgZGV0YWNoaW5nCj4gYXNzaWduZWQgZGV2aWNlcyBhbmQgdGh1cyBpbmNyZWFzZXMgVk0gdGVh
cmRvd24gdGltZSBzaWduaWZpY2FudGx5IGlmCj4gdGhlcmUgYXJlIG11bHRpcGxlIGFzc2lnbmVk
IGRldmljZXMuIFRoZSBjb21taXQgYWltZWQgdG8gYXZvaWQgcWVtdSdzCj4gYWNjZXNzIHRvIFBD
SSBjb25maWd1cmF0aW9uIHNwYWNlIGNvaW5jaWRpbmcgd2l0aCB0aGUgZGV2aWNlIHJlc2V0Cj4g
aW5pdGlhdGVkIGJ5IHhsICh3aGljaCBpcyBub3QgZGVzaXJlZCBhbmQgaXMgZXhhY3RseSB0aGUg
Y2FzZSB3aGljaAo+IHRyaWdnZXJzIHRoZSBhc3NlcnRpb24gaW4gWGVuIFsxXSkuIEkgcGVyc29u
YWxseSBpbnNpc3QgdGhhdCB4bCBzaG91bGQKPiB3YWl0IGZvciBETSdzIGNvbXBsZXRpb24gb2Yg
ZGV2aWNlIGRldGFjaGluZy4gT3RoZXJ3aXNlLCBiZXNpZGVzIFhlbgo+IHBhbmljICh3aGljaCBj
YW4gYmUgZml4ZWQgaW4gYW5vdGhlciB3YXkpLCBpbiB0aGVvcnksIHN1Y2ggc3VkZGVuCj4gdW5h
d2FyZWQgZGV2aWNlIHJlc2V0IG1pZ2h0IGNhdXNlIGEgZGlzYXN0ZXIgKGUuZy4gZGF0YSBsb3Nz
IGZvciBhCj4gc3RvcmFnZSBkZXZpY2UpLgo+IAo+IFsxXTogaHR0cHM6Ly9saXN0cy54ZW5wcm9q
ZWN0Lm9yZy9hcmNoaXZlcy9odG1sL3hlbi1kZXZlbC8yMDE5LTA5L21zZzAzMjg3Lmh0bWwKPiAK
PiBCdXQgY29uc2lkZXJpbmcgZmFzdCBjcmVhdGlvbiBhbmQgdGVhcmRvd24gaXMgYW4gaW1wb3J0
YW50IGJlbmVmaXQgb2YKPiB2aXJ0dWFsaXphdGlvbiwgSSBhbSBub3Qgc3VyZSBob3cgdG8gZGVh
bCB3aXRoIHRoZSBzaXR1YXRpb24uIEFueXdheSwKPiB5b3UgY2FuIG1ha2UgdGhlIGRlY2lzaW9u
LiBUbyBmaXggdGhlIHJlZ3Jlc3Npb24gb24gVk0gdGVhcmRvd24sIHdlIGNhbgo+IHJldmVydCB0
aGUgY29tbWl0IGJ5IHJlbW92aW5nIHRoZSB0aW1lb3V0IGxvZ2ljLgo+IAo+IFdoYXQncyB5b3Vy
IG9waW5pb24/Cj4gCj4gVGhhbmtzCj4gQ2hhbwo+IAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxA
bGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFu
L2xpc3RpbmZvL3hlbi1kZXZlbA==

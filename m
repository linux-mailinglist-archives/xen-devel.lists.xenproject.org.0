Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 53F48B2AA8
	for <lists+xen-devel@lfdr.de>; Sat, 14 Sep 2019 10:56:34 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i93p7-0001An-QO; Sat, 14 Sep 2019 08:54:29 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=rDpt=XJ=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1i93p5-00018A-Vl
 for xen-devel@lists.xenproject.org; Sat, 14 Sep 2019 08:54:28 +0000
X-Inumbo-ID: 13d0118a-d6cd-11e9-b76c-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 13d0118a-d6cd-11e9-b76c-bc764e2007e4;
 Sat, 14 Sep 2019 08:53:14 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id BF8D5AF40;
 Sat, 14 Sep 2019 08:53:09 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Sat, 14 Sep 2019 10:52:51 +0200
Message-Id: <20190914085251.18816-48-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20190914085251.18816-1-jgross@suse.com>
References: <20190914085251.18816-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v3 47/47] xen/sched: add scheduling granularity
 enum
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 Julien Grall <julien.grall@arm.com>, Jan Beulich <jbeulich@suse.com>,
 Dario Faggioli <dfaggioli@suse.com>,
 =?UTF-8?q?Roger=20Pau=20Monn=C3=A9?= <roger.pau@citrix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QWRkIGEgc2NoZWR1bGluZyBncmFudWxhcml0eSBlbnVtICgiY3B1IiwgImNvcmUiLCAic29ja2V0
IikgZm9yCnNwZWNpZmljYXRpb24gb2YgdGhlIHNjaGVkdWxpbmcgZ3JhbnVsYXJpdHkuIEluaXRp
YWxseSBpdCBpcyBzZXQgdG8KImNwdSIsIHRoaXMgY2FuIGJlIG1vZGlmaWVkIGJ5IHRoZSBuZXcg
Ym9vdCBwYXJhbWV0ZXIgKHg4NiBvbmx5KQoic2NoZWQtZ3JhbiIuCgpBY2NvcmRpbmcgdG8gdGhl
IHNlbGVjdGVkIGdyYW51bGFyaXR5IHNjaGVkX2dyYW51bGFyaXR5IGlzIHNldCBhZnRlcgphbGwg
Y3B1cyBhcmUgb25saW5lLgoKQSB0ZXN0IGlzIGFkZGVkIGZvciBhbGwgc2NoZWQgcmVzb3VyY2Vz
IGhvbGRpbmcgdGhlIHNhbWUgbnVtYmVyIG9mCmNwdXMuIEZhbGwgYmFjayB0byBjb3JlLSBvciBj
cHUtc2NoZWR1bGluZyBpbiB0aGF0IGNhc2UuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3Nz
IDxqZ3Jvc3NAc3VzZS5jb20+Ci0tLQpSRkMgVjI6Ci0gZml4ZWQgZnJlZWluZyBvZiBzY2hlZF9y
ZXMgd2hlbiBtZXJnaW5nIGNwdXMKLSByZW5hbWUgcGFyYW1ldGVyIHRvICJzY2hlZC1ncmFuIiAo
SmFuIEJldWxpY2gpCi0gcmVuYW1lIHBhcmFtZXRlciBvcHRpb24gZnJvbSAidGhyZWFkIiB0byAi
Y3B1IiAoSmFuIEJldWxpY2gpCgpWMToKLSByZW5hbWUgc2NoZWR1bGVyX3NtcF9pbml0KCkgdG8g
c2NoZWR1bGVyX2dyYW5faW5pdCgpLCBsZXQgaXQgYmUgY2FsbGVkCiAgYnkgY3B1cG9vbF9pbml0
KCkKLSBhdm9pZCB1c2luZyBsaXRlcmFsIGNwdSBudW1iZXIgMCBpbiBzY2hlZHVsZXJfcGVyY3B1
X2luaXQoKSAoSmFuIEJldWxpY2gpCi0gc3R5bGUgY29ycmVjdGlvbiAoSmFuIEJldWxpY2gpCi0g
ZmFsbGJhY2sgdG8gc21hbGxlciBncmFudWxhcml0eSBpbnN0ZWFkIG9mIHBhbmljIGluIGNhc2Ug
b2YKICB1bmJhbGFuY2VkIGNwdSBjb25maWd1cmF0aW9uCgpWMjoKLSBzdHlsZSBjaGFuZ2VzIChK
YW4gQmV1bGljaCkKLSBpbnRyb2R1Y2UgQ09ORklHX0hBU19TQ0hFRF9HUkFOVUxBUklUWSAoSmFu
IEJldWxpY2gpCi0tLQogeGVuL2FyY2gveDg2L0tjb25maWcgICAgICAgfCAgMSArCiB4ZW4vY29t
bW9uL0tjb25maWcgICAgICAgICB8ICAzICsrCiB4ZW4vY29tbW9uL2NwdXBvb2wuYyAgICAgICB8
ICAyICsrCiB4ZW4vY29tbW9uL3NjaGVkdWxlLmMgICAgICB8IDc4ICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIHhlbi9pbmNsdWRlL3hlbi9zY2hlZC1pZi5o
IHwgIDEgKwogNSBmaWxlcyBjaGFuZ2VkLCA4NSBpbnNlcnRpb25zKCspCgpkaWZmIC0tZ2l0IGEv
eGVuL2FyY2gveDg2L0tjb25maWcgYi94ZW4vYXJjaC94ODYvS2NvbmZpZwppbmRleCAyODhkYzZj
MDQyLi4zZjg4YWRhZTk3IDEwMDY0NAotLS0gYS94ZW4vYXJjaC94ODYvS2NvbmZpZworKysgYi94
ZW4vYXJjaC94ODYvS2NvbmZpZwpAQCAtMjIsNiArMjIsNyBAQCBjb25maWcgWDg2CiAJc2VsZWN0
IEhBU19QQVNTVEhST1VHSAogCXNlbGVjdCBIQVNfUENJCiAJc2VsZWN0IEhBU19QRFgKKwlzZWxl
Y3QgSEFTX1NDSEVEX0dSQU5VTEFSSVRZCiAJc2VsZWN0IEhBU19VQlNBTgogCXNlbGVjdCBIQVNf
VlBDSSBpZiAhUFZfU0hJTV9FWENMVVNJVkUgJiYgSFZNCiAJc2VsZWN0IE5FRURTX0xJQkVMRgpk
aWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9LY29uZmlnIGIveGVuL2NvbW1vbi9LY29uZmlnCmluZGV4
IDE2ODI5ZjYyNzQuLmU5MjQ3ODcxYTggMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vS2NvbmZpZwor
KysgYi94ZW4vY29tbW9uL0tjb25maWcKQEAgLTYzLDYgKzYzLDkgQEAgY29uZmlnIEhBU19HREJT
WAogY29uZmlnIEhBU19JT1BPUlRTCiAJYm9vbAogCitjb25maWcgSEFTX1NDSEVEX0dSQU5VTEFS
SVRZCisJYm9vbAorCiBjb25maWcgTkVFRFNfTElCRUxGCiAJYm9vbAogCmRpZmYgLS1naXQgYS94
ZW4vY29tbW9uL2NwdXBvb2wuYyBiL3hlbi9jb21tb24vY3B1cG9vbC5jCmluZGV4IDdmMTczZjUw
OTkuLjQyMjZmN2RlZDggMTAwNjQ0Ci0tLSBhL3hlbi9jb21tb24vY3B1cG9vbC5jCisrKyBiL3hl
bi9jb21tb24vY3B1cG9vbC5jCkBAIC04NjYsNiArODY2LDggQEAgc3RhdGljIGludCBfX2luaXQg
Y3B1cG9vbF9pbml0KHZvaWQpCiAgICAgdW5zaWduZWQgaW50IGNwdTsKICAgICBpbnQgZXJyOwog
CisgICAgc2NoZWR1bGVyX2dyYW5faW5pdCgpOworCiAgICAgY3B1cG9vbDAgPSBjcHVwb29sX2Ny
ZWF0ZSgwLCAwLCAmZXJyKTsKICAgICBCVUdfT04oY3B1cG9vbDAgPT0gTlVMTCk7CiAgICAgY3B1
cG9vbF9wdXQoY3B1cG9vbDApOwpkaWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9zY2hlZHVsZS5jIGIv
eGVuL2NvbW1vbi9zY2hlZHVsZS5jCmluZGV4IDgwMGQyNDA1YTcuLmI5NDAwODNhMjYgMTAwNjQ0
Ci0tLSBhL3hlbi9jb21tb24vc2NoZWR1bGUuYworKysgYi94ZW4vY29tbW9uL3NjaGVkdWxlLmMK
QEAgLTM0LDYgKzM0LDcgQEAKICNpbmNsdWRlIDx4ZW4vY3B1Lmg+CiAjaW5jbHVkZSA8eGVuL3By
ZWVtcHQuaD4KICNpbmNsdWRlIDx4ZW4vZXZlbnQuaD4KKyNpbmNsdWRlIDx4ZW4vd2FybmluZy5o
PgogI2luY2x1ZGUgPHB1YmxpYy9zY2hlZC5oPgogI2luY2x1ZGUgPHhzbS94c20uaD4KICNpbmNs
dWRlIDx4ZW4vZXJyLmg+CkBAIC02MSw2ICs2MiwyMyBAQCB1bnNpZ25lZCBpbnQgX19yZWFkX21v
c3RseSBzY2hlZF9ncmFudWxhcml0eSA9IDE7CiBib29sIF9fcmVhZF9tb3N0bHkgc2NoZWRfZGlz
YWJsZV9zbXRfc3dpdGNoaW5nOwogY3B1bWFza192YXJfdCBzY2hlZF9yZXNfbWFzazsKIAorI2lm
ZGVmIENPTkZJR19IQVNfU0NIRURfR1JBTlVMQVJJVFkKK3N0YXRpYyBpbnQgX19pbml0IHNjaGVk
X3NlbGVjdF9ncmFudWxhcml0eShjb25zdCBjaGFyICpzdHIpCit7CisgICAgaWYgKCBzdHJjbXAo
ImNwdSIsIHN0cikgPT0gMCApCisgICAgICAgIG9wdF9zY2hlZF9ncmFudWxhcml0eSA9IFNDSEVE
X0dSQU5fY3B1OworICAgIGVsc2UgaWYgKCBzdHJjbXAoImNvcmUiLCBzdHIpID09IDAgKQorICAg
ICAgICBvcHRfc2NoZWRfZ3JhbnVsYXJpdHkgPSBTQ0hFRF9HUkFOX2NvcmU7CisgICAgZWxzZSBp
ZiAoIHN0cmNtcCgic29ja2V0Iiwgc3RyKSA9PSAwICkKKyAgICAgICAgb3B0X3NjaGVkX2dyYW51
bGFyaXR5ID0gU0NIRURfR1JBTl9zb2NrZXQ7CisgICAgZWxzZQorICAgICAgICByZXR1cm4gLUVJ
TlZBTDsKKworICAgIHJldHVybiAwOworfQorY3VzdG9tX3BhcmFtKCJzY2hlZC1ncmFuIiwgc2No
ZWRfc2VsZWN0X2dyYW51bGFyaXR5KTsKKyNlbmRpZgorCiAvKiBDb21tb24gbG9jayBmb3IgZnJl
ZSBjcHVzLiAqLwogc3RhdGljIERFRklORV9TUElOTE9DSyhzY2hlZF9mcmVlX2NwdV9sb2NrKTsK
IApAQCAtMjYxNyw2ICsyNjM1LDY2IEBAIHZvaWQgc2NoZWR1bGVyX2VuYWJsZSh2b2lkKQogICAg
IHNjaGVkdWxlcl9hY3RpdmUgPSB0cnVlOwogfQogCitzdGF0aWMgdW5zaWduZWQgaW50IF9faW5p
dCBzY2hlZF9jaGVja19ncmFudWxhcml0eSh2b2lkKQoreworICAgIHVuc2lnbmVkIGludCBjcHU7
CisgICAgdW5zaWduZWQgaW50IHNpYmxpbmdzLCBncmFuID0gMDsKKworICAgIGlmICggb3B0X3Nj
aGVkX2dyYW51bGFyaXR5ID09IFNDSEVEX0dSQU5fY3B1ICkKKyAgICAgICAgcmV0dXJuIDE7CisK
KyAgICBmb3JfZWFjaF9vbmxpbmVfY3B1ICggY3B1ICkKKyAgICB7CisgICAgICAgIHNpYmxpbmdz
ID0gY3B1bWFza193ZWlnaHQoc2NoZWRfZ2V0X29wdF9jcHVtYXNrKG9wdF9zY2hlZF9ncmFudWxh
cml0eSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY3B1KSk7CisgICAgICAgIGlmICggZ3JhbiA9PSAwICkKKyAgICAgICAgICAgIGdyYW4g
PSBzaWJsaW5nczsKKyAgICAgICAgZWxzZSBpZiAoIGdyYW4gIT0gc2libGluZ3MgKQorICAgICAg
ICAgICAgcmV0dXJuIDA7CisgICAgfQorCisgICAgc2NoZWRfZGlzYWJsZV9zbXRfc3dpdGNoaW5n
ID0gdHJ1ZTsKKworICAgIHJldHVybiBncmFuOworfQorCisvKiBTZXR1cCBkYXRhIGZvciBzZWxl
Y3RlZCBzY2hlZHVsZXIgZ3JhbnVsYXJpdHkuICovCit2b2lkIF9faW5pdCBzY2hlZHVsZXJfZ3Jh
bl9pbml0KHZvaWQpCit7CisgICAgdW5zaWduZWQgaW50IGdyYW4gPSAwOworICAgIGNvbnN0IGNo
YXIgKmZhbGxiYWNrID0gTlVMTDsKKworICAgIHdoaWxlICggZ3JhbiA9PSAwICkKKyAgICB7Cisg
ICAgICAgIGdyYW4gPSBzY2hlZF9jaGVja19ncmFudWxhcml0eSgpOworCisgICAgICAgIGlmICgg
Z3JhbiA9PSAwICkKKyAgICAgICAgeworICAgICAgICAgICAgc3dpdGNoICggb3B0X3NjaGVkX2dy
YW51bGFyaXR5ICkKKyAgICAgICAgICAgIHsKKyAgICAgICAgICAgIGNhc2UgU0NIRURfR1JBTl9j
b3JlOgorICAgICAgICAgICAgICAgIG9wdF9zY2hlZF9ncmFudWxhcml0eSA9IFNDSEVEX0dSQU5f
Y3B1OworICAgICAgICAgICAgICAgIGZhbGxiYWNrID0gIkFzeW1tZXRyaWMgY3B1IGNvbmZpZ3Vy
YXRpb24uXG4iCisgICAgICAgICAgICAgICAgICAgICAgICAgICAiRmFsbGluZyBiYWNrIHRvIHNj
aGVkLWdyYW49Y3B1LlxuIjsKKyAgICAgICAgICAgICAgICBicmVhazsKKyAgICAgICAgICAgIGNh
c2UgU0NIRURfR1JBTl9zb2NrZXQ6CisgICAgICAgICAgICAgICAgb3B0X3NjaGVkX2dyYW51bGFy
aXR5ID0gU0NIRURfR1JBTl9jb3JlOworICAgICAgICAgICAgICAgIGZhbGxiYWNrID0gIkFzeW1t
ZXRyaWMgY3B1IGNvbmZpZ3VyYXRpb24uXG4iCisgICAgICAgICAgICAgICAgICAgICAgICAgICAi
RmFsbGluZyBiYWNrIHRvIHNjaGVkLWdyYW49Y29yZS5cbiI7CisgICAgICAgICAgICAgICAgYnJl
YWs7CisgICAgICAgICAgICBkZWZhdWx0OgorICAgICAgICAgICAgICAgIEFTU0VSVF9VTlJFQUNI
QUJMRSgpOworICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAgfQorICAgICAgICB9
CisgICAgfQorCisgICAgaWYgKCBmYWxsYmFjayApCisgICAgICAgIHdhcm5pbmdfYWRkKGZhbGxi
YWNrKTsKKworICAgIHNjaGVkX2dyYW51bGFyaXR5ID0gZ3JhbjsKK30KKwogLyogSW5pdGlhbGlz
ZSB0aGUgZGF0YSBzdHJ1Y3R1cmVzLiAqLwogdm9pZCBfX2luaXQgc2NoZWR1bGVyX2luaXQodm9p
ZCkKIHsKZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC1pZi5oIGIveGVuL2luY2x1
ZGUveGVuL3NjaGVkLWlmLmgKaW5kZXggZjFlOGY0NGY2Mi4uNTMxNThmZTRlYSAxMDA2NDQKLS0t
IGEveGVuL2luY2x1ZGUveGVuL3NjaGVkLWlmLmgKKysrIGIveGVuL2luY2x1ZGUveGVuL3NjaGVk
LWlmLmgKQEAgLTYyNiw1ICs2MjYsNiBAQCBhZmZpbml0eV9iYWxhbmNlX2NwdW1hc2soY29uc3Qg
c3RydWN0IHNjaGVkX3VuaXQgKnVuaXQsIGludCBzdGVwLAogCiB2b2lkIHNjaGVkX3JtX2NwdSh1
bnNpZ25lZCBpbnQgY3B1KTsKIGNvbnN0IGNwdW1hc2tfdCAqc2NoZWRfZ2V0X29wdF9jcHVtYXNr
KGVudW0gc2NoZWRfZ3JhbiBvcHQsIHVuc2lnbmVkIGludCBjcHUpOwordm9pZCBzY2hlZHVsZXJf
Z3Jhbl9pbml0KHZvaWQpOwogCiAjZW5kaWYgLyogX19YRU5fU0NIRURfSUZfSF9fICovCi0tIAoy
LjE2LjQKCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpY
ZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRw
czovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 2FD16109C11
	for <lists+xen-devel@lfdr.de>; Tue, 26 Nov 2019 11:13:08 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iZXmh-0007qK-G4; Tue, 26 Nov 2019 10:09:27 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=XQNV=ZS=amazon.de=prvs=226749d31=wipawel@srs-us1.protection.inumbo.net>)
 id 1iZXmg-0007pd-8N
 for xen-devel@lists.xenproject.org; Tue, 26 Nov 2019 10:09:26 +0000
X-Inumbo-ID: cf000766-1034-11ea-a39d-12813bfff9fa
Received: from smtp-fw-9102.amazon.com (unknown [207.171.184.29])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id cf000766-1034-11ea-a39d-12813bfff9fa;
 Tue, 26 Nov 2019 10:09:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amazon.de; i=@amazon.de; q=dns/txt; s=amazon201209;
 t=1574762960; x=1606298960;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version;
 bh=ktd9RstaodglRuWo5ykSPyV6gtXBwFFoQUq/HwVQMKc=;
 b=fYREDZgjmpxtnhsosBrFywRGq65z+Ac1RI1+qP4FQCqmCPPmBpXEop1U
 FHU+itaWjtzlb4Wn2Lvmwn+BZYnznOtFeS04XnDYd6axOH8K2siqQPI3Z
 Rfe5UPAJeOE2XIVQJuMg32z/gcXJst2z8nw2Buyz2tdw5xEWP5ZkxRcAk 0=;
IronPort-SDR: LihcvoA32IJHtuR4uNHXd/0TnJMDQ2gvsdMNlyzckSlMpuYbauqVU+j6wSkWOeC/hhfytPB1+G
 lmMN0r0qXgGg==
X-IronPort-AV: E=Sophos;i="5.69,245,1571702400"; 
   d="scan'208";a="9921106"
Received: from sea32-co-svc-lb4-vlan3.sea.corp.amazon.com (HELO
 email-inbound-relay-1a-807d4a99.us-east-1.amazon.com) ([10.47.23.38])
 by smtp-border-fw-out-9102.sea19.amazon.com with ESMTP;
 26 Nov 2019 10:08:40 +0000
Received: from EX13MTAUEA001.ant.amazon.com
 (iad55-ws-svc-p15-lb9-vlan2.iad.amazon.com [10.40.159.162])
 by email-inbound-relay-1a-807d4a99.us-east-1.amazon.com (Postfix) with ESMTPS
 id 2F35AA244B; Tue, 26 Nov 2019 10:08:36 +0000 (UTC)
Received: from EX13D03EUC003.ant.amazon.com (10.43.164.192) by
 EX13MTAUEA001.ant.amazon.com (10.43.61.243) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Tue, 26 Nov 2019 10:08:21 +0000
Received: from EX13MTAUEB001.ant.amazon.com (10.43.60.96) by
 EX13D03EUC003.ant.amazon.com (10.43.164.192) with Microsoft SMTP Server (TLS)
 id 15.0.1367.3; Tue, 26 Nov 2019 10:08:20 +0000
Received: from dev-dsk-wipawel-1a-0c4e6d58.eu-west-1.amazon.com (10.4.134.33)
 by mail-relay.amazon.com (10.43.60.129) with Microsoft SMTP Server id
 15.0.1367.3 via Frontend Transport; Tue, 26 Nov 2019 10:08:18 +0000
From: Pawel Wieczorkiewicz <wipawel@amazon.de>
To: <xen-devel@lists.xenproject.org>
Date: Tue, 26 Nov 2019 10:07:51 +0000
Message-ID: <20191126100801.124844-3-wipawel@amazon.de>
X-Mailer: git-send-email 2.16.5
In-Reply-To: <20191126100801.124844-1-wipawel@amazon.de>
References: <20191126100801.124844-1-wipawel@amazon.de>
MIME-Version: 1.0
Precedence: Bulk
Subject: [Xen-devel] [PATCH v6 02/12] livepatch: Allow to override
 inter-modules buildid dependency
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>, Andrew
 Cooper <andrew.cooper3@citrix.com>, Ross Lagerwall <ross.lagerwall@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, mpohlack@amazon.com,
 Pawel Wieczorkiewicz <wipawel@amazon.de>, Jan Beulich <jbeulich@suse.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

QnkgZGVmYXVsdCBMaXZlcGF0Y2ggZW5mb3JjZXMgdGhlIGZvbGxvd2luZyBidWlsZGlkLWJhc2Vk
IGRlcGVuZGVuY3kKY2hhaW4gYmV0d2VlbiBsaXZlcGF0Y2ggbW9kdWxlczoKICAxKSBmaXJzdCBt
b2R1bGUgZGVwZW5kcyBvbiBnaXZlbiBoeXBlcnZpc29yIGJ1aWxkaWQKICAyKSBldmVyeSBjb25z
ZWN1dGl2ZSBtb2R1bGUgZGVwZW5kcyBvbiBwcmV2aW91cyBtb2R1bGUncyBidWlsZGlkClRoaXMg
d2F5IHByb3BlciBsaXZlcGF0Y2ggc3RhY2sgb3JkZXIgaXMgbWFpbnRhaW5lZCBhbmQgZW5mb3Jj
ZWQuCldoaWxlIGl0IGlzIGltcG9ydGFudCBmb3IgcHJvZHVjdGlvbiBsaXZlcGF0Y2hlcyBpdCBs
aW1pdHMgYWdpbGl0eSBhbmQKYmxvY2tzIHVzYWdlIG9mIHRlc3Rpbmcgb3IgZGVidWcgbGl2ZXBh
dGNoZXMuIFRoZXNlIGtpbmRzIG9mIGxpdmVwYXRjaAptb2R1bGVzIGFyZSB0eXBpY2FsbHkgZXhw
ZWN0ZWQgdG8gYmUgbG9hZGVkIGF0IGFueSB0aW1lIGlycmVzcGVjdGl2ZQpvZiBjdXJyZW50IHN0
YXRlIG9mIHRoZSBtb2R1bGVzIHN0YWNrLgoKVG8gZW5hYmxlIHRlc3RpbmcgYW5kIGRlYnVnIGxp
dmVwYXRjaGVzIGFsbG93IHVzZXIgZHluYW1pY2FsbHkgaWdub3JlCnRoZSBpbnRlci1tb2R1bGVz
IGRlcGVuZGVuY3kuIEluIHRoaXMgY2FzZSBvbmx5IGh5cGVydmlzb3IgYnVpbGRpZAptYXRjaCBp
cyB2ZXJpZmllZCBhbmQgZW5mb3JjZWQuCgpUbyBhbGxvdyB1c2VybGFuZCBwYXNzIGFkZGl0aW9u
YWwgcGFyZW1ldGVycyBmb3IgbGl2ZXBhdGNoIGFjdGlvbnMKYWRkIHN1cHBvcnQgZm9yIGFjdGlv
biBmbGFncy4KRWFjaCBvZiB0aGUgYXBwbHksIHJldmVydCwgdW5sb2FkIGFuZCByZXZlcnQgYWN0
aW9uIGdldHMgYWRkaXRpb25hbAozMi1iaXQgcGFyYW1ldGVyICdmbGFncycgd2hlcmUgZXh0cmEg
ZmxhZ3MgY2FuIGJlIGFwcGxpZWQgaW4gYSBtYXNrCmZvcm0uCkluaXRpYWxseSBvbmx5IG9uZSBm
bGFnICctLW5vZGVwcycgaXMgYWRkZWQgZm9yIHRoZSBhcHBseSBhY3Rpb24uClRoaXMgZmxhZyBt
b2RpZmllcyB0aGUgZGVmYXVsdCBidWlsZGlkIGRlcGVuZGVuY3kgY2hlY2sgYXMgZGVzY3JpYmVk
CmFib3ZlLgpUaGUgZ2xvYmFsIHN5c2N0bCBpbnRlcmZhY2UgaW5wdXQgZmxhZyBwYXJhbWV0ZXIg
aXMgZGVmaW5lZCB3aXRoIGEKc2luZ2xlIGNvcnJlc3BvbmRpbmcgZmxhZyBtYWNybzoKICBMSVZF
UEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUyAoMSA8PCAwKQoKVGhlIHVzZXJsYW5kIHhlbi1saXZl
cGF0Y2ggdG9vbCBpcyBtb2RpZmllZCB0byBzdXBwb3J0IHRoZSAnLS1ub2RlcHMnCmZsYWcgZm9y
IGFwcGx5IGFuZCBsb2FkIGNvbW1hbmRzLiBBIGdlbmVyYWwgbWVjaGFuaXNtIGZvciBzcGVjaWZ5
aW5nCm1vcmUgZmxhZ3MgaW4gdGhlIGZ1dHVyZSBmb3IgYXBwbHkgYW5kIG90aGVyIGFjdGlvbiBp
cyBob3dldmVyIGFkZGVkLgoKU2lnbmVkLW9mZi1ieTogUGF3ZWwgV2llY3pvcmtpZXdpY3ogPHdp
cGF3ZWxAYW1hem9uLmRlPgpSZXZpZXdlZC1ieTogQW5kcmEtSXJpbmEgUGFyYXNjaGl2IDxhbmRy
YXByc0BhbWF6b24uY29tPgpSZXZpZXdlZC1ieTogRXNsYW0gRWxuaWtldHkgPGVsbmlrZXR5QGFt
YXpvbi5kZT4KUmV2aWV3ZWQtYnk6IFBldHJlIEVmdGltZSA8ZXBldHJlQGFtYXpvbi5jb20+ClJl
dmlld2VkLWJ5OiBMZW9uYXJkIEZvZXJzdGVyIDxmb2Vyc2xlb0BhbWF6b24uZGU+ClJldmlld2Vk
LWJ5OiBNYXJ0aW4gUG9obGFjayA8bXBvaGxhY2tAYW1hem9uLmRlPgpSZXZpZXdlZC1ieTogTm9y
YmVydCBNYW50aGV5IDxubWFudGhleUBhbWF6b24uZGU+ClNpZ25lZC1vZmYtYnk6IEtvbnJhZCBS
emVzenV0ZWsgV2lsayA8a29ucmFkLndpbGtAb3JhY2xlLmNvbT4KUmV2aWV3ZWQtYnk6IFJvc3Mg
TGFnZXJ3YWxsIDxyb3NzLmxhZ2Vyd2FsbEBjaXRyaXguY29tPgotLS0KQ2hhbmdlZCBzaW5jZSB2
NToKICAqIGFkZGVkIG1pc3NpbmcgYWN0aW9uIHBhZCBmaWVsZCB6ZXJvaW5nCgpDaGFuZ2VkIHNp
bmNlIHY0OgogICogY2hhbmdlZCBmbGFncyBmaWVsZCB0eXBlIGZyb20gdWludDY0X3QgdG8gdWlu
dDMyX3QKICAqIGFkZGVkICdwYWQnIGZpZWxkIGFmdGVyIHRoZSBjaGFuZ2VkIGZsYWdzIGZpZWxk
CgpDaGFuZ2VkIHNpbmNlIHYzOgogICogc2ltcGxpZmllZCBsb29wIGluIHhlbi1saXZlcGF0Y2gu
YwotLS0KIGRvY3MvbWlzYy9saXZlcGF0Y2gucGFuZG9jICAgIHwgICA4ICsrKwogdG9vbHMvbGli
eGMvaW5jbHVkZS94ZW5jdHJsLmggfCAgIDkgKystLQogdG9vbHMvbGlieGMveGNfbWlzYy5jICAg
ICAgICAgfCAgMjEgKysrKy0tLS0KIHRvb2xzL21pc2MveGVuLWxpdmVwYXRjaC5jICAgIHwgMTIx
ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLQogeGVuL2NvbW1vbi9s
aXZlcGF0Y2guYyAgICAgICAgfCAgMTcgKysrKy0tCiB4ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3Rs
LmggICB8ICAxMiArKysrLQogNiBmaWxlcyBjaGFuZ2VkLCAxNTIgaW5zZXJ0aW9ucygrKSwgMzYg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZG9jcy9taXNjL2xpdmVwYXRjaC5wYW5kb2MgYi9k
b2NzL21pc2MvbGl2ZXBhdGNoLnBhbmRvYwppbmRleCBmZDFmNWQwMTI2Li5jZDg1OWJiODExIDEw
MDY0NAotLS0gYS9kb2NzL21pc2MvbGl2ZXBhdGNoLnBhbmRvYworKysgYi9kb2NzL21pc2MvbGl2
ZXBhdGNoLnBhbmRvYwpAQCAtNjU5LDYgKzY1OSwxMCBAQCBUaGUgY2FsbGVyIHByb3ZpZGVzOgog
ICogYHRpbWVgIFRoZSB1cHBlciBib3VuZCBvZiB0aW1lIChucykgdGhlIGNtZCBzaG91bGQgdGFr
ZS4gWmVybyBtZWFucyB0byB1c2UKICAgIHRoZSBoeXBlcnZpc29yIGRlZmF1bHQuIElmIHdpdGhp
biB0aGUgdGltZSB0aGUgb3BlcmF0aW9uIGRvZXMgbm90IHN1Y2NlZWQKICAgIHRoZSBvcGVyYXRp
b24gd291bGQgZ28gaW4gZXJyb3Igc3RhdGUuCisgKiBgZmxhZ3NgIHByb3ZpZGVzIGFkZGl0aW9u
YWwgcGFyYW1ldGVycyBmb3IgYW4gYWN0aW9uOgorICAqICpMSVZFUEFUQ0hfQUNUSU9OX0FQUExZ
X05PREVQUyogKDEpIEFwcGx5IGFjdGlvbiBpZ25vcmVzIGludGVyLW1vZHVsZQorICBidWlsZGlk
IGRlcGVuZGVuY3kuIENoZWNrcyBvbmx5IGlmIG1vZHVsZSBpcyBidWlsdCBmb3IgZ2l2ZW4gaHlw
ZXJ2aXNvciBieQorICBjb21wYXJpbmcgYnVpbGRpZC4KICAqIGBwYWRgIC0gKk1VU1QqIGJlIHpl
cm8uCiAKIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB6ZXJvIHVubGVzcyB0aGUgcHJvdmlkZWQg
ZmllbGRzIGFyZSBpbmNvcnJlY3QuCkBAIC02NzYsNiArNjgwLDEwIEBAIFRoZSBzdHJ1Y3R1cmUg
aXMgYXMgZm9sbG93OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgLyogaHlwZXJ2aXNvciBkZWZhdWx0LiAqLwogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgLyogT3IgdXBwZXIgYm91bmQgb2YgdGltZSAobnMpICov
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBmb3Ig
b3BlcmF0aW9uIHRvIHRha2UuICovCisgICAgICAgIHVpbnQzMl90IGZsYWdzOyAgICAgICAgICAg
ICAgICAgICAgICAgICAvKiBJTjogYWN0aW9uIGZsYWdzLiAqLworICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogUHJvdmlkZSBhZGRpdGlvbmFsIHBhcmFt
ZXRlcnMgKi8KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IC8qIGZvciBhbiBhY3Rpb24uICovCisgICAgICAgIHVpbnQzMl90IHBhZDsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAvKiBJTjogQWx3YXlzIHplcm8uICovCiAgICAgfTsKIAogCmRpZmYgLS1n
aXQgYS90b29scy9saWJ4Yy9pbmNsdWRlL3hlbmN0cmwuaCBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUv
eGVuY3RybC5oCmluZGV4IGY0NDMxNjg3YjMuLmIwNjczOGM0NzEgMTAwNjQ0Ci0tLSBhL3Rvb2xz
L2xpYnhjL2luY2x1ZGUveGVuY3RybC5oCisrKyBiL3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3Ry
bC5oCkBAIC0yNjA1LDExICsyNjA1LDEyIEBAIGludCB4Y19saXZlcGF0Y2hfbGlzdCh4Y19pbnRl
cmZhY2UgKnhjaCwgdW5zaWduZWQgaW50IG1heCwgdW5zaWduZWQgaW50IHN0YXJ0LAogICogdG8g
Y29tcGxldGUgdGhlbS4gVGhlIGB0aW1lb3V0YCBvZmZlcnMgYW4gb3B0aW9uIHRvIGV4cGlyZSB0
aGUKICAqIG9wZXJhdGlvbiBpZiBpdCBjb3VsZCBub3QgYmUgY29tcGxldGVkIHdpdGhpbiB0aGUg
c3BlY2lmaWVkIHRpbWUKICAqIChpbiBucykuIFZhbHVlIG9mIDAgbWVhbnMgbGV0IGh5cGVydmlz
b3IgZGVjaWRlIHRoZSBiZXN0IHRpbWVvdXQuCisgKiBUaGUgYGZsYWdzYCBhbGxvd3MgdG8gcGFz
cyBleHRyYSBwYXJhbWV0ZXJzIHRvIHRoZSBhY3Rpb25zLgogICovCi1pbnQgeGNfbGl2ZXBhdGNo
X2FwcGx5KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJfdCB0aW1lb3V0KTsK
LWludCB4Y19saXZlcGF0Y2hfcmV2ZXJ0KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1
aW50MzJfdCB0aW1lb3V0KTsKLWludCB4Y19saXZlcGF0Y2hfdW5sb2FkKHhjX2ludGVyZmFjZSAq
eGNoLCBjaGFyICpuYW1lLCB1aW50MzJfdCB0aW1lb3V0KTsKLWludCB4Y19saXZlcGF0Y2hfcmVw
bGFjZSh4Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCk7Citp
bnQgeGNfbGl2ZXBhdGNoX2FwcGx5KHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50
MzJfdCB0aW1lb3V0LCB1aW50MzJfdCBmbGFncyk7CitpbnQgeGNfbGl2ZXBhdGNoX3JldmVydCh4
Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCwgdWludDMyX3Qg
ZmxhZ3MpOworaW50IHhjX2xpdmVwYXRjaF91bmxvYWQoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIg
Km5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKTsKK2ludCB4Y19saXZlcGF0
Y2hfcmVwbGFjZSh4Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91
dCwgdWludDMyX3QgZmxhZ3MpOwogCiAvKgogICogRW5zdXJlIGNhY2hlIGNvaGVyZW5jeSBhZnRl
ciBtZW1vcnkgbW9kaWZpY2F0aW9ucy4gQSBjYWxsIHRvIHRoaXMgZnVuY3Rpb24KZGlmZiAtLWdp
dCBhL3Rvb2xzL2xpYnhjL3hjX21pc2MuYyBiL3Rvb2xzL2xpYnhjL3hjX21pc2MuYwppbmRleCA4
ZTYwYjZlOWYwLi4zMzY1ODAxMzVlIDEwMDY0NAotLS0gYS90b29scy9saWJ4Yy94Y19taXNjLmMK
KysrIGIvdG9vbHMvbGlieGMveGNfbWlzYy5jCkBAIC04NTQsNyArODU0LDggQEAgaW50IHhjX2xp
dmVwYXRjaF9saXN0KHhjX2ludGVyZmFjZSAqeGNoLCB1bnNpZ25lZCBpbnQgbWF4LCB1bnNpZ25l
ZCBpbnQgc3RhcnQsCiBzdGF0aWMgaW50IF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjX2ludGVyZmFj
ZSAqeGNoLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpuYW1lLAogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgYWN0aW9uLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCB0aW1lb3V0KQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCB0aW1lb3V0LAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1aW50MzJfdCBmbGFncykKIHsKICAgICBpbnQgcmM7CiAgICAgREVDTEFS
RV9TWVNDVEw7CkBAIC04ODAsNiArODgxLDggQEAgc3RhdGljIGludCBfeGNfbGl2ZXBhdGNoX2Fj
dGlvbih4Y19pbnRlcmZhY2UgKnhjaCwKICAgICBzeXNjdGwudS5saXZlcGF0Y2gucGFkID0gMDsK
ICAgICBzeXNjdGwudS5saXZlcGF0Y2gudS5hY3Rpb24uY21kID0gYWN0aW9uOwogICAgIHN5c2N0
bC51LmxpdmVwYXRjaC51LmFjdGlvbi50aW1lb3V0ID0gdGltZW91dDsKKyAgICBzeXNjdGwudS5s
aXZlcGF0Y2gudS5hY3Rpb24uZmxhZ3MgPSBmbGFnczsKKyAgICBzeXNjdGwudS5saXZlcGF0Y2gu
dS5hY3Rpb24ucGFkID0gMDsKIAogICAgIHN5c2N0bC51LmxpdmVwYXRjaC51LmFjdGlvbi5uYW1l
ID0gZGVmX25hbWU7CiAgICAgc2V0X3hlbl9ndWVzdF9oYW5kbGUoc3lzY3RsLnUubGl2ZXBhdGNo
LnUuYWN0aW9uLm5hbWUubmFtZSwgbmFtZSk7CkBAIC04OTEsMjQgKzg5NCwyNCBAQCBzdGF0aWMg
aW50IF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjX2ludGVyZmFjZSAqeGNoLAogICAgIHJldHVybiBy
YzsKIH0KIAotaW50IHhjX2xpdmVwYXRjaF9hcHBseSh4Y19pbnRlcmZhY2UgKnhjaCwgY2hhciAq
bmFtZSwgdWludDMyX3QgdGltZW91dCkKK2ludCB4Y19saXZlcGF0Y2hfYXBwbHkoeGNfaW50ZXJm
YWNlICp4Y2gsIGNoYXIgKm5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKQog
ewotICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9B
Q1RJT05fQVBQTFksIHRpbWVvdXQpOworICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4
Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05fQVBQTFksIHRpbWVvdXQsIGZsYWdzKTsKIH0KIAot
aW50IHhjX2xpdmVwYXRjaF9yZXZlcnQoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIgKm5hbWUsIHVp
bnQzMl90IHRpbWVvdXQpCitpbnQgeGNfbGl2ZXBhdGNoX3JldmVydCh4Y19pbnRlcmZhY2UgKnhj
aCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCwgdWludDMyX3QgZmxhZ3MpCiB7Ci0gICAg
cmV0dXJuIF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjaCwgbmFtZSwgTElWRVBBVENIX0FDVElPTl9S
RVZFUlQsIHRpbWVvdXQpOworICAgIHJldHVybiBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5h
bWUsIExJVkVQQVRDSF9BQ1RJT05fUkVWRVJULCB0aW1lb3V0LCBmbGFncyk7CiB9CiAKLWludCB4
Y19saXZlcGF0Y2hfdW5sb2FkKHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJf
dCB0aW1lb3V0KQoraW50IHhjX2xpdmVwYXRjaF91bmxvYWQoeGNfaW50ZXJmYWNlICp4Y2gsIGNo
YXIgKm5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKQogewotICAgIHJldHVy
biBfeGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05fVU5MT0FE
LCB0aW1lb3V0KTsKKyAgICByZXR1cm4gX3hjX2xpdmVwYXRjaF9hY3Rpb24oeGNoLCBuYW1lLCBM
SVZFUEFUQ0hfQUNUSU9OX1VOTE9BRCwgdGltZW91dCwgZmxhZ3MpOwogfQogCi1pbnQgeGNfbGl2
ZXBhdGNoX3JlcGxhY2UoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIgKm5hbWUsIHVpbnQzMl90IHRp
bWVvdXQpCitpbnQgeGNfbGl2ZXBhdGNoX3JlcGxhY2UoeGNfaW50ZXJmYWNlICp4Y2gsIGNoYXIg
Km5hbWUsIHVpbnQzMl90IHRpbWVvdXQsIHVpbnQzMl90IGZsYWdzKQogewotICAgIHJldHVybiBf
eGNfbGl2ZXBhdGNoX2FjdGlvbih4Y2gsIG5hbWUsIExJVkVQQVRDSF9BQ1RJT05fUkVQTEFDRSwg
dGltZW91dCk7CisgICAgcmV0dXJuIF94Y19saXZlcGF0Y2hfYWN0aW9uKHhjaCwgbmFtZSwgTElW
RVBBVENIX0FDVElPTl9SRVBMQUNFLCB0aW1lb3V0LCBmbGFncyk7CiB9CiAKIC8qCmRpZmYgLS1n
aXQgYS90b29scy9taXNjL3hlbi1saXZlcGF0Y2guYyBiL3Rvb2xzL21pc2MveGVuLWxpdmVwYXRj
aC5jCmluZGV4IDMyMzM0NzIxNTcuLmI0NjliMjUzYWQgMTAwNjQ0Ci0tLSBhL3Rvb2xzL21pc2Mv
eGVuLWxpdmVwYXRjaC5jCisrKyBiL3Rvb2xzL21pc2MveGVuLWxpdmVwYXRjaC5jCkBAIC0yMywx
OCArMjMsMjMgQEAgdm9pZCBzaG93X2hlbHAodm9pZCkKIHsKICAgICBmcHJpbnRmKHN0ZGVyciwK
ICAgICAgICAgICAgICJ4ZW4tbGl2ZXBhdGNoOiBsaXZlIHBhdGNoaW5nIHRvb2xcbiIKLSAgICAg
ICAgICAgICJVc2FnZTogeGVuLWxpdmVwYXRjaCA8Y29tbWFuZD4gW2FyZ3NdXG4iCisgICAgICAg
ICAgICAiVXNhZ2U6IHhlbi1saXZlcGF0Y2ggPGNvbW1hbmQ+IFthcmdzXSBbY29tbWFuZC1mbGFn
c11cbiIKICAgICAgICAgICAgICIgPG5hbWU+IEFuIHVuaXF1ZSBuYW1lIG9mIHBheWxvYWQuIFVw
IHRvICVkIGNoYXJhY3RlcnMuXG4iCiAgICAgICAgICAgICAiQ29tbWFuZHM6XG4iCiAgICAgICAg
ICAgICAiICBoZWxwICAgICAgICAgICAgICAgICAgIGRpc3BsYXkgdGhpcyBoZWxwXG4iCiAgICAg
ICAgICAgICAiICB1cGxvYWQgPG5hbWU+IDxmaWxlPiAgIHVwbG9hZCBmaWxlIDxmaWxlPiB3aXRo
IDxuYW1lPiBuYW1lXG4iCiAgICAgICAgICAgICAiICBsaXN0ICAgICAgICAgICAgICAgICAgIGxp
c3QgcGF5bG9hZHMgdXBsb2FkZWQuXG4iCi0gICAgICAgICAgICAiICBhcHBseSA8bmFtZT4gICAg
ICAgICAgIGFwcGx5IDxuYW1lPiBwYXRjaC5cbiIKKyAgICAgICAgICAgICIgIGFwcGx5IDxuYW1l
PiBbZmxhZ3NdICAgYXBwbHkgPG5hbWU+IHBhdGNoLlxuIgorICAgICAgICAgICAgIiAgICBTdXBw
b3J0ZWQgZmxhZ3M6XG4iCisgICAgICAgICAgICAiICAgICAgLS1ub2RlcHMgICAgICAgICAgIERp
c2FibGUgaW50ZXItbW9kdWxlIGJ1aWxkaWQgZGVwZW5kZW5jeSBjaGVjay5cbiIKKyAgICAgICAg
ICAgICIgICAgICAgICAgICAgICAgICAgICAgICAgQ2hlY2sgb25seSBhZ2FpbnN0IGh5cGVydmlz
b3IgYnVpbGRpZC5cbiIKICAgICAgICAgICAgICIgIHJldmVydCA8bmFtZT4gICAgICAgICAgcmV2
ZXJ0IG5hbWUgPG5hbWU+IHBhdGNoLlxuIgogICAgICAgICAgICAgIiAgcmVwbGFjZSA8bmFtZT4g
ICAgICAgICBhcHBseSA8bmFtZT4gcGF0Y2ggYW5kIHJldmVydCBhbGwgb3RoZXJzLlxuIgogICAg
ICAgICAgICAgIiAgdW5sb2FkIDxuYW1lPiAgICAgICAgICB1bmxvYWQgbmFtZSA8bmFtZT4gcGF0
Y2guXG4iCi0gICAgICAgICAgICAiICBsb2FkICA8ZmlsZT4gICAgICAgICAgIHVwbG9hZCBhbmQg
YXBwbHkgPGZpbGU+LlxuIgotICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgICBu
YW1lIGlzIHRoZSA8ZmlsZT4gbmFtZVxuIiwKKyAgICAgICAgICAgICIgIGxvYWQgPGZpbGU+IFtm
bGFnc10gICAgdXBsb2FkIGFuZCBhcHBseSA8ZmlsZT4gd2l0aCBuYW1lIGFzIHRoZSA8ZmlsZT4g
bmFtZVxuIgorICAgICAgICAgICAgIiAgICBTdXBwb3J0ZWQgZmxhZ3M6XG4iCisgICAgICAgICAg
ICAiICAgICAgLS1ub2RlcHMgICAgICAgICAgIERpc2FibGUgaW50ZXItbW9kdWxlIGJ1aWxkaWQg
ZGVwZW5kZW5jeSBjaGVjay5cbiIKKyAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAg
ICAgQ2hlY2sgb25seSBhZ2FpbnN0IGh5cGVydmlzb3IgYnVpbGRpZC5cbiIsCiAgICAgICAgICAg
ICBYRU5fTElWRVBBVENIX05BTUVfU0laRSk7CiB9CiAKQEAgLTIyNSwxMiArMjMwLDEzIEBAIHN0
YXRpYyBpbnQgdXBsb2FkX2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSkKICAgICByZXR1cm4g
cmM7CiB9CiAKLS8qIFRoZXNlIE1VU1QgbWF0Y2ggdG8gdGhlICdhY3Rpb25fb3B0aW9uc1tdJyBh
cnJheSBzbG90cy4gKi8KKy8qIFRoZXNlIE1VU1QgbWF0Y2ggdG8gdGhlICdhY3Rpb25fb3B0aW9u
c1tdJyBhbmQgJ2ZsYWdfb3B0aW9uc1tdJyBhcnJheSBzbG90cy4gKi8KIGVudW0gewogICAgIEFD
VElPTl9BUFBMWSA9IDAsCiAgICAgQUNUSU9OX1JFVkVSVCA9IDEsCiAgICAgQUNUSU9OX1VOTE9B
RCA9IDIsCiAgICAgQUNUSU9OX1JFUExBQ0UgPSAzLAorICAgIEFDVElPTl9OVU0KIH07CiAKIHN0
cnVjdCB7CkBAIC0yMzgsNyArMjQ0LDcgQEAgc3RydWN0IHsKICAgICBpbnQgZXhwZWN0ZWQ7IC8q
IFRoZSBzdGF0ZSB0byBiZSBpbiBhZnRlciB0aGUgZnVuY3Rpb24uICovCiAgICAgY29uc3QgY2hh
ciAqbmFtZTsKICAgICBjb25zdCBjaGFyICp2ZXJiOwotICAgIGludCAoKmZ1bmN0aW9uKSh4Y19p
bnRlcmZhY2UgKnhjaCwgY2hhciAqbmFtZSwgdWludDMyX3QgdGltZW91dCk7CisgICAgaW50ICgq
ZnVuY3Rpb24pKHhjX2ludGVyZmFjZSAqeGNoLCBjaGFyICpuYW1lLCB1aW50MzJfdCB0aW1lb3V0
LCB1aW50MzJfdCBmbGFncyk7CiB9IGFjdGlvbl9vcHRpb25zW10gPSB7CiAgICAgeyAgIC5hbGxv
dyA9IExJVkVQQVRDSF9TVEFURV9DSEVDS0VELAogICAgICAgICAuZXhwZWN0ZWQgPSBMSVZFUEFU
Q0hfU1RBVEVfQVBQTElFRCwKQEAgLTI2Niw2ICsyNzIsNjYgQEAgc3RydWN0IHsKICAgICB9LAog
fTsKIAorLyoKKyAqIFRoaXMgc3RydWN0dXJlIGRlZmluZXMgc3VwcG9ydGVkIGZsYWcgb3B0aW9u
cyBmb3IgYWN0aW9ucy4KKyAqIEl0IGRlZmluZXMgZW50cmllcyBmb3IgZWFjaCBhY3Rpb24gYW5k
IHN1cHBvcnRzIHVwIHRvIDMyCisgKiBmbGFncyBwZXIgYWN0aW9uLgorICovCitzdHJ1Y3Qgewor
ICAgIGNvbnN0IGNoYXIgKm5hbWU7CisgICAgY29uc3QgdWludDMyX3QgZmxhZzsKK30gZmxhZ19v
cHRpb25zW0FDVElPTl9OVU1dWzggKiBzaXplb2YodWludDMyX3QpXSA9IHsKKyAgICB7IC8qIEFD
VElPTl9BUFBMWSAqLworICAgICAgICB7ICAgLm5hbWUgPSAiLS1ub2RlcHMiLAorICAgICAgICAg
ICAgLmZsYWcgPSBMSVZFUEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUywKKyAgICAgICAgfSwKKyAg
ICB9LAorICAgIHsgLyogQUNUSU9OX1JFVkVSVCAqLworICAgIH0sCisgICAgeyAvKiBBQ1RJT05f
VU5MT0FEICovCisgICAgfSwKKyAgICB7IC8qIEFDVElPTl9SRVBMQUNFICovCisgICAgfQorfTsK
KworLyoKKyAqIFBhcnNlIHVzZXIgcHJvdmlkZWQgYWN0aW9uIGZsYWdzLgorICogVGhpcyBmdW5j
dGlvbiBleHBlY3RzIHRvIG9ubHkgcmVjZWl2ZSBhbiBhcnJheSBvZiBpbnB1dCBwYXJhbWV0ZXJz
IGJlaW5nIGZsYWdzLgorICogRXhwZWN0ZWQgYWN0aW9uIGlzIHNwZWNpZmllZCB2aWEgaWR4IHBh
cmFtYXRlciAoaW5kZXggb2YgZmxhZ19vcHRpb25zW10pLgorICovCitzdGF0aWMgaW50IGdldF9m
bGFncyhpbnQgYXJnYywgY2hhciAqYXJndltdLCB1bnNpZ25lZCBpbnQgaWR4LCB1aW50MzJfdCAq
ZmxhZ3MpCit7CisgICAgaW50IGksIGo7CisKKyAgICBpZiAoICFmbGFncyB8fCBpZHggPj0gQVJS
QVlfU0laRShmbGFnX29wdGlvbnMpICkKKyAgICAgICAgcmV0dXJuIC0xOworCisgICAgKmZsYWdz
ID0gMDsKKyAgICBmb3IgKCBpID0gMDsgaSA8IGFyZ2M7IGkrKyApCisgICAgeworICAgICAgICBm
b3IgKCBqID0gMDsgaiA8IEFSUkFZX1NJWkUoZmxhZ19vcHRpb25zW2lkeF0pOyBqKysgKQorICAg
ICAgICB7CisgICAgICAgICAgICBpZiAoICFmbGFnX29wdGlvbnNbaWR4XVtqXS5uYW1lICkKKyAg
ICAgICAgICAgICAgICBnb3RvIGVycm9yOworCisgICAgICAgICAgICBpZiAoICFzdHJjbXAoZmxh
Z19vcHRpb25zW2lkeF1bal0ubmFtZSwgYXJndltpXSkgKQorICAgICAgICAgICAgeworICAgICAg
ICAgICAgICAgICpmbGFncyB8PSBmbGFnX29wdGlvbnNbaWR4XVtqXS5mbGFnOworICAgICAgICAg
ICAgICAgIGJyZWFrOworICAgICAgICAgICAgfQorICAgICAgICB9CisKKyAgICAgICAgaWYgKCBq
ID09IEFSUkFZX1NJWkUoZmxhZ19vcHRpb25zW2lkeF0pICkKKyAgICAgICAgICAgIGdvdG8gZXJy
b3I7CisgICAgfQorCisgICAgcmV0dXJuIDA7CitlcnJvcjoKKyAgICBmcHJpbnRmKHN0ZGVyciwg
IlVuc3VwcG9ydGVkIGZsYWc6ICVzLlxuIiwgYXJndltpXSk7CisgICAgZXJybm8gPSBFSU5WQUw7
CisgICAgcmV0dXJuIGVycm5vOworfQorCiAvKiBUaGUgaHlwZXJ2aXNvciB0aW1lb3V0IGZvciB0
aGUgbGl2ZSBwYXRjaGluZyBvcGVyYXRpb24gaXMgMzAgbXNlYywKICAqIGJ1dCBpdCBjb3VsZCB0
YWtlIHNvbWUgdGltZSBmb3IgdGhlIG9wZXJhdGlvbiB0byBzdGFydCwgc28gd2FpdCB0d2ljZQog
ICogdGhhdCBwZXJpb2QuICovCkBAIC0yOTEsOCArMzU3LDkgQEAgaW50IGFjdGlvbl9mdW5jKGlu
dCBhcmdjLCBjaGFyICphcmd2W10sIHVuc2lnbmVkIGludCBpZHgpCiAgICAgY2hhciBuYW1lW1hF
Tl9MSVZFUEFUQ0hfTkFNRV9TSVpFXTsKICAgICBpbnQgcmM7CiAgICAgeGVuX2xpdmVwYXRjaF9z
dGF0dXNfdCBzdGF0dXM7CisgICAgdWludDMyX3QgZmxhZ3M7CiAKLSAgICBpZiAoIGFyZ2MgIT0g
MSApCisgICAgaWYgKCBhcmdjIDwgMSApCiAgICAgewogICAgICAgICBzaG93X2hlbHAoKTsKICAg
ICAgICAgcmV0dXJuIC0xOwpAQCAtMzAxLDcgKzM2OCwxMCBAQCBpbnQgYWN0aW9uX2Z1bmMoaW50
IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgdW5zaWduZWQgaW50IGlkeCkKICAgICBpZiAoIGlkeCA+PSBB
UlJBWV9TSVpFKGFjdGlvbl9vcHRpb25zKSApCiAgICAgICAgIHJldHVybiAtMTsKIAotICAgIGlm
ICggZ2V0X25hbWUoYXJnYywgYXJndiwgbmFtZSkgKQorICAgIGlmICggZ2V0X25hbWUoYXJnYy0t
LCBhcmd2KyssIG5hbWUpICkKKyAgICAgICAgcmV0dXJuIEVJTlZBTDsKKworICAgIGlmICggZ2V0
X2ZsYWdzKGFyZ2MsIGFyZ3YsIGlkeCwgJmZsYWdzKSApCiAgICAgICAgIHJldHVybiBFSU5WQUw7
CiAKICAgICAvKiBDaGVjayBpbml0aWFsIHN0YXR1cy4gKi8KQEAgLTMzMiw3ICs0MDIsNyBAQCBp
bnQgYWN0aW9uX2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgdW5zaWduZWQgaW50IGlkeCkK
ICAgICBpZiAoIGFjdGlvbl9vcHRpb25zW2lkeF0uYWxsb3cgJiBzdGF0dXMuc3RhdGUgKQogICAg
IHsKICAgICAgICAgcHJpbnRmKCIlcyAlcy4uLiAiLCBhY3Rpb25fb3B0aW9uc1tpZHhdLnZlcmIs
IG5hbWUpOwotICAgICAgICByYyA9IGFjdGlvbl9vcHRpb25zW2lkeF0uZnVuY3Rpb24oeGNoLCBu
YW1lLCBIWVBFUlZJU09SX1RJTUVPVVRfTlMpOworICAgICAgICByYyA9IGFjdGlvbl9vcHRpb25z
W2lkeF0uZnVuY3Rpb24oeGNoLCBuYW1lLCBIWVBFUlZJU09SX1RJTUVPVVRfTlMsIGZsYWdzKTsK
ICAgICAgICAgaWYgKCByYyApCiAgICAgICAgIHsKICAgICAgICAgICAgIGludCBzYXZlZF9lcnJu
byA9IGVycm5vOwpAQCAtMzk0LDE3ICs0NjQsMjMgQEAgaW50IGFjdGlvbl9mdW5jKGludCBhcmdj
LCBjaGFyICphcmd2W10sIHVuc2lnbmVkIGludCBpZHgpCiAKIHN0YXRpYyBpbnQgbG9hZF9mdW5j
KGludCBhcmdjLCBjaGFyICphcmd2W10pCiB7Ci0gICAgaW50IHJjOwotICAgIGNoYXIgKm5ld19h
cmd2WzJdOwotICAgIGNoYXIgKnBhdGgsICpuYW1lLCAqbGFzdGRvdDsKKyAgICBpbnQgaSwgcmMg
PSBFTk9NRU07CisgICAgY2hhciAqdXBsb2FkX2FyZ3ZbMl07CisgICAgY2hhciAqKmFwcGx5X2Fy
Z3YsICpwYXRoLCAqbmFtZSwgKmxhc3Rkb3Q7CiAKLSAgICBpZiAoIGFyZ2MgIT0gMSApCisgICAg
aWYgKCBhcmdjIDwgMSApCiAgICAgewogICAgICAgICBzaG93X2hlbHAoKTsKICAgICAgICAgcmV0
dXJuIC0xOwogICAgIH0KKworICAgIC8qIGFwcGx5IGFjdGlvbiBoYXMgPGlkPiBbZmxhZ3NdIGlu
cHV0IHJlcXVpcmVtZW50LCB3aGljaCBtdXN0IGJlIGNvbnN0cnVjdGVkICovCisgICAgYXBwbHlf
YXJndiA9IChjaGFyICoqKSBtYWxsb2MoYXJnYyAqIHNpemVvZigqYXBwbHlfYXJndikpOworICAg
IGlmICggIWFwcGx5X2FyZ3YgKQorICAgICAgICByZXR1cm4gcmM7CisKICAgICAvKiA8ZmlsZT4g
Ki8KLSAgICBuZXdfYXJndlsxXSA9IGFyZ3ZbMF07CisgICAgdXBsb2FkX2FyZ3ZbMV0gPSBhcmd2
WzBdOwogCiAgICAgLyogU3ludGhlc2l6ZSB0aGUgPGlkPiAqLwogICAgIHBhdGggPSBzdHJkdXAo
YXJndlswXSk7CkBAIC00MTMsMTYgKzQ4OSwyMyBAQCBzdGF0aWMgaW50IGxvYWRfZnVuYyhpbnQg
YXJnYywgY2hhciAqYXJndltdKQogICAgIGxhc3Rkb3QgPSBzdHJyY2hyKG5hbWUsICcuJyk7CiAg
ICAgaWYgKCBsYXN0ZG90ICE9IE5VTEwgKQogICAgICAgICAqbGFzdGRvdCA9ICdcMCc7Ci0gICAg
bmV3X2FyZ3ZbMF0gPSBuYW1lOworICAgIHVwbG9hZF9hcmd2WzBdID0gbmFtZTsKKyAgICBhcHBs
eV9hcmd2WzBdID0gbmFtZTsKIAotICAgIHJjID0gdXBsb2FkX2Z1bmMoMiAvKiA8aWQ+IDxmaWxl
PiAqLywgbmV3X2FyZ3YpOworICAgIC8qIEZpbGwgaW4gYWxsIHVzZXIgcHJvdmlkZWQgZmxhZ3Mg
Ki8KKyAgICBmb3IgKCBpID0gMTsgaSA8IGFyZ2M7IGkrKyApCisgICAgICAgIGFwcGx5X2FyZ3Zb
aV0gPSBhcmd2W2ldOworCisgICAgcmMgPSB1cGxvYWRfZnVuYygyIC8qIDxpZD4gPGZpbGU+ICov
LCB1cGxvYWRfYXJndik7CiAgICAgaWYgKCByYyApCi0gICAgICAgIHJldHVybiByYzsKKyAgICAg
ICAgZ290byBlcnJvcjsKIAotICAgIHJjID0gYWN0aW9uX2Z1bmMoMSAvKiBvbmx5IDxpZD4gKi8s
IG5ld19hcmd2LCBBQ1RJT05fQVBQTFkpOworICAgIHJjID0gYWN0aW9uX2Z1bmMoYXJnYywgYXBw
bHlfYXJndiwgQUNUSU9OX0FQUExZKTsKICAgICBpZiAoIHJjICkKLSAgICAgICAgYWN0aW9uX2Z1
bmMoMSwgbmV3X2FyZ3YsIEFDVElPTl9VTkxPQUQpOworICAgICAgICBhY3Rpb25fZnVuYygxIC8q
IG9ubHkgPGlkPiAqLywgdXBsb2FkX2FyZ3YsIEFDVElPTl9VTkxPQUQpOwogCitlcnJvcjoKKyAg
ICBmcmVlKGFwcGx5X2FyZ3YpOwogICAgIGZyZWUocGF0aCk7CiAgICAgcmV0dXJuIHJjOwogfQpk
aWZmIC0tZ2l0IGEveGVuL2NvbW1vbi9saXZlcGF0Y2guYyBiL3hlbi9jb21tb24vbGl2ZXBhdGNo
LmMKaW5kZXggYTBlMGQzMDkyYi4uMzk1MWRjY2FmMiAxMDA2NDQKLS0tIGEveGVuL2NvbW1vbi9s
aXZlcGF0Y2guYworKysgYi94ZW4vY29tbW9uL2xpdmVwYXRjaC5jCkBAIC0xNTEwLDYgKzE1MTAs
OSBAQCBzdGF0aWMgaW50IGxpdmVwYXRjaF9hY3Rpb24oc3RydWN0IHhlbl9zeXNjdGxfbGl2ZXBh
dGNoX2FjdGlvbiAqYWN0aW9uKQogICAgIGNoYXIgbltYRU5fTElWRVBBVENIX05BTUVfU0laRV07
CiAgICAgaW50IHJjOwogCisgICAgaWYgKCBhY3Rpb24tPnBhZCApCisgICAgICAgIHJldHVybiAt
RUlOVkFMOworCiAgICAgcmMgPSBnZXRfbmFtZSgmYWN0aW9uLT5uYW1lLCBuKTsKICAgICBpZiAo
IHJjICkKICAgICAgICAgcmV0dXJuIHJjOwpAQCAtMTU4Myw5ICsxNTg2LDE3IEBAIHN0YXRpYyBp
bnQgbGl2ZXBhdGNoX2FjdGlvbihzdHJ1Y3QgeGVuX3N5c2N0bF9saXZlcGF0Y2hfYWN0aW9uICph
Y3Rpb24pCiAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICB9CiAKLSAgICAgICAg
ICAgIHJjID0gYnVpbGRfaWRfZGVwKGRhdGEsICEhbGlzdF9lbXB0eSgmYXBwbGllZF9saXN0KSk7
Ci0gICAgICAgICAgICBpZiAoIHJjICkKLSAgICAgICAgICAgICAgICBicmVhazsKKyAgICAgICAg
ICAgIC8qCisgICAgICAgICAgICAgKiBDaGVjayBpZiBhY3Rpb24gaXMgaXNzdWVkIHdpdGggbm9k
ZXBzIGZsYWdzIHRvIGlnbm9yZSBtb2R1bGUKKyAgICAgICAgICAgICAqIHN0YWNrIGRlcGVuZGVu
Y2llcy4KKyAgICAgICAgICAgICAqLworICAgICAgICAgICAgaWYgKCAhKGFjdGlvbi0+ZmxhZ3Mg
JiBMSVZFUEFUQ0hfQUNUSU9OX0FQUExZX05PREVQUykgKQorICAgICAgICAgICAgeworICAgICAg
ICAgICAgICAgIHJjID0gYnVpbGRfaWRfZGVwKGRhdGEsICEhbGlzdF9lbXB0eSgmYXBwbGllZF9s
aXN0KSk7CisgICAgICAgICAgICAgICAgaWYgKCByYyApCisgICAgICAgICAgICAgICAgICAgIGJy
ZWFrOworICAgICAgICAgICAgfQorCiAgICAgICAgICAgICBkYXRhLT5yYyA9IC1FQUdBSU47CiAg
ICAgICAgICAgICByYyA9IHNjaGVkdWxlX3dvcmsoZGF0YSwgYWN0aW9uLT5jbWQsIGFjdGlvbi0+
dGltZW91dCk7CiAgICAgICAgIH0KZGlmZiAtLWdpdCBhL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNj
dGwuaCBiL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaAppbmRleCAxOTQ1N2E0ZTMwLi43YTA4
ODRiNzBiIDEwMDY0NAotLS0gYS94ZW4vaW5jbHVkZS9wdWJsaWMvc3lzY3RsLmgKKysrIGIveGVu
L2luY2x1ZGUvcHVibGljL3N5c2N0bC5oCkBAIC0zNSw3ICszNSw3IEBACiAjaW5jbHVkZSAiZG9t
Y3RsLmgiCiAjaW5jbHVkZSAicGh5c2Rldi5oIgogCi0jZGVmaW5lIFhFTl9TWVNDVExfSU5URVJG
QUNFX1ZFUlNJT04gMHgwMDAwMDAxMgorI2RlZmluZSBYRU5fU1lTQ1RMX0lOVEVSRkFDRV9WRVJT
SU9OIDB4MDAwMDAwMTMKIAogLyoKICAqIFJlYWQgY29uc29sZSBjb250ZW50IGZyb20gWGVuIGJ1
ZmZlciByaW5nLgpAQCAtOTcwLDYgKzk3MCwxNiBAQCBzdHJ1Y3QgeGVuX3N5c2N0bF9saXZlcGF0
Y2hfYWN0aW9uIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
LyogaHlwZXJ2aXNvciBkZWZhdWx0LiAqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAvKiBPciB1cHBlciBib3VuZCBvZiB0aW1lIChucykgKi8KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogZm9yIG9wZXJhdGlvbiB0byB0
YWtlLiAqLworCisvKgorICogT3ZlcnJpZGUgZGVmYXVsdCBpbnRlci1tb2R1bGUgYnVpbGRpZCBk
ZXBlbmRlbmN5IGNoYWluIGVuZm9yY2VtZW50LgorICogQ2hlY2sgb25seSBpZiBtb2R1bGUgaXMg
YnVpbHQgZm9yIGdpdmVuIGh5cGVydmlzb3IgYnkgY29tcGFyaW5nIGJ1aWxkaWQuCisgKi8KKyNk
ZWZpbmUgTElWRVBBVENIX0FDVElPTl9BUFBMWV9OT0RFUFMgKDEgPDwgMCkKKyAgICB1aW50MzJf
dCBmbGFnczsgICAgICAgICAgICAgICAgICAgICAgICAgLyogSU46IGFjdGlvbiBmbGFncy4gKi8K
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogUHJvdmlkZSBh
ZGRpdGlvbmFsIHBhcmFtZXRlcnMgKi8KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgLyogZm9yIGFuIGFjdGlvbi4gKi8KKyAgICB1aW50MzJfdCBwYWQ7ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgLyogSU46IEFsd2F5cyB6ZXJvLiAqLwogfTsKIAogc3RydWN0
IHhlbl9zeXNjdGxfbGl2ZXBhdGNoX29wIHsKLS0gCjIuMTYuNQoKCgoKQW1hem9uIERldmVsb3Bt
ZW50IENlbnRlciBHZXJtYW55IEdtYkgKS3JhdXNlbnN0ci4gMzgKMTAxMTcgQmVybGluCkdlc2No
YWVmdHNmdWVocnVuZzogQ2hyaXN0aWFuIFNjaGxhZWdlciwgUmFsZiBIZXJicmljaApFaW5nZXRy
YWdlbiBhbSBBbXRzZ2VyaWNodCBDaGFybG90dGVuYnVyZyB1bnRlciBIUkIgMTQ5MTczIEIKU2l0
ejogQmVybGluClVzdC1JRDogREUgMjg5IDIzNyA4NzkKCgoKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRl
dmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFp
bG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

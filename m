Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 147EBDC68E
	for <lists+xen-devel@lfdr.de>; Fri, 18 Oct 2019 15:52:48 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iLSdr-0005kw-HP; Fri, 18 Oct 2019 13:50:07 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=r+Mv=YL=redhat.com=philmd@srs-us1.protection.inumbo.net>)
 id 1iLSdp-0005Xw-OL
 for xen-devel@lists.xenproject.org; Fri, 18 Oct 2019 13:50:05 +0000
X-Inumbo-ID: 2ecbdc5d-f1ae-11e9-93f5-12813bfff9fa
Received: from mx1.redhat.com (unknown [209.132.183.28])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 2ecbdc5d-f1ae-11e9-93f5-12813bfff9fa;
 Fri, 18 Oct 2019 13:50:03 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 739A33086E23;
 Fri, 18 Oct 2019 13:50:02 +0000 (UTC)
Received: from x1w.redhat.com (unknown [10.40.205.74])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 0E81460BF1;
 Fri, 18 Oct 2019 13:49:55 +0000 (UTC)
From: =?UTF-8?q?Philippe=20Mathieu-Daud=C3=A9?= <philmd@redhat.com>
To: qemu-devel@nongnu.org
Date: Fri, 18 Oct 2019 15:47:45 +0200
Message-Id: <20191018134754.16362-12-philmd@redhat.com>
In-Reply-To: <20191018134754.16362-1-philmd@redhat.com>
References: <20191018134754.16362-1-philmd@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.44]); Fri, 18 Oct 2019 13:50:02 +0000 (UTC)
Subject: [Xen-devel] [PATCH v2 11/20] hw/isa/piix4: Move piix4_create() to
 hw/isa/piix4.c
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>,
 Marcel Apfelbaum <marcel.apfelbaum@gmail.com>,
 "Michael S. Tsirkin" <mst@redhat.com>, Paul Durrant <paul@xen.org>,
 =?UTF-8?q?Philippe=20Mathieu-Daud=C3=A9?= <f4bug@amsat.org>,
 Paolo Bonzini <pbonzini@redhat.com>,
 =?UTF-8?q?Herv=C3=A9=20Poussineau?= <hpoussin@reactos.org>,
 Aleksandar Markovic <amarkovic@wavecomp.com>,
 Igor Mammedov <imammedo@redhat.com>,
 Anthony Perard <anthony.perard@citrix.com>, xen-devel@lists.xenproject.org,
 Aleksandar Rikalo <aleksandar.rikalo@rt-rk.com>,
 Richard Henderson <rth@twiddle.net>,
 =?UTF-8?q?Philippe=20Mathieu-Daud=C3=A9?= <philmd@redhat.com>,
 Aurelien Jarno <aurelien@aurel32.net>, Eduardo Habkost <ehabkost@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogUGhpbGlwcGUgTWF0aGlldS1EYXVkw6kgPGY0YnVnQGFtc2F0Lm9yZz4KCk5vdyB0aGF0
IHdlIHByb3Blcmx5IHJlZmFjdG9yZWQgdGhlIHBpaXg0X2NyZWF0ZSgpIGZ1bmN0aW9uLCBsZXQn
cwptb3ZlIGl0IHRvIGh3L2lzYS9waWl4NC5jIHdoZXJlIGl0IGJlbG9uZ3MsIHNvIGl0IGNhbiBi
ZSByZXVzZWQKb24gb3RoZXIgcGxhY2VzLgoKUmV2aWV3ZWQtYnk6IEFsZWtzYW5kYXIgTWFya292
aWMgPGFtYXJrb3ZpY0B3YXZlY29tcC5jb20+ClNpZ25lZC1vZmYtYnk6IFBoaWxpcHBlIE1hdGhp
ZXUtRGF1ZMOpIDxwaGlsbWRAcmVkaGF0LmNvbT4KLS0tCiBody9pc2EvcGlpeDQuYyAgICAgICAg
ICAgICAgICB8IDMwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogaHcvbWlwcy9ndDY0
eHh4X3BjaS5jICAgICAgICAgfCAgMSArCiBody9taXBzL21pcHNfbWFsdGEuYyAgICAgICAgICB8
IDI4IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIGluY2x1ZGUvaHcvaTM4Ni9wYy5oICAg
ICAgICAgIHwgIDIgLS0KIGluY2x1ZGUvaHcvc291dGhicmlkZ2UvcGlpeC5oIHwgIDYgKysrKysr
CiA1IGZpbGVzIGNoYW5nZWQsIDM3IGluc2VydGlvbnMoKyksIDMwIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2h3L2lzYS9waWl4NC5jIGIvaHcvaXNhL3BpaXg0LmMKaW5kZXggYjM1YjhhNWY3
MS4uZjQ2NDRiNjNjYyAxMDA2NDQKLS0tIGEvaHcvaXNhL3BpaXg0LmMKKysrIGIvaHcvaXNhL3Bp
aXg0LmMKQEAgLTI3LDEyICsyNywxNCBAQAogI2luY2x1ZGUgInFhcGkvZXJyb3IuaCIKICNpbmNs
dWRlICJody9pcnEuaCIKICNpbmNsdWRlICJody9pMzg2L3BjLmgiCisjaW5jbHVkZSAiaHcvc291
dGhicmlkZ2UvcGlpeC5oIgogI2luY2x1ZGUgImh3L3BjaS9wY2kuaCIKICNpbmNsdWRlICJody9p
c2EvaXNhLmgiCiAjaW5jbHVkZSAiaHcvc3lzYnVzLmgiCiAjaW5jbHVkZSAiaHcvZG1hL2k4MjU3
LmgiCiAjaW5jbHVkZSAiaHcvdGltZXIvaTgyNTQuaCIKICNpbmNsdWRlICJody90aW1lci9tYzE0
NjgxOHJ0Yy5oIgorI2luY2x1ZGUgImh3L2lkZS5oIgogI2luY2x1ZGUgIm1pZ3JhdGlvbi92bXN0
YXRlLmgiCiAjaW5jbHVkZSAic3lzZW11L3Jlc2V0LmgiCiAjaW5jbHVkZSAic3lzZW11L3J1bnN0
YXRlLmgiCkBAIC0yMzcsMyArMjM5LDMxIEBAIHN0YXRpYyB2b2lkIHBpaXg0X3JlZ2lzdGVyX3R5
cGVzKHZvaWQpCiB9CiAKIHR5cGVfaW5pdChwaWl4NF9yZWdpc3Rlcl90eXBlcykKKworRGV2aWNl
U3RhdGUgKnBpaXg0X2NyZWF0ZShQQ0lCdXMgKnBjaV9idXMsIElTQUJ1cyAqKmlzYV9idXMsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgIEkyQ0J1cyAqKnNtYnVzLCBzaXplX3QgaWRlX2J1c2Vz
KQoreworICAgIHNpemVfdCBpZGVfZHJpdmVzID0gaWRlX2J1c2VzICogTUFYX0lERV9ERVZTOwor
ICAgIERyaXZlSW5mbyAqKmhkOworICAgIFBDSURldmljZSAqcGNpOworICAgIERldmljZVN0YXRl
ICpkZXY7CisKKyAgICBwY2kgPSBwY2lfY3JlYXRlX3NpbXBsZV9tdWx0aWZ1bmN0aW9uKHBjaV9i
dXMsIFBDSV9ERVZGTigxMCwgMCksCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICB0cnVlLCBUWVBFX1BJSVg0X1BDSV9ERVZJQ0UpOworICAgIGRldiA9IERFVklDRShw
Y2kpOworICAgIGlmIChpc2FfYnVzKSB7CisgICAgICAgICppc2FfYnVzID0gSVNBX0JVUyhxZGV2
X2dldF9jaGlsZF9idXMoZGV2LCAiaXNhLjAiKSk7CisgICAgfQorCisgICAgaGQgPSBnX25ldyhE
cml2ZUluZm8gKiwgaWRlX2RyaXZlcyk7CisgICAgaWRlX2RyaXZlX2dldChoZCwgaWRlX2RyaXZl
cyk7CisgICAgcGNpX3BpaXg0X2lkZV9pbml0KHBjaV9idXMsIGhkLCBwY2ktPmRldmZuICsgMSk7
CisgICAgZ19mcmVlKGhkKTsKKyAgICBwY2lfY3JlYXRlX3NpbXBsZShwY2lfYnVzLCBwY2ktPmRl
dmZuICsgMiwgInBpaXg0LXVzYi11aGNpIik7CisgICAgaWYgKHNtYnVzKSB7CisgICAgICAgICpz
bWJ1cyA9IHBpaXg0X3BtX2luaXQocGNpX2J1cywgcGNpLT5kZXZmbiArIDMsIDB4MTEwMCwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc2FfZ2V0X2lycShOVUxMLCA5KSwgTlVMTCwg
MCwgTlVMTCk7CisgICB9CisKKyAgICByZXR1cm4gZGV2OworfQpkaWZmIC0tZ2l0IGEvaHcvbWlw
cy9ndDY0eHh4X3BjaS5jIGIvaHcvbWlwcy9ndDY0eHh4X3BjaS5jCmluZGV4IGYzMjViZDZjMWMu
LmMyNzczOThjMGQgMTAwNjQ0Ci0tLSBhL2h3L21pcHMvZ3Q2NHh4eF9wY2kuYworKysgYi9ody9t
aXBzL2d0NjR4eHhfcGNpLmMKQEAgLTI4LDYgKzI4LDcgQEAKICNpbmNsdWRlICJody9taXBzL21p
cHMuaCIKICNpbmNsdWRlICJody9wY2kvcGNpLmgiCiAjaW5jbHVkZSAiaHcvcGNpL3BjaV9ob3N0
LmgiCisjaW5jbHVkZSAiaHcvc291dGhicmlkZ2UvcGlpeC5oIgogI2luY2x1ZGUgIm1pZ3JhdGlv
bi92bXN0YXRlLmgiCiAjaW5jbHVkZSAiaHcvaTM4Ni9wYy5oIgogI2luY2x1ZGUgImh3L2lycS5o
IgpkaWZmIC0tZ2l0IGEvaHcvbWlwcy9taXBzX21hbHRhLmMgYi9ody9taXBzL21pcHNfbWFsdGEu
YwppbmRleCAwZDQzMTI4NDBiLi40NzdhNDcyNWMwIDEwMDY0NAotLS0gYS9ody9taXBzL21pcHNf
bWFsdGEuYworKysgYi9ody9taXBzL21pcHNfbWFsdGEuYwpAQCAtMTIxMCwzNCArMTIxMCw2IEBA
IHN0YXRpYyB2b2lkIG1pcHNfY3JlYXRlX2NwdShNYWNoaW5lU3RhdGUgKm1zLCBNYWx0YVN0YXRl
ICpzLAogICAgIH0KIH0KIAotc3RhdGljIERldmljZVN0YXRlICpwaWl4NF9jcmVhdGUoUENJQnVz
ICpwY2lfYnVzLCBJU0FCdXMgKippc2FfYnVzLAotICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgSTJDQnVzICoqc21idXMsIHNpemVfdCBpZGVfYnVzZXMpCi17Ci0gICAgY29uc3Qgc2l6
ZV90IGlkZV9kcml2ZXMgPSBpZGVfYnVzZXMgKiBNQVhfSURFX0RFVlM7Ci0gICAgRHJpdmVJbmZv
ICoqaGQ7Ci0gICAgUENJRGV2aWNlICpwY2k7Ci0gICAgRGV2aWNlU3RhdGUgKmRldjsKLQotICAg
IHBjaSA9IHBjaV9jcmVhdGVfc2ltcGxlX211bHRpZnVuY3Rpb24ocGNpX2J1cywgUENJX0RFVkZO
KDEwLCAwKSwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWUs
IFRZUEVfUElJWDRfUENJX0RFVklDRSk7Ci0gICAgZGV2ID0gREVWSUNFKHBjaSk7Ci0gICAgaWYg
KGlzYV9idXMpIHsKLSAgICAgICAgKmlzYV9idXMgPSBJU0FfQlVTKHFkZXZfZ2V0X2NoaWxkX2J1
cyhkZXYsICJpc2EuMCIpKTsKLSAgICB9Ci0KLSAgICBoZCA9IGdfbmV3KERyaXZlSW5mbyAqLCBp
ZGVfZHJpdmVzKTsKLSAgICBpZGVfZHJpdmVfZ2V0KGhkLCBpZGVfZHJpdmVzKTsKLSAgICBwY2lf
cGlpeDRfaWRlX2luaXQocGNpX2J1cywgaGQsIHBjaS0+ZGV2Zm4gKyAxKTsKLSAgICBnX2ZyZWUo
aGQpOwotICAgIHBjaV9jcmVhdGVfc2ltcGxlKHBjaV9idXMsIHBjaS0+ZGV2Zm4gKyAyLCAicGlp
eDQtdXNiLXVoY2kiKTsKLSAgICBpZiAoc21idXMpIHsKLSAgICAgICAgKnNtYnVzID0gcGlpeDRf
cG1faW5pdChwY2lfYnVzLCBwY2ktPmRldmZuICsgMywgMHgxMTAwLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGlzYV9nZXRfaXJxKE5VTEwsIDkpLCBOVUxMLCAwLCBOVUxMKTsKLSAg
IH0KLQotICAgIHJldHVybiBkZXY7Ci19Ci0KIHN0YXRpYwogdm9pZCBtaXBzX21hbHRhX2luaXQo
TWFjaGluZVN0YXRlICptYWNoaW5lKQogewpkaWZmIC0tZ2l0IGEvaW5jbHVkZS9ody9pMzg2L3Bj
LmggYi9pbmNsdWRlL2h3L2kzODYvcGMuaAppbmRleCBjZjkyMmZkMTYyLi44NDgwNzhiYWNjIDEw
MDY0NAotLS0gYS9pbmNsdWRlL2h3L2kzODYvcGMuaAorKysgYi9pbmNsdWRlL2h3L2kzODYvcGMu
aApAQCAtMjc4LDggKzI3OCw2IEBAIFBDSUJ1cyAqaTQ0MGZ4X2luaXQoY29uc3QgY2hhciAqaG9z
dF90eXBlLCBjb25zdCBjaGFyICpwY2lfdHlwZSwKICAgICAgICAgICAgICAgICAgICAgTWVtb3J5
UmVnaW9uICpyYW1fbWVtb3J5KTsKIAogUENJQnVzICpmaW5kX2k0NDBmeCh2b2lkKTsKLS8qIHBp
aXg0LmMgKi8KLWV4dGVybiBQQ0lEZXZpY2UgKnBpaXg0X2RldjsKIAogLyogcGNfc3lzZncuYyAq
Lwogdm9pZCBwY19zeXN0ZW1fZmxhc2hfY3JlYXRlKFBDTWFjaGluZVN0YXRlICpwY21zKTsKZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvaHcvc291dGhicmlkZ2UvcGlpeC5oIGIvaW5jbHVkZS9ody9zb3V0
aGJyaWRnZS9waWl4LmgKaW5kZXggYjhjZTI2ZmVjNC4uYWRkMzUyNDU2YiAxMDA2NDQKLS0tIGEv
aW5jbHVkZS9ody9zb3V0aGJyaWRnZS9waWl4LmgKKysrIGIvaW5jbHVkZS9ody9zb3V0aGJyaWRn
ZS9waWl4LmgKQEAgLTIsNiArMiw3IEBACiAgKiBRRU1VIFBJSVggU291dGggQnJpZGdlIEVtdWxh
dGlvbgogICoKICAqIENvcHlyaWdodCAoYykgMjAwNiBGYWJyaWNlIEJlbGxhcmQKKyAqIENvcHly
aWdodCAoYykgMjAxOCBIZXJ2w6kgUG91c3NpbmVhdQogICoKICAqIFRoaXMgd29yayBpcyBsaWNl
bnNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHUEwsIHZlcnNpb24gMiBvciBsYXRlci4K
ICAqIFNlZSB0aGUgQ09QWUlORyBmaWxlIGluIHRoZSB0b3AtbGV2ZWwgZGlyZWN0b3J5LgpAQCAt
MTcsNCArMTgsOSBAQCBJMkNCdXMgKnBpaXg0X3BtX2luaXQoUENJQnVzICpidXMsIGludCBkZXZm
biwgdWludDMyX3Qgc21iX2lvX2Jhc2UsCiAgICAgICAgICAgICAgICAgICAgICAgcWVtdV9pcnEg
c2NpX2lycSwgcWVtdV9pcnEgc21pX2lycSwKICAgICAgICAgICAgICAgICAgICAgICBpbnQgc21t
X2VuYWJsZWQsIERldmljZVN0YXRlICoqcGlpeDRfcG0pOwogCitleHRlcm4gUENJRGV2aWNlICpw
aWl4NF9kZXY7CisKK0RldmljZVN0YXRlICpwaWl4NF9jcmVhdGUoUENJQnVzICpwY2lfYnVzLCBJ
U0FCdXMgKippc2FfYnVzLAorICAgICAgICAgICAgICAgICAgICAgICAgICBJMkNCdXMgKipzbWJ1
cywgc2l6ZV90IGlkZV9idXNlcyk7CisKICNlbmRpZgotLSAKMi4yMS4wCgoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlz
dApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

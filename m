Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 107888C441
	for <lists+xen-devel@lfdr.de>; Wed, 14 Aug 2019 00:30:17 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hxfF6-0005Xj-4O; Tue, 13 Aug 2019 22:26:12 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=WWvF=WJ=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1hxfF4-0005Xe-BB
 for xen-devel@lists.xenproject.org; Tue, 13 Aug 2019 22:26:10 +0000
X-Inumbo-ID: 56af5d02-be19-11e9-8726-9b51a3d777c1
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id 56af5d02-be19-11e9-8726-9b51a3d777c1;
 Tue, 13 Aug 2019 22:26:05 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 9731E1570;
 Tue, 13 Aug 2019 15:26:04 -0700 (PDT)
Received: from [10.37.12.34] (unknown [10.37.12.34])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 3B8773F718;
 Tue, 13 Aug 2019 15:26:02 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: Dario Faggioli <dfaggioli@suse.com>,
 "sstabellini@kernel.org" <sstabellini@kernel.org>
References: <alpine.DEB.2.21.1908071119470.2451@sstabellini-ThinkPad-T480s>
 <f986544f59e1b2e9fddba5090fc3c706c38e1ad3.camel@suse.com>
 <alpine.DEB.2.21.1908091127080.7788@sstabellini-ThinkPad-T480s>
 <6bc0e21d79c4f02ad89c94fa732a32a57bdc8521.camel@suse.com>
 <bfcd8473-a73b-932c-3cdf-7ad41c14e4c0@arm.com>
 <6f44856f428c936f9c1913f3f35196dff6044509.camel@suse.com>
 <fdbf9a17-acbf-3402-6b69-d1af0193df53@arm.com>
Message-ID: <a7b9dc8b-3f16-99cf-185f-f9b98b4b3796@arm.com>
Date: Tue, 13 Aug 2019 23:26:00 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <fdbf9a17-acbf-3402-6b69-d1af0193df53@arm.com>
Content-Language: en-US
Subject: Re: [Xen-devel] dom0less + sched=null => broken in staging
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: "George.Dunlap@eu.citrix.com" <George.Dunlap@eu.citrix.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGksCgpPbiA4LzEzLzE5IDc6NDMgUE0sIEp1bGllbiBHcmFsbCB3cm90ZToKPiAKPiAKPiBPbiA4
LzEzLzE5IDY6MzQgUE0sIERhcmlvIEZhZ2dpb2xpIHdyb3RlOgo+PiBPbiBUdWUsIDIwMTktMDgt
MTMgYXQgMTc6NTIgKzAxMDAsIEp1bGllbiBHcmFsbCB3cm90ZToKPj4+IEhpIERhcmlvLAo+Pj4K
Pj4gSGVsbG8hCj4+Cj4+PiBPbiA4LzEzLzE5IDQ6MjcgUE0sIERhcmlvIEZhZ2dpb2xpIHdyb3Rl
Ogo+Pj4+IE9uIEZyaSwgMjAxOS0wOC0wOSBhdCAxMTozMCAtMDcwMCwgU3RlZmFubyBTdGFiZWxs
aW5pIHdyb3RlOgo+Pj4+Pgo+Pj4+IEluIG15ICh4ODYgYW5kICJkb20wZnVsbCIpIHRlc3Rib3gs
IHRoaXMgc2VlbXMgdG8gY29tZSBmcm9tCj4+Pj4gZG9tYWluX3VucGF1c2VfYnlfc3lzdGVtY29u
dHJvbGxlcihkb20wKSBjYWxsZWQgYnkKPj4+PiB4ZW4vYXJjaC94ODYvc2V0dXAuYzppbml0X2Rv
bmUoKSwgYXQgdGhlIHZlcnkgZW5kIG9mIF9fc3RhcnRfeGVuKCkuCj4+Pj4KPj4+PiBJIGRvbid0
IGtub3cgaWYgZG9tYWluIGNvbnN0cnVjdGlvbiBpbiBhbiBBUk0gZG9tMGxlc3Mgc3lzdGVtIHdv
cmtzCj4+Pj4gc2ltaWxhcmx5LCB0aG91Z2guIFdoYXQgd2Ugd2FudCwgaXMgc29tZW9uZSBjYWxs
aW5nIGVpdGhlcgo+Pj4+IHZjcHVfd2FrZSgpCj4+Pj4gb3IgdmNwdV91bnBhdXNlKCksIGFmdGVy
IGhhdmluZyBjbGVhcmVkIF9WUEZfZG93biBmcm9tIHBhdXNlX2ZsYWdzLgo+Pj4KPj4+IExvb2tp
bmcgYXQgY3JlYXRlX2RvbVVzKCkgdGhlcmUgaXMgYSBjYWxsIHRvCj4+PiBkb21haW5fdW5wYXVz
ZV9ieV9jb250cm9sbGVyIGZvciBlYWNoIGRvbVVzLgo+Pj4KPj4gWWVzLCBJIHNhdyB0aGF0LiBB
bmQgSSd2ZSBzZWVuIHRoZSBvbmUgZG9uZSBkb24gZG9tMCwgYXQgdGhlIGVuZCBvZgo+PiB4ZW4v
YXJjaC9hcm0vc2V0dXAuYzpzdGFydF94ZW4oKSwgYXMgd2VsbC4KPj4KPj4gQWxzbywgYm90aCBj
b25zdHJ1Y3RfZG9tMCgpIChzdGlsbCBmcm9tIHN0YXJ0X3hlbigpKSBhbmQKPj4gY29uc3RydWN0
X2RvbVUoKSAoY2FsbGVkIGZyb20gY3JlYXRlX2RvbVVzKCkpIGNhbGwgY29uc3RydWN0X2RvbWFp
bigpLAo+PiB3aGljaCBkb2VzIGNsZWFyX2JpdChfVlBGX2Rvd24pLCBzZXR0aW5nIHRoZSBkb21h
aW4gdG8gb25saW5lLgo+Pgo+PiBTbywgdW5sZXNzIHRoZSBmbGFnIGdldHMgY2xlYXJlZCBhZ2Fp
biwgb3Igc29tZXRoaW5nIGVsc2UgaGFwcGVucyB0aGF0Cj4+IG1ha2VzIHRoZSB2Q1BVKHMpIGZh
aWwgdGhlIHZjcHVfcnVubmFibGUoKSBjaGVjayBpbgo+PiBkb21haW5fdW5wYXVzZSgpLT52Y3B1
X3dha2UoKSwgSSBkb24ndCBzZWUgd2h5IHRoZSB3YWtldXAgdGhhdCBsZXQgdGhlCj4+IG51bGwg
c2NoZWR1bGVyIHN0YXJ0IHNjaGVkdWxpbmcgdGhlIHZDUFUgZG9lc24ndCBoYXBwZW4uLi4gYXMg
aXQKPj4gaW5zdGVhZCBkb2VzIG9uIHg4NiBvciAhZG9tMGxlc3MgQVJNIChiZWNhdXNlLCBhcyBm
YXIgYXMgSSd2ZQo+PiB1bmRlcnN0b29kLCBpdCdzIG9ubHkgZG9tMGxlc3MgdGhhdCBkb2Vzbid0
IHdvcmssIGl0IHRoaXMgY29ycmVjdD8pCj4gCj4gWWVzLCBJIHF1aWNrbHkgdHJpZWQgdG8gdXNl
IE5VTEwgc2NoZWR1bGVyIHdpdGgganVzdCBkb20wIGFuZCBpdCBib290cy4KPiAKPiBJbnRlcmVz
dGluZ2x5LCBJIGNhbid0IHNlZSB0aGUgbG9nOgo+IAo+IChYRU4pIEZyZWVkIDMyOGtCIGluaXQg
bWVtb3J5Lgo+IAo+IFRoaXMgaXMgY2FsbGVkIGFzIHBhcnQgb2YgaW5pdF9kb25lIGJlZm9yZSBD
UFUwIGdvZXMgaW50byB0aGUgaWRsZSBsb29wLgo+IAo+IEFkZGluZyBtb3JlIGRlYnVnLCBpdCBp
cyBnZXR0aW5nIHN0dWNrIHdoZW4gY2FsbGluZyAKPiBkb21haW5fdW5wYXVzZV9ieV9jb250cm9s
bGVyIGZvciBkb20wLiBTcGVjaWZpY2FsbHkgdmNwdV93YWtlIG9uIGRvbTB2MC4KPiAKPiBUaGUg
bG9vcCB0byBhc3NpZ24gYSBwQ1BVIGluIG51bGxfdmNwdV93YWtlKCkgaXMgdHVybmluZyBpbnRv
IGFuIAo+IGluZmluaXRlIGxvb3AuIEluZGVlZCB0aGUgbG9vcCBpcyB0cnlpbmcgdG8gcGljayBD
UFUwIGZvciBkb20wdjAgdGhhdCBpcyAKPiBhbHJlYWR5IHVzZWQgYnkgZG9tMXYwLiBTbyB0aGUg
cHJvYmxlbSBpcyBpbiBwaWNrX2NwdSgpIG9yIHRoZSBkYXRhIHVzZWQgCj4gYnkgaXQuCj4gCj4g
SXQgZmVlbHMgdG8gbWUgdGhpcyBpcyBhbiBhZmZpbml0eSBwcm9ibGVtLiBOb3RlIHRoYXQgSSBk
aWRuJ3QgcmVxdWVzdCAKPiB0byBwaW4gZG9tMCB2Q1BVcy4KCkkgZGlkIGEgYml0IG1vcmUgZGln
Z2luZywgYXMgSSBwb2ludGVkIG91dCBiZWZvcmUsIHBpY2tfY3B1KCkgaXMKcmV0dXJuaW5nIHBD
UFUwLiBUaGlzIGlzIGJlY2F1c2UgcGVyX2NwdShuY3AsIDApID09IE5VTEwuCgpwZXJfY3B1KG5w
YywgMCkgd2lsbCBiZSBzZXQgYnkgdmNwdV9hc3NpZ24oKS4gQUZBSVUsIHRoZSBmdW5jdGlvbgpp
cyBjYWxsZWQgZHVyaW5nIHNjaGVkdWxpbmcuIEFzIENQVTAgaXMgbm90IGFibGUgdG8gc2VydmUg
c29mdGlycSB1bnRpbCBpdApmaW5pc2hlcyB0byBpbml0aWFsaXplLCBwZXJfY3B1KG5wYywgMCkg
d2lsbCBzdGlsbCBiZSBOVUxMIHdoZW4gdHJ5aW5nIHRvCndha2UgZG9tMHYwLgoKTXkga25vd2xl
ZGdlIG9mIHRoZSBzY2hlZHVsZXIgaXMgcHJldHR5IGxpbWl0ZWQsIHNvIEkgd2lsbCBsZWF2ZSB0
bwpEYXJpbyBhbmQgR2VvcmdlIHN1Z2dlc3RpbmcgYSBmaXggOikuCgpPbiBhIHNpZGUgbm90ZSwg
SSBoYXZlIHRyaWVkIHRvIGhhY2sgYSBiaXQgdGhlIERvbTAgdkNQVSBhbGxvY2F0aW9uCnRvIHNl
ZSBpZiBJIGNhbiBoZWxwIHlvdSB0byByZXByb2R1Y2UgaXQgb24geDg2LiBCdXQgSSBzdHVtYmxl
ZCBhY3Jvc3MKYW5vdGhlciBlcnJvciB3aGlsZSBicmluZ2luZyB1cCBkMHYxOgoKKFhFTikgQXNz
ZXJ0aW9uICdsb2NrID09IHBlcl9jcHUoc2NoZWR1bGVfZGF0YSwgdi0+cHJvY2Vzc29yKS5zY2hl
ZHVsZV9sb2NrJyBmYWlsZWQgYXQgL2hvbWUvanVsaWVuZy93b3Jrcy94ZW4veGVuL2luY2x1ZGUv
eGVuL3NjaGVkLWlmLmg6MTA4CihYRU4pIC0tLS1bIFhlbi00LjEzLXVuc3RhYmxlICBhcm02NCAg
ZGVidWc9eSAgIE5vdCB0YWludGVkIF0tLS0tCihYRU4pIENQVTogICAgMAoKWy4uLl0KCihYRU4p
IFhlbiBjYWxsIHRyYWNlOgooWEVOKSAgICBbPDAwMDAwMDAwMDAyMjUxYjg+XSB2Y3B1X3dha2Ur
MHg1NTAvMHg1NTQgKFBDKQooWEVOKSAgICBbPDAwMDAwMDAwMDAyMjRkYTQ+XSB2Y3B1X3dha2Ur
MHgxM2MvMHg1NTQgKExSKQooWEVOKSAgICBbPDAwMDAwMDAwMDAyNjE2MjQ+XSB2cHNjaS5jI2Rv
X2NvbW1vbl9jcHVfb24rMHgxMzQvMHgxYzQKKFhFTikgICAgWzwwMDAwMDAwMDAwMjYxYTA0Pl0g
ZG9fdnBzY2lfMF8yX2NhbGwrMHgyOTQvMHgzZDAKKFhFTikgICAgWzwwMDAwMDAwMDAwMjYxMmMw
Pl0gdnNtYy5jI3ZzbWNjY19oYW5kbGVfY2FsbCsweDNhMC8weDRiMAooWEVOKSAgICBbPDAwMDAw
MDAwMDAyNjE0ODQ+XSBkb190cmFwX2h2Y19zbWNjYysweDI4LzB4NGMKKFhFTikgICAgWzwwMDAw
MDAwMDAwMjU3ZWZjPl0gZG9fdHJhcF9ndWVzdF9zeW5jKzB4NTA4LzB4NWQ4CihYRU4pICAgIFs8
MDAwMDAwMDAwMDI2NTQyYz5dIGVudHJ5Lm8jZ3Vlc3Rfc3luY19zbG93cGF0aCsweDljLzB4Y2MK
KFhFTikgCihYRU4pICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKKFhF
TikgUGFuaWMgb24gQ1BVIDA6CihYRU4pIEFzc2VydGlvbiAnbG9jayA9PSBwZXJfY3B1KHNjaGVk
dWxlX2RhdGEsIHYtPnByb2Nlc3Nvcikuc2NoZWR1bGVfbG9jaycgZmFpbGVkIGF0IC9ob21lL2p1
bGllbmcvd29ya3MveGVuL3hlbi9pbmNsdWRlL3hlbi9zY2hlZC0qKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioKCkkgb25seSB0cnkgdG8gY3JlYXRlIGFsbCB0aGUgdkNQVSB0
byBwQ1BVIDAgd2l0aCB0aGUgZm9sbG93aW5nIGNvZGU6CgpkaWZmIC0tZ2l0IGEveGVuL2FyY2gv
YXJtL2RvbWFpbl9idWlsZC5jIGIveGVuL2FyY2gvYXJtL2RvbWFpbl9idWlsZC5jCmluZGV4IDRj
ODQwNDE1NWEuLmNlOTJlMzg0MWYgMTAwNjQ0Ci0tLSBhL3hlbi9hcmNoL2FybS9kb21haW5fYnVp
bGQuYworKysgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKQEAgLTIwMDQsNyArMjAwNCw3
IEBAIHN0YXRpYyBpbnQgX19pbml0IGNvbnN0cnVjdF9kb21haW4oc3RydWN0IGRvbWFpbiAqZCwg
c3RydWN0IGtlcm5lbF9pbmZvICpraW5mbykKICAgICBmb3IgKCBpID0gMSwgY3B1ID0gMDsgaSA8
IGQtPm1heF92Y3B1czsgaSsrICkKICAgICB7CiAgICAgICAgIGNwdSA9IGNwdW1hc2tfY3ljbGUo
Y3B1LCAmY3B1X29ubGluZV9tYXApOwotICAgICAgICBpZiAoIHZjcHVfY3JlYXRlKGQsIGksIGNw
dSkgPT0gTlVMTCApCisgICAgICAgIGlmICggdmNwdV9jcmVhdGUoZCwgaSwgMCkgPT0gTlVMTCAp
CiAgICAgICAgIHsKICAgICAgICAgICAgIHByaW50aygiRmFpbGVkIHRvIGFsbG9jYXRlIGRvbTAg
dmNwdSAlZCBvbiBwY3B1ICVkXG4iLCBpLCBjcHUpOwogICAgICAgICAgICAgYnJlYWs7CgpJIGFt
IG5vdCBlbnRpcmVseSBzdXJlIHdoZXRoZXIgdGhlIHByb2JsZW0gaXMgcmVsYXRlZC4KCkFueXdh
eSwgSSBoYXZlIHdyb3RlIHRoZSBmb2xsb3dpbmcgcGF0Y2ggdG8gcmVwcm9kdWNlIG9uIEFybSB3
aXRob3V0CmRvbTBsZXNzOgoKZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9kb21haW5fYnVpbGQu
YyBiL3hlbi9hcmNoL2FybS9kb21haW5fYnVpbGQuYwppbmRleCA0Yzg0MDQxNTVhLi4yMDI0NmFl
NDc1IDEwMDY0NAotLS0gYS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMKKysrIGIveGVuL2Fy
Y2gvYXJtL2RvbWFpbl9idWlsZC5jCkBAIC0yMDA0LDcgKzIwMDQsNyBAQCBzdGF0aWMgaW50IF9f
aW5pdCBjb25zdHJ1Y3RfZG9tYWluKHN0cnVjdCBkb21haW4gKmQsIHN0cnVjdCBrZXJuZWxfaW5m
byAqa2luZm8pCiAgICAgZm9yICggaSA9IDEsIGNwdSA9IDA7IGkgPCBkLT5tYXhfdmNwdXM7IGkr
KyApCiAgICAgewogICAgICAgICBjcHUgPSBjcHVtYXNrX2N5Y2xlKGNwdSwgJmNwdV9vbmxpbmVf
bWFwKTsKLSAgICAgICAgaWYgKCB2Y3B1X2NyZWF0ZShkLCBpLCBjcHUpID09IE5VTEwgKQorICAg
ICAgICBpZiAoIHZjcHVfY3JlYXRlKGQsIGksIDApID09IE5VTEwgKQogICAgICAgICB7CiAgICAg
ICAgICAgICBwcmludGsoIkZhaWxlZCB0byBhbGxvY2F0ZSBkb20wIHZjcHUgJWQgb24gcGNwdSAl
ZFxuIiwgaSwgY3B1KTsKICAgICAgICAgICAgIGJyZWFrOwpAQCAtMjAxOSw2ICsyMDE5LDEwIEBA
IHN0YXRpYyBpbnQgX19pbml0IGNvbnN0cnVjdF9kb21haW4oc3RydWN0IGRvbWFpbiAqZCwgc3Ry
dWN0IGtlcm5lbF9pbmZvICpraW5mbykKICAgICB2LT5pc19pbml0aWFsaXNlZCA9IDE7CiAgICAg
Y2xlYXJfYml0KF9WUEZfZG93biwgJnYtPnBhdXNlX2ZsYWdzKTsKIAorICAgIHYgPSBkLT52Y3B1
WzFdOworICAgIHYtPmlzX2luaXRpYWxpc2VkID0gMTsKKyAgICBjbGVhcl9iaXQoX1ZQRl9kb3du
LCAmdi0+cGF1c2VfZmxhZ3MpOworCiAgICAgcmV0dXJuIDA7CiB9CiAKVGhpcyBjb3VsZCBlYXNp
bHkgYmUgYWRhcHQgZm9yIHg4NiBzbyB5b3UgY2FuIHJlcHJvZHVjZSBpdCBlYXNpbHkgOikuCgpD
aGVlcnMsCgotLSAKSnVsaWVuIEdyYWxsCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhlbi1kZXZlbEBsaXN0cy54
ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL21haWxtYW4vbGlzdGlu
Zm8veGVuLWRldmVs

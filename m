Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 09A4711E44C
	for <lists+xen-devel@lfdr.de>; Fri, 13 Dec 2019 14:05:57 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1ifkav-0003Xz-Az; Fri, 13 Dec 2019 13:02:57 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=tyHa=2D=gmail.com=sj38.park@srs-us1.protection.inumbo.net>)
 id 1ifkas-0003Xd-SQ
 for xen-devel@lists.xenproject.org; Fri, 13 Dec 2019 13:02:54 +0000
X-Inumbo-ID: dfdb46d8-1da8-11ea-b6f1-bc764e2007e4
Received: from mail-pl1-x643.google.com (unknown [2607:f8b0:4864:20::643])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id dfdb46d8-1da8-11ea-b6f1-bc764e2007e4;
 Fri, 13 Dec 2019 13:02:53 +0000 (UTC)
Received: by mail-pl1-x643.google.com with SMTP id d15so1226503pll.3
 for <xen-devel@lists.xenproject.org>; Fri, 13 Dec 2019 05:02:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=nLDfxoPJ5VtxV7g2ayKIW9c6W7jyRpbX81WHy5tkNdc=;
 b=na95Bme5BuXyVngE8myQYMjzMOhLSpJlxbPfCES+KyNqJhN9pBMo7Sek/1TUdEUl6s
 feKvl8vXkbftx6BWBVumtm7Bxs+WbGFrPCd/n9Bsa5epPzG0T0Xt3yQLwmIqX3EKGi3D
 L6q1pVNtT3HY2/Fpax5NGTaE1iN8uYtQSCdp0oVPzsvWdPDNhN162tZd95f16Xw8Va0F
 KUdEehtK0YygYRFhipSdVJ0WmJw5vxeJekMpzsMoXNYkufIYozKkDuIUeIcTVXUfPtcW
 dgUeC+UFWFTnJ9MfuPhANerWvCEV5s/Nk0IllLkd6lZJqbncfoi0BaJwM651/UIhPnIi
 OHvw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=nLDfxoPJ5VtxV7g2ayKIW9c6W7jyRpbX81WHy5tkNdc=;
 b=IfscXvIQaYYOUKN7kRP4LEeDhYVTSZ3psJXQJmvj12L5lDFg0ZyLBu+HuCEDCmDem4
 w1Aqjnr195kEdKeFFqXevYcMuvTMFoE775VfhoEkKDiVBw3aC2Flj7oynfmv/oszfjiG
 uBWbx9u/9/qPMEV1/blAWFOHXctYn17Ypnbjz3Oha0swTNzgXTzkvnmOSvP2BBbFoOuZ
 pBCCyQ7HtmIp84iue6elFBM4MnwcpAU/JQIkP3mhNy5yun9juBsJca7drDpp/Q4JaxzN
 qSdeQcTfGj7FoW5vtHx/AXANT5JIAUKM3YqZKADFPOqPJQYpqbq7K6Vz0TjfsqKBAZ5r
 EN4w==
X-Gm-Message-State: APjAAAXkbKSSVz2aOg5UMUUx8oqIVzsJCWkBk/HQ4s3+gbsQekRX+3AR
 PPBO7vxWQn6v9NVk97rPGM4=
X-Google-Smtp-Source: APXvYqwfNs3rYNCe85uoLP4qaAjVzfZujTE+Gw7cyfzke+ypRyumEQSr/Pa7zGuzaOUuJPWIC0vuSw==
X-Received: by 2002:a17:90a:200d:: with SMTP id
 n13mr16663435pjc.16.1576242172888; 
 Fri, 13 Dec 2019 05:02:52 -0800 (PST)
Received: from localhost.localdomain ([12.176.148.120])
 by smtp.gmail.com with ESMTPSA id k3sm10872278pgc.3.2019.12.13.05.02.51
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 13 Dec 2019 05:02:52 -0800 (PST)
From: SeongJae Park <sj38.park@gmail.com>
X-Google-Original-From: SeongJae Park <sjpark@amazon.de>
To: jgross@suse.com, axboe@kernel.dk, konrad.wilk@oracle.com,
 roger.pau@citrix.com
Date: Fri, 13 Dec 2019 13:02:10 +0000
Message-Id: <20191213130211.24011-3-sjpark@amazon.de>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191213130211.24011-1-sjpark@amazon.de>
References: <20191213130211.24011-1-sjpark@amazon.de>
MIME-Version: 1.0
Subject: [Xen-devel] [PATCH v8 2/3] xen/blkback: Squeeze page pools if a
 memory pressure is detected
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: linux-block@vger.kernel.org, sjpark@amazon.com, pdurrant@amazon.com,
 SeongJae Park <sjpark@amazon.de>, linux-kernel@vger.kernel.org,
 sj38.park@gmail.com, xen-devel@lists.xenproject.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RWFjaCBgYmxraWZgIGhhcyBhIGZyZWUgcGFnZXMgcG9vbCBmb3IgdGhlIGdyYW50IG1hcHBpbmcu
ICBUaGUgc2l6ZSBvZgp0aGUgcG9vbCBzdGFydHMgZnJvbSB6ZXJvIGFuZCBpcyBpbmNyZWFzZWQg
b24gZGVtYW5kIHdoaWxlIHByb2Nlc3NpbmcKdGhlIEkvTyByZXF1ZXN0cy4gIElmIGN1cnJlbnQg
SS9PIHJlcXVlc3RzIGhhbmRsaW5nIGlzIGZpbmlzaGVkIG9yIDEwMAptaWxsaXNlY29uZHMgaGFz
IHBhc3NlZCBzaW5jZSBsYXN0IEkvTyByZXF1ZXN0cyBoYW5kbGluZywgaXQgY2hlY2tzIGFuZApz
aHJpbmtzIHRoZSBwb29sIHRvIG5vdCBleGNlZWQgdGhlIHNpemUgbGltaXQsIGBtYXhfYnVmZmVy
X3BhZ2VzYC4KClRoZXJlZm9yZSwgaG9zdCBhZG1pbmlzdHJhdG9ycyBjYW4gY2F1c2UgbWVtb3J5
IHByZXNzdXJlIGluIGJsa2JhY2sgYnkKYXR0YWNoaW5nIGEgbGFyZ2UgbnVtYmVyIG9mIGJsb2Nr
IGRldmljZXMgYW5kIGluZHVjaW5nIEkvTy4gIFN1Y2gKcHJvYmxlbWF0aWMgc2l0dWF0aW9ucyBj
YW4gYmUgYXZvaWRlZCBieSBsaW1pdGluZyB0aGUgbWF4aW11bSBudW1iZXIgb2YKZGV2aWNlcyB0
aGF0IGNhbiBiZSBhdHRhY2hlZCwgYnV0IGZpbmRpbmcgdGhlIG9wdGltYWwgbGltaXQgaXMgbm90
IHNvCmVhc3kuICBJbXByb3BlciBzZXQgb2YgdGhlIGxpbWl0IGNhbiByZXN1bHRzIGluIG1lbW9y
eSBwcmVzc3VyZSBvciBhCnJlc291cmNlIHVuZGVydXRpbGl6YXRpb24uICBUaGlzIGNvbW1pdCBh
dm9pZHMgc3VjaCBwcm9ibGVtYXRpYwpzaXR1YXRpb25zIGJ5IHNxdWVlemluZyB0aGUgcG9vbHMg
KHJldHVybnMgZXZlcnkgZnJlZSBwYWdlIGluIHRoZSBwb29sCnRvIHRoZSBzeXN0ZW0pIGZvciBh
IHdoaWxlICh1c2VycyBjYW4gc2V0IHRoaXMgZHVyYXRpb24gdmlhIGEgbW9kdWxlCnBhcmFtZXRl
cikgaWYgbWVtb3J5IHByZXNzdXJlIGlzIGRldGVjdGVkLgoKRGlzY3Vzc2lvbnMKPT09PT09PT09
PT0KClRoZSBgYmxrYmFja2AncyBvcmlnaW5hbCBzaHJpbmtpbmcgbWVjaGFuaXNtIHJldHVybnMg
b25seSBwYWdlcyBpbiB0aGUKcG9vbCB3aGljaCBhcmUgbm90IGN1cnJlbnRseSBiZSB1c2VkIGJ5
IGBibGtiYWNrYCB0byB0aGUgc3lzdGVtLiAgSW4Kb3RoZXIgd29yZHMsIHRoZSBwYWdlcyB0aGF0
IGFyZSBub3QgbWFwcGVkIHdpdGggZ3JhbnRlZCBwYWdlcy4gIEJlY2F1c2UKdGhpcyBjb21taXQg
aXMgY2hhbmdpbmcgb25seSB0aGUgc2hyaW5rIGxpbWl0IGJ1dCBzdGlsbCB1c2VzIHRoZSBzYW1l
CmZyZWVpbmcgbWVjaGFuaXNtIGl0IGRvZXMgbm90IHRvdWNoIHBhZ2VzIHdoaWNoIGFyZSBjdXJy
ZW50bHkgbWFwcGluZwpncmFudHMuCgpPbmNlIG1lbW9yeSBwcmVzc3VyZSBpcyBkZXRlY3RlZCwg
dGhpcyBjb21taXQga2VlcHMgdGhlIHNxdWVlemluZyBsaW1pdApmb3IgYSB1c2VyLXNwZWNpZmll
ZCB0aW1lIGR1cmF0aW9uLiAgVGhlIGR1cmF0aW9uIHNob3VsZCBiZSBuZWl0aGVyIHRvbwpsb25n
IG5vciB0b28gc2hvcnQuICBJZiBpdCBpcyB0b28gbG9uZywgdGhlIHNxdWVlemluZyBpbmN1cnJp
bmcgb3ZlcmhlYWQKY2FuIHJlZHVjZSB0aGUgSS9PIHBlcmZvcm1hbmNlLiAgSWYgaXQgaXMgdG9v
IHNob3J0LCBgYmxrYmFja2Agd2lsbCBub3QKZnJlZSBlbm91Z2ggcGFnZXMgdG8gcmVkdWNlIHRo
ZSBtZW1vcnkgcHJlc3N1cmUuICBUaGlzIGNvbW1pdCBzZXRzIHRoZQp2YWx1ZSBhcyBgMTAgbWls
bGlzZWNvbmRzYCBieSBkZWZhdWx0IGJlY2F1c2UgaXQgaXMgYSBzaG9ydCB0aW1lIGluCnRlcm1z
IG9mIEkvTyB3aGlsZSBpdCBpcyBhIGxvbmcgdGltZSBpbiB0ZXJtcyBvZiBtZW1vcnkgb3BlcmF0
aW9ucy4KQWxzbywgYXMgdGhlIG9yaWdpbmFsIHNocmlua2luZyBtZWNoYW5pc20gd29ya3MgZm9y
IGF0IGxlYXN0IGV2ZXJ5IDEwMAptaWxsaXNlY29uZHMsIHRoaXMgY291bGQgYmUgYSBzb21ld2hh
dCByZWFzb25hYmxlIGNob2ljZS4gIEkgYWxzbyB0ZXN0ZWQKb3RoZXIgZHVyYXRpb25zIChyZWZl
ciB0byB0aGUgYmVsb3cgc2VjdGlvbiBmb3IgbW9yZSBkZXRhaWxzKSBhbmQKY29uZmlybWVkIHRo
YXQgMTAgbWlsbGlzZWNvbmRzIGlzIHRoZSBvbmUgdGhhdCB3b3JrcyBiZXN0IHdpdGggdGhlIHRl
c3QuClRoYXQgc2FpZCwgdGhlIHByb3BlciBkdXJhdGlvbiBkZXBlbmRzIG9uIGFjdHVhbCBjb25m
aWd1cmF0aW9ucyBhbmQKd29ya2xvYWRzLiAgVGhhdCdzIHdoeSB0aGlzIGNvbW1pdCBhbGxvd3Mg
dXNlcnMgdG8gc2V0IHRoZSBkdXJhdGlvbiBhcyBhCm1vZHVsZSBwYXJhbWV0ZXIuCgpNZW1vcnkg
UHJlc3N1cmUgVGVzdAo9PT09PT09PT09PT09PT09PT09PQoKVG8gc2hvdyBob3cgdGhpcyBjb21t
aXQgZml4ZXMgdGhlIG1lbW9yeSBwcmVzc3VyZSBzaXR1YXRpb24gd2VsbCwgSQpjb25maWd1cmVk
IGEgdGVzdCBlbnZpcm9ubWVudCBvbiBhIHhlbi1ydW5uaW5nIHZpcnR1YWxpemF0aW9uIHN5c3Rl
bS4KT24gdGhlIGBibGtmcm9udGAgcnVubmluZyBndWVzdCBpbnN0YW5jZXMsIEkgYXR0YWNoIGEg
bGFyZ2UgbnVtYmVyIG9mCm5ldHdvcmstYmFja2VkIHZvbHVtZSBkZXZpY2VzIGFuZCBpbmR1Y2Ug
SS9PIHRvIHRob3NlLiAgTWVhbndoaWxlLCBJCm1lYXN1cmUgdGhlIG51bWJlciBvZiBwYWdlcyB0
aGF0IHN3YXBwZWQgaW4gKHBzd3BpbikgYW5kIG91dCAocHN3cG91dCkKb24gdGhlIGBibGtiYWNr
YCBydW5uaW5nIGd1ZXN0LiAgVGhlIHRlc3QgcmFuIHR3aWNlLCBvbmNlIGZvciB0aGUKYGJsa2Jh
Y2tgIGJlZm9yZSB0aGlzIGNvbW1pdCBhbmQgb25jZSBmb3IgdGhhdCBhZnRlciB0aGlzIGNvbW1p
dC4gIEFzCnNob3duIGJlbG93LCB0aGlzIGNvbW1pdCBoYXMgZHJhbWF0aWNhbGx5IHJlZHVjZWQg
dGhlIG1lbW9yeSBwcmVzc3VyZToKCiAgICAgICAgICAgICAgICBwc3dwaW4gIHBzd3BvdXQKICAg
IGJlZm9yZSAgICAgIDc2LDY3MiAgMTg1LDc5OQogICAgYWZ0ZXIgICAgICAgICAgMjEyICAgIDMs
MzI1CgpPcHRpbWFsIEFnZ3Jlc3NpdmUgU2hyaW5raW5nIER1cmF0aW9uCi0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KClRvIGZpbmQgYSBiZXN0IHNxdWVlemluZyBkdXJhdGlv
biwgSSByZXBlYXRlZCB0aGUgdGVzdCB3aXRoIHRocmVlCmRpZmZlcmVudCBkdXJhdGlvbnMgKDFt
cywgMTBtcywgYW5kIDEwMG1zKS4gIFRoZSByZXN1bHRzIGFyZSBhcyBiZWxvdzoKCiAgICBkdXJh
dGlvbiAgICBwc3dwaW4gIHBzd3BvdXQKICAgIDEgICAgICAgICAgIDg1MiAgICAgNiw0MjQKICAg
IDEwICAgICAgICAgIDIxMiAgICAgMywzMjUKICAgIDEwMCAgICAgICAgIDIwMyAgICAgMywzNDAK
CkFzIGV4cGVjdGVkLCB0aGUgbWVtb3J5IHByZXNzdXJlIGhhcyBkZWNyZWFzZWQgYXMgdGhlIGR1
cmF0aW9uIGlzCmluY3JlYXNlZCwgYnV0IHRoZSByZWR1Y3Rpb24gc3RvcHBlZCBmcm9tIHRoZSBg
MTBtc2AuICBCYXNlZCBvbiB0aGlzCnJlc3VsdHMsIEkgY2hvc2UgdGhlIGRlZmF1bHQgZHVyYXRp
b24gYXMgMTBtcy4KClBlcmZvcm1hbmNlIE92ZXJoZWFkIFRlc3QKPT09PT09PT09PT09PT09PT09
PT09PT09PQoKVGhpcyBjb21taXQgY291bGQgaW5jdXIgSS9PIHBlcmZvcm1hbmNlIGRlZ3JhZGF0
aW9uIHVuZGVyIHNldmVyZSBtZW1vcnkKcHJlc3N1cmUgYmVjYXVzZSB0aGUgc3F1ZWV6aW5nIHdp
bGwgcmVxdWlyZSBtb3JlIHBhZ2UgYWxsb2NhdGlvbnMgcGVyCkkvTy4gIFRvIHNob3cgdGhlIG92
ZXJoZWFkLCBJIGFydGlmaWNpYWxseSBtYWRlIGEgd29yc3QtY2FzZSBzcXVlZXppbmcKc2l0dWF0
aW9uIGFuZCBtZWFzdXJlZCB0aGUgSS9PIHBlcmZvcm1hbmNlIG9mIGEgYGJsa2Zyb250YCBydW5u
aW5nCmd1ZXN0LgoKRm9yIHRoZSBhcnRpZmljaWFsIHNxdWVlemluZywgSSBzZXQgdGhlIGBibGti
YWNrLm1heF9idWZmZXJfcGFnZXNgIHVzaW5nCnRoZSBgL3N5cy9tb2R1bGUveGVuX2Jsa2JhY2sv
cGFyYW1ldGVycy9tYXhfYnVmZmVyX3BhZ2VzYCBmaWxlLiAgSW4gdGhpcwp0ZXN0LCBJIHNldCB0
aGUgdmFsdWUgdG8gYDEwMjRgIGFuZCBgMGAuICBUaGUgYDEwMjRgIGlzIHRoZSBkZWZhdWx0CnZh
bHVlLiAgU2V0dGluZyB0aGUgdmFsdWUgYXMgYDBgIGlzIHNhbWUgdG8gYSBzaXR1YXRpb24gZG9p
bmcgdGhlCnNxdWVlemluZyBhbHdheXMgKHdvcnN0LWNhc2UpLgoKRm9yIHRoZSBJL08gcGVyZm9y
bWFuY2UgbWVhc3VyZW1lbnQsIEkgcnVuIGEgc2ltcGxlIGBkZGAgY29tbWFuZCA1IHRpbWVzCmFz
IGJlbG93IGFuZCBjb2xsZWN0IHRoZSAnTUIvcycgcmVzdWx0cy4KCiAgICAkIGZvciBpIGluIHsx
Li41fTsgZG8gZGQgaWY9L2Rldi96ZXJvIG9mPWZpbGUgXAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJzPTRrIGNvdW50PSQoKDI1Nio1MTIpKTsgc3luYzsgZG9uZQoKSWYgdGhlIHVuZGVy
bHlpbmcgYmxvY2sgZGV2aWNlIGlzIHNsb3cgZW5vdWdoLCB0aGUgc3F1ZWV6aW5nIG92ZXJoZWFk
CmNvdWxkIGJlIGhpZGRlbi4gIEZvciB0aGUgcmVhc29uLCBJIGRvIHRoaXMgdGVzdCBmb3IgYm90
aCBhIHNsb3cgYmxvY2sKZGV2aWNlIGFuZCBhIGZhc3QgYmxvY2sgZGV2aWNlLiAgSSB1c2UgYSBw
b3B1bGFyIGNsb3VkIGJsb2NrIHN0b3JhZ2UKc2VydmljZSwgZWJzWzFdIGFzIGEgc2xvdyBkZXZp
Y2UgYW5kIHRoZSByYW1kaXNrIGJsb2NrIGRldmljZVsyXSBmb3IgdGhlCmZhc3QgZGV2aWNlLgoK
VGhlIHJlc3VsdHMgYXJlIGFzIGJlbG93LiAgJ21heF9wZ3MnIHJlcHJlc2VudHMgdGhlIHZhbHVl
IG9mIHRoZQpgYmxrYmFjay5tYXhfYnVmZmVyX3BhZ2VzYCBwYXJhbWV0ZXIuCgpPbiB0aGUgc2xv
dyBibG9jayBkZXZpY2UKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgbWF4X3BncyAgIE1p
biAgICAgICBNYXggICAgICAgTWVkaWFuICAgICBBdmcgICAgU3RkZGV2CiAgICAwICAgICAgICAg
MzguNyAgICAgIDQ1LjggICAgICAzOC43ICAgICAgIDQwLjEyICAzLjE3NTIxNjUKICAgIDEwMjQg
ICAgICAzOC43ICAgICAgNDUuOCAgICAgIDM4LjcgICAgICAgNDAuMTIgIDMuMTc1MjE2NQogICAg
Tm8gZGlmZmVyZW5jZSBwcm92ZW4gYXQgOTUuMCUgY29uZmlkZW5jZQoKT24gdGhlIGZhc3QgYmxv
Y2sgZGV2aWNlCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgIG1heF9wZ3MgICBNaW4gICAg
ICAgTWF4ICAgICAgIE1lZGlhbiAgICAgQXZnICAgIFN0ZGRldgogICAgMCAgICAgICAgIDQxNyAg
ICAgICA0MjMgICAgICAgNDIwICAgICAgICA0MTkuNCAgMi41MDk5ODAxCiAgICAxMDI0ICAgICAg
NDE0ICAgICAgIDQyNSAgICAgICA0MTYgICAgICAgIDQxNy44ICA0LjQzODQ2ODIKICAgIE5vIGRp
ZmZlcmVuY2UgcHJvdmVuIGF0IDk1LjAlIGNvbmZpZGVuY2UKCkluIHNob3J0LCBldmVuIHdvcnN0
IGNhc2Ugc3F1ZWV6aW5nIG9uIHJhbWRpc2sgYmFzZWQgZmFzdCBibG9jayBkZXZpY2UKbWFrZXMg
bm8gdmlzaWJsZSBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvbi4gIFBsZWFzZSBub3RlIHRoYXQgdGhp
cyBpcyBqdXN0CmEgdmVyeSBzaW1wbGUgYW5kIG1pbmltYWwgdGVzdC4gIE9uIHN5c3RlbXMgdXNp
bmcgc3VwZXItZmFzdCBibG9jawpkZXZpY2VzIGFuZCBhIHNwZWNpYWwgSS9PIHdvcmtsb2FkLCB0
aGUgcmVzdWx0cyBtaWdodCBiZSBkaWZmZXJlbnQuICBJZgp5b3UgaGF2ZSBhbnkgZG91YnQsIHRl
c3Qgb24geW91ciBtYWNoaW5lIHdpdGggeW91ciB3b3JrbG9hZCB0byBmaW5kIHRoZQpvcHRpbWFs
IHNxdWVlemluZyBkdXJhdGlvbiBmb3IgeW91LgoKWzFdIGh0dHBzOi8vYXdzLmFtYXpvbi5jb20v
ZWJzLwpbMl0gaHR0cHM6Ly93d3cua2VybmVsLm9yZy9kb2MvaHRtbC9sYXRlc3QvYWRtaW4tZ3Vp
ZGUvYmxvY2tkZXYvcmFtZGlzay5odG1sCgpSZXZpZXdlZC1ieTogSnVlcmdlbiBHcm9zcyA8amdy
b3NzQHN1c2UuY29tPgpTaWduZWQtb2ZmLWJ5OiBTZW9uZ0phZSBQYXJrIDxzanBhcmtAYW1hem9u
LmRlPgotLS0KIC4uLi9BQkkvdGVzdGluZy9zeXNmcy1kcml2ZXIteGVuLWJsa2JhY2sgICAgICB8
ICA5ICsrKysrKysrCiBkcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYyAgICAgICAg
ICAgfCAyMiArKysrKysrKysrKysrKysrKy0tCiBkcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Nv
bW1vbi5oICAgICAgICAgICAgfCAgMiArKwogZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay94ZW5i
dXMuYyAgICAgICAgICAgIHwgMTEgKysrKysrKysrLQogNCBmaWxlcyBjaGFuZ2VkLCA0MSBpbnNl
cnRpb25zKCspLCAzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL0RvY3VtZW50YXRpb24vQUJJ
L3Rlc3Rpbmcvc3lzZnMtZHJpdmVyLXhlbi1ibGtiYWNrIGIvRG9jdW1lbnRhdGlvbi9BQkkvdGVz
dGluZy9zeXNmcy1kcml2ZXIteGVuLWJsa2JhY2sKaW5kZXggNGU3YmFiYjNiYTFmLi5hNzRhNmQ1
MTNjOWYgMTAwNjQ0Ci0tLSBhL0RvY3VtZW50YXRpb24vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVy
LXhlbi1ibGtiYWNrCisrKyBiL0RvY3VtZW50YXRpb24vQUJJL3Rlc3Rpbmcvc3lzZnMtZHJpdmVy
LXhlbi1ibGtiYWNrCkBAIC0yNSwzICsyNSwxMiBAQCBEZXNjcmlwdGlvbjoKICAgICAgICAgICAg
ICAgICBhbGxvY2F0ZWQgd2l0aG91dCBiZWluZyBpbiB1c2UuIFRoZSB0aW1lIGlzIGluCiAgICAg
ICAgICAgICAgICAgc2Vjb25kcywgMCBtZWFucyBpbmRlZmluaXRlbHkgbG9uZy4KICAgICAgICAg
ICAgICAgICBUaGUgZGVmYXVsdCBpcyA2MCBzZWNvbmRzLgorCitXaGF0OiAgICAgICAgICAgL3N5
cy9tb2R1bGUveGVuX2Jsa2JhY2svcGFyYW1ldGVycy9idWZmZXJfc3F1ZWV6ZV9kdXJhdGlvbl9t
cworRGF0ZTogICAgICAgICAgIERlY2VtYmVyIDIwMTkKK0tlcm5lbFZlcnNpb246ICA1LjUKK0Nv
bnRhY3Q6ICAgICAgICBSb2dlciBQYXUgTW9ubsOpIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KK0Rl
c2NyaXB0aW9uOgorICAgICAgICAgICAgICAgIEhvdyBsb25nIHRoZSBibG9jayBiYWNrZW5kIGJ1
ZmZlcnMgcmVsZWFzZSBldmVyeSBmcmVlIHBhZ2VzIGluCisgICAgICAgICAgICAgICAgdGhvc2Ug
dW5kZXIgbWVtb3J5IHByZXNzdXJlLiAgVGhlIHRpbWUgaXMgaW4gbWlsbGlzZWNvbmRzLgorICAg
ICAgICAgICAgICAgIFRoZSBkZWZhdWx0IGlzIDEwIG1pbGxpc2Vjb25kcy4KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2svYmxrYmFjay5jIGIvZHJpdmVycy9ibG9jay94ZW4t
YmxrYmFjay9ibGtiYWNrLmMKaW5kZXggZmQxZTE5ZjFhNDlmLi4yNjYwNmM0ODk2ZmQgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2svYmxrYmFjay5jCisrKyBiL2RyaXZlcnMv
YmxvY2sveGVuLWJsa2JhY2svYmxrYmFjay5jCkBAIC0xNDIsNiArMTQyLDIxIEBAIHN0YXRpYyBp
bmxpbmUgYm9vbCBwZXJzaXN0ZW50X2dudF90aW1lb3V0KHN0cnVjdCBwZXJzaXN0ZW50X2dudCAq
cGVyc2lzdGVudF9nbnQpCiAJCUhaICogeGVuX2Jsa2lmX3BncmFudF90aW1lb3V0KTsKIH0KIAor
LyogT25jZSBhIG1lbW9yeSBwcmVzc3VyZSBpcyBkZXRlY3RlZCwgc3F1ZWV6ZSBmcmVlIHBhZ2Ug
cG9vbHMgZm9yIGEgd2hpbGUuICovCitzdGF0aWMgdW5zaWduZWQgaW50IGJ1ZmZlcl9zcXVlZXpl
X2R1cmF0aW9uX21zID0gMTA7Cittb2R1bGVfcGFyYW1fbmFtZWQoYnVmZmVyX3NxdWVlemVfZHVy
YXRpb25fbXMsCisJCWJ1ZmZlcl9zcXVlZXplX2R1cmF0aW9uX21zLCBpbnQsIDA2NDQpOworTU9E
VUxFX1BBUk1fREVTQyhidWZmZXJfc3F1ZWV6ZV9kdXJhdGlvbl9tcywKKyJEdXJhdGlvbiBpbiBt
cyB0byBzcXVlZXplIHBhZ2VzIGJ1ZmZlciB3aGVuIGEgbWVtb3J5IHByZXNzdXJlIGlzIGRldGVj
dGVkIik7CisKK3N0YXRpYyB1bnNpZ25lZCBsb25nIGJ1ZmZlcl9zcXVlZXplX2VuZDsKKwordm9p
ZCB4ZW5fYmxrYmtfdXBkYXRlX2J1ZmZlcl9zcXVlZXplX2VuZChzdHJ1Y3QgeGVuX2Jsa2lmICpi
bGtpZikKK3sKKwlibGtpZi0+YnVmZmVyX3NxdWVlemVfZW5kID0gamlmZmllcyArCisJCW1zZWNz
X3RvX2ppZmZpZXMoYnVmZmVyX3NxdWVlemVfZHVyYXRpb25fbXMpOworfQorCiBzdGF0aWMgaW5s
aW5lIGludCBnZXRfZnJlZV9wYWdlKHN0cnVjdCB4ZW5fYmxraWZfcmluZyAqcmluZywgc3RydWN0
IHBhZ2UgKipwYWdlKQogewogCXVuc2lnbmVkIGxvbmcgZmxhZ3M7CkBAIC02NTYsOCArNjcxLDEx
IEBAIGludCB4ZW5fYmxraWZfc2NoZWR1bGUodm9pZCAqYXJnKQogCQkJcmluZy0+bmV4dF9scnUg
PSBqaWZmaWVzICsgbXNlY3NfdG9famlmZmllcyhMUlVfSU5URVJWQUwpOwogCQl9CiAKLQkJLyog
U2hyaW5rIGlmIHdlIGhhdmUgbW9yZSB0aGFuIHhlbl9ibGtpZl9tYXhfYnVmZmVyX3BhZ2VzICov
Ci0JCXNocmlua19mcmVlX3BhZ2Vwb29sKHJpbmcsIHhlbl9ibGtpZl9tYXhfYnVmZmVyX3BhZ2Vz
KTsKKwkJLyogU2hyaW5rIHRoZSBmcmVlIHBhZ2VzIHBvb2wgaWYgaXQgaXMgdG9vIGxhcmdlLiAq
LworCQlpZiAodGltZV9iZWZvcmUoamlmZmllcywgYnVmZmVyX3NxdWVlemVfZW5kKSkKKwkJCXNo
cmlua19mcmVlX3BhZ2Vwb29sKHJpbmcsIDApOworCQllbHNlCisJCQlzaHJpbmtfZnJlZV9wYWdl
cG9vbChyaW5nLCB4ZW5fYmxraWZfbWF4X2J1ZmZlcl9wYWdlcyk7CiAKIAkJaWYgKGxvZ19zdGF0
cyAmJiB0aW1lX2FmdGVyKGppZmZpZXMsIHJpbmctPnN0X3ByaW50KSkKIAkJCXByaW50X3N0YXRz
KHJpbmcpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9jb21tb24uaCBi
L2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2svY29tbW9uLmgKaW5kZXggMWQzMDAyZDc3M2Y3Li5i
YTY1MzEyNjE3N2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2svY29tbW9u
LmgKKysrIGIvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9jb21tb24uaApAQCAtMzE5LDYgKzMx
OSw3IEBAIHN0cnVjdCB4ZW5fYmxraWYgewogCS8qIEFsbCByaW5ncyBmb3IgdGhpcyBkZXZpY2Uu
ICovCiAJc3RydWN0IHhlbl9ibGtpZl9yaW5nCSpyaW5nczsKIAl1bnNpZ25lZCBpbnQJCW5yX3Jp
bmdzOworCXVuc2lnbmVkIGxvbmcJCWJ1ZmZlcl9zcXVlZXplX2VuZDsKIH07CiAKIHN0cnVjdCBz
ZWdfYnVmIHsKQEAgLTM4Myw2ICszODQsNyBAQCBpcnFyZXR1cm5fdCB4ZW5fYmxraWZfYmVfaW50
KGludCBpcnEsIHZvaWQgKmRldl9pZCk7CiBpbnQgeGVuX2Jsa2lmX3NjaGVkdWxlKHZvaWQgKmFy
Zyk7CiBpbnQgeGVuX2Jsa2lmX3B1cmdlX3BlcnNpc3RlbnQodm9pZCAqYXJnKTsKIHZvaWQgeGVu
X2Jsa2JrX2ZyZWVfY2FjaGVzKHN0cnVjdCB4ZW5fYmxraWZfcmluZyAqcmluZyk7Cit2b2lkIHhl
bl9ibGtia191cGRhdGVfYnVmZmVyX3NxdWVlemVfZW5kKHN0cnVjdCB4ZW5fYmxraWYgKmJsa2lm
KTsKIAogaW50IHhlbl9ibGtia19mbHVzaF9kaXNrY2FjaGUoc3RydWN0IHhlbmJ1c190cmFuc2Fj
dGlvbiB4YnQsCiAJCQkgICAgICBzdHJ1Y3QgYmFja2VuZF9pbmZvICpiZSwgaW50IHN0YXRlKTsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMgYi9kcml2ZXJz
L2Jsb2NrL3hlbi1ibGtiYWNrL3hlbmJ1cy5jCmluZGV4IGI5MGRiY2Q5OWMwMy4uMDlmZTZjYjVj
NGVhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL3hlbmJ1cy5jCisrKyBi
L2RyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMKQEAgLTgyNCw2ICs4MjQsMTQgQEAg
c3RhdGljIHZvaWQgZnJvbnRlbmRfY2hhbmdlZChzdHJ1Y3QgeGVuYnVzX2RldmljZSAqZGV2LAog
fQogCiAKK3ZvaWQgeGVuX2Jsa2JrX3JlY2xhaW1fbWVtb3J5KHN0cnVjdCB4ZW5idXNfZGV2aWNl
ICpkZXYpCit7CisJc3RydWN0IGJhY2tlbmRfaW5mbyAqYmUgPSBkZXZfZ2V0X2RydmRhdGEoJmRl
di0+ZGV2KTsKKworCXhlbl9ibGtia191cGRhdGVfYnVmZmVyX3NxdWVlemVfZW5kKGJlLT5ibGtp
Zik7Cit9CisKKwogLyogKiogQ29ubmVjdGlvbiAqKiAqLwogCiAKQEAgLTExMTUsNyArMTEyMyw4
IEBAIHN0YXRpYyBzdHJ1Y3QgeGVuYnVzX2RyaXZlciB4ZW5fYmxrYmtfZHJpdmVyID0gewogCS5p
ZHMgID0geGVuX2Jsa2JrX2lkcywKIAkucHJvYmUgPSB4ZW5fYmxrYmtfcHJvYmUsCiAJLnJlbW92
ZSA9IHhlbl9ibGtia19yZW1vdmUsCi0JLm90aGVyZW5kX2NoYW5nZWQgPSBmcm9udGVuZF9jaGFu
Z2VkCisJLm90aGVyZW5kX2NoYW5nZWQgPSBmcm9udGVuZF9jaGFuZ2VkLAorCS5yZWNsYWltX21l
bW9yeSA9IHhlbl9ibGtia19yZWNsYWltX21lbW9yeSwKIH07CiAKIGludCB4ZW5fYmxraWZfeGVu
YnVzX2luaXQodm9pZCkKLS0gCjIuMTcuMQoKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3Rz
LnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0
aW5mby94ZW4tZGV2ZWw=

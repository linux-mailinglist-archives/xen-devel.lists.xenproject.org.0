Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 044751438AA
	for <lists+xen-devel@lfdr.de>; Tue, 21 Jan 2020 09:48:14 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1itp8h-0004aN-Or; Tue, 21 Jan 2020 08:43:59 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=4mp0=3K=suse.com=jgross@srs-us1.protection.inumbo.net>)
 id 1itp8h-0004a3-5i
 for xen-devel@lists.xenproject.org; Tue, 21 Jan 2020 08:43:59 +0000
X-Inumbo-ID: 1f295b6f-3c2a-11ea-ba47-12813bfff9fa
Received: from mx2.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 1f295b6f-3c2a-11ea-ba47-12813bfff9fa;
 Tue, 21 Jan 2020 08:43:40 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 0602BB2C9;
 Tue, 21 Jan 2020 08:43:34 +0000 (UTC)
From: Juergen Gross <jgross@suse.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 21 Jan 2020 09:43:28 +0100
Message-Id: <20200121084330.18309-8-jgross@suse.com>
X-Mailer: git-send-email 2.16.4
In-Reply-To: <20200121084330.18309-1-jgross@suse.com>
References: <20200121084330.18309-1-jgross@suse.com>
Subject: [Xen-devel] [PATCH v3 7/9] xen: provide version information in hypfs
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>,
 Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Jan Beulich <jbeulich@suse.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

UHJvdmlkZSB2ZXJzaW9uIGFuZCBjb21waWxlIGluZm9ybWF0aW9uIGluIC9idWlsZGluZm8vIG5v
ZGUgb2YgdGhlClhlbiBoeXBlcnZpc29yIGZpbGUgc3lzdGVtLiBBcyB0aGlzIGluZm9ybWF0aW9u
IGlzIGFjY2Vzc2libGUgYnkgZG9tMApvbmx5IG5vIGFkZGl0aW9uYWwgc2VjdXJpdHkgcHJvYmxl
bSBhcmlzZXMuCgpTaWduZWQtb2ZmLWJ5OiBKdWVyZ2VuIEdyb3NzIDxqZ3Jvc3NAc3VzZS5jb20+
Ci0tLQpWMzoKLSBuZXcgcGF0Y2gKLS0tCiBkb2NzL21pc2MvaHlwZnMtcGF0aHMucGFuZG9jIHwg
NDUgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKIHhlbi9jb21t
b24va2VybmVsLmMgICAgICAgICAgfCA0NSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKwogMiBmaWxlcyBjaGFuZ2VkLCA5MCBpbnNlcnRpb25zKCspCgpkaWZmIC0t
Z2l0IGEvZG9jcy9taXNjL2h5cGZzLXBhdGhzLnBhbmRvYyBiL2RvY3MvbWlzYy9oeXBmcy1wYXRo
cy5wYW5kb2MKaW5kZXggNjdkZThkMmNmOC4uMWY2M2M1YzEzZSAxMDA2NDQKLS0tIGEvZG9jcy9t
aXNjL2h5cGZzLXBhdGhzLnBhbmRvYworKysgYi9kb2NzL21pc2MvaHlwZnMtcGF0aHMucGFuZG9j
CkBAIC05MywzICs5Myw0OCBAQCBBIHBvcHVsYXRlZCBYZW4gaHlwZXJ2aXNvciBmaWxlIHN5c3Rl
bSBtaWdodCBsb29rIGxpa2UgdGhlIGZvbGxvd2luZyBleGFtcGxlOgogIyMjIyAvCiAKIFRoZSBy
b290IG9mIHRoZSBoeXBlcnZpc29yIGZpbGUgc3lzdGVtLgorCisjIyMjIC9idWlsZGluZm8vCisK
K0EgZGlyZWN0b3J5IGNvbnRhaW5pbmcgc3RhdGljIGluZm9ybWF0aW9uIGdlbmVyYXRlZCB3aGls
ZSBidWlsZGluZyB0aGUKK2h5cGVydmlzb3IuCisKKyMjIyMgL2J1aWxkaW5mby9jaGFuZ2VzZXQg
PSBTVFJJTkcKKworR2l0IGNvbW1pdCBvZiB0aGUgaHlwZXJ2aXNvci4KKworIyMjIyAvYnVpbGRp
bmZvL2NvbXBpbGVpbmZvLworCitBIGRpcmVjdG9yeSBjb250YWluaW5nIGluZm9ybWF0aW9uIGFi
b3V0IGNvbXBpbGF0aW9uIG9mIFhlbi4KKworIyMjIyAvYnVpbGRpbmZvL2NvbXBpbGVpbmZvL2Nv
bXBpbGVfYnkgPSBTVFJJTkcKKworSW5mb3JtYXRpb24gd2hvIGNvbXBpbGVkIHRoZSBoeXBlcnZp
c29yLgorCisjIyMjIC9idWlsZGluZm8vY29tcGlsZWluZm8vY29tcGlsZV9kYXRlID0gU1RSSU5H
CisKK0RhdGUgb2YgdGhlIGh5cGVydmlzb3IgY29tcGlsYXRpb24uCisKKyMjIyMgL2J1aWxkaW5m
by9jb21waWxlaW5mby9jb21waWxlX2RvbWFpbiA9IFNUUklORworCitJbmZvcm1hdGlvbiBhYm91
dCB0aGUgY29tcGlsZSBkb21haW4uCisKKyMjIyMgL2J1aWxkaW5mby9jb21waWxlaW5mby9jb21w
aWxlciA9IFNUUklORworCitUaGUgY29tcGlsZXIgdXNlZCB0byBidWlsZCBYZW4uCisKKyMjIyMg
L2J1aWxkaW5mby92ZXJzaW9uLworCitBIGRpcmVjdG9yeSBjb250YWluaW5nIHZlcnNpb24gaW5m
b3JtYXRpb24gb2YgdGhlIGh5cGVydmlzb3IuCisKKyMjIyMgL2J1aWxkaW5mby92ZXJzaW9uL2V4
dHJhID0gU1RSSU5HCisKK0V4dHJhIHZlcnNpb24gaW5mb3JtYXRpb24uCisKKyMjIyMgL2J1aWxk
aW5mby92ZXJzaW9uL21ham9yID0gSU5URUdFUgorCitUaGUgbWFqb3IgdmVyc2lvbiBvZiBYZW4u
CisKKyMjIyMgL2J1aWxkaW5mby92ZXJzaW9uL21pbm9yID0gSU5URUdFUgorCitUaGUgbWlub3Ig
dmVyc2lvbiBvZiBYZW4uCmRpZmYgLS1naXQgYS94ZW4vY29tbW9uL2tlcm5lbC5jIGIveGVuL2Nv
bW1vbi9rZXJuZWwuYwppbmRleCAyMjk0MWNlYzk0Li4zMTg2ZmQ1OWMyIDEwMDY0NAotLS0gYS94
ZW4vY29tbW9uL2tlcm5lbC5jCisrKyBiL3hlbi9jb21tb24va2VybmVsLmMKQEAgLTEzLDYgKzEz
LDcgQEAKICNpbmNsdWRlIDx4ZW4vcGFnaW5nLmg+CiAjaW5jbHVkZSA8eGVuL2d1ZXN0X2FjY2Vz
cy5oPgogI2luY2x1ZGUgPHhlbi9oeXBlcmNhbGwuaD4KKyNpbmNsdWRlIDx4ZW4vaHlwZnMuaD4K
ICNpbmNsdWRlIDx4c20veHNtLmg+CiAjaW5jbHVkZSA8YXNtL2N1cnJlbnQuaD4KICNpbmNsdWRl
IDxwdWJsaWMvdmVyc2lvbi5oPgpAQCAtMzczLDYgKzM3NCw1MCBAQCB2b2lkIF9faW5pdCBkb19p
bml0Y2FsbHModm9pZCkKICAgICAgICAgKCpjYWxsKSgpOwogfQogCitzdGF0aWMgdW5zaWduZWQg
aW50IG1ham9yX3ZlcnNpb247CitzdGF0aWMgdW5zaWduZWQgaW50IG1pbm9yX3ZlcnNpb247CisK
K3N0YXRpYyBIWVBGU19ESVJfSU5JVChidWlsZGluZm8sICJidWlsZGluZm8iKTsKK3N0YXRpYyBI
WVBGU19ESVJfSU5JVChjb21waWxlaW5mbywgImNvbXBpbGVpbmZvIik7CitzdGF0aWMgSFlQRlNf
RElSX0lOSVQodmVyc2lvbiwgInZlcnNpb24iKTsKK3N0YXRpYyBIWVBGU19VSU5UX0lOSVQobWFq
b3IsICJtYWpvciIsIG1ham9yX3ZlcnNpb24pOworc3RhdGljIEhZUEZTX1VJTlRfSU5JVChtaW5v
ciwgIm1pbm9yIiwgbWlub3JfdmVyc2lvbik7CitzdGF0aWMgSFlQRlNfU1RSSU5HX0lOSVQoY2hh
bmdlc2V0LCAiY2hhbmdlc2V0Iik7CitzdGF0aWMgSFlQRlNfU1RSSU5HX0lOSVQoY29tcGlsZXIs
ICJjb21waWxlciIpOworc3RhdGljIEhZUEZTX1NUUklOR19JTklUKGNvbXBpbGVfYnksICJjb21w
aWxlX2J5Iik7CitzdGF0aWMgSFlQRlNfU1RSSU5HX0lOSVQoY29tcGlsZV9kYXRlLCAiY29tcGls
ZV9kYXRlIik7CitzdGF0aWMgSFlQRlNfU1RSSU5HX0lOSVQoY29tcGlsZV9kb21haW4sICJjb21w
aWxlX2RvbWFpbiIpOworc3RhdGljIEhZUEZTX1NUUklOR19JTklUKGV4dHJhLCAiZXh0cmEiKTsK
Kworc3RhdGljIGludCBfX2luaXQgYnVpbGRpbmZvX2luaXQodm9pZCkKK3sKKyAgICBoeXBmc19h
ZGRfZGlyKCZoeXBmc19yb290LCAmYnVpbGRpbmZvLCB0cnVlKTsKKworICAgIGh5cGZzX3N0cmlu
Z19zZXQoJmNoYW5nZXNldCwgeGVuX2NoYW5nZXNldCgpKTsKKyAgICBoeXBmc19hZGRfbGVhZigm
YnVpbGRpbmZvLCAmY2hhbmdlc2V0LCB0cnVlKTsKKworICAgIGh5cGZzX2FkZF9kaXIoJmJ1aWxk
aW5mbywgJmNvbXBpbGVpbmZvLCB0cnVlKTsKKyAgICBoeXBmc19zdHJpbmdfc2V0KCZjb21waWxl
ciwgeGVuX2NvbXBpbGVyKCkpOworICAgIGh5cGZzX3N0cmluZ19zZXQoJmNvbXBpbGVfYnksIHhl
bl9jb21waWxlX2J5KCkpOworICAgIGh5cGZzX3N0cmluZ19zZXQoJmNvbXBpbGVfZGF0ZSwgeGVu
X2NvbXBpbGVfZGF0ZSgpKTsKKyAgICBoeXBmc19zdHJpbmdfc2V0KCZjb21waWxlX2RvbWFpbiwg
eGVuX2NvbXBpbGVfZG9tYWluKCkpOworICAgIGh5cGZzX2FkZF9sZWFmKCZjb21waWxlaW5mbywg
JmNvbXBpbGVyLCB0cnVlKTsKKyAgICBoeXBmc19hZGRfbGVhZigmY29tcGlsZWluZm8sICZjb21w
aWxlX2J5LCB0cnVlKTsKKyAgICBoeXBmc19hZGRfbGVhZigmY29tcGlsZWluZm8sICZjb21waWxl
X2RhdGUsIHRydWUpOworICAgIGh5cGZzX2FkZF9sZWFmKCZjb21waWxlaW5mbywgJmNvbXBpbGVf
ZG9tYWluLCB0cnVlKTsKKworICAgIG1ham9yX3ZlcnNpb24gPSB4ZW5fbWFqb3JfdmVyc2lvbigp
OworICAgIG1pbm9yX3ZlcnNpb24gPSB4ZW5fbWlub3JfdmVyc2lvbigpOworICAgIGh5cGZzX2Fk
ZF9kaXIoJmJ1aWxkaW5mbywgJnZlcnNpb24sIHRydWUpOworICAgIGh5cGZzX3N0cmluZ19zZXQo
JmV4dHJhLCB4ZW5fZXh0cmFfdmVyc2lvbigpKTsKKyAgICBoeXBmc19hZGRfbGVhZigmdmVyc2lv
biwgJmV4dHJhLCB0cnVlKTsKKyAgICBoeXBmc19hZGRfbGVhZigmdmVyc2lvbiwgJm1ham9yLCB0
cnVlKTsKKyAgICBoeXBmc19hZGRfbGVhZigmdmVyc2lvbiwgJm1pbm9yLCB0cnVlKTsKKworICAg
IHJldHVybiAwOworfQorX19pbml0Y2FsbChidWlsZGluZm9faW5pdCk7CisKICMgZGVmaW5lIERP
KGZuKSBsb25nIGRvXyMjZm4KIAogI2VuZGlmCi0tIAoyLjE2LjQKCgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBsaXN0Clhl
bi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3Jn
L21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

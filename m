Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 1D1D1B5518
	for <lists+xen-devel@lfdr.de>; Tue, 17 Sep 2019 20:14:59 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iAHyB-00084W-Tg; Tue, 17 Sep 2019 18:12:55 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=DkBD=XM=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1iAHyB-00084K-3O
 for xen-devel@lists.xenproject.org; Tue, 17 Sep 2019 18:12:55 +0000
X-Inumbo-ID: c44d5d50-d976-11e9-961d-12813bfff9fa
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTP
 id c44d5d50-d976-11e9-961d-12813bfff9fa;
 Tue, 17 Sep 2019 18:12:53 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 46ABD15A2;
 Tue, 17 Sep 2019 11:12:53 -0700 (PDT)
Received: from e108454-lin.cambridge.arm.com (e108454-lin.cambridge.arm.com
 [10.1.196.50])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 952FD3F67D;
 Tue, 17 Sep 2019 11:12:52 -0700 (PDT)
From: Julien Grall <julien.grall@arm.com>
To: xen-devel@lists.xenproject.org
Date: Tue, 17 Sep 2019 19:12:37 +0100
Message-Id: <20190917181244.30027-2-julien.grall@arm.com>
X-Mailer: git-send-email 2.11.0
In-Reply-To: <20190917181244.30027-1-julien.grall@arm.com>
References: <20190917181244.30027-1-julien.grall@arm.com>
Subject: [Xen-devel] [PATCH v4 1/8] xen/arm64: head: Remove 1:1 mapping as
 soon as it is not used
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Julien Grall <julien.grall@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

VGhlIDE6MSBtYXBwaW5nIG1heSBjbGFzaCB3aXRoIG90aGVyIHBhcnRzIG9mIHRoZSBYZW4gdmly
dHVhbCBtZW1vcnkKbGF5b3V0LiBBdCB0aGUgbW9tZW50LCBYZW4gaXMgaGFuZGxpbmcgdGhlIGNs
YXNoIGJ5IG9ubHkgY3JlYXRpbmcgYQptYXBwaW5nIHRvIHRoZSBydW50aW1lIHZpcnR1YWwgYWRk
cmVzcyBiZWZvcmUgZW5hYmxpbmcgdGhlIE1NVS4KClRoZSByZXN0IG9mIHRoZSBtYXBwaW5ncyAo
c3VjaCBhcyB0aGUgZml4bWFwKSB3aWxsIGJlIG1hcHBlZCBhZnRlciB0aGUKTU1VIGlzIGVuYWJs
ZWQuIEhvd2V2ZXIsIHRoZSBjb2RlIGRvaW5nIHRoZSBtYXBwaW5nIGlzIG5vdCBzYWZlIGFzIGl0
CnJlcGxhY2UgbWFwcGluZyB3aXRob3V0IHVzaW5nIHRoZSBCcmVhay1CZWZvcmUtTWFrZSBzZXF1
ZW5jZS4KCkFzIHRoZSAxOjEgbWFwcGluZyBjYW4gYmUgYW55d2hlcmUgaW4gdGhlIG1lbW9yeSwg
aXQgaXMgZWFzaWVyIHRvIHJlbW92ZQphbGwgdGhlIGVudHJpZXMgYWRkZWQgYXMgc29vbiBhcyB0
aGUgMToxIG1hcHBpbmcgaXMgbm90IHVzZWQgcmF0aGVyIHRoYW4KYWRkaW5nIHRoZSBCcmVhay1C
ZWZvcmUtTWFrZSBzZXF1ZW5jZSBldmVyeXdoZXJlLgoKSXQgaXMgZGlmZmljdWx0IHRvIHRyYWNr
IHdoZXJlIGV4YWN0bHkgdGhlIDE6MSBtYXBwaW5nIHdhcyBjcmVhdGVkCndpdGhvdXQgYSBmdWxs
IHJld29yayBvZiBjcmVhdGVfcGFnZV90YWJsZXMoKS4gSW5zdGVhZCwgaW50cm9kdWNlIGEgbmV3
CmZ1bmN0aW9uIHJlbW92ZV9pZGVudGl0eV9tYXBwaW5nKCkgd2lsbCBsb29rIHdoZXJlIGlzIHRo
ZSB0b3AtbGV2ZWwgZW50cnkKZm9yIHRoZSAxOjEgbWFwcGluZyBhbmQgcmVtb3ZlIGl0LgoKVGhl
IG5ldyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBmb3IgdGhlIGJvb3QgQ1BVLiBTZWNvbmRhcnkg
Q1BVcyB3aWxsCnN3aXRjaCBkaXJlY3RseSB0byB0aGUgcnVudGltZSBwYWdlLXRhYmxlcyBzbyB0
aGVyZSBhcmUgbm8gbmVlZCB0bwpyZW1vdmUgdGhlIDE6MSBtYXBwaW5nLiBOb3RlIHRoYXQgdGhp
cyBzdGlsbCBkb2Vzbid0IG1ha2UgdGhlIFNlY29uZGFyeQpDUFVzIHBhdGggc2FmZSBidXQgaXQg
aXMgbm90IG1ha2luZyBpdCB3b3JzdC4KCk5vdGUgdGhhdCB0aGUgVExCIGZsdXNoIHNlcXVlbmNl
IGlzIHNhbWUgc2VxdWVuY2UgYXMgZGVzY3JpYmVkIGluCmFzbS1hcm0vYXJtMzIvZmx1c2h0bGIu
aCB3aXRoIGEgdHdpc3QuIFBlciBENS0yNTMwIEFSTSBEREkgMDQ4N0QuYSwKYSBkc2IgbnNoIGlz
IHN1ZmZpY2llbnQgZm9yIGxvY2FsIGZsdXNoLiBUaGlzIHBhcnQgb2YgdGhlIEFybSBBcm0Kd2Fz
IG1pc3NlZCB3aGlsZSByZXdvcmtpbmcgdGhlIGhlYWRlciBhbmQgdGhlcmVmb3JlIGEgbW9yZSBj
b25zZXJ2YXRpdmUKd2F5IHdlcmUgYWRvcHRlZC4KClNpZ25lZC1vZmYtYnk6IEp1bGllbiBHcmFs
bCA8anVsaWVuLmdyYWxsQGFybS5jb20+CgotLS0KICAgIEl0IGlzIHZlcnkgbGlrZWx5IHdlIHdp
bGwgbmVlZCB0byByZS1pbnRyb2R1Y2UgdGhlIDE6MSBtYXBwaW5nIHRvIGNhdGVyCiAgICBzZWNv
bmRhcnkgQ1BVcyBib290IGFuZCBzdXNwZW5kL3Jlc3VtZS4gRm9yIG5vdywgdGhlIGF0dGVtcHQg
aXMgdG8gbWFrZQogICAgYm9vdCBDUFUgcGF0aCBmdWxseSBBcm0gQXJtIGNvbXBsaWFudC4KCiAg
ICBDaGFuZ2VzIGluIHY0OgogICAgICAgIC0gRml4IHR5cG8KICAgICAgICAtIFJlbW92ZSB1bm5l
Y2Vzc2FyeSBjb21tZW50cwogICAgICAgIC0gVXBkYXRlIHRoZSBjb21taXQgbWVzc2FnZSB0byBt
ZW50aW9uIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4KICAgICAgICB0aGUgc2VxdWVuY2UgZGVzY3Jp
YmVkIGluIHRsYmZsdXNoLmggYW5kIHRoZSBvbmUgdXNlZCBpbiB0aGUKICAgICAgICBjb2RlLgoK
ICAgIENoYW5nZXMgaW4gdjM6CiAgICAgICAgLSBBdm9pZCBoYXJkY29kaW5nIHNsb3RzCgogICAg
Q2hhbmdlcyBpbiB2MjoKICAgICAgICAtIHMvSUQgbWFwLzE6MSBtYXBwaW5nLwogICAgICAgIC0g
UmVuYW1lIHJlbW92ZV9pZF9tYXAoKSB0byByZW1vdmVfaWRlbnRpdHlfbWFwcGluZygpCiAgICAg
ICAgLSBBZGQgbWlzc2luZyBzaWduZWQtb2ZmLWJ5Ci0tLQogeGVuL2FyY2gvYXJtL2FybTY0L2hl
YWQuUyB8IDkwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0t
CiAxIGZpbGUgY2hhbmdlZCwgNzUgaW5zZXJ0aW9ucygrKSwgMTUgZGVsZXRpb25zKC0pCgpkaWZm
IC0tZ2l0IGEveGVuL2FyY2gvYXJtL2FybTY0L2hlYWQuUyBiL3hlbi9hcmNoL2FybS9hcm02NC9o
ZWFkLlMKaW5kZXggYmEyNGIwNWZhMi4uNGM5YTY5YmU2MyAxMDA2NDQKLS0tIGEveGVuL2FyY2gv
YXJtL2FybTY0L2hlYWQuUworKysgYi94ZW4vYXJjaC9hcm0vYXJtNjQvaGVhZC5TCkBAIC0zMyw2
ICszMywxMSBAQAogI2RlZmluZSBQVF9ERVYgICAgMHhlNzEgLyogbkc9MSBBRj0xIFNIPTEwIEFQ
PTAxIE5TPTEgQVRUUj0xMDAgVD0wIFA9MSAqLwogI2RlZmluZSBQVF9ERVZfTDMgMHhlNzMgLyog
bkc9MSBBRj0xIFNIPTEwIEFQPTAxIE5TPTEgQVRUUj0xMDAgVD0xIFA9MSAqLwogCisvKiBDb252
ZW5pZW5jZSBkZWZpbmVzIHRvIGdldCBzbG90IHVzZWQgYnkgWGVuIG1hcHBpbmcuICovCisjZGVm
aW5lIFhFTl9aRVJPRVRIX1NMT1QgICAgemVyb2V0aF90YWJsZV9vZmZzZXQoWEVOX1ZJUlRfU1RB
UlQpCisjZGVmaW5lIFhFTl9GSVJTVF9TTE9UICAgICAgZmlyc3RfdGFibGVfb2Zmc2V0KFhFTl9W
SVJUX1NUQVJUKQorI2RlZmluZSBYRU5fU0VDT05EX1NMT1QgICAgIHNlY29uZF90YWJsZV9vZmZz
ZXQoWEVOX1ZJUlRfU1RBUlQpCisKICNkZWZpbmUgX19IRUFEX0ZMQUdfUEFHRV9TSVpFICAgKChQ
QUdFX1NISUZUIC0gMTApIC8gMikKIAogI2RlZmluZSBfX0hFQURfRkxBR19QSFlTX0JBU0UgICAx
CkBAIC0zMTIsNiArMzE3LDEzIEBAIHJlYWxfc3RhcnRfZWZpOgogICAgICAgICBsZHIgICB4MCwg
PXByaW1hcnlfc3dpdGNoZWQKICAgICAgICAgYnIgICAgeDAKIHByaW1hcnlfc3dpdGNoZWQ6Cisg
ICAgICAgIC8qCisgICAgICAgICAqIFRoZSAxOjEgbWFwIG1heSBjbGFzaCB3aXRoIG90aGVyIHBh
cnRzIG9mIHRoZSBYZW4gdmlydHVhbCBtZW1vcnkKKyAgICAgICAgICogbGF5b3V0LiBBcyBpdCBp
cyBub3QgdXNlZCBhbnltb3JlLCByZW1vdmUgaXQgY29tcGxldGVseSB0bworICAgICAgICAgKiBh
dm9pZCBoYXZpbmcgdG8gd29ycnkgYWJvdXQgcmVwbGFjaW5nIGV4aXN0aW5nIG1hcHBpbmcKKyAg
ICAgICAgICogYWZ0ZXJ3YXJkcy4KKyAgICAgICAgICovCisgICAgICAgIGJsICAgIHJlbW92ZV9p
ZGVudGl0eV9tYXBwaW5nCiAgICAgICAgIGJsICAgIHNldHVwX2ZpeG1hcAogI2lmZGVmIENPTkZJ
R19FQVJMWV9QUklOVEsKICAgICAgICAgLyogVXNlIGEgdmlydHVhbCBhZGRyZXNzIHRvIGFjY2Vz
cyB0aGUgVUFSVC4gKi8KQEAgLTY0OCwxMCArNjYwLDY3IEBAIGVuYWJsZV9tbXU6CiAgICAgICAg
IHJldAogRU5EUFJPQyhlbmFibGVfbW11KQogCisvKgorICogUmVtb3ZlIHRoZSAxOjEgbWFwIGZy
b20gdGhlIHBhZ2UtdGFibGVzLiBJdCBpcyBub3QgZWFzeSB0byBrZWVwIHRyYWNrCisgKiB3aGVy
ZSB0aGUgMToxIG1hcCB3YXMgbWFwcGVkLCBzbyB3ZSB3aWxsIGxvb2sgZm9yIHRoZSB0b3AtbGV2
ZWwgZW50cnkKKyAqIGV4Y2x1c2l2ZSB0byB0aGUgMToxIG1hcCBhbmQgcmVtb3ZlIGl0LgorICoK
KyAqIElucHV0czoKKyAqICAgeDE5OiBwYWRkcihzdGFydCkKKyAqCisgKiBDbG9iYmVycyB4MCAt
IHgxCisgKi8KK3JlbW92ZV9pZGVudGl0eV9tYXBwaW5nOgorICAgICAgICAvKgorICAgICAgICAg
KiBGaW5kIHRoZSB6ZXJvZXRoIHNsb3QgdXNlZC4gUmVtb3ZlIHRoZSBlbnRyeSBmcm9tIHplcm9l
dGgKKyAgICAgICAgICogdGFibGUgaWYgdGhlIHNsb3QgaXMgbm90IFhFTl9aRVJPRVRIX1NMT1Qu
CisgICAgICAgICAqLworICAgICAgICBsc3IgICB4MSwgeDE5LCAjWkVST0VUSF9TSElGVCAgIC8q
IHgxIDo9IHplcm9ldGggc2xvdCAqLworICAgICAgICBjbXAgICB4MSwgI1hFTl9aRVJPRVRIX1NM
T1QKKyAgICAgICAgYmVxICAgMWYKKyAgICAgICAgLyogSXQgaXMgbm90IGluIHNsb3QgWEVOX1pF
Uk9FVEhfU0xPVCwgcmVtb3ZlIHRoZSBlbnRyeS4gKi8KKyAgICAgICAgbGRyICAgeDAsID1ib290
X3BndGFibGUgICAgICAgICAvKiB4MCA6PSByb290IHRhYmxlICovCisgICAgICAgIHN0ciAgIHh6
ciwgW3gwLCB4MSwgbHNsICMzXQorICAgICAgICBiICAgICBpZGVudGl0eV9tYXBwaW5nX3JlbW92
ZWQKKworMToKKyAgICAgICAgLyoKKyAgICAgICAgICogRmluZCB0aGUgZmlyc3Qgc2xvdCB1c2Vk
LiBSZW1vdmUgdGhlIGVudHJ5IGZvciB0aGUgZmlyc3QKKyAgICAgICAgICogdGFibGUgaWYgdGhl
IHNsb3QgaXMgbm90IFhFTl9GSVJTVF9TTE9ULgorICAgICAgICAgKi8KKyAgICAgICAgbHNyICAg
eDEsIHgxOSwgI0ZJUlNUX1NISUZUCisgICAgICAgIGFuZCAgIHgxLCB4MSwgI0xQQUVfRU5UUllf
TUFTSyAgLyogeDEgOj0gZmlyc3Qgc2xvdCAqLworICAgICAgICBjbXAgICB4MSwgI1hFTl9GSVJT
VF9TTE9UCisgICAgICAgIGJlcSAgIDFmCisgICAgICAgIC8qIEl0IGlzIG5vdCBpbiBzbG90IFhF
Tl9GSVJTVF9TTE9ULCByZW1vdmUgdGhlIGVudHJ5LiAqLworICAgICAgICBsZHIgICB4MCwgPWJv
b3RfZmlyc3QgICAgICAgICAgIC8qIHgwIDo9IGZpcnN0IHRhYmxlICovCisgICAgICAgIHN0ciAg
IHh6ciwgW3gwLCB4MSwgbHNsICMzXQorICAgICAgICBiICAgICBpZGVudGl0eV9tYXBwaW5nX3Jl
bW92ZWQKKworMToKKyAgICAgICAgLyoKKyAgICAgICAgICogRmluZCB0aGUgc2Vjb25kIHNsb3Qg
dXNlZC4gUmVtb3ZlIHRoZSBlbnRyeSBmb3IgdGhlIGZpcnN0CisgICAgICAgICAqIHRhYmxlIGlm
IHRoZSBzbG90IGlzIG5vdCBYRU5fU0VDT05EX1NMT1QuCisgICAgICAgICAqLworICAgICAgICBs
c3IgICB4MSwgeDE5LCAjU0VDT05EX1NISUZUCisgICAgICAgIGFuZCAgIHgxLCB4MSwgI0xQQUVf
RU5UUllfTUFTSyAgLyogeDEgOj0gZmlyc3Qgc2xvdCAqLworICAgICAgICBjbXAgICB4MSwgI1hF
Tl9TRUNPTkRfU0xPVAorICAgICAgICBiZXEgICBpZGVudGl0eV9tYXBwaW5nX3JlbW92ZWQKKyAg
ICAgICAgLyogSXQgaXMgbm90IGluIHNsb3QgMSwgcmVtb3ZlIHRoZSBlbnRyeSAqLworICAgICAg
ICBsZHIgICB4MCwgPWJvb3Rfc2Vjb25kICAgICAgICAgIC8qIHgwIDo9IHNlY29uZCB0YWJsZSAq
LworICAgICAgICBzdHIgICB4enIsIFt4MCwgeDEsIGxzbCAjM10KKworaWRlbnRpdHlfbWFwcGlu
Z19yZW1vdmVkOgorICAgICAgICAvKiBTZWUgYXNtLWFybS9hcm02NC9mbHVzaHRsYi5oIGZvciB0
aGUgZXhwbGFuYXRpb24gb2YgdGhlIHNlcXVlbmNlLiAqLworICAgICAgICBkc2IgICBuc2hzdAor
ICAgICAgICB0bGJpICBhbGxlMgorICAgICAgICBkc2IgICBuc2gKKyAgICAgICAgaXNiCisKKyAg
ICAgICAgcmV0CitFTkRQUk9DKHJlbW92ZV9pZGVudGl0eV9tYXBwaW5nKQorCiBzZXR1cF9maXht
YXA6Ci0gICAgICAgIC8qIE5vdyB3ZSBjYW4gaW5zdGFsbCB0aGUgZml4bWFwIGFuZCBkdGIgbWFw
cGluZ3MsIHNpbmNlIHdlCi0gICAgICAgICAqIGRvbid0IG5lZWQgdGhlIDE6MSBtYXAgYW55IG1v
cmUgKi8KLSAgICAgICAgZHNiICAgc3kKICNpZiBkZWZpbmVkKENPTkZJR19FQVJMWV9QUklOVEsp
IC8qIEZpeG1hcCBpcyBvbmx5IHVzZWQgYnkgZWFybHkgcHJpbnRrICovCiAgICAgICAgIC8qIEFk
ZCBVQVJUIHRvIHRoZSBmaXhtYXAgdGFibGUgKi8KICAgICAgICAgbGRyICAgeDEsID14ZW5fZml4
bWFwICAgICAgICAvKiB4MSA6PSB2YWRkciAoeGVuX2ZpeG1hcCkgKi8KQEAgLTY2OSwxOSArNzM4
LDEwIEBAIHNldHVwX2ZpeG1hcDoKICAgICAgICAgbGRyICAgeDEsID1GSVhNQVBfQUREUigwKQog
ICAgICAgICBsc3IgICB4MSwgeDEsICMoU0VDT05EX1NISUZUIC0gMykgICAvKiB4MSA6PSBTbG90
IGZvciBGSVhNQVAoMCkgKi8KICAgICAgICAgc3RyICAgeDIsIFt4NCwgeDFdICAgICAgICAgICAv
KiBNYXAgaXQgaW4gdGhlIGZpeG1hcCdzIHNsb3QgKi8KLSNlbmRpZgogCi0gICAgICAgIC8qCi0g
ICAgICAgICAqIEZsdXNoIHRoZSBUTEIgaW4gY2FzZSB0aGUgMToxIG1hcHBpbmcgaGFwcGVucyB0
byBjbGFzaCB3aXRoCi0gICAgICAgICAqIHRoZSB2aXJ0dWFsIGFkZHJlc3NlcyB1c2VkIGJ5IHRo
ZSBmaXhtYXAgb3IgRFRCLgotICAgICAgICAgKi8KLSAgICAgICAgZHNiICAgc3kgICAgICAgICAg
ICAgICAgICAgICAvKiBFbnN1cmUgYW55IHBhZ2UgdGFibGUgdXBkYXRlcyBtYWRlIGFib3ZlCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaGF2ZSBvY2N1cnJlZC4gKi8K
LQotICAgICAgICBpc2IKLSAgICAgICAgdGxiaSAgYWxsZTIKLSAgICAgICAgZHNiICAgc3kgICAg
ICAgICAgICAgICAgICAgICAvKiBFbnN1cmUgY29tcGxldGlvbiBvZiBUTEIgZmx1c2ggKi8KLSAg
ICAgICAgaXNiCisgICAgICAgIC8qIEVuc3VyZSBhbnkgcGFnZSB0YWJsZSB1cGRhdGVzIG1hZGUg
YWJvdmUgaGF2ZSBvY2N1cnJlZC4gKi8KKyAgICAgICAgZHNiICAgbnNoc3QKKyNlbmRpZgogICAg
ICAgICByZXQKIEVORFBST0Moc2V0dXBfZml4bWFwKQogCi0tIAoyLjExLjAKCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpYZW4tZGV2ZWwgbWFpbGluZyBs
aXN0Clhlbi1kZXZlbEBsaXN0cy54ZW5wcm9qZWN0Lm9yZwpodHRwczovL2xpc3RzLnhlbnByb2pl
Y3Qub3JnL21haWxtYW4vbGlzdGluZm8veGVuLWRldmVs

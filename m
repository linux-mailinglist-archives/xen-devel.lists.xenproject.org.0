Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 0BDA0B4AA0
	for <lists+xen-devel@lfdr.de>; Tue, 17 Sep 2019 11:35:36 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iA9pm-00034e-6G; Tue, 17 Sep 2019 09:31:42 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=DkBD=XM=arm.com=julien.grall@srs-us1.protection.inumbo.net>)
 id 1iA9pk-00034V-4V
 for xen-devel@lists.xenproject.org; Tue, 17 Sep 2019 09:31:40 +0000
X-Inumbo-ID: f1229b5e-d92d-11e9-978d-bc764e2007e4
Received: from foss.arm.com (unknown [217.140.110.172])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTP
 id f1229b5e-d92d-11e9-978d-bc764e2007e4;
 Tue, 17 Sep 2019 09:31:35 +0000 (UTC)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id 216DD28;
 Tue, 17 Sep 2019 02:31:35 -0700 (PDT)
Received: from [10.37.13.58] (unknown [10.37.13.58])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 435783F59C;
 Tue, 17 Sep 2019 02:31:32 -0700 (PDT)
To: Paul Durrant <Paul.Durrant@citrix.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
References: <20190913105826.2704-1-paul.durrant@citrix.com>
 <20190913105826.2704-2-paul.durrant@citrix.com>
 <b78c50ba8353418b96c720a9ea94a0ec@AMSPEX02CL03.citrite.net>
From: Julien Grall <julien.grall@arm.com>
Message-ID: <3f039161-e1bf-3463-dd2a-f562d7495d36@arm.com>
Date: Tue, 17 Sep 2019 10:31:30 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <b78c50ba8353418b96c720a9ea94a0ec@AMSPEX02CL03.citrite.net>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v11 1/6] domain: introduce
 XEN_DOMCTL_CDF_iommu flag
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Wei Liu <wl@xen.org>,
 Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 Andrew Cooper <Andrew.Cooper3@citrix.com>, "Tim \(Xen.org\)" <tim@xen.org>,
 George Dunlap <George.Dunlap@citrix.com>,
 Christian Lindig <christian.lindig@citrix.com>,
 Jan Beulich <jbeulich@suse.com>, David Scott <dave@recoil.org>,
 Anthony Perard <anthony.perard@citrix.com>,
 Ian Jackson <Ian.Jackson@citrix.com>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 Roger Pau Monne <roger.pau@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

SGkgUGF1bCwKCk9uIDkvMTYvMTkgOTozNCBBTSwgUGF1bCBEdXJyYW50IHdyb3RlOgo+IEkgZ3Vl
c3MgdGhpcyBzdGlsbCBuZWVkcyBBUk0gYW5kIHRvb2xzdGFjayBhY2tzPwoKRm9yIEFybSBiaXRz
OgoKQWNrZWQtYnk6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+CgpJIGFtIGFk
ZGluZyBBbnRob255IGZvciB0aGUgbGlieGwuCgpDaGVlcnMsCgo+IAo+PiAtLS0tLU9yaWdpbmFs
IE1lc3NhZ2UtLS0tLQo+PiBGcm9tOiBQYXVsIER1cnJhbnQgPHBhdWwuZHVycmFudEBjaXRyaXgu
Y29tPgo+PiBTZW50OiAxMyBTZXB0ZW1iZXIgMjAxOSAxMTo1OAo+PiBUbzogeGVuLWRldmVsQGxp
c3RzLnhlbnByb2plY3Qub3JnCj4+IENjOiBQYXVsIER1cnJhbnQgPFBhdWwuRHVycmFudEBjaXRy
aXguY29tPjsgUm9nZXIgUGF1IE1vbm5lIDxyb2dlci5wYXVAY2l0cml4LmNvbT47IEphbiBCZXVs
aWNoCj4+IDxqYmV1bGljaEBzdXNlLmNvbT47IENocmlzdGlhbiBMaW5kaWcgPGNocmlzdGlhbi5s
aW5kaWdAY2l0cml4LmNvbT47IERhdmlkIFNjb3R0IDxkYXZlQHJlY29pbC5vcmc+Owo+PiBJYW4g
SmFja3NvbiA8SWFuLkphY2tzb25AY2l0cml4LmNvbT47IFdlaSBMaXUgPHdsQHhlbi5vcmc+OyBB
bmRyZXcgQ29vcGVyIDxBbmRyZXcuQ29vcGVyM0BjaXRyaXguY29tPjsKPj4gR2VvcmdlIER1bmxh
cCA8R2VvcmdlLkR1bmxhcEBjaXRyaXguY29tPjsgSnVsaWVuIEdyYWxsIDxqdWxpZW4uZ3JhbGxA
YXJtLmNvbT47IEtvbnJhZCBSemVzenV0ZWsgV2lsawo+PiA8a29ucmFkLndpbGtAb3JhY2xlLmNv
bT47IFN0ZWZhbm8gU3RhYmVsbGluaSA8c3N0YWJlbGxpbmlAa2VybmVsLm9yZz47IFRpbSAoWGVu
Lm9yZykgPHRpbUB4ZW4ub3JnPjsKPj4gVm9sb2R5bXlyIEJhYmNodWsgPFZvbG9keW15cl9CYWJj
aHVrQGVwYW0uY29tPgo+PiBTdWJqZWN0OiBbUEFUQ0ggdjExIDEvNl0gZG9tYWluOiBpbnRyb2R1
Y2UgWEVOX0RPTUNUTF9DREZfaW9tbXUgZmxhZwo+Pgo+PiBUaGlzIHBhdGNoIGludHJvZHVjZXMg
YSBjb21tb24gZG9tYWluIGNyZWF0aW9uIGZsYWcgdG8gZGV0ZXJtaW5lIHdoZXRoZXIKPj4gdGhl
IGRvbWFpbiBpcyBwZXJtaXR0ZWQgdG8gbWFrZSB1c2Ugb2YgdGhlIElPTU1VLiBDdXJyZW50bHkg
dGhlIGZsYWcgaXMKPj4gYWx3YXlzIHNldCBmb3IgYm90aCBkb20wIGFuZCBhbnkgZG9tVSBjcmVh
dGVkIGJ5IGxpYnhsIGlmIHRoZSBJT01NVSBpcwo+PiBnbG9iYWxseSBlbmFibGVkIChpLmUuIGlv
bW11X2VuYWJsZWQgPT0gMSkuIHNhbml0aXNlX2RvbWFpbl9jb25maWcoKSBpcwo+PiBtb2RpZmll
ZCB0byByZWplY3QgdGhlIGZsYWcgaWYgIWlvbW11X2VuYWJsZWQuCj4+Cj4+IEEgbmV3IGhlbHBl
ciBmdW5jdGlvbiwgaXNfaW9tbXVfZW5hYmxlZCgpLCBpcyBhZGRlZCB0byB0ZXN0IHRoZSBmbGFn
IGFuZAo+PiBpb21tdV9kb21haW5faW5pdCgpIHdpbGwgcmV0dXJuIGltbWVkaWF0ZWx5IGlmICFp
c19pb21tdV9lbmFibGVkKCkuIFRoaXMgaXMKPj4gc2xpZ2h0bHkgZGlmZmVyZW50IHRvIHRoZSBw
cmV2aW91cyBiZWhhdmlvdXIgYmFzZWQgb24gIWlvbW11X2VuYWJsZWQgd2hlcmUKPj4gdGhlIGNh
bGwgdG8gYXJjaF9pb21tdV9kb21haW5faW5pdCgpIHdhcyBtYWRlIHJlZ2FyZGxlc3MsIGhvd2V2
ZXIgaXQgYXBwZWFycwo+PiB0aGF0IHRoaXMgY2FsbCB3YXMgb25seSBuZWNlc3NhcnkgdG8gaW5p
dGlhbGl6ZSB0aGUgZHRfZGV2aWNlcyBsaXN0IGZvciBBUk0KPj4gc3VjaCB0aGF0IGlvbW11X3Jl
bGVhc2VfZHRfZGV2aWNlcygpIGNhbiBiZSBjYWxsZWQgdW5jb25kaXRpb25hbGx5IGJ5Cj4+IGRv
bWFpbl9yZWxpbnF1aXNoX3Jlc291cmNlcygpLiBBZGRpbmcgYSBzaW1wbGUgY2hlY2sgb2YgaXNf
aW9tbXVfZW5hYmxlZCgpCj4+IGludG8gaW9tbXVfcmVsZWFzZV9kdF9kZXZpY2VzKCkga2VlcHMg
dGhpcyB1bmNvbmRpdGlvbmFsIGNhbGwgd29ya2luZy4KPj4KPj4gTm8gZnVuY3Rpb25hbCBjaGFu
Z2Ugc2hvdWxkIGJlIG9ic2VydmVkIHdpdGggdGhpcyBwYXRjaCBhcHBsaWVkLgo+Pgo+PiBTdWJz
ZXF1ZW50IHBhdGNoZXMgd2lsbCBhbGxvdyB0aGUgdG9vbHN0YWNrIHRvIGNvbnRyb2wgd2hldGhl
ciB1c2Ugb2YgdGhlCj4+IElPTU1VIGlzIGVuYWJsZWQgZm9yIGEgZG9tYWluLgo+Pgo+PiBOT1RF
OiBUaGUgaW50cm9kdWN0aW9uIG9mIHRoZSBpc19pb21tdV9lbmFibGVkKCkgaGVscGVyIGZ1bmN0
aW9uIG1pZ2h0Cj4+ICAgICAgICBzZWVtIGV4Y2Vzc2l2ZSBidXQgaXRzIHVzZSBpcyBleHBlY3Rl
ZCB0byBpbmNyZWFzZSB3aXRoIHN1YnNlcXVlbnQKPj4gICAgICAgIHBhdGNoZXMuIEFsc28sIGhh
dmluZyBpb21tdV9kb21haW5faW5pdCgpIGJhaWwgYmVmb3JlIGNhbGxpbmcKPj4gICAgICAgIGFy
Y2hfaW9tbXVfZG9tYWluX2luaXQoKSBpcyBub3Qgc3RyaWN0bHkgbmVjZXNzYXJ5LCBidXQgSSB0
aGluayB0aGUKPj4gICAgICAgIGNvbnNlcXVlbnQgYWRkaXRpb24gb2YgdGhlIGNhbGwgdG8gaXNf
aW9tbXVfZW5hYmxlZCgpIGluCj4+ICAgICAgICBpb21tdV9yZWxlYXNlX2R0X2RldmljZXMoKSBt
YWtlcyB0aGUgY29kZSBjbGVhcmVyLgo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBQYXVsIER1cnJhbnQg
PHBhdWwuZHVycmFudEBjaXRyaXguY29tPgo+PiBSZXZpZXdlZC1ieTogIlJvZ2VyIFBhdSBNb25u
w6kiIDxyb2dlci5wYXVAY2l0cml4LmNvbT4KPj4gQWNrZWQtYnk6IEphbiBCZXVsaWNoIDxqYmV1
bGljaEBzdXNlLmNvbT4KPj4gQWNrZWQtYnk6IENocmlzdGlhbiBMaW5kaWcgPGNocmlzdGlhbi5s
aW5kaWdAY2l0cml4LmNvbT4KPj4gLS0tCj4+IENjOiBEYXZpZCBTY290dCA8ZGF2ZUByZWNvaWwu
b3JnPgo+PiBDYzogSWFuIEphY2tzb24gPGlhbi5qYWNrc29uQGV1LmNpdHJpeC5jb20+Cj4+IENj
OiBXZWkgTGl1IDx3bEB4ZW4ub3JnPgo+PiBDYzogQW5kcmV3IENvb3BlciA8YW5kcmV3LmNvb3Bl
cjNAY2l0cml4LmNvbT4KPj4gQ2M6IEdlb3JnZSBEdW5sYXAgPEdlb3JnZS5EdW5sYXBAZXUuY2l0
cml4LmNvbT4KPj4gQ2M6IEp1bGllbiBHcmFsbCA8anVsaWVuLmdyYWxsQGFybS5jb20+Cj4+IENj
OiBLb25yYWQgUnplc3p1dGVrIFdpbGsgPGtvbnJhZC53aWxrQG9yYWNsZS5jb20+Cj4+IENjOiBT
dGVmYW5vIFN0YWJlbGxpbmkgPHNzdGFiZWxsaW5pQGtlcm5lbC5vcmc+Cj4+IENjOiBUaW0gRGVl
Z2FuIDx0aW1AeGVuLm9yZz4KPj4gQ2M6IFZvbG9keW15ciBCYWJjaHVrIDxWb2xvZHlteXJfQmFi
Y2h1a0BlcGFtLmNvbT4KPj4KPj4gUHJldmlvdXNseSBwYXJ0IG9mIHNlcmllcyBodHRwczovL2xp
c3RzLnhlbnByb2plY3Qub3JnL2FyY2hpdmVzL2h0bWwveGVuLWRldmVsLzIwMTktMDcvbXNnMDIy
NjcuaHRtbAo+Pgo+PiB2OToKPj4gICAtIEZpeCBvdmVyc2lnaHQgaW4gQVJNJ3MgYXJjaF9zYW5p
dGlzZV9kb21haW5fY29uZmlnKCkgdG8gdG9sZXJhdGUgc2V0dGluZwo+PiAgICAgb2YgWEVOX0RP
TUNUTF9DREZfaW9tbXUKPj4KPj4gdjc6Cj4+ICAgLSBBZGQgYSBjaGVjayB0byB2ZXJpZnkgdGhh
dCB0aGUgdG9vbHN0YWNrIGhhcyBub3Qgc2V0IFhFTl9ET01DVExfQ0RGX2lvbW11Cj4+ICAgLSBB
ZGQgbWlzc2luZyBvY2FtbCBiaW5kaW5nIGNoYW5nZXMKPj4KPj4gdjY6Cj4+ICAgLSBSZW1vdmUg
dGhlIHRvb2xzdGFjayBwYXJ0cyBhcyB0aGVyZSdzIG5vIG5pY2UgbWV0aG9kIG9mIHRlc3Rpbmcg
d2hldGhlcgo+PiAgICAgdGhlIElPTU1VIGlzIGVuYWJsZWQgaW4gYW4gYXJjaGl0ZWN0dXJlLW5l
dXRyYWwgd2F5Cj4+Cj4+IHY1Ogo+PiAgIC0gTW92ZSBpc19pb21tdV9lbmFibGVkKCkgY2hlY2sg
aW50byBpb21tdV9kb21haW5faW5pdCgpCj4+ICAgLSBSZWplY3QgWEVOX0RPTUNUTF9DREZfaW9t
bXUgaW4gc2FuaXRpc2VfZG9tYWluX2NvbmZpZygpIGlmICFpb21tdV9lbmFibGVkCj4+ICAgLSBV
c2UgZXZhbHVhdGVfbm9zcGVjKCkgaW4gZGVmaW50aW9uIG9mIGlzX2lvbW11X2VuYWJsZWQoKQo+
PiAtLS0KPj4gICB0b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWwgICAgICAgIHwgIDEgKwo+
PiAgIHRvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkgICAgICAgfCAgMSArCj4+ICAgeGVu
L2FyY2gvYXJtL2RvbWFpbi5jICAgICAgICAgICAgICAgICB8ICA3ICsrKysrLS0KPj4gICB4ZW4v
YXJjaC9hcm0vc2V0dXAuYyAgICAgICAgICAgICAgICAgIHwgIDMgKysrCj4+ICAgeGVuL2FyY2gv
eDg2L3NldHVwLmMgICAgICAgICAgICAgICAgICB8ICAzICsrKwo+PiAgIHhlbi9jb21tb24vZG9t
YWluLmMgICAgICAgICAgICAgICAgICAgfCAgOSArKysrKysrKy0KPj4gICB4ZW4vY29tbW9uL2Rv
bWN0bC5jICAgICAgICAgICAgICAgICAgIHwgMTMgKysrKysrKysrKysrKwo+PiAgIHhlbi9kcml2
ZXJzL3Bhc3N0aHJvdWdoL2RldmljZV90cmVlLmMgfCAgMyArKysKPj4gICB4ZW4vZHJpdmVycy9w
YXNzdGhyb3VnaC9pb21tdS5jICAgICAgIHwgIDYgKysrLS0tCj4+ICAgeGVuL2luY2x1ZGUvcHVi
bGljL2RvbWN0bC5oICAgICAgICAgICB8ICA1ICsrKystCj4+ICAgeGVuL2luY2x1ZGUveGVuL3Nj
aGVkLmggICAgICAgICAgICAgICB8ICA1ICsrKysrCj4+ICAgMTEgZmlsZXMgY2hhbmdlZCwgNDkg
aW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKPj4KPj4gZGlmZiAtLWdpdCBhL3Rvb2xzL29j
YW1sL2xpYnMveGMveGVuY3RybC5tbCBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbAo+
PiBpbmRleCA0M2FhZmE3ZTIyLi4zNWRkZGJiZDljIDEwMDY0NAo+PiAtLS0gYS90b29scy9vY2Ft
bC9saWJzL3hjL3hlbmN0cmwubWwKPj4gKysrIGIvdG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJs
Lm1sCj4+IEBAIC02Myw2ICs2Myw3IEBAIHR5cGUgZG9tYWluX2NyZWF0ZV9mbGFnID0KPj4gICAJ
fCBDREZfUzNfSU5URUdSSVRZCj4+ICAgCXwgQ0RGX09PU19PRkYKPj4gICAJfCBDREZfWFNfRE9N
QUlOCj4+ICsJfCBDREZfSU9NTVUKPj4KPj4gICB0eXBlIGRvbWN0bF9jcmVhdGVfY29uZmlnID0K
Pj4gICB7Cj4+IGRpZmYgLS1naXQgYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpIGIv
dG9vbHMvb2NhbWwvbGlicy94Yy94ZW5jdHJsLm1saQo+PiBpbmRleCAxYmNmYTNmODM5Li4wZGQ1
NWU5ZDhiIDEwMDY0NAo+PiAtLS0gYS90b29scy9vY2FtbC9saWJzL3hjL3hlbmN0cmwubWxpCj4+
ICsrKyBiL3Rvb2xzL29jYW1sL2xpYnMveGMveGVuY3RybC5tbGkKPj4gQEAgLTU2LDYgKzU2LDcg
QEAgdHlwZSBkb21haW5fY3JlYXRlX2ZsYWcgPQo+PiAgICAgfCBDREZfUzNfSU5URUdSSVRZCj4+
ICAgICB8IENERl9PT1NfT0ZGCj4+ICAgICB8IENERl9YU19ET01BSU4KPj4gKyAgfCBDREZfSU9N
TVUKPj4KPj4gICB0eXBlIGRvbWN0bF9jcmVhdGVfY29uZmlnID0gewo+PiAgICAgc3NpZHJlZjog
aW50MzI7Cj4+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0vZG9tYWluLmMgYi94ZW4vYXJjaC9h
cm0vZG9tYWluLmMKPj4gaW5kZXggYTljNDExM2MyNi4uYWUxM2U0N2U4NiAxMDA2NDQKPj4gLS0t
IGEveGVuL2FyY2gvYXJtL2RvbWFpbi5jCj4+ICsrKyBiL3hlbi9hcmNoL2FybS9kb21haW4uYwo+
PiBAQCAtNjA4LDkgKzYwOCwxMiBAQCBpbnQgYXJjaF9zYW5pdGlzZV9kb21haW5fY29uZmlnKHN0
cnVjdCB4ZW5fZG9tY3RsX2NyZWF0ZWRvbWFpbiAqY29uZmlnKQo+PiAgIHsKPj4gICAgICAgdW5z
aWduZWQgaW50IG1heF92Y3B1czsKPj4KPj4gLSAgICBpZiAoIGNvbmZpZy0+ZmxhZ3MgIT0gKFhF
Tl9ET01DVExfQ0RGX2h2bSB8IFhFTl9ET01DVExfQ0RGX2hhcCkgKQo+PiArICAgIC8qIEhWTSBh
bmQgSEFQIG11c3QgYmUgc2V0LiBJT01NVSBtYXkgb3IgbWF5IG5vdCBiZSAqLwo+PiArICAgIGlm
ICggKGNvbmZpZy0+ZmxhZ3MgJiB+WEVOX0RPTUNUTF9DREZfaW9tbXUpICE9Cj4+ICsgICAgICAg
ICAoWEVOX0RPTUNUTF9DREZfaHZtIHwgWEVOX0RPTUNUTF9DREZfaGFwKSApCj4+ICAgICAgIHsK
Pj4gLSAgICAgICAgZHByaW50ayhYRU5MT0dfSU5GTywgIlVuc3VwcG9ydGVkIGNvbmZpZ3VyYXRp
b24gJSN4XG4iLCBjb25maWctPmZsYWdzKTsKPj4gKyAgICAgICAgZHByaW50ayhYRU5MT0dfSU5G
TywgIlVuc3VwcG9ydGVkIGNvbmZpZ3VyYXRpb24gJSN4XG4iLAo+PiArICAgICAgICAgICAgICAg
IGNvbmZpZy0+ZmxhZ3MpOwo+PiAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4+ICAgICAgIH0K
Pj4KPj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS9zZXR1cC5jIGIveGVuL2FyY2gvYXJtL3Nl
dHVwLmMKPj4gaW5kZXggMWIzMDNiZGUzNC4uYWQxMDE3ODRlNiAxMDA2NDQKPj4gLS0tIGEveGVu
L2FyY2gvYXJtL3NldHVwLmMKPj4gKysrIGIveGVuL2FyY2gvYXJtL3NldHVwLmMKPj4gQEAgLTk2
MSw2ICs5NjEsOSBAQCB2b2lkIF9faW5pdCBzdGFydF94ZW4odW5zaWduZWQgbG9uZyBib290X3Bo
eXNfb2Zmc2V0LAo+PiAgICAgICBkb20wX2NmZy5hcmNoLnRlZV90eXBlID0gdGVlX2dldF90eXBl
KCk7Cj4+ICAgICAgIGRvbTBfY2ZnLm1heF92Y3B1cyA9IGRvbTBfbWF4X3ZjcHVzKCk7Cj4+Cj4+
ICsgICAgaWYgKCBpb21tdV9lbmFibGVkICkKPj4gKyAgICAgICAgZG9tMF9jZmcuZmxhZ3MgfD0g
WEVOX0RPTUNUTF9DREZfaW9tbXU7Cj4+ICsKPj4gICAgICAgZG9tMCA9IGRvbWFpbl9jcmVhdGUo
MCwgJmRvbTBfY2ZnLCB0cnVlKTsKPj4gICAgICAgaWYgKCBJU19FUlIoZG9tMCkgfHwgKGFsbG9j
X2RvbTBfdmNwdTAoZG9tMCkgPT0gTlVMTCkgKQo+PiAgICAgICAgICAgcGFuaWMoIkVycm9yIGNy
ZWF0aW5nIGRvbWFpbiAwXG4iKTsKPj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL3g4Ni9zZXR1cC5j
IGIveGVuL2FyY2gveDg2L3NldHVwLmMKPj4gaW5kZXggMjc5ODFhZGMwYi4uZGVjNjBkMDMwMSAx
MDA2NDQKPj4gLS0tIGEveGVuL2FyY2gveDg2L3NldHVwLmMKPj4gKysrIGIveGVuL2FyY2gveDg2
L3NldHVwLmMKPj4gQEAgLTE3MzIsNiArMTczMiw5IEBAIHZvaWQgX19pbml0IG5vcmV0dXJuIF9f
c3RhcnRfeGVuKHVuc2lnbmVkIGxvbmcgbWJpX3ApCj4+ICAgICAgIH0KPj4gICAgICAgZG9tMF9j
ZmcubWF4X3ZjcHVzID0gZG9tMF9tYXhfdmNwdXMoKTsKPj4KPj4gKyAgICBpZiAoIGlvbW11X2Vu
YWJsZWQgKQo+PiArICAgICAgICBkb20wX2NmZy5mbGFncyB8PSBYRU5fRE9NQ1RMX0NERl9pb21t
dTsKPj4gKwo+PiAgICAgICAvKiBDcmVhdGUgaW5pdGlhbCBkb21haW4gMC4gKi8KPj4gICAgICAg
ZG9tMCA9IGRvbWFpbl9jcmVhdGUoZ2V0X2luaXRpYWxfZG9tYWluX2lkKCksICZkb20wX2NmZywg
IXB2X3NoaW0pOwo+PiAgICAgICBpZiAoIElTX0VSUihkb20wKSB8fCAoYWxsb2NfZG9tMF92Y3B1
MChkb20wKSA9PSBOVUxMKSApCj4+IGRpZmYgLS1naXQgYS94ZW4vY29tbW9uL2RvbWFpbi5jIGIv
eGVuL2NvbW1vbi9kb21haW4uYwo+PiBpbmRleCAwOTkxN2IyODg1Li40NjgxZjI5YzhiIDEwMDY0
NAo+PiAtLS0gYS94ZW4vY29tbW9uL2RvbWFpbi5jCj4+ICsrKyBiL3hlbi9jb21tb24vZG9tYWlu
LmMKPj4gQEAgLTMwMSw3ICszMDEsOCBAQCBzdGF0aWMgaW50IHNhbml0aXNlX2RvbWFpbl9jb25m
aWcoc3RydWN0IHhlbl9kb21jdGxfY3JlYXRlZG9tYWluICpjb25maWcpCj4+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgWEVOX0RPTUNUTF9DREZfaGFwIHwKPj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBYRU5fRE9NQ1RMX0NERl9zM19pbnRlZ3JpdHkgfAo+PiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFhFTl9ET01DVExfQ0RGX29vc19vZmYgfAo+PiAtICAgICAgICAg
ICAgICAgICAgICAgICAgICAgWEVOX0RPTUNUTF9DREZfeHNfZG9tYWluKSApCj4+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICBYRU5fRE9NQ1RMX0NERl94c19kb21haW4gfAo+PiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgWEVOX0RPTUNUTF9DREZfaW9tbXUpICkKPj4gICAgICAgewo+
PiAgICAgICAgICAgZHByaW50ayhYRU5MT0dfSU5GTywgIlVua25vd24gQ0RGIGZsYWdzICUjeFxu
IiwgY29uZmlnLT5mbGFncyk7Cj4+ICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPj4gQEAgLTMy
MCw2ICszMjEsMTIgQEAgc3RhdGljIGludCBzYW5pdGlzZV9kb21haW5fY29uZmlnKHN0cnVjdCB4
ZW5fZG9tY3RsX2NyZWF0ZWRvbWFpbiAqY29uZmlnKQo+PiAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Cj4+ICAgICAgIH0KPj4KPj4gKyAgICBpZiAoIChjb25maWctPmZsYWdzICYgWEVOX0RPTUNU
TF9DREZfaW9tbXUpICYmICFpb21tdV9lbmFibGVkICkKPj4gKyAgICB7Cj4+ICsgICAgICAgIGRw
cmludGsoWEVOTE9HX0lORk8sICJJT01NVSBpcyBub3QgZW5hYmxlZFxuIik7Cj4+ICsgICAgICAg
IHJldHVybiAtRUlOVkFMOwo+PiArICAgIH0KPj4gKwo+PiAgICAgICByZXR1cm4gYXJjaF9zYW5p
dGlzZV9kb21haW5fY29uZmlnKGNvbmZpZyk7Cj4+ICAgfQo+Pgo+PiBkaWZmIC0tZ2l0IGEveGVu
L2NvbW1vbi9kb21jdGwuYyBiL3hlbi9jb21tb24vZG9tY3RsLmMKPj4gaW5kZXggNmU2ZTliOTg2
Ni4uNWRjZmUzYzhmNiAxMDA2NDQKPj4gLS0tIGEveGVuL2NvbW1vbi9kb21jdGwuYwo+PiArKysg
Yi94ZW4vY29tbW9uL2RvbWN0bC5jCj4+IEBAIC01MTUsNiArNTE1LDE5IEBAIGxvbmcgZG9fZG9t
Y3RsKFhFTl9HVUVTVF9IQU5ETEVfUEFSQU0oeGVuX2RvbWN0bF90KSB1X2RvbWN0bCkKPj4gICAg
ICAgICAgICAgICByb3ZlciA9IGRvbTsKPj4gICAgICAgICAgIH0KPj4KPj4gKyAgICAgICAgLyoK
Pj4gKyAgICAgICAgICogRm9yIG5vdywgbWFrZSBzdXJlIHRoZSBjcmVhdGVkb21haW4gSU9NTVUg
ZmxhZyBpcyBzZXQgaWYgdGhlCj4+ICsgICAgICAgICAqIElPTU1VIGlzIGVuYWJsZWQuIFdoZW4g
dGhlIGZsYWcgY29tZXMgdW5kZXIgdG9vbHN0YWNrIGNvbnRyb2wKPj4gKyAgICAgICAgICogdGhp
cyBjYW4gZ28gYXdheS4KPj4gKyAgICAgICAgICovCj4+ICsgICAgICAgIGlmICggb3AtPnUuY3Jl
YXRlZG9tYWluLmZsYWdzICYgWEVOX0RPTUNUTF9DREZfaW9tbXUgKQo+PiArICAgICAgICB7Cj4+
ICsgICAgICAgICAgICBBU1NFUlRfVU5SRUFDSEFCTEUoKTsKPj4gKyAgICAgICAgICAgIHJldHVy
biAtRUlOVkFMOwo+PiArICAgICAgICB9Cj4+ICsgICAgICAgIGlmICggaW9tbXVfZW5hYmxlZCAp
Cj4+ICsgICAgICAgICAgICBvcC0+dS5jcmVhdGVkb21haW4uZmxhZ3MgfD0gWEVOX0RPTUNUTF9D
REZfaW9tbXU7Cj4+ICsKPj4gICAgICAgICAgIGQgPSBkb21haW5fY3JlYXRlKGRvbSwgJm9wLT51
LmNyZWF0ZWRvbWFpbiwgZmFsc2UpOwo+PiAgICAgICAgICAgaWYgKCBJU19FUlIoZCkgKQo+PiAg
ICAgICAgICAgewo+PiBkaWZmIC0tZ2l0IGEveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvZGV2aWNl
X3RyZWUuYyBiL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2RldmljZV90cmVlLmMKPj4gaW5kZXgg
YjZlYWFlNzI4My4uZDMyYjE3MjY2NCAxMDA2NDQKPj4gLS0tIGEveGVuL2RyaXZlcnMvcGFzc3Ro
cm91Z2gvZGV2aWNlX3RyZWUuYwo+PiArKysgYi94ZW4vZHJpdmVycy9wYXNzdGhyb3VnaC9kZXZp
Y2VfdHJlZS5jCj4+IEBAIC0xMTksNiArMTE5LDkgQEAgaW50IGlvbW11X3JlbGVhc2VfZHRfZGV2
aWNlcyhzdHJ1Y3QgZG9tYWluICpkKQo+PiAgICAgICBzdHJ1Y3QgZHRfZGV2aWNlX25vZGUgKmRl
diwgKl9kZXY7Cj4+ICAgICAgIGludCByYzsKPj4KPj4gKyAgICBpZiAoICFpc19pb21tdV9lbmFi
bGVkKGQpICkKPj4gKyAgICAgICAgcmV0dXJuIDA7Cj4+ICsKPj4gICAgICAgbGlzdF9mb3JfZWFj
aF9lbnRyeV9zYWZlKGRldiwgX2RldiwgJmhkLT5kdF9kZXZpY2VzLCBkb21haW5fbGlzdCkKPj4g
ICAgICAgewo+PiAgICAgICAgICAgcmMgPSBpb21tdV9kZWFzc2lnbl9kdF9kZXZpY2UoZCwgZGV2
KTsKPj4gZGlmZiAtLWdpdCBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMgYi94ZW4v
ZHJpdmVycy9wYXNzdGhyb3VnaC9pb21tdS5jCj4+IGluZGV4IGI4MmY3Nzg0NzkuLmY0MjQwMmJj
OTIgMTAwNjQ0Cj4+IC0tLSBhL3hlbi9kcml2ZXJzL3Bhc3N0aHJvdWdoL2lvbW11LmMKPj4gKysr
IGIveGVuL2RyaXZlcnMvcGFzc3Rocm91Z2gvaW9tbXUuYwo+PiBAQCAtMTUxLDYgKzE1MSw5IEBA
IGludCBpb21tdV9kb21haW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQo+PiAgICAgICBzdHJ1Y3Qg
ZG9tYWluX2lvbW11ICpoZCA9IGRvbV9pb21tdShkKTsKPj4gICAgICAgaW50IHJldCA9IDA7Cj4+
Cj4+ICsgICAgaWYgKCAhaXNfaW9tbXVfZW5hYmxlZChkKSApCj4+ICsgICAgICAgIHJldHVybiAw
Owo+PiArCj4+ICAgI2lmZGVmIENPTkZJR19OVU1BCj4+ICAgICAgIGhkLT5ub2RlID0gTlVNQV9O
T19OT0RFOwo+PiAgICNlbmRpZgo+PiBAQCAtMTU5LDkgKzE2Miw2IEBAIGludCBpb21tdV9kb21h
aW5faW5pdChzdHJ1Y3QgZG9tYWluICpkKQo+PiAgICAgICBpZiAoIHJldCApCj4+ICAgICAgICAg
ICByZXR1cm4gcmV0Owo+Pgo+PiAtICAgIGlmICggIWlvbW11X2VuYWJsZWQgKQo+PiAtICAgICAg
ICByZXR1cm4gMDsKPj4gLQo+PiAgICAgICBoZC0+cGxhdGZvcm1fb3BzID0gaW9tbXVfZ2V0X29w
cygpOwo+PiAgICAgICByZXR1cm4gaGQtPnBsYXRmb3JtX29wcy0+aW5pdChkKTsKPj4gICB9Cj4+
IGRpZmYgLS1naXQgYS94ZW4vaW5jbHVkZS9wdWJsaWMvZG9tY3RsLmggYi94ZW4vaW5jbHVkZS9w
dWJsaWMvZG9tY3RsLmgKPj4gaW5kZXggNzdmNTQ2Y2JiOC4uMWIzMTc2YWRiNSAxMDA2NDQKPj4g
LS0tIGEveGVuL2luY2x1ZGUvcHVibGljL2RvbWN0bC5oCj4+ICsrKyBiL3hlbi9pbmNsdWRlL3B1
YmxpYy9kb21jdGwuaAo+PiBAQCAtNjQsOSArNjQsMTIgQEAgc3RydWN0IHhlbl9kb21jdGxfY3Jl
YXRlZG9tYWluIHsKPj4gICAgLyogSXMgdGhpcyBhIHhlbnN0b3JlIGRvbWFpbj8gKi8KPj4gICAj
ZGVmaW5lIF9YRU5fRE9NQ1RMX0NERl94c19kb21haW4gICAgIDQKPj4gICAjZGVmaW5lIFhFTl9E
T01DVExfQ0RGX3hzX2RvbWFpbiAgICAgICgxVTw8X1hFTl9ET01DVExfQ0RGX3hzX2RvbWFpbikK
Pj4gKyAvKiBTaG91bGQgdGhpcyBkb21haW4gYmUgcGVybWl0dGVkIHRvIHVzZSB0aGUgSU9NTVU/
ICovCj4+ICsjZGVmaW5lIF9YRU5fRE9NQ1RMX0NERl9pb21tdSAgICAgICAgIDUKPj4gKyNkZWZp
bmUgWEVOX0RPTUNUTF9DREZfaW9tbXUgICAgICAgICAgKDFVPDxfWEVOX0RPTUNUTF9DREZfaW9t
bXUpCj4+Cj4+ICAgLyogTWF4IFhFTl9ET01DVExfQ0RGXyogY29uc3RhbnQuICBVc2VkIGZvciBB
QkkgY2hlY2tpbmcuICovCj4+IC0jZGVmaW5lIFhFTl9ET01DVExfQ0RGX01BWCBYRU5fRE9NQ1RM
X0NERl94c19kb21haW4KPj4gKyNkZWZpbmUgWEVOX0RPTUNUTF9DREZfTUFYIFhFTl9ET01DVExf
Q0RGX2lvbW11Cj4+Cj4+ICAgICAgIHVpbnQzMl90IGZsYWdzOwo+Pgo+PiBkaWZmIC0tZ2l0IGEv
eGVuL2luY2x1ZGUveGVuL3NjaGVkLmggYi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaAo+PiBpbmRl
eCBlMzYwMWMxOTM1Li4yZDE3Yzg0OTE1IDEwMDY0NAo+PiAtLS0gYS94ZW4vaW5jbHVkZS94ZW4v
c2NoZWQuaAo+PiArKysgYi94ZW4vaW5jbHVkZS94ZW4vc2NoZWQuaAo+PiBAQCAtOTgzLDYgKzk4
MywxMSBAQCBzdGF0aWMgaW5saW5lIGJvb2wgaXNfeGVuc3RvcmVfZG9tYWluKGNvbnN0IHN0cnVj
dCBkb21haW4gKmQpCj4+ICAgICAgIHJldHVybiBkLT5vcHRpb25zICYgWEVOX0RPTUNUTF9DREZf
eHNfZG9tYWluOwo+PiAgIH0KPj4KPj4gK3N0YXRpYyBpbmxpbmUgYm9vbCBpc19pb21tdV9lbmFi
bGVkKGNvbnN0IHN0cnVjdCBkb21haW4gKmQpCj4+ICt7Cj4+ICsgICAgcmV0dXJuIGV2YWx1YXRl
X25vc3BlYyhkLT5vcHRpb25zICYgWEVOX0RPTUNUTF9DREZfaW9tbXUpOwo+PiArfQo+PiArCj4+
ICAgZXh0ZXJuIGJvb2wgc2NoZWRfc210X3Bvd2VyX3NhdmluZ3M7Cj4+Cj4+ICAgZXh0ZXJuIGVu
dW0gY3B1ZnJlcV9jb250cm9sbGVyIHsKPj4gLS0KPj4gMi4yMC4xLjIuZ2IyMWViYjY3MQo+IAoK
LS0gCkp1bGllbiBHcmFsbAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVj
dC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1k
ZXZlbA==

Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 843D5121B96
	for <lists+xen-devel@lfdr.de>; Mon, 16 Dec 2019 22:14:11 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1igxeS-00010J-3e; Mon, 16 Dec 2019 21:11:36 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=v9dV=2G=gmail.com=julien.grall.oss@srs-us1.protection.inumbo.net>)
 id 1igxeQ-00010E-36
 for xen-devel@lists.xenproject.org; Mon, 16 Dec 2019 21:11:34 +0000
X-Inumbo-ID: 9dcccbf2-2048-11ea-b6f1-bc764e2007e4
Received: from mail-wr1-f65.google.com (unknown [209.85.221.65])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 9dcccbf2-2048-11ea-b6f1-bc764e2007e4;
 Mon, 16 Dec 2019 21:11:25 +0000 (UTC)
Received: by mail-wr1-f65.google.com with SMTP id j42so4803088wrj.12
 for <xen-devel@lists.xenproject.org>; Mon, 16 Dec 2019 13:11:24 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=VYZ00tIzkbFTsJtuySPhE4xCRROWX+gdvBGtzpXciRk=;
 b=kaEassh9SZ8+5ZAQ+WARqTdtmnegVo31N/c5NLv05xBIm1yo90nb5VttgjtooPSgrv
 29VaDmJFbE1iIWZlg3Iyn2kKtMDPN1IC/klk/iGq6lUi/RYDV39Gp3Sp8/xTgCu9tCnB
 qgv0fpmVtPUrZzndyxcr5sWz3tB6TQ5yKF2/M3kQ1qVAE6YhmUyEInd95zKHxDgU0Bs8
 LahLmnuFyCb44dWzZLwWxCFYXwJfQptgDzg50Jj1Q9UoOSsJ5dxJaJlE0m117gfqEC58
 0DQYwqmhf9YIi4KvFf8qjC0LCj1EIcXyep7suCbU23mXcQbmbmsSH40cX18wkWsjj13C
 59tg==
X-Gm-Message-State: APjAAAV/ZYwktcIPiAPV/B/TK6o44cRCbJhBt1ScQW5/LA5il8/29V/g
 b8QBxTHL/dMjqXpgKM5LuA0k4LZu
X-Google-Smtp-Source: APXvYqx/PRu/m14RlykGIEHN97NOiwzi5fQVmmKaVdRejMKoFjyhfw11vYyFIz765DCefZYcsyfDJw==
X-Received: by 2002:adf:f091:: with SMTP id n17mr33397907wro.387.1576530684099; 
 Mon, 16 Dec 2019 13:11:24 -0800 (PST)
Received: from a483e7b01a66.ant.amazon.com (54-240-197-226.amazon.com.
 [54.240.197.226])
 by smtp.gmail.com with ESMTPSA id c68sm649582wme.13.2019.12.16.13.11.23
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 16 Dec 2019 13:11:23 -0800 (PST)
To: Andrei Cherechesu <andrei.cherechesu@nxp.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 Stefano Stabellini <sstabellini@kernel.org>
References: <AM6PR04MB42465A5C5405FE85DA1F6FB0F9510@AM6PR04MB4246.eurprd04.prod.outlook.com>
From: Julien Grall <julien@xen.org>
Message-ID: <766fc278-d729-ae7c-1abb-053f938eb8aa@xen.org>
Date: Mon, 16 Dec 2019 21:11:22 +0000
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0)
 Gecko/20100101 Thunderbird/68.3.0
MIME-Version: 1.0
In-Reply-To: <AM6PR04MB42465A5C5405FE85DA1F6FB0F9510@AM6PR04MB4246.eurprd04.prod.outlook.com>
Content-Language: en-GB
Subject: Re: [Xen-devel] Xen ARM Dom0less passthrough without IOMMU
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMTYvMTIvMjAxOSAxODowMiwgQW5kcmVpIENoZXJlY2hlc3Ugd3JvdGU6Cj4gSGVsbG8sCgpI
ZWxsbywKCj4gTXkgbmFtZSBpcyBBbmRyZWkgQ2hlcmVjaGVzdSBhbmQgSSdtIGEgU29mdHdhcmUg
RW5naW5lZXIgYXQgTlhQCj4gCj4gU2VtaWNvbmR1Y3RvcnMgaW4gdGhlIEF1dG9tb3RpdmUgZGVw
YXJ0bWVudCwgTGludXggQlNQIFRlYW0uCj4gCj4gSSB3b3VsZCBsaWtlIHRvIHRlbGwgeW91IGhh
dmUgZG9uZSBhIGdyZWF0IGpvYiBzbyBmYXIgd2l0aCBYZW4uCgpUaGFuayB5b3UgZm9yIHlvdXIg
aW50ZXJlc3QgaW4gWGVuIG9uIEFybS4KCj4gCj4gVGh1cywgd2UgaGF2ZSBwb3J0ZWQgYW5kIGlu
dGVncmF0ZWQgWGVuIEFSTSBpbiB0aGUgTGludXggQlNQIGZvciBvdXIKPiAKPiBib2FyZHMuCj4g
Cj4gQ3VycmVudGx5LCB3ZSBhcmUgdHJ5aW5nIHRvIHBhc3N0aHJvdWdoIGRldmljZXMgaW4gb3Jk
ZXIgdG8gc3RhdGljYWxseQo+IAo+IGFzc2lnbiB0aGVtIHRvIGRpZmZlcmVudCBEb21VcyBhdCBi
b290IHRpbWUgKERvbTBsZXNzIGNvbmZpZ3VyYXRpb24pLgo+IAo+IE91ciBib2FyZHMgZG8gbm90
IGhhdmUgYW4gSU9NTVUgYW5kIHNvIG91ciB3b3JrIGlzIG9ubHkgcG9zc2libGUKPiAKPiB3aXRo
IHRoZSBoZWxwIG9mIHRoZSBwYXRjaGVzIHN1Ym1pdHRlZCBieSBTdGVmYW5vIFN0YWJlbGxpbmkg
dGhhdAo+IAo+IGltcGxlbWVudGVkICJ4ZW4sZm9yY2UtYXNzaWduLXdpdGhvdXQtaW9tbXUiIHBy
b3BlcnR5IGluIHRoZQo+IAo+IHBhcnRpYWwgZGV2aWNlIHRyZWVzIHVzZWQgZm9yIHBhc3N0aHJv
dWdoLgo+IAo+IEkgbWFkZSBhIGNvbmZpZ3VyYXRpb24gaW4gb3JkZXIgdG8gc2V0dXAgdGhlIGR0
YiAvY2hvc2VuCj4gCj4gbm9kZSB0byBib290IGEgRG9tMGxlc3MgVk0gaW4gcGFyYWxsZWwgd2l0
aCBEb20wLCB3aXRoIGEKPiAKPiBwZXJpcGhlcmljYWwgZGV2aWNlIHN0YXRpY2FsbHkgYXNzaWdu
ZWQgdG8gaXQuCj4gCj4gSG93ZXZlciwgb25seSBpZiBJIGFkdmVydGlzZSB0aGUgcGFzc3Rocm91
Z2ggZHRiIG5vZGUgaW4gdS1ib290LAo+IAo+IHdoZW4gSSBib290IFhlbiwgSSBhbSBnaXZlbiB0
aGUgZm9sbG93aW5nIGVycm9yOgo+IAo+IChYRU4pICoqKiBMT0FESU5HIERPTUFJTiAwICoqKgo+
IAo+IChYRU4pIExvYWRpbmcgZDAga2VybmVsIGZyb20gYm9vdCBtb2R1bGUgQCAwMDAwMDAwMGJl
ODAwMDAwCj4gCj4gKFhFTikgTG9hZGluZyByYW1kaXNrIGZyb20gYm9vdCBtb2R1bGUgQCAwMDAw
MDAwMGIxMDAwMDAwCj4gCj4gKFhFTikgQWxsb2NhdGluZyAxOjEgbWFwcGluZ3MgdG90YWxsaW5n
IDUxMk1CIGZvciBkb20wOgo+IAo+IChYRU4pIEJBTktbMF0gMHgwMDAwMDBkMDAwMDAwMC0weDAw
MDAwMGYwMDAwMDAwICg1MTJNQikKPiAKPiAoWEVOKSBHcmFudCB0YWJsZSByYW5nZTogMHgwMDAw
MDA4MDIwMDAwMC0weDAwMDAwMDgwMjQwMDAwCj4gCj4gKFhFTikgQWxsb2NhdGluZyBQUEkgMTYg
Zm9yIGV2ZW50IGNoYW5uZWwgaW50ZXJydXB0Cj4gCj4gKFhFTikgTG9hZGluZyB6SW1hZ2UgZnJv
bSAwMDAwMDAwMGJlODAwMDAwIHRvIAo+IDAwMDAwMDAwZDAwODAwMDAtMDAwMDAwMDBkMDkzMDAw
OAo+IAo+IChYRU4pIExvYWRpbmcgZG9tMCBpbml0cmQgZnJvbSAwMDAwMDAwMGIxMDAwMDAwIHRv
IAo+IDB4MDAwMDAwMDBkODIwMDAwMC0weDAwMDAwMDAwZTAxZmZmZmYKPiAKPiAoWEVOKSBMb2Fk
aW5nIGRvbTAgRFRCIHRvIDB4MDAwMDAwMDBkODAwMDAwMC0weDAwMDAwMDAwZDgwMDU5NmEKPiAK
PiAoWEVOKSBJbml0aWFsIGxvdyBtZW1vcnkgdmlycSB0aHJlc2hvbGQgc2V0IGF0IDB4NDAwMCBw
YWdlcy4KPiAKPiAoWEVOKSBTY3J1YmJpbmcgRnJlZSBSQU0gaW4gYmFja2dyb3VuZAo+IAo+IChY
RU4pIFN0ZC4gTG9nbGV2ZWw6IEFsbAo+IAo+IChYRU4pIEd1ZXN0IExvZ2xldmVsOiBBbGwKPiAK
PiAoWEVOKSAqKiogU2VyaWFsIGlucHV0IHRvIERPTTAgKHR5cGUgJ0NUUkwtYScgdGhyZWUgdGlt
ZXMgdG8gc3dpdGNoIGlucHV0KQo+IAo+IChYRU4pIGRvbWFpbi5jOjMyMjogSU9NTVUgaXMgbm90
IGVuYWJsZWQKPiAKPiAoWEVOKQo+IAo+IChYRU4pICoqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioKPiAKPiAoWEVOKSBQYW5pYyBvbiBDUFUgMDoKPiAKPiAoWEVOKSBFcnJv
ciBjcmVhdGluZyBkb21haW4gZG9tVTEKPiAKPiAoWEVOKSAqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqCj4gCj4gTXkgWGVuIGlzIHRha2VuIGZyb20gU3RlZmFub+KAmXMg
dHJlZSAKPiAoaHR0cDovL3hlbmJpdHMueGVucHJvamVjdC5vcmcvZ2l0LWh0dHAvcGVvcGxlL3Nz
dGFiZWxsaW5pL3hlbi11bnN0YWJsZS5naXQpCj4gCj4gdGhhdCBoZSBzcGVjaWZpZWQgaW4gdGhp
cyAKPiA8aHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9hcmNoaXZlcy9odG1sL3hlbi1kZXZl
bC8yMDE5LTEwL21zZzAwNDE0Lmh0bWw+IAo+IHRocmVhZCBpbmRleCwgYW5kIG9ubHkgaGFzIHRo
ZSBhZGRpdGlvbmFsIGNvbW1pdHMKPiAKPiB0aGF0IGFkZCBzdXBwb3J0IGZvciBvdXIgYm9hcmRz
IGFwcGxpZWQgYnkgbXlzZWxmLgoKVGhpcyBzZXJpZXMgYXMgYmVlbiBtZXJnZWQgaW4gdGhlIHVw
Y29taW5nIHJlbGVhc2Ugb2YgWGVuLiBJIHdvdWxkIAp0aGVyZWZvcmUgcmVjb21tZW5kIHRvIHVz
ZSB0aGUgdXBzdHJlYW0gc3RhZ2luZy9tYXN0ZXIgaW4gY2FzZSBidWdzIG1heSAKaGF2ZSBiZWVu
IGZpeGVkIHRoZXJlLgoKPiAKPiAgRnJvbSB3aGF0IEkndmUgcmVhZCBvbiB0aGUgbWFpbGluZyBs
aXN0cywgdGhlIERvbTBsZXNzIERldmljZQo+IAo+IFBhc3N0aHJvdWdoIFdpdGhvdXQgSU9NTVUg
ZmVhdHVyZSBpcyBzdXBwb3J0ZWQsIGF0IGxlYXN0LAo+IAo+IG9uIGJvYXJkcyB0aGF0IGRvIGhh
dmUgYSBwaHlzaWNhbCBJT01NVSBidXQgaGF2ZSBzb21lIGRldmljZXMgdGhhdAo+IAo+IGFyZSBu
b3QgYmVoaW5kIGl0Lgo+IAo+IE15IHF1ZXN0aW9uIGlzOiBJbiB0aGUgd2F5IHRoYXQgaXQgaXMg
Y3VycmVudGx5IGltcGxlbWVudGVkLAo+IAo+IGlzIHRoZSBEb20wbGVzcyBEZXZpY2UgUGFzc3Ro
cm91Z2ggZmVhdHVyZSBjdXJyZW50bHkgc3VwcG9ydGVkCj4gCj4gb24gYm9hcmRzIHRoYXQgZG8g
bm90IGhhdmUgYW4gSU9NTVUgYXQgYWxsPwoKTG9va2luZyBhdCB0aGUgY29kZSwgdGhlcmUgYXJl
IGEgZmV3IGlzc3VlcyBpbiBjdXJyZW50IFhlbiB0aGF0IHdvdWxkIApwcmV2ZW50IHBhc3N0aHJv
dWdoIHdpdGhvdXQgSU9NTVUgdG8gd29yay4KCkZvciBhIGZpcnN0LCBYZW4gaXMgcmVxdWVzdGlu
ZyB0byBjcmVhdGUgaW5zdGlhdGUgYW4gSU9NTVUgY29udGV4dCBmb3IgCnRoZSBkb21haW4gaWYg
YSBwYXJ0aWFsIERUIGlzIHByZXNlbnQgKHNlZSBjcmVhdGVfZG9tVXMoKSkuIFRoZSAKZm9sbG93
aW5nIHBhdGggc2hvdWxkIGdldCByaWQgb2YgdGhlIHBhbmljIGFib3ZlICgvIVwgaXQgaXMgYSBn
cm9zcyBoYWNrIAphbmQgbm90IGZvciB1cHN0cmVhbS9wcm9kdWN0aW9uKToKCmRpZmYgLS1naXQg
YS94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxkLmMgYi94ZW4vYXJjaC9hcm0vZG9tYWluX2J1aWxk
LmMKaW5kZXggZGQ5YzNiNzNiYS4uNTcwMGI5OTJkZiAxMDA2NDQKLS0tIGEveGVuL2FyY2gvYXJt
L2RvbWFpbl9idWlsZC5jCisrKyBiL3hlbi9hcmNoL2FybS9kb21haW5fYnVpbGQuYwpAQCAtMjQ3
NCw5ICsyNDc0LDYgQEAgdm9pZCBfX2luaXQgY3JlYXRlX2RvbVVzKHZvaWQpCiAgICAgICAgICAg
ICAgcGFuaWMoIk1pc3NpbmcgcHJvcGVydHkgJ2NwdXMnIGZvciBkb21haW4gJXNcbiIsCiAgICAg
ICAgICAgICAgICAgICAgZHRfbm9kZV9uYW1lKG5vZGUpKTsKCi0gICAgICAgIGlmICggZHRfZmlu
ZF9jb21wYXRpYmxlX25vZGUobm9kZSwgTlVMTCwgIm11bHRpYm9vdCxkZXZpY2UtdHJlZSIpICkK
LSAgICAgICAgICAgIGRfY2ZnLmZsYWdzIHw9IFhFTl9ET01DVExfQ0RGX2lvbW11OwotCiAgICAg
ICAgICBpZiAoICFkdF9wcm9wZXJ0eV9yZWFkX3UzMihub2RlLCAibnJfc3BpcyIsICZkX2NmZy5h
cmNoLm5yX3NwaXMpICkKICAgICAgICAgIHsKICAgICAgICAgICAgICBkX2NmZy5hcmNoLm5yX3Nw
aXMgPSBnaWNfbnVtYmVyX2xpbmVzKCkgLSAzMjsKCkJ1dCBldmVuIHdpdGggdGhpcyBwYXRjaCwg
UkFNIGluIERvbVUgaXMgbm90IGRpcmVjdCBtYXBwZWQgKGkuZSBHdWVzdCAKUGh5c2ljYWwgQWRk
cmVzcyA9PSBIb3N0IFBoeXNpY2FsIEFkZHJlc3MpLiBUaGlzIG1lYW5zIHRoYXQgRE1BLWNhcGFi
bGUgCmRldmljZSB3b3VsZCBub3Qgd29yayBwcm9wZXJseSBpbiBEb21VLgoKV2UgY291bGQgdGhl
b3JpdGljYWxseSBtYXAgRG9tVSBkaXJlY3QgbWFwcGVkLCBidXQgdGhpcyB3b3VsZCBicmVhayB0
aGUgCmlzb2xhdGlvbiBwcm92aWRlZCBieSB0aGUgaHlwZXJ2aXNvci4KCldoYXQgc29ydCBvZiBk
ZXZpY2UgZG8geW91IHBsYW4gdG8gYXNzaWduPwoKQmVzdCByZWdhcmRzLAoKLS0gCkp1bGllbiBH
cmFsbAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVu
LWRldmVsIG1haWxpbmcgbGlzdApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6
Ly9saXN0cy54ZW5wcm9qZWN0Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

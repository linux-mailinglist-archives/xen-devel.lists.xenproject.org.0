Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id DCD9E5E4D8
	for <lists+xen-devel@lfdr.de>; Wed,  3 Jul 2019 15:09:17 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1hiexf-0004dY-QU; Wed, 03 Jul 2019 13:06:11 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=vZpq=VA=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1hiexe-0004dR-EM
 for xen-devel@lists.xenproject.org; Wed, 03 Jul 2019 13:06:10 +0000
X-Inumbo-ID: 509c19e2-9d93-11e9-b814-236c25e6328f
Received: from m4a0039g.houston.softwaregrp.com (unknown [15.124.2.85])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 509c19e2-9d93-11e9-b814-236c25e6328f;
 Wed, 03 Jul 2019 13:06:07 +0000 (UTC)
Received: FROM m4a0039g.houston.softwaregrp.com (15.120.17.147) BY
 m4a0039g.houston.softwaregrp.com WITH ESMTP; 
 Wed,  3 Jul 2019 13:02:28 +0000
Received: from M4W0334.microfocus.com (2002:f78:1192::f78:1192) by
 M4W0335.microfocus.com (2002:f78:1193::f78:1193) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10; Wed, 3 Jul 2019 13:04:15 +0000
Received: from NAM02-SN1-obe.outbound.protection.outlook.com (15.124.8.12) by
 M4W0334.microfocus.com (15.120.17.146) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.1591.10 via Frontend Transport; Wed, 3 Jul 2019 13:04:15 +0000
Received: from BY5PR18MB3394.namprd18.prod.outlook.com (10.255.139.95) by
 BY5PR18MB3393.namprd18.prod.outlook.com (10.255.136.159) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2032.20; Wed, 3 Jul 2019 13:04:14 +0000
Received: from BY5PR18MB3394.namprd18.prod.outlook.com
 ([fe80::2005:4b02:1d60:d1bc]) by BY5PR18MB3394.namprd18.prod.outlook.com
 ([fe80::2005:4b02:1d60:d1bc%3]) with mapi id 15.20.2052.010; Wed, 3 Jul 2019
 13:04:14 +0000
From: Jan Beulich <JBeulich@suse.com>
To: "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>
Thread-Topic: [PATCH v2 5/5] tools/libxc: allow controlling the max C-state
 sub-state
Thread-Index: AQHVMZ/Q+p945gYsm0arEFP/PvEB7w==
Date: Wed, 3 Jul 2019 13:04:13 +0000
Message-ID: <16586069-2940-bf5b-aed1-6c9e150c70b5@suse.com>
References: <0dbf8520-89c7-753e-c10a-13399aec9cd5@suse.com>
In-Reply-To: <0dbf8520-89c7-753e-c10a-13399aec9cd5@suse.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: DB6PR0501CA0021.eurprd05.prod.outlook.com
 (2603:10a6:4:8f::31) To BY5PR18MB3394.namprd18.prod.outlook.com
 (2603:10b6:a03:194::31)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=JBeulich@suse.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [87.234.252.170]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: e4271b32-a4e3-407d-f5c0-08d6ffb6f289
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328)(7193020);
 SRVR:BY5PR18MB3393; 
x-ms-traffictypediagnostic: BY5PR18MB3393:
x-microsoft-antispam-prvs: <BY5PR18MB3393290ECFE2E83BAA22C697B3FB0@BY5PR18MB3393.namprd18.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:551;
x-forefront-prvs: 00872B689F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10019020)(4636009)(396003)(136003)(376002)(366004)(346002)(39860400002)(189003)(199004)(6512007)(316002)(476003)(36756003)(71190400001)(76176011)(54906003)(53936002)(4326008)(2501003)(80792005)(446003)(11346002)(31686004)(14444005)(256004)(26005)(5660300002)(99286004)(72206003)(2616005)(71200400001)(14454004)(486006)(186003)(305945005)(52116002)(68736007)(25786009)(2906002)(64756008)(73956011)(3846002)(66946007)(102836004)(66476007)(66066001)(6486002)(8676002)(81166006)(6916009)(386003)(81156014)(66556008)(6506007)(478600001)(31696002)(6436002)(66446008)(8936002)(7736002)(5640700003)(2351001)(86362001)(6116002)(309714004);
 DIR:OUT; SFP:1102; SCL:1; SRVR:BY5PR18MB3393;
 H:BY5PR18MB3394.namprd18.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: suse.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: NbYGxe6R2jnBHB7zHVsXA+S2btxR3SjYb4eItlR+wHk7ftae0E//29XXldMMKrKlQCrVesNt1/VmT4JNU/l4h+XmWwsEZjEJ5w2Fgl6wHyUprqwFn8GIcuWooN39SN3fprfH2yBpEpftzNCQxYdTozRBg+vDJRG6f2QrlvXGtUScU3JEu9HQFcBp5t5a4WmyfrQB0AJJUnXn20EBt/un7uy7VaV1PbXNRHsn/ZKO0galdVfrWxvig5P+D2hqYUlo16ogfm5HJMXW8xN7LGA0p1UdFdO4Is5iYutm3ofHCyXxN/jVUYD4ldN7146ZgpDS8xOL+5AdIdba4TUny92rpBh6Hw3r8pkNvKlLAW0MUpvz+EdZfnnAreqo4fw43ud0DAyHzDd/Qegf+2bTNMBNez6RDk8Y2kvFtE0qCp9rxdI=
Content-ID: <36174B3B9213774289BE393BE0E65B81@namprd18.prod.outlook.com>
MIME-Version: 1.0
X-MS-Exchange-CrossTenant-Network-Message-Id: e4271b32-a4e3-407d-f5c0-08d6ffb6f289
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Jul 2019 13:04:13.9850 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 856b813c-16e5-49a5-85ec-6f081e13b527
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: JBeulich@suse.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BY5PR18MB3393
X-OriginatorOrg: suse.com
Subject: [Xen-devel] [PATCH v2 5/5] tools/libxc: allow controlling the max
 C-state sub-state
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@citrix.com>, Wei Liu <wl@xen.org>,
 =?utf-8?B?Um9nZXIgUGF1IE1vbm7DqQ==?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

RnJvbTogUm9zcyBMYWdlcndhbGwgPHJvc3MubGFnZXJ3YWxsQGNpdHJpeC5jb20+DQoNClNpZ25l
ZC1vZmYtYnk6IFJvc3MgTGFnZXJ3YWxsIDxyb3NzLmxhZ2Vyd2FsbEBjaXRyaXguY29tPg0KDQpN
YWtlIGhhbmRsaW5nIGluIGRvX3BtX29wKCkgbW9yZSBob21vZ2VuZW91czogQmVmb3JlIGludGVy
cHJldGluZw0Kb3AtPmNwdWlkIGFzIHN1Y2gsIGhhbmRsZSBhbGwgb3BlcmF0aW9ucyBub3QgYWN0
aW5nIG9uIGEgcGFydGljdWxhcg0KQ1BVLiBBbHNvIGV4cG9zZSB0aGUgc2V0dGluZyB2aWEgeGVu
cG0uDQoNClNpZ25lZC1vZmYtYnk6IEphbiBCZXVsaWNoIDxqYmV1bGljaEBzdXNlLmNvbT4NCkFj
a2VkLWJ5OiBXZWkgTGl1IDx3ZWkubGl1MkBjaXRyaXguY29tPg0KLS0tDQp2MjogQWRqdXN0IHhl
bnBtJ3MgdXNhZ2UgbWVzc2FnZS4gQWxzbyBhZGp1c3QgaXRzIG91dHB1dCB3b3JkaW5nIGENCiAg
ICAgbGl0dGxlLg0KDQotLS0gYS90b29scy9saWJ4Yy94Y19wbS5jDQorKysgYi90b29scy9saWJ4
Yy94Y19wbS5jDQpAQCAtMzY3LDcgKzM2Nyw3IEBAIGludCB4Y19zZXRfc2NoZWRfb3B0X3NtdCh4
Y19pbnRlcmZhY2UgKngNCiAgICAgcmV0dXJuIHJjOw0KICB9DQogIA0KLWludCB4Y19nZXRfY3B1
aWRsZV9tYXhfY3N0YXRlKHhjX2ludGVyZmFjZSAqeGNoLCB1aW50MzJfdCAqdmFsdWUpDQorc3Rh
dGljIGludCBnZXRfbWF4X2NzdGF0ZSh4Y19pbnRlcmZhY2UgKnhjaCwgdWludDMyX3QgKnZhbHVl
LCB1aW50MzJfdCB0eXBlKQ0KICB7DQogICAgICBpbnQgcmM7DQogICAgICBERUNMQVJFX1NZU0NU
TDsNCkBAIC0zNzksNyArMzc5LDcgQEAgaW50IHhjX2dldF9jcHVpZGxlX21heF9jc3RhdGUoeGNf
aW50ZXJmYQ0KICAgICAgfQ0KICAgICAgc3lzY3RsLmNtZCA9IFhFTl9TWVNDVExfcG1fb3A7DQog
ICAgICBzeXNjdGwudS5wbV9vcC5jbWQgPSBYRU5fU1lTQ1RMX3BtX29wX2dldF9tYXhfY3N0YXRl
Ow0KLSAgICBzeXNjdGwudS5wbV9vcC5jcHVpZCA9IDA7DQorICAgIHN5c2N0bC51LnBtX29wLmNw
dWlkID0gdHlwZTsNCiAgICAgIHN5c2N0bC51LnBtX29wLnUuZ2V0X21heF9jc3RhdGUgPSAwOw0K
ICAgICAgcmMgPSBkb19zeXNjdGwoeGNoLCAmc3lzY3RsKTsNCiAgICAgICp2YWx1ZSA9IHN5c2N0
bC51LnBtX29wLnUuZ2V0X21heF9jc3RhdGU7DQpAQCAtMzg3LDcgKzM4NywxNyBAQCBpbnQgeGNf
Z2V0X2NwdWlkbGVfbWF4X2NzdGF0ZSh4Y19pbnRlcmZhDQogICAgICByZXR1cm4gcmM7DQogIH0N
CiAgDQotaW50IHhjX3NldF9jcHVpZGxlX21heF9jc3RhdGUoeGNfaW50ZXJmYWNlICp4Y2gsIHVp
bnQzMl90IHZhbHVlKQ0KK2ludCB4Y19nZXRfY3B1aWRsZV9tYXhfY3N0YXRlKHhjX2ludGVyZmFj
ZSAqeGNoLCB1aW50MzJfdCAqdmFsdWUpDQorew0KKyAgICByZXR1cm4gZ2V0X21heF9jc3RhdGUo
eGNoLCB2YWx1ZSwgMCk7DQorfQ0KKw0KK2ludCB4Y19nZXRfY3B1aWRsZV9tYXhfY3N1YnN0YXRl
KHhjX2ludGVyZmFjZSAqeGNoLCB1aW50MzJfdCAqdmFsdWUpDQorew0KKyAgICByZXR1cm4gZ2V0
X21heF9jc3RhdGUoeGNoLCB2YWx1ZSwgMSk7DQorfQ0KKw0KK3N0YXRpYyBpbnQgc2V0X21heF9j
c3RhdGUoeGNfaW50ZXJmYWNlICp4Y2gsIHVpbnQzMl90IHZhbHVlLCB1aW50MzJfdCB0eXBlKQ0K
ICB7DQogICAgICBERUNMQVJFX1NZU0NUTDsNCiAgDQpAQCAtMzk4LDEyICs0MDgsMjIgQEAgaW50
IHhjX3NldF9jcHVpZGxlX21heF9jc3RhdGUoeGNfaW50ZXJmYQ0KICAgICAgfQ0KICAgICAgc3lz
Y3RsLmNtZCA9IFhFTl9TWVNDVExfcG1fb3A7DQogICAgICBzeXNjdGwudS5wbV9vcC5jbWQgPSBY
RU5fU1lTQ1RMX3BtX29wX3NldF9tYXhfY3N0YXRlOw0KLSAgICBzeXNjdGwudS5wbV9vcC5jcHVp
ZCA9IDA7DQorICAgIHN5c2N0bC51LnBtX29wLmNwdWlkID0gdHlwZTsNCiAgICAgIHN5c2N0bC51
LnBtX29wLnUuc2V0X21heF9jc3RhdGUgPSB2YWx1ZTsNCiAgDQogICAgICByZXR1cm4gZG9fc3lz
Y3RsKHhjaCwgJnN5c2N0bCk7DQogIH0NCiAgDQoraW50IHhjX3NldF9jcHVpZGxlX21heF9jc3Rh
dGUoeGNfaW50ZXJmYWNlICp4Y2gsIHVpbnQzMl90IHZhbHVlKQ0KK3sNCisgICAgcmV0dXJuIHNl
dF9tYXhfY3N0YXRlKHhjaCwgdmFsdWUsIDApOw0KK30NCisNCitpbnQgeGNfc2V0X2NwdWlkbGVf
bWF4X2NzdWJzdGF0ZSh4Y19pbnRlcmZhY2UgKnhjaCwgdWludDMyX3QgdmFsdWUpDQorew0KKyAg
ICByZXR1cm4gc2V0X21heF9jc3RhdGUoeGNoLCB2YWx1ZSwgMSk7DQorfQ0KKw0KICBpbnQgeGNf
ZW5hYmxlX3R1cmJvKHhjX2ludGVyZmFjZSAqeGNoLCBpbnQgY3B1aWQpDQogIHsNCiAgICAgIERF
Q0xBUkVfU1lTQ1RMOw0KLS0tIGEvdG9vbHMvbGlieGMvaW5jbHVkZS94ZW5jdHJsLmgNCisrKyBi
L3Rvb2xzL2xpYnhjL2luY2x1ZGUveGVuY3RybC5oDQpAQCAtMTkwNiw2ICsxOTA2LDkgQEAgaW50
IHhjX3NldF9zY2hlZF9vcHRfc210KHhjX2ludGVyZmFjZSAqeA0KICBpbnQgeGNfZ2V0X2NwdWlk
bGVfbWF4X2NzdGF0ZSh4Y19pbnRlcmZhY2UgKnhjaCwgdWludDMyX3QgKnZhbHVlKTsNCiAgaW50
IHhjX3NldF9jcHVpZGxlX21heF9jc3RhdGUoeGNfaW50ZXJmYWNlICp4Y2gsIHVpbnQzMl90IHZh
bHVlKTsNCiAgDQoraW50IHhjX2dldF9jcHVpZGxlX21heF9jc3Vic3RhdGUoeGNfaW50ZXJmYWNl
ICp4Y2gsIHVpbnQzMl90ICp2YWx1ZSk7DQoraW50IHhjX3NldF9jcHVpZGxlX21heF9jc3Vic3Rh
dGUoeGNfaW50ZXJmYWNlICp4Y2gsIHVpbnQzMl90IHZhbHVlKTsNCisNCiAgaW50IHhjX2VuYWJs
ZV90dXJibyh4Y19pbnRlcmZhY2UgKnhjaCwgaW50IGNwdWlkKTsNCiAgaW50IHhjX2Rpc2FibGVf
dHVyYm8oeGNfaW50ZXJmYWNlICp4Y2gsIGludCBjcHVpZCk7DQogIA0KLS0tIGEvdG9vbHMvbWlz
Yy94ZW5wbS5jDQorKysgYi90b29scy9taXNjL3hlbnBtLmMNCkBAIC02NCw3ICs2NCw5IEBAIHZv
aWQgc2hvd19oZWxwKHZvaWQpDQogICAgICAgICAgICAgICIgc2V0LXNjaGVkLXNtdCAgICAgICAg
ICAgZW5hYmxlfGRpc2FibGUgZW5hYmxlL2Rpc2FibGUgc2NoZWR1bGVyIHNtdCBwb3dlciBzYXZp
bmdcbiINCiAgICAgICAgICAgICAgIiBzZXQtdmNwdS1taWdyYXRpb24tZGVsYXkgICAgICA8bnVt
PiBzZXQgc2NoZWR1bGVyIHZjcHUgbWlncmF0aW9uIGRlbGF5IGluIHVzXG4iDQogICAgICAgICAg
ICAgICIgZ2V0LXZjcHUtbWlncmF0aW9uLWRlbGF5ICAgICAgICAgICAgZ2V0IHNjaGVkdWxlciB2
Y3B1IG1pZ3JhdGlvbiBkZWxheVxuIg0KLSAgICAgICAgICAgICIgc2V0LW1heC1jc3RhdGUgICAg
ICAgIDxudW0+fCd1bmxpbWl0ZWQnIHNldCB0aGUgQy1TdGF0ZSBsaW1pdGF0aW9uICg8bnVtPiA+
PSAwKVxuIg0KKyAgICAgICAgICAgICIgc2V0LW1heC1jc3RhdGUgICAgICAgIDxudW0+fCd1bmxp
bWl0ZWQnWyw8bnVtMj58J3VubGltaXRlZCddXG4iDQorICAgICAgICAgICAgIiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgdGhlIEMtU3RhdGUgbGltaXRhdGlvbiAoPG51
bT4gPj0gMCkgYW5kXG4iDQorICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBvcHRpb25hbGx5IHRoZSBDLXN1Yi1zdGF0ZSBsaW1pdGF0aW9uICg8bnVtMj4g
Pj0gMClcbiINCiAgICAgICAgICAgICAgIiBzdGFydCBbc2Vjb25kc10gICAgICAgICAgICAgICAg
ICAgICBzdGFydCBjb2xsZWN0IEN4L1B4IHN0YXRpc3RpY3MsXG4iDQogICAgICAgICAgICAgICIg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0IGFmdGVyIENUUkwtQyBv
ciBTSUdJTlQgb3Igc2V2ZXJhbCBzZWNvbmRzLlxuIg0KICAgICAgICAgICAgICAiIGVuYWJsZS10
dXJiby1tb2RlICAgICBbY3B1aWRdICAgICAgIGVuYWJsZSBUdXJibyBNb2RlIGZvciBwcm9jZXNz
b3JzIHRoYXQgc3VwcG9ydCBpdC5cbiINCkBAIC0xOTUsNyArMTk3LDE1IEBAIHN0YXRpYyBpbnQg
c2hvd19tYXhfY3N0YXRlKHhjX2ludGVyZmFjZQ0KICAgICAgICAgIHJldHVybiByZXQ7DQogIA0K
ICAgICAgaWYgKCB2YWx1ZSA8IFhFTl9TWVNDVExfQ1hfVU5MSU1JVEVEICkNCi0gICAgICAgIHBy
aW50ZigiTWF4IHBvc3NpYmxlIEMtc3RhdGU6IEMlIlBSSXUzMiJcblxuIiwgdmFsdWUpOw0KKyAg
ICB7DQorICAgICAgICBwcmludGYoIk1heCBwb3NzaWJsZSBDLXN0YXRlOiBDJSJQUkl1MzIiXG4i
LCB2YWx1ZSk7DQorICAgICAgICBpZiAoIChyZXQgPSB4Y19nZXRfY3B1aWRsZV9tYXhfY3N1YnN0
YXRlKHhjX2hhbmRsZSwgJnZhbHVlKSkgKQ0KKyAgICAgICAgICAgIHJldHVybiByZXQ7DQorICAg
ICAgICBpZiAoIHZhbHVlIDwgWEVOX1NZU0NUTF9DWF9VTkxJTUlURUQgKQ0KKyAgICAgICAgICAg
IHByaW50ZigiTWF4IHBvc3NpYmxlIHN1YnN0YXRlOiAlIlBSSXUzMiJcblxuIiwgdmFsdWUpOw0K
KyAgICAgICAgZWxzZQ0KKyAgICAgICAgICAgIHB1dHMoIiIpOw0KKyAgICB9DQogICAgICBlbHNl
DQogICAgICAgICAgcHJpbnRmKCJBbGwgQy1zdGF0ZXMgYWxsb3dlZFxuXG4iKTsNCiAgDQpAQCAt
MTEyMCwxMyArMTEzMCwxNyBAQCB2b2lkIGdldF92Y3B1X21pZ3JhdGlvbl9kZWxheV9mdW5jKGlu
dCBhDQogIA0KICB2b2lkIHNldF9tYXhfY3N0YXRlX2Z1bmMoaW50IGFyZ2MsIGNoYXIgKmFyZ3Zb
XSkNCiAgew0KLSAgICBpbnQgdmFsdWU7DQorICAgIGludCB2YWx1ZSwgc3VidmFsID0gWEVOX1NZ
U0NUTF9DWF9VTkxJTUlURUQ7DQogICAgICBjaGFyIGJ1ZlsxMl07DQogIA0KLSAgICBpZiAoIGFy
Z2MgIT0gMSB8fA0KKyAgICBpZiAoIGFyZ2MgPCAxIHx8IGFyZ2MgPiAyIHx8DQogICAgICAgICAg
IChzc2NhbmYoYXJndlswXSwgIiVkIiwgJnZhbHVlKSA9PSAxDQogICAgICAgICAgICA/IHZhbHVl
IDwgMA0KLSAgICAgICAgICA6ICh2YWx1ZSA9IFhFTl9TWVNDVExfQ1hfVU5MSU1JVEVELCBzdHJj
bXAoYXJndlswXSwgInVubGltaXRlZCIpKSkgKQ0KKyAgICAgICAgICA6ICh2YWx1ZSA9IFhFTl9T
WVNDVExfQ1hfVU5MSU1JVEVELCBzdHJjbXAoYXJndlswXSwgInVubGltaXRlZCIpKSkgfHwNCisg
ICAgICAgICAoYXJnYyA9PSAyICYmDQorICAgICAgICAgIChzc2NhbmYoYXJndlsxXSwgIiVkIiwg
JnN1YnZhbCkgPT0gMQ0KKyAgICAgICAgICAgPyBzdWJ2YWwgPCAwDQorICAgICAgICAgICA6IChz
dWJ2YWwgPSBYRU5fU1lTQ1RMX0NYX1VOTElNSVRFRCwgc3RyY21wKGFyZ3ZbMV0sICJ1bmxpbWl0
ZWQiKSkpKSApDQogICAgICB7DQogICAgICAgICAgZnByaW50ZihzdGRlcnIsICJNaXNzaW5nLCBl
eGNlc3MsIG9yIGludmFsaWQgYXJndW1lbnQocylcbiIpOw0KICAgICAgICAgIGV4aXQoRUlOVkFM
KTsNCkBAIC0xMTM3LDggKzExNTEsMjMgQEAgdm9pZCBzZXRfbWF4X2NzdGF0ZV9mdW5jKGludCBh
cmdjLCBjaGFyDQogICAgICBpZiAoICF4Y19zZXRfY3B1aWRsZV9tYXhfY3N0YXRlKHhjX2hhbmRs
ZSwgKHVpbnQzMl90KXZhbHVlKSApDQogICAgICAgICAgcHJpbnRmKCJtYXggQy1zdGF0ZSBzZXQg
dG8gJXNcbiIsIHZhbHVlID49IDAgPyBidWYgOiBhcmd2WzBdKTsNCiAgICAgIGVsc2UNCisgICAg
ew0KICAgICAgICAgIGZwcmludGYoc3RkZXJyLCAiRmFpbGVkIHRvIHNldCBtYXggQy1zdGF0ZSB0
byAlcyAoJWQgLSAlcylcbiIsDQogICAgICAgICAgICAgICAgICB2YWx1ZSA+PSAwID8gYnVmIDog
YXJndlswXSwgZXJybm8sIHN0cmVycm9yKGVycm5vKSk7DQorICAgICAgICByZXR1cm47DQorICAg
IH0NCisNCisgICAgaWYgKCB2YWx1ZSAhPSBYRU5fU1lTQ1RMX0NYX1VOTElNSVRFRCApDQorICAg
IHsNCisgICAgICAgIHNucHJpbnRmKGJ1ZiwgQVJSQVlfU0laRShidWYpLCAiJWQiLCBzdWJ2YWwp
Ow0KKw0KKyAgICAgICAgaWYgKCAheGNfc2V0X2NwdWlkbGVfbWF4X2NzdWJzdGF0ZSh4Y19oYW5k
bGUsICh1aW50MzJfdClzdWJ2YWwpICkNCisgICAgICAgICAgICBwcmludGYoIm1heCBDLXN1YnN0
YXRlIHNldCB0byAlcyBzdWNjZWVkZWRcbiIsDQorICAgICAgICAgICAgICAgICAgIHN1YnZhbCA+
PSAwID8gYnVmIDogInVubGltaXRlZCIpOw0KKyAgICAgICAgZWxzZQ0KKyAgICAgICAgICAgIGZw
cmludGYoc3RkZXJyLCAiRmFpbGVkIHRvIHNldCBtYXggQy1zdWJzdGF0ZSB0byAlcyAoJWQgLSAl
cylcbiIsDQorICAgICAgICAgICAgICAgICAgICBzdWJ2YWwgPj0gMCA/IGJ1ZiA6ICJ1bmxpbWl0
ZWQiLCBlcnJubywgc3RyZXJyb3IoZXJybm8pKTsNCisgICAgfQ0KICB9DQogIA0KICB2b2lkIGVu
YWJsZV90dXJib19tb2RlKGludCBhcmdjLCBjaGFyICphcmd2W10pDQotLS0gYS94ZW4vZHJpdmVy
cy9hY3BpL3Btc3RhdC5jDQorKysgYi94ZW4vZHJpdmVycy9hY3BpL3Btc3RhdC5jDQpAQCAtMzk4
LDcgKzM5OCw0MCBAQCBpbnQgZG9fcG1fb3Aoc3RydWN0IHhlbl9zeXNjdGxfcG1fb3AgKm9wDQog
ICAgICBpbnQgcmV0ID0gMDsNCiAgICAgIGNvbnN0IHN0cnVjdCBwcm9jZXNzb3JfcG1pbmZvICpw
bXB0Ow0KICANCi0gICAgaWYgKCAhb3AgfHwgb3AtPmNwdWlkID49IG5yX2NwdV9pZHMgfHwgIWNw
dV9vbmxpbmUob3AtPmNwdWlkKSApDQorICAgIHN3aXRjaCAoIG9wLT5jbWQgKQ0KKyAgICB7DQor
ICAgIGNhc2UgWEVOX1NZU0NUTF9wbV9vcF9zZXRfc2NoZWRfb3B0X3NtdDoNCisgICAgew0KKyAg
ICAgICAgdWludDMyX3Qgc2F2ZWRfdmFsdWUgPSBzY2hlZF9zbXRfcG93ZXJfc2F2aW5nczsNCisN
CisgICAgICAgIGlmICggb3AtPmNwdWlkICE9IDAgKQ0KKyAgICAgICAgICAgIHJldHVybiAtRUlO
VkFMOw0KKyAgICAgICAgc2NoZWRfc210X3Bvd2VyX3NhdmluZ3MgPSAhIW9wLT51LnNldF9zY2hl
ZF9vcHRfc210Ow0KKyAgICAgICAgb3AtPnUuc2V0X3NjaGVkX29wdF9zbXQgPSBzYXZlZF92YWx1
ZTsNCisgICAgICAgIHJldHVybiAwOw0KKyAgICB9DQorDQorICAgIGNhc2UgWEVOX1NZU0NUTF9w
bV9vcF9nZXRfbWF4X2NzdGF0ZToNCisgICAgICAgIEJVSUxEX0JVR19PTihYRU5fU1lTQ1RMX0NY
X1VOTElNSVRFRCAhPSBVSU5UX01BWCk7DQorICAgICAgICBpZiAoIG9wLT5jcHVpZCA9PSAwICkN
CisgICAgICAgICAgICBvcC0+dS5nZXRfbWF4X2NzdGF0ZSA9IGFjcGlfZ2V0X2NzdGF0ZV9saW1p
dCgpOw0KKyAgICAgICAgZWxzZSBpZiAoIG9wLT5jcHVpZCA9PSAxICkNCisgICAgICAgICAgICBv
cC0+dS5nZXRfbWF4X2NzdGF0ZSA9IGFjcGlfZ2V0X2NzdWJzdGF0ZV9saW1pdCgpOw0KKyAgICAg
ICAgZWxzZQ0KKyAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7DQorICAgICAgICByZXR1cm4gcmV0
Ow0KKw0KKyAgICBjYXNlIFhFTl9TWVNDVExfcG1fb3Bfc2V0X21heF9jc3RhdGU6DQorICAgICAg
ICBpZiAoIG9wLT5jcHVpZCA9PSAwICkNCisgICAgICAgICAgICBhY3BpX3NldF9jc3RhdGVfbGlt
aXQob3AtPnUuc2V0X21heF9jc3RhdGUpOw0KKyAgICAgICAgZWxzZSBpZiAoIG9wLT5jcHVpZCA9
PSAxICkNCisgICAgICAgICAgICBhY3BpX3NldF9jc3Vic3RhdGVfbGltaXQob3AtPnUuc2V0X21h
eF9jc3RhdGUpOw0KKyAgICAgICAgZWxzZQ0KKyAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7DQor
ICAgICAgICByZXR1cm4gcmV0Ow0KKyAgICB9DQorDQorICAgIGlmICggb3AtPmNwdWlkID49IG5y
X2NwdV9pZHMgfHwgIWNwdV9vbmxpbmUob3AtPmNwdWlkKSApDQogICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7DQogICAgICBwbXB0ID0gcHJvY2Vzc29yX3BtaW5mb1tvcC0+Y3B1aWRdOw0KICANCkBA
IC00MzgsMzAgKzQ3MSw2IEBAIGludCBkb19wbV9vcChzdHJ1Y3QgeGVuX3N5c2N0bF9wbV9vcCAq
b3ANCiAgICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgDQotICAgIGNhc2UgWEVOX1NZU0NUTF9w
bV9vcF9zZXRfc2NoZWRfb3B0X3NtdDoNCi0gICAgew0KLSAgICAgICAgdWludDMyX3Qgc2F2ZWRf
dmFsdWU7DQotDQotICAgICAgICBzYXZlZF92YWx1ZSA9IHNjaGVkX3NtdF9wb3dlcl9zYXZpbmdz
Ow0KLSAgICAgICAgc2NoZWRfc210X3Bvd2VyX3NhdmluZ3MgPSAhIW9wLT51LnNldF9zY2hlZF9v
cHRfc210Ow0KLSAgICAgICAgb3AtPnUuc2V0X3NjaGVkX29wdF9zbXQgPSBzYXZlZF92YWx1ZTsN
Ci0NCi0gICAgICAgIGJyZWFrOw0KLSAgICB9DQotDQotICAgIGNhc2UgWEVOX1NZU0NUTF9wbV9v
cF9nZXRfbWF4X2NzdGF0ZToNCi0gICAgew0KLSAgICAgICAgQlVJTERfQlVHX09OKFhFTl9TWVND
VExfQ1hfVU5MSU1JVEVEICE9IFVJTlRfTUFYKTsNCi0gICAgICAgIG9wLT51LmdldF9tYXhfY3N0
YXRlID0gYWNwaV9nZXRfY3N0YXRlX2xpbWl0KCk7DQotICAgICAgICBicmVhazsNCi0gICAgfQ0K
LQ0KLSAgICBjYXNlIFhFTl9TWVNDVExfcG1fb3Bfc2V0X21heF9jc3RhdGU6DQotICAgIHsNCi0g
ICAgICAgIGFjcGlfc2V0X2NzdGF0ZV9saW1pdChvcC0+dS5zZXRfbWF4X2NzdGF0ZSk7DQotICAg
ICAgICBicmVhazsNCi0gICAgfQ0KLQ0KICAgICAgY2FzZSBYRU5fU1lTQ1RMX3BtX29wX2VuYWJs
ZV90dXJibzoNCiAgICAgIHsNCiAgICAgICAgICByZXQgPSBjcHVmcmVxX3VwZGF0ZV90dXJibyhv
cC0+Y3B1aWQsIENQVUZSRVFfVFVSQk9fRU5BQkxFRCk7DQotLS0gYS94ZW4vaW5jbHVkZS9wdWJs
aWMvc3lzY3RsLmgNCisrKyBiL3hlbi9pbmNsdWRlL3B1YmxpYy9zeXNjdGwuaA0KQEAgLTM1MCw3
ICszNTAsMTEgQEAgc3RydWN0IHhlbl9zeXNjdGxfcG1fb3Agew0KICAgICAgLyogc2V0L3Jlc2V0
IHNjaGVkdWxlciBwb3dlciBzYXZpbmcgb3B0aW9uICovDQogICAgICAjZGVmaW5lIFhFTl9TWVND
VExfcG1fb3Bfc2V0X3NjaGVkX29wdF9zbXQgICAgMHgyMQ0KICANCi0gICAgLyogY3B1aWRsZSBt
YXhfY3N0YXRlIGFjY2VzcyBjb21tYW5kICovDQorICAgIC8qDQorICAgICAqIGNwdWlkbGUgbWF4
IEMtc3RhdGUgYW5kIG1heCBDLXN1Yi1zdGF0ZSBhY2Nlc3MgY29tbWFuZDoNCisgICAgICogU2V0
IGNwdWlkIHRvIDAgZm9yIG1heCBDLXN0YXRlLg0KKyAgICAgKiBTZXQgY3B1aWQgdG8gMSBmb3Ig
bWF4IEMtc3ViLXN0YXRlLg0KKyAgICAgKi8NCiAgICAgICNkZWZpbmUgWEVOX1NZU0NUTF9wbV9v
cF9nZXRfbWF4X2NzdGF0ZSAgICAgICAweDIyDQogICAgICAjZGVmaW5lIFhFTl9TWVNDVExfcG1f
b3Bfc2V0X21heF9jc3RhdGUgICAgICAgMHgyMw0KICANCi0tLSBhL3hlbi9pbmNsdWRlL3hlbi9h
Y3BpLmgNCisrKyBiL3hlbi9pbmNsdWRlL3hlbi9hY3BpLmgNCkBAIC0xNjYsOSArMTY2LDIyIEBA
IHN0YXRpYyBpbmxpbmUgdm9pZCBhY3BpX3NldF9jc3RhdGVfbGltaXQNCiAgCW1heF9jc3RhdGUg
PSBuZXdfbGltaXQ7DQogIAlyZXR1cm47DQogIH0NCisNCitzdGF0aWMgaW5saW5lIHVuc2lnbmVk
IGludCBhY3BpX2dldF9jc3Vic3RhdGVfbGltaXQodm9pZCkNCit7DQorCXJldHVybiBtYXhfY3N1
YnN0YXRlOw0KK30NCisNCitzdGF0aWMgaW5saW5lIHZvaWQgYWNwaV9zZXRfY3N1YnN0YXRlX2xp
bWl0KHVuc2lnbmVkIGludCBuZXdfbGltaXQpDQorew0KKwltYXhfY3N1YnN0YXRlID0gbmV3X2xp
bWl0Ow0KK30NCisNCiAgI2Vsc2UNCiAgc3RhdGljIGlubGluZSB1bnNpZ25lZCBpbnQgYWNwaV9n
ZXRfY3N0YXRlX2xpbWl0KHZvaWQpIHsgcmV0dXJuIDA7IH0NCiAgc3RhdGljIGlubGluZSB2b2lk
IGFjcGlfc2V0X2NzdGF0ZV9saW1pdCh1bnNpZ25lZCBpbnQgbmV3X2xpbWl0KSB7IHJldHVybjsg
fQ0KK3N0YXRpYyBpbmxpbmUgdW5zaWduZWQgaW50IGFjcGlfZ2V0X2NzdWJzdGF0ZV9saW1pdCh2
b2lkKSB7IHJldHVybiAwOyB9DQorc3RhdGljIGlubGluZSB2b2lkIGFjcGlfc2V0X2NzdWJzdGF0
ZV9saW1pdCh1bnNpZ25lZCBpbnQgbmV3X2xpbWl0KSB7IHJldHVybjsgfQ0KICAjZW5kaWYNCiAg
DQogICNpZmRlZiBYRU5fR1VFU1RfSEFORExFX1BBUkFNDQoNCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRl
dmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFp
bG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

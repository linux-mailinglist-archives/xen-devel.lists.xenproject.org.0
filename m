Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 92990F910A
	for <lists+xen-devel@lfdr.de>; Tue, 12 Nov 2019 14:50:46 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iUWWn-0004Dg-5u; Tue, 12 Nov 2019 13:48:17 +0000
Received: from all-amaz-eas1.inumbo.com ([34.197.232.57]
 helo=us1-amaz-eas2.inumbo.com)
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=CoZ6=ZE=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1iUWWl-0004DV-JQ
 for xen-devel@lists.xenproject.org; Tue, 12 Nov 2019 13:48:15 +0000
X-Inumbo-ID: 12023e32-0553-11ea-a21c-12813bfff9fa
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-amaz-eas2.inumbo.com (Halon) with ESMTPS
 id 12023e32-0553-11ea-a21c-12813bfff9fa;
 Tue, 12 Nov 2019 13:48:13 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 74AE1B28D;
 Tue, 12 Nov 2019 13:48:12 +0000 (UTC)
To: Juergen Gross <jgross@suse.com>
References: <20191002112004.25793-1-jgross@suse.com>
 <20191002112004.25793-3-jgross@suse.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <ad94351a-27a2-69c0-0a7c-6364953b84eb@suse.com>
Date: Tue, 12 Nov 2019 14:48:26 +0100
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.1
MIME-Version: 1.0
In-Reply-To: <20191002112004.25793-3-jgross@suse.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v2 2/6] xen: add basic hypervisor filesystem
 support
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Stefano Stabellini <sstabellini@kernel.org>, Julien Grall <julien@xen.org>,
 Wei Liu <wl@xen.org>, Konrad Rzeszutek Wilk <konrad.wilk@oracle.com>,
 George Dunlap <George.Dunlap@eu.citrix.com>,
 Andrew Cooper <andrew.cooper3@citrix.com>,
 Ian Jackson <ian.jackson@eu.citrix.com>, Tim Deegan <tim@xen.org>,
 xen-devel@lists.xenproject.org, Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 =?UTF-8?Q?Roger_Pau_Monn=c3=a9?= <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMDIuMTAuMjAxOSAxMzoyMCwgSnVlcmdlbiBHcm9zcyB3cm90ZToKPiAtLS0gL2Rldi9udWxs
Cj4gKysrIGIveGVuL2NvbW1vbi9oeXBmcy5jCj4gQEAgLTAsMCArMSwzMTggQEAKPiArLyoqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKgo+ICsgKgo+ICsgKiBoeXBmcy5jCj4gKyAqCj4gKyAqIFNpbXBsZSBz
eXNmcy1saWtlIGZpbGUgc3lzdGVtIGZvciB0aGUgaHlwZXJ2aXNvci4KPiArICovCj4gKwo+ICsj
aW5jbHVkZSA8eGVuL2xpYi5oPgo+ICsjaW5jbHVkZSA8eGVuL2h5cGZzLmg+Cj4gKyNpbmNsdWRl
IDx4ZW4vZ3Vlc3RfYWNjZXNzLmg+Cj4gKyNpbmNsdWRlIDx4ZW4vaHlwZXJjYWxsLmg+Cj4gKyNp
bmNsdWRlIDxwdWJsaWMvaHlwZnMuaD4KPiArCj4gK3N0YXRpYyBERUZJTkVfU1BJTkxPQ0soaHlw
ZnNfbG9jayk7Cj4gKwo+ICtzdHJ1Y3QgaHlwZnNfZGlyIGh5cGZzX3Jvb3QgPSB7Cj4gKyAgICAu
bGlzdCA9IExJU1RfSEVBRF9JTklUKGh5cGZzX3Jvb3QubGlzdCksCj4gK307Cj4gKwo+ICtzdGF0
aWMgc3RydWN0IGh5cGZzX2VudHJ5IGh5cGZzX3Jvb3RfZW50cnkgPSB7Cj4gKyAgICAudHlwZSA9
IGh5cGZzX3R5cGVfZGlyLAo+ICsgICAgLm5hbWUgPSAiIiwKPiArICAgIC5saXN0ID0gTElTVF9I
RUFEX0lOSVQoaHlwZnNfcm9vdF9lbnRyeS5saXN0KSwKPiArICAgIC5wYXJlbnQgPSAmaHlwZnNf
cm9vdCwKPiArICAgIC5kaXIgPSAmaHlwZnNfcm9vdCwKPiArfTsKClRoaXMgbG9va3MgdG8gYmUg
dXNlZCBvbmx5IGluIGh5cGZzX2dldF9lbnRyeSgpLiBVbmxlc3MgdGhlcmUgYXJlCnBsYW5zIHRv
IGhhdmUgZnVydGhlciB1c2VzLCBpdCBzaG91bGQgYmUgbW92ZWQgdGhlcmUuCgpJJ20gYWxzbyBz
b21ld2hhdCBwdXp6bGVkIGJ5ICJuYW1lIiBiZWluZyBhbiBlbXB0eSBzdHJpbmc7IHRoaXMKdG9v
IHdvdWxkIGxvb2sgbGVzcyBzdXNwaWNpb3VzIGlmIHRoaXMgd2Fzbid0IGEgZmlsZSBzY29wZSB2
YXJpYWJsZS4KCj4gK3N0YXRpYyBpbnQgaHlwZnNfYWRkX2VudHJ5KHN0cnVjdCBoeXBmc19kaXIg
KnBhcmVudCwgc3RydWN0IGh5cGZzX2VudHJ5ICpuZXcpCj4gK3sKPiArICAgIGludCByZXQgPSAt
RU5PRU5UOwo+ICsgICAgc3RydWN0IGxpc3RfaGVhZCAqbDsKPiArCj4gKyAgICBpZiAoICFuZXct
PmNvbnRlbnQgKQo+ICsgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ICsKPiArICAgIHNwaW5fbG9j
aygmaHlwZnNfbG9jayk7Cj4gKwo+ICsgICAgbGlzdF9mb3JfZWFjaCAoIGwsICZwYXJlbnQtPmxp
c3QgKQo+ICsgICAgewo+ICsgICAgICAgIHN0cnVjdCBoeXBmc19lbnRyeSAqZSA9IGxpc3RfZW50
cnkobCwgc3RydWN0IGh5cGZzX2VudHJ5LCBsaXN0KTsKCmNvbnN0PwoKPiArICAgICAgICBpbnQg
Y21wID0gc3RyY21wKGUtPm5hbWUsIG5ldy0+bmFtZSk7Cj4gKwo+ICsgICAgICAgIGlmICggY21w
ID4gMCApCj4gKyAgICAgICAgewo+ICsgICAgICAgICAgICByZXQgPSAwOwo+ICsgICAgICAgICAg
ICBsaXN0X2FkZF90YWlsKCZuZXctPmxpc3QsIGwpOwo+ICsgICAgICAgICAgICBicmVhazsKPiAr
ICAgICAgICB9Cj4gKyAgICAgICAgaWYgKCBjbXAgPT0gMCApCj4gKyAgICAgICAgewo+ICsgICAg
ICAgICAgICByZXQgPSAtRUVYSVNUOwo+ICsgICAgICAgICAgICBicmVhazsKPiArICAgICAgICB9
Cj4gKyAgICB9Cj4gKwo+ICsgICAgaWYgKCByZXQgPT0gLUVOT0VOVCApCj4gKyAgICB7Cj4gKyAg
ICAgICAgcmV0ID0gMDsKPiArICAgICAgICBsaXN0X2FkZF90YWlsKCZuZXctPmxpc3QsICZwYXJl
bnQtPmxpc3QpOwo+ICsgICAgfQo+ICsKPiArICAgIGlmICggIXJldCApCj4gKyAgICB7Cj4gKyAg
ICAgICAgdW5zaWduZWQgaW50IHN6ID0gc3RybGVuKG5ldy0+bmFtZSkgKyAxOwo+ICsKPiArICAg
ICAgICBwYXJlbnQtPmNvbnRlbnRfc2l6ZSArPSBzaXplb2Yoc3RydWN0IHhlbl9oeXBmc19kaXJl
bnRyeSkgKwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJPVU5EVVAoc3osIDQp
OwoKV2hhdCBpcyB0aGlzIGxpdGVyYWwgNCBjb21pbmcgZnJvbT8gRFlNIGFsaWdub2Yoc3RydWN0
IHhlbl9oeXBmc19kaXJlbnRyeSk/Cgo+ICsgICAgICAgIG5ldy0+cGFyZW50ID0gcGFyZW50Owo+
ICsgICAgfQo+ICsKPiArICAgIHNwaW5fdW5sb2NrKCZoeXBmc19sb2NrKTsKPiArCj4gKyAgICBy
ZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtpbnQgaHlwZnNfbmV3X2VudHJ5X2FueShzdHJ1Y3QgaHlw
ZnNfZGlyICpwYXJlbnQsIGNvbnN0IGNoYXIgKm5hbWUsCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgIGVudW0gaHlwZnNfZW50cnlfdHlwZSB0eXBlLCB2b2lkICpjb250ZW50KQoKUGVyaGFwcyBk
cm9wIHRoZSBfYW55IHN1ZmZpeD8KCj4gK3sKPiArICAgIGludCByZXQ7Cj4gKyAgICBzdHJ1Y3Qg
aHlwZnNfZW50cnkgKm5ldzsKPiArCj4gKyAgICBpZiAoIHN0cmNocihuYW1lLCAnLycpIHx8ICFz
dHJjbXAobmFtZSwgIi4iKSB8fCAhc3RyY21wKG5hbWUsICIuLiIpICkKPiArICAgICAgICByZXR1
cm4gLUVJTlZBTDsKPiArCj4gKyAgICBuZXcgPSB4emFsbG9jKHN0cnVjdCBoeXBmc19lbnRyeSk7
Cj4gKyAgICBpZiAoICFuZXcgKQo+ICsgICAgICAgIHJldHVybiAtRU5PTUVNOwo+ICsKPiArICAg
IG5ldy0+bmFtZSA9IG5hbWU7Cj4gKyAgICBuZXctPnR5cGUgPSB0eXBlOwo+ICsgICAgbmV3LT5j
b250ZW50ID0gY29udGVudDsKPiArCj4gKyAgICByZXQgPSBoeXBmc19hZGRfZW50cnkocGFyZW50
LCBuZXcpOwo+ICsKPiArICAgIGlmICggcmV0ICkKPiArICAgICAgICB4ZnJlZShuZXcpOwo+ICsK
PiArICAgIHJldHVybiByZXQ7Cj4gK30KPiArCj4gK2ludCBoeXBmc19uZXdfZW50cnlfc3RyaW5n
KHN0cnVjdCBoeXBmc19kaXIgKnBhcmVudCwgY29uc3QgY2hhciAqbmFtZSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgY2hhciAqdmFsKQoKVGhlIGxhc3QgcGFyYW1ldGVyIGhlcmUgYW5k
IGJlbG93IGJlaW5nIG5vbi1jb25zdCBpcyBiZWNhdXNlIG9mIHRoZQppbnRlbmRlZCB3cml0ZSBz
dXBwb3J0PwoKPiArewo+ICsgICAgcmV0dXJuIGh5cGZzX25ld19lbnRyeV9hbnkocGFyZW50LCBu
YW1lLCBoeXBmc190eXBlX3N0cmluZywgdmFsKTsKPiArfQo+ICsKPiAraW50IGh5cGZzX25ld19l
bnRyeV91aW50KHN0cnVjdCBoeXBmc19kaXIgKnBhcmVudCwgY29uc3QgY2hhciAqbmFtZSwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCAqdmFsKQo+ICt7Cj4gKyAgICBy
ZXR1cm4gaHlwZnNfbmV3X2VudHJ5X2FueShwYXJlbnQsIG5hbWUsIGh5cGZzX3R5cGVfdWludCwg
dmFsKTsKPiArfQo+ICsKPiAraW50IGh5cGZzX25ld19kaXIoc3RydWN0IGh5cGZzX2RpciAqcGFy
ZW50LCBjb25zdCBjaGFyICpuYW1lLAo+ICsgICAgICAgICAgICAgICAgICBzdHJ1Y3QgaHlwZnNf
ZGlyICpkaXIpCj4gK3sKPiArICAgIGlmICggIWRpciApCj4gKyAgICAgICAgZGlyID0geHphbGxv
YyhzdHJ1Y3QgaHlwZnNfZGlyKTsKPiArCj4gKyAgICByZXR1cm4gaHlwZnNfbmV3X2VudHJ5X2Fu
eShwYXJlbnQsIG5hbWUsIGh5cGZzX3R5cGVfZGlyLCBkaXIpOwo+ICt9Cj4gKwo+ICtzdGF0aWMg
aW50IGh5cGZzX2dldF9wYXRoX3VzZXIoY2hhciAqYnVmLCBYRU5fR1VFU1RfSEFORExFX1BBUkFN
KHZvaWQpIHVhZGRyLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQg
bG9uZyBsZW4pCj4gK3sKPiArICAgIGlmICggbGVuID4gWEVOX0hZUEZTX01BWF9QQVRITEVOICkK
PiArICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiArCj4gKyAgICBpZiAoIGNvcHlfZnJvbV9ndWVz
dChidWYsIHVhZGRyLCBsZW4pICkKPiArICAgICAgICByZXR1cm4gLUVGQVVMVDsKPiArCj4gKyAg
ICBidWZbbGVuIC0gMV0gPSAwOwoKSW4gdGhlIHB1YmxpYyBpbnRlcmZhY2UgZGVzY3JpcHRpb24g
eW91IGhhdmUgImluY2x1ZGluZyB0cmFpbGluZyB6ZXJvCmJ5dGUiLiBJIHRoaW5rIGluc3RlYWQg
b2YgcHV0dGluZyBvbmUgdGhlcmUgeW91IHNob3VsZCBjaGVjayB0aGVyZSdzCm9uZS4KCj4gKyAg
ICByZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIHN0cnVjdCBoeXBmc19lbnRyeSAqaHlwZnNf
Z2V0X2VudHJ5X3JlbChzdHJ1Y3QgaHlwZnNfZW50cnkgKmRpciwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpwYXRoKQoKY29uc3Q/Cgo+ICt7
Cj4gKyAgICBjaGFyICpzbGFzaDsKCmNvbnN0PwoKPiArICAgIHN0cnVjdCBoeXBmc19lbnRyeSAq
ZW50cnk7Cj4gKyAgICBzdHJ1Y3QgbGlzdF9oZWFkICpsOwo+ICsgICAgdW5zaWduZWQgaW50IG5h
bWVfbGVuOwo+ICsKPiArICAgIGlmICggKnBhdGggPT0gMCApCgpQbGVhc2UgZWl0aGVyIHVzZSAh
KnBhdGggb3IgYmUgY29uc2lzdGVudCB3aXRoIGNvZGUgYSBmZXcgbGluZXMKZG93biBhbmQgdXNl
ICdcMCcuCgo+ICsgICAgICAgIHJldHVybiBkaXI7Cj4gKwo+ICsgICAgaWYgKCBkaXItPnR5cGUg
IT0gaHlwZnNfdHlwZV9kaXIgKQo+ICsgICAgICAgIHJldHVybiBOVUxMOwo+ICsKPiArICAgIHNs
YXNoID0gc3RyY2hyKHBhdGgsICcvJyk7Cj4gKyAgICBpZiAoICFzbGFzaCApCj4gKyAgICAgICAg
c2xhc2ggPSBzdHJjaHIocGF0aCwgJ1wwJyk7CgpXaXRoIHRoaXMgYmV0dGVyIG5hbWUgdGhlIHZh
cmlhYmxlICJlbmQiIG9yIHNvbWUgc3VjaD8KCj4gKyAgICBuYW1lX2xlbiA9IHNsYXNoIC0gcGF0
aDsKPiArCj4gKyAgICBsaXN0X2Zvcl9lYWNoICggbCwgJmRpci0+ZGlyLT5saXN0ICkKPiArICAg
IHsKPiArICAgICAgICBpbnQgY21wOwo+ICsKPiArICAgICAgICBlbnRyeSA9IGxpc3RfZW50cnko
bCwgc3RydWN0IGh5cGZzX2VudHJ5LCBsaXN0KTsKCldoeSBub3QgbGlzdF9mb3JfZWFjaF9lbnRy
eSgpLCBlbGltaW5hdGluZyB0aGUgbmVlZCBmb3IgdGhlICJsIgpoZWxwZXIgdmFyaWFibGU/Cgo+
ICsgICAgICAgIGNtcCA9IHN0cm5jbXAocGF0aCwgZW50cnktPm5hbWUsIG5hbWVfbGVuKTsKPiAr
ICAgICAgICBpZiAoIGNtcCA8IDAgKQo+ICsgICAgICAgICAgICByZXR1cm4gTlVMTDsKPiArICAg
ICAgICBpZiAoIGNtcCA+IDAgKQo+ICsgICAgICAgICAgICBjb250aW51ZTsKPiArICAgICAgICBp
ZiAoIHN0cmxlbihlbnRyeS0+bmFtZSkgPT0gbmFtZV9sZW4gKQo+ICsgICAgICAgICAgICByZXR1
cm4gKnNsYXNoID8gaHlwZnNfZ2V0X2VudHJ5X3JlbChlbnRyeSwgc2xhc2ggKyAxKSA6IGVudHJ5
OwoKUGVyaGFwcyBzbGlnaHRseSBzaG9ydGVyCgogICAgICAgIGlmICggY21wID09IDAgJiYgc3Ry
bGVuKGVudHJ5LT5uYW1lKSA9PSBuYW1lX2xlbiApCiAgICAgICAgICAgIHJldHVybiAqc2xhc2gg
PyBoeXBmc19nZXRfZW50cnlfcmVsKGVudHJ5LCBzbGFzaCArIDEpIDogZW50cnk7Cgo/Cgo+ICsg
ICAgfQo+ICsKPiArICAgIHJldHVybiBOVUxMOwo+ICt9Cj4gKwo+ICtzdHJ1Y3QgaHlwZnNfZW50
cnkgKmh5cGZzX2dldF9lbnRyeShjaGFyICpwYXRoKQoKY29uc3Q/Cgo+ICt7Cj4gKyAgICBpZiAo
IHBhdGhbMF0gIT0gJy8nICkKPiArICAgICAgICByZXR1cm4gTlVMTDsKPiArCj4gKyAgICByZXR1
cm4gaHlwZnNfZ2V0X2VudHJ5X3JlbCgmaHlwZnNfcm9vdF9lbnRyeSwgcGF0aCArIDEpOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgdW5zaWduZWQgaW50IGh5cGZzX2dldF9lbnRyeV9sZW4oc3RydWN0IGh5
cGZzX2VudHJ5ICplbnRyeSkKPiArewo+ICsgICAgdW5zaWduZWQgaW50IGxlbiA9IDA7Cj4gKwo+
ICsgICAgc3dpdGNoICggZW50cnktPnR5cGUgKQo+ICsgICAgewo+ICsgICAgY2FzZSBoeXBmc190
eXBlX2RpcjoKPiArICAgICAgICBsZW4gPSBlbnRyeS0+ZGlyLT5jb250ZW50X3NpemU7Cj4gKyAg
ICAgICAgYnJlYWs7Cj4gKyAgICBjYXNlIGh5cGZzX3R5cGVfc3RyaW5nOgo+ICsgICAgICAgIGxl
biA9IHN0cmxlbihlbnRyeS0+c3RyX3ZhbCkgKyAxOwo+ICsgICAgICAgIGJyZWFrOwo+ICsgICAg
Y2FzZSBoeXBmc190eXBlX3VpbnQ6Cj4gKyAgICAgICAgbGVuID0gMTE7ICAgICAgLyogbG9uZ2Vz
dCBwb3NzaWJsZSBwcmludGVkIHZhbHVlICsgMSAqLwoKV2h5IHdvdWxkIHVpbnQgdmFsdWVzIGJl
IHJlc3RyaWN0ZWQgdG8gMzIgYml0cz8gVGhlcmUgYXJlIHBsZW50eSBvZgo2NC1iaXQgbnVtYmVy
cyB0aGF0IG1pZ2h0IGJlIG9mIGludGVyZXN0IGV4cG9zaW5nIHRocm91Z2ggdGhpcwppbnRlcmZh
Y2UgKGFuZCBldmVuIG1vcmUgc28gaWYgZG93biB0aGUgcm9hZCB3ZSB3ZXJlIHRvIHJlLXVzZSB0
aGlzCmZvciBzb21ldGhpbmcgZGVidWdmcy1saWtlKS4gQW5kIGV2ZW4gd2l0aG91dCB0aGlzIEkg
dGhpbmsgaXQgd291bGQKYmUgYmV0dGVyIHRvIG5vdCBoYXZlIGEgbGl0ZXJhbCBudW1iZXIgaGVy
ZSAtIGl0J2xsIGJlIGNsb3NlIHRvCnVubm90aWNlYWJsZSAod2l0aG91dCBzb21lb25lIHJlbWVt
YmVyaW5nKSB3aGVuIHBvcnRpbmcgdG8gYW4gYXJjaAp3aXRoIHVuc2lnbmVkIGludCB3aWRlciB0
aGFuIDMyIGJpdHMuCgo+ICsgICAgICAgIGJyZWFrOwo+ICsgICAgfQo+ICsKPiArICAgIHJldHVy
biBsZW47Cj4gK30KPiArCj4gK2xvbmcgZG9faHlwZnNfb3AodW5zaWduZWQgaW50IGNtZCwKPiAr
ICAgICAgICAgICAgICAgICBYRU5fR1VFU1RfSEFORExFX1BBUkFNKHZvaWQpIGFyZzEsIHVuc2ln
bmVkIGxvbmcgYXJnMiwKPiArICAgICAgICAgICAgICAgICBYRU5fR1VFU1RfSEFORExFX1BBUkFN
KHZvaWQpIGFyZzMsIHVuc2lnbmVkIGxvbmcgYXJnNCkKPiArewo+ICsgICAgaW50IHJldDsKPiAr
ICAgIHN0cnVjdCBoeXBmc19lbnRyeSAqZW50cnk7Cj4gKyAgICB1bnNpZ25lZCBpbnQgbGVuOwo+
ICsgICAgc3RhdGljIGNoYXIgcGF0aFtYRU5fSFlQRlNfTUFYX1BBVEhMRU5dOwo+ICsKPiArICAg
IGlmICggIWlzX2NvbnRyb2xfZG9tYWluKGN1cnJlbnQtPmRvbWFpbikgJiYKPiArICAgICAgICAg
IWlzX2hhcmR3YXJlX2RvbWFpbihjdXJyZW50LT5kb21haW4pICkKPiArICAgICAgICByZXR1cm4g
LUVQRVJNOwoKUmVwbGFjZSBieSBhbiBYU00gY2hlY2s/Cgo+ICsgICAgc3Bpbl9sb2NrKCZoeXBm
c19sb2NrKTsKCldvdWxkbid0IHRoaXMgYmV0dGVyIGJlIGFuIHIvdyBsb2NrIGZyb20gdGhlIGJl
Z2lubmluZywgcmVxdWlyaW5nCm9ubHkgcmVhZCBhY2Nlc3MgaGVyZT8KCj4gKyAgICByZXQgPSBo
eXBmc19nZXRfcGF0aF91c2VyKHBhdGgsIGFyZzEsIGFyZzIpOwo+ICsgICAgaWYgKCByZXQgKQo+
ICsgICAgICAgIGdvdG8gb3V0Owo+ICsKPiArICAgIGVudHJ5ID0gaHlwZnNfZ2V0X2VudHJ5KHBh
dGgpOwo+ICsgICAgaWYgKCAhZW50cnkgKQo+ICsgICAgewo+ICsgICAgICAgIHJldCA9IC1FTk9F
TlQ7Cj4gKyAgICAgICAgZ290byBvdXQ7Cj4gKyAgICB9Cj4gKwo+ICsgICAgc3dpdGNoICggY21k
ICkKPiArICAgIHsKPiArICAgIGNhc2UgWEVOX0hZUEZTX09QX3JlYWRfY29udGVudHM6Cj4gKyAg
ICB7Cj4gKyAgICAgICAgY2hhciBidWZbMTJdOwo+ICsgICAgICAgIGNoYXIgKnZhbCA9IGJ1ZjsK
CmNvbnN0IHZvaWQgKj8KCj4gKyAgICAgICAgbGVuID0gaHlwZnNfZ2V0X2VudHJ5X2xlbihlbnRy
eSk7Cj4gKyAgICAgICAgaWYgKCBsZW4gPiBhcmc0ICkKPiArICAgICAgICB7Cj4gKyAgICAgICAg
ICAgIHJldCA9IGxlbjsKPiArICAgICAgICAgICAgYnJlYWs7Cj4gKyAgICAgICAgfQo+ICsKPiAr
ICAgICAgICBzd2l0Y2ggKCBlbnRyeS0+dHlwZSApCj4gKyAgICAgICAgewo+ICsgICAgICAgIGNh
c2UgaHlwZnNfdHlwZV9kaXI6Cj4gKyAgICAgICAgICAgIHJldCA9IC1FSVNESVI7Cj4gKyAgICAg
ICAgICAgIGJyZWFrOwo+ICsgICAgICAgIGNhc2UgaHlwZnNfdHlwZV9zdHJpbmc6Cj4gKyAgICAg
ICAgICAgIHZhbCA9IGVudHJ5LT5zdHJfdmFsOwo+ICsgICAgICAgICAgICBicmVhazsKPiArICAg
ICAgICBjYXNlIGh5cGZzX3R5cGVfdWludDoKPiArICAgICAgICAgICAgbGVuID0gc25wcmludGYo
YnVmLCBzaXplb2YoYnVmKSwgIiV1IiwgKmVudHJ5LT51aW50X3ZhbCkgKyAxOwo+ICsgICAgICAg
ICAgICBicmVhazsKPiArICAgICAgICB9Cj4gKwo+ICsgICAgICAgIGlmICggIXJldCAmJiBjb3B5
X3RvX2d1ZXN0KGFyZzMsIHZhbCwgbGVuKSApCj4gKyAgICAgICAgICAgIHJldCA9IC1FRkFVTFQ7
Cj4gKwo+ICsgICAgICAgIGJyZWFrOwo+ICsgICAgfQo+ICsKPiArICAgIGNhc2UgWEVOX0hZUEZT
X09QX3JlYWRfZGlyOgo+ICsgICAgewo+ICsgICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgKmw7Cj4g
Kwo+ICsgICAgICAgIGlmICggZW50cnktPnR5cGUgIT0gaHlwZnNfdHlwZV9kaXIgKQo+ICsgICAg
ICAgIHsKPiArICAgICAgICAgICAgcmV0ID0gLUVOT1RESVI7Cj4gKyAgICAgICAgICAgIGJyZWFr
Owo+ICsgICAgICAgIH0KPiArCj4gKyAgICAgICAgbGVuID0gZW50cnktPmRpci0+Y29udGVudF9z
aXplOwo+ICsgICAgICAgIGlmICggbGVuID4gYXJnNCApCj4gKyAgICAgICAgewo+ICsgICAgICAg
ICAgICByZXQgPSBsZW47Cj4gKyAgICAgICAgICAgIGJyZWFrOwo+ICsgICAgICAgIH0KPiArCj4g
KyAgICAgICAgbGlzdF9mb3JfZWFjaCAoIGwsICZlbnRyeS0+ZGlyLT5saXN0ICkKCmxpc3RfZm9y
X2VhY2hfZW50cnkoKSBhZ2Fpbj8KCj4gKyAgICAgICAgewo+ICsgICAgICAgICAgICBzdHJ1Y3Qg
eGVuX2h5cGZzX2RpcmVudHJ5IGRpcmVudHJ5Owo+ICsgICAgICAgICAgICBzdHJ1Y3QgaHlwZnNf
ZW50cnkgKmUgPSBsaXN0X2VudHJ5KGwsIHN0cnVjdCBoeXBmc19lbnRyeSwgbGlzdCk7Cj4gKyAg
ICAgICAgICAgIHVuc2lnbmVkIGludCBlX2xlbiA9IHN0cmxlbihlLT5uYW1lKSArIDE7Cj4gKwo+
ICsgICAgICAgICAgICBlX2xlbiA9IHNpemVvZihkaXJlbnRyeSkgKyBST1VORFVQKGVfbGVuLCA0
KTsKCkxpdGVyYWwgNCBhZ2Fpbi4gUGVyaGFwcyB5b3Ugd2FudCB0byBwdXQgdGhlIGVudGlyZSBS
T1VORFVQKCwgNCkKY29uc3RydWN0IGluIGEgbWFjcm8gb3IgZnVuY3Rpb24/Cgo+ICsgICAgICAg
ICAgICBkaXJlbnRyeS5mbGFncyA9IChlLT50eXBlID09IGh5cGZzX3R5cGVfZGlyKSA/IFhFTl9I
WVBGU19JU0RJUiA6IDA7Cj4gKyAgICAgICAgICAgIGRpcmVudHJ5Lm9mZl9uZXh0ID0gbGlzdF9p
c19sYXN0KGwsICZlbnRyeS0+ZGlyLT5saXN0KSA/IDAgOiBlX2xlbjsKPiArICAgICAgICAgICAg
ZGlyZW50cnkuY29udGVudF9sZW4gPSBoeXBmc19nZXRfZW50cnlfbGVuKGUpOwo+ICsgICAgICAg
ICAgICBpZiAoIGNvcHlfdG9fZ3Vlc3QoYXJnMywgJmRpcmVudHJ5LCAxKSApCj4gKyAgICAgICAg
ICAgIHsKPiArICAgICAgICAgICAgICAgIHJldCA9IC1FRkFVTFQ7Cj4gKyAgICAgICAgICAgICAg
ICBnb3RvIG91dDsKPiArICAgICAgICAgICAgfQo+ICsKPiArICAgICAgICAgICAgaWYgKCBjb3B5
X3RvX2d1ZXN0X29mZnNldChhcmczLCBzaXplb2YoZGlyZW50cnkpLCBlLT5uYW1lLAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmxlbihlLT5uYW1lKSArIDEpICkK
CllvdSBjYWxjdWxhdGUgdGhlIGxlbmd0aCBvbmNlIGFscmVhZHkgYSBmZXcgbGluZXMgdXAuIFBs
ZWFzZSBzdG9yZSBpbnRvCmFub3RoZXIgbG9jYWwgdmFyaWFibGUgYW5kIHJldXNlIGhlcmUuCgo+
ICsgICAgICAgICAgICB7Cj4gKyAgICAgICAgICAgICAgICByZXQgPSAtRUZBVUxUOwo+ICsgICAg
ICAgICAgICAgICAgZ290byBvdXQ7Cj4gKyAgICAgICAgICAgIH0KPiArCj4gKyAgICAgICAgICAg
IGd1ZXN0X2hhbmRsZV9hZGRfb2Zmc2V0KGFyZzMsIGVfbGVuKTsKCkkgdGhpbmsgaXQgd291bGQg
YmUgZ29vZCB0byBhc3NlcnQgc29tZXdoZXJlIGhlcmUgdGhhdCB5b3UgZG9uJ3QgZ28KYmV5b25k
IHRoZSBkaXIncyBzdG9yZWQgY29udGVudF9zaXplLgoKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIv
eGVuL2luY2x1ZGUvcHVibGljL2h5cGZzLmgKPiBAQCAtMCwwICsxLDEyMyBAQAo+ICsvKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqCj4gKyAqIFhlbiBIeXBlcnZpc29yIEZpbGVzeXN0ZW0KPiArICoKPiAr
ICogQ29weXJpZ2h0IChjKSAyMDE5LCBTVVNFIFNvZnR3YXJlIFNvbHV0aW9ucyBHZXJtYW55IEdt
YkgKPiArICoKPiArICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFy
Z2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQo+ICsgKiBvZiB0aGlzIHNvZnR3YXJl
IGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8K
PiArICogZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5n
IHdpdGhvdXQgbGltaXRhdGlvbiB0aGUKPiArICogcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5
LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yCj4gKyAqIHNl
bGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20g
dGhlIFNvZnR3YXJlIGlzCj4gKyAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUg
Zm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4gKyAqCj4gKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90
aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCj4gKyAq
IGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgo+ICsg
Kgo+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5U
WSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgo+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5P
VCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPiArICogRklU
TkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8g
RVZFTlQgU0hBTEwgVEhFCj4gKyAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElB
QkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKPiArICogTElBQklMSVRZLCBXSEVU
SEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcK
PiArICogRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1Ig
VEhFIFVTRSBPUiBPVEhFUgo+ICsgKiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gKyAqCj4g
KyAqLwo+ICsKPiArI2lmbmRlZiBfX1hFTl9QVUJMSUNfSFlQRlNfSF9fCj4gKyNkZWZpbmUgX19Y
RU5fUFVCTElDX0hZUEZTX0hfXwo+ICsKPiArI2luY2x1ZGUgInhlbi5oIgo+ICsKPiArLyoKPiAr
ICogRGVmaW5pdGlvbnMgZm9yIHRoZSBfX0hZUEVSVklTT1JfaHlwZnNfb3AgaHlwZXJjYWxsLgo+
ICsgKi8KPiArCj4gKy8qIE1heGltdW0gbGVuZ3RoIG9mIGEgcGF0aCBpbiB0aGUgZmlsZXN5c3Rl
bS4gKi8KPiArI2RlZmluZSBYRU5fSFlQRlNfTUFYX1BBVEhMRU4gMTAyNAo+ICsKPiArc3RydWN0
IHhlbl9oeXBmc19kaXJlbnRyeSB7Cj4gKyAgICB1aW50MTZfdCBmbGFnczsKPiArI2RlZmluZSBY
RU5fSFlQRlNfSVNESVIgICAgICAweDAwMDEKPiArI2RlZmluZSBYRU5fSFlQRlNfV1JJVEVBQkxF
ICAweDAwMDIKPiArICAgIC8qIE9mZnNldCBpbiBieXRlcyB0byBuZXh0IGVudHJ5ICgwID09IHRo
aXMgaXMgdGhlIGxhc3QgZW50cnkpLiAqLwo+ICsgICAgdWludDE2X3Qgb2ZmX25leHQ7Cj4gKyAg
ICB1aW50MzJfdCBjb250ZW50X2xlbjsKPiArICAgIGNoYXIgbmFtZVtYRU5fRkxFWF9BUlJBWV9E
SU1dOwo+ICt9OwoKQXJlIHlvdSBjZXJ0YWluIHdlIHdvbid0IHNvb24gbmVlZCBmdXJ0aGVyIGZp
ZWxkcyBoZXJlPyBFeHByZXNzaW5nCnN5bWxpbmtzIGNhbiBwZXJoYXBzIGJlIGRvbmUgdmlhIGEg
bmV3IFhFTl9IWVBGU18qIGZsYWcsIGJ1dCB0aGVyZQptYXkgYmUgb3RoZXIgdGhpbmdzIHRoYXQg
d291bGQgYmUgYmV0dGVyIHRvIHByb3ZpZGUgZm9yIGV2ZW4gaWYKdGhlcmUncyBubyBpbXBsZW1l
bnRhdGlvbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEl0J3MganVzdCB0aGUgY2FzZQp0aGF0IGNoYW5n
aW5nIHRoaXMgc3RydWN0dXJlIGFmdGVyIHRoZSBmYWN0IGlzIGdvaW5nIHRvIGJlCmltcG9zc2li
bGUsIGFuZCBpdCdsbCB0YWtlIG5ldyBzdWItb3BzIHRoZW4gaW5zdGVhZC4KCj4gKy8qCj4gKyAq
IEh5cGVyY2FsbCBvcGVyYXRpb25zLgo+ICsgKi8KPiArCj4gKy8qCj4gKyAqIFhFTl9IWVBGU19P
UF9yZWFkX2NvbnRlbnRzCj4gKyAqCj4gKyAqIFJlYWQgY29udGVudHMgb2YgYSBmaWxlc3lzdGVt
IGVudHJ5Lgo+ICsgKgo+ICsgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiBhbiBlbnRyeSBpbiB0
aGUgYnVmZmVyIHN1cHBsaWVkIGJ5IHRoZSBjYWxsZXIuCj4gKyAqIE9ubHkgdGV4dCBkYXRhIHdp
dGggYSB0cmFpbGluZyB6ZXJvIGJ5dGUgaXMgcmV0dXJuZWQuCj4gKyAqCj4gKyAqIGFyZzE6IFhF
Tl9HVUVTVF9IQU5ETEUocGF0aCBuYW1lKQo+ICsgKiBhcmcyOiBsZW5ndGggb2YgcGF0aCBuYW1l
IChpbmNsdWRpbmcgdHJhaWxpbmcgemVybyBieXRlKQo+ICsgKiBhcmczOiBYRU5fR1VFU1RfSEFO
RExFKGNvbnRlbnQgYnVmZmVyKQo+ICsgKiBhcmc0OiBjb250ZW50IGJ1ZmZlciBzaXplCj4gKyAq
Cj4gKyAqIFBvc3NpYmxlIHJldHVybiB2YWx1ZXM6Cj4gKyAqIDA6IHN1Y2Nlc3MKPiArICogLUVQ
RVJNOiAgIG9wZXJhdGlvbiBub3QgcGVybWl0dGVkCj4gKyAqIC1FTk9FTlQ6ICBlbnRyeSBub3Qg
Zm91bmQKPiArICogLUVBQ0NFU1M6IGFjY2VzcyB0byBlbnRyeSBub3QgcGVybWl0dGVkCj4gKyAq
IC1FSVNESVI6ICBlbnRyeSBpcyBhIGRpcmVjdG9yeQo+ICsgKiAtRUlOVkFMOiAgaW52YWxpZCBw
YXJhbWV0ZXIKCkknbSBub3QgY29udmluY2VkIGVudW1lcmF0aW5nIHBvc3NpYmxlIHJldHVybiB2
YWx1ZSBpcyBhIGdvb2QgaWRlYS4KRG93biB0aGUgcm9hZCB3ZSdyZSBjZXJ0YWluIHRvIGZvcmdl
dCBleHRlbmRpbmcgdGhpcyBsaXN0LiBQbHVzCmV4dGVuc2lvbiB3b3VsZCwgc3RyaWN0bHkgc3Bl
YWtpbmcsIG5vdCBldmVuIGJlIGFsbG93ZWQgaWYgdGhlc2UKZW51bWVyYXRpb25zIGFyZSBjb25z
aWRlcmVkIHBhcnQgb2YgdGhlIGludGVyZmFjZS4KCj4gKyAqIHBvc2l0aXZlIHZhbHVlOiBjb250
ZW50IGJ1ZmZlciB3YXMgdG9vIHNtYWxsLCByZXR1cm5lZCB2YWx1ZSBpcyBuZWVkZWQgc2l6ZQoK
UG9zaXRpdmUgcmV0dXJuIHZhbHVlcyBhcmUgcHJvYmxlbWF0aWMgd2hlbiByZWFjaGluZyBJTlRf
TUFYLiBBcmUgeW91CmNvbnZpbmNlZCB3ZSB3YW50IHRvIGhhdmUgeWV0IGFub3RoZXIgaW5zdGFu
Y2U/Cgo+ICsgKi8KPiArI2RlZmluZSBYRU5fSFlQRlNfT1BfcmVhZF9jb250ZW50cyAgICAgMQo+
ICsKPiArLyoKPiArICogWEVOX0hZUEZTX09QX3JlYWRfZGlyCj4gKyAqCj4gKyAqIFJlYWQgZGly
ZWN0b3J5IGVudHJpZXMgb2YgYSBkaXJlY3RvcnkuCj4gKyAqCj4gKyAqIFJldHVybnMgYSBzdHJ1
Y3QgeGVuX2ZzX2RpcmVudHJ5IGZvciBlYWNoIGVudHJ5IGluIGEgZGlyZWN0b3J5Lgo+ICsgKgo+
ICsgKiBhcmcxOiBYRU5fR1VFU1RfSEFORExFKHBhdGggbmFtZSkKPiArICogYXJnMjogbGVuZ3Ro
IG9mIHBhdGggbmFtZSAoaW5jbHVkaW5nIHRyYWlsaW5nIHplcm8gYnl0ZSkKPiArICogYXJnMzog
WEVOX0dVRVNUX0hBTkRMRShjb250ZW50IGJ1ZmZlcikKPiArICogYXJnNDogY29udGVudCBidWZm
ZXIgc2l6ZQo+ICsgKgo+ICsgKiBQb3NzaWJsZSByZXR1cm4gdmFsdWVzOgo+ICsgKiAwOiBzdWNj
ZXNzCj4gKyAqIC1FUEVSTTogICBvcGVyYXRpb24gbm90IHBlcm1pdHRlZAo+ICsgKiAtRU5PRU5U
OiAgZW50cnkgbm90IGZvdW5kCj4gKyAqIC1FQUNDRVNTOiBhY2Nlc3MgdG8gZW50cnkgbm90IHBl
cm1pdHRlZAo+ICsgKiAtRU5PVERJUjogZW50cnkgaXMgbm90IGEgZGlyZWN0b3J5Cj4gKyAqIC1F
SU5WQUw6ICBpbnZhbGlkIHBhcmFtZXRlcgo+ICsgKiBwb3NpdGl2ZSB2YWx1ZTogY29udGVudCBi
dWZmZXIgd2FzIHRvbyBzbWFsbCwgcmV0dXJuZWQgdmFsdWUgaXMgbmVlZGVkIHNpemUKPiArICov
Cj4gKyNkZWZpbmUgWEVOX0hZUEZTX09QX3JlYWRfZGlyICAgICAgICAgIDIKPiArCj4gKy8qCj4g
KyAqIFhFTl9IWVBGU19PUF9yZWFkX2NvbnRlbnRzCgpYRU5fSFlQRlNfT1Bfd3JpdGVfY29udGVu
dHMKCj4gKyAqIFdyaXRlIGNvbnRlbnRzIG9mIGEgZmlsZXN5c3RlbSBlbnRyeS4KPiArICoKPiAr
ICogV3JpdGVzIGFuIGVudHJ5IHdpdGggdGhlIGNvbnRlbnRzIG9mIGEgYnVmZmVyIHN1cHBsaWVk
IGJ5IHRoZSBjYWxsZXIuCj4gKyAqIE9ubHkgdGV4dCBkYXRhIHdpdGggYSB0cmFpbGluZyB6ZXJv
IGJ5dGUgY2FuIGJlIHdyaXR0ZW4uCj4gKyAqCj4gKyAqIGFyZzE6IFhFTl9HVUVTVF9IQU5ETEUo
cGF0aCBuYW1lKQo+ICsgKiBhcmcyOiBsZW5ndGggb2YgcGF0aCBuYW1lIChpbmNsdWRpbmcgdHJh
aWxpbmcgemVybyBieXRlKQo+ICsgKiBhcmczOiBYRU5fR1VFU1RfSEFORExFKGNvbnRlbnQgYnVm
ZmVyKQo+ICsgKiBhcmc0OiBjb250ZW50IGJ1ZmZlciBzaXplCgpUaGUgbGF0ZXN0IGhlcmUgKGlu
IGNvbnRyYXN0IHRvIHRoZSByZWFkIGNvdW50ZXJwYXJ0KSBJIHRoaW5rIGl0IGJlY29tZXMKZGVz
aXJhYmxlIHRvIGlkZW50aWZ5IHdoYXQncyBJTiBhbmQgd2hhdCdzIE9VVC4KCj4gLS0tIC9kZXYv
bnVsbAo+ICsrKyBiL3hlbi9pbmNsdWRlL3hlbi9oeXBmcy5oCj4gQEAgLTAsMCArMSw0MCBAQAo+
ICsjaWZuZGVmIF9fWEVOX0hZUEZTX0hfXwo+ICsjZGVmaW5lIF9fWEVOX0hZUEZTX0hfXwo+ICsK
PiArI2luY2x1ZGUgPHhlbi9saXN0Lmg+Cj4gKwo+ICtzdHJ1Y3QgaHlwZnNfZGlyIHsKPiArICAg
IHVuc2lnbmVkIGludCBjb250ZW50X3NpemU7Cj4gKyAgICBzdHJ1Y3QgbGlzdF9oZWFkIGxpc3Q7
Cj4gK307Cj4gKwo+ICtlbnVtIGh5cGZzX2VudHJ5X3R5cGUgewo+ICsgICAgaHlwZnNfdHlwZV9k
aXIsCj4gKyAgICBoeXBmc190eXBlX3N0cmluZywKPiArICAgIGh5cGZzX3R5cGVfdWludAo+ICt9
Owo+ICsKPiArc3RydWN0IGh5cGZzX2VudHJ5IHsKPiArICAgIGVudW0gaHlwZnNfZW50cnlfdHlw
ZSB0eXBlOwo+ICsgICAgY29uc3QgY2hhciAqbmFtZTsKPiArICAgIHN0cnVjdCBsaXN0X2hlYWQg
bGlzdDsKPiArICAgIHN0cnVjdCBoeXBmc19kaXIgKnBhcmVudDsKCkFmYWljdCB5b3Ugc2V0IHRo
aXMgZmllbGQsIGJ1dCB5b3UgbmV2ZXIgdXNlIGl0IGFueXdoZXJlLiBXaHkgZG8geW91CmFkZCBp
dCBpbiB0aGUgZmlyc3QgcGxhY2U/IChJbml0aWFsbHkgSSBtZWFudCB0byBhc2sgd2hldGhlciB0
aGlzCmNhbiBiZSBwb2ludGVyLXRvLWNvbnN0LikKCj4gKyAgICB1bmlvbiB7Cj4gKyAgICAgICAg
dm9pZCAqY29udGVudDsKCmNvbnN0PwoKPiArICAgICAgICBzdHJ1Y3QgaHlwZnNfZGlyICpkaXI7
Cgpjb25zdD8KCj4gKyAgICAgICAgY2hhciAqc3RyX3ZhbDsKPiArICAgICAgICB1bnNpZ25lZCBp
bnQgKnVpbnRfdmFsOwo+ICsgICAgfTsKPiArfTsKPiArCj4gK2V4dGVybiBzdHJ1Y3QgaHlwZnNf
ZGlyIGh5cGZzX3Jvb3Q7Cj4gKwo+ICtpbnQgaHlwZnNfbmV3X2RpcihzdHJ1Y3QgaHlwZnNfZGly
ICpwYXJlbnQsIGNvbnN0IGNoYXIgKm5hbWUsCj4gKyAgICAgICAgICAgICAgICAgIHN0cnVjdCBo
eXBmc19kaXIgKmRpcik7Cj4gK2ludCBoeXBmc19uZXdfZW50cnlfc3RyaW5nKHN0cnVjdCBoeXBm
c19kaXIgKnBhcmVudCwgY29uc3QgY2hhciAqbmFtZSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY2hhciAqdmFsKTsKPiAraW50IGh5cGZzX25ld19lbnRyeV91aW50KHN0cnVjdCBoeXBm
c19kaXIgKnBhcmVudCwgY29uc3QgY2hhciAqbmFtZSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgIHVuc2lnbmVkIGludCAqdmFsKTsKClRoaW5raW5nIGFib3V0IHRoZSBsYWNrIG9mIGNvbnN0
IG9uIHRoZSBsYXN0IHBhcmFtZXRlcnMgaGVyZSBhZ2FpbiAtCmlmIHRoZXNlIGFyZSBmb3IgdGhl
IHBvaW50ZWQgdG8gdmFsdWVzIHRvIGJlIG1vZGlmaWFibGUgdGhyb3VnaAp0aGlzIGludGVyZmFj
ZSwgdGhlbiBob3cgd291bGQgdGhlICJvd25pbmciIGNvbXBvbmVudCBsZWFybiBvZiB0aGUKdmFs
dWUgaGF2aW5nIGNoYW5nZWQ/IE5vdCBldmVyeW9uZSBtYXkgbmVlZCB0aGlzLCBidXQgSSB0aGlu
ayB0aGVyZQp3b3VsZCB3YW50IHRvIGJlIGEgY2FsbGJhY2suIFVudGlsIHRoZW4gcGVyaGFwcyBi
ZXR0ZXIgdG8gYWRkIGNvbnN0CmhlcmUsIHByb21pc2luZyB0aGF0IHRoZSB2YWx1ZXMgd29uJ3Qg
Y2hhbmdlIGJlaGluZCB0aGUgYmFja3Mgb2YKdGhlIG93bmVycy4KCkphbgoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KWGVuLWRldmVsIG1haWxpbmcgbGlz
dApYZW4tZGV2ZWxAbGlzdHMueGVucHJvamVjdC5vcmcKaHR0cHM6Ly9saXN0cy54ZW5wcm9qZWN0
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL3hlbi1kZXZlbA==

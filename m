Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id 02B11ABCF8
	for <lists+xen-devel@lfdr.de>; Fri,  6 Sep 2019 17:49:50 +0200 (CEST)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1i6GQw-0000L5-Ko; Fri, 06 Sep 2019 15:45:58 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89)
 (envelope-from <SRS0=ai1O=XB=suse.com=jbeulich@srs-us1.protection.inumbo.net>)
 id 1i6GQv-0000L0-6z
 for xen-devel@lists.xenproject.org; Fri, 06 Sep 2019 15:45:57 +0000
X-Inumbo-ID: 68ef9688-d0bd-11e9-b299-bc764e2007e4
Received: from mx1.suse.de (unknown [195.135.220.15])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 68ef9688-d0bd-11e9-b299-bc764e2007e4;
 Fri, 06 Sep 2019 15:45:54 +0000 (UTC)
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 5D1D2B0B3;
 Fri,  6 Sep 2019 15:45:53 +0000 (UTC)
To: Alexandru Stefan ISAILA <aisaila@bitdefender.com>
References: <20190903140112.18806-1-aisaila@bitdefender.com>
From: Jan Beulich <jbeulich@suse.com>
Message-ID: <569c7674-4c6e-765a-4071-884bca7d0412@suse.com>
Date: Fri, 6 Sep 2019 17:46:01 +0200
User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190903140112.18806-1-aisaila@bitdefender.com>
Content-Language: en-US
Subject: Re: [Xen-devel] [PATCH v8] x86/emulate: Send vm_event from emulate
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Petre Ovidiu PIRCALABU <ppircalabu@bitdefender.com>,
 "tamas@tklengyel.com" <tamas@tklengyel.com>, "wl@xen.org" <wl@xen.org>,
 Razvan COJOCARU <rcojocaru@bitdefender.com>,
 "george.dunlap@eu.citrix.com" <george.dunlap@eu.citrix.com>,
 "andrew.cooper3@citrix.com" <andrew.cooper3@citrix.com>,
 "paul.durrant@citrix.com" <paul.durrant@citrix.com>,
 "xen-devel@lists.xenproject.org" <xen-devel@lists.xenproject.org>,
 "roger.pau@citrix.com" <roger.pau@citrix.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

T24gMDMuMDkuMjAxOSAxNjowMSwgQWxleGFuZHJ1IFN0ZWZhbiBJU0FJTEEgd3JvdGU6Cj4gQS9E
IGJpdCB3cml0ZXMgKG9uIHBhZ2Ugd2Fsa3MpIGNhbiBiZSBjb25zaWRlcmVkIGJlbmlnbiBieSBh
biBpbnRyb3NwZWN0aW9uCj4gYWdlbnQsIHNvIHJlY2VpdmluZyB2bV9ldmVudHMgZm9yIHRoZW0g
aXMgYSBwZXNzaW1pemF0aW9uLiBXZSB0cnkgaGVyZSB0bwo+IG9wdGltaXplIGJ5IGZpbHRlcmlu
ZyB0aGVzZSBldmVudHMgb3V0Lgo+IEN1cnJlbnRseSwgd2UgYXJlIGZ1bGx5IGVtdWxhdGluZyB0
aGUgaW5zdHJ1Y3Rpb24gYXQgUklQIHdoZW4gdGhlIGhhcmR3YXJlIHNlZXMKPiBhbiBFUFQgZmF1
bHQgd2l0aCBucGZlYy5raW5kICE9IG5wZmVjX2tpbmRfd2l0aF9nbGEuIFRoaXMgaXMsIGhvd2V2
ZXIsCj4gaW5jb3JyZWN0LCBiZWNhdXNlIHRoZSBpbnN0cnVjdGlvbiBhdCBSSVAgbWlnaHQgbGVn
aXRpbWF0ZWx5IGNhdXNlIGFuCj4gRVBUIGZhdWx0IG9mIGl0cyBvd24gd2hpbGUgYWNjZXNzaW5n
IGEgX2RpZmZlcmVudF8gcGFnZSBmcm9tIHRoZSBvcmlnaW5hbCBvbmUsCj4gd2hlcmUgQS9EIHdl
cmUgc2V0Lgo+IFRoZSBzb2x1dGlvbiBpcyB0byBwZXJmb3JtIHRoZSB3aG9sZSBlbXVsYXRpb24s
IHdoaWxlIGlnbm9yaW5nIEVQVCByZXN0cmljdGlvbnMKPiBmb3IgdGhlIHdhbGsgcGFydCwgYW5k
IHRha2luZyB0aGVtIGludG8gYWNjb3VudCBmb3IgdGhlICJhY3R1YWwiIGVtdWxhdGluZyBvZgo+
IHRoZSBpbnN0cnVjdGlvbiBhdCBSSVAuIFdoZW4gd2Ugc2VuZCBvdXQgYSB2bV9ldmVudCwgd2Ug
ZG9uJ3Qgd2FudCB0aGUgZW11bGF0aW9uCj4gdG8gY29tcGxldGUsIHNpbmNlIGluIHRoYXQgY2Fz
ZSB3ZSB3b24ndCBiZSBhYmxlIHRvIHZldG8gd2hhdGV2ZXIgaXQgaXMgZG9pbmcuCj4gVGhhdCB3
b3VsZCBtZWFuIHRoYXQgd2UgY2FuJ3QgYWN0dWFsbHkgcHJldmVudCBhbnkgbWFsaWNpb3VzIGFj
dGl2aXR5LCBpbnN0ZWFkCj4gd2UnZCBvbmx5IGJlIGFibGUgdG8gcmVwb3J0IG9uIGl0Lgo+IFdo
ZW4gd2Ugc2VlIGEgInNlbmQtdm1fZXZlbnQiIGNhc2Ugd2hpbGUgZW11bGF0aW5nLCB3ZSBuZWVk
IHRvIGZpcnN0IHNlbmQgdGhlCj4gZXZlbnQgb3V0IGFuZCB0aGVuIHN1c3BlbmQgdGhlIGVtdWxh
dGlvbiAocmV0dXJuIFg4NkVNVUxfUkVUUlkpLgo+IEFmdGVyIHRoZSBlbXVsYXRpb24gc3RvcHMg
d2UnbGwgY2FsbCBodm1fdm1fZXZlbnRfZG9fcmVzdW1lKCkgYWdhaW4gYWZ0ZXIgdGhlCj4gaW50
cm9zcGVjdGlvbiBhZ2VudCB0cmVhdHMgdGhlIGV2ZW50IGFuZCByZXN1bWVzIHRoZSBndWVzdC4g
VGhlcmUsIHRoZQo+IGluc3RydWN0aW9uIGF0IFJJUCB3aWxsIGJlIGZ1bGx5IGVtdWxhdGVkICh3
aXRoIHRoZSBFUFQgaWdub3JlZCkgaWYgdGhlCj4gaW50cm9zcGVjdGlvbiBhcHBsaWNhdGlvbiBh
bGxvd3MgaXQsIGFuZCB0aGUgZ3Vlc3Qgd2lsbCBjb250aW51ZSB0byBydW4gcGFzdAo+IHRoZSBp
bnN0cnVjdGlvbi4KPiAKPiBBIGNvbW1vbiBleGFtcGxlIGlzIGlmIHRoZSBoYXJkd2FyZSBleGl0
cyBiZWNhdXNlIG9mIGFuIEVQVCBmYXVsdCBjYXVzZWQgYnkgYQo+IHBhZ2Ugd2FsaywgcDJtX21l
bV9hY2Nlc3NfY2hlY2soKSBkZWNpZGVzIGlmIGl0IGlzIGdvaW5nIHRvIHNlbmQgYSB2bV9ldmVu
dC4KPiBJZiB0aGUgdm1fZXZlbnQgd2FzIHNlbnQgYW5kIGl0IHdvdWxkIGJlIHRyZWF0ZWQgc28g
aXQgcnVucyB0aGUgaW5zdHJ1Y3Rpb24KPiBhdCBSSVAsIHRoYXQgaW5zdHJ1Y3Rpb24gbWlnaHQg
YWxzbyBoaXQgYSBwcm90ZWN0ZWQgcGFnZSBhbmQgcHJvdm9rZSBhIHZtX2V2ZW50Lgo+IAo+IE5v
dyBpZiBucGZlYy5raW5kICE9IG5wZmVjX2tpbmRfd2l0aF9nbGEgYW5kIGQtPmFyY2gubW9uaXRv
ci5pbmd1ZXN0X3BhZ2VmYXVsdF9kaXNhYmxlZAo+IGlzIHRydWUgdGhlbiB3ZSBhcmUgaW4gdGhl
IHBhZ2Ugd2FsayBjYXNlIGFuZCB3ZSBjYW4gZG8gdGhpcyBlbXVsYXRpb24gb3B0aW1pemF0aW9u
Cj4gYW5kIGVtdWxhdGUgdGhlIHBhZ2Ugd2FsayB3aGlsZSBpZ25vcmluZyB0aGUgRVBULCBidXQg
ZG9uJ3QgaWdub3JlIHRoZSBFUFQgZm9yIHRoZQo+IGVtdWxhdGlvbiBvZiB0aGUgYWN0dWFsIGlu
c3RydWN0aW9uLgoKSW5zdGVhZCBvZiBjb21wYXJpbmcgYWdhaW5zdCBucGZlY19raW5kX3dpdGhf
Z2xhLCB3b3VsZG4ndCB5b3UKYmV0dGVyIGNvbXBhcmUgYWdhaW5zdCBucGZlY19raW5kX2luX2dw
dCB0byBwb3NpdGl2ZWx5IGlkZW50aWZ5CnBhZ2UgdGFibGUgYWNjZXNzZXMgYnkgdGhlIGd1ZXN0
PyBCb3RoIFZNWCBhbmQgU1ZNIG1heSBsZWF2ZSB0aGUKZmllbGQgYXQgbnBmZWNfa2luZF91bmtu
b3duIGFmdGVyIGFsbC4KCj4gSW4gdGhlIGZpcnN0IGNhc2Ugd2Ugd291bGQgaGF2ZSAyIEVQVCBl
dmVudHMsIGluIHRoZSBzZWNvbmQgY2FzZSB3ZSB3b3VsZCBoYXZlCj4gMSBFUFQgZXZlbnQgaWYg
dGhlIGluc3RydWN0aW9uIGF0IHRoZSBSSVAgdHJpZ2dlcnMgYW4gRVBUIGV2ZW50Lgo+IAo+IFdl
IHVzZSBodm1lbXVsX21hcF9saW5lYXJfYWRkcigpIHRvIGludGVyY2VwdCByL3cgYWNjZXNzIGFu
ZAo+IF9faHZtX2NvcHkoKSB0byBpbnRlcmNlcHQgZXhlYyBhY2Nlc3MuCj4gCj4gaHZtX2VtdWxh
dGVfc2VuZF92bV9ldmVudCgpIGNhbiByZXR1cm4gZmFsc2UgaWYgdGhlcmUgd2FzIG5vIHZpb2xh
dGlvbiwKPiBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgZnJvbSBtb25pdG9yX3RyYXBzKCkgb3IgcDJt
X2dldF9tZW1fYWNjZXNzKCkuCj4gUmV0dXJuaW5nIGZhbHNlIGlmIHAybV9nZXRfbWVtX2FjY2Vz
cygpIGZhaWxzIGlmIHRoZSBlbnRyeSB3YXMgbm90IGZvdW5kCj4gaW4gdGhlIEVQVCBpbiB3aGlj
aCBjYXNlIGl0IGlzIHVucmVzdHJpY3RlZC4KCkknbSBhZnJhaWQgSSBjYW4ndCBpbnRlcnByZXQg
d2hhdCB0aGUgc2Vjb25kIHNlbnRlbmNlIGlzIHN1cHBvc2VkIHRvCmNsYXJpZnkuCgo+IEBAIC01
MzEsNiArNTMzLDcyIEBAIHN0YXRpYyBpbnQgaHZtZW11bF9kb19tbWlvX2FkZHIocGFkZHJfdCBt
bWlvX2dwYSwKPiAgICAgIHJldHVybiBodm1lbXVsX2RvX2lvX2FkZHIoMSwgbW1pb19ncGEsIHJl
cHMsIHNpemUsIGRpciwgZGYsIHJhbV9ncGEpOwo+ICB9Cj4gIAo+ICsvKgo+ICsgKiBTZW5kIG1l
bW9yeSBhY2Nlc3Mgdm1fZXZlbnRzIGJhc2VkIG9uIHBmZWMuIFJldHVybnMgdHJ1ZSBpZiB0aGUg
ZXZlbnQgd2FzCj4gKyAqIHNlbnQgYW5kIGZhbHNlIGZvciBwMm1fZ2V0X21lbV9hY2Nlc3MoKSBl
cnJvciwgbm8gdmlvbGF0aW9uIGFuZCBldmVudCBzZW5kCj4gKyAqIGVycm9yLiBBc3N1bWVzIHRo
ZSBjYWxsZXIgd2lsbCBjaGVjayBhcmNoLnZtX2V2ZW50LT5zZW5kX2V2ZW50Lgo+ICsgKgo+ICsg
KiBOT1RFOiBwMm1fZ2V0X21lbV9hY2Nlc3MoKSBjYW4gZmFpbCBpZiB0aGUgZW50cnkgd2FzIG5v
dCBmb3VuZCBpbiB0aGUgRVBUCj4gKyAqIChpbiB3aGljaCBjYXNlIGFjY2VzcyB0byBpdCBpcyB1
bnJlc3RyaWN0ZWQsIHNvIG5vIHZpb2xhdGlvbnMgY2FuIG9jY3VyKS4KPiArICogSW4gdGhpcyBj
YXNlcyBpdCBpcyBmaW5lIHRvIGNvbnRpbnVlIHRoZSBlbXVsYXRpb24uCj4gKyAqLwo+ICtib29s
IGh2bV9lbXVsYXRlX3NlbmRfdm1fZXZlbnQodW5zaWduZWQgbG9uZyBnbGEsIGdmbl90IGdmbiwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHBmZWMpCj4gK3sKPiAr
ICAgIHhlbm1lbV9hY2Nlc3NfdCBhY2Nlc3M7Cj4gKyAgICB2bV9ldmVudF9yZXF1ZXN0X3QgcmVx
ID0ge307Cj4gKyAgICBwYWRkcl90IGdwYSA9IChnZm5fdG9fZ2FkZHIoZ2ZuKSB8IChnbGEgJiB+
UEFHRV9NQVNLKSk7Cj4gKwo+ICsgICAgQVNTRVJUKGN1cnJlbnQtPmFyY2gudm1fZXZlbnQtPnNl
bmRfZXZlbnQpOwo+ICsKPiArICAgIGN1cnJlbnQtPmFyY2gudm1fZXZlbnQtPnNlbmRfZXZlbnQg
PSBmYWxzZTsKPiArCj4gKyAgICBpZiAoIHAybV9nZXRfbWVtX2FjY2VzcyhjdXJyZW50LT5kb21h
aW4sIGdmbiwgJmFjY2VzcywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdHAybV92
Y3B1X2lkeChjdXJyZW50KSkgIT0gMCApCj4gKyAgICAgICAgcmV0dXJuIGZhbHNlOwo+ICsKPiAr
ICAgIHN3aXRjaCAoIGFjY2VzcyApCj4gKyAgICB7Cj4gKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3Nf
eDoKPiArICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19yeDoKPiArICAgICAgICBpZiAoIHBmZWMgJiBQ
RkVDX3dyaXRlX2FjY2VzcyApCj4gKyAgICAgICAgICAgIHJlcS51Lm1lbV9hY2Nlc3MuZmxhZ3Mg
PSBNRU1fQUNDRVNTX1IgfCBNRU1fQUNDRVNTX1c7Cj4gKyAgICAgICAgYnJlYWs7Cj4gKwo+ICsg
ICAgY2FzZSBYRU5NRU1fYWNjZXNzX3c6Cj4gKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3Nfcnc6Cj4g
KyAgICAgICAgaWYgKCBwZmVjICYgUEZFQ19pbnNuX2ZldGNoICkKPiArICAgICAgICAgICAgcmVx
LnUubWVtX2FjY2Vzcy5mbGFncyA9IE1FTV9BQ0NFU1NfWDsKPiArICAgICAgICBicmVhazsKPiAr
Cj4gKyAgICBjYXNlIFhFTk1FTV9hY2Nlc3NfcjoKPiArICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19u
Ogo+ICsgICAgICAgIGlmICggcGZlYyAmIFBGRUNfd3JpdGVfYWNjZXNzICkKPiArICAgICAgICAg
ICAgcmVxLnUubWVtX2FjY2Vzcy5mbGFncyB8PSBNRU1fQUNDRVNTX1IgfCBNRU1fQUNDRVNTX1c7
Cj4gKyAgICAgICAgaWYgKCBwZmVjICYgUEZFQ19pbnNuX2ZldGNoICkKPiArICAgICAgICAgICAg
cmVxLnUubWVtX2FjY2Vzcy5mbGFncyB8PSBNRU1fQUNDRVNTX1g7Cj4gKyAgICAgICAgYnJlYWs7
Cj4gKwo+ICsgICAgY2FzZSBYRU5NRU1fYWNjZXNzX3d4Ogo+ICsgICAgY2FzZSBYRU5NRU1fYWNj
ZXNzX3J3eDoKPiArICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19yeDJydzoKPiArICAgIGNhc2UgWEVO
TUVNX2FjY2Vzc19uMnJ3eDoKPiArICAgIGNhc2UgWEVOTUVNX2FjY2Vzc19kZWZhdWx0Ogo+ICsg
ICAgICAgIGJyZWFrOwo+ICsgICAgfQo+ICsKPiArICAgIGlmICggIXJlcS51Lm1lbV9hY2Nlc3Mu
ZmxhZ3MgKQo+ICsgICAgICAgIHJldHVybiBmYWxzZTsgLyogbm8gdmlvbGF0aW9uICovCj4gKwo+
ICsgICAgcmVxLnJlYXNvbiA9IFZNX0VWRU5UX1JFQVNPTl9NRU1fQUNDRVNTOwo+ICsgICAgcmVx
LnUubWVtX2FjY2Vzcy5nZm4gPSBnZm5feChnZm4pOwo+ICsgICAgcmVxLnUubWVtX2FjY2Vzcy5m
bGFncyB8PSBNRU1fQUNDRVNTX0ZBVUxUX1dJVEhfR0xBIHwgTUVNX0FDQ0VTU19HTEFfVkFMSUQ7
Cj4gKyAgICByZXEudS5tZW1fYWNjZXNzLmdsYSA9IGdsYTsKPiArICAgIHJlcS51Lm1lbV9hY2Nl
c3Mub2Zmc2V0ID0gZ3BhICYgflBBR0VfTUFTSzsKPiArCj4gKyAgICByZXR1cm4gbW9uaXRvcl90
cmFwcyhjdXJyZW50LCB0cnVlLCAmcmVxKSA+PSAwOwo+ICt9CgpTaW5jZSBpdCdzIG5vbi1zdGF0
aWMgYW55d2F5LCB3b3VsZG4ndCB0aGlzIGJldHRlciBsaXZlIGluCmh2bS92bV9ldmVudC5jLCBw
dXR0aW5nIGl0IHVuZGVyIFZNIEVWRU5UIG1haW50YWluZXJzaGlwPyBJbiBhbnkKZXZlbnQgSSBk
b24ndCBmZWVsIHF1YWxpZmllZCBldmVudHVhbGx5IGdpdmluZyBhbiBhY2sgZm9yIHRoaXMKZnVu
Y3Rpb24uCgo+IEBAIC01NDQsMTAgKzYxMiwxMSBAQCBzdGF0aWMgdm9pZCAqaHZtZW11bF9tYXBf
bGluZWFyX2FkZHIoCj4gICAgICBzdHJ1Y3QgaHZtX2VtdWxhdGVfY3R4dCAqaHZtZW11bF9jdHh0
KQo+ICB7Cj4gICAgICBzdHJ1Y3QgdmNwdSAqY3VyciA9IGN1cnJlbnQ7Cj4gLSAgICB2b2lkICpl
cnIsICptYXBwaW5nOwo+ICsgICAgdm9pZCAqZXJyID0gTlVMTCwgKm1hcHBpbmc7Cj4gICAgICB1
bnNpZ25lZCBpbnQgbnJfZnJhbWVzID0gKChsaW5lYXIgKyBieXRlcyAtICEhYnl0ZXMpID4+IFBB
R0VfU0hJRlQpIC0KPiAgICAgICAgICAobGluZWFyID4+IFBBR0VfU0hJRlQpICsgMTsKPiAgICAg
IHVuc2lnbmVkIGludCBpOwo+ICsgICAgZ2ZuX3QgZ2ZuOwo+ICAKPiAgICAgIC8qCj4gICAgICAg
KiBtZm4gcG9pbnRzIHRvIHRoZSBuZXh0IGZyZWUgc2xvdC4gIEFsbCB1c2VkIHNsb3RzIGhhdmUg
YSBwYWdlIHJlZmVyZW5jZQo+IEBAIC01ODIsNyArNjUxLDcgQEAgc3RhdGljIHZvaWQgKmh2bWVt
dWxfbWFwX2xpbmVhcl9hZGRyKAo+ICAgICAgICAgIEFTU0VSVChtZm5feCgqbWZuKSA9PSAwKTsK
PiAgCj4gICAgICAgICAgcmVzID0gaHZtX3RyYW5zbGF0ZV9nZXRfcGFnZShjdXJyLCBhZGRyLCB0
cnVlLCBwZmVjLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnBmaW5m
bywgJnBhZ2UsIE5VTEwsICZwMm10KTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICZwZmluZm8sICZwYWdlLCAmZ2ZuLCAmcDJtdCk7Cj4gIAo+ICAgICAgICAgIHN3aXRj
aCAoIHJlcyApCj4gICAgICAgICAgewo+IEBAIC01OTYsNyArNjY1LDYgQEAgc3RhdGljIHZvaWQg
Kmh2bWVtdWxfbWFwX2xpbmVhcl9hZGRyKAo+ICAgICAgICAgICAgICBnb3RvIG91dDsKPiAgCj4g
ICAgICAgICAgY2FzZSBIVk1UUkFOU19iYWRfZ2ZuX3RvX21mbjoKPiAtICAgICAgICAgICAgZXJy
ID0gTlVMTDsKPiAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gIAo+ICAgICAgICAgIGNhc2UgSFZN
VFJBTlNfZ2ZuX3BhZ2VkX291dDoKPiBAQCAtNjE5LDE0ICs2ODcsMTkgQEAgc3RhdGljIHZvaWQg
Kmh2bWVtdWxfbWFwX2xpbmVhcl9hZGRyKAo+ICAgICAgICAgICAgICB9Cj4gIAo+ICAgICAgICAg
ICAgICBpZiAoIHAybXQgPT0gcDJtX2lvcmVxX3NlcnZlciApCj4gLSAgICAgICAgICAgIHsKPiAt
ICAgICAgICAgICAgICAgIGVyciA9IE5VTEw7Cj4gICAgICAgICAgICAgICAgICBnb3RvIG91dDsK
PiAtICAgICAgICAgICAgfQo+ICAKPiAgICAgICAgICAgICAgQVNTRVJUKHAybXQgPT0gcDJtX3Jh
bV9sb2dkaXJ0eSB8fCAhcDJtX2lzX3JlYWRvbmx5KHAybXQpKTsKPiAgICAgICAgICB9Cj4gKwo+
ICsgICAgICAgIGlmICggY3Vyci0+YXJjaC52bV9ldmVudCAmJgoKSnVzdCBsaWtlIHlvdSBoYXZl
IGluIF9faHZtX2NvcHkoKSwgbWF5IEkgYXNrIGZvciB1bmxpa2VseSgpIGhlcmU/Cgo+ICsgICAg
ICAgICAgICAgY3Vyci0+YXJjaC52bV9ldmVudC0+c2VuZF9ldmVudCAmJgo+ICsgICAgICAgICAg
ICAgaHZtX2VtdWxhdGVfc2VuZF92bV9ldmVudChhZGRyLCBnZm4sIHBmZWMpICkKPiArICAgICAg
ICAgICAgZXJyID0gRVJSX1BUUih+WDg2RU1VTF9SRVRSWSk7CgpJbiB0aGUgZGVzY3JpcHRpb24g
eW91IHNheSB0aGlzIHRha2VzIGNhcmUgb2Ygci93LCBhbmQgX19odm1fY29weSgpCnRha2VzIGNh
cmUgb2YgZXhlYywgYnV0IHRoZSBmdW5jdGlvbiB3ZSdyZSBpbiBkb2Vzbid0IGdldCBjYWxsZWQK
b24gdGhlIHJlYWQgcGF0aCAoYnV0IGl0IG1heSBiZSBkb3duIHRoZSByb2FkKS4gQWRkaXRpb25h
bGx5IHRoZQpmdW5jdGlvbiBub3cgYWxzbyBnZXRzIGNhbGxlZCBmcm9tIGh2bWVtdWxfY2FjaGVf
b3AoKSwgd2hpY2ggSSdtCm5vdCBzdXJlIHlvdSBhY3R1YWxseSB3YW50IHRvIHNlbmQgZXZlbnRz
IGZvci4KCj4gICAgICB9Cj4gKyAgICAvKiBDaGVjayBpZiBlbnkgdm1fZXZlbnQgd2FzIHNlbnQg
Ki8KCiJhbnkiIGFuZCBwbGVhc2UgYWRkIGJsYW5rIGxpbmUgYWhlYWQgb2YgeW91ciBhZGRpdGlv
bi4KCj4gKyAgICBpZiAoIGVyciApCj4gKyAgICAgICAgZ290byBvdXQ7CgpBbmQgd2FpdCAtIHdo
eSBkb2VzIHRoaXMgc2l0IGFmdGVyIHRoZSBsb29wPyBJcyB0aGF0IGEgcmUtYmFzaW5nCm1pc3Rh
a2UgZnJvbSB3aGVuIHlvdSBoYWQgcHV0IG9uIHRvcCBvZiBteSB1bmNvbW1pdHRlZCBwYXRjaD8K
Cj4gLS0tIGEveGVuL2FyY2gveDg2L2h2bS9odm0uYwo+ICsrKyBiL3hlbi9hcmNoL3g4Ni9odm0v
aHZtLmMKPiBAQCAtMzIyNCw2ICszMjI0LDE0IEBAIHN0YXRpYyBlbnVtIGh2bV90cmFuc2xhdGlv
bl9yZXN1bHQgX19odm1fY29weSgKPiAgICAgICAgICAgICAgcmV0dXJuIEhWTVRSQU5TX2JhZF9n
Zm5fdG9fbWZuOwo+ICAgICAgICAgIH0KPiAgCj4gKyAgICAgICAgaWYgKCB1bmxpa2VseSh2LT5h
cmNoLnZtX2V2ZW50KSAmJgo+ICsgICAgICAgICAgICAgdi0+YXJjaC52bV9ldmVudC0+c2VuZF9l
dmVudCAmJgo+ICsgICAgICAgICAgICAgaHZtX2VtdWxhdGVfc2VuZF92bV9ldmVudChhZGRyLCBn
Zm4sIHBmZWMpICkKPiArICAgICAgICB7Cj4gKyAgICAgICAgICAgIHB1dF9wYWdlKHBhZ2UpOwo+
ICsgICAgICAgICAgICByZXR1cm4gSFZNVFJBTlNfZ2ZuX3BhZ2VkX291dDsKPiArICAgICAgICB9
CgpJJ20gcHJldHR5IHN1cmUgSSBoYWQgcHJldmlvdXNseSBhc2tlZCBmb3IgdGhlcmUgdG8gZWl0
aGVyIGJlCmEgY2hhbmdlIHRvIHRoZSByZXR1cm4gdmFsdWUsIG9yIGZvciB0aGVyZSB0byBiZSBh
IGNvbW1lbnQKanVzdGlmeWluZyB0aGUgKGFwcGFyZW50KSBhYnVzZSBvZiB0aGUgb25lIHVzZWQu
CgpKYW4KCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClhl
bi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qub3JnCmh0dHBz
Oi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2ZWw=

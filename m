Return-Path: <xen-devel-bounces@lists.xenproject.org>
X-Original-To: lists+xen-devel@lfdr.de
Delivered-To: lists+xen-devel@lfdr.de
Received: from lists.xenproject.org (lists.xenproject.org [192.237.175.120])
	by mail.lfdr.de (Postfix) with ESMTPS id AB99210954E
	for <lists+xen-devel@lfdr.de>; Mon, 25 Nov 2019 22:59:20 +0100 (CET)
Received: from localhost ([127.0.0.1] helo=lists.xenproject.org)
	by lists.xenproject.org with esmtp (Exim 4.89)
	(envelope-from <xen-devel-bounces@lists.xenproject.org>)
	id 1iZMKa-0007qx-O2; Mon, 25 Nov 2019 21:55:40 +0000
Received: from us1-rack-iad1.inumbo.com ([172.99.69.81])
 by lists.xenproject.org with esmtp (Exim 4.89) (envelope-from
 <SRS0=pQY9=ZR=gmail.com=julien.grall.oss@srs-us1.protection.inumbo.net>)
 id 1iZMKZ-0007qs-2D
 for xen-devel@lists.xenproject.org; Mon, 25 Nov 2019 21:55:39 +0000
X-Inumbo-ID: 5035ffe2-0fce-11ea-9455-bc764e2007e4
Received: from mail-wm1-f68.google.com (unknown [209.85.128.68])
 by us1-rack-iad1.inumbo.com (Halon) with ESMTPS
 id 5035ffe2-0fce-11ea-9455-bc764e2007e4;
 Mon, 25 Nov 2019 21:55:37 +0000 (UTC)
Received: by mail-wm1-f68.google.com with SMTP id t26so997760wmi.4
 for <xen-devel@lists.xenproject.org>; Mon, 25 Nov 2019 13:55:37 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-language
 :content-transfer-encoding;
 bh=8B/94g/j/2l+twLOuIDG/Njjqazo3QllIPskRtRrRlQ=;
 b=KodUSUB4hBIeiAub2qRmtfI99mrftjkfAhRLY7omMZE0O6gDUL2Bx9f13cbzLTLGJH
 EGsJt5FLAgDMxoFfed21TONqZ7uOy14DM9RH13iutS2OwGfv8o6jNpXwPcsOMbIdLxjo
 wjOtiZB/wlnuH55rYfWLCTigcgjpVRqlbI/99JvDsPTo0ZBYv6oX0rgzMtBbJpDUzGc0
 ed9txx3ONb9LfniuOh/gGDudkazivnFP5cyVs5LQAT7IC9dnZjz6GZo1ym+Nb4AHLqpk
 lXmydQ14cEEncTWDNlyai1hVdIy3MShp87TS94nc8iVhKYOwTre2y3hx4c2OG06o6J0m
 zI4Q==
X-Gm-Message-State: APjAAAURPLN3rbAgZlY0BmvGtNgN1jpAM6j0FLXNLBRE3dP9crX5r7Vt
 xGUE5bPwco5H5B6jj8Mg74g=
X-Google-Smtp-Source: APXvYqztiutGRGruDexXNfqThqAjRCm2igZ1i0zTQ0MGlAE7SUv1ece8M9799NYdiE94nCRC670rRg==
X-Received: by 2002:a1c:3b82:: with SMTP id i124mr812731wma.122.1574718936645; 
 Mon, 25 Nov 2019 13:55:36 -0800 (PST)
Received: from a483e7b01a66.ant.amazon.com (54-240-197-238.amazon.com.
 [54.240.197.238])
 by smtp.gmail.com with ESMTPSA id y19sm717990wmd.29.2019.11.25.13.55.34
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Mon, 25 Nov 2019 13:55:35 -0800 (PST)
To: Stewart Hildebrand <stewart.hildebrand@dornerworks.com>,
 xen-devel@lists.xenproject.org
References: <20191115200115.44890-1-stewart.hildebrand@dornerworks.com>
 <20191115201407.45042-1-stewart.hildebrand@dornerworks.com>
From: Julien Grall <julien@xen.org>
Message-ID: <2888ea80-594f-d619-9815-eb13eb102b19@xen.org>
Date: Mon, 25 Nov 2019 21:55:34 +0000
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:68.0)
 Gecko/20100101 Thunderbird/68.2.2
MIME-Version: 1.0
In-Reply-To: <20191115201407.45042-1-stewart.hildebrand@dornerworks.com>
Content-Language: en-GB
Subject: Re: [Xen-devel] [RFC XEN PATCH v3 10/11] xen: arm: context switch
 vtimer PPI state.
X-BeenThere: xen-devel@lists.xenproject.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Xen developer discussion <xen-devel.lists.xenproject.org>
List-Unsubscribe: <https://lists.xenproject.org/mailman/options/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=unsubscribe>
List-Post: <mailto:xen-devel@lists.xenproject.org>
List-Help: <mailto:xen-devel-request@lists.xenproject.org?subject=help>
List-Subscribe: <https://lists.xenproject.org/mailman/listinfo/xen-devel>,
 <mailto:xen-devel-request@lists.xenproject.org?subject=subscribe>
Cc: Andre Przywara <andre.przywara@arm.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Volodymyr Babchuk <Volodymyr_Babchuk@epam.com>,
 Ian Campbell <ian.campbell@citrix.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: xen-devel-bounces@lists.xenproject.org
Sender: "Xen-devel" <xen-devel-bounces@lists.xenproject.org>

KCsgQW5kcmUpCgpIaSwKCk9uIDE1LzExLzIwMTkgMjA6MTQsIFN0ZXdhcnQgSGlsZGVicmFuZCB3
cm90ZToKPiBGcm9tOiBJYW4gQ2FtcGJlbGwgPGlhbi5jYW1wYmVsbEBjaXRyaXguY29tPgo+IAo+
IC4uLiBpbnN0ZWFkIG9mIGFydGlmaWNpYWxseSBtYXNraW5nIHRoZSB0aW1lciBpbnRlcnJ1cHQg
aW4gdGhlIHRpbWVyCj4gc3RhdGUgYW5kIHJlbHlpbmcgb24gdGhlIGd1ZXN0IHRvIHVubWFzayAo
d2hpY2ggaXQgaXNuJ3QgcmVxdWlyZWQgdG8KPiBkbyBwZXIgdGhlIGgvdyBzcGVjLCBhbHRob3Vn
aCBMaW51eCBkb2VzKS4KPiAKPiBCeSB1c2luZyB0aGUgbmV3bHkgYWRkZWQgaHdwcGkgc2F2ZS9y
ZXN0b3JlIGZ1bmN0aW9uYWxpdHkgd2UgbWFrZSB1c2UKPiBvZiB0aGUgR0lDRCBJW1NDXUFDVElW
RVIgcmVnaXN0ZXJzIHRvIHNhdmUgYW5kIHJlc3RvcmUgdGhlIGFjdGl2ZQo+IHN0YXRlIG9mIHRo
ZSBpbnRlcnJ1cHQsIHdoaWNoIHByZXZlbnRzIHRoZSBuZXN0ZWQgaW52b2NhdGlvbnMgd2hpY2gK
PiB0aGUgY3VycmVudCBtYXNraW5nIHdvcmtzIGFyb3VuZC4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBJ
YW4gQ2FtcGJlbGwgPGlhbi5jYW1wYmVsbEBjaXRyaXguY29tPgo+IFNpZ25lZC1vZmYtYnk6IFN0
ZXdhcnQgSGlsZGVicmFuZCA8c3Rld2FydC5oaWxkZWJyYW5kQGRvcm5lcndvcmtzLmNvbT4KPiAt
LS0KPiB2MjogUmViYXNlZCwgaW4gcGFydGljdWxhciBvdmVyIEp1bGllbidzIHBhc3N0aHJvdWdo
IHN0dWZmIHdoaWNoCj4gICAgICByZXdvcmtlZCBhIGJ1bmNoIG9mIElSUSByZWxhdGVkIHN0dWZm
Lgo+ICAgICAgQWxzbyBsYXJnZWx5IHJld3JpdHRlbiBzaW5jZSBwcmVjdXJzb3IgcGF0Y2hlcyBu
b3cgbGF5IHZlcnkKPiAgICAgIGRpZmZlcmVudCBncm91bmR3b3JrLgo+IAo+IHYzOiBBZGRyZXNz
IGZlZWRiYWNrIGZyb20gdjIgWzFdOgo+ICAgICogUmVtb3ZlIHZpcnRfdGltZXJfaXJxcyBwZXJm
b3JtYW5jZSBjb3VudGVyIHNpbmNlIGl0IGlzIG5vdyB1bnVzZWQuCj4gICAgKiBBZGQgY2F2ZWF0
IHRvIGNvbW1lbnQgYWJvdXQgbm90IHVzaW5nIEkqQUNUSVZFUiByZWdpc3Rlci4KPiAgICAqIEhB
Q0s6IGRvbid0IGluaXRpYWxpemUgcGVuZGluZ19pcnEtPmlycSBpbiB2dGltZXIgZm9yIG5ldyB2
R0lDIHRvCj4gICAgICBhbGxvd3MgdXMgdG8gYnVpbGQgd2l0aCBDT05GSUdfTkVXX1ZHSUM9eQo+
IAo+IFsxXSBodHRwczovL2xpc3RzLnhlbnByb2plY3Qub3JnL2FyY2hpdmVzL2h0bWwveGVuLWRl
dmVsLzIwMTUtMTEvbXNnMDEwNjUuaHRtbAo+IC0tLQo+IAo+IE5vdGU6IFJlZ2FyZGluZyBTdGVm
YW5vJ3MgY29tbWVudCBpbiBbMl0sIEkgZGlkIHRlc3QgaXQgd2l0aCB0aGUgY2FsbAo+IHRvIGdp
Y19od3BwaV9zZXRfcGVuZGluZyByZW1vdmVkLCBhbmQgSSB3YXMgYWJsZSB0byBib290IGRvbTAu
CgpXaGVuIGRlYWxpbmcgd2l0aCB0aGUgdkdJQywgdGVzdGluZyBpcyBub3QgZW5vdWdoIHRvIGp1
c3RpZnkgdGhlIHJlbW92YWwgCm9mIHNvbWUgY29kZS4gV2UgbmVlZCBhIHdvcmRlZCBqdXN0aWZp
Y2F0aW9uIG9mIHdoeSBpdCBpcyAob3Igbm90KSAKbmVjZXNzYXJ5LgoKSW4gdGhpcyBjYXNlIHRo
ZSB0aW1lciBpcyBsZXZlbCAoZGVzcGl0ZSBzb21lIGJyb2tlbiBIVyBtaXNjb25maWd1cmluZyAK
aXQpLCBzbyBieSByZW1vdmluZyBzZXRfcGVuZGluZygpIHlvdSBkb24ndCBhZmZlY3QgYW55dGhp
bmcgYXMgcmVzdG9yaW5nIAp0aGUgdGltZXIgcmVnaXN0ZXJzIHdpbGwgYXV0b21hdGljYWxseSBt
YXJrIHRoZSBpbnRlcnJ1cHQgcGVuZGluZy4KCj4gCj4gWzJdIGh0dHBzOi8vbGlzdHMueGVucHJv
amVjdC5vcmcvYXJjaGl2ZXMvaHRtbC94ZW4tZGV2ZWwvMjAxNS0xMi9tc2cwMjY4My5odG1sCj4g
LS0tCj4gICB4ZW4vYXJjaC9hcm0vdGltZS5jICAgICAgICAgICAgICB8IDI2ICsrLS0tLS0tLS0t
LS0tLS0tLQo+ICAgeGVuL2FyY2gvYXJtL3Z0aW1lci5jICAgICAgICAgICAgfCA0NSArKysrKysr
KysrKysrKysrKysrKysrKysrKysrKy0tLQo+ICAgeGVuL2luY2x1ZGUvYXNtLWFybS9kb21haW4u
aCAgICAgfCAgMSArCj4gICB4ZW4vaW5jbHVkZS9hc20tYXJtL3BlcmZjX2RlZm4uaCB8ICAxIC0K
PiAgIDQgZmlsZXMgY2hhbmdlZCwgNDQgaW5zZXJ0aW9ucygrKSwgMjkgZGVsZXRpb25zKC0pCj4g
Cj4gZGlmZiAtLWdpdCBhL3hlbi9hcmNoL2FybS90aW1lLmMgYi94ZW4vYXJjaC9hcm0vdGltZS5j
Cj4gaW5kZXggNzM5YmNmMTg2Yy4uZTNhMjNiOGUxNiAxMDA2NDQKPiAtLS0gYS94ZW4vYXJjaC9h
cm0vdGltZS5jCj4gKysrIGIveGVuL2FyY2gvYXJtL3RpbWUuYwo+IEBAIC0yNDMsMjggKzI0Myw2
IEBAIHN0YXRpYyB2b2lkIHRpbWVyX2ludGVycnVwdChpbnQgaXJxLCB2b2lkICpkZXZfaWQsIHN0
cnVjdCBjcHVfdXNlcl9yZWdzICpyZWdzKQo+ICAgICAgIH0KPiAgIH0KPiAgIAo+IC1zdGF0aWMg
dm9pZCB2dGltZXJfaW50ZXJydXB0KGludCBpcnEsIHZvaWQgKmRldl9pZCwgc3RydWN0IGNwdV91
c2VyX3JlZ3MgKnJlZ3MpCj4gLXsKPiAtICAgIC8qCj4gLSAgICAgKiBFZGdlLXRyaWdnZXJlZCBp
bnRlcnJ1cHRzIGNhbiBiZSB1c2VkIGZvciB0aGUgdmlydHVhbCB0aW1lci4gRXZlbgo+IC0gICAg
ICogaWYgdGhlIHRpbWVyIG91dHB1dCBzaWduYWwgaXMgbWFza2VkIGluIHRoZSBjb250ZXh0IHN3
aXRjaCwgdGhlCj4gLSAgICAgKiBHSUMgd2lsbCBrZWVwIHRyYWNrIHRoYXQgb2YgYW55IGludGVy
cnVwdHMgcmFpc2VkIHdoaWxlIElSUVMgYXJlCj4gLSAgICAgKiBkaXNhYmxlZC4gQXMgc29vbiBh
cyBJUlFzIGFyZSByZS1lbmFibGVkLCB0aGUgdmlydHVhbCBpbnRlcnJ1cHQKPiAtICAgICAqIHdp
bGwgYmUgaW5qZWN0ZWQgdG8gWGVuLgo+IC0gICAgICoKPiAtICAgICAqIElmIGFuIElETEUgdkNQ
VSB3YXMgc2NoZWR1bGVkIG5leHQgdGhlbiB3ZSBzaG91bGQgaWdub3JlIHRoZQo+IC0gICAgICog
aW50ZXJydXB0Lgo+IC0gICAgICovCj4gLSAgICBpZiAoIHVubGlrZWx5KGlzX2lkbGVfdmNwdShj
dXJyZW50KSkgKQo+IC0gICAgICAgIHJldHVybjsKPiAtCj4gLSAgICBwZXJmY19pbmNyKHZpcnRf
dGltZXJfaXJxcyk7Cj4gLQo+IC0gICAgY3VycmVudC0+YXJjaC52aXJ0X3RpbWVyLmN0bCA9IFJF
QURfU1lTUkVHMzIoQ05UVl9DVExfRUwwKTsKPiAtICAgIFdSSVRFX1NZU1JFRzMyKGN1cnJlbnQt
PmFyY2gudmlydF90aW1lci5jdGwgfCBDTlR4X0NUTF9NQVNLLCBDTlRWX0NUTF9FTDApOwo+IC0g
ICAgdmdpY19pbmplY3RfaXJxKGN1cnJlbnQtPmRvbWFpbiwgY3VycmVudCwgY3VycmVudC0+YXJj
aC52aXJ0X3RpbWVyLmlycSwgdHJ1ZSk7Cj4gLX0KPiAtCj4gICAvKgo+ICAgICogQXJjaCB0aW1l
ciBpbnRlcnJ1cHQgcmVhbGx5IG91Z2h0IHRvIGJlIGxldmVsIHRyaWdnZXJlZCwgc2luY2UgdGhl
Cj4gICAgKiBkZXNpZ24gb2YgdGhlIHRpbWVyL2NvbXBhcmF0b3IgbWVjaGFuaXNtIGlzIGJhc2Vk
IGFyb3VuZCB0aGF0Cj4gQEAgLTMwNCw4ICsyODIsOCBAQCB2b2lkIGluaXRfdGltZXJfaW50ZXJy
dXB0KHZvaWQpCj4gICAKPiAgICAgICByZXF1ZXN0X2lycSh0aW1lcl9pcnFbVElNRVJfSFlQX1BQ
SV0sIDAsIHRpbWVyX2ludGVycnVwdCwKPiAgICAgICAgICAgICAgICAgICAiaHlwdGltZXIiLCBO
VUxMKTsKPiAtICAgIHJlcXVlc3RfaXJxKHRpbWVyX2lycVtUSU1FUl9WSVJUX1BQSV0sIDAsIHZ0
aW1lcl9pbnRlcnJ1cHQsCj4gLSAgICAgICAgICAgICAgICAgICAidmlydGltZXIiLCBOVUxMKTsK
PiArICAgIHJvdXRlX2h3cHBpX3RvX2N1cnJlbnRfdmNwdSh0aW1lcl9pcnFbVElNRVJfVklSVF9Q
UEldLCAidmlydGltZXIiKTsKPiArCj4gICAgICAgcmVxdWVzdF9pcnEodGltZXJfaXJxW1RJTUVS
X1BIWVNfTk9OU0VDVVJFX1BQSV0sIDAsIHRpbWVyX2ludGVycnVwdCwKPiAgICAgICAgICAgICAg
ICAgICAicGh5dGltZXIiLCBOVUxMKTsKPiAgIAo+IGRpZmYgLS1naXQgYS94ZW4vYXJjaC9hcm0v
dnRpbWVyLmMgYi94ZW4vYXJjaC9hcm0vdnRpbWVyLmMKPiBpbmRleCBlNmFlYmRhYzllLi42ZTM0
OTg5NTJkIDEwMDY0NAo+IC0tLSBhL3hlbi9hcmNoL2FybS92dGltZXIuYwo+ICsrKyBiL3hlbi9h
cmNoL2FybS92dGltZXIuYwo+IEBAIC01NSw5ICs1NSwxOSBAQCBzdGF0aWMgdm9pZCBwaHlzX3Rp
bWVyX2V4cGlyZWQodm9pZCAqZGF0YSkKPiAgIHN0YXRpYyB2b2lkIHZpcnRfdGltZXJfZXhwaXJl
ZCh2b2lkICpkYXRhKQo+ICAgewo+ICAgICAgIHN0cnVjdCB2dGltZXIgKnQgPSBkYXRhOwo+IC0g
ICAgdC0+Y3RsIHw9IENOVHhfQ1RMX01BU0s7Cj4gLSAgICB2Z2ljX2luamVjdF9pcnEodC0+di0+
ZG9tYWluLCB0LT52LCB0LT5pcnEsIHRydWUpOwo+IC0gICAgcGVyZmNfaW5jcih2dGltZXJfdmly
dF9pbmplY3QpOwo+ICsgICAgdC0+Y3RsIHw9IENOVHhfQ1RMX1BFTkRJTkc7CgpJIGRvbid0IHRo
aW5rIHRoaXMgaXMgbmVjZXNzYXJ5LiBJZiB0aGUgc29mdHdhcmUgdGltZXIgZmlyZSwgdGhlbiB0
aGUgCnZpcnR1YWwgdGltZXIgKGluIEhXKSB3b3VsZCBoYXZlIGZpcmVkIHRvby4gU28gYnkgcmVz
dG9yaW5nIHRoZSB0aW1lciwgCnRoZW4gdGhlIEhXIHNob3VsZCBieSBpdHNlbGYgc2V0IHRoZSBw
ZW5kaW5nIGJpdCBhbmQgdHJpZ2dlciB0aGUgaW50ZXJydXB0LgoKPiArICAgIGlmICggISh0LT5j
dGwgJiBDTlR4X0NUTF9NQVNLKSApCgpUaGUgdGltZXIgaXMgb25seSBzZXQgaWYgdGhlIHZpcnR1
YWwgdGltZXIgaXMgZW5hYmxlZCBhbmQgbm90IG1hc2tlZC4gU28gCkkgdGhpbmsgdGhpcyBjaGVj
ayBpcyB1bm5lY2Vzc2FyeSBhcyB3ZSBjb3VsZCBuZXZlciByZWFjaGVkIHRoaXMgY29kZSAKd2l0
aCB0aGUgdmlydHVhbCB0aW1lciBtYXNrZWQuCgo+ICsgICAgewo+ICsgICAgICAgIC8qCj4gKyAg
ICAgICAgICogQW4gZWRnZSB0cmlnZ2VyZWQgaW50ZXJydXB0IHNob3VsZCBub3cgYmUgcGVuZGlu
Zy4gU2luY2UKClRoaXMgZG9lcyBub3QgbWFrZSBzZW5zZSwgdGhlIHRpbWVyIGludGVycnVwdCBv
dWdodCB0byBiZSBsZXZlbC4gU28gd2h5IAphcmUgeW91IGV2ZW4gc3BlYWtpbmcgYWJvdXQgZWRn
ZSBoZXJlPwoKPiArICAgICAgICAgKiB0aGlzIHRpbWVyIGNhbiBuZXZlciBleHBpcmUgd2hpbGUg
dGhlIGRvbWFpbiBpcyBzY2hlZHVsZWQKPiArICAgICAgICAgKiB3ZSBrbm93IHRoYXQgdGhlIGdp
Y19yZXN0b3JlX2h3cHBpIGluIHZpcnRfdGltZXJfcmVzdG9yZQo+ICsgICAgICAgICAqIHdpbGwg
Y2F1c2UgdGhlIHJlYWwgaHdwcGkgdG8gb2NjdXIgYW5kIGJlIHJvdXRlZC4KPiArICAgICAgICAg
Ki8KPiArICAgICAgICBnaWNfaHdwcGlfc2V0X3BlbmRpbmcoJnQtPnBwaV9zdGF0ZSk7Cj4gKyAg
ICAgICAgdmNwdV91bmJsb2NrKHQtPnYpOwo+ICsgICAgICAgIHBlcmZjX2luY3IodnRpbWVyX3Zp
cnRfaW5qZWN0KTsKPiArICAgIH0KCkkgdGhpbmsgdGhlIGltcGxlbWVudGF0aW9uIG9mIHZpcnRf
dGltZXJfZXhwaXJlZCBjb3VsZCBvbmx5IGJlOgoKdmNwdV91bmxvY2soLi4uKTsKcGVyZmNfaW5j
cih2dGltZXJfdmlydF9pbmplY3QpOwoKPiAgIH0KPiAgIAo+ICAgaW50IGRvbWFpbl92dGltZXJf
aW5pdChzdHJ1Y3QgZG9tYWluICpkLCBzdHJ1Y3QgeGVuX2FyY2hfZG9tYWluY29uZmlnICpjb25m
aWcpCj4gQEAgLTk4LDkgKzEwOCwxNCBAQCBpbnQgZG9tYWluX3Z0aW1lcl9pbml0KHN0cnVjdCBk
b21haW4gKmQsIHN0cnVjdCB4ZW5fYXJjaF9kb21haW5jb25maWcgKmNvbmZpZykKPiAgIAo+ICAg
aW50IHZjcHVfdnRpbWVyX2luaXQoc3RydWN0IHZjcHUgKnYpCj4gICB7Cj4gKyNpZm5kZWYgQ09O
RklHX05FV19WR0lDCj4gKyAgICBzdHJ1Y3QgcGVuZGluZ19pcnEgKnA7Cj4gKyNlbmRpZgo+ICAg
ICAgIHN0cnVjdCB2dGltZXIgKnQgPSAmdi0+YXJjaC5waHlzX3RpbWVyOwo+ICAgICAgIGJvb2wg
ZDAgPSBpc19oYXJkd2FyZV9kb21haW4odi0+ZG9tYWluKTsKPiAgIAo+ICsgICAgY29uc3QgdW5z
aWduZWQgaG9zdF92dGltZXJfaXJxX3BwaSA9IHRpbWVyX2dldF9pcnEoVElNRVJfVklSVF9QUEkp
Owo+ICsKPiAgICAgICAvKgo+ICAgICAgICAqIEhhcmR3YXJlIGRvbWFpbiB1c2VzIHRoZSBoYXJk
d2FyZSBpbnRlcnJ1cHRzLCBndWVzdHMgZ2V0IHRoZSB2aXJ0dWFsCj4gICAgICAgICogcGxhdGZv
cm0uCj4gQEAgLTExOCwxMCArMTMzLDE4IEBAIGludCB2Y3B1X3Z0aW1lcl9pbml0KHN0cnVjdCB2
Y3B1ICp2KQo+ICAgICAgIGluaXRfdGltZXIoJnQtPnRpbWVyLCB2aXJ0X3RpbWVyX2V4cGlyZWQs
IHQsIHYtPnByb2Nlc3Nvcik7Cj4gICAgICAgdC0+Y3RsID0gMDsKPiAgICAgICB0LT5pcnEgPSBk
MAo+IC0gICAgICAgID8gdGltZXJfZ2V0X2lycShUSU1FUl9WSVJUX1BQSSkKPiArICAgICAgICA/
IGhvc3RfdnRpbWVyX2lycV9wcGkKPiAgICAgICAgICAgOiBHVUVTVF9USU1FUl9WSVJUX1BQSTsK
PiAgICAgICB0LT52ID0gdjsKPiAgIAo+ICsjaWZuZGVmIENPTkZJR19ORVdfVkdJQwo+ICsgICAg
cCA9IGlycV90b19wZW5kaW5nKHYsIHQtPmlycSk7Cj4gKyAgICBwLT5pcnEgPSB0LT5pcnE7Cj4g
KyNlbmRpZgoKcC0+aXJxIGlzIGluaXRpYWxpemVkIGJ5IHZjcHVfdmdpY19pbml0KCksIHNvIHdo
eSBkbyB5b3UgbmVlZCB0byAKb3ZlcnJpZGUgaXQ/Cgo+ICsKPiArICAgIGdpY19od3BwaV9zdGF0
ZV9pbml0KCZ2LT5hcmNoLnZpcnRfdGltZXIucHBpX3N0YXRlLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgaG9zdF92dGltZXJfaXJxX3BwaSk7Cj4gKwo+ICAgICAgIHYtPmFyY2gudnRpbWVy
X2luaXRpYWxpemVkID0gMTsKPiAgIAo+ICAgICAgIHJldHVybiAwOwo+IEBAIC0xNDksNiArMTcy
LDE2IEBAIHZvaWQgdmlydF90aW1lcl9zYXZlKHN0cnVjdCB2Y3B1ICp2KQo+ICAgICAgICAgICBz
ZXRfdGltZXIoJnYtPmFyY2gudmlydF90aW1lci50aW1lciwgdGlja3NfdG9fbnModi0+YXJjaC52
aXJ0X3RpbWVyLmN2YWwgKwo+ICAgICAgICAgICAgICAgICAgICAgdi0+ZG9tYWluLT5hcmNoLnZp
cnRfdGltZXJfYmFzZS5vZmZzZXQgLSBib290X2NvdW50KSk7Cj4gICAgICAgfQo+ICsKPiArICAg
IC8qCj4gKyAgICAgKiBTaW5jZSB0aGUgdnRpbWVyIGlycSBpcyBhIFBQSSB3ZSBkb24ndCBuZWVk
IHRvIHdvcnJ5IGFib3V0Cj4gKyAgICAgKiByYWNpbmcgYWdhaW5zdCBpdCBiZWNvbWluZyBhY3Rp
dmUgd2hpbGUgd2UgYXJlIHNhdmluZyB0aGUKPiArICAgICAqIHN0YXRlLCBzaW5jZSB0aGF0IHJl
cXVpcmVzIHRoZSBndWVzdCB0byBiZSByZWFkaW5nIHRoZSBJQVIsCj4gKyAgICAgKiBhcyBsb25n
IGFzIHRoZSBndWVzdCBpcyBub3QgdXNpbmcgSSpBQ1RJVkVSIHJlZ2lzdGVyIHdoaWNoIHdlCj4g
KyAgICAgKiBkb24ndCB5ZXQgaW1wbGVtZW50LgoKSSByZWFsbHkgZG9uJ3QgdGhpbmsgdGhpcyBp
cyB0aGUgY29ycmVjdCBwbGFjZSB0byBkb2N1bWVudCBpdC4gSWYgCnNvbWVvbmUgd2VyZSB0byBp
bXBsZW1lbnQgSSpBQ1RJVkVSIHRoZW4gdGhpcyB3b3VsZCBsaWtlbHkgYmUgbWlzc2VkLgoKQnV0
LCBpbiB0aGlzIGNhc2UsIEkgdGhpbmsgd2Ugc2hvdWxkIG5vdCByZWx5IGluIHRoZSB2dGltZXIg
YWJvdXQgdGhlIAppbXBsZW1lbnRhdGlvbiBvZiBJKkFDVElWRVIgYW5kIERUUlQgZnJvbSB0aGUg
c3RhcnQuCgo+ICsgICAgICovCj4gKyAgICBnaWNfc2F2ZV9hbmRfbWFza19od3BwaSh2LCB2LT5h
cmNoLnZpcnRfdGltZXIuaXJxLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnYtPmFy
Y2gudmlydF90aW1lci5wcGlfc3RhdGUpOwoKSSBhbSBub3QgZW50aXJlbHkgc3VyZSBvZiB0aGUg
b3JkZXJpbmcgaGVyZS4gRG9uJ3Qgd2Ugd2FudCB0byByZXN0b3JpbmcgCnRoZSBpbnRlcnJ1cHQg
c3RhdGUgZmlyc3QgYW5kIHRoZW4gdGhlIHRpbWVyIHJlZ2lzdGVycz8KCj4gICB9ID4KPiAgIHZv
aWQgdmlydF90aW1lcl9yZXN0b3JlKHN0cnVjdCB2Y3B1ICp2KQo+IEBAIC0xNjIsNiArMTk1LDEw
IEBAIHZvaWQgdmlydF90aW1lcl9yZXN0b3JlKHN0cnVjdCB2Y3B1ICp2KQo+ICAgICAgIFdSSVRF
X1NZU1JFRzY0KHYtPmRvbWFpbi0+YXJjaC52aXJ0X3RpbWVyX2Jhc2Uub2Zmc2V0LCBDTlRWT0ZG
X0VMMik7Cj4gICAgICAgV1JJVEVfU1lTUkVHNjQodi0+YXJjaC52aXJ0X3RpbWVyLmN2YWwsIENO
VFZfQ1ZBTF9FTDApOwo+ICAgICAgIFdSSVRFX1NZU1JFRzMyKHYtPmFyY2gudmlydF90aW1lci5j
dGwsIENOVFZfQ1RMX0VMMCk7Cj4gKwo+ICsgICAgZ2ljX3Jlc3RvcmVfaHdwcGkodiwKPiArICAg
ICAgICAgICAgICAgICAgICAgIHYtPmFyY2gudmlydF90aW1lci5pcnEsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAmdi0+YXJjaC52aXJ0X3RpbWVyLnBwaV9zdGF0ZSk7Cj4gICB9Cj4gICAKPiAg
IHN0YXRpYyBib29sIHZ0aW1lcl9jbnRwX2N0bChzdHJ1Y3QgY3B1X3VzZXJfcmVncyAqcmVncywg
dWludDMyX3QgKnIsIGJvb2wgcmVhZCkKPiBkaWZmIC0tZ2l0IGEveGVuL2luY2x1ZGUvYXNtLWFy
bS9kb21haW4uaCBiL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWluLmgKPiBpbmRleCBjM2Y0Y2Q1
MDY5Li5iOGZlMTQyOTYwIDEwMDY0NAo+IC0tLSBhL3hlbi9pbmNsdWRlL2FzbS1hcm0vZG9tYWlu
LmgKPiArKysgYi94ZW4vaW5jbHVkZS9hc20tYXJtL2RvbWFpbi5oCj4gQEAgLTUxLDYgKzUxLDcg
QEAgc3RydWN0IHZ0aW1lciB7Cj4gICAgICAgc3RydWN0IHRpbWVyIHRpbWVyOwo+ICAgICAgIHVp
bnQzMl90IGN0bDsKPiAgICAgICB1aW50NjRfdCBjdmFsOwo+ICsgICAgc3RydWN0IGh3cHBpX3N0
YXRlIHBwaV9zdGF0ZTsKPiAgIH07Cj4gICAKPiAgIHN0cnVjdCBhcmNoX2RvbWFpbgo+IGRpZmYg
LS1naXQgYS94ZW4vaW5jbHVkZS9hc20tYXJtL3BlcmZjX2RlZm4uaCBiL3hlbi9pbmNsdWRlL2Fz
bS1hcm0vcGVyZmNfZGVmbi5oCj4gaW5kZXggNmE4MzE4NTE2My4uMTk4ZGQ0ZWFkYiAxMDA2NDQK
PiAtLS0gYS94ZW4vaW5jbHVkZS9hc20tYXJtL3BlcmZjX2RlZm4uaAo+ICsrKyBiL3hlbi9pbmNs
dWRlL2FzbS1hcm0vcGVyZmNfZGVmbi5oCj4gQEAgLTcwLDcgKzcwLDYgQEAgUEVSRkNPVU5URVIo
Z3Vlc3RfaXJxcywgICAgICAgICAgICIjR1VFU1QtSVJRUyIpCj4gICAKPiAgIFBFUkZDT1VOVEVS
KGh5cF90aW1lcl9pcnFzLCAgICJIeXBlcnZpc29yIHRpbWVyIGludGVycnVwdHMiKQo+ICAgUEVS
RkNPVU5URVIocGh5c190aW1lcl9pcnFzLCAgIlBoeXNpY2FsIHRpbWVyIGludGVycnVwdHMiKQo+
IC1QRVJGQ09VTlRFUih2aXJ0X3RpbWVyX2lycXMsICAiVmlydHVhbCB0aW1lciBpbnRlcnJ1cHRz
IikKClBsZWFzZSBhZGQgYSB3b3JkIGluIHRoZSBjb21taXQgbWVzc2FnZSBleHBsYWluaW5nIHdo
eSB2aXJ0X3RpbWVyX2lycXMgCmlzIHJlbW92ZWQuCgo+ICAgUEVSRkNPVU5URVIobWFpbnRlbmFu
Y2VfaXJxcywgIk1haW50ZW5hbmNlIGludGVycnVwdHMiKQo+ICAgCj4gICBQRVJGQ09VTlRFUihh
dG9taWNzX2d1ZXN0LCAgICAiYXRvbWljczogZ3Vlc3QgYWNjZXNzIikKPiAKCkNoZWVycywKCi0t
IApKdWxpZW4gR3JhbGwKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fClhlbi1kZXZlbCBtYWlsaW5nIGxpc3QKWGVuLWRldmVsQGxpc3RzLnhlbnByb2plY3Qu
b3JnCmh0dHBzOi8vbGlzdHMueGVucHJvamVjdC5vcmcvbWFpbG1hbi9saXN0aW5mby94ZW4tZGV2
ZWw=
